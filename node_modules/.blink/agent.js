var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name17 in all)
    __defProp(target, name17, { get: all[name17], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/postgres-array/index.js
var require_postgres_array = __commonJS({
  "node_modules/postgres-array/index.js"(exports2) {
    "use strict";
    exports2.parse = function(source, transform2) {
      return new ArrayParser(source, transform2).parse();
    };
    var ArrayParser = class _ArrayParser {
      constructor(source, transform2) {
        this.source = source;
        this.transform = transform2 || identity;
        this.position = 0;
        this.entries = [];
        this.recorded = [];
        this.dimension = 0;
      }
      isEof() {
        return this.position >= this.source.length;
      }
      nextCharacter() {
        var character = this.source[this.position++];
        if (character === "\\") {
          return {
            value: this.source[this.position++],
            escaped: true
          };
        }
        return {
          value: character,
          escaped: false
        };
      }
      record(character) {
        this.recorded.push(character);
      }
      newEntry(includeEmpty) {
        var entry;
        if (this.recorded.length > 0 || includeEmpty) {
          entry = this.recorded.join("");
          if (entry === "NULL" && !includeEmpty) {
            entry = null;
          }
          if (entry !== null) entry = this.transform(entry);
          this.entries.push(entry);
          this.recorded = [];
        }
      }
      consumeDimensions() {
        if (this.source[0] === "[") {
          while (!this.isEof()) {
            var char = this.nextCharacter();
            if (char.value === "=") break;
          }
        }
      }
      parse(nested) {
        var character, parser, quote;
        this.consumeDimensions();
        while (!this.isEof()) {
          character = this.nextCharacter();
          if (character.value === "{" && !quote) {
            this.dimension++;
            if (this.dimension > 1) {
              parser = new _ArrayParser(this.source.substr(this.position - 1), this.transform);
              this.entries.push(parser.parse(true));
              this.position += parser.position - 2;
            }
          } else if (character.value === "}" && !quote) {
            this.dimension--;
            if (!this.dimension) {
              this.newEntry();
              if (nested) return this.entries;
            }
          } else if (character.value === '"' && !character.escaped) {
            if (quote) this.newEntry(true);
            quote = !quote;
          } else if (character.value === "," && !quote) {
            this.newEntry();
          } else {
            this.record(character.value);
          }
        }
        if (this.dimension !== 0) {
          throw new Error("array dimension not balanced");
        }
        return this.entries;
      }
    };
    function identity(value) {
      return value;
    }
  }
});

// node_modules/pg-types/lib/arrayParser.js
var require_arrayParser = __commonJS({
  "node_modules/pg-types/lib/arrayParser.js"(exports2, module2) {
    var array2 = require_postgres_array();
    module2.exports = {
      create: function(source, transform2) {
        return {
          parse: function() {
            return array2.parse(source, transform2);
          }
        };
      }
    };
  }
});

// node_modules/postgres-date/index.js
var require_postgres_date = __commonJS({
  "node_modules/postgres-date/index.js"(exports2, module2) {
    "use strict";
    var DATE_TIME = /(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/;
    var DATE = /^(\d{1,})-(\d{2})-(\d{2})( BC)?$/;
    var TIME_ZONE = /([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/;
    var INFINITY = /^-?infinity$/;
    module2.exports = function parseDate(isoDate) {
      if (INFINITY.test(isoDate)) {
        return Number(isoDate.replace("i", "I"));
      }
      var matches = DATE_TIME.exec(isoDate);
      if (!matches) {
        return getDate(isoDate) || null;
      }
      var isBC = !!matches[8];
      var year = parseInt(matches[1], 10);
      if (isBC) {
        year = bcYearToNegativeYear(year);
      }
      var month = parseInt(matches[2], 10) - 1;
      var day = matches[3];
      var hour = parseInt(matches[4], 10);
      var minute = parseInt(matches[5], 10);
      var second = parseInt(matches[6], 10);
      var ms = matches[7];
      ms = ms ? 1e3 * parseFloat(ms) : 0;
      var date5;
      var offset = timeZoneOffset(isoDate);
      if (offset != null) {
        date5 = new Date(Date.UTC(year, month, day, hour, minute, second, ms));
        if (is0To99(year)) {
          date5.setUTCFullYear(year);
        }
        if (offset !== 0) {
          date5.setTime(date5.getTime() - offset);
        }
      } else {
        date5 = new Date(year, month, day, hour, minute, second, ms);
        if (is0To99(year)) {
          date5.setFullYear(year);
        }
      }
      return date5;
    };
    function getDate(isoDate) {
      var matches = DATE.exec(isoDate);
      if (!matches) {
        return;
      }
      var year = parseInt(matches[1], 10);
      var isBC = !!matches[4];
      if (isBC) {
        year = bcYearToNegativeYear(year);
      }
      var month = parseInt(matches[2], 10) - 1;
      var day = matches[3];
      var date5 = new Date(year, month, day);
      if (is0To99(year)) {
        date5.setFullYear(year);
      }
      return date5;
    }
    function timeZoneOffset(isoDate) {
      if (isoDate.endsWith("+00")) {
        return 0;
      }
      var zone = TIME_ZONE.exec(isoDate.split(" ")[1]);
      if (!zone) return;
      var type = zone[1];
      if (type === "Z") {
        return 0;
      }
      var sign = type === "-" ? -1 : 1;
      var offset = parseInt(zone[2], 10) * 3600 + parseInt(zone[3] || 0, 10) * 60 + parseInt(zone[4] || 0, 10);
      return offset * sign * 1e3;
    }
    function bcYearToNegativeYear(year) {
      return -(year - 1);
    }
    function is0To99(num) {
      return num >= 0 && num < 100;
    }
  }
});

// node_modules/xtend/mutable.js
var require_mutable = __commonJS({
  "node_modules/xtend/mutable.js"(exports2, module2) {
    module2.exports = extend2;
    var hasOwnProperty = Object.prototype.hasOwnProperty;
    function extend2(target) {
      for (var i2 = 1; i2 < arguments.length; i2++) {
        var source = arguments[i2];
        for (var key in source) {
          if (hasOwnProperty.call(source, key)) {
            target[key] = source[key];
          }
        }
      }
      return target;
    }
  }
});

// node_modules/postgres-interval/index.js
var require_postgres_interval = __commonJS({
  "node_modules/postgres-interval/index.js"(exports2, module2) {
    "use strict";
    var extend2 = require_mutable();
    module2.exports = PostgresInterval;
    function PostgresInterval(raw) {
      if (!(this instanceof PostgresInterval)) {
        return new PostgresInterval(raw);
      }
      extend2(this, parse3(raw));
    }
    var properties = ["seconds", "minutes", "hours", "days", "months", "years"];
    PostgresInterval.prototype.toPostgres = function() {
      var filtered = properties.filter(this.hasOwnProperty, this);
      if (this.milliseconds && filtered.indexOf("seconds") < 0) {
        filtered.push("seconds");
      }
      if (filtered.length === 0) return "0";
      return filtered.map(function(property) {
        var value = this[property] || 0;
        if (property === "seconds" && this.milliseconds) {
          value = (value + this.milliseconds / 1e3).toFixed(6).replace(/\.?0+$/, "");
        }
        return value + " " + property;
      }, this).join(" ");
    };
    var propertiesISOEquivalent = {
      years: "Y",
      months: "M",
      days: "D",
      hours: "H",
      minutes: "M",
      seconds: "S"
    };
    var dateProperties = ["years", "months", "days"];
    var timeProperties = ["hours", "minutes", "seconds"];
    PostgresInterval.prototype.toISOString = PostgresInterval.prototype.toISO = function() {
      var datePart = dateProperties.map(buildProperty, this).join("");
      var timePart = timeProperties.map(buildProperty, this).join("");
      return "P" + datePart + "T" + timePart;
      function buildProperty(property) {
        var value = this[property] || 0;
        if (property === "seconds" && this.milliseconds) {
          value = (value + this.milliseconds / 1e3).toFixed(6).replace(/0+$/, "");
        }
        return value + propertiesISOEquivalent[property];
      }
    };
    var NUMBER = "([+-]?\\d+)";
    var YEAR = NUMBER + "\\s+years?";
    var MONTH = NUMBER + "\\s+mons?";
    var DAY = NUMBER + "\\s+days?";
    var TIME = "([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?";
    var INTERVAL = new RegExp([YEAR, MONTH, DAY, TIME].map(function(regexString) {
      return "(" + regexString + ")?";
    }).join("\\s*"));
    var positions = {
      years: 2,
      months: 4,
      days: 6,
      hours: 9,
      minutes: 10,
      seconds: 11,
      milliseconds: 12
    };
    var negatives = ["hours", "minutes", "seconds", "milliseconds"];
    function parseMilliseconds(fraction) {
      var microseconds = fraction + "000000".slice(fraction.length);
      return parseInt(microseconds, 10) / 1e3;
    }
    function parse3(interval) {
      if (!interval) return {};
      var matches = INTERVAL.exec(interval);
      var isNegative = matches[8] === "-";
      return Object.keys(positions).reduce(function(parsed, property) {
        var position = positions[property];
        var value = matches[position];
        if (!value) return parsed;
        value = property === "milliseconds" ? parseMilliseconds(value) : parseInt(value, 10);
        if (!value) return parsed;
        if (isNegative && ~negatives.indexOf(property)) {
          value *= -1;
        }
        parsed[property] = value;
        return parsed;
      }, {});
    }
  }
});

// node_modules/postgres-bytea/index.js
var require_postgres_bytea = __commonJS({
  "node_modules/postgres-bytea/index.js"(exports2, module2) {
    "use strict";
    module2.exports = function parseBytea(input) {
      if (/^\\x/.test(input)) {
        return new Buffer(input.substr(2), "hex");
      }
      var output = "";
      var i2 = 0;
      while (i2 < input.length) {
        if (input[i2] !== "\\") {
          output += input[i2];
          ++i2;
        } else {
          if (/[0-7]{3}/.test(input.substr(i2 + 1, 3))) {
            output += String.fromCharCode(parseInt(input.substr(i2 + 1, 3), 8));
            i2 += 4;
          } else {
            var backslashes = 1;
            while (i2 + backslashes < input.length && input[i2 + backslashes] === "\\") {
              backslashes++;
            }
            for (var k = 0; k < Math.floor(backslashes / 2); ++k) {
              output += "\\";
            }
            i2 += Math.floor(backslashes / 2) * 2;
          }
        }
      }
      return new Buffer(output, "binary");
    };
  }
});

// node_modules/pg-types/lib/textParsers.js
var require_textParsers = __commonJS({
  "node_modules/pg-types/lib/textParsers.js"(exports2, module2) {
    var array2 = require_postgres_array();
    var arrayParser = require_arrayParser();
    var parseDate = require_postgres_date();
    var parseInterval = require_postgres_interval();
    var parseByteA = require_postgres_bytea();
    function allowNull(fn) {
      return function nullAllowed(value) {
        if (value === null) return value;
        return fn(value);
      };
    }
    function parseBool(value) {
      if (value === null) return value;
      return value === "TRUE" || value === "t" || value === "true" || value === "y" || value === "yes" || value === "on" || value === "1";
    }
    function parseBoolArray(value) {
      if (!value) return null;
      return array2.parse(value, parseBool);
    }
    function parseBaseTenInt(string4) {
      return parseInt(string4, 10);
    }
    function parseIntegerArray(value) {
      if (!value) return null;
      return array2.parse(value, allowNull(parseBaseTenInt));
    }
    function parseBigIntegerArray(value) {
      if (!value) return null;
      return array2.parse(value, allowNull(function(entry) {
        return parseBigInteger(entry).trim();
      }));
    }
    var parsePointArray = function(value) {
      if (!value) {
        return null;
      }
      var p = arrayParser.create(value, function(entry) {
        if (entry !== null) {
          entry = parsePoint(entry);
        }
        return entry;
      });
      return p.parse();
    };
    var parseFloatArray = function(value) {
      if (!value) {
        return null;
      }
      var p = arrayParser.create(value, function(entry) {
        if (entry !== null) {
          entry = parseFloat(entry);
        }
        return entry;
      });
      return p.parse();
    };
    var parseStringArray = function(value) {
      if (!value) {
        return null;
      }
      var p = arrayParser.create(value);
      return p.parse();
    };
    var parseDateArray = function(value) {
      if (!value) {
        return null;
      }
      var p = arrayParser.create(value, function(entry) {
        if (entry !== null) {
          entry = parseDate(entry);
        }
        return entry;
      });
      return p.parse();
    };
    var parseIntervalArray = function(value) {
      if (!value) {
        return null;
      }
      var p = arrayParser.create(value, function(entry) {
        if (entry !== null) {
          entry = parseInterval(entry);
        }
        return entry;
      });
      return p.parse();
    };
    var parseByteAArray = function(value) {
      if (!value) {
        return null;
      }
      return array2.parse(value, allowNull(parseByteA));
    };
    var parseInteger = function(value) {
      return parseInt(value, 10);
    };
    var parseBigInteger = function(value) {
      var valStr = String(value);
      if (/^\d+$/.test(valStr)) {
        return valStr;
      }
      return value;
    };
    var parseJsonArray = function(value) {
      if (!value) {
        return null;
      }
      return array2.parse(value, allowNull(JSON.parse));
    };
    var parsePoint = function(value) {
      if (value[0] !== "(") {
        return null;
      }
      value = value.substring(1, value.length - 1).split(",");
      return {
        x: parseFloat(value[0]),
        y: parseFloat(value[1])
      };
    };
    var parseCircle = function(value) {
      if (value[0] !== "<" && value[1] !== "(") {
        return null;
      }
      var point = "(";
      var radius = "";
      var pointParsed = false;
      for (var i2 = 2; i2 < value.length - 1; i2++) {
        if (!pointParsed) {
          point += value[i2];
        }
        if (value[i2] === ")") {
          pointParsed = true;
          continue;
        } else if (!pointParsed) {
          continue;
        }
        if (value[i2] === ",") {
          continue;
        }
        radius += value[i2];
      }
      var result = parsePoint(point);
      result.radius = parseFloat(radius);
      return result;
    };
    var init = function(register) {
      register(20, parseBigInteger);
      register(21, parseInteger);
      register(23, parseInteger);
      register(26, parseInteger);
      register(700, parseFloat);
      register(701, parseFloat);
      register(16, parseBool);
      register(1082, parseDate);
      register(1114, parseDate);
      register(1184, parseDate);
      register(600, parsePoint);
      register(651, parseStringArray);
      register(718, parseCircle);
      register(1e3, parseBoolArray);
      register(1001, parseByteAArray);
      register(1005, parseIntegerArray);
      register(1007, parseIntegerArray);
      register(1028, parseIntegerArray);
      register(1016, parseBigIntegerArray);
      register(1017, parsePointArray);
      register(1021, parseFloatArray);
      register(1022, parseFloatArray);
      register(1231, parseFloatArray);
      register(1014, parseStringArray);
      register(1015, parseStringArray);
      register(1008, parseStringArray);
      register(1009, parseStringArray);
      register(1040, parseStringArray);
      register(1041, parseStringArray);
      register(1115, parseDateArray);
      register(1182, parseDateArray);
      register(1185, parseDateArray);
      register(1186, parseInterval);
      register(1187, parseIntervalArray);
      register(17, parseByteA);
      register(114, JSON.parse.bind(JSON));
      register(3802, JSON.parse.bind(JSON));
      register(199, parseJsonArray);
      register(3807, parseJsonArray);
      register(3907, parseStringArray);
      register(2951, parseStringArray);
      register(791, parseStringArray);
      register(1183, parseStringArray);
      register(1270, parseStringArray);
    };
    module2.exports = {
      init
    };
  }
});

// node_modules/pg-int8/index.js
var require_pg_int8 = __commonJS({
  "node_modules/pg-int8/index.js"(exports2, module2) {
    "use strict";
    var BASE = 1e6;
    function readInt8(buffer) {
      var high = buffer.readInt32BE(0);
      var low = buffer.readUInt32BE(4);
      var sign = "";
      if (high < 0) {
        high = ~high + (low === 0);
        low = ~low + 1 >>> 0;
        sign = "-";
      }
      var result = "";
      var carry;
      var t2;
      var digits;
      var pad;
      var l;
      var i2;
      {
        carry = high % BASE;
        high = high / BASE >>> 0;
        t2 = 4294967296 * carry + low;
        low = t2 / BASE >>> 0;
        digits = "" + (t2 - BASE * low);
        if (low === 0 && high === 0) {
          return sign + digits + result;
        }
        pad = "";
        l = 6 - digits.length;
        for (i2 = 0; i2 < l; i2++) {
          pad += "0";
        }
        result = pad + digits + result;
      }
      {
        carry = high % BASE;
        high = high / BASE >>> 0;
        t2 = 4294967296 * carry + low;
        low = t2 / BASE >>> 0;
        digits = "" + (t2 - BASE * low);
        if (low === 0 && high === 0) {
          return sign + digits + result;
        }
        pad = "";
        l = 6 - digits.length;
        for (i2 = 0; i2 < l; i2++) {
          pad += "0";
        }
        result = pad + digits + result;
      }
      {
        carry = high % BASE;
        high = high / BASE >>> 0;
        t2 = 4294967296 * carry + low;
        low = t2 / BASE >>> 0;
        digits = "" + (t2 - BASE * low);
        if (low === 0 && high === 0) {
          return sign + digits + result;
        }
        pad = "";
        l = 6 - digits.length;
        for (i2 = 0; i2 < l; i2++) {
          pad += "0";
        }
        result = pad + digits + result;
      }
      {
        carry = high % BASE;
        t2 = 4294967296 * carry + low;
        digits = "" + t2 % BASE;
        return sign + digits + result;
      }
    }
    module2.exports = readInt8;
  }
});

// node_modules/pg-types/lib/binaryParsers.js
var require_binaryParsers = __commonJS({
  "node_modules/pg-types/lib/binaryParsers.js"(exports2, module2) {
    var parseInt64 = require_pg_int8();
    var parseBits = function(data, bits, offset, invert, callback) {
      offset = offset || 0;
      invert = invert || false;
      callback = callback || function(lastValue, newValue, bits2) {
        return lastValue * Math.pow(2, bits2) + newValue;
      };
      var offsetBytes = offset >> 3;
      var inv = function(value) {
        if (invert) {
          return ~value & 255;
        }
        return value;
      };
      var mask = 255;
      var firstBits = 8 - offset % 8;
      if (bits < firstBits) {
        mask = 255 << 8 - bits & 255;
        firstBits = bits;
      }
      if (offset) {
        mask = mask >> offset % 8;
      }
      var result = 0;
      if (offset % 8 + bits >= 8) {
        result = callback(0, inv(data[offsetBytes]) & mask, firstBits);
      }
      var bytes = bits + offset >> 3;
      for (var i2 = offsetBytes + 1; i2 < bytes; i2++) {
        result = callback(result, inv(data[i2]), 8);
      }
      var lastBits = (bits + offset) % 8;
      if (lastBits > 0) {
        result = callback(result, inv(data[bytes]) >> 8 - lastBits, lastBits);
      }
      return result;
    };
    var parseFloatFromBits = function(data, precisionBits, exponentBits) {
      var bias = Math.pow(2, exponentBits - 1) - 1;
      var sign = parseBits(data, 1);
      var exponent = parseBits(data, exponentBits, 1);
      if (exponent === 0) {
        return 0;
      }
      var precisionBitsCounter = 1;
      var parsePrecisionBits = function(lastValue, newValue, bits) {
        if (lastValue === 0) {
          lastValue = 1;
        }
        for (var i2 = 1; i2 <= bits; i2++) {
          precisionBitsCounter /= 2;
          if ((newValue & 1 << bits - i2) > 0) {
            lastValue += precisionBitsCounter;
          }
        }
        return lastValue;
      };
      var mantissa = parseBits(data, precisionBits, exponentBits + 1, false, parsePrecisionBits);
      if (exponent == Math.pow(2, exponentBits + 1) - 1) {
        if (mantissa === 0) {
          return sign === 0 ? Infinity : -Infinity;
        }
        return NaN;
      }
      return (sign === 0 ? 1 : -1) * Math.pow(2, exponent - bias) * mantissa;
    };
    var parseInt16 = function(value) {
      if (parseBits(value, 1) == 1) {
        return -1 * (parseBits(value, 15, 1, true) + 1);
      }
      return parseBits(value, 15, 1);
    };
    var parseInt32 = function(value) {
      if (parseBits(value, 1) == 1) {
        return -1 * (parseBits(value, 31, 1, true) + 1);
      }
      return parseBits(value, 31, 1);
    };
    var parseFloat32 = function(value) {
      return parseFloatFromBits(value, 23, 8);
    };
    var parseFloat64 = function(value) {
      return parseFloatFromBits(value, 52, 11);
    };
    var parseNumeric = function(value) {
      var sign = parseBits(value, 16, 32);
      if (sign == 49152) {
        return NaN;
      }
      var weight = Math.pow(1e4, parseBits(value, 16, 16));
      var result = 0;
      var digits = [];
      var ndigits = parseBits(value, 16);
      for (var i2 = 0; i2 < ndigits; i2++) {
        result += parseBits(value, 16, 64 + 16 * i2) * weight;
        weight /= 1e4;
      }
      var scale = Math.pow(10, parseBits(value, 16, 48));
      return (sign === 0 ? 1 : -1) * Math.round(result * scale) / scale;
    };
    var parseDate = function(isUTC, value) {
      var sign = parseBits(value, 1);
      var rawValue = parseBits(value, 63, 1);
      var result = new Date((sign === 0 ? 1 : -1) * rawValue / 1e3 + 9466848e5);
      if (!isUTC) {
        result.setTime(result.getTime() + result.getTimezoneOffset() * 6e4);
      }
      result.usec = rawValue % 1e3;
      result.getMicroSeconds = function() {
        return this.usec;
      };
      result.setMicroSeconds = function(value2) {
        this.usec = value2;
      };
      result.getUTCMicroSeconds = function() {
        return this.usec;
      };
      return result;
    };
    var parseArray = function(value) {
      var dim = parseBits(value, 32);
      var flags = parseBits(value, 32, 32);
      var elementType = parseBits(value, 32, 64);
      var offset = 96;
      var dims = [];
      for (var i2 = 0; i2 < dim; i2++) {
        dims[i2] = parseBits(value, 32, offset);
        offset += 32;
        offset += 32;
      }
      var parseElement = function(elementType2) {
        var length = parseBits(value, 32, offset);
        offset += 32;
        if (length == 4294967295) {
          return null;
        }
        var result;
        if (elementType2 == 23 || elementType2 == 20) {
          result = parseBits(value, length * 8, offset);
          offset += length * 8;
          return result;
        } else if (elementType2 == 25) {
          result = value.toString(this.encoding, offset >> 3, (offset += length << 3) >> 3);
          return result;
        } else {
          console.log("ERROR: ElementType not implemented: " + elementType2);
        }
      };
      var parse3 = function(dimension, elementType2) {
        var array2 = [];
        var i3;
        if (dimension.length > 1) {
          var count = dimension.shift();
          for (i3 = 0; i3 < count; i3++) {
            array2[i3] = parse3(dimension, elementType2);
          }
          dimension.unshift(count);
        } else {
          for (i3 = 0; i3 < dimension[0]; i3++) {
            array2[i3] = parseElement(elementType2);
          }
        }
        return array2;
      };
      return parse3(dims, elementType);
    };
    var parseText = function(value) {
      return value.toString("utf8");
    };
    var parseBool = function(value) {
      if (value === null) return null;
      return parseBits(value, 8) > 0;
    };
    var init = function(register) {
      register(20, parseInt64);
      register(21, parseInt16);
      register(23, parseInt32);
      register(26, parseInt32);
      register(1700, parseNumeric);
      register(700, parseFloat32);
      register(701, parseFloat64);
      register(16, parseBool);
      register(1114, parseDate.bind(null, false));
      register(1184, parseDate.bind(null, true));
      register(1e3, parseArray);
      register(1007, parseArray);
      register(1016, parseArray);
      register(1008, parseArray);
      register(1009, parseArray);
      register(25, parseText);
    };
    module2.exports = {
      init
    };
  }
});

// node_modules/pg-types/lib/builtins.js
var require_builtins = __commonJS({
  "node_modules/pg-types/lib/builtins.js"(exports2, module2) {
    module2.exports = {
      BOOL: 16,
      BYTEA: 17,
      CHAR: 18,
      INT8: 20,
      INT2: 21,
      INT4: 23,
      REGPROC: 24,
      TEXT: 25,
      OID: 26,
      TID: 27,
      XID: 28,
      CID: 29,
      JSON: 114,
      XML: 142,
      PG_NODE_TREE: 194,
      SMGR: 210,
      PATH: 602,
      POLYGON: 604,
      CIDR: 650,
      FLOAT4: 700,
      FLOAT8: 701,
      ABSTIME: 702,
      RELTIME: 703,
      TINTERVAL: 704,
      CIRCLE: 718,
      MACADDR8: 774,
      MONEY: 790,
      MACADDR: 829,
      INET: 869,
      ACLITEM: 1033,
      BPCHAR: 1042,
      VARCHAR: 1043,
      DATE: 1082,
      TIME: 1083,
      TIMESTAMP: 1114,
      TIMESTAMPTZ: 1184,
      INTERVAL: 1186,
      TIMETZ: 1266,
      BIT: 1560,
      VARBIT: 1562,
      NUMERIC: 1700,
      REFCURSOR: 1790,
      REGPROCEDURE: 2202,
      REGOPER: 2203,
      REGOPERATOR: 2204,
      REGCLASS: 2205,
      REGTYPE: 2206,
      UUID: 2950,
      TXID_SNAPSHOT: 2970,
      PG_LSN: 3220,
      PG_NDISTINCT: 3361,
      PG_DEPENDENCIES: 3402,
      TSVECTOR: 3614,
      TSQUERY: 3615,
      GTSVECTOR: 3642,
      REGCONFIG: 3734,
      REGDICTIONARY: 3769,
      JSONB: 3802,
      REGNAMESPACE: 4089,
      REGROLE: 4096
    };
  }
});

// node_modules/pg-types/index.js
var require_pg_types = __commonJS({
  "node_modules/pg-types/index.js"(exports2) {
    var textParsers = require_textParsers();
    var binaryParsers = require_binaryParsers();
    var arrayParser = require_arrayParser();
    var builtinTypes = require_builtins();
    exports2.getTypeParser = getTypeParser;
    exports2.setTypeParser = setTypeParser;
    exports2.arrayParser = arrayParser;
    exports2.builtins = builtinTypes;
    var typeParsers = {
      text: {},
      binary: {}
    };
    function noParse(val) {
      return String(val);
    }
    function getTypeParser(oid, format) {
      format = format || "text";
      if (!typeParsers[format]) {
        return noParse;
      }
      return typeParsers[format][oid] || noParse;
    }
    function setTypeParser(oid, format, parseFn) {
      if (typeof format == "function") {
        parseFn = format;
        format = "text";
      }
      typeParsers[format][oid] = parseFn;
    }
    textParsers.init(function(oid, converter) {
      typeParsers.text[oid] = converter;
    });
    binaryParsers.init(function(oid, converter) {
      typeParsers.binary[oid] = converter;
    });
  }
});

// node_modules/pg/lib/defaults.js
var require_defaults = __commonJS({
  "node_modules/pg/lib/defaults.js"(exports2, module2) {
    "use strict";
    module2.exports = {
      // database host. defaults to localhost
      host: "localhost",
      // database user's name
      user: process.platform === "win32" ? process.env.USERNAME : process.env.USER,
      // name of database to connect
      database: void 0,
      // database user's password
      password: null,
      // a Postgres connection string to be used instead of setting individual connection items
      // NOTE:  Setting this value will cause it to override any other value (such as database or user) defined
      // in the defaults object.
      connectionString: void 0,
      // database port
      port: 5432,
      // number of rows to return at a time from a prepared statement's
      // portal. 0 will return all rows at once
      rows: 0,
      // binary result mode
      binary: false,
      // Connection pool options - see https://github.com/brianc/node-pg-pool
      // number of connections to use in connection pool
      // 0 will disable connection pooling
      max: 10,
      // max milliseconds a client can go unused before it is removed
      // from the pool and destroyed
      idleTimeoutMillis: 3e4,
      client_encoding: "",
      ssl: false,
      application_name: void 0,
      fallback_application_name: void 0,
      options: void 0,
      parseInputDatesAsUTC: false,
      // max milliseconds any query using this connection will execute for before timing out in error.
      // false=unlimited
      statement_timeout: false,
      // Abort any statement that waits longer than the specified duration in milliseconds while attempting to acquire a lock.
      // false=unlimited
      lock_timeout: false,
      // Terminate any session with an open transaction that has been idle for longer than the specified duration in milliseconds
      // false=unlimited
      idle_in_transaction_session_timeout: false,
      // max milliseconds to wait for query to complete (client side)
      query_timeout: false,
      connect_timeout: 0,
      keepalives: 1,
      keepalives_idle: 0
    };
    var pgTypes = require_pg_types();
    var parseBigInteger = pgTypes.getTypeParser(20, "text");
    var parseBigIntegerArray = pgTypes.getTypeParser(1016, "text");
    module2.exports.__defineSetter__("parseInt8", function(val) {
      pgTypes.setTypeParser(20, "text", val ? pgTypes.getTypeParser(23, "text") : parseBigInteger);
      pgTypes.setTypeParser(1016, "text", val ? pgTypes.getTypeParser(1007, "text") : parseBigIntegerArray);
    });
  }
});

// node_modules/pg/lib/utils.js
var require_utils = __commonJS({
  "node_modules/pg/lib/utils.js"(exports2, module2) {
    "use strict";
    var defaults2 = require_defaults();
    var util2 = require("util");
    var { isDate } = util2.types || util2;
    function escapeElement(elementRepresentation) {
      const escaped = elementRepresentation.replace(/\\/g, "\\\\").replace(/"/g, '\\"');
      return '"' + escaped + '"';
    }
    function arrayString(val) {
      let result = "{";
      for (let i2 = 0; i2 < val.length; i2++) {
        if (i2 > 0) {
          result = result + ",";
        }
        if (val[i2] === null || typeof val[i2] === "undefined") {
          result = result + "NULL";
        } else if (Array.isArray(val[i2])) {
          result = result + arrayString(val[i2]);
        } else if (ArrayBuffer.isView(val[i2])) {
          let item = val[i2];
          if (!(item instanceof Buffer)) {
            const buf = Buffer.from(item.buffer, item.byteOffset, item.byteLength);
            if (buf.length === item.byteLength) {
              item = buf;
            } else {
              item = buf.slice(item.byteOffset, item.byteOffset + item.byteLength);
            }
          }
          result += "\\\\x" + item.toString("hex");
        } else {
          result += escapeElement(prepareValue(val[i2]));
        }
      }
      result = result + "}";
      return result;
    }
    var prepareValue = function(val, seen) {
      if (val == null) {
        return null;
      }
      if (typeof val === "object") {
        if (val instanceof Buffer) {
          return val;
        }
        if (ArrayBuffer.isView(val)) {
          const buf = Buffer.from(val.buffer, val.byteOffset, val.byteLength);
          if (buf.length === val.byteLength) {
            return buf;
          }
          return buf.slice(val.byteOffset, val.byteOffset + val.byteLength);
        }
        if (isDate(val)) {
          if (defaults2.parseInputDatesAsUTC) {
            return dateToStringUTC(val);
          } else {
            return dateToString(val);
          }
        }
        if (Array.isArray(val)) {
          return arrayString(val);
        }
        return prepareObject(val, seen);
      }
      return val.toString();
    };
    function prepareObject(val, seen) {
      if (val && typeof val.toPostgres === "function") {
        seen = seen || [];
        if (seen.indexOf(val) !== -1) {
          throw new Error('circular reference detected while preparing "' + val + '" for query');
        }
        seen.push(val);
        return prepareValue(val.toPostgres(prepareValue), seen);
      }
      return JSON.stringify(val);
    }
    function dateToString(date5) {
      let offset = -date5.getTimezoneOffset();
      let year = date5.getFullYear();
      const isBCYear = year < 1;
      if (isBCYear) year = Math.abs(year) + 1;
      let ret = String(year).padStart(4, "0") + "-" + String(date5.getMonth() + 1).padStart(2, "0") + "-" + String(date5.getDate()).padStart(2, "0") + "T" + String(date5.getHours()).padStart(2, "0") + ":" + String(date5.getMinutes()).padStart(2, "0") + ":" + String(date5.getSeconds()).padStart(2, "0") + "." + String(date5.getMilliseconds()).padStart(3, "0");
      if (offset < 0) {
        ret += "-";
        offset *= -1;
      } else {
        ret += "+";
      }
      ret += String(Math.floor(offset / 60)).padStart(2, "0") + ":" + String(offset % 60).padStart(2, "0");
      if (isBCYear) ret += " BC";
      return ret;
    }
    function dateToStringUTC(date5) {
      let year = date5.getUTCFullYear();
      const isBCYear = year < 1;
      if (isBCYear) year = Math.abs(year) + 1;
      let ret = String(year).padStart(4, "0") + "-" + String(date5.getUTCMonth() + 1).padStart(2, "0") + "-" + String(date5.getUTCDate()).padStart(2, "0") + "T" + String(date5.getUTCHours()).padStart(2, "0") + ":" + String(date5.getUTCMinutes()).padStart(2, "0") + ":" + String(date5.getUTCSeconds()).padStart(2, "0") + "." + String(date5.getUTCMilliseconds()).padStart(3, "0");
      ret += "+00:00";
      if (isBCYear) ret += " BC";
      return ret;
    }
    function normalizeQueryConfig(config2, values, callback) {
      config2 = typeof config2 === "string" ? { text: config2 } : config2;
      if (values) {
        if (typeof values === "function") {
          config2.callback = values;
        } else {
          config2.values = values;
        }
      }
      if (callback) {
        config2.callback = callback;
      }
      return config2;
    }
    var escapeIdentifier2 = function(str) {
      return '"' + str.replace(/"/g, '""') + '"';
    };
    var escapeLiteral2 = function(str) {
      let hasBackslash = false;
      let escaped = "'";
      if (str == null) {
        return "''";
      }
      if (typeof str !== "string") {
        return "''";
      }
      for (let i2 = 0; i2 < str.length; i2++) {
        const c = str[i2];
        if (c === "'") {
          escaped += c + c;
        } else if (c === "\\") {
          escaped += c + c;
          hasBackslash = true;
        } else {
          escaped += c;
        }
      }
      escaped += "'";
      if (hasBackslash === true) {
        escaped = " E" + escaped;
      }
      return escaped;
    };
    module2.exports = {
      prepareValue: function prepareValueWrapper(value) {
        return prepareValue(value);
      },
      normalizeQueryConfig,
      escapeIdentifier: escapeIdentifier2,
      escapeLiteral: escapeLiteral2
    };
  }
});

// node_modules/pg/lib/crypto/utils-legacy.js
var require_utils_legacy = __commonJS({
  "node_modules/pg/lib/crypto/utils-legacy.js"(exports2, module2) {
    "use strict";
    var nodeCrypto = require("crypto");
    function md5(string4) {
      return nodeCrypto.createHash("md5").update(string4, "utf-8").digest("hex");
    }
    function postgresMd5PasswordHash(user, password, salt) {
      const inner = md5(password + user);
      const outer = md5(Buffer.concat([Buffer.from(inner), salt]));
      return "md5" + outer;
    }
    function sha256(text2) {
      return nodeCrypto.createHash("sha256").update(text2).digest();
    }
    function hashByName(hashName, text2) {
      hashName = hashName.replace(/(\D)-/, "$1");
      return nodeCrypto.createHash(hashName).update(text2).digest();
    }
    function hmacSha256(key, msg) {
      return nodeCrypto.createHmac("sha256", key).update(msg).digest();
    }
    async function deriveKey(password, salt, iterations) {
      return nodeCrypto.pbkdf2Sync(password, salt, iterations, 32, "sha256");
    }
    module2.exports = {
      postgresMd5PasswordHash,
      randomBytes: nodeCrypto.randomBytes,
      deriveKey,
      sha256,
      hashByName,
      hmacSha256,
      md5
    };
  }
});

// node_modules/pg/lib/crypto/utils-webcrypto.js
var require_utils_webcrypto = __commonJS({
  "node_modules/pg/lib/crypto/utils-webcrypto.js"(exports2, module2) {
    var nodeCrypto = require("crypto");
    module2.exports = {
      postgresMd5PasswordHash,
      randomBytes,
      deriveKey,
      sha256,
      hashByName,
      hmacSha256,
      md5
    };
    var webCrypto = nodeCrypto.webcrypto || globalThis.crypto;
    var subtleCrypto = webCrypto.subtle;
    var textEncoder = new TextEncoder();
    function randomBytes(length) {
      return webCrypto.getRandomValues(Buffer.alloc(length));
    }
    async function md5(string4) {
      try {
        return nodeCrypto.createHash("md5").update(string4, "utf-8").digest("hex");
      } catch (e2) {
        const data = typeof string4 === "string" ? textEncoder.encode(string4) : string4;
        const hash2 = await subtleCrypto.digest("MD5", data);
        return Array.from(new Uint8Array(hash2)).map((b) => b.toString(16).padStart(2, "0")).join("");
      }
    }
    async function postgresMd5PasswordHash(user, password, salt) {
      const inner = await md5(password + user);
      const outer = await md5(Buffer.concat([Buffer.from(inner), salt]));
      return "md5" + outer;
    }
    async function sha256(text2) {
      return await subtleCrypto.digest("SHA-256", text2);
    }
    async function hashByName(hashName, text2) {
      return await subtleCrypto.digest(hashName, text2);
    }
    async function hmacSha256(keyBuffer, msg) {
      const key = await subtleCrypto.importKey("raw", keyBuffer, { name: "HMAC", hash: "SHA-256" }, false, ["sign"]);
      return await subtleCrypto.sign("HMAC", key, textEncoder.encode(msg));
    }
    async function deriveKey(password, salt, iterations) {
      const key = await subtleCrypto.importKey("raw", textEncoder.encode(password), "PBKDF2", false, ["deriveBits"]);
      const params = { name: "PBKDF2", hash: "SHA-256", salt, iterations };
      return await subtleCrypto.deriveBits(params, key, 32 * 8, ["deriveBits"]);
    }
  }
});

// node_modules/pg/lib/crypto/utils.js
var require_utils2 = __commonJS({
  "node_modules/pg/lib/crypto/utils.js"(exports2, module2) {
    "use strict";
    var useLegacyCrypto = parseInt(process.versions && process.versions.node && process.versions.node.split(".")[0]) < 15;
    if (useLegacyCrypto) {
      module2.exports = require_utils_legacy();
    } else {
      module2.exports = require_utils_webcrypto();
    }
  }
});

// node_modules/pg/lib/crypto/cert-signatures.js
var require_cert_signatures = __commonJS({
  "node_modules/pg/lib/crypto/cert-signatures.js"(exports2, module2) {
    function x509Error(msg, cert) {
      return new Error("SASL channel binding: " + msg + " when parsing public certificate " + cert.toString("base64"));
    }
    function readASN1Length(data, index) {
      let length = data[index++];
      if (length < 128) return { length, index };
      const lengthBytes = length & 127;
      if (lengthBytes > 4) throw x509Error("bad length", data);
      length = 0;
      for (let i2 = 0; i2 < lengthBytes; i2++) {
        length = length << 8 | data[index++];
      }
      return { length, index };
    }
    function readASN1OID(data, index) {
      if (data[index++] !== 6) throw x509Error("non-OID data", data);
      const { length: OIDLength, index: indexAfterOIDLength } = readASN1Length(data, index);
      index = indexAfterOIDLength;
      const lastIndex = index + OIDLength;
      const byte1 = data[index++];
      let oid = (byte1 / 40 >> 0) + "." + byte1 % 40;
      while (index < lastIndex) {
        let value = 0;
        while (index < lastIndex) {
          const nextByte = data[index++];
          value = value << 7 | nextByte & 127;
          if (nextByte < 128) break;
        }
        oid += "." + value;
      }
      return { oid, index };
    }
    function expectASN1Seq(data, index) {
      if (data[index++] !== 48) throw x509Error("non-sequence data", data);
      return readASN1Length(data, index);
    }
    function signatureAlgorithmHashFromCertificate(data, index) {
      if (index === void 0) index = 0;
      index = expectASN1Seq(data, index).index;
      const { length: certInfoLength, index: indexAfterCertInfoLength } = expectASN1Seq(data, index);
      index = indexAfterCertInfoLength + certInfoLength;
      index = expectASN1Seq(data, index).index;
      const { oid, index: indexAfterOID } = readASN1OID(data, index);
      switch (oid) {
        // RSA
        case "1.2.840.113549.1.1.4":
          return "MD5";
        case "1.2.840.113549.1.1.5":
          return "SHA-1";
        case "1.2.840.113549.1.1.11":
          return "SHA-256";
        case "1.2.840.113549.1.1.12":
          return "SHA-384";
        case "1.2.840.113549.1.1.13":
          return "SHA-512";
        case "1.2.840.113549.1.1.14":
          return "SHA-224";
        case "1.2.840.113549.1.1.15":
          return "SHA512-224";
        case "1.2.840.113549.1.1.16":
          return "SHA512-256";
        // ECDSA
        case "1.2.840.10045.4.1":
          return "SHA-1";
        case "1.2.840.10045.4.3.1":
          return "SHA-224";
        case "1.2.840.10045.4.3.2":
          return "SHA-256";
        case "1.2.840.10045.4.3.3":
          return "SHA-384";
        case "1.2.840.10045.4.3.4":
          return "SHA-512";
        // RSASSA-PSS: hash is indicated separately
        case "1.2.840.113549.1.1.10": {
          index = indexAfterOID;
          index = expectASN1Seq(data, index).index;
          if (data[index++] !== 160) throw x509Error("non-tag data", data);
          index = readASN1Length(data, index).index;
          index = expectASN1Seq(data, index).index;
          const { oid: hashOID } = readASN1OID(data, index);
          switch (hashOID) {
            // standalone hash OIDs
            case "1.2.840.113549.2.5":
              return "MD5";
            case "1.3.14.3.2.26":
              return "SHA-1";
            case "2.16.840.1.101.3.4.2.1":
              return "SHA-256";
            case "2.16.840.1.101.3.4.2.2":
              return "SHA-384";
            case "2.16.840.1.101.3.4.2.3":
              return "SHA-512";
          }
          throw x509Error("unknown hash OID " + hashOID, data);
        }
        // Ed25519 -- see https: return//github.com/openssl/openssl/issues/15477
        case "1.3.101.110":
        case "1.3.101.112":
          return "SHA-512";
        // Ed448 -- still not in pg 17.2 (if supported, digest would be SHAKE256 x 64 bytes)
        case "1.3.101.111":
        case "1.3.101.113":
          throw x509Error("Ed448 certificate channel binding is not currently supported by Postgres");
      }
      throw x509Error("unknown OID " + oid, data);
    }
    module2.exports = { signatureAlgorithmHashFromCertificate };
  }
});

// node_modules/pg/lib/crypto/sasl.js
var require_sasl = __commonJS({
  "node_modules/pg/lib/crypto/sasl.js"(exports2, module2) {
    "use strict";
    var crypto = require_utils2();
    var { signatureAlgorithmHashFromCertificate } = require_cert_signatures();
    function startSession(mechanisms, stream) {
      const candidates = ["SCRAM-SHA-256"];
      if (stream) candidates.unshift("SCRAM-SHA-256-PLUS");
      const mechanism = candidates.find((candidate) => mechanisms.includes(candidate));
      if (!mechanism) {
        throw new Error("SASL: Only mechanism(s) " + candidates.join(" and ") + " are supported");
      }
      if (mechanism === "SCRAM-SHA-256-PLUS" && typeof stream.getPeerCertificate !== "function") {
        throw new Error("SASL: Mechanism SCRAM-SHA-256-PLUS requires a certificate");
      }
      const clientNonce = crypto.randomBytes(18).toString("base64");
      const gs2Header = mechanism === "SCRAM-SHA-256-PLUS" ? "p=tls-server-end-point" : stream ? "y" : "n";
      return {
        mechanism,
        clientNonce,
        response: gs2Header + ",,n=*,r=" + clientNonce,
        message: "SASLInitialResponse"
      };
    }
    async function continueSession(session, password, serverData, stream) {
      if (session.message !== "SASLInitialResponse") {
        throw new Error("SASL: Last message was not SASLInitialResponse");
      }
      if (typeof password !== "string") {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");
      }
      if (password === "") {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a non-empty string");
      }
      if (typeof serverData !== "string") {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");
      }
      const sv = parseServerFirstMessage(serverData);
      if (!sv.nonce.startsWith(session.clientNonce)) {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");
      } else if (sv.nonce.length === session.clientNonce.length) {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short");
      }
      const clientFirstMessageBare = "n=*,r=" + session.clientNonce;
      const serverFirstMessage = "r=" + sv.nonce + ",s=" + sv.salt + ",i=" + sv.iteration;
      let channelBinding = stream ? "eSws" : "biws";
      if (session.mechanism === "SCRAM-SHA-256-PLUS") {
        const peerCert = stream.getPeerCertificate().raw;
        let hashName = signatureAlgorithmHashFromCertificate(peerCert);
        if (hashName === "MD5" || hashName === "SHA-1") hashName = "SHA-256";
        const certHash = await crypto.hashByName(hashName, peerCert);
        const bindingData = Buffer.concat([Buffer.from("p=tls-server-end-point,,"), Buffer.from(certHash)]);
        channelBinding = bindingData.toString("base64");
      }
      const clientFinalMessageWithoutProof = "c=" + channelBinding + ",r=" + sv.nonce;
      const authMessage = clientFirstMessageBare + "," + serverFirstMessage + "," + clientFinalMessageWithoutProof;
      const saltBytes = Buffer.from(sv.salt, "base64");
      const saltedPassword = await crypto.deriveKey(password, saltBytes, sv.iteration);
      const clientKey = await crypto.hmacSha256(saltedPassword, "Client Key");
      const storedKey = await crypto.sha256(clientKey);
      const clientSignature = await crypto.hmacSha256(storedKey, authMessage);
      const clientProof = xorBuffers(Buffer.from(clientKey), Buffer.from(clientSignature)).toString("base64");
      const serverKey = await crypto.hmacSha256(saltedPassword, "Server Key");
      const serverSignatureBytes = await crypto.hmacSha256(serverKey, authMessage);
      session.message = "SASLResponse";
      session.serverSignature = Buffer.from(serverSignatureBytes).toString("base64");
      session.response = clientFinalMessageWithoutProof + ",p=" + clientProof;
    }
    function finalizeSession(session, serverData) {
      if (session.message !== "SASLResponse") {
        throw new Error("SASL: Last message was not SASLResponse");
      }
      if (typeof serverData !== "string") {
        throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");
      }
      const { serverSignature } = parseServerFinalMessage(serverData);
      if (serverSignature !== session.serverSignature) {
        throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match");
      }
    }
    function isPrintableChars(text2) {
      if (typeof text2 !== "string") {
        throw new TypeError("SASL: text must be a string");
      }
      return text2.split("").map((_, i2) => text2.charCodeAt(i2)).every((c) => c >= 33 && c <= 43 || c >= 45 && c <= 126);
    }
    function isBase64(text2) {
      return /^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(text2);
    }
    function parseAttributePairs(text2) {
      if (typeof text2 !== "string") {
        throw new TypeError("SASL: attribute pairs text must be a string");
      }
      return new Map(
        text2.split(",").map((attrValue) => {
          if (!/^.=/.test(attrValue)) {
            throw new Error("SASL: Invalid attribute pair entry");
          }
          const name17 = attrValue[0];
          const value = attrValue.substring(2);
          return [name17, value];
        })
      );
    }
    function parseServerFirstMessage(data) {
      const attrPairs = parseAttributePairs(data);
      const nonce = attrPairs.get("r");
      if (!nonce) {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");
      } else if (!isPrintableChars(nonce)) {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters");
      }
      const salt = attrPairs.get("s");
      if (!salt) {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");
      } else if (!isBase64(salt)) {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64");
      }
      const iterationText = attrPairs.get("i");
      if (!iterationText) {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");
      } else if (!/^[1-9][0-9]*$/.test(iterationText)) {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count");
      }
      const iteration = parseInt(iterationText, 10);
      return {
        nonce,
        salt,
        iteration
      };
    }
    function parseServerFinalMessage(serverData) {
      const attrPairs = parseAttributePairs(serverData);
      const serverSignature = attrPairs.get("v");
      if (!serverSignature) {
        throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");
      } else if (!isBase64(serverSignature)) {
        throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64");
      }
      return {
        serverSignature
      };
    }
    function xorBuffers(a2, b) {
      if (!Buffer.isBuffer(a2)) {
        throw new TypeError("first argument must be a Buffer");
      }
      if (!Buffer.isBuffer(b)) {
        throw new TypeError("second argument must be a Buffer");
      }
      if (a2.length !== b.length) {
        throw new Error("Buffer lengths must match");
      }
      if (a2.length === 0) {
        throw new Error("Buffers cannot be empty");
      }
      return Buffer.from(a2.map((_, i2) => a2[i2] ^ b[i2]));
    }
    module2.exports = {
      startSession,
      continueSession,
      finalizeSession
    };
  }
});

// node_modules/pg/lib/type-overrides.js
var require_type_overrides = __commonJS({
  "node_modules/pg/lib/type-overrides.js"(exports2, module2) {
    "use strict";
    var types2 = require_pg_types();
    function TypeOverrides2(userTypes) {
      this._types = userTypes || types2;
      this.text = {};
      this.binary = {};
    }
    TypeOverrides2.prototype.getOverrides = function(format) {
      switch (format) {
        case "text":
          return this.text;
        case "binary":
          return this.binary;
        default:
          return {};
      }
    };
    TypeOverrides2.prototype.setTypeParser = function(oid, format, parseFn) {
      if (typeof format === "function") {
        parseFn = format;
        format = "text";
      }
      this.getOverrides(format)[oid] = parseFn;
    };
    TypeOverrides2.prototype.getTypeParser = function(oid, format) {
      format = format || "text";
      return this.getOverrides(format)[oid] || this._types.getTypeParser(oid, format);
    };
    module2.exports = TypeOverrides2;
  }
});

// node_modules/pg-connection-string/index.js
var require_pg_connection_string = __commonJS({
  "node_modules/pg-connection-string/index.js"(exports2, module2) {
    "use strict";
    function parse3(str, options = {}) {
      if (str.charAt(0) === "/") {
        const config3 = str.split(" ");
        return { host: config3[0], database: config3[1] };
      }
      const config2 = {};
      let result;
      let dummyHost = false;
      if (/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(str)) {
        str = encodeURI(str).replace(/%25(\d\d)/g, "%$1");
      }
      try {
        try {
          result = new URL(str, "postgres://base");
        } catch (e2) {
          result = new URL(str.replace("@/", "@___DUMMY___/"), "postgres://base");
          dummyHost = true;
        }
      } catch (err) {
        err.input && (err.input = "*****REDACTED*****");
      }
      for (const entry of result.searchParams.entries()) {
        config2[entry[0]] = entry[1];
      }
      config2.user = config2.user || decodeURIComponent(result.username);
      config2.password = config2.password || decodeURIComponent(result.password);
      if (result.protocol == "socket:") {
        config2.host = decodeURI(result.pathname);
        config2.database = result.searchParams.get("db");
        config2.client_encoding = result.searchParams.get("encoding");
        return config2;
      }
      const hostname3 = dummyHost ? "" : result.hostname;
      if (!config2.host) {
        config2.host = decodeURIComponent(hostname3);
      } else if (hostname3 && /^%2f/i.test(hostname3)) {
        result.pathname = hostname3 + result.pathname;
      }
      if (!config2.port) {
        config2.port = result.port;
      }
      const pathname = result.pathname.slice(1) || null;
      config2.database = pathname ? decodeURI(pathname) : null;
      if (config2.ssl === "true" || config2.ssl === "1") {
        config2.ssl = true;
      }
      if (config2.ssl === "0") {
        config2.ssl = false;
      }
      if (config2.sslcert || config2.sslkey || config2.sslrootcert || config2.sslmode) {
        config2.ssl = {};
      }
      const fs = config2.sslcert || config2.sslkey || config2.sslrootcert ? require("fs") : null;
      if (config2.sslcert) {
        config2.ssl.cert = fs.readFileSync(config2.sslcert).toString();
      }
      if (config2.sslkey) {
        config2.ssl.key = fs.readFileSync(config2.sslkey).toString();
      }
      if (config2.sslrootcert) {
        config2.ssl.ca = fs.readFileSync(config2.sslrootcert).toString();
      }
      if (options.useLibpqCompat && config2.uselibpqcompat) {
        throw new Error("Both useLibpqCompat and uselibpqcompat are set. Please use only one of them.");
      }
      if (config2.uselibpqcompat === "true" || options.useLibpqCompat) {
        switch (config2.sslmode) {
          case "disable": {
            config2.ssl = false;
            break;
          }
          case "prefer": {
            config2.ssl.rejectUnauthorized = false;
            break;
          }
          case "require": {
            if (config2.sslrootcert) {
              config2.ssl.checkServerIdentity = function() {
              };
            } else {
              config2.ssl.rejectUnauthorized = false;
            }
            break;
          }
          case "verify-ca": {
            if (!config2.ssl.ca) {
              throw new Error(
                "SECURITY WARNING: Using sslmode=verify-ca requires specifying a CA with sslrootcert. If a public CA is used, verify-ca allows connections to a server that somebody else may have registered with the CA, making you vulnerable to Man-in-the-Middle attacks. Either specify a custom CA certificate with sslrootcert parameter or use sslmode=verify-full for proper security."
              );
            }
            config2.ssl.checkServerIdentity = function() {
            };
            break;
          }
          case "verify-full": {
            break;
          }
        }
      } else {
        switch (config2.sslmode) {
          case "disable": {
            config2.ssl = false;
            break;
          }
          case "prefer":
          case "require":
          case "verify-ca":
          case "verify-full": {
            break;
          }
          case "no-verify": {
            config2.ssl.rejectUnauthorized = false;
            break;
          }
        }
      }
      return config2;
    }
    function toConnectionOptions(sslConfig) {
      const connectionOptions = Object.entries(sslConfig).reduce((c, [key, value]) => {
        if (value !== void 0 && value !== null) {
          c[key] = value;
        }
        return c;
      }, {});
      return connectionOptions;
    }
    function toClientConfig(config2) {
      const poolConfig = Object.entries(config2).reduce((c, [key, value]) => {
        if (key === "ssl") {
          const sslConfig = value;
          if (typeof sslConfig === "boolean") {
            c[key] = sslConfig;
          }
          if (typeof sslConfig === "object") {
            c[key] = toConnectionOptions(sslConfig);
          }
        } else if (value !== void 0 && value !== null) {
          if (key === "port") {
            if (value !== "") {
              const v = parseInt(value, 10);
              if (isNaN(v)) {
                throw new Error(`Invalid ${key}: ${value}`);
              }
              c[key] = v;
            }
          } else {
            c[key] = value;
          }
        }
        return c;
      }, {});
      return poolConfig;
    }
    function parseIntoClientConfig(str) {
      return toClientConfig(parse3(str));
    }
    module2.exports = parse3;
    parse3.parse = parse3;
    parse3.toClientConfig = toClientConfig;
    parse3.parseIntoClientConfig = parseIntoClientConfig;
  }
});

// node_modules/pg/lib/connection-parameters.js
var require_connection_parameters = __commonJS({
  "node_modules/pg/lib/connection-parameters.js"(exports2, module2) {
    "use strict";
    var dns = require("dns");
    var defaults2 = require_defaults();
    var parse3 = require_pg_connection_string().parse;
    var val = function(key, config2, envVar) {
      if (envVar === void 0) {
        envVar = process.env["PG" + key.toUpperCase()];
      } else if (envVar === false) {
      } else {
        envVar = process.env[envVar];
      }
      return config2[key] || envVar || defaults2[key];
    };
    var readSSLConfigFromEnvironment = function() {
      switch (process.env.PGSSLMODE) {
        case "disable":
          return false;
        case "prefer":
        case "require":
        case "verify-ca":
        case "verify-full":
          return true;
        case "no-verify":
          return { rejectUnauthorized: false };
      }
      return defaults2.ssl;
    };
    var quoteParamValue = function(value) {
      return "'" + ("" + value).replace(/\\/g, "\\\\").replace(/'/g, "\\'") + "'";
    };
    var add = function(params, config2, paramName) {
      const value = config2[paramName];
      if (value !== void 0 && value !== null) {
        params.push(paramName + "=" + quoteParamValue(value));
      }
    };
    var ConnectionParameters = class {
      constructor(config2) {
        config2 = typeof config2 === "string" ? parse3(config2) : config2 || {};
        if (config2.connectionString) {
          config2 = Object.assign({}, config2, parse3(config2.connectionString));
        }
        this.user = val("user", config2);
        this.database = val("database", config2);
        if (this.database === void 0) {
          this.database = this.user;
        }
        this.port = parseInt(val("port", config2), 10);
        this.host = val("host", config2);
        Object.defineProperty(this, "password", {
          configurable: true,
          enumerable: false,
          writable: true,
          value: val("password", config2)
        });
        this.binary = val("binary", config2);
        this.options = val("options", config2);
        this.ssl = typeof config2.ssl === "undefined" ? readSSLConfigFromEnvironment() : config2.ssl;
        if (typeof this.ssl === "string") {
          if (this.ssl === "true") {
            this.ssl = true;
          }
        }
        if (this.ssl === "no-verify") {
          this.ssl = { rejectUnauthorized: false };
        }
        if (this.ssl && this.ssl.key) {
          Object.defineProperty(this.ssl, "key", {
            enumerable: false
          });
        }
        this.client_encoding = val("client_encoding", config2);
        this.replication = val("replication", config2);
        this.isDomainSocket = !(this.host || "").indexOf("/");
        this.application_name = val("application_name", config2, "PGAPPNAME");
        this.fallback_application_name = val("fallback_application_name", config2, false);
        this.statement_timeout = val("statement_timeout", config2, false);
        this.lock_timeout = val("lock_timeout", config2, false);
        this.idle_in_transaction_session_timeout = val("idle_in_transaction_session_timeout", config2, false);
        this.query_timeout = val("query_timeout", config2, false);
        if (config2.connectionTimeoutMillis === void 0) {
          this.connect_timeout = process.env.PGCONNECT_TIMEOUT || 0;
        } else {
          this.connect_timeout = Math.floor(config2.connectionTimeoutMillis / 1e3);
        }
        if (config2.keepAlive === false) {
          this.keepalives = 0;
        } else if (config2.keepAlive === true) {
          this.keepalives = 1;
        }
        if (typeof config2.keepAliveInitialDelayMillis === "number") {
          this.keepalives_idle = Math.floor(config2.keepAliveInitialDelayMillis / 1e3);
        }
      }
      getLibpqConnectionString(cb) {
        const params = [];
        add(params, this, "user");
        add(params, this, "password");
        add(params, this, "port");
        add(params, this, "application_name");
        add(params, this, "fallback_application_name");
        add(params, this, "connect_timeout");
        add(params, this, "options");
        const ssl = typeof this.ssl === "object" ? this.ssl : this.ssl ? { sslmode: this.ssl } : {};
        add(params, ssl, "sslmode");
        add(params, ssl, "sslca");
        add(params, ssl, "sslkey");
        add(params, ssl, "sslcert");
        add(params, ssl, "sslrootcert");
        if (this.database) {
          params.push("dbname=" + quoteParamValue(this.database));
        }
        if (this.replication) {
          params.push("replication=" + quoteParamValue(this.replication));
        }
        if (this.host) {
          params.push("host=" + quoteParamValue(this.host));
        }
        if (this.isDomainSocket) {
          return cb(null, params.join(" "));
        }
        if (this.client_encoding) {
          params.push("client_encoding=" + quoteParamValue(this.client_encoding));
        }
        dns.lookup(this.host, function(err, address) {
          if (err) return cb(err, null);
          params.push("hostaddr=" + quoteParamValue(address));
          return cb(null, params.join(" "));
        });
      }
    };
    module2.exports = ConnectionParameters;
  }
});

// node_modules/pg/lib/result.js
var require_result = __commonJS({
  "node_modules/pg/lib/result.js"(exports2, module2) {
    "use strict";
    var types2 = require_pg_types();
    var matchRegexp = /^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/;
    var Result2 = class {
      constructor(rowMode, types3) {
        this.command = null;
        this.rowCount = null;
        this.oid = null;
        this.rows = [];
        this.fields = [];
        this._parsers = void 0;
        this._types = types3;
        this.RowCtor = null;
        this.rowAsArray = rowMode === "array";
        if (this.rowAsArray) {
          this.parseRow = this._parseRowAsArray;
        }
        this._prebuiltEmptyResultObject = null;
      }
      // adds a command complete message
      addCommandComplete(msg) {
        let match;
        if (msg.text) {
          match = matchRegexp.exec(msg.text);
        } else {
          match = matchRegexp.exec(msg.command);
        }
        if (match) {
          this.command = match[1];
          if (match[3]) {
            this.oid = parseInt(match[2], 10);
            this.rowCount = parseInt(match[3], 10);
          } else if (match[2]) {
            this.rowCount = parseInt(match[2], 10);
          }
        }
      }
      _parseRowAsArray(rowData) {
        const row = new Array(rowData.length);
        for (let i2 = 0, len = rowData.length; i2 < len; i2++) {
          const rawValue = rowData[i2];
          if (rawValue !== null) {
            row[i2] = this._parsers[i2](rawValue);
          } else {
            row[i2] = null;
          }
        }
        return row;
      }
      parseRow(rowData) {
        const row = { ...this._prebuiltEmptyResultObject };
        for (let i2 = 0, len = rowData.length; i2 < len; i2++) {
          const rawValue = rowData[i2];
          const field = this.fields[i2].name;
          if (rawValue !== null) {
            const v = this.fields[i2].format === "binary" ? Buffer.from(rawValue) : rawValue;
            row[field] = this._parsers[i2](v);
          } else {
            row[field] = null;
          }
        }
        return row;
      }
      addRow(row) {
        this.rows.push(row);
      }
      addFields(fieldDescriptions) {
        this.fields = fieldDescriptions;
        if (this.fields.length) {
          this._parsers = new Array(fieldDescriptions.length);
        }
        const row = {};
        for (let i2 = 0; i2 < fieldDescriptions.length; i2++) {
          const desc = fieldDescriptions[i2];
          row[desc.name] = null;
          if (this._types) {
            this._parsers[i2] = this._types.getTypeParser(desc.dataTypeID, desc.format || "text");
          } else {
            this._parsers[i2] = types2.getTypeParser(desc.dataTypeID, desc.format || "text");
          }
        }
        this._prebuiltEmptyResultObject = { ...row };
      }
    };
    module2.exports = Result2;
  }
});

// node_modules/pg/lib/query.js
var require_query = __commonJS({
  "node_modules/pg/lib/query.js"(exports2, module2) {
    "use strict";
    var { EventEmitter } = require("events");
    var Result2 = require_result();
    var utils = require_utils();
    var Query2 = class extends EventEmitter {
      constructor(config2, values, callback) {
        super();
        config2 = utils.normalizeQueryConfig(config2, values, callback);
        this.text = config2.text;
        this.values = config2.values;
        this.rows = config2.rows;
        this.types = config2.types;
        this.name = config2.name;
        this.queryMode = config2.queryMode;
        this.binary = config2.binary;
        this.portal = config2.portal || "";
        this.callback = config2.callback;
        this._rowMode = config2.rowMode;
        if (process.domain && config2.callback) {
          this.callback = process.domain.bind(config2.callback);
        }
        this._result = new Result2(this._rowMode, this.types);
        this._results = this._result;
        this._canceledDueToError = false;
      }
      requiresPreparation() {
        if (this.queryMode === "extended") {
          return true;
        }
        if (this.name) {
          return true;
        }
        if (this.rows) {
          return true;
        }
        if (!this.text) {
          return false;
        }
        if (!this.values) {
          return false;
        }
        return this.values.length > 0;
      }
      _checkForMultirow() {
        if (this._result.command) {
          if (!Array.isArray(this._results)) {
            this._results = [this._result];
          }
          this._result = new Result2(this._rowMode, this._result._types);
          this._results.push(this._result);
        }
      }
      // associates row metadata from the supplied
      // message with this query object
      // metadata used when parsing row results
      handleRowDescription(msg) {
        this._checkForMultirow();
        this._result.addFields(msg.fields);
        this._accumulateRows = this.callback || !this.listeners("row").length;
      }
      handleDataRow(msg) {
        let row;
        if (this._canceledDueToError) {
          return;
        }
        try {
          row = this._result.parseRow(msg.fields);
        } catch (err) {
          this._canceledDueToError = err;
          return;
        }
        this.emit("row", row, this._result);
        if (this._accumulateRows) {
          this._result.addRow(row);
        }
      }
      handleCommandComplete(msg, connection) {
        this._checkForMultirow();
        this._result.addCommandComplete(msg);
        if (this.rows) {
          connection.sync();
        }
      }
      // if a named prepared statement is created with empty query text
      // the backend will send an emptyQuery message but *not* a command complete message
      // since we pipeline sync immediately after execute we don't need to do anything here
      // unless we have rows specified, in which case we did not pipeline the initial sync call
      handleEmptyQuery(connection) {
        if (this.rows) {
          connection.sync();
        }
      }
      handleError(err, connection) {
        if (this._canceledDueToError) {
          err = this._canceledDueToError;
          this._canceledDueToError = false;
        }
        if (this.callback) {
          return this.callback(err);
        }
        this.emit("error", err);
      }
      handleReadyForQuery(con) {
        if (this._canceledDueToError) {
          return this.handleError(this._canceledDueToError, con);
        }
        if (this.callback) {
          try {
            this.callback(null, this._results);
          } catch (err) {
            process.nextTick(() => {
              throw err;
            });
          }
        }
        this.emit("end", this._results);
      }
      submit(connection) {
        if (typeof this.text !== "string" && typeof this.name !== "string") {
          return new Error("A query must have either text or a name. Supplying neither is unsupported.");
        }
        const previous = connection.parsedStatements[this.name];
        if (this.text && previous && this.text !== previous) {
          return new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);
        }
        if (this.values && !Array.isArray(this.values)) {
          return new Error("Query values must be an array");
        }
        if (this.requiresPreparation()) {
          connection.stream.cork && connection.stream.cork();
          try {
            this.prepare(connection);
          } finally {
            connection.stream.uncork && connection.stream.uncork();
          }
        } else {
          connection.query(this.text);
        }
        return null;
      }
      hasBeenParsed(connection) {
        return this.name && connection.parsedStatements[this.name];
      }
      handlePortalSuspended(connection) {
        this._getRows(connection, this.rows);
      }
      _getRows(connection, rows) {
        connection.execute({
          portal: this.portal,
          rows
        });
        if (!rows) {
          connection.sync();
        } else {
          connection.flush();
        }
      }
      // http://developer.postgresql.org/pgdocs/postgres/protocol-flow.html#PROTOCOL-FLOW-EXT-QUERY
      prepare(connection) {
        if (!this.hasBeenParsed(connection)) {
          connection.parse({
            text: this.text,
            name: this.name,
            types: this.types
          });
        }
        try {
          connection.bind({
            portal: this.portal,
            statement: this.name,
            values: this.values,
            binary: this.binary,
            valueMapper: utils.prepareValue
          });
        } catch (err) {
          this.handleError(err, connection);
          return;
        }
        connection.describe({
          type: "P",
          name: this.portal || ""
        });
        this._getRows(connection, this.rows);
      }
      handleCopyInResponse(connection) {
        connection.sendCopyFail("No source stream defined");
      }
      handleCopyData(msg, connection) {
      }
    };
    module2.exports = Query2;
  }
});

// node_modules/pg-protocol/dist/messages.js
var require_messages = __commonJS({
  "node_modules/pg-protocol/dist/messages.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.NoticeMessage = exports2.DataRowMessage = exports2.CommandCompleteMessage = exports2.ReadyForQueryMessage = exports2.NotificationResponseMessage = exports2.BackendKeyDataMessage = exports2.AuthenticationMD5Password = exports2.ParameterStatusMessage = exports2.ParameterDescriptionMessage = exports2.RowDescriptionMessage = exports2.Field = exports2.CopyResponse = exports2.CopyDataMessage = exports2.DatabaseError = exports2.copyDone = exports2.emptyQuery = exports2.replicationStart = exports2.portalSuspended = exports2.noData = exports2.closeComplete = exports2.bindComplete = exports2.parseComplete = void 0;
    exports2.parseComplete = {
      name: "parseComplete",
      length: 5
    };
    exports2.bindComplete = {
      name: "bindComplete",
      length: 5
    };
    exports2.closeComplete = {
      name: "closeComplete",
      length: 5
    };
    exports2.noData = {
      name: "noData",
      length: 5
    };
    exports2.portalSuspended = {
      name: "portalSuspended",
      length: 5
    };
    exports2.replicationStart = {
      name: "replicationStart",
      length: 4
    };
    exports2.emptyQuery = {
      name: "emptyQuery",
      length: 4
    };
    exports2.copyDone = {
      name: "copyDone",
      length: 4
    };
    var DatabaseError2 = class extends Error {
      constructor(message, length, name17) {
        super(message);
        this.length = length;
        this.name = name17;
      }
    };
    exports2.DatabaseError = DatabaseError2;
    var CopyDataMessage = class {
      constructor(length, chunk) {
        this.length = length;
        this.chunk = chunk;
        this.name = "copyData";
      }
    };
    exports2.CopyDataMessage = CopyDataMessage;
    var CopyResponse = class {
      constructor(length, name17, binary, columnCount) {
        this.length = length;
        this.name = name17;
        this.binary = binary;
        this.columnTypes = new Array(columnCount);
      }
    };
    exports2.CopyResponse = CopyResponse;
    var Field = class {
      constructor(name17, tableID, columnID, dataTypeID, dataTypeSize, dataTypeModifier, format) {
        this.name = name17;
        this.tableID = tableID;
        this.columnID = columnID;
        this.dataTypeID = dataTypeID;
        this.dataTypeSize = dataTypeSize;
        this.dataTypeModifier = dataTypeModifier;
        this.format = format;
      }
    };
    exports2.Field = Field;
    var RowDescriptionMessage = class {
      constructor(length, fieldCount) {
        this.length = length;
        this.fieldCount = fieldCount;
        this.name = "rowDescription";
        this.fields = new Array(this.fieldCount);
      }
    };
    exports2.RowDescriptionMessage = RowDescriptionMessage;
    var ParameterDescriptionMessage = class {
      constructor(length, parameterCount) {
        this.length = length;
        this.parameterCount = parameterCount;
        this.name = "parameterDescription";
        this.dataTypeIDs = new Array(this.parameterCount);
      }
    };
    exports2.ParameterDescriptionMessage = ParameterDescriptionMessage;
    var ParameterStatusMessage = class {
      constructor(length, parameterName, parameterValue) {
        this.length = length;
        this.parameterName = parameterName;
        this.parameterValue = parameterValue;
        this.name = "parameterStatus";
      }
    };
    exports2.ParameterStatusMessage = ParameterStatusMessage;
    var AuthenticationMD5Password = class {
      constructor(length, salt) {
        this.length = length;
        this.salt = salt;
        this.name = "authenticationMD5Password";
      }
    };
    exports2.AuthenticationMD5Password = AuthenticationMD5Password;
    var BackendKeyDataMessage = class {
      constructor(length, processID, secretKey) {
        this.length = length;
        this.processID = processID;
        this.secretKey = secretKey;
        this.name = "backendKeyData";
      }
    };
    exports2.BackendKeyDataMessage = BackendKeyDataMessage;
    var NotificationResponseMessage = class {
      constructor(length, processId, channel, payload) {
        this.length = length;
        this.processId = processId;
        this.channel = channel;
        this.payload = payload;
        this.name = "notification";
      }
    };
    exports2.NotificationResponseMessage = NotificationResponseMessage;
    var ReadyForQueryMessage = class {
      constructor(length, status) {
        this.length = length;
        this.status = status;
        this.name = "readyForQuery";
      }
    };
    exports2.ReadyForQueryMessage = ReadyForQueryMessage;
    var CommandCompleteMessage = class {
      constructor(length, text2) {
        this.length = length;
        this.text = text2;
        this.name = "commandComplete";
      }
    };
    exports2.CommandCompleteMessage = CommandCompleteMessage;
    var DataRowMessage = class {
      constructor(length, fields) {
        this.length = length;
        this.fields = fields;
        this.name = "dataRow";
        this.fieldCount = fields.length;
      }
    };
    exports2.DataRowMessage = DataRowMessage;
    var NoticeMessage = class {
      constructor(length, message) {
        this.length = length;
        this.message = message;
        this.name = "notice";
      }
    };
    exports2.NoticeMessage = NoticeMessage;
  }
});

// node_modules/pg-protocol/dist/buffer-writer.js
var require_buffer_writer = __commonJS({
  "node_modules/pg-protocol/dist/buffer-writer.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.Writer = void 0;
    var Writer = class {
      constructor(size = 256) {
        this.size = size;
        this.offset = 5;
        this.headerPosition = 0;
        this.buffer = Buffer.allocUnsafe(size);
      }
      ensure(size) {
        const remaining = this.buffer.length - this.offset;
        if (remaining < size) {
          const oldBuffer = this.buffer;
          const newSize = oldBuffer.length + (oldBuffer.length >> 1) + size;
          this.buffer = Buffer.allocUnsafe(newSize);
          oldBuffer.copy(this.buffer);
        }
      }
      addInt32(num) {
        this.ensure(4);
        this.buffer[this.offset++] = num >>> 24 & 255;
        this.buffer[this.offset++] = num >>> 16 & 255;
        this.buffer[this.offset++] = num >>> 8 & 255;
        this.buffer[this.offset++] = num >>> 0 & 255;
        return this;
      }
      addInt16(num) {
        this.ensure(2);
        this.buffer[this.offset++] = num >>> 8 & 255;
        this.buffer[this.offset++] = num >>> 0 & 255;
        return this;
      }
      addCString(string4) {
        if (!string4) {
          this.ensure(1);
        } else {
          const len = Buffer.byteLength(string4);
          this.ensure(len + 1);
          this.buffer.write(string4, this.offset, "utf-8");
          this.offset += len;
        }
        this.buffer[this.offset++] = 0;
        return this;
      }
      addString(string4 = "") {
        const len = Buffer.byteLength(string4);
        this.ensure(len);
        this.buffer.write(string4, this.offset);
        this.offset += len;
        return this;
      }
      add(otherBuffer) {
        this.ensure(otherBuffer.length);
        otherBuffer.copy(this.buffer, this.offset);
        this.offset += otherBuffer.length;
        return this;
      }
      join(code) {
        if (code) {
          this.buffer[this.headerPosition] = code;
          const length = this.offset - (this.headerPosition + 1);
          this.buffer.writeInt32BE(length, this.headerPosition + 1);
        }
        return this.buffer.slice(code ? 0 : 5, this.offset);
      }
      flush(code) {
        const result = this.join(code);
        this.offset = 5;
        this.headerPosition = 0;
        this.buffer = Buffer.allocUnsafe(this.size);
        return result;
      }
    };
    exports2.Writer = Writer;
  }
});

// node_modules/pg-protocol/dist/serializer.js
var require_serializer = __commonJS({
  "node_modules/pg-protocol/dist/serializer.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.serialize = void 0;
    var buffer_writer_1 = require_buffer_writer();
    var writer = new buffer_writer_1.Writer();
    var startup = (opts) => {
      writer.addInt16(3).addInt16(0);
      for (const key of Object.keys(opts)) {
        writer.addCString(key).addCString(opts[key]);
      }
      writer.addCString("client_encoding").addCString("UTF8");
      const bodyBuffer = writer.addCString("").flush();
      const length = bodyBuffer.length + 4;
      return new buffer_writer_1.Writer().addInt32(length).add(bodyBuffer).flush();
    };
    var requestSsl = () => {
      const response = Buffer.allocUnsafe(8);
      response.writeInt32BE(8, 0);
      response.writeInt32BE(80877103, 4);
      return response;
    };
    var password = (password2) => {
      return writer.addCString(password2).flush(
        112
        /* code.startup */
      );
    };
    var sendSASLInitialResponseMessage = function(mechanism, initialResponse) {
      writer.addCString(mechanism).addInt32(Buffer.byteLength(initialResponse)).addString(initialResponse);
      return writer.flush(
        112
        /* code.startup */
      );
    };
    var sendSCRAMClientFinalMessage = function(additionalData) {
      return writer.addString(additionalData).flush(
        112
        /* code.startup */
      );
    };
    var query = (text2) => {
      return writer.addCString(text2).flush(
        81
        /* code.query */
      );
    };
    var emptyArray = [];
    var parse3 = (query2) => {
      const name17 = query2.name || "";
      if (name17.length > 63) {
        console.error("Warning! Postgres only supports 63 characters for query names.");
        console.error("You supplied %s (%s)", name17, name17.length);
        console.error("This can cause conflicts and silent errors executing queries");
      }
      const types2 = query2.types || emptyArray;
      const len = types2.length;
      const buffer = writer.addCString(name17).addCString(query2.text).addInt16(len);
      for (let i2 = 0; i2 < len; i2++) {
        buffer.addInt32(types2[i2]);
      }
      return writer.flush(
        80
        /* code.parse */
      );
    };
    var paramWriter = new buffer_writer_1.Writer();
    var writeValues = function(values, valueMapper) {
      for (let i2 = 0; i2 < values.length; i2++) {
        const mappedVal = valueMapper ? valueMapper(values[i2], i2) : values[i2];
        if (mappedVal == null) {
          writer.addInt16(
            0
            /* ParamType.STRING */
          );
          paramWriter.addInt32(-1);
        } else if (mappedVal instanceof Buffer) {
          writer.addInt16(
            1
            /* ParamType.BINARY */
          );
          paramWriter.addInt32(mappedVal.length);
          paramWriter.add(mappedVal);
        } else {
          writer.addInt16(
            0
            /* ParamType.STRING */
          );
          paramWriter.addInt32(Buffer.byteLength(mappedVal));
          paramWriter.addString(mappedVal);
        }
      }
    };
    var bind = (config2 = {}) => {
      const portal = config2.portal || "";
      const statement = config2.statement || "";
      const binary = config2.binary || false;
      const values = config2.values || emptyArray;
      const len = values.length;
      writer.addCString(portal).addCString(statement);
      writer.addInt16(len);
      writeValues(values, config2.valueMapper);
      writer.addInt16(len);
      writer.add(paramWriter.flush());
      writer.addInt16(1);
      writer.addInt16(
        binary ? 1 : 0
        /* ParamType.STRING */
      );
      return writer.flush(
        66
        /* code.bind */
      );
    };
    var emptyExecute = Buffer.from([69, 0, 0, 0, 9, 0, 0, 0, 0, 0]);
    var execute = (config2) => {
      if (!config2 || !config2.portal && !config2.rows) {
        return emptyExecute;
      }
      const portal = config2.portal || "";
      const rows = config2.rows || 0;
      const portalLength = Buffer.byteLength(portal);
      const len = 4 + portalLength + 1 + 4;
      const buff = Buffer.allocUnsafe(1 + len);
      buff[0] = 69;
      buff.writeInt32BE(len, 1);
      buff.write(portal, 5, "utf-8");
      buff[portalLength + 5] = 0;
      buff.writeUInt32BE(rows, buff.length - 4);
      return buff;
    };
    var cancel = (processID, secretKey) => {
      const buffer = Buffer.allocUnsafe(16);
      buffer.writeInt32BE(16, 0);
      buffer.writeInt16BE(1234, 4);
      buffer.writeInt16BE(5678, 6);
      buffer.writeInt32BE(processID, 8);
      buffer.writeInt32BE(secretKey, 12);
      return buffer;
    };
    var cstringMessage = (code, string4) => {
      const stringLen = Buffer.byteLength(string4);
      const len = 4 + stringLen + 1;
      const buffer = Buffer.allocUnsafe(1 + len);
      buffer[0] = code;
      buffer.writeInt32BE(len, 1);
      buffer.write(string4, 5, "utf-8");
      buffer[len] = 0;
      return buffer;
    };
    var emptyDescribePortal = writer.addCString("P").flush(
      68
      /* code.describe */
    );
    var emptyDescribeStatement = writer.addCString("S").flush(
      68
      /* code.describe */
    );
    var describe = (msg) => {
      return msg.name ? cstringMessage(68, `${msg.type}${msg.name || ""}`) : msg.type === "P" ? emptyDescribePortal : emptyDescribeStatement;
    };
    var close = (msg) => {
      const text2 = `${msg.type}${msg.name || ""}`;
      return cstringMessage(67, text2);
    };
    var copyData = (chunk) => {
      return writer.add(chunk).flush(
        100
        /* code.copyFromChunk */
      );
    };
    var copyFail = (message) => {
      return cstringMessage(102, message);
    };
    var codeOnlyBuffer = (code) => Buffer.from([code, 0, 0, 0, 4]);
    var flushBuffer = codeOnlyBuffer(
      72
      /* code.flush */
    );
    var syncBuffer = codeOnlyBuffer(
      83
      /* code.sync */
    );
    var endBuffer = codeOnlyBuffer(
      88
      /* code.end */
    );
    var copyDoneBuffer = codeOnlyBuffer(
      99
      /* code.copyDone */
    );
    var serialize = {
      startup,
      password,
      requestSsl,
      sendSASLInitialResponseMessage,
      sendSCRAMClientFinalMessage,
      query,
      parse: parse3,
      bind,
      execute,
      describe,
      close,
      flush: () => flushBuffer,
      sync: () => syncBuffer,
      end: () => endBuffer,
      copyData,
      copyDone: () => copyDoneBuffer,
      copyFail,
      cancel
    };
    exports2.serialize = serialize;
  }
});

// node_modules/pg-protocol/dist/buffer-reader.js
var require_buffer_reader = __commonJS({
  "node_modules/pg-protocol/dist/buffer-reader.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.BufferReader = void 0;
    var emptyBuffer = Buffer.allocUnsafe(0);
    var BufferReader = class {
      constructor(offset = 0) {
        this.offset = offset;
        this.buffer = emptyBuffer;
        this.encoding = "utf-8";
      }
      setBuffer(offset, buffer) {
        this.offset = offset;
        this.buffer = buffer;
      }
      int16() {
        const result = this.buffer.readInt16BE(this.offset);
        this.offset += 2;
        return result;
      }
      byte() {
        const result = this.buffer[this.offset];
        this.offset++;
        return result;
      }
      int32() {
        const result = this.buffer.readInt32BE(this.offset);
        this.offset += 4;
        return result;
      }
      uint32() {
        const result = this.buffer.readUInt32BE(this.offset);
        this.offset += 4;
        return result;
      }
      string(length) {
        const result = this.buffer.toString(this.encoding, this.offset, this.offset + length);
        this.offset += length;
        return result;
      }
      cstring() {
        const start = this.offset;
        let end = start;
        while (this.buffer[end++] !== 0) {
        }
        this.offset = end;
        return this.buffer.toString(this.encoding, start, end - 1);
      }
      bytes(length) {
        const result = this.buffer.slice(this.offset, this.offset + length);
        this.offset += length;
        return result;
      }
    };
    exports2.BufferReader = BufferReader;
  }
});

// node_modules/pg-protocol/dist/parser.js
var require_parser = __commonJS({
  "node_modules/pg-protocol/dist/parser.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.Parser = void 0;
    var messages_1 = require_messages();
    var buffer_reader_1 = require_buffer_reader();
    var CODE_LENGTH = 1;
    var LEN_LENGTH = 4;
    var HEADER_LENGTH = CODE_LENGTH + LEN_LENGTH;
    var emptyBuffer = Buffer.allocUnsafe(0);
    var Parser = class {
      constructor(opts) {
        this.buffer = emptyBuffer;
        this.bufferLength = 0;
        this.bufferOffset = 0;
        this.reader = new buffer_reader_1.BufferReader();
        if ((opts === null || opts === void 0 ? void 0 : opts.mode) === "binary") {
          throw new Error("Binary mode not supported yet");
        }
        this.mode = (opts === null || opts === void 0 ? void 0 : opts.mode) || "text";
      }
      parse(buffer, callback) {
        this.mergeBuffer(buffer);
        const bufferFullLength = this.bufferOffset + this.bufferLength;
        let offset = this.bufferOffset;
        while (offset + HEADER_LENGTH <= bufferFullLength) {
          const code = this.buffer[offset];
          const length = this.buffer.readUInt32BE(offset + CODE_LENGTH);
          const fullMessageLength = CODE_LENGTH + length;
          if (fullMessageLength + offset <= bufferFullLength) {
            const message = this.handlePacket(offset + HEADER_LENGTH, code, length, this.buffer);
            callback(message);
            offset += fullMessageLength;
          } else {
            break;
          }
        }
        if (offset === bufferFullLength) {
          this.buffer = emptyBuffer;
          this.bufferLength = 0;
          this.bufferOffset = 0;
        } else {
          this.bufferLength = bufferFullLength - offset;
          this.bufferOffset = offset;
        }
      }
      mergeBuffer(buffer) {
        if (this.bufferLength > 0) {
          const newLength = this.bufferLength + buffer.byteLength;
          const newFullLength = newLength + this.bufferOffset;
          if (newFullLength > this.buffer.byteLength) {
            let newBuffer;
            if (newLength <= this.buffer.byteLength && this.bufferOffset >= this.bufferLength) {
              newBuffer = this.buffer;
            } else {
              let newBufferLength = this.buffer.byteLength * 2;
              while (newLength >= newBufferLength) {
                newBufferLength *= 2;
              }
              newBuffer = Buffer.allocUnsafe(newBufferLength);
            }
            this.buffer.copy(newBuffer, 0, this.bufferOffset, this.bufferOffset + this.bufferLength);
            this.buffer = newBuffer;
            this.bufferOffset = 0;
          }
          buffer.copy(this.buffer, this.bufferOffset + this.bufferLength);
          this.bufferLength = newLength;
        } else {
          this.buffer = buffer;
          this.bufferOffset = 0;
          this.bufferLength = buffer.byteLength;
        }
      }
      handlePacket(offset, code, length, bytes) {
        switch (code) {
          case 50:
            return messages_1.bindComplete;
          case 49:
            return messages_1.parseComplete;
          case 51:
            return messages_1.closeComplete;
          case 110:
            return messages_1.noData;
          case 115:
            return messages_1.portalSuspended;
          case 99:
            return messages_1.copyDone;
          case 87:
            return messages_1.replicationStart;
          case 73:
            return messages_1.emptyQuery;
          case 68:
            return this.parseDataRowMessage(offset, length, bytes);
          case 67:
            return this.parseCommandCompleteMessage(offset, length, bytes);
          case 90:
            return this.parseReadyForQueryMessage(offset, length, bytes);
          case 65:
            return this.parseNotificationMessage(offset, length, bytes);
          case 82:
            return this.parseAuthenticationResponse(offset, length, bytes);
          case 83:
            return this.parseParameterStatusMessage(offset, length, bytes);
          case 75:
            return this.parseBackendKeyData(offset, length, bytes);
          case 69:
            return this.parseErrorMessage(offset, length, bytes, "error");
          case 78:
            return this.parseErrorMessage(offset, length, bytes, "notice");
          case 84:
            return this.parseRowDescriptionMessage(offset, length, bytes);
          case 116:
            return this.parseParameterDescriptionMessage(offset, length, bytes);
          case 71:
            return this.parseCopyInMessage(offset, length, bytes);
          case 72:
            return this.parseCopyOutMessage(offset, length, bytes);
          case 100:
            return this.parseCopyData(offset, length, bytes);
          default:
            return new messages_1.DatabaseError("received invalid response: " + code.toString(16), length, "error");
        }
      }
      parseReadyForQueryMessage(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const status = this.reader.string(1);
        return new messages_1.ReadyForQueryMessage(length, status);
      }
      parseCommandCompleteMessage(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const text2 = this.reader.cstring();
        return new messages_1.CommandCompleteMessage(length, text2);
      }
      parseCopyData(offset, length, bytes) {
        const chunk = bytes.slice(offset, offset + (length - 4));
        return new messages_1.CopyDataMessage(length, chunk);
      }
      parseCopyInMessage(offset, length, bytes) {
        return this.parseCopyMessage(offset, length, bytes, "copyInResponse");
      }
      parseCopyOutMessage(offset, length, bytes) {
        return this.parseCopyMessage(offset, length, bytes, "copyOutResponse");
      }
      parseCopyMessage(offset, length, bytes, messageName) {
        this.reader.setBuffer(offset, bytes);
        const isBinary = this.reader.byte() !== 0;
        const columnCount = this.reader.int16();
        const message = new messages_1.CopyResponse(length, messageName, isBinary, columnCount);
        for (let i2 = 0; i2 < columnCount; i2++) {
          message.columnTypes[i2] = this.reader.int16();
        }
        return message;
      }
      parseNotificationMessage(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const processId = this.reader.int32();
        const channel = this.reader.cstring();
        const payload = this.reader.cstring();
        return new messages_1.NotificationResponseMessage(length, processId, channel, payload);
      }
      parseRowDescriptionMessage(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const fieldCount = this.reader.int16();
        const message = new messages_1.RowDescriptionMessage(length, fieldCount);
        for (let i2 = 0; i2 < fieldCount; i2++) {
          message.fields[i2] = this.parseField();
        }
        return message;
      }
      parseField() {
        const name17 = this.reader.cstring();
        const tableID = this.reader.uint32();
        const columnID = this.reader.int16();
        const dataTypeID = this.reader.uint32();
        const dataTypeSize = this.reader.int16();
        const dataTypeModifier = this.reader.int32();
        const mode = this.reader.int16() === 0 ? "text" : "binary";
        return new messages_1.Field(name17, tableID, columnID, dataTypeID, dataTypeSize, dataTypeModifier, mode);
      }
      parseParameterDescriptionMessage(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const parameterCount = this.reader.int16();
        const message = new messages_1.ParameterDescriptionMessage(length, parameterCount);
        for (let i2 = 0; i2 < parameterCount; i2++) {
          message.dataTypeIDs[i2] = this.reader.int32();
        }
        return message;
      }
      parseDataRowMessage(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const fieldCount = this.reader.int16();
        const fields = new Array(fieldCount);
        for (let i2 = 0; i2 < fieldCount; i2++) {
          const len = this.reader.int32();
          fields[i2] = len === -1 ? null : this.reader.string(len);
        }
        return new messages_1.DataRowMessage(length, fields);
      }
      parseParameterStatusMessage(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const name17 = this.reader.cstring();
        const value = this.reader.cstring();
        return new messages_1.ParameterStatusMessage(length, name17, value);
      }
      parseBackendKeyData(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const processID = this.reader.int32();
        const secretKey = this.reader.int32();
        return new messages_1.BackendKeyDataMessage(length, processID, secretKey);
      }
      parseAuthenticationResponse(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const code = this.reader.int32();
        const message = {
          name: "authenticationOk",
          length
        };
        switch (code) {
          case 0:
            break;
          case 3:
            if (message.length === 8) {
              message.name = "authenticationCleartextPassword";
            }
            break;
          case 5:
            if (message.length === 12) {
              message.name = "authenticationMD5Password";
              const salt = this.reader.bytes(4);
              return new messages_1.AuthenticationMD5Password(length, salt);
            }
            break;
          case 10:
            {
              message.name = "authenticationSASL";
              message.mechanisms = [];
              let mechanism;
              do {
                mechanism = this.reader.cstring();
                if (mechanism) {
                  message.mechanisms.push(mechanism);
                }
              } while (mechanism);
            }
            break;
          case 11:
            message.name = "authenticationSASLContinue";
            message.data = this.reader.string(length - 8);
            break;
          case 12:
            message.name = "authenticationSASLFinal";
            message.data = this.reader.string(length - 8);
            break;
          default:
            throw new Error("Unknown authenticationOk message type " + code);
        }
        return message;
      }
      parseErrorMessage(offset, length, bytes, name17) {
        this.reader.setBuffer(offset, bytes);
        const fields = {};
        let fieldType = this.reader.string(1);
        while (fieldType !== "\0") {
          fields[fieldType] = this.reader.cstring();
          fieldType = this.reader.string(1);
        }
        const messageValue = fields.M;
        const message = name17 === "notice" ? new messages_1.NoticeMessage(length, messageValue) : new messages_1.DatabaseError(messageValue, length, name17);
        message.severity = fields.S;
        message.code = fields.C;
        message.detail = fields.D;
        message.hint = fields.H;
        message.position = fields.P;
        message.internalPosition = fields.p;
        message.internalQuery = fields.q;
        message.where = fields.W;
        message.schema = fields.s;
        message.table = fields.t;
        message.column = fields.c;
        message.dataType = fields.d;
        message.constraint = fields.n;
        message.file = fields.F;
        message.line = fields.L;
        message.routine = fields.R;
        return message;
      }
    };
    exports2.Parser = Parser;
  }
});

// node_modules/pg-protocol/dist/index.js
var require_dist = __commonJS({
  "node_modules/pg-protocol/dist/index.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.DatabaseError = exports2.serialize = exports2.parse = void 0;
    var messages_1 = require_messages();
    Object.defineProperty(exports2, "DatabaseError", { enumerable: true, get: function() {
      return messages_1.DatabaseError;
    } });
    var serializer_1 = require_serializer();
    Object.defineProperty(exports2, "serialize", { enumerable: true, get: function() {
      return serializer_1.serialize;
    } });
    var parser_1 = require_parser();
    function parse3(stream, callback) {
      const parser = new parser_1.Parser();
      stream.on("data", (buffer) => parser.parse(buffer, callback));
      return new Promise((resolve2) => stream.on("end", () => resolve2()));
    }
    exports2.parse = parse3;
  }
});

// node_modules/pg-cloudflare/dist/empty.js
var require_empty = __commonJS({
  "node_modules/pg-cloudflare/dist/empty.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.default = {};
  }
});

// node_modules/pg/lib/stream.js
var require_stream = __commonJS({
  "node_modules/pg/lib/stream.js"(exports2, module2) {
    var { getStream, getSecureStream } = getStreamFuncs();
    module2.exports = {
      /**
       * Get a socket stream compatible with the current runtime environment.
       * @returns {Duplex}
       */
      getStream,
      /**
       * Get a TLS secured socket, compatible with the current environment,
       * using the socket and other settings given in `options`.
       * @returns {Duplex}
       */
      getSecureStream
    };
    function getNodejsStreamFuncs() {
      function getStream2(ssl) {
        const net = require("net");
        return new net.Socket();
      }
      function getSecureStream2(options) {
        const tls = require("tls");
        return tls.connect(options);
      }
      return {
        getStream: getStream2,
        getSecureStream: getSecureStream2
      };
    }
    function getCloudflareStreamFuncs() {
      function getStream2(ssl) {
        const { CloudflareSocket } = require_empty();
        return new CloudflareSocket(ssl);
      }
      function getSecureStream2(options) {
        options.socket.startTls(options);
        return options.socket;
      }
      return {
        getStream: getStream2,
        getSecureStream: getSecureStream2
      };
    }
    function isCloudflareRuntime() {
      if (typeof navigator === "object" && navigator !== null && typeof navigator.userAgent === "string") {
        return navigator.userAgent === "Cloudflare-Workers";
      }
      if (typeof Response === "function") {
        const resp = new Response(null, { cf: { thing: true } });
        if (typeof resp.cf === "object" && resp.cf !== null && resp.cf.thing) {
          return true;
        }
      }
      return false;
    }
    function getStreamFuncs() {
      if (isCloudflareRuntime()) {
        return getCloudflareStreamFuncs();
      }
      return getNodejsStreamFuncs();
    }
  }
});

// node_modules/pg/lib/connection.js
var require_connection = __commonJS({
  "node_modules/pg/lib/connection.js"(exports2, module2) {
    "use strict";
    var EventEmitter = require("events").EventEmitter;
    var { parse: parse3, serialize } = require_dist();
    var { getStream, getSecureStream } = require_stream();
    var flushBuffer = serialize.flush();
    var syncBuffer = serialize.sync();
    var endBuffer = serialize.end();
    var Connection2 = class extends EventEmitter {
      constructor(config2) {
        super();
        config2 = config2 || {};
        this.stream = config2.stream || getStream(config2.ssl);
        if (typeof this.stream === "function") {
          this.stream = this.stream(config2);
        }
        this._keepAlive = config2.keepAlive;
        this._keepAliveInitialDelayMillis = config2.keepAliveInitialDelayMillis;
        this.lastBuffer = false;
        this.parsedStatements = {};
        this.ssl = config2.ssl || false;
        this._ending = false;
        this._emitMessage = false;
        const self = this;
        this.on("newListener", function(eventName) {
          if (eventName === "message") {
            self._emitMessage = true;
          }
        });
      }
      connect(port, host) {
        const self = this;
        this._connecting = true;
        this.stream.setNoDelay(true);
        this.stream.connect(port, host);
        this.stream.once("connect", function() {
          if (self._keepAlive) {
            self.stream.setKeepAlive(true, self._keepAliveInitialDelayMillis);
          }
          self.emit("connect");
        });
        const reportStreamError = function(error45) {
          if (self._ending && (error45.code === "ECONNRESET" || error45.code === "EPIPE")) {
            return;
          }
          self.emit("error", error45);
        };
        this.stream.on("error", reportStreamError);
        this.stream.on("close", function() {
          self.emit("end");
        });
        if (!this.ssl) {
          return this.attachListeners(this.stream);
        }
        this.stream.once("data", function(buffer) {
          const responseCode = buffer.toString("utf8");
          switch (responseCode) {
            case "S":
              break;
            case "N":
              self.stream.end();
              return self.emit("error", new Error("The server does not support SSL connections"));
            default:
              self.stream.end();
              return self.emit("error", new Error("There was an error establishing an SSL connection"));
          }
          const options = {
            socket: self.stream
          };
          if (self.ssl !== true) {
            Object.assign(options, self.ssl);
            if ("key" in self.ssl) {
              options.key = self.ssl.key;
            }
          }
          const net = require("net");
          if (net.isIP && net.isIP(host) === 0) {
            options.servername = host;
          }
          try {
            self.stream = getSecureStream(options);
          } catch (err) {
            return self.emit("error", err);
          }
          self.attachListeners(self.stream);
          self.stream.on("error", reportStreamError);
          self.emit("sslconnect");
        });
      }
      attachListeners(stream) {
        parse3(stream, (msg) => {
          const eventName = msg.name === "error" ? "errorMessage" : msg.name;
          if (this._emitMessage) {
            this.emit("message", msg);
          }
          this.emit(eventName, msg);
        });
      }
      requestSsl() {
        this.stream.write(serialize.requestSsl());
      }
      startup(config2) {
        this.stream.write(serialize.startup(config2));
      }
      cancel(processID, secretKey) {
        this._send(serialize.cancel(processID, secretKey));
      }
      password(password) {
        this._send(serialize.password(password));
      }
      sendSASLInitialResponseMessage(mechanism, initialResponse) {
        this._send(serialize.sendSASLInitialResponseMessage(mechanism, initialResponse));
      }
      sendSCRAMClientFinalMessage(additionalData) {
        this._send(serialize.sendSCRAMClientFinalMessage(additionalData));
      }
      _send(buffer) {
        if (!this.stream.writable) {
          return false;
        }
        return this.stream.write(buffer);
      }
      query(text2) {
        this._send(serialize.query(text2));
      }
      // send parse message
      parse(query) {
        this._send(serialize.parse(query));
      }
      // send bind message
      bind(config2) {
        this._send(serialize.bind(config2));
      }
      // send execute message
      execute(config2) {
        this._send(serialize.execute(config2));
      }
      flush() {
        if (this.stream.writable) {
          this.stream.write(flushBuffer);
        }
      }
      sync() {
        this._ending = true;
        this._send(syncBuffer);
      }
      ref() {
        this.stream.ref();
      }
      unref() {
        this.stream.unref();
      }
      end() {
        this._ending = true;
        if (!this._connecting || !this.stream.writable) {
          this.stream.end();
          return;
        }
        return this.stream.write(endBuffer, () => {
          this.stream.end();
        });
      }
      close(msg) {
        this._send(serialize.close(msg));
      }
      describe(msg) {
        this._send(serialize.describe(msg));
      }
      sendCopyFromChunk(chunk) {
        this._send(serialize.copyData(chunk));
      }
      endCopyFrom() {
        this._send(serialize.copyDone());
      }
      sendCopyFail(msg) {
        this._send(serialize.copyFail(msg));
      }
    };
    module2.exports = Connection2;
  }
});

// node_modules/split2/index.js
var require_split2 = __commonJS({
  "node_modules/split2/index.js"(exports2, module2) {
    "use strict";
    var { Transform } = require("stream");
    var { StringDecoder } = require("string_decoder");
    var kLast = Symbol("last");
    var kDecoder = Symbol("decoder");
    function transform2(chunk, enc, cb) {
      let list;
      if (this.overflow) {
        const buf = this[kDecoder].write(chunk);
        list = buf.split(this.matcher);
        if (list.length === 1) return cb();
        list.shift();
        this.overflow = false;
      } else {
        this[kLast] += this[kDecoder].write(chunk);
        list = this[kLast].split(this.matcher);
      }
      this[kLast] = list.pop();
      for (let i2 = 0; i2 < list.length; i2++) {
        try {
          push(this, this.mapper(list[i2]));
        } catch (error45) {
          return cb(error45);
        }
      }
      this.overflow = this[kLast].length > this.maxLength;
      if (this.overflow && !this.skipOverflow) {
        cb(new Error("maximum buffer reached"));
        return;
      }
      cb();
    }
    function flush(cb) {
      this[kLast] += this[kDecoder].end();
      if (this[kLast]) {
        try {
          push(this, this.mapper(this[kLast]));
        } catch (error45) {
          return cb(error45);
        }
      }
      cb();
    }
    function push(self, val) {
      if (val !== void 0) {
        self.push(val);
      }
    }
    function noop2(incoming) {
      return incoming;
    }
    function split(matcher, mapper, options) {
      matcher = matcher || /\r?\n/;
      mapper = mapper || noop2;
      options = options || {};
      switch (arguments.length) {
        case 1:
          if (typeof matcher === "function") {
            mapper = matcher;
            matcher = /\r?\n/;
          } else if (typeof matcher === "object" && !(matcher instanceof RegExp) && !matcher[Symbol.split]) {
            options = matcher;
            matcher = /\r?\n/;
          }
          break;
        case 2:
          if (typeof matcher === "function") {
            options = mapper;
            mapper = matcher;
            matcher = /\r?\n/;
          } else if (typeof mapper === "object") {
            options = mapper;
            mapper = noop2;
          }
      }
      options = Object.assign({}, options);
      options.autoDestroy = true;
      options.transform = transform2;
      options.flush = flush;
      options.readableObjectMode = true;
      const stream = new Transform(options);
      stream[kLast] = "";
      stream[kDecoder] = new StringDecoder("utf8");
      stream.matcher = matcher;
      stream.mapper = mapper;
      stream.maxLength = options.maxLength;
      stream.skipOverflow = options.skipOverflow || false;
      stream.overflow = false;
      stream._destroy = function(err, cb) {
        this._writableState.errorEmitted = false;
        cb(err);
      };
      return stream;
    }
    module2.exports = split;
  }
});

// node_modules/pgpass/lib/helper.js
var require_helper = __commonJS({
  "node_modules/pgpass/lib/helper.js"(exports2, module2) {
    "use strict";
    var path = require("path");
    var Stream = require("stream").Stream;
    var split = require_split2();
    var util2 = require("util");
    var defaultPort = 5432;
    var isWin = process.platform === "win32";
    var warnStream = process.stderr;
    var S_IRWXG = 56;
    var S_IRWXO = 7;
    var S_IFMT = 61440;
    var S_IFREG = 32768;
    function isRegFile(mode) {
      return (mode & S_IFMT) == S_IFREG;
    }
    var fieldNames = ["host", "port", "database", "user", "password"];
    var nrOfFields = fieldNames.length;
    var passKey = fieldNames[nrOfFields - 1];
    function warn() {
      var isWritable = warnStream instanceof Stream && true === warnStream.writable;
      if (isWritable) {
        var args = Array.prototype.slice.call(arguments).concat("\n");
        warnStream.write(util2.format.apply(util2, args));
      }
    }
    Object.defineProperty(module2.exports, "isWin", {
      get: function() {
        return isWin;
      },
      set: function(val) {
        isWin = val;
      }
    });
    module2.exports.warnTo = function(stream) {
      var old = warnStream;
      warnStream = stream;
      return old;
    };
    module2.exports.getFileName = function(rawEnv) {
      var env = rawEnv || process.env;
      var file2 = env.PGPASSFILE || (isWin ? path.join(env.APPDATA || "./", "postgresql", "pgpass.conf") : path.join(env.HOME || "./", ".pgpass"));
      return file2;
    };
    module2.exports.usePgPass = function(stats, fname) {
      if (Object.prototype.hasOwnProperty.call(process.env, "PGPASSWORD")) {
        return false;
      }
      if (isWin) {
        return true;
      }
      fname = fname || "<unkn>";
      if (!isRegFile(stats.mode)) {
        warn('WARNING: password file "%s" is not a plain file', fname);
        return false;
      }
      if (stats.mode & (S_IRWXG | S_IRWXO)) {
        warn('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less', fname);
        return false;
      }
      return true;
    };
    var matcher = module2.exports.match = function(connInfo, entry) {
      return fieldNames.slice(0, -1).reduce(function(prev, field, idx) {
        if (idx == 1) {
          if (Number(connInfo[field] || defaultPort) === Number(entry[field])) {
            return prev && true;
          }
        }
        return prev && (entry[field] === "*" || entry[field] === connInfo[field]);
      }, true);
    };
    module2.exports.getPassword = function(connInfo, stream, cb) {
      var pass;
      var lineStream = stream.pipe(split());
      function onLine(line) {
        var entry = parseLine(line);
        if (entry && isValidEntry(entry) && matcher(connInfo, entry)) {
          pass = entry[passKey];
          lineStream.end();
        }
      }
      var onEnd = function() {
        stream.destroy();
        cb(pass);
      };
      var onErr = function(err) {
        stream.destroy();
        warn("WARNING: error on reading file: %s", err);
        cb(void 0);
      };
      stream.on("error", onErr);
      lineStream.on("data", onLine).on("end", onEnd).on("error", onErr);
    };
    var parseLine = module2.exports.parseLine = function(line) {
      if (line.length < 11 || line.match(/^\s+#/)) {
        return null;
      }
      var curChar = "";
      var prevChar = "";
      var fieldIdx = 0;
      var startIdx = 0;
      var endIdx = 0;
      var obj = {};
      var isLastField = false;
      var addToObj = function(idx, i0, i1) {
        var field = line.substring(i0, i1);
        if (!Object.hasOwnProperty.call(process.env, "PGPASS_NO_DEESCAPE")) {
          field = field.replace(/\\([:\\])/g, "$1");
        }
        obj[fieldNames[idx]] = field;
      };
      for (var i2 = 0; i2 < line.length - 1; i2 += 1) {
        curChar = line.charAt(i2 + 1);
        prevChar = line.charAt(i2);
        isLastField = fieldIdx == nrOfFields - 1;
        if (isLastField) {
          addToObj(fieldIdx, startIdx);
          break;
        }
        if (i2 >= 0 && curChar == ":" && prevChar !== "\\") {
          addToObj(fieldIdx, startIdx, i2 + 1);
          startIdx = i2 + 2;
          fieldIdx += 1;
        }
      }
      obj = Object.keys(obj).length === nrOfFields ? obj : null;
      return obj;
    };
    var isValidEntry = module2.exports.isValidEntry = function(entry) {
      var rules = {
        // host
        0: function(x) {
          return x.length > 0;
        },
        // port
        1: function(x) {
          if (x === "*") {
            return true;
          }
          x = Number(x);
          return isFinite(x) && x > 0 && x < 9007199254740992 && Math.floor(x) === x;
        },
        // database
        2: function(x) {
          return x.length > 0;
        },
        // username
        3: function(x) {
          return x.length > 0;
        },
        // password
        4: function(x) {
          return x.length > 0;
        }
      };
      for (var idx = 0; idx < fieldNames.length; idx += 1) {
        var rule = rules[idx];
        var value = entry[fieldNames[idx]] || "";
        var res = rule(value);
        if (!res) {
          return false;
        }
      }
      return true;
    };
  }
});

// node_modules/pgpass/lib/index.js
var require_lib = __commonJS({
  "node_modules/pgpass/lib/index.js"(exports2, module2) {
    "use strict";
    var path = require("path");
    var fs = require("fs");
    var helper = require_helper();
    module2.exports = function(connInfo, cb) {
      var file2 = helper.getFileName();
      fs.stat(file2, function(err, stat) {
        if (err || !helper.usePgPass(stat, file2)) {
          return cb(void 0);
        }
        var st = fs.createReadStream(file2);
        helper.getPassword(connInfo, st, cb);
      });
    };
    module2.exports.warnTo = helper.warnTo;
  }
});

// node_modules/pg/lib/client.js
var require_client = __commonJS({
  "node_modules/pg/lib/client.js"(exports2, module2) {
    "use strict";
    var EventEmitter = require("events").EventEmitter;
    var utils = require_utils();
    var sasl = require_sasl();
    var TypeOverrides2 = require_type_overrides();
    var ConnectionParameters = require_connection_parameters();
    var Query2 = require_query();
    var defaults2 = require_defaults();
    var Connection2 = require_connection();
    var crypto = require_utils2();
    var Client2 = class extends EventEmitter {
      constructor(config2) {
        super();
        this.connectionParameters = new ConnectionParameters(config2);
        this.user = this.connectionParameters.user;
        this.database = this.connectionParameters.database;
        this.port = this.connectionParameters.port;
        this.host = this.connectionParameters.host;
        Object.defineProperty(this, "password", {
          configurable: true,
          enumerable: false,
          writable: true,
          value: this.connectionParameters.password
        });
        this.replication = this.connectionParameters.replication;
        const c = config2 || {};
        this._Promise = c.Promise || global.Promise;
        this._types = new TypeOverrides2(c.types);
        this._ending = false;
        this._ended = false;
        this._connecting = false;
        this._connected = false;
        this._connectionError = false;
        this._queryable = true;
        this.enableChannelBinding = Boolean(c.enableChannelBinding);
        this.connection = c.connection || new Connection2({
          stream: c.stream,
          ssl: this.connectionParameters.ssl,
          keepAlive: c.keepAlive || false,
          keepAliveInitialDelayMillis: c.keepAliveInitialDelayMillis || 0,
          encoding: this.connectionParameters.client_encoding || "utf8"
        });
        this.queryQueue = [];
        this.binary = c.binary || defaults2.binary;
        this.processID = null;
        this.secretKey = null;
        this.ssl = this.connectionParameters.ssl || false;
        if (this.ssl && this.ssl.key) {
          Object.defineProperty(this.ssl, "key", {
            enumerable: false
          });
        }
        this._connectionTimeoutMillis = c.connectionTimeoutMillis || 0;
      }
      _errorAllQueries(err) {
        const enqueueError = (query) => {
          process.nextTick(() => {
            query.handleError(err, this.connection);
          });
        };
        if (this.activeQuery) {
          enqueueError(this.activeQuery);
          this.activeQuery = null;
        }
        this.queryQueue.forEach(enqueueError);
        this.queryQueue.length = 0;
      }
      _connect(callback) {
        const self = this;
        const con = this.connection;
        this._connectionCallback = callback;
        if (this._connecting || this._connected) {
          const err = new Error("Client has already been connected. You cannot reuse a client.");
          process.nextTick(() => {
            callback(err);
          });
          return;
        }
        this._connecting = true;
        if (this._connectionTimeoutMillis > 0) {
          this.connectionTimeoutHandle = setTimeout(() => {
            con._ending = true;
            con.stream.destroy(new Error("timeout expired"));
          }, this._connectionTimeoutMillis);
          if (this.connectionTimeoutHandle.unref) {
            this.connectionTimeoutHandle.unref();
          }
        }
        if (this.host && this.host.indexOf("/") === 0) {
          con.connect(this.host + "/.s.PGSQL." + this.port);
        } else {
          con.connect(this.port, this.host);
        }
        con.on("connect", function() {
          if (self.ssl) {
            con.requestSsl();
          } else {
            con.startup(self.getStartupConf());
          }
        });
        con.on("sslconnect", function() {
          con.startup(self.getStartupConf());
        });
        this._attachListeners(con);
        con.once("end", () => {
          const error45 = this._ending ? new Error("Connection terminated") : new Error("Connection terminated unexpectedly");
          clearTimeout(this.connectionTimeoutHandle);
          this._errorAllQueries(error45);
          this._ended = true;
          if (!this._ending) {
            if (this._connecting && !this._connectionError) {
              if (this._connectionCallback) {
                this._connectionCallback(error45);
              } else {
                this._handleErrorEvent(error45);
              }
            } else if (!this._connectionError) {
              this._handleErrorEvent(error45);
            }
          }
          process.nextTick(() => {
            this.emit("end");
          });
        });
      }
      connect(callback) {
        if (callback) {
          this._connect(callback);
          return;
        }
        return new this._Promise((resolve2, reject) => {
          this._connect((error45) => {
            if (error45) {
              reject(error45);
            } else {
              resolve2();
            }
          });
        });
      }
      _attachListeners(con) {
        con.on("authenticationCleartextPassword", this._handleAuthCleartextPassword.bind(this));
        con.on("authenticationMD5Password", this._handleAuthMD5Password.bind(this));
        con.on("authenticationSASL", this._handleAuthSASL.bind(this));
        con.on("authenticationSASLContinue", this._handleAuthSASLContinue.bind(this));
        con.on("authenticationSASLFinal", this._handleAuthSASLFinal.bind(this));
        con.on("backendKeyData", this._handleBackendKeyData.bind(this));
        con.on("error", this._handleErrorEvent.bind(this));
        con.on("errorMessage", this._handleErrorMessage.bind(this));
        con.on("readyForQuery", this._handleReadyForQuery.bind(this));
        con.on("notice", this._handleNotice.bind(this));
        con.on("rowDescription", this._handleRowDescription.bind(this));
        con.on("dataRow", this._handleDataRow.bind(this));
        con.on("portalSuspended", this._handlePortalSuspended.bind(this));
        con.on("emptyQuery", this._handleEmptyQuery.bind(this));
        con.on("commandComplete", this._handleCommandComplete.bind(this));
        con.on("parseComplete", this._handleParseComplete.bind(this));
        con.on("copyInResponse", this._handleCopyInResponse.bind(this));
        con.on("copyData", this._handleCopyData.bind(this));
        con.on("notification", this._handleNotification.bind(this));
      }
      // TODO(bmc): deprecate pgpass "built in" integration since this.password can be a function
      // it can be supplied by the user if required - this is a breaking change!
      _checkPgPass(cb) {
        const con = this.connection;
        if (typeof this.password === "function") {
          this._Promise.resolve().then(() => this.password()).then((pass) => {
            if (pass !== void 0) {
              if (typeof pass !== "string") {
                con.emit("error", new TypeError("Password must be a string"));
                return;
              }
              this.connectionParameters.password = this.password = pass;
            } else {
              this.connectionParameters.password = this.password = null;
            }
            cb();
          }).catch((err) => {
            con.emit("error", err);
          });
        } else if (this.password !== null) {
          cb();
        } else {
          try {
            const pgPass = require_lib();
            pgPass(this.connectionParameters, (pass) => {
              if (void 0 !== pass) {
                this.connectionParameters.password = this.password = pass;
              }
              cb();
            });
          } catch (e2) {
            this.emit("error", e2);
          }
        }
      }
      _handleAuthCleartextPassword(msg) {
        this._checkPgPass(() => {
          this.connection.password(this.password);
        });
      }
      _handleAuthMD5Password(msg) {
        this._checkPgPass(async () => {
          try {
            const hashedPassword = await crypto.postgresMd5PasswordHash(this.user, this.password, msg.salt);
            this.connection.password(hashedPassword);
          } catch (e2) {
            this.emit("error", e2);
          }
        });
      }
      _handleAuthSASL(msg) {
        this._checkPgPass(() => {
          try {
            this.saslSession = sasl.startSession(msg.mechanisms, this.enableChannelBinding && this.connection.stream);
            this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism, this.saslSession.response);
          } catch (err) {
            this.connection.emit("error", err);
          }
        });
      }
      async _handleAuthSASLContinue(msg) {
        try {
          await sasl.continueSession(
            this.saslSession,
            this.password,
            msg.data,
            this.enableChannelBinding && this.connection.stream
          );
          this.connection.sendSCRAMClientFinalMessage(this.saslSession.response);
        } catch (err) {
          this.connection.emit("error", err);
        }
      }
      _handleAuthSASLFinal(msg) {
        try {
          sasl.finalizeSession(this.saslSession, msg.data);
          this.saslSession = null;
        } catch (err) {
          this.connection.emit("error", err);
        }
      }
      _handleBackendKeyData(msg) {
        this.processID = msg.processID;
        this.secretKey = msg.secretKey;
      }
      _handleReadyForQuery(msg) {
        if (this._connecting) {
          this._connecting = false;
          this._connected = true;
          clearTimeout(this.connectionTimeoutHandle);
          if (this._connectionCallback) {
            this._connectionCallback(null, this);
            this._connectionCallback = null;
          }
          this.emit("connect");
        }
        const { activeQuery } = this;
        this.activeQuery = null;
        this.readyForQuery = true;
        if (activeQuery) {
          activeQuery.handleReadyForQuery(this.connection);
        }
        this._pulseQueryQueue();
      }
      // if we receive an error event or error message
      // during the connection process we handle it here
      _handleErrorWhileConnecting(err) {
        if (this._connectionError) {
          return;
        }
        this._connectionError = true;
        clearTimeout(this.connectionTimeoutHandle);
        if (this._connectionCallback) {
          return this._connectionCallback(err);
        }
        this.emit("error", err);
      }
      // if we're connected and we receive an error event from the connection
      // this means the socket is dead - do a hard abort of all queries and emit
      // the socket error on the client as well
      _handleErrorEvent(err) {
        if (this._connecting) {
          return this._handleErrorWhileConnecting(err);
        }
        this._queryable = false;
        this._errorAllQueries(err);
        this.emit("error", err);
      }
      // handle error messages from the postgres backend
      _handleErrorMessage(msg) {
        if (this._connecting) {
          return this._handleErrorWhileConnecting(msg);
        }
        const activeQuery = this.activeQuery;
        if (!activeQuery) {
          this._handleErrorEvent(msg);
          return;
        }
        this.activeQuery = null;
        activeQuery.handleError(msg, this.connection);
      }
      _handleRowDescription(msg) {
        this.activeQuery.handleRowDescription(msg);
      }
      _handleDataRow(msg) {
        this.activeQuery.handleDataRow(msg);
      }
      _handlePortalSuspended(msg) {
        this.activeQuery.handlePortalSuspended(this.connection);
      }
      _handleEmptyQuery(msg) {
        this.activeQuery.handleEmptyQuery(this.connection);
      }
      _handleCommandComplete(msg) {
        if (this.activeQuery == null) {
          const error45 = new Error("Received unexpected commandComplete message from backend.");
          this._handleErrorEvent(error45);
          return;
        }
        this.activeQuery.handleCommandComplete(msg, this.connection);
      }
      _handleParseComplete() {
        if (this.activeQuery == null) {
          const error45 = new Error("Received unexpected parseComplete message from backend.");
          this._handleErrorEvent(error45);
          return;
        }
        if (this.activeQuery.name) {
          this.connection.parsedStatements[this.activeQuery.name] = this.activeQuery.text;
        }
      }
      _handleCopyInResponse(msg) {
        this.activeQuery.handleCopyInResponse(this.connection);
      }
      _handleCopyData(msg) {
        this.activeQuery.handleCopyData(msg, this.connection);
      }
      _handleNotification(msg) {
        this.emit("notification", msg);
      }
      _handleNotice(msg) {
        this.emit("notice", msg);
      }
      getStartupConf() {
        const params = this.connectionParameters;
        const data = {
          user: params.user,
          database: params.database
        };
        const appName = params.application_name || params.fallback_application_name;
        if (appName) {
          data.application_name = appName;
        }
        if (params.replication) {
          data.replication = "" + params.replication;
        }
        if (params.statement_timeout) {
          data.statement_timeout = String(parseInt(params.statement_timeout, 10));
        }
        if (params.lock_timeout) {
          data.lock_timeout = String(parseInt(params.lock_timeout, 10));
        }
        if (params.idle_in_transaction_session_timeout) {
          data.idle_in_transaction_session_timeout = String(parseInt(params.idle_in_transaction_session_timeout, 10));
        }
        if (params.options) {
          data.options = params.options;
        }
        return data;
      }
      cancel(client, query) {
        if (client.activeQuery === query) {
          const con = this.connection;
          if (this.host && this.host.indexOf("/") === 0) {
            con.connect(this.host + "/.s.PGSQL." + this.port);
          } else {
            con.connect(this.port, this.host);
          }
          con.on("connect", function() {
            con.cancel(client.processID, client.secretKey);
          });
        } else if (client.queryQueue.indexOf(query) !== -1) {
          client.queryQueue.splice(client.queryQueue.indexOf(query), 1);
        }
      }
      setTypeParser(oid, format, parseFn) {
        return this._types.setTypeParser(oid, format, parseFn);
      }
      getTypeParser(oid, format) {
        return this._types.getTypeParser(oid, format);
      }
      // escapeIdentifier and escapeLiteral moved to utility functions & exported
      // on PG
      // re-exported here for backwards compatibility
      escapeIdentifier(str) {
        return utils.escapeIdentifier(str);
      }
      escapeLiteral(str) {
        return utils.escapeLiteral(str);
      }
      _pulseQueryQueue() {
        if (this.readyForQuery === true) {
          this.activeQuery = this.queryQueue.shift();
          if (this.activeQuery) {
            this.readyForQuery = false;
            this.hasExecuted = true;
            const queryError = this.activeQuery.submit(this.connection);
            if (queryError) {
              process.nextTick(() => {
                this.activeQuery.handleError(queryError, this.connection);
                this.readyForQuery = true;
                this._pulseQueryQueue();
              });
            }
          } else if (this.hasExecuted) {
            this.activeQuery = null;
            this.emit("drain");
          }
        }
      }
      query(config2, values, callback) {
        let query;
        let result;
        let readTimeout;
        let readTimeoutTimer;
        let queryCallback;
        if (config2 === null || config2 === void 0) {
          throw new TypeError("Client was passed a null or undefined query");
        } else if (typeof config2.submit === "function") {
          readTimeout = config2.query_timeout || this.connectionParameters.query_timeout;
          result = query = config2;
          if (typeof values === "function") {
            query.callback = query.callback || values;
          }
        } else {
          readTimeout = config2.query_timeout || this.connectionParameters.query_timeout;
          query = new Query2(config2, values, callback);
          if (!query.callback) {
            result = new this._Promise((resolve2, reject) => {
              query.callback = (err, res) => err ? reject(err) : resolve2(res);
            }).catch((err) => {
              Error.captureStackTrace(err);
              throw err;
            });
          }
        }
        if (readTimeout) {
          queryCallback = query.callback;
          readTimeoutTimer = setTimeout(() => {
            const error45 = new Error("Query read timeout");
            process.nextTick(() => {
              query.handleError(error45, this.connection);
            });
            queryCallback(error45);
            query.callback = () => {
            };
            const index = this.queryQueue.indexOf(query);
            if (index > -1) {
              this.queryQueue.splice(index, 1);
            }
            this._pulseQueryQueue();
          }, readTimeout);
          query.callback = (err, res) => {
            clearTimeout(readTimeoutTimer);
            queryCallback(err, res);
          };
        }
        if (this.binary && !query.binary) {
          query.binary = true;
        }
        if (query._result && !query._result._types) {
          query._result._types = this._types;
        }
        if (!this._queryable) {
          process.nextTick(() => {
            query.handleError(new Error("Client has encountered a connection error and is not queryable"), this.connection);
          });
          return result;
        }
        if (this._ending) {
          process.nextTick(() => {
            query.handleError(new Error("Client was closed and is not queryable"), this.connection);
          });
          return result;
        }
        this.queryQueue.push(query);
        this._pulseQueryQueue();
        return result;
      }
      ref() {
        this.connection.ref();
      }
      unref() {
        this.connection.unref();
      }
      end(cb) {
        this._ending = true;
        if (!this.connection._connecting || this._ended) {
          if (cb) {
            cb();
          } else {
            return this._Promise.resolve();
          }
        }
        if (this.activeQuery || !this._queryable) {
          this.connection.stream.destroy();
        } else {
          this.connection.end();
        }
        if (cb) {
          this.connection.once("end", cb);
        } else {
          return new this._Promise((resolve2) => {
            this.connection.once("end", resolve2);
          });
        }
      }
    };
    Client2.Query = Query2;
    module2.exports = Client2;
  }
});

// node_modules/pg-pool/index.js
var require_pg_pool = __commonJS({
  "node_modules/pg-pool/index.js"(exports2, module2) {
    "use strict";
    var EventEmitter = require("events").EventEmitter;
    var NOOP = function() {
    };
    var removeWhere = (list, predicate) => {
      const i2 = list.findIndex(predicate);
      return i2 === -1 ? void 0 : list.splice(i2, 1)[0];
    };
    var IdleItem = class {
      constructor(client, idleListener, timeoutId) {
        this.client = client;
        this.idleListener = idleListener;
        this.timeoutId = timeoutId;
      }
    };
    var PendingItem = class {
      constructor(callback) {
        this.callback = callback;
      }
    };
    function throwOnDoubleRelease() {
      throw new Error("Release called on client which has already been released to the pool.");
    }
    function promisify(Promise2, callback) {
      if (callback) {
        return { callback, result: void 0 };
      }
      let rej;
      let res;
      const cb = function(err, client) {
        err ? rej(err) : res(client);
      };
      const result = new Promise2(function(resolve2, reject) {
        res = resolve2;
        rej = reject;
      }).catch((err) => {
        Error.captureStackTrace(err);
        throw err;
      });
      return { callback: cb, result };
    }
    function makeIdleListener(pool2, client) {
      return function idleListener(err) {
        err.client = client;
        client.removeListener("error", idleListener);
        client.on("error", () => {
          pool2.log("additional client error after disconnection due to error", err);
        });
        pool2._remove(client);
        pool2.emit("error", err, client);
      };
    }
    var Pool2 = class extends EventEmitter {
      constructor(options, Client2) {
        super();
        this.options = Object.assign({}, options);
        if (options != null && "password" in options) {
          Object.defineProperty(this.options, "password", {
            configurable: true,
            enumerable: false,
            writable: true,
            value: options.password
          });
        }
        if (options != null && options.ssl && options.ssl.key) {
          Object.defineProperty(this.options.ssl, "key", {
            enumerable: false
          });
        }
        this.options.max = this.options.max || this.options.poolSize || 10;
        this.options.min = this.options.min || 0;
        this.options.maxUses = this.options.maxUses || Infinity;
        this.options.allowExitOnIdle = this.options.allowExitOnIdle || false;
        this.options.maxLifetimeSeconds = this.options.maxLifetimeSeconds || 0;
        this.log = this.options.log || function() {
        };
        this.Client = this.options.Client || Client2 || require_lib2().Client;
        this.Promise = this.options.Promise || global.Promise;
        if (typeof this.options.idleTimeoutMillis === "undefined") {
          this.options.idleTimeoutMillis = 1e4;
        }
        this._clients = [];
        this._idle = [];
        this._expired = /* @__PURE__ */ new WeakSet();
        this._pendingQueue = [];
        this._endCallback = void 0;
        this.ending = false;
        this.ended = false;
      }
      _isFull() {
        return this._clients.length >= this.options.max;
      }
      _isAboveMin() {
        return this._clients.length > this.options.min;
      }
      _pulseQueue() {
        this.log("pulse queue");
        if (this.ended) {
          this.log("pulse queue ended");
          return;
        }
        if (this.ending) {
          this.log("pulse queue on ending");
          if (this._idle.length) {
            this._idle.slice().map((item) => {
              this._remove(item.client);
            });
          }
          if (!this._clients.length) {
            this.ended = true;
            this._endCallback();
          }
          return;
        }
        if (!this._pendingQueue.length) {
          this.log("no queued requests");
          return;
        }
        if (!this._idle.length && this._isFull()) {
          return;
        }
        const pendingItem = this._pendingQueue.shift();
        if (this._idle.length) {
          const idleItem = this._idle.pop();
          clearTimeout(idleItem.timeoutId);
          const client = idleItem.client;
          client.ref && client.ref();
          const idleListener = idleItem.idleListener;
          return this._acquireClient(client, pendingItem, idleListener, false);
        }
        if (!this._isFull()) {
          return this.newClient(pendingItem);
        }
        throw new Error("unexpected condition");
      }
      _remove(client, callback) {
        const removed = removeWhere(this._idle, (item) => item.client === client);
        if (removed !== void 0) {
          clearTimeout(removed.timeoutId);
        }
        this._clients = this._clients.filter((c) => c !== client);
        const context = this;
        client.end(() => {
          context.emit("remove", client);
          if (typeof callback === "function") {
            callback();
          }
        });
      }
      connect(cb) {
        if (this.ending) {
          const err = new Error("Cannot use a pool after calling end on the pool");
          return cb ? cb(err) : this.Promise.reject(err);
        }
        const response = promisify(this.Promise, cb);
        const result = response.result;
        if (this._isFull() || this._idle.length) {
          if (this._idle.length) {
            process.nextTick(() => this._pulseQueue());
          }
          if (!this.options.connectionTimeoutMillis) {
            this._pendingQueue.push(new PendingItem(response.callback));
            return result;
          }
          const queueCallback = (err, res, done) => {
            clearTimeout(tid);
            response.callback(err, res, done);
          };
          const pendingItem = new PendingItem(queueCallback);
          const tid = setTimeout(() => {
            removeWhere(this._pendingQueue, (i2) => i2.callback === queueCallback);
            pendingItem.timedOut = true;
            response.callback(new Error("timeout exceeded when trying to connect"));
          }, this.options.connectionTimeoutMillis);
          if (tid.unref) {
            tid.unref();
          }
          this._pendingQueue.push(pendingItem);
          return result;
        }
        this.newClient(new PendingItem(response.callback));
        return result;
      }
      newClient(pendingItem) {
        const client = new this.Client(this.options);
        this._clients.push(client);
        const idleListener = makeIdleListener(this, client);
        this.log("checking client timeout");
        let tid;
        let timeoutHit = false;
        if (this.options.connectionTimeoutMillis) {
          tid = setTimeout(() => {
            this.log("ending client due to timeout");
            timeoutHit = true;
            client.connection ? client.connection.stream.destroy() : client.end();
          }, this.options.connectionTimeoutMillis);
        }
        this.log("connecting new client");
        client.connect((err) => {
          if (tid) {
            clearTimeout(tid);
          }
          client.on("error", idleListener);
          if (err) {
            this.log("client failed to connect", err);
            this._clients = this._clients.filter((c) => c !== client);
            if (timeoutHit) {
              err = new Error("Connection terminated due to connection timeout", { cause: err });
            }
            this._pulseQueue();
            if (!pendingItem.timedOut) {
              pendingItem.callback(err, void 0, NOOP);
            }
          } else {
            this.log("new client connected");
            if (this.options.maxLifetimeSeconds !== 0) {
              const maxLifetimeTimeout = setTimeout(() => {
                this.log("ending client due to expired lifetime");
                this._expired.add(client);
                const idleIndex = this._idle.findIndex((idleItem) => idleItem.client === client);
                if (idleIndex !== -1) {
                  this._acquireClient(
                    client,
                    new PendingItem((err2, client2, clientRelease) => clientRelease()),
                    idleListener,
                    false
                  );
                }
              }, this.options.maxLifetimeSeconds * 1e3);
              maxLifetimeTimeout.unref();
              client.once("end", () => clearTimeout(maxLifetimeTimeout));
            }
            return this._acquireClient(client, pendingItem, idleListener, true);
          }
        });
      }
      // acquire a client for a pending work item
      _acquireClient(client, pendingItem, idleListener, isNew) {
        if (isNew) {
          this.emit("connect", client);
        }
        this.emit("acquire", client);
        client.release = this._releaseOnce(client, idleListener);
        client.removeListener("error", idleListener);
        if (!pendingItem.timedOut) {
          if (isNew && this.options.verify) {
            this.options.verify(client, (err) => {
              if (err) {
                client.release(err);
                return pendingItem.callback(err, void 0, NOOP);
              }
              pendingItem.callback(void 0, client, client.release);
            });
          } else {
            pendingItem.callback(void 0, client, client.release);
          }
        } else {
          if (isNew && this.options.verify) {
            this.options.verify(client, client.release);
          } else {
            client.release();
          }
        }
      }
      // returns a function that wraps _release and throws if called more than once
      _releaseOnce(client, idleListener) {
        let released = false;
        return (err) => {
          if (released) {
            throwOnDoubleRelease();
          }
          released = true;
          this._release(client, idleListener, err);
        };
      }
      // release a client back to the poll, include an error
      // to remove it from the pool
      _release(client, idleListener, err) {
        client.on("error", idleListener);
        client._poolUseCount = (client._poolUseCount || 0) + 1;
        this.emit("release", err, client);
        if (err || this.ending || !client._queryable || client._ending || client._poolUseCount >= this.options.maxUses) {
          if (client._poolUseCount >= this.options.maxUses) {
            this.log("remove expended client");
          }
          return this._remove(client, this._pulseQueue.bind(this));
        }
        const isExpired = this._expired.has(client);
        if (isExpired) {
          this.log("remove expired client");
          this._expired.delete(client);
          return this._remove(client, this._pulseQueue.bind(this));
        }
        let tid;
        if (this.options.idleTimeoutMillis && this._isAboveMin()) {
          tid = setTimeout(() => {
            this.log("remove idle client");
            this._remove(client, this._pulseQueue.bind(this));
          }, this.options.idleTimeoutMillis);
          if (this.options.allowExitOnIdle) {
            tid.unref();
          }
        }
        if (this.options.allowExitOnIdle) {
          client.unref();
        }
        this._idle.push(new IdleItem(client, idleListener, tid));
        this._pulseQueue();
      }
      query(text2, values, cb) {
        if (typeof text2 === "function") {
          const response2 = promisify(this.Promise, text2);
          setImmediate(function() {
            return response2.callback(new Error("Passing a function as the first parameter to pool.query is not supported"));
          });
          return response2.result;
        }
        if (typeof values === "function") {
          cb = values;
          values = void 0;
        }
        const response = promisify(this.Promise, cb);
        cb = response.callback;
        this.connect((err, client) => {
          if (err) {
            return cb(err);
          }
          let clientReleased = false;
          const onError = (err2) => {
            if (clientReleased) {
              return;
            }
            clientReleased = true;
            client.release(err2);
            cb(err2);
          };
          client.once("error", onError);
          this.log("dispatching query");
          try {
            client.query(text2, values, (err2, res) => {
              this.log("query dispatched");
              client.removeListener("error", onError);
              if (clientReleased) {
                return;
              }
              clientReleased = true;
              client.release(err2);
              if (err2) {
                return cb(err2);
              }
              return cb(void 0, res);
            });
          } catch (err2) {
            client.release(err2);
            return cb(err2);
          }
        });
        return response.result;
      }
      end(cb) {
        this.log("ending");
        if (this.ending) {
          const err = new Error("Called end on pool more than once");
          return cb ? cb(err) : this.Promise.reject(err);
        }
        this.ending = true;
        const promised = promisify(this.Promise, cb);
        this._endCallback = promised.callback;
        this._pulseQueue();
        return promised.result;
      }
      get waitingCount() {
        return this._pendingQueue.length;
      }
      get idleCount() {
        return this._idle.length;
      }
      get expiredCount() {
        return this._clients.reduce((acc, client) => acc + (this._expired.has(client) ? 1 : 0), 0);
      }
      get totalCount() {
        return this._clients.length;
      }
    };
    module2.exports = Pool2;
  }
});

// node_modules/pg/lib/native/query.js
var require_query2 = __commonJS({
  "node_modules/pg/lib/native/query.js"(exports2, module2) {
    "use strict";
    var EventEmitter = require("events").EventEmitter;
    var util2 = require("util");
    var utils = require_utils();
    var NativeQuery = module2.exports = function(config2, values, callback) {
      EventEmitter.call(this);
      config2 = utils.normalizeQueryConfig(config2, values, callback);
      this.text = config2.text;
      this.values = config2.values;
      this.name = config2.name;
      this.queryMode = config2.queryMode;
      this.callback = config2.callback;
      this.state = "new";
      this._arrayMode = config2.rowMode === "array";
      this._emitRowEvents = false;
      this.on(
        "newListener",
        function(event) {
          if (event === "row") this._emitRowEvents = true;
        }.bind(this)
      );
    };
    util2.inherits(NativeQuery, EventEmitter);
    var errorFieldMap = {
      sqlState: "code",
      statementPosition: "position",
      messagePrimary: "message",
      context: "where",
      schemaName: "schema",
      tableName: "table",
      columnName: "column",
      dataTypeName: "dataType",
      constraintName: "constraint",
      sourceFile: "file",
      sourceLine: "line",
      sourceFunction: "routine"
    };
    NativeQuery.prototype.handleError = function(err) {
      const fields = this.native.pq.resultErrorFields();
      if (fields) {
        for (const key in fields) {
          const normalizedFieldName = errorFieldMap[key] || key;
          err[normalizedFieldName] = fields[key];
        }
      }
      if (this.callback) {
        this.callback(err);
      } else {
        this.emit("error", err);
      }
      this.state = "error";
    };
    NativeQuery.prototype.then = function(onSuccess, onFailure) {
      return this._getPromise().then(onSuccess, onFailure);
    };
    NativeQuery.prototype.catch = function(callback) {
      return this._getPromise().catch(callback);
    };
    NativeQuery.prototype._getPromise = function() {
      if (this._promise) return this._promise;
      this._promise = new Promise(
        function(resolve2, reject) {
          this._once("end", resolve2);
          this._once("error", reject);
        }.bind(this)
      );
      return this._promise;
    };
    NativeQuery.prototype.submit = function(client) {
      this.state = "running";
      const self = this;
      this.native = client.native;
      client.native.arrayMode = this._arrayMode;
      let after = function(err, rows, results) {
        client.native.arrayMode = false;
        setImmediate(function() {
          self.emit("_done");
        });
        if (err) {
          return self.handleError(err);
        }
        if (self._emitRowEvents) {
          if (results.length > 1) {
            rows.forEach((rowOfRows, i2) => {
              rowOfRows.forEach((row) => {
                self.emit("row", row, results[i2]);
              });
            });
          } else {
            rows.forEach(function(row) {
              self.emit("row", row, results);
            });
          }
        }
        self.state = "end";
        self.emit("end", results);
        if (self.callback) {
          self.callback(null, results);
        }
      };
      if (process.domain) {
        after = process.domain.bind(after);
      }
      if (this.name) {
        if (this.name.length > 63) {
          console.error("Warning! Postgres only supports 63 characters for query names.");
          console.error("You supplied %s (%s)", this.name, this.name.length);
          console.error("This can cause conflicts and silent errors executing queries");
        }
        const values = (this.values || []).map(utils.prepareValue);
        if (client.namedQueries[this.name]) {
          if (this.text && client.namedQueries[this.name] !== this.text) {
            const err = new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);
            return after(err);
          }
          return client.native.execute(this.name, values, after);
        }
        return client.native.prepare(this.name, this.text, values.length, function(err) {
          if (err) return after(err);
          client.namedQueries[self.name] = self.text;
          return self.native.execute(self.name, values, after);
        });
      } else if (this.values) {
        if (!Array.isArray(this.values)) {
          const err = new Error("Query values must be an array");
          return after(err);
        }
        const vals = this.values.map(utils.prepareValue);
        client.native.query(this.text, vals, after);
      } else if (this.queryMode === "extended") {
        client.native.query(this.text, [], after);
      } else {
        client.native.query(this.text, after);
      }
    };
  }
});

// node_modules/pg/lib/native/client.js
var require_client2 = __commonJS({
  "node_modules/pg/lib/native/client.js"(exports2, module2) {
    "use strict";
    var Native;
    try {
      Native = require("pg-native");
    } catch (e2) {
      throw e2;
    }
    var TypeOverrides2 = require_type_overrides();
    var EventEmitter = require("events").EventEmitter;
    var util2 = require("util");
    var ConnectionParameters = require_connection_parameters();
    var NativeQuery = require_query2();
    var Client2 = module2.exports = function(config2) {
      EventEmitter.call(this);
      config2 = config2 || {};
      this._Promise = config2.Promise || global.Promise;
      this._types = new TypeOverrides2(config2.types);
      this.native = new Native({
        types: this._types
      });
      this._queryQueue = [];
      this._ending = false;
      this._connecting = false;
      this._connected = false;
      this._queryable = true;
      const cp = this.connectionParameters = new ConnectionParameters(config2);
      if (config2.nativeConnectionString) cp.nativeConnectionString = config2.nativeConnectionString;
      this.user = cp.user;
      Object.defineProperty(this, "password", {
        configurable: true,
        enumerable: false,
        writable: true,
        value: cp.password
      });
      this.database = cp.database;
      this.host = cp.host;
      this.port = cp.port;
      this.namedQueries = {};
    };
    Client2.Query = NativeQuery;
    util2.inherits(Client2, EventEmitter);
    Client2.prototype._errorAllQueries = function(err) {
      const enqueueError = (query) => {
        process.nextTick(() => {
          query.native = this.native;
          query.handleError(err);
        });
      };
      if (this._hasActiveQuery()) {
        enqueueError(this._activeQuery);
        this._activeQuery = null;
      }
      this._queryQueue.forEach(enqueueError);
      this._queryQueue.length = 0;
    };
    Client2.prototype._connect = function(cb) {
      const self = this;
      if (this._connecting) {
        process.nextTick(() => cb(new Error("Client has already been connected. You cannot reuse a client.")));
        return;
      }
      this._connecting = true;
      this.connectionParameters.getLibpqConnectionString(function(err, conString) {
        if (self.connectionParameters.nativeConnectionString) conString = self.connectionParameters.nativeConnectionString;
        if (err) return cb(err);
        self.native.connect(conString, function(err2) {
          if (err2) {
            self.native.end();
            return cb(err2);
          }
          self._connected = true;
          self.native.on("error", function(err3) {
            self._queryable = false;
            self._errorAllQueries(err3);
            self.emit("error", err3);
          });
          self.native.on("notification", function(msg) {
            self.emit("notification", {
              channel: msg.relname,
              payload: msg.extra
            });
          });
          self.emit("connect");
          self._pulseQueryQueue(true);
          cb();
        });
      });
    };
    Client2.prototype.connect = function(callback) {
      if (callback) {
        this._connect(callback);
        return;
      }
      return new this._Promise((resolve2, reject) => {
        this._connect((error45) => {
          if (error45) {
            reject(error45);
          } else {
            resolve2();
          }
        });
      });
    };
    Client2.prototype.query = function(config2, values, callback) {
      let query;
      let result;
      let readTimeout;
      let readTimeoutTimer;
      let queryCallback;
      if (config2 === null || config2 === void 0) {
        throw new TypeError("Client was passed a null or undefined query");
      } else if (typeof config2.submit === "function") {
        readTimeout = config2.query_timeout || this.connectionParameters.query_timeout;
        result = query = config2;
        if (typeof values === "function") {
          config2.callback = values;
        }
      } else {
        readTimeout = config2.query_timeout || this.connectionParameters.query_timeout;
        query = new NativeQuery(config2, values, callback);
        if (!query.callback) {
          let resolveOut, rejectOut;
          result = new this._Promise((resolve2, reject) => {
            resolveOut = resolve2;
            rejectOut = reject;
          }).catch((err) => {
            Error.captureStackTrace(err);
            throw err;
          });
          query.callback = (err, res) => err ? rejectOut(err) : resolveOut(res);
        }
      }
      if (readTimeout) {
        queryCallback = query.callback;
        readTimeoutTimer = setTimeout(() => {
          const error45 = new Error("Query read timeout");
          process.nextTick(() => {
            query.handleError(error45, this.connection);
          });
          queryCallback(error45);
          query.callback = () => {
          };
          const index = this._queryQueue.indexOf(query);
          if (index > -1) {
            this._queryQueue.splice(index, 1);
          }
          this._pulseQueryQueue();
        }, readTimeout);
        query.callback = (err, res) => {
          clearTimeout(readTimeoutTimer);
          queryCallback(err, res);
        };
      }
      if (!this._queryable) {
        query.native = this.native;
        process.nextTick(() => {
          query.handleError(new Error("Client has encountered a connection error and is not queryable"));
        });
        return result;
      }
      if (this._ending) {
        query.native = this.native;
        process.nextTick(() => {
          query.handleError(new Error("Client was closed and is not queryable"));
        });
        return result;
      }
      this._queryQueue.push(query);
      this._pulseQueryQueue();
      return result;
    };
    Client2.prototype.end = function(cb) {
      const self = this;
      this._ending = true;
      if (!this._connected) {
        this.once("connect", this.end.bind(this, cb));
      }
      let result;
      if (!cb) {
        result = new this._Promise(function(resolve2, reject) {
          cb = (err) => err ? reject(err) : resolve2();
        });
      }
      this.native.end(function() {
        self._errorAllQueries(new Error("Connection terminated"));
        process.nextTick(() => {
          self.emit("end");
          if (cb) cb();
        });
      });
      return result;
    };
    Client2.prototype._hasActiveQuery = function() {
      return this._activeQuery && this._activeQuery.state !== "error" && this._activeQuery.state !== "end";
    };
    Client2.prototype._pulseQueryQueue = function(initialConnection) {
      if (!this._connected) {
        return;
      }
      if (this._hasActiveQuery()) {
        return;
      }
      const query = this._queryQueue.shift();
      if (!query) {
        if (!initialConnection) {
          this.emit("drain");
        }
        return;
      }
      this._activeQuery = query;
      query.submit(this);
      const self = this;
      query.once("_done", function() {
        self._pulseQueryQueue();
      });
    };
    Client2.prototype.cancel = function(query) {
      if (this._activeQuery === query) {
        this.native.cancel(function() {
        });
      } else if (this._queryQueue.indexOf(query) !== -1) {
        this._queryQueue.splice(this._queryQueue.indexOf(query), 1);
      }
    };
    Client2.prototype.ref = function() {
    };
    Client2.prototype.unref = function() {
    };
    Client2.prototype.setTypeParser = function(oid, format, parseFn) {
      return this._types.setTypeParser(oid, format, parseFn);
    };
    Client2.prototype.getTypeParser = function(oid, format) {
      return this._types.getTypeParser(oid, format);
    };
  }
});

// node_modules/pg/lib/native/index.js
var require_native = __commonJS({
  "node_modules/pg/lib/native/index.js"(exports2, module2) {
    "use strict";
    module2.exports = require_client2();
  }
});

// node_modules/pg/lib/index.js
var require_lib2 = __commonJS({
  "node_modules/pg/lib/index.js"(exports2, module2) {
    "use strict";
    var Client2 = require_client();
    var defaults2 = require_defaults();
    var Connection2 = require_connection();
    var Result2 = require_result();
    var utils = require_utils();
    var Pool2 = require_pg_pool();
    var TypeOverrides2 = require_type_overrides();
    var { DatabaseError: DatabaseError2 } = require_dist();
    var { escapeIdentifier: escapeIdentifier2, escapeLiteral: escapeLiteral2 } = require_utils();
    var poolFactory = (Client3) => {
      return class BoundPool extends Pool2 {
        constructor(options) {
          super(options, Client3);
        }
      };
    };
    var PG = function(clientConstructor) {
      this.defaults = defaults2;
      this.Client = clientConstructor;
      this.Query = this.Client.Query;
      this.Pool = poolFactory(this.Client);
      this._pools = [];
      this.Connection = Connection2;
      this.types = require_pg_types();
      this.DatabaseError = DatabaseError2;
      this.TypeOverrides = TypeOverrides2;
      this.escapeIdentifier = escapeIdentifier2;
      this.escapeLiteral = escapeLiteral2;
      this.Result = Result2;
      this.utils = utils;
    };
    if (typeof process.env.NODE_PG_FORCE_NATIVE !== "undefined") {
      module2.exports = new PG(require_native());
    } else {
      module2.exports = new PG(Client2);
      Object.defineProperty(module2.exports, "native", {
        configurable: true,
        enumerable: false,
        get() {
          let native = null;
          try {
            native = new PG(require_native());
          } catch (err) {
            if (err.code !== "MODULE_NOT_FOUND") {
              throw err;
            }
          }
          Object.defineProperty(module2.exports, "native", {
            value: native
          });
          return native;
        }
      });
    }
  }
});

// agent.ts
var agent_exports = {};
__export(agent_exports, {
  default: () => agent_default
});
module.exports = __toCommonJS(agent_exports);

// node_modules/@ai-sdk/provider/dist/index.mjs
var marker = "vercel.ai.error";
var symbol = Symbol.for(marker);
var _a;
var _AISDKError = class _AISDKError2 extends Error {
  /**
   * Creates an AI SDK Error.
   *
   * @param {Object} params - The parameters for creating the error.
   * @param {string} params.name - The name of the error.
   * @param {string} params.message - The error message.
   * @param {unknown} [params.cause] - The underlying cause of the error.
   */
  constructor({
    name: name143,
    message,
    cause
  }) {
    super(message);
    this[_a] = true;
    this.name = name143;
    this.cause = cause;
  }
  /**
   * Checks if the given error is an AI SDK Error.
   * @param {unknown} error - The error to check.
   * @returns {boolean} True if the error is an AI SDK Error, false otherwise.
   */
  static isInstance(error45) {
    return _AISDKError2.hasMarker(error45, marker);
  }
  static hasMarker(error45, marker153) {
    const markerSymbol = Symbol.for(marker153);
    return error45 != null && typeof error45 === "object" && markerSymbol in error45 && typeof error45[markerSymbol] === "boolean" && error45[markerSymbol] === true;
  }
};
_a = symbol;
var AISDKError = _AISDKError;
var name = "AI_APICallError";
var marker2 = `vercel.ai.error.${name}`;
var symbol2 = Symbol.for(marker2);
var _a2;
var APICallError = class extends AISDKError {
  constructor({
    message,
    url: url2,
    requestBodyValues,
    statusCode,
    responseHeaders,
    responseBody,
    cause,
    isRetryable = statusCode != null && (statusCode === 408 || // request timeout
    statusCode === 409 || // conflict
    statusCode === 429 || // too many requests
    statusCode >= 500),
    // server error
    data
  }) {
    super({ name, message, cause });
    this[_a2] = true;
    this.url = url2;
    this.requestBodyValues = requestBodyValues;
    this.statusCode = statusCode;
    this.responseHeaders = responseHeaders;
    this.responseBody = responseBody;
    this.isRetryable = isRetryable;
    this.data = data;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker2);
  }
};
_a2 = symbol2;
var name2 = "AI_EmptyResponseBodyError";
var marker3 = `vercel.ai.error.${name2}`;
var symbol3 = Symbol.for(marker3);
var _a3;
var EmptyResponseBodyError = class extends AISDKError {
  // used in isInstance
  constructor({ message = "Empty response body" } = {}) {
    super({ name: name2, message });
    this[_a3] = true;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker3);
  }
};
_a3 = symbol3;
function getErrorMessage(error45) {
  if (error45 == null) {
    return "unknown error";
  }
  if (typeof error45 === "string") {
    return error45;
  }
  if (error45 instanceof Error) {
    return error45.message;
  }
  return JSON.stringify(error45);
}
var name3 = "AI_InvalidArgumentError";
var marker4 = `vercel.ai.error.${name3}`;
var symbol4 = Symbol.for(marker4);
var _a4;
var InvalidArgumentError = class extends AISDKError {
  constructor({
    message,
    cause,
    argument
  }) {
    super({ name: name3, message, cause });
    this[_a4] = true;
    this.argument = argument;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker4);
  }
};
_a4 = symbol4;
var name4 = "AI_InvalidPromptError";
var marker5 = `vercel.ai.error.${name4}`;
var symbol5 = Symbol.for(marker5);
var _a5;
var InvalidPromptError = class extends AISDKError {
  constructor({
    prompt,
    message,
    cause
  }) {
    super({ name: name4, message: `Invalid prompt: ${message}`, cause });
    this[_a5] = true;
    this.prompt = prompt;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker5);
  }
};
_a5 = symbol5;
var name5 = "AI_InvalidResponseDataError";
var marker6 = `vercel.ai.error.${name5}`;
var symbol6 = Symbol.for(marker6);
var _a6;
_a6 = symbol6;
var name6 = "AI_JSONParseError";
var marker7 = `vercel.ai.error.${name6}`;
var symbol7 = Symbol.for(marker7);
var _a7;
var JSONParseError = class extends AISDKError {
  constructor({ text: text2, cause }) {
    super({
      name: name6,
      message: `JSON parsing failed: Text: ${text2}.
Error message: ${getErrorMessage(cause)}`,
      cause
    });
    this[_a7] = true;
    this.text = text2;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker7);
  }
};
_a7 = symbol7;
var name7 = "AI_LoadAPIKeyError";
var marker8 = `vercel.ai.error.${name7}`;
var symbol8 = Symbol.for(marker8);
var _a8;
_a8 = symbol8;
var name8 = "AI_LoadSettingError";
var marker9 = `vercel.ai.error.${name8}`;
var symbol9 = Symbol.for(marker9);
var _a9;
_a9 = symbol9;
var name9 = "AI_NoContentGeneratedError";
var marker10 = `vercel.ai.error.${name9}`;
var symbol10 = Symbol.for(marker10);
var _a10;
_a10 = symbol10;
var name10 = "AI_NoSuchModelError";
var marker11 = `vercel.ai.error.${name10}`;
var symbol11 = Symbol.for(marker11);
var _a11;
var NoSuchModelError = class extends AISDKError {
  constructor({
    errorName = name10,
    modelId,
    modelType,
    message = `No such ${modelType}: ${modelId}`
  }) {
    super({ name: errorName, message });
    this[_a11] = true;
    this.modelId = modelId;
    this.modelType = modelType;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker11);
  }
};
_a11 = symbol11;
var name11 = "AI_TooManyEmbeddingValuesForCallError";
var marker12 = `vercel.ai.error.${name11}`;
var symbol12 = Symbol.for(marker12);
var _a12;
_a12 = symbol12;
var name12 = "AI_TypeValidationError";
var marker13 = `vercel.ai.error.${name12}`;
var symbol13 = Symbol.for(marker13);
var _a13;
var _TypeValidationError = class _TypeValidationError2 extends AISDKError {
  constructor({ value, cause }) {
    super({
      name: name12,
      message: `Type validation failed: Value: ${JSON.stringify(value)}.
Error message: ${getErrorMessage(cause)}`,
      cause
    });
    this[_a13] = true;
    this.value = value;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker13);
  }
  /**
   * Wraps an error into a TypeValidationError.
   * If the cause is already a TypeValidationError with the same value, it returns the cause.
   * Otherwise, it creates a new TypeValidationError.
   *
   * @param {Object} params - The parameters for wrapping the error.
   * @param {unknown} params.value - The value that failed validation.
   * @param {unknown} params.cause - The original error or cause of the validation failure.
   * @returns {TypeValidationError} A TypeValidationError instance.
   */
  static wrap({
    value,
    cause
  }) {
    return _TypeValidationError2.isInstance(cause) && cause.value === value ? cause : new _TypeValidationError2({ value, cause });
  }
};
_a13 = symbol13;
var TypeValidationError = _TypeValidationError;
var name13 = "AI_UnsupportedFunctionalityError";
var marker14 = `vercel.ai.error.${name13}`;
var symbol14 = Symbol.for(marker14);
var _a14;
_a14 = symbol14;

// node_modules/eventsource-parser/dist/index.js
var ParseError = class extends Error {
  constructor(message, options) {
    super(message), this.name = "ParseError", this.type = options.type, this.field = options.field, this.value = options.value, this.line = options.line;
  }
};
function noop(_arg) {
}
function createParser(callbacks) {
  if (typeof callbacks == "function")
    throw new TypeError(
      "`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?"
    );
  const { onEvent = noop, onError = noop, onRetry = noop, onComment } = callbacks;
  let incompleteLine = "", isFirstChunk = true, id, data = "", eventType = "";
  function feed(newChunk) {
    const chunk = isFirstChunk ? newChunk.replace(/^\xEF\xBB\xBF/, "") : newChunk, [complete, incomplete] = splitLines(`${incompleteLine}${chunk}`);
    for (const line of complete)
      parseLine(line);
    incompleteLine = incomplete, isFirstChunk = false;
  }
  function parseLine(line) {
    if (line === "") {
      dispatchEvent();
      return;
    }
    if (line.startsWith(":")) {
      onComment && onComment(line.slice(line.startsWith(": ") ? 2 : 1));
      return;
    }
    const fieldSeparatorIndex = line.indexOf(":");
    if (fieldSeparatorIndex !== -1) {
      const field = line.slice(0, fieldSeparatorIndex), offset = line[fieldSeparatorIndex + 1] === " " ? 2 : 1, value = line.slice(fieldSeparatorIndex + offset);
      processField(field, value, line);
      return;
    }
    processField(line, "", line);
  }
  function processField(field, value, line) {
    switch (field) {
      case "event":
        eventType = value;
        break;
      case "data":
        data = `${data}${value}
`;
        break;
      case "id":
        id = value.includes("\0") ? void 0 : value;
        break;
      case "retry":
        /^\d+$/.test(value) ? onRetry(parseInt(value, 10)) : onError(
          new ParseError(`Invalid \`retry\` value: "${value}"`, {
            type: "invalid-retry",
            value,
            line
          })
        );
        break;
      default:
        onError(
          new ParseError(
            `Unknown field "${field.length > 20 ? `${field.slice(0, 20)}\u2026` : field}"`,
            { type: "unknown-field", field, value, line }
          )
        );
        break;
    }
  }
  function dispatchEvent() {
    data.length > 0 && onEvent({
      id,
      event: eventType || void 0,
      // If the data buffer's last character is a U+000A LINE FEED (LF) character,
      // then remove the last character from the data buffer.
      data: data.endsWith(`
`) ? data.slice(0, -1) : data
    }), id = void 0, data = "", eventType = "";
  }
  function reset(options = {}) {
    incompleteLine && options.consume && parseLine(incompleteLine), isFirstChunk = true, id = void 0, data = "", eventType = "", incompleteLine = "";
  }
  return { feed, reset };
}
function splitLines(chunk) {
  const lines = [];
  let incompleteLine = "", searchIndex = 0;
  for (; searchIndex < chunk.length; ) {
    const crIndex = chunk.indexOf("\r", searchIndex), lfIndex = chunk.indexOf(`
`, searchIndex);
    let lineEnd = -1;
    if (crIndex !== -1 && lfIndex !== -1 ? lineEnd = Math.min(crIndex, lfIndex) : crIndex !== -1 ? crIndex === chunk.length - 1 ? lineEnd = -1 : lineEnd = crIndex : lfIndex !== -1 && (lineEnd = lfIndex), lineEnd === -1) {
      incompleteLine = chunk.slice(searchIndex);
      break;
    } else {
      const line = chunk.slice(searchIndex, lineEnd);
      lines.push(line), searchIndex = lineEnd + 1, chunk[searchIndex - 1] === "\r" && chunk[searchIndex] === `
` && searchIndex++;
    }
  }
  return [lines, incompleteLine];
}

// node_modules/eventsource-parser/dist/stream.js
var EventSourceParserStream = class extends TransformStream {
  constructor({ onError, onRetry, onComment } = {}) {
    let parser;
    super({
      start(controller) {
        parser = createParser({
          onEvent: (event) => {
            controller.enqueue(event);
          },
          onError(error45) {
            onError === "terminate" ? controller.error(error45) : typeof onError == "function" && onError(error45);
          },
          onRetry,
          onComment
        });
      },
      transform(chunk) {
        parser.feed(chunk);
      }
    });
  }
};

// node_modules/zod/v4/classic/external.js
var external_exports = {};
__export(external_exports, {
  $brand: () => $brand,
  $input: () => $input,
  $output: () => $output,
  NEVER: () => NEVER,
  TimePrecision: () => TimePrecision,
  ZodAny: () => ZodAny,
  ZodArray: () => ZodArray,
  ZodBase64: () => ZodBase64,
  ZodBase64URL: () => ZodBase64URL,
  ZodBigInt: () => ZodBigInt,
  ZodBigIntFormat: () => ZodBigIntFormat,
  ZodBoolean: () => ZodBoolean,
  ZodCIDRv4: () => ZodCIDRv4,
  ZodCIDRv6: () => ZodCIDRv6,
  ZodCUID: () => ZodCUID,
  ZodCUID2: () => ZodCUID2,
  ZodCatch: () => ZodCatch,
  ZodCodec: () => ZodCodec,
  ZodCustom: () => ZodCustom,
  ZodCustomStringFormat: () => ZodCustomStringFormat,
  ZodDate: () => ZodDate,
  ZodDefault: () => ZodDefault,
  ZodDiscriminatedUnion: () => ZodDiscriminatedUnion,
  ZodE164: () => ZodE164,
  ZodEmail: () => ZodEmail,
  ZodEmoji: () => ZodEmoji,
  ZodEnum: () => ZodEnum,
  ZodError: () => ZodError,
  ZodFile: () => ZodFile,
  ZodFirstPartyTypeKind: () => ZodFirstPartyTypeKind,
  ZodFunction: () => ZodFunction,
  ZodGUID: () => ZodGUID,
  ZodIPv4: () => ZodIPv4,
  ZodIPv6: () => ZodIPv6,
  ZodISODate: () => ZodISODate,
  ZodISODateTime: () => ZodISODateTime,
  ZodISODuration: () => ZodISODuration,
  ZodISOTime: () => ZodISOTime,
  ZodIntersection: () => ZodIntersection,
  ZodIssueCode: () => ZodIssueCode,
  ZodJWT: () => ZodJWT,
  ZodKSUID: () => ZodKSUID,
  ZodLazy: () => ZodLazy,
  ZodLiteral: () => ZodLiteral,
  ZodMap: () => ZodMap,
  ZodNaN: () => ZodNaN,
  ZodNanoID: () => ZodNanoID,
  ZodNever: () => ZodNever,
  ZodNonOptional: () => ZodNonOptional,
  ZodNull: () => ZodNull,
  ZodNullable: () => ZodNullable,
  ZodNumber: () => ZodNumber,
  ZodNumberFormat: () => ZodNumberFormat,
  ZodObject: () => ZodObject,
  ZodOptional: () => ZodOptional,
  ZodPipe: () => ZodPipe,
  ZodPrefault: () => ZodPrefault,
  ZodPromise: () => ZodPromise,
  ZodReadonly: () => ZodReadonly,
  ZodRealError: () => ZodRealError,
  ZodRecord: () => ZodRecord,
  ZodSet: () => ZodSet,
  ZodString: () => ZodString,
  ZodStringFormat: () => ZodStringFormat,
  ZodSuccess: () => ZodSuccess,
  ZodSymbol: () => ZodSymbol,
  ZodTemplateLiteral: () => ZodTemplateLiteral,
  ZodTransform: () => ZodTransform,
  ZodTuple: () => ZodTuple,
  ZodType: () => ZodType,
  ZodULID: () => ZodULID,
  ZodURL: () => ZodURL,
  ZodUUID: () => ZodUUID,
  ZodUndefined: () => ZodUndefined,
  ZodUnion: () => ZodUnion,
  ZodUnknown: () => ZodUnknown,
  ZodVoid: () => ZodVoid,
  ZodXID: () => ZodXID,
  _ZodString: () => _ZodString,
  _default: () => _default2,
  _function: () => _function,
  any: () => any,
  array: () => array,
  base64: () => base642,
  base64url: () => base64url2,
  bigint: () => bigint2,
  boolean: () => boolean2,
  catch: () => _catch2,
  check: () => check,
  cidrv4: () => cidrv42,
  cidrv6: () => cidrv62,
  clone: () => clone,
  codec: () => codec,
  coerce: () => coerce_exports,
  config: () => config,
  core: () => core_exports2,
  cuid: () => cuid3,
  cuid2: () => cuid22,
  custom: () => custom,
  date: () => date3,
  decode: () => decode2,
  decodeAsync: () => decodeAsync2,
  discriminatedUnion: () => discriminatedUnion,
  e164: () => e1642,
  email: () => email2,
  emoji: () => emoji2,
  encode: () => encode2,
  encodeAsync: () => encodeAsync2,
  endsWith: () => _endsWith,
  enum: () => _enum2,
  file: () => file,
  flattenError: () => flattenError,
  float32: () => float32,
  float64: () => float64,
  formatError: () => formatError,
  function: () => _function,
  getErrorMap: () => getErrorMap,
  globalRegistry: () => globalRegistry,
  gt: () => _gt,
  gte: () => _gte,
  guid: () => guid2,
  hash: () => hash,
  hex: () => hex2,
  hostname: () => hostname2,
  httpUrl: () => httpUrl,
  includes: () => _includes,
  instanceof: () => _instanceof,
  int: () => int,
  int32: () => int32,
  int64: () => int64,
  intersection: () => intersection,
  ipv4: () => ipv42,
  ipv6: () => ipv62,
  iso: () => iso_exports,
  json: () => json,
  jwt: () => jwt,
  keyof: () => keyof,
  ksuid: () => ksuid2,
  lazy: () => lazy,
  length: () => _length,
  literal: () => literal,
  locales: () => locales_exports,
  looseObject: () => looseObject,
  lowercase: () => _lowercase,
  lt: () => _lt,
  lte: () => _lte,
  map: () => map,
  maxLength: () => _maxLength,
  maxSize: () => _maxSize,
  mime: () => _mime,
  minLength: () => _minLength,
  minSize: () => _minSize,
  multipleOf: () => _multipleOf,
  nan: () => nan,
  nanoid: () => nanoid2,
  nativeEnum: () => nativeEnum,
  negative: () => _negative,
  never: () => never,
  nonnegative: () => _nonnegative,
  nonoptional: () => nonoptional,
  nonpositive: () => _nonpositive,
  normalize: () => _normalize,
  null: () => _null3,
  nullable: () => nullable,
  nullish: () => nullish2,
  number: () => number2,
  object: () => object,
  optional: () => optional,
  overwrite: () => _overwrite,
  parse: () => parse2,
  parseAsync: () => parseAsync2,
  partialRecord: () => partialRecord,
  pipe: () => pipe,
  positive: () => _positive,
  prefault: () => prefault,
  preprocess: () => preprocess,
  prettifyError: () => prettifyError,
  promise: () => promise,
  property: () => _property,
  readonly: () => readonly,
  record: () => record,
  refine: () => refine,
  regex: () => _regex,
  regexes: () => regexes_exports,
  registry: () => registry,
  safeDecode: () => safeDecode2,
  safeDecodeAsync: () => safeDecodeAsync2,
  safeEncode: () => safeEncode2,
  safeEncodeAsync: () => safeEncodeAsync2,
  safeParse: () => safeParse2,
  safeParseAsync: () => safeParseAsync2,
  set: () => set,
  setErrorMap: () => setErrorMap,
  size: () => _size,
  startsWith: () => _startsWith,
  strictObject: () => strictObject,
  string: () => string2,
  stringFormat: () => stringFormat,
  stringbool: () => stringbool,
  success: () => success,
  superRefine: () => superRefine,
  symbol: () => symbol15,
  templateLiteral: () => templateLiteral,
  toJSONSchema: () => toJSONSchema,
  toLowerCase: () => _toLowerCase,
  toUpperCase: () => _toUpperCase,
  transform: () => transform,
  treeifyError: () => treeifyError,
  trim: () => _trim,
  tuple: () => tuple,
  uint32: () => uint32,
  uint64: () => uint64,
  ulid: () => ulid2,
  undefined: () => _undefined3,
  union: () => union,
  unknown: () => unknown,
  uppercase: () => _uppercase,
  url: () => url,
  util: () => util_exports,
  uuid: () => uuid2,
  uuidv4: () => uuidv4,
  uuidv6: () => uuidv6,
  uuidv7: () => uuidv7,
  void: () => _void2,
  xid: () => xid2
});

// node_modules/zod/v4/core/index.js
var core_exports2 = {};
__export(core_exports2, {
  $ZodAny: () => $ZodAny,
  $ZodArray: () => $ZodArray,
  $ZodAsyncError: () => $ZodAsyncError,
  $ZodBase64: () => $ZodBase64,
  $ZodBase64URL: () => $ZodBase64URL,
  $ZodBigInt: () => $ZodBigInt,
  $ZodBigIntFormat: () => $ZodBigIntFormat,
  $ZodBoolean: () => $ZodBoolean,
  $ZodCIDRv4: () => $ZodCIDRv4,
  $ZodCIDRv6: () => $ZodCIDRv6,
  $ZodCUID: () => $ZodCUID,
  $ZodCUID2: () => $ZodCUID2,
  $ZodCatch: () => $ZodCatch,
  $ZodCheck: () => $ZodCheck,
  $ZodCheckBigIntFormat: () => $ZodCheckBigIntFormat,
  $ZodCheckEndsWith: () => $ZodCheckEndsWith,
  $ZodCheckGreaterThan: () => $ZodCheckGreaterThan,
  $ZodCheckIncludes: () => $ZodCheckIncludes,
  $ZodCheckLengthEquals: () => $ZodCheckLengthEquals,
  $ZodCheckLessThan: () => $ZodCheckLessThan,
  $ZodCheckLowerCase: () => $ZodCheckLowerCase,
  $ZodCheckMaxLength: () => $ZodCheckMaxLength,
  $ZodCheckMaxSize: () => $ZodCheckMaxSize,
  $ZodCheckMimeType: () => $ZodCheckMimeType,
  $ZodCheckMinLength: () => $ZodCheckMinLength,
  $ZodCheckMinSize: () => $ZodCheckMinSize,
  $ZodCheckMultipleOf: () => $ZodCheckMultipleOf,
  $ZodCheckNumberFormat: () => $ZodCheckNumberFormat,
  $ZodCheckOverwrite: () => $ZodCheckOverwrite,
  $ZodCheckProperty: () => $ZodCheckProperty,
  $ZodCheckRegex: () => $ZodCheckRegex,
  $ZodCheckSizeEquals: () => $ZodCheckSizeEquals,
  $ZodCheckStartsWith: () => $ZodCheckStartsWith,
  $ZodCheckStringFormat: () => $ZodCheckStringFormat,
  $ZodCheckUpperCase: () => $ZodCheckUpperCase,
  $ZodCodec: () => $ZodCodec,
  $ZodCustom: () => $ZodCustom,
  $ZodCustomStringFormat: () => $ZodCustomStringFormat,
  $ZodDate: () => $ZodDate,
  $ZodDefault: () => $ZodDefault,
  $ZodDiscriminatedUnion: () => $ZodDiscriminatedUnion,
  $ZodE164: () => $ZodE164,
  $ZodEmail: () => $ZodEmail,
  $ZodEmoji: () => $ZodEmoji,
  $ZodEncodeError: () => $ZodEncodeError,
  $ZodEnum: () => $ZodEnum,
  $ZodError: () => $ZodError,
  $ZodFile: () => $ZodFile,
  $ZodFunction: () => $ZodFunction,
  $ZodGUID: () => $ZodGUID,
  $ZodIPv4: () => $ZodIPv4,
  $ZodIPv6: () => $ZodIPv6,
  $ZodISODate: () => $ZodISODate,
  $ZodISODateTime: () => $ZodISODateTime,
  $ZodISODuration: () => $ZodISODuration,
  $ZodISOTime: () => $ZodISOTime,
  $ZodIntersection: () => $ZodIntersection,
  $ZodJWT: () => $ZodJWT,
  $ZodKSUID: () => $ZodKSUID,
  $ZodLazy: () => $ZodLazy,
  $ZodLiteral: () => $ZodLiteral,
  $ZodMap: () => $ZodMap,
  $ZodNaN: () => $ZodNaN,
  $ZodNanoID: () => $ZodNanoID,
  $ZodNever: () => $ZodNever,
  $ZodNonOptional: () => $ZodNonOptional,
  $ZodNull: () => $ZodNull,
  $ZodNullable: () => $ZodNullable,
  $ZodNumber: () => $ZodNumber,
  $ZodNumberFormat: () => $ZodNumberFormat,
  $ZodObject: () => $ZodObject,
  $ZodObjectJIT: () => $ZodObjectJIT,
  $ZodOptional: () => $ZodOptional,
  $ZodPipe: () => $ZodPipe,
  $ZodPrefault: () => $ZodPrefault,
  $ZodPromise: () => $ZodPromise,
  $ZodReadonly: () => $ZodReadonly,
  $ZodRealError: () => $ZodRealError,
  $ZodRecord: () => $ZodRecord,
  $ZodRegistry: () => $ZodRegistry,
  $ZodSet: () => $ZodSet,
  $ZodString: () => $ZodString,
  $ZodStringFormat: () => $ZodStringFormat,
  $ZodSuccess: () => $ZodSuccess,
  $ZodSymbol: () => $ZodSymbol,
  $ZodTemplateLiteral: () => $ZodTemplateLiteral,
  $ZodTransform: () => $ZodTransform,
  $ZodTuple: () => $ZodTuple,
  $ZodType: () => $ZodType,
  $ZodULID: () => $ZodULID,
  $ZodURL: () => $ZodURL,
  $ZodUUID: () => $ZodUUID,
  $ZodUndefined: () => $ZodUndefined,
  $ZodUnion: () => $ZodUnion,
  $ZodUnknown: () => $ZodUnknown,
  $ZodVoid: () => $ZodVoid,
  $ZodXID: () => $ZodXID,
  $brand: () => $brand,
  $constructor: () => $constructor,
  $input: () => $input,
  $output: () => $output,
  Doc: () => Doc,
  JSONSchema: () => json_schema_exports,
  JSONSchemaGenerator: () => JSONSchemaGenerator,
  NEVER: () => NEVER,
  TimePrecision: () => TimePrecision,
  _any: () => _any,
  _array: () => _array,
  _base64: () => _base64,
  _base64url: () => _base64url,
  _bigint: () => _bigint,
  _boolean: () => _boolean,
  _catch: () => _catch,
  _check: () => _check,
  _cidrv4: () => _cidrv4,
  _cidrv6: () => _cidrv6,
  _coercedBigint: () => _coercedBigint,
  _coercedBoolean: () => _coercedBoolean,
  _coercedDate: () => _coercedDate,
  _coercedNumber: () => _coercedNumber,
  _coercedString: () => _coercedString,
  _cuid: () => _cuid,
  _cuid2: () => _cuid2,
  _custom: () => _custom,
  _date: () => _date,
  _decode: () => _decode,
  _decodeAsync: () => _decodeAsync,
  _default: () => _default,
  _discriminatedUnion: () => _discriminatedUnion,
  _e164: () => _e164,
  _email: () => _email,
  _emoji: () => _emoji2,
  _encode: () => _encode,
  _encodeAsync: () => _encodeAsync,
  _endsWith: () => _endsWith,
  _enum: () => _enum,
  _file: () => _file,
  _float32: () => _float32,
  _float64: () => _float64,
  _gt: () => _gt,
  _gte: () => _gte,
  _guid: () => _guid,
  _includes: () => _includes,
  _int: () => _int,
  _int32: () => _int32,
  _int64: () => _int64,
  _intersection: () => _intersection,
  _ipv4: () => _ipv4,
  _ipv6: () => _ipv6,
  _isoDate: () => _isoDate,
  _isoDateTime: () => _isoDateTime,
  _isoDuration: () => _isoDuration,
  _isoTime: () => _isoTime,
  _jwt: () => _jwt,
  _ksuid: () => _ksuid,
  _lazy: () => _lazy,
  _length: () => _length,
  _literal: () => _literal,
  _lowercase: () => _lowercase,
  _lt: () => _lt,
  _lte: () => _lte,
  _map: () => _map,
  _max: () => _lte,
  _maxLength: () => _maxLength,
  _maxSize: () => _maxSize,
  _mime: () => _mime,
  _min: () => _gte,
  _minLength: () => _minLength,
  _minSize: () => _minSize,
  _multipleOf: () => _multipleOf,
  _nan: () => _nan,
  _nanoid: () => _nanoid,
  _nativeEnum: () => _nativeEnum,
  _negative: () => _negative,
  _never: () => _never,
  _nonnegative: () => _nonnegative,
  _nonoptional: () => _nonoptional,
  _nonpositive: () => _nonpositive,
  _normalize: () => _normalize,
  _null: () => _null2,
  _nullable: () => _nullable,
  _number: () => _number,
  _optional: () => _optional,
  _overwrite: () => _overwrite,
  _parse: () => _parse,
  _parseAsync: () => _parseAsync,
  _pipe: () => _pipe,
  _positive: () => _positive,
  _promise: () => _promise,
  _property: () => _property,
  _readonly: () => _readonly,
  _record: () => _record,
  _refine: () => _refine,
  _regex: () => _regex,
  _safeDecode: () => _safeDecode,
  _safeDecodeAsync: () => _safeDecodeAsync,
  _safeEncode: () => _safeEncode,
  _safeEncodeAsync: () => _safeEncodeAsync,
  _safeParse: () => _safeParse,
  _safeParseAsync: () => _safeParseAsync,
  _set: () => _set,
  _size: () => _size,
  _startsWith: () => _startsWith,
  _string: () => _string,
  _stringFormat: () => _stringFormat,
  _stringbool: () => _stringbool,
  _success: () => _success,
  _superRefine: () => _superRefine,
  _symbol: () => _symbol,
  _templateLiteral: () => _templateLiteral,
  _toLowerCase: () => _toLowerCase,
  _toUpperCase: () => _toUpperCase,
  _transform: () => _transform,
  _trim: () => _trim,
  _tuple: () => _tuple,
  _uint32: () => _uint32,
  _uint64: () => _uint64,
  _ulid: () => _ulid,
  _undefined: () => _undefined2,
  _union: () => _union,
  _unknown: () => _unknown,
  _uppercase: () => _uppercase,
  _url: () => _url,
  _uuid: () => _uuid,
  _uuidv4: () => _uuidv4,
  _uuidv6: () => _uuidv6,
  _uuidv7: () => _uuidv7,
  _void: () => _void,
  _xid: () => _xid,
  clone: () => clone,
  config: () => config,
  decode: () => decode,
  decodeAsync: () => decodeAsync,
  encode: () => encode,
  encodeAsync: () => encodeAsync,
  flattenError: () => flattenError,
  formatError: () => formatError,
  globalConfig: () => globalConfig,
  globalRegistry: () => globalRegistry,
  isValidBase64: () => isValidBase64,
  isValidBase64URL: () => isValidBase64URL,
  isValidJWT: () => isValidJWT,
  locales: () => locales_exports,
  parse: () => parse,
  parseAsync: () => parseAsync,
  prettifyError: () => prettifyError,
  regexes: () => regexes_exports,
  registry: () => registry,
  safeDecode: () => safeDecode,
  safeDecodeAsync: () => safeDecodeAsync,
  safeEncode: () => safeEncode,
  safeEncodeAsync: () => safeEncodeAsync,
  safeParse: () => safeParse,
  safeParseAsync: () => safeParseAsync,
  toDotPath: () => toDotPath,
  toJSONSchema: () => toJSONSchema,
  treeifyError: () => treeifyError,
  util: () => util_exports,
  version: () => version
});

// node_modules/zod/v4/core/core.js
var NEVER = Object.freeze({
  status: "aborted"
});
// @__NO_SIDE_EFFECTS__
function $constructor(name17, initializer3, params) {
  function init(inst, def) {
    var _a17;
    Object.defineProperty(inst, "_zod", {
      value: inst._zod ?? {},
      enumerable: false
    });
    (_a17 = inst._zod).traits ?? (_a17.traits = /* @__PURE__ */ new Set());
    inst._zod.traits.add(name17);
    initializer3(inst, def);
    for (const k in _.prototype) {
      if (!(k in inst))
        Object.defineProperty(inst, k, { value: _.prototype[k].bind(inst) });
    }
    inst._zod.constr = _;
    inst._zod.def = def;
  }
  const Parent = params?.Parent ?? Object;
  class Definition extends Parent {
  }
  Object.defineProperty(Definition, "name", { value: name17 });
  function _(def) {
    var _a17;
    const inst = params?.Parent ? new Definition() : this;
    init(inst, def);
    (_a17 = inst._zod).deferred ?? (_a17.deferred = []);
    for (const fn of inst._zod.deferred) {
      fn();
    }
    return inst;
  }
  Object.defineProperty(_, "init", { value: init });
  Object.defineProperty(_, Symbol.hasInstance, {
    value: (inst) => {
      if (params?.Parent && inst instanceof params.Parent)
        return true;
      return inst?._zod?.traits?.has(name17);
    }
  });
  Object.defineProperty(_, "name", { value: name17 });
  return _;
}
var $brand = Symbol("zod_brand");
var $ZodAsyncError = class extends Error {
  constructor() {
    super(`Encountered Promise during synchronous parse. Use .parseAsync() instead.`);
  }
};
var $ZodEncodeError = class extends Error {
  constructor(name17) {
    super(`Encountered unidirectional transform during encode: ${name17}`);
    this.name = "ZodEncodeError";
  }
};
var globalConfig = {};
function config(newConfig) {
  if (newConfig)
    Object.assign(globalConfig, newConfig);
  return globalConfig;
}

// node_modules/zod/v4/core/util.js
var util_exports = {};
__export(util_exports, {
  BIGINT_FORMAT_RANGES: () => BIGINT_FORMAT_RANGES,
  Class: () => Class,
  NUMBER_FORMAT_RANGES: () => NUMBER_FORMAT_RANGES,
  aborted: () => aborted,
  allowsEval: () => allowsEval,
  assert: () => assert,
  assertEqual: () => assertEqual,
  assertIs: () => assertIs,
  assertNever: () => assertNever,
  assertNotEqual: () => assertNotEqual,
  assignProp: () => assignProp,
  base64ToUint8Array: () => base64ToUint8Array,
  base64urlToUint8Array: () => base64urlToUint8Array,
  cached: () => cached,
  captureStackTrace: () => captureStackTrace,
  cleanEnum: () => cleanEnum,
  cleanRegex: () => cleanRegex,
  clone: () => clone,
  cloneDef: () => cloneDef,
  createTransparentProxy: () => createTransparentProxy,
  defineLazy: () => defineLazy,
  esc: () => esc,
  escapeRegex: () => escapeRegex,
  extend: () => extend,
  finalizeIssue: () => finalizeIssue,
  floatSafeRemainder: () => floatSafeRemainder,
  getElementAtPath: () => getElementAtPath,
  getEnumValues: () => getEnumValues,
  getLengthableOrigin: () => getLengthableOrigin,
  getParsedType: () => getParsedType,
  getSizableOrigin: () => getSizableOrigin,
  hexToUint8Array: () => hexToUint8Array,
  isObject: () => isObject,
  isPlainObject: () => isPlainObject,
  issue: () => issue,
  joinValues: () => joinValues,
  jsonStringifyReplacer: () => jsonStringifyReplacer,
  merge: () => merge,
  mergeDefs: () => mergeDefs,
  normalizeParams: () => normalizeParams,
  nullish: () => nullish,
  numKeys: () => numKeys,
  objectClone: () => objectClone,
  omit: () => omit,
  optionalKeys: () => optionalKeys,
  partial: () => partial,
  pick: () => pick,
  prefixIssues: () => prefixIssues,
  primitiveTypes: () => primitiveTypes,
  promiseAllObject: () => promiseAllObject,
  propertyKeyTypes: () => propertyKeyTypes,
  randomString: () => randomString,
  required: () => required,
  safeExtend: () => safeExtend,
  shallowClone: () => shallowClone,
  stringifyPrimitive: () => stringifyPrimitive,
  uint8ArrayToBase64: () => uint8ArrayToBase64,
  uint8ArrayToBase64url: () => uint8ArrayToBase64url,
  uint8ArrayToHex: () => uint8ArrayToHex,
  unwrapMessage: () => unwrapMessage
});
function assertEqual(val) {
  return val;
}
function assertNotEqual(val) {
  return val;
}
function assertIs(_arg) {
}
function assertNever(_x) {
  throw new Error();
}
function assert(_) {
}
function getEnumValues(entries) {
  const numericValues = Object.values(entries).filter((v) => typeof v === "number");
  const values = Object.entries(entries).filter(([k, _]) => numericValues.indexOf(+k) === -1).map(([_, v]) => v);
  return values;
}
function joinValues(array2, separator = "|") {
  return array2.map((val) => stringifyPrimitive(val)).join(separator);
}
function jsonStringifyReplacer(_, value) {
  if (typeof value === "bigint")
    return value.toString();
  return value;
}
function cached(getter) {
  const set2 = false;
  return {
    get value() {
      if (!set2) {
        const value = getter();
        Object.defineProperty(this, "value", { value });
        return value;
      }
      throw new Error("cached value already set");
    }
  };
}
function nullish(input) {
  return input === null || input === void 0;
}
function cleanRegex(source) {
  const start = source.startsWith("^") ? 1 : 0;
  const end = source.endsWith("$") ? source.length - 1 : source.length;
  return source.slice(start, end);
}
function floatSafeRemainder(val, step) {
  const valDecCount = (val.toString().split(".")[1] || "").length;
  const stepString = step.toString();
  let stepDecCount = (stepString.split(".")[1] || "").length;
  if (stepDecCount === 0 && /\d?e-\d?/.test(stepString)) {
    const match = stepString.match(/\d?e-(\d?)/);
    if (match?.[1]) {
      stepDecCount = Number.parseInt(match[1]);
    }
  }
  const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;
  const valInt = Number.parseInt(val.toFixed(decCount).replace(".", ""));
  const stepInt = Number.parseInt(step.toFixed(decCount).replace(".", ""));
  return valInt % stepInt / 10 ** decCount;
}
var EVALUATING = Symbol("evaluating");
function defineLazy(object3, key, getter) {
  let value = void 0;
  Object.defineProperty(object3, key, {
    get() {
      if (value === EVALUATING) {
        return void 0;
      }
      if (value === void 0) {
        value = EVALUATING;
        value = getter();
      }
      return value;
    },
    set(v) {
      Object.defineProperty(object3, key, {
        value: v
        // configurable: true,
      });
    },
    configurable: true
  });
}
function objectClone(obj) {
  return Object.create(Object.getPrototypeOf(obj), Object.getOwnPropertyDescriptors(obj));
}
function assignProp(target, prop, value) {
  Object.defineProperty(target, prop, {
    value,
    writable: true,
    enumerable: true,
    configurable: true
  });
}
function mergeDefs(...defs) {
  const mergedDescriptors = {};
  for (const def of defs) {
    const descriptors = Object.getOwnPropertyDescriptors(def);
    Object.assign(mergedDescriptors, descriptors);
  }
  return Object.defineProperties({}, mergedDescriptors);
}
function cloneDef(schema) {
  return mergeDefs(schema._zod.def);
}
function getElementAtPath(obj, path) {
  if (!path)
    return obj;
  return path.reduce((acc, key) => acc?.[key], obj);
}
function promiseAllObject(promisesObj) {
  const keys = Object.keys(promisesObj);
  const promises = keys.map((key) => promisesObj[key]);
  return Promise.all(promises).then((results) => {
    const resolvedObj = {};
    for (let i2 = 0; i2 < keys.length; i2++) {
      resolvedObj[keys[i2]] = results[i2];
    }
    return resolvedObj;
  });
}
function randomString(length = 10) {
  const chars = "abcdefghijklmnopqrstuvwxyz";
  let str = "";
  for (let i2 = 0; i2 < length; i2++) {
    str += chars[Math.floor(Math.random() * chars.length)];
  }
  return str;
}
function esc(str) {
  return JSON.stringify(str);
}
var captureStackTrace = "captureStackTrace" in Error ? Error.captureStackTrace : (..._args) => {
};
function isObject(data) {
  return typeof data === "object" && data !== null && !Array.isArray(data);
}
var allowsEval = cached(() => {
  if (typeof navigator !== "undefined" && navigator?.userAgent?.includes("Cloudflare")) {
    return false;
  }
  try {
    const F = Function;
    new F("");
    return true;
  } catch (_) {
    return false;
  }
});
function isPlainObject(o2) {
  if (isObject(o2) === false)
    return false;
  const ctor = o2.constructor;
  if (ctor === void 0)
    return true;
  const prot = ctor.prototype;
  if (isObject(prot) === false)
    return false;
  if (Object.prototype.hasOwnProperty.call(prot, "isPrototypeOf") === false) {
    return false;
  }
  return true;
}
function shallowClone(o2) {
  if (isPlainObject(o2))
    return { ...o2 };
  if (Array.isArray(o2))
    return [...o2];
  return o2;
}
function numKeys(data) {
  let keyCount = 0;
  for (const key in data) {
    if (Object.prototype.hasOwnProperty.call(data, key)) {
      keyCount++;
    }
  }
  return keyCount;
}
var getParsedType = (data) => {
  const t2 = typeof data;
  switch (t2) {
    case "undefined":
      return "undefined";
    case "string":
      return "string";
    case "number":
      return Number.isNaN(data) ? "nan" : "number";
    case "boolean":
      return "boolean";
    case "function":
      return "function";
    case "bigint":
      return "bigint";
    case "symbol":
      return "symbol";
    case "object":
      if (Array.isArray(data)) {
        return "array";
      }
      if (data === null) {
        return "null";
      }
      if (data.then && typeof data.then === "function" && data.catch && typeof data.catch === "function") {
        return "promise";
      }
      if (typeof Map !== "undefined" && data instanceof Map) {
        return "map";
      }
      if (typeof Set !== "undefined" && data instanceof Set) {
        return "set";
      }
      if (typeof Date !== "undefined" && data instanceof Date) {
        return "date";
      }
      if (typeof File !== "undefined" && data instanceof File) {
        return "file";
      }
      return "object";
    default:
      throw new Error(`Unknown data type: ${t2}`);
  }
};
var propertyKeyTypes = /* @__PURE__ */ new Set(["string", "number", "symbol"]);
var primitiveTypes = /* @__PURE__ */ new Set(["string", "number", "bigint", "boolean", "symbol", "undefined"]);
function escapeRegex(str) {
  return str.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
}
function clone(inst, def, params) {
  const cl = new inst._zod.constr(def ?? inst._zod.def);
  if (!def || params?.parent)
    cl._zod.parent = inst;
  return cl;
}
function normalizeParams(_params) {
  const params = _params;
  if (!params)
    return {};
  if (typeof params === "string")
    return { error: () => params };
  if (params?.message !== void 0) {
    if (params?.error !== void 0)
      throw new Error("Cannot specify both `message` and `error` params");
    params.error = params.message;
  }
  delete params.message;
  if (typeof params.error === "string")
    return { ...params, error: () => params.error };
  return params;
}
function createTransparentProxy(getter) {
  let target;
  return new Proxy({}, {
    get(_, prop, receiver) {
      target ?? (target = getter());
      return Reflect.get(target, prop, receiver);
    },
    set(_, prop, value, receiver) {
      target ?? (target = getter());
      return Reflect.set(target, prop, value, receiver);
    },
    has(_, prop) {
      target ?? (target = getter());
      return Reflect.has(target, prop);
    },
    deleteProperty(_, prop) {
      target ?? (target = getter());
      return Reflect.deleteProperty(target, prop);
    },
    ownKeys(_) {
      target ?? (target = getter());
      return Reflect.ownKeys(target);
    },
    getOwnPropertyDescriptor(_, prop) {
      target ?? (target = getter());
      return Reflect.getOwnPropertyDescriptor(target, prop);
    },
    defineProperty(_, prop, descriptor) {
      target ?? (target = getter());
      return Reflect.defineProperty(target, prop, descriptor);
    }
  });
}
function stringifyPrimitive(value) {
  if (typeof value === "bigint")
    return value.toString() + "n";
  if (typeof value === "string")
    return `"${value}"`;
  return `${value}`;
}
function optionalKeys(shape) {
  return Object.keys(shape).filter((k) => {
    return shape[k]._zod.optin === "optional" && shape[k]._zod.optout === "optional";
  });
}
var NUMBER_FORMAT_RANGES = {
  safeint: [Number.MIN_SAFE_INTEGER, Number.MAX_SAFE_INTEGER],
  int32: [-2147483648, 2147483647],
  uint32: [0, 4294967295],
  float32: [-34028234663852886e22, 34028234663852886e22],
  float64: [-Number.MAX_VALUE, Number.MAX_VALUE]
};
var BIGINT_FORMAT_RANGES = {
  int64: [/* @__PURE__ */ BigInt("-9223372036854775808"), /* @__PURE__ */ BigInt("9223372036854775807")],
  uint64: [/* @__PURE__ */ BigInt(0), /* @__PURE__ */ BigInt("18446744073709551615")]
};
function pick(schema, mask) {
  const currDef = schema._zod.def;
  const def = mergeDefs(schema._zod.def, {
    get shape() {
      const newShape = {};
      for (const key in mask) {
        if (!(key in currDef.shape)) {
          throw new Error(`Unrecognized key: "${key}"`);
        }
        if (!mask[key])
          continue;
        newShape[key] = currDef.shape[key];
      }
      assignProp(this, "shape", newShape);
      return newShape;
    },
    checks: []
  });
  return clone(schema, def);
}
function omit(schema, mask) {
  const currDef = schema._zod.def;
  const def = mergeDefs(schema._zod.def, {
    get shape() {
      const newShape = { ...schema._zod.def.shape };
      for (const key in mask) {
        if (!(key in currDef.shape)) {
          throw new Error(`Unrecognized key: "${key}"`);
        }
        if (!mask[key])
          continue;
        delete newShape[key];
      }
      assignProp(this, "shape", newShape);
      return newShape;
    },
    checks: []
  });
  return clone(schema, def);
}
function extend(schema, shape) {
  if (!isPlainObject(shape)) {
    throw new Error("Invalid input to extend: expected a plain object");
  }
  const checks = schema._zod.def.checks;
  const hasChecks = checks && checks.length > 0;
  if (hasChecks) {
    throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");
  }
  const def = mergeDefs(schema._zod.def, {
    get shape() {
      const _shape = { ...schema._zod.def.shape, ...shape };
      assignProp(this, "shape", _shape);
      return _shape;
    },
    checks: []
  });
  return clone(schema, def);
}
function safeExtend(schema, shape) {
  if (!isPlainObject(shape)) {
    throw new Error("Invalid input to safeExtend: expected a plain object");
  }
  const def = {
    ...schema._zod.def,
    get shape() {
      const _shape = { ...schema._zod.def.shape, ...shape };
      assignProp(this, "shape", _shape);
      return _shape;
    },
    checks: schema._zod.def.checks
  };
  return clone(schema, def);
}
function merge(a2, b) {
  const def = mergeDefs(a2._zod.def, {
    get shape() {
      const _shape = { ...a2._zod.def.shape, ...b._zod.def.shape };
      assignProp(this, "shape", _shape);
      return _shape;
    },
    get catchall() {
      return b._zod.def.catchall;
    },
    checks: []
    // delete existing checks
  });
  return clone(a2, def);
}
function partial(Class2, schema, mask) {
  const def = mergeDefs(schema._zod.def, {
    get shape() {
      const oldShape = schema._zod.def.shape;
      const shape = { ...oldShape };
      if (mask) {
        for (const key in mask) {
          if (!(key in oldShape)) {
            throw new Error(`Unrecognized key: "${key}"`);
          }
          if (!mask[key])
            continue;
          shape[key] = Class2 ? new Class2({
            type: "optional",
            innerType: oldShape[key]
          }) : oldShape[key];
        }
      } else {
        for (const key in oldShape) {
          shape[key] = Class2 ? new Class2({
            type: "optional",
            innerType: oldShape[key]
          }) : oldShape[key];
        }
      }
      assignProp(this, "shape", shape);
      return shape;
    },
    checks: []
  });
  return clone(schema, def);
}
function required(Class2, schema, mask) {
  const def = mergeDefs(schema._zod.def, {
    get shape() {
      const oldShape = schema._zod.def.shape;
      const shape = { ...oldShape };
      if (mask) {
        for (const key in mask) {
          if (!(key in shape)) {
            throw new Error(`Unrecognized key: "${key}"`);
          }
          if (!mask[key])
            continue;
          shape[key] = new Class2({
            type: "nonoptional",
            innerType: oldShape[key]
          });
        }
      } else {
        for (const key in oldShape) {
          shape[key] = new Class2({
            type: "nonoptional",
            innerType: oldShape[key]
          });
        }
      }
      assignProp(this, "shape", shape);
      return shape;
    },
    checks: []
  });
  return clone(schema, def);
}
function aborted(x, startIndex = 0) {
  if (x.aborted === true)
    return true;
  for (let i2 = startIndex; i2 < x.issues.length; i2++) {
    if (x.issues[i2]?.continue !== true) {
      return true;
    }
  }
  return false;
}
function prefixIssues(path, issues) {
  return issues.map((iss) => {
    var _a17;
    (_a17 = iss).path ?? (_a17.path = []);
    iss.path.unshift(path);
    return iss;
  });
}
function unwrapMessage(message) {
  return typeof message === "string" ? message : message?.message;
}
function finalizeIssue(iss, ctx, config2) {
  const full = { ...iss, path: iss.path ?? [] };
  if (!iss.message) {
    const message = unwrapMessage(iss.inst?._zod.def?.error?.(iss)) ?? unwrapMessage(ctx?.error?.(iss)) ?? unwrapMessage(config2.customError?.(iss)) ?? unwrapMessage(config2.localeError?.(iss)) ?? "Invalid input";
    full.message = message;
  }
  delete full.inst;
  delete full.continue;
  if (!ctx?.reportInput) {
    delete full.input;
  }
  return full;
}
function getSizableOrigin(input) {
  if (input instanceof Set)
    return "set";
  if (input instanceof Map)
    return "map";
  if (input instanceof File)
    return "file";
  return "unknown";
}
function getLengthableOrigin(input) {
  if (Array.isArray(input))
    return "array";
  if (typeof input === "string")
    return "string";
  return "unknown";
}
function issue(...args) {
  const [iss, input, inst] = args;
  if (typeof iss === "string") {
    return {
      message: iss,
      code: "custom",
      input,
      inst
    };
  }
  return { ...iss };
}
function cleanEnum(obj) {
  return Object.entries(obj).filter(([k, _]) => {
    return Number.isNaN(Number.parseInt(k, 10));
  }).map((el) => el[1]);
}
function base64ToUint8Array(base643) {
  const binaryString = atob(base643);
  const bytes = new Uint8Array(binaryString.length);
  for (let i2 = 0; i2 < binaryString.length; i2++) {
    bytes[i2] = binaryString.charCodeAt(i2);
  }
  return bytes;
}
function uint8ArrayToBase64(bytes) {
  let binaryString = "";
  for (let i2 = 0; i2 < bytes.length; i2++) {
    binaryString += String.fromCharCode(bytes[i2]);
  }
  return btoa(binaryString);
}
function base64urlToUint8Array(base64url3) {
  const base643 = base64url3.replace(/-/g, "+").replace(/_/g, "/");
  const padding = "=".repeat((4 - base643.length % 4) % 4);
  return base64ToUint8Array(base643 + padding);
}
function uint8ArrayToBase64url(bytes) {
  return uint8ArrayToBase64(bytes).replace(/\+/g, "-").replace(/\//g, "_").replace(/=/g, "");
}
function hexToUint8Array(hex3) {
  const cleanHex = hex3.replace(/^0x/, "");
  if (cleanHex.length % 2 !== 0) {
    throw new Error("Invalid hex string length");
  }
  const bytes = new Uint8Array(cleanHex.length / 2);
  for (let i2 = 0; i2 < cleanHex.length; i2 += 2) {
    bytes[i2 / 2] = Number.parseInt(cleanHex.slice(i2, i2 + 2), 16);
  }
  return bytes;
}
function uint8ArrayToHex(bytes) {
  return Array.from(bytes).map((b) => b.toString(16).padStart(2, "0")).join("");
}
var Class = class {
  constructor(..._args) {
  }
};

// node_modules/zod/v4/core/errors.js
var initializer = (inst, def) => {
  inst.name = "$ZodError";
  Object.defineProperty(inst, "_zod", {
    value: inst._zod,
    enumerable: false
  });
  Object.defineProperty(inst, "issues", {
    value: def,
    enumerable: false
  });
  inst.message = JSON.stringify(def, jsonStringifyReplacer, 2);
  Object.defineProperty(inst, "toString", {
    value: () => inst.message,
    enumerable: false
  });
};
var $ZodError = $constructor("$ZodError", initializer);
var $ZodRealError = $constructor("$ZodError", initializer, { Parent: Error });
function flattenError(error45, mapper = (issue2) => issue2.message) {
  const fieldErrors = {};
  const formErrors = [];
  for (const sub of error45.issues) {
    if (sub.path.length > 0) {
      fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];
      fieldErrors[sub.path[0]].push(mapper(sub));
    } else {
      formErrors.push(mapper(sub));
    }
  }
  return { formErrors, fieldErrors };
}
function formatError(error45, _mapper) {
  const mapper = _mapper || function(issue2) {
    return issue2.message;
  };
  const fieldErrors = { _errors: [] };
  const processError = (error46) => {
    for (const issue2 of error46.issues) {
      if (issue2.code === "invalid_union" && issue2.errors.length) {
        issue2.errors.map((issues) => processError({ issues }));
      } else if (issue2.code === "invalid_key") {
        processError({ issues: issue2.issues });
      } else if (issue2.code === "invalid_element") {
        processError({ issues: issue2.issues });
      } else if (issue2.path.length === 0) {
        fieldErrors._errors.push(mapper(issue2));
      } else {
        let curr = fieldErrors;
        let i2 = 0;
        while (i2 < issue2.path.length) {
          const el = issue2.path[i2];
          const terminal = i2 === issue2.path.length - 1;
          if (!terminal) {
            curr[el] = curr[el] || { _errors: [] };
          } else {
            curr[el] = curr[el] || { _errors: [] };
            curr[el]._errors.push(mapper(issue2));
          }
          curr = curr[el];
          i2++;
        }
      }
    }
  };
  processError(error45);
  return fieldErrors;
}
function treeifyError(error45, _mapper) {
  const mapper = _mapper || function(issue2) {
    return issue2.message;
  };
  const result = { errors: [] };
  const processError = (error46, path = []) => {
    var _a17, _b8;
    for (const issue2 of error46.issues) {
      if (issue2.code === "invalid_union" && issue2.errors.length) {
        issue2.errors.map((issues) => processError({ issues }, issue2.path));
      } else if (issue2.code === "invalid_key") {
        processError({ issues: issue2.issues }, issue2.path);
      } else if (issue2.code === "invalid_element") {
        processError({ issues: issue2.issues }, issue2.path);
      } else {
        const fullpath = [...path, ...issue2.path];
        if (fullpath.length === 0) {
          result.errors.push(mapper(issue2));
          continue;
        }
        let curr = result;
        let i2 = 0;
        while (i2 < fullpath.length) {
          const el = fullpath[i2];
          const terminal = i2 === fullpath.length - 1;
          if (typeof el === "string") {
            curr.properties ?? (curr.properties = {});
            (_a17 = curr.properties)[el] ?? (_a17[el] = { errors: [] });
            curr = curr.properties[el];
          } else {
            curr.items ?? (curr.items = []);
            (_b8 = curr.items)[el] ?? (_b8[el] = { errors: [] });
            curr = curr.items[el];
          }
          if (terminal) {
            curr.errors.push(mapper(issue2));
          }
          i2++;
        }
      }
    }
  };
  processError(error45);
  return result;
}
function toDotPath(_path) {
  const segs = [];
  const path = _path.map((seg) => typeof seg === "object" ? seg.key : seg);
  for (const seg of path) {
    if (typeof seg === "number")
      segs.push(`[${seg}]`);
    else if (typeof seg === "symbol")
      segs.push(`[${JSON.stringify(String(seg))}]`);
    else if (/[^\w$]/.test(seg))
      segs.push(`[${JSON.stringify(seg)}]`);
    else {
      if (segs.length)
        segs.push(".");
      segs.push(seg);
    }
  }
  return segs.join("");
}
function prettifyError(error45) {
  const lines = [];
  const issues = [...error45.issues].sort((a2, b) => (a2.path ?? []).length - (b.path ?? []).length);
  for (const issue2 of issues) {
    lines.push(`\u2716 ${issue2.message}`);
    if (issue2.path?.length)
      lines.push(`  \u2192 at ${toDotPath(issue2.path)}`);
  }
  return lines.join("\n");
}

// node_modules/zod/v4/core/parse.js
var _parse = (_Err) => (schema, value, _ctx, _params) => {
  const ctx = _ctx ? Object.assign(_ctx, { async: false }) : { async: false };
  const result = schema._zod.run({ value, issues: [] }, ctx);
  if (result instanceof Promise) {
    throw new $ZodAsyncError();
  }
  if (result.issues.length) {
    const e2 = new (_params?.Err ?? _Err)(result.issues.map((iss) => finalizeIssue(iss, ctx, config())));
    captureStackTrace(e2, _params?.callee);
    throw e2;
  }
  return result.value;
};
var parse = /* @__PURE__ */ _parse($ZodRealError);
var _parseAsync = (_Err) => async (schema, value, _ctx, params) => {
  const ctx = _ctx ? Object.assign(_ctx, { async: true }) : { async: true };
  let result = schema._zod.run({ value, issues: [] }, ctx);
  if (result instanceof Promise)
    result = await result;
  if (result.issues.length) {
    const e2 = new (params?.Err ?? _Err)(result.issues.map((iss) => finalizeIssue(iss, ctx, config())));
    captureStackTrace(e2, params?.callee);
    throw e2;
  }
  return result.value;
};
var parseAsync = /* @__PURE__ */ _parseAsync($ZodRealError);
var _safeParse = (_Err) => (schema, value, _ctx) => {
  const ctx = _ctx ? { ..._ctx, async: false } : { async: false };
  const result = schema._zod.run({ value, issues: [] }, ctx);
  if (result instanceof Promise) {
    throw new $ZodAsyncError();
  }
  return result.issues.length ? {
    success: false,
    error: new (_Err ?? $ZodError)(result.issues.map((iss) => finalizeIssue(iss, ctx, config())))
  } : { success: true, data: result.value };
};
var safeParse = /* @__PURE__ */ _safeParse($ZodRealError);
var _safeParseAsync = (_Err) => async (schema, value, _ctx) => {
  const ctx = _ctx ? Object.assign(_ctx, { async: true }) : { async: true };
  let result = schema._zod.run({ value, issues: [] }, ctx);
  if (result instanceof Promise)
    result = await result;
  return result.issues.length ? {
    success: false,
    error: new _Err(result.issues.map((iss) => finalizeIssue(iss, ctx, config())))
  } : { success: true, data: result.value };
};
var safeParseAsync = /* @__PURE__ */ _safeParseAsync($ZodRealError);
var _encode = (_Err) => (schema, value, _ctx) => {
  const ctx = _ctx ? Object.assign(_ctx, { direction: "backward" }) : { direction: "backward" };
  return _parse(_Err)(schema, value, ctx);
};
var encode = /* @__PURE__ */ _encode($ZodRealError);
var _decode = (_Err) => (schema, value, _ctx) => {
  return _parse(_Err)(schema, value, _ctx);
};
var decode = /* @__PURE__ */ _decode($ZodRealError);
var _encodeAsync = (_Err) => async (schema, value, _ctx) => {
  const ctx = _ctx ? Object.assign(_ctx, { direction: "backward" }) : { direction: "backward" };
  return _parseAsync(_Err)(schema, value, ctx);
};
var encodeAsync = /* @__PURE__ */ _encodeAsync($ZodRealError);
var _decodeAsync = (_Err) => async (schema, value, _ctx) => {
  return _parseAsync(_Err)(schema, value, _ctx);
};
var decodeAsync = /* @__PURE__ */ _decodeAsync($ZodRealError);
var _safeEncode = (_Err) => (schema, value, _ctx) => {
  const ctx = _ctx ? Object.assign(_ctx, { direction: "backward" }) : { direction: "backward" };
  return _safeParse(_Err)(schema, value, ctx);
};
var safeEncode = /* @__PURE__ */ _safeEncode($ZodRealError);
var _safeDecode = (_Err) => (schema, value, _ctx) => {
  return _safeParse(_Err)(schema, value, _ctx);
};
var safeDecode = /* @__PURE__ */ _safeDecode($ZodRealError);
var _safeEncodeAsync = (_Err) => async (schema, value, _ctx) => {
  const ctx = _ctx ? Object.assign(_ctx, { direction: "backward" }) : { direction: "backward" };
  return _safeParseAsync(_Err)(schema, value, ctx);
};
var safeEncodeAsync = /* @__PURE__ */ _safeEncodeAsync($ZodRealError);
var _safeDecodeAsync = (_Err) => async (schema, value, _ctx) => {
  return _safeParseAsync(_Err)(schema, value, _ctx);
};
var safeDecodeAsync = /* @__PURE__ */ _safeDecodeAsync($ZodRealError);

// node_modules/zod/v4/core/regexes.js
var regexes_exports = {};
__export(regexes_exports, {
  base64: () => base64,
  base64url: () => base64url,
  bigint: () => bigint,
  boolean: () => boolean,
  browserEmail: () => browserEmail,
  cidrv4: () => cidrv4,
  cidrv6: () => cidrv6,
  cuid: () => cuid,
  cuid2: () => cuid2,
  date: () => date,
  datetime: () => datetime,
  domain: () => domain,
  duration: () => duration,
  e164: () => e164,
  email: () => email,
  emoji: () => emoji,
  extendedDuration: () => extendedDuration,
  guid: () => guid,
  hex: () => hex,
  hostname: () => hostname,
  html5Email: () => html5Email,
  idnEmail: () => idnEmail,
  integer: () => integer,
  ipv4: () => ipv4,
  ipv6: () => ipv6,
  ksuid: () => ksuid,
  lowercase: () => lowercase,
  md5_base64: () => md5_base64,
  md5_base64url: () => md5_base64url,
  md5_hex: () => md5_hex,
  nanoid: () => nanoid,
  null: () => _null,
  number: () => number,
  rfc5322Email: () => rfc5322Email,
  sha1_base64: () => sha1_base64,
  sha1_base64url: () => sha1_base64url,
  sha1_hex: () => sha1_hex,
  sha256_base64: () => sha256_base64,
  sha256_base64url: () => sha256_base64url,
  sha256_hex: () => sha256_hex,
  sha384_base64: () => sha384_base64,
  sha384_base64url: () => sha384_base64url,
  sha384_hex: () => sha384_hex,
  sha512_base64: () => sha512_base64,
  sha512_base64url: () => sha512_base64url,
  sha512_hex: () => sha512_hex,
  string: () => string,
  time: () => time,
  ulid: () => ulid,
  undefined: () => _undefined,
  unicodeEmail: () => unicodeEmail,
  uppercase: () => uppercase,
  uuid: () => uuid,
  uuid4: () => uuid4,
  uuid6: () => uuid6,
  uuid7: () => uuid7,
  xid: () => xid
});
var cuid = /^[cC][^\s-]{8,}$/;
var cuid2 = /^[0-9a-z]+$/;
var ulid = /^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/;
var xid = /^[0-9a-vA-V]{20}$/;
var ksuid = /^[A-Za-z0-9]{27}$/;
var nanoid = /^[a-zA-Z0-9_-]{21}$/;
var duration = /^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/;
var extendedDuration = /^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/;
var guid = /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/;
var uuid = (version2) => {
  if (!version2)
    return /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/;
  return new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${version2}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`);
};
var uuid4 = /* @__PURE__ */ uuid(4);
var uuid6 = /* @__PURE__ */ uuid(6);
var uuid7 = /* @__PURE__ */ uuid(7);
var email = /^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;
var html5Email = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;
var rfc5322Email = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
var unicodeEmail = /^[^\s@"]{1,64}@[^\s@]{1,255}$/u;
var idnEmail = unicodeEmail;
var browserEmail = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;
var _emoji = `^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$`;
function emoji() {
  return new RegExp(_emoji, "u");
}
var ipv4 = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;
var ipv6 = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/;
var cidrv4 = /^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/;
var cidrv6 = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;
var base64 = /^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/;
var base64url = /^[A-Za-z0-9_-]*$/;
var hostname = /^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/;
var domain = /^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/;
var e164 = /^\+(?:[0-9]){6,14}[0-9]$/;
var dateSource = `(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))`;
var date = /* @__PURE__ */ new RegExp(`^${dateSource}$`);
function timeSource(args) {
  const hhmm = `(?:[01]\\d|2[0-3]):[0-5]\\d`;
  const regex = typeof args.precision === "number" ? args.precision === -1 ? `${hhmm}` : args.precision === 0 ? `${hhmm}:[0-5]\\d` : `${hhmm}:[0-5]\\d\\.\\d{${args.precision}}` : `${hhmm}(?::[0-5]\\d(?:\\.\\d+)?)?`;
  return regex;
}
function time(args) {
  return new RegExp(`^${timeSource(args)}$`);
}
function datetime(args) {
  const time3 = timeSource({ precision: args.precision });
  const opts = ["Z"];
  if (args.local)
    opts.push("");
  if (args.offset)
    opts.push(`([+-](?:[01]\\d|2[0-3]):[0-5]\\d)`);
  const timeRegex2 = `${time3}(?:${opts.join("|")})`;
  return new RegExp(`^${dateSource}T(?:${timeRegex2})$`);
}
var string = (params) => {
  const regex = params ? `[\\s\\S]{${params?.minimum ?? 0},${params?.maximum ?? ""}}` : `[\\s\\S]*`;
  return new RegExp(`^${regex}$`);
};
var bigint = /^-?\d+n?$/;
var integer = /^-?\d+$/;
var number = /^-?\d+(?:\.\d+)?/;
var boolean = /^(?:true|false)$/i;
var _null = /^null$/i;
var _undefined = /^undefined$/i;
var lowercase = /^[^A-Z]*$/;
var uppercase = /^[^a-z]*$/;
var hex = /^[0-9a-fA-F]*$/;
function fixedBase64(bodyLength, padding) {
  return new RegExp(`^[A-Za-z0-9+/]{${bodyLength}}${padding}$`);
}
function fixedBase64url(length) {
  return new RegExp(`^[A-Za-z0-9_-]{${length}}$`);
}
var md5_hex = /^[0-9a-fA-F]{32}$/;
var md5_base64 = /* @__PURE__ */ fixedBase64(22, "==");
var md5_base64url = /* @__PURE__ */ fixedBase64url(22);
var sha1_hex = /^[0-9a-fA-F]{40}$/;
var sha1_base64 = /* @__PURE__ */ fixedBase64(27, "=");
var sha1_base64url = /* @__PURE__ */ fixedBase64url(27);
var sha256_hex = /^[0-9a-fA-F]{64}$/;
var sha256_base64 = /* @__PURE__ */ fixedBase64(43, "=");
var sha256_base64url = /* @__PURE__ */ fixedBase64url(43);
var sha384_hex = /^[0-9a-fA-F]{96}$/;
var sha384_base64 = /* @__PURE__ */ fixedBase64(64, "");
var sha384_base64url = /* @__PURE__ */ fixedBase64url(64);
var sha512_hex = /^[0-9a-fA-F]{128}$/;
var sha512_base64 = /* @__PURE__ */ fixedBase64(86, "==");
var sha512_base64url = /* @__PURE__ */ fixedBase64url(86);

// node_modules/zod/v4/core/checks.js
var $ZodCheck = /* @__PURE__ */ $constructor("$ZodCheck", (inst, def) => {
  var _a17;
  inst._zod ?? (inst._zod = {});
  inst._zod.def = def;
  (_a17 = inst._zod).onattach ?? (_a17.onattach = []);
});
var numericOriginMap = {
  number: "number",
  bigint: "bigint",
  object: "date"
};
var $ZodCheckLessThan = /* @__PURE__ */ $constructor("$ZodCheckLessThan", (inst, def) => {
  $ZodCheck.init(inst, def);
  const origin = numericOriginMap[typeof def.value];
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    const curr = (def.inclusive ? bag.maximum : bag.exclusiveMaximum) ?? Number.POSITIVE_INFINITY;
    if (def.value < curr) {
      if (def.inclusive)
        bag.maximum = def.value;
      else
        bag.exclusiveMaximum = def.value;
    }
  });
  inst._zod.check = (payload) => {
    if (def.inclusive ? payload.value <= def.value : payload.value < def.value) {
      return;
    }
    payload.issues.push({
      origin,
      code: "too_big",
      maximum: def.value,
      input: payload.value,
      inclusive: def.inclusive,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckGreaterThan = /* @__PURE__ */ $constructor("$ZodCheckGreaterThan", (inst, def) => {
  $ZodCheck.init(inst, def);
  const origin = numericOriginMap[typeof def.value];
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    const curr = (def.inclusive ? bag.minimum : bag.exclusiveMinimum) ?? Number.NEGATIVE_INFINITY;
    if (def.value > curr) {
      if (def.inclusive)
        bag.minimum = def.value;
      else
        bag.exclusiveMinimum = def.value;
    }
  });
  inst._zod.check = (payload) => {
    if (def.inclusive ? payload.value >= def.value : payload.value > def.value) {
      return;
    }
    payload.issues.push({
      origin,
      code: "too_small",
      minimum: def.value,
      input: payload.value,
      inclusive: def.inclusive,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckMultipleOf = /* @__PURE__ */ $constructor("$ZodCheckMultipleOf", (inst, def) => {
  $ZodCheck.init(inst, def);
  inst._zod.onattach.push((inst2) => {
    var _a17;
    (_a17 = inst2._zod.bag).multipleOf ?? (_a17.multipleOf = def.value);
  });
  inst._zod.check = (payload) => {
    if (typeof payload.value !== typeof def.value)
      throw new Error("Cannot mix number and bigint in multiple_of check.");
    const isMultiple = typeof payload.value === "bigint" ? payload.value % def.value === BigInt(0) : floatSafeRemainder(payload.value, def.value) === 0;
    if (isMultiple)
      return;
    payload.issues.push({
      origin: typeof payload.value,
      code: "not_multiple_of",
      divisor: def.value,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckNumberFormat = /* @__PURE__ */ $constructor("$ZodCheckNumberFormat", (inst, def) => {
  $ZodCheck.init(inst, def);
  def.format = def.format || "float64";
  const isInt = def.format?.includes("int");
  const origin = isInt ? "int" : "number";
  const [minimum, maximum] = NUMBER_FORMAT_RANGES[def.format];
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.format = def.format;
    bag.minimum = minimum;
    bag.maximum = maximum;
    if (isInt)
      bag.pattern = integer;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    if (isInt) {
      if (!Number.isInteger(input)) {
        payload.issues.push({
          expected: origin,
          format: def.format,
          code: "invalid_type",
          continue: false,
          input,
          inst
        });
        return;
      }
      if (!Number.isSafeInteger(input)) {
        if (input > 0) {
          payload.issues.push({
            input,
            code: "too_big",
            maximum: Number.MAX_SAFE_INTEGER,
            note: "Integers must be within the safe integer range.",
            inst,
            origin,
            continue: !def.abort
          });
        } else {
          payload.issues.push({
            input,
            code: "too_small",
            minimum: Number.MIN_SAFE_INTEGER,
            note: "Integers must be within the safe integer range.",
            inst,
            origin,
            continue: !def.abort
          });
        }
        return;
      }
    }
    if (input < minimum) {
      payload.issues.push({
        origin: "number",
        input,
        code: "too_small",
        minimum,
        inclusive: true,
        inst,
        continue: !def.abort
      });
    }
    if (input > maximum) {
      payload.issues.push({
        origin: "number",
        input,
        code: "too_big",
        maximum,
        inst
      });
    }
  };
});
var $ZodCheckBigIntFormat = /* @__PURE__ */ $constructor("$ZodCheckBigIntFormat", (inst, def) => {
  $ZodCheck.init(inst, def);
  const [minimum, maximum] = BIGINT_FORMAT_RANGES[def.format];
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.format = def.format;
    bag.minimum = minimum;
    bag.maximum = maximum;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    if (input < minimum) {
      payload.issues.push({
        origin: "bigint",
        input,
        code: "too_small",
        minimum,
        inclusive: true,
        inst,
        continue: !def.abort
      });
    }
    if (input > maximum) {
      payload.issues.push({
        origin: "bigint",
        input,
        code: "too_big",
        maximum,
        inst
      });
    }
  };
});
var $ZodCheckMaxSize = /* @__PURE__ */ $constructor("$ZodCheckMaxSize", (inst, def) => {
  var _a17;
  $ZodCheck.init(inst, def);
  (_a17 = inst._zod.def).when ?? (_a17.when = (payload) => {
    const val = payload.value;
    return !nullish(val) && val.size !== void 0;
  });
  inst._zod.onattach.push((inst2) => {
    const curr = inst2._zod.bag.maximum ?? Number.POSITIVE_INFINITY;
    if (def.maximum < curr)
      inst2._zod.bag.maximum = def.maximum;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    const size = input.size;
    if (size <= def.maximum)
      return;
    payload.issues.push({
      origin: getSizableOrigin(input),
      code: "too_big",
      maximum: def.maximum,
      inclusive: true,
      input,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckMinSize = /* @__PURE__ */ $constructor("$ZodCheckMinSize", (inst, def) => {
  var _a17;
  $ZodCheck.init(inst, def);
  (_a17 = inst._zod.def).when ?? (_a17.when = (payload) => {
    const val = payload.value;
    return !nullish(val) && val.size !== void 0;
  });
  inst._zod.onattach.push((inst2) => {
    const curr = inst2._zod.bag.minimum ?? Number.NEGATIVE_INFINITY;
    if (def.minimum > curr)
      inst2._zod.bag.minimum = def.minimum;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    const size = input.size;
    if (size >= def.minimum)
      return;
    payload.issues.push({
      origin: getSizableOrigin(input),
      code: "too_small",
      minimum: def.minimum,
      inclusive: true,
      input,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckSizeEquals = /* @__PURE__ */ $constructor("$ZodCheckSizeEquals", (inst, def) => {
  var _a17;
  $ZodCheck.init(inst, def);
  (_a17 = inst._zod.def).when ?? (_a17.when = (payload) => {
    const val = payload.value;
    return !nullish(val) && val.size !== void 0;
  });
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.minimum = def.size;
    bag.maximum = def.size;
    bag.size = def.size;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    const size = input.size;
    if (size === def.size)
      return;
    const tooBig = size > def.size;
    payload.issues.push({
      origin: getSizableOrigin(input),
      ...tooBig ? { code: "too_big", maximum: def.size } : { code: "too_small", minimum: def.size },
      inclusive: true,
      exact: true,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckMaxLength = /* @__PURE__ */ $constructor("$ZodCheckMaxLength", (inst, def) => {
  var _a17;
  $ZodCheck.init(inst, def);
  (_a17 = inst._zod.def).when ?? (_a17.when = (payload) => {
    const val = payload.value;
    return !nullish(val) && val.length !== void 0;
  });
  inst._zod.onattach.push((inst2) => {
    const curr = inst2._zod.bag.maximum ?? Number.POSITIVE_INFINITY;
    if (def.maximum < curr)
      inst2._zod.bag.maximum = def.maximum;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    const length = input.length;
    if (length <= def.maximum)
      return;
    const origin = getLengthableOrigin(input);
    payload.issues.push({
      origin,
      code: "too_big",
      maximum: def.maximum,
      inclusive: true,
      input,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckMinLength = /* @__PURE__ */ $constructor("$ZodCheckMinLength", (inst, def) => {
  var _a17;
  $ZodCheck.init(inst, def);
  (_a17 = inst._zod.def).when ?? (_a17.when = (payload) => {
    const val = payload.value;
    return !nullish(val) && val.length !== void 0;
  });
  inst._zod.onattach.push((inst2) => {
    const curr = inst2._zod.bag.minimum ?? Number.NEGATIVE_INFINITY;
    if (def.minimum > curr)
      inst2._zod.bag.minimum = def.minimum;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    const length = input.length;
    if (length >= def.minimum)
      return;
    const origin = getLengthableOrigin(input);
    payload.issues.push({
      origin,
      code: "too_small",
      minimum: def.minimum,
      inclusive: true,
      input,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckLengthEquals = /* @__PURE__ */ $constructor("$ZodCheckLengthEquals", (inst, def) => {
  var _a17;
  $ZodCheck.init(inst, def);
  (_a17 = inst._zod.def).when ?? (_a17.when = (payload) => {
    const val = payload.value;
    return !nullish(val) && val.length !== void 0;
  });
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.minimum = def.length;
    bag.maximum = def.length;
    bag.length = def.length;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    const length = input.length;
    if (length === def.length)
      return;
    const origin = getLengthableOrigin(input);
    const tooBig = length > def.length;
    payload.issues.push({
      origin,
      ...tooBig ? { code: "too_big", maximum: def.length } : { code: "too_small", minimum: def.length },
      inclusive: true,
      exact: true,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckStringFormat = /* @__PURE__ */ $constructor("$ZodCheckStringFormat", (inst, def) => {
  var _a17, _b8;
  $ZodCheck.init(inst, def);
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.format = def.format;
    if (def.pattern) {
      bag.patterns ?? (bag.patterns = /* @__PURE__ */ new Set());
      bag.patterns.add(def.pattern);
    }
  });
  if (def.pattern)
    (_a17 = inst._zod).check ?? (_a17.check = (payload) => {
      def.pattern.lastIndex = 0;
      if (def.pattern.test(payload.value))
        return;
      payload.issues.push({
        origin: "string",
        code: "invalid_format",
        format: def.format,
        input: payload.value,
        ...def.pattern ? { pattern: def.pattern.toString() } : {},
        inst,
        continue: !def.abort
      });
    });
  else
    (_b8 = inst._zod).check ?? (_b8.check = () => {
    });
});
var $ZodCheckRegex = /* @__PURE__ */ $constructor("$ZodCheckRegex", (inst, def) => {
  $ZodCheckStringFormat.init(inst, def);
  inst._zod.check = (payload) => {
    def.pattern.lastIndex = 0;
    if (def.pattern.test(payload.value))
      return;
    payload.issues.push({
      origin: "string",
      code: "invalid_format",
      format: "regex",
      input: payload.value,
      pattern: def.pattern.toString(),
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckLowerCase = /* @__PURE__ */ $constructor("$ZodCheckLowerCase", (inst, def) => {
  def.pattern ?? (def.pattern = lowercase);
  $ZodCheckStringFormat.init(inst, def);
});
var $ZodCheckUpperCase = /* @__PURE__ */ $constructor("$ZodCheckUpperCase", (inst, def) => {
  def.pattern ?? (def.pattern = uppercase);
  $ZodCheckStringFormat.init(inst, def);
});
var $ZodCheckIncludes = /* @__PURE__ */ $constructor("$ZodCheckIncludes", (inst, def) => {
  $ZodCheck.init(inst, def);
  const escapedRegex = escapeRegex(def.includes);
  const pattern = new RegExp(typeof def.position === "number" ? `^.{${def.position}}${escapedRegex}` : escapedRegex);
  def.pattern = pattern;
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.patterns ?? (bag.patterns = /* @__PURE__ */ new Set());
    bag.patterns.add(pattern);
  });
  inst._zod.check = (payload) => {
    if (payload.value.includes(def.includes, def.position))
      return;
    payload.issues.push({
      origin: "string",
      code: "invalid_format",
      format: "includes",
      includes: def.includes,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckStartsWith = /* @__PURE__ */ $constructor("$ZodCheckStartsWith", (inst, def) => {
  $ZodCheck.init(inst, def);
  const pattern = new RegExp(`^${escapeRegex(def.prefix)}.*`);
  def.pattern ?? (def.pattern = pattern);
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.patterns ?? (bag.patterns = /* @__PURE__ */ new Set());
    bag.patterns.add(pattern);
  });
  inst._zod.check = (payload) => {
    if (payload.value.startsWith(def.prefix))
      return;
    payload.issues.push({
      origin: "string",
      code: "invalid_format",
      format: "starts_with",
      prefix: def.prefix,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckEndsWith = /* @__PURE__ */ $constructor("$ZodCheckEndsWith", (inst, def) => {
  $ZodCheck.init(inst, def);
  const pattern = new RegExp(`.*${escapeRegex(def.suffix)}$`);
  def.pattern ?? (def.pattern = pattern);
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.patterns ?? (bag.patterns = /* @__PURE__ */ new Set());
    bag.patterns.add(pattern);
  });
  inst._zod.check = (payload) => {
    if (payload.value.endsWith(def.suffix))
      return;
    payload.issues.push({
      origin: "string",
      code: "invalid_format",
      format: "ends_with",
      suffix: def.suffix,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
function handleCheckPropertyResult(result, payload, property) {
  if (result.issues.length) {
    payload.issues.push(...prefixIssues(property, result.issues));
  }
}
var $ZodCheckProperty = /* @__PURE__ */ $constructor("$ZodCheckProperty", (inst, def) => {
  $ZodCheck.init(inst, def);
  inst._zod.check = (payload) => {
    const result = def.schema._zod.run({
      value: payload.value[def.property],
      issues: []
    }, {});
    if (result instanceof Promise) {
      return result.then((result2) => handleCheckPropertyResult(result2, payload, def.property));
    }
    handleCheckPropertyResult(result, payload, def.property);
    return;
  };
});
var $ZodCheckMimeType = /* @__PURE__ */ $constructor("$ZodCheckMimeType", (inst, def) => {
  $ZodCheck.init(inst, def);
  const mimeSet = new Set(def.mime);
  inst._zod.onattach.push((inst2) => {
    inst2._zod.bag.mime = def.mime;
  });
  inst._zod.check = (payload) => {
    if (mimeSet.has(payload.value.type))
      return;
    payload.issues.push({
      code: "invalid_value",
      values: def.mime,
      input: payload.value.type,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckOverwrite = /* @__PURE__ */ $constructor("$ZodCheckOverwrite", (inst, def) => {
  $ZodCheck.init(inst, def);
  inst._zod.check = (payload) => {
    payload.value = def.tx(payload.value);
  };
});

// node_modules/zod/v4/core/doc.js
var Doc = class {
  constructor(args = []) {
    this.content = [];
    this.indent = 0;
    if (this)
      this.args = args;
  }
  indented(fn) {
    this.indent += 1;
    fn(this);
    this.indent -= 1;
  }
  write(arg) {
    if (typeof arg === "function") {
      arg(this, { execution: "sync" });
      arg(this, { execution: "async" });
      return;
    }
    const content = arg;
    const lines = content.split("\n").filter((x) => x);
    const minIndent = Math.min(...lines.map((x) => x.length - x.trimStart().length));
    const dedented = lines.map((x) => x.slice(minIndent)).map((x) => " ".repeat(this.indent * 2) + x);
    for (const line of dedented) {
      this.content.push(line);
    }
  }
  compile() {
    const F = Function;
    const args = this?.args;
    const content = this?.content ?? [``];
    const lines = [...content.map((x) => `  ${x}`)];
    return new F(...args, lines.join("\n"));
  }
};

// node_modules/zod/v4/core/versions.js
var version = {
  major: 4,
  minor: 1,
  patch: 8
};

// node_modules/zod/v4/core/schemas.js
var $ZodType = /* @__PURE__ */ $constructor("$ZodType", (inst, def) => {
  var _a17;
  inst ?? (inst = {});
  inst._zod.def = def;
  inst._zod.bag = inst._zod.bag || {};
  inst._zod.version = version;
  const checks = [...inst._zod.def.checks ?? []];
  if (inst._zod.traits.has("$ZodCheck")) {
    checks.unshift(inst);
  }
  for (const ch of checks) {
    for (const fn of ch._zod.onattach) {
      fn(inst);
    }
  }
  if (checks.length === 0) {
    (_a17 = inst._zod).deferred ?? (_a17.deferred = []);
    inst._zod.deferred?.push(() => {
      inst._zod.run = inst._zod.parse;
    });
  } else {
    const runChecks = (payload, checks2, ctx) => {
      let isAborted2 = aborted(payload);
      let asyncResult;
      for (const ch of checks2) {
        if (ch._zod.def.when) {
          const shouldRun = ch._zod.def.when(payload);
          if (!shouldRun)
            continue;
        } else if (isAborted2) {
          continue;
        }
        const currLen = payload.issues.length;
        const _ = ch._zod.check(payload);
        if (_ instanceof Promise && ctx?.async === false) {
          throw new $ZodAsyncError();
        }
        if (asyncResult || _ instanceof Promise) {
          asyncResult = (asyncResult ?? Promise.resolve()).then(async () => {
            await _;
            const nextLen = payload.issues.length;
            if (nextLen === currLen)
              return;
            if (!isAborted2)
              isAborted2 = aborted(payload, currLen);
          });
        } else {
          const nextLen = payload.issues.length;
          if (nextLen === currLen)
            continue;
          if (!isAborted2)
            isAborted2 = aborted(payload, currLen);
        }
      }
      if (asyncResult) {
        return asyncResult.then(() => {
          return payload;
        });
      }
      return payload;
    };
    const handleCanaryResult = (canary, payload, ctx) => {
      if (aborted(canary)) {
        canary.aborted = true;
        return canary;
      }
      const checkResult = runChecks(payload, checks, ctx);
      if (checkResult instanceof Promise) {
        if (ctx.async === false)
          throw new $ZodAsyncError();
        return checkResult.then((checkResult2) => inst._zod.parse(checkResult2, ctx));
      }
      return inst._zod.parse(checkResult, ctx);
    };
    inst._zod.run = (payload, ctx) => {
      if (ctx.skipChecks) {
        return inst._zod.parse(payload, ctx);
      }
      if (ctx.direction === "backward") {
        const canary = inst._zod.parse({ value: payload.value, issues: [] }, { ...ctx, skipChecks: true });
        if (canary instanceof Promise) {
          return canary.then((canary2) => {
            return handleCanaryResult(canary2, payload, ctx);
          });
        }
        return handleCanaryResult(canary, payload, ctx);
      }
      const result = inst._zod.parse(payload, ctx);
      if (result instanceof Promise) {
        if (ctx.async === false)
          throw new $ZodAsyncError();
        return result.then((result2) => runChecks(result2, checks, ctx));
      }
      return runChecks(result, checks, ctx);
    };
  }
  inst["~standard"] = {
    validate: (value) => {
      try {
        const r2 = safeParse(inst, value);
        return r2.success ? { value: r2.data } : { issues: r2.error?.issues };
      } catch (_) {
        return safeParseAsync(inst, value).then((r2) => r2.success ? { value: r2.data } : { issues: r2.error?.issues });
      }
    },
    vendor: "zod",
    version: 1
  };
});
var $ZodString = /* @__PURE__ */ $constructor("$ZodString", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.pattern = [...inst?._zod.bag?.patterns ?? []].pop() ?? string(inst._zod.bag);
  inst._zod.parse = (payload, _) => {
    if (def.coerce)
      try {
        payload.value = String(payload.value);
      } catch (_2) {
      }
    if (typeof payload.value === "string")
      return payload;
    payload.issues.push({
      expected: "string",
      code: "invalid_type",
      input: payload.value,
      inst
    });
    return payload;
  };
});
var $ZodStringFormat = /* @__PURE__ */ $constructor("$ZodStringFormat", (inst, def) => {
  $ZodCheckStringFormat.init(inst, def);
  $ZodString.init(inst, def);
});
var $ZodGUID = /* @__PURE__ */ $constructor("$ZodGUID", (inst, def) => {
  def.pattern ?? (def.pattern = guid);
  $ZodStringFormat.init(inst, def);
});
var $ZodUUID = /* @__PURE__ */ $constructor("$ZodUUID", (inst, def) => {
  if (def.version) {
    const versionMap = {
      v1: 1,
      v2: 2,
      v3: 3,
      v4: 4,
      v5: 5,
      v6: 6,
      v7: 7,
      v8: 8
    };
    const v = versionMap[def.version];
    if (v === void 0)
      throw new Error(`Invalid UUID version: "${def.version}"`);
    def.pattern ?? (def.pattern = uuid(v));
  } else
    def.pattern ?? (def.pattern = uuid());
  $ZodStringFormat.init(inst, def);
});
var $ZodEmail = /* @__PURE__ */ $constructor("$ZodEmail", (inst, def) => {
  def.pattern ?? (def.pattern = email);
  $ZodStringFormat.init(inst, def);
});
var $ZodURL = /* @__PURE__ */ $constructor("$ZodURL", (inst, def) => {
  $ZodStringFormat.init(inst, def);
  inst._zod.check = (payload) => {
    try {
      const trimmed = payload.value.trim();
      const url2 = new URL(trimmed);
      if (def.hostname) {
        def.hostname.lastIndex = 0;
        if (!def.hostname.test(url2.hostname)) {
          payload.issues.push({
            code: "invalid_format",
            format: "url",
            note: "Invalid hostname",
            pattern: hostname.source,
            input: payload.value,
            inst,
            continue: !def.abort
          });
        }
      }
      if (def.protocol) {
        def.protocol.lastIndex = 0;
        if (!def.protocol.test(url2.protocol.endsWith(":") ? url2.protocol.slice(0, -1) : url2.protocol)) {
          payload.issues.push({
            code: "invalid_format",
            format: "url",
            note: "Invalid protocol",
            pattern: def.protocol.source,
            input: payload.value,
            inst,
            continue: !def.abort
          });
        }
      }
      if (def.normalize) {
        payload.value = url2.href;
      } else {
        payload.value = trimmed;
      }
      return;
    } catch (_) {
      payload.issues.push({
        code: "invalid_format",
        format: "url",
        input: payload.value,
        inst,
        continue: !def.abort
      });
    }
  };
});
var $ZodEmoji = /* @__PURE__ */ $constructor("$ZodEmoji", (inst, def) => {
  def.pattern ?? (def.pattern = emoji());
  $ZodStringFormat.init(inst, def);
});
var $ZodNanoID = /* @__PURE__ */ $constructor("$ZodNanoID", (inst, def) => {
  def.pattern ?? (def.pattern = nanoid);
  $ZodStringFormat.init(inst, def);
});
var $ZodCUID = /* @__PURE__ */ $constructor("$ZodCUID", (inst, def) => {
  def.pattern ?? (def.pattern = cuid);
  $ZodStringFormat.init(inst, def);
});
var $ZodCUID2 = /* @__PURE__ */ $constructor("$ZodCUID2", (inst, def) => {
  def.pattern ?? (def.pattern = cuid2);
  $ZodStringFormat.init(inst, def);
});
var $ZodULID = /* @__PURE__ */ $constructor("$ZodULID", (inst, def) => {
  def.pattern ?? (def.pattern = ulid);
  $ZodStringFormat.init(inst, def);
});
var $ZodXID = /* @__PURE__ */ $constructor("$ZodXID", (inst, def) => {
  def.pattern ?? (def.pattern = xid);
  $ZodStringFormat.init(inst, def);
});
var $ZodKSUID = /* @__PURE__ */ $constructor("$ZodKSUID", (inst, def) => {
  def.pattern ?? (def.pattern = ksuid);
  $ZodStringFormat.init(inst, def);
});
var $ZodISODateTime = /* @__PURE__ */ $constructor("$ZodISODateTime", (inst, def) => {
  def.pattern ?? (def.pattern = datetime(def));
  $ZodStringFormat.init(inst, def);
});
var $ZodISODate = /* @__PURE__ */ $constructor("$ZodISODate", (inst, def) => {
  def.pattern ?? (def.pattern = date);
  $ZodStringFormat.init(inst, def);
});
var $ZodISOTime = /* @__PURE__ */ $constructor("$ZodISOTime", (inst, def) => {
  def.pattern ?? (def.pattern = time(def));
  $ZodStringFormat.init(inst, def);
});
var $ZodISODuration = /* @__PURE__ */ $constructor("$ZodISODuration", (inst, def) => {
  def.pattern ?? (def.pattern = duration);
  $ZodStringFormat.init(inst, def);
});
var $ZodIPv4 = /* @__PURE__ */ $constructor("$ZodIPv4", (inst, def) => {
  def.pattern ?? (def.pattern = ipv4);
  $ZodStringFormat.init(inst, def);
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.format = `ipv4`;
  });
});
var $ZodIPv6 = /* @__PURE__ */ $constructor("$ZodIPv6", (inst, def) => {
  def.pattern ?? (def.pattern = ipv6);
  $ZodStringFormat.init(inst, def);
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.format = `ipv6`;
  });
  inst._zod.check = (payload) => {
    try {
      new URL(`http://[${payload.value}]`);
    } catch {
      payload.issues.push({
        code: "invalid_format",
        format: "ipv6",
        input: payload.value,
        inst,
        continue: !def.abort
      });
    }
  };
});
var $ZodCIDRv4 = /* @__PURE__ */ $constructor("$ZodCIDRv4", (inst, def) => {
  def.pattern ?? (def.pattern = cidrv4);
  $ZodStringFormat.init(inst, def);
});
var $ZodCIDRv6 = /* @__PURE__ */ $constructor("$ZodCIDRv6", (inst, def) => {
  def.pattern ?? (def.pattern = cidrv6);
  $ZodStringFormat.init(inst, def);
  inst._zod.check = (payload) => {
    const parts = payload.value.split("/");
    try {
      if (parts.length !== 2)
        throw new Error();
      const [address, prefix] = parts;
      if (!prefix)
        throw new Error();
      const prefixNum = Number(prefix);
      if (`${prefixNum}` !== prefix)
        throw new Error();
      if (prefixNum < 0 || prefixNum > 128)
        throw new Error();
      new URL(`http://[${address}]`);
    } catch {
      payload.issues.push({
        code: "invalid_format",
        format: "cidrv6",
        input: payload.value,
        inst,
        continue: !def.abort
      });
    }
  };
});
function isValidBase64(data) {
  if (data === "")
    return true;
  if (data.length % 4 !== 0)
    return false;
  try {
    atob(data);
    return true;
  } catch {
    return false;
  }
}
var $ZodBase64 = /* @__PURE__ */ $constructor("$ZodBase64", (inst, def) => {
  def.pattern ?? (def.pattern = base64);
  $ZodStringFormat.init(inst, def);
  inst._zod.onattach.push((inst2) => {
    inst2._zod.bag.contentEncoding = "base64";
  });
  inst._zod.check = (payload) => {
    if (isValidBase64(payload.value))
      return;
    payload.issues.push({
      code: "invalid_format",
      format: "base64",
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
function isValidBase64URL(data) {
  if (!base64url.test(data))
    return false;
  const base643 = data.replace(/[-_]/g, (c) => c === "-" ? "+" : "/");
  const padded = base643.padEnd(Math.ceil(base643.length / 4) * 4, "=");
  return isValidBase64(padded);
}
var $ZodBase64URL = /* @__PURE__ */ $constructor("$ZodBase64URL", (inst, def) => {
  def.pattern ?? (def.pattern = base64url);
  $ZodStringFormat.init(inst, def);
  inst._zod.onattach.push((inst2) => {
    inst2._zod.bag.contentEncoding = "base64url";
  });
  inst._zod.check = (payload) => {
    if (isValidBase64URL(payload.value))
      return;
    payload.issues.push({
      code: "invalid_format",
      format: "base64url",
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodE164 = /* @__PURE__ */ $constructor("$ZodE164", (inst, def) => {
  def.pattern ?? (def.pattern = e164);
  $ZodStringFormat.init(inst, def);
});
function isValidJWT(token, algorithm = null) {
  try {
    const tokensParts = token.split(".");
    if (tokensParts.length !== 3)
      return false;
    const [header] = tokensParts;
    if (!header)
      return false;
    const parsedHeader = JSON.parse(atob(header));
    if ("typ" in parsedHeader && parsedHeader?.typ !== "JWT")
      return false;
    if (!parsedHeader.alg)
      return false;
    if (algorithm && (!("alg" in parsedHeader) || parsedHeader.alg !== algorithm))
      return false;
    return true;
  } catch {
    return false;
  }
}
var $ZodJWT = /* @__PURE__ */ $constructor("$ZodJWT", (inst, def) => {
  $ZodStringFormat.init(inst, def);
  inst._zod.check = (payload) => {
    if (isValidJWT(payload.value, def.alg))
      return;
    payload.issues.push({
      code: "invalid_format",
      format: "jwt",
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCustomStringFormat = /* @__PURE__ */ $constructor("$ZodCustomStringFormat", (inst, def) => {
  $ZodStringFormat.init(inst, def);
  inst._zod.check = (payload) => {
    if (def.fn(payload.value))
      return;
    payload.issues.push({
      code: "invalid_format",
      format: def.format,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodNumber = /* @__PURE__ */ $constructor("$ZodNumber", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.pattern = inst._zod.bag.pattern ?? number;
  inst._zod.parse = (payload, _ctx) => {
    if (def.coerce)
      try {
        payload.value = Number(payload.value);
      } catch (_) {
      }
    const input = payload.value;
    if (typeof input === "number" && !Number.isNaN(input) && Number.isFinite(input)) {
      return payload;
    }
    const received = typeof input === "number" ? Number.isNaN(input) ? "NaN" : !Number.isFinite(input) ? "Infinity" : void 0 : void 0;
    payload.issues.push({
      expected: "number",
      code: "invalid_type",
      input,
      inst,
      ...received ? { received } : {}
    });
    return payload;
  };
});
var $ZodNumberFormat = /* @__PURE__ */ $constructor("$ZodNumber", (inst, def) => {
  $ZodCheckNumberFormat.init(inst, def);
  $ZodNumber.init(inst, def);
});
var $ZodBoolean = /* @__PURE__ */ $constructor("$ZodBoolean", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.pattern = boolean;
  inst._zod.parse = (payload, _ctx) => {
    if (def.coerce)
      try {
        payload.value = Boolean(payload.value);
      } catch (_) {
      }
    const input = payload.value;
    if (typeof input === "boolean")
      return payload;
    payload.issues.push({
      expected: "boolean",
      code: "invalid_type",
      input,
      inst
    });
    return payload;
  };
});
var $ZodBigInt = /* @__PURE__ */ $constructor("$ZodBigInt", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.pattern = bigint;
  inst._zod.parse = (payload, _ctx) => {
    if (def.coerce)
      try {
        payload.value = BigInt(payload.value);
      } catch (_) {
      }
    if (typeof payload.value === "bigint")
      return payload;
    payload.issues.push({
      expected: "bigint",
      code: "invalid_type",
      input: payload.value,
      inst
    });
    return payload;
  };
});
var $ZodBigIntFormat = /* @__PURE__ */ $constructor("$ZodBigInt", (inst, def) => {
  $ZodCheckBigIntFormat.init(inst, def);
  $ZodBigInt.init(inst, def);
});
var $ZodSymbol = /* @__PURE__ */ $constructor("$ZodSymbol", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (typeof input === "symbol")
      return payload;
    payload.issues.push({
      expected: "symbol",
      code: "invalid_type",
      input,
      inst
    });
    return payload;
  };
});
var $ZodUndefined = /* @__PURE__ */ $constructor("$ZodUndefined", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.pattern = _undefined;
  inst._zod.values = /* @__PURE__ */ new Set([void 0]);
  inst._zod.optin = "optional";
  inst._zod.optout = "optional";
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (typeof input === "undefined")
      return payload;
    payload.issues.push({
      expected: "undefined",
      code: "invalid_type",
      input,
      inst
    });
    return payload;
  };
});
var $ZodNull = /* @__PURE__ */ $constructor("$ZodNull", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.pattern = _null;
  inst._zod.values = /* @__PURE__ */ new Set([null]);
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (input === null)
      return payload;
    payload.issues.push({
      expected: "null",
      code: "invalid_type",
      input,
      inst
    });
    return payload;
  };
});
var $ZodAny = /* @__PURE__ */ $constructor("$ZodAny", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload) => payload;
});
var $ZodUnknown = /* @__PURE__ */ $constructor("$ZodUnknown", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload) => payload;
});
var $ZodNever = /* @__PURE__ */ $constructor("$ZodNever", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    payload.issues.push({
      expected: "never",
      code: "invalid_type",
      input: payload.value,
      inst
    });
    return payload;
  };
});
var $ZodVoid = /* @__PURE__ */ $constructor("$ZodVoid", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (typeof input === "undefined")
      return payload;
    payload.issues.push({
      expected: "void",
      code: "invalid_type",
      input,
      inst
    });
    return payload;
  };
});
var $ZodDate = /* @__PURE__ */ $constructor("$ZodDate", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    if (def.coerce) {
      try {
        payload.value = new Date(payload.value);
      } catch (_err) {
      }
    }
    const input = payload.value;
    const isDate = input instanceof Date;
    const isValidDate = isDate && !Number.isNaN(input.getTime());
    if (isValidDate)
      return payload;
    payload.issues.push({
      expected: "date",
      code: "invalid_type",
      input,
      ...isDate ? { received: "Invalid Date" } : {},
      inst
    });
    return payload;
  };
});
function handleArrayResult(result, final, index) {
  if (result.issues.length) {
    final.issues.push(...prefixIssues(index, result.issues));
  }
  final.value[index] = result.value;
}
var $ZodArray = /* @__PURE__ */ $constructor("$ZodArray", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    if (!Array.isArray(input)) {
      payload.issues.push({
        expected: "array",
        code: "invalid_type",
        input,
        inst
      });
      return payload;
    }
    payload.value = Array(input.length);
    const proms = [];
    for (let i2 = 0; i2 < input.length; i2++) {
      const item = input[i2];
      const result = def.element._zod.run({
        value: item,
        issues: []
      }, ctx);
      if (result instanceof Promise) {
        proms.push(result.then((result2) => handleArrayResult(result2, payload, i2)));
      } else {
        handleArrayResult(result, payload, i2);
      }
    }
    if (proms.length) {
      return Promise.all(proms).then(() => payload);
    }
    return payload;
  };
});
function handlePropertyResult(result, final, key, input) {
  if (result.issues.length) {
    final.issues.push(...prefixIssues(key, result.issues));
  }
  if (result.value === void 0) {
    if (key in input) {
      final.value[key] = void 0;
    }
  } else {
    final.value[key] = result.value;
  }
}
function normalizeDef(def) {
  const keys = Object.keys(def.shape);
  for (const k of keys) {
    if (!def.shape?.[k]?._zod?.traits?.has("$ZodType")) {
      throw new Error(`Invalid element at key "${k}": expected a Zod schema`);
    }
  }
  const okeys = optionalKeys(def.shape);
  return {
    ...def,
    keys,
    keySet: new Set(keys),
    numKeys: keys.length,
    optionalKeys: new Set(okeys)
  };
}
function handleCatchall(proms, input, payload, ctx, def, inst) {
  const unrecognized = [];
  const keySet = def.keySet;
  const _catchall = def.catchall._zod;
  const t2 = _catchall.def.type;
  for (const key of Object.keys(input)) {
    if (keySet.has(key))
      continue;
    if (t2 === "never") {
      unrecognized.push(key);
      continue;
    }
    const r2 = _catchall.run({ value: input[key], issues: [] }, ctx);
    if (r2 instanceof Promise) {
      proms.push(r2.then((r3) => handlePropertyResult(r3, payload, key, input)));
    } else {
      handlePropertyResult(r2, payload, key, input);
    }
  }
  if (unrecognized.length) {
    payload.issues.push({
      code: "unrecognized_keys",
      keys: unrecognized,
      input,
      inst
    });
  }
  if (!proms.length)
    return payload;
  return Promise.all(proms).then(() => {
    return payload;
  });
}
var $ZodObject = /* @__PURE__ */ $constructor("$ZodObject", (inst, def) => {
  $ZodType.init(inst, def);
  const _normalized = cached(() => normalizeDef(def));
  defineLazy(inst._zod, "propValues", () => {
    const shape = def.shape;
    const propValues = {};
    for (const key in shape) {
      const field = shape[key]._zod;
      if (field.values) {
        propValues[key] ?? (propValues[key] = /* @__PURE__ */ new Set());
        for (const v of field.values)
          propValues[key].add(v);
      }
    }
    return propValues;
  });
  const isObject2 = isObject;
  const catchall = def.catchall;
  let value;
  inst._zod.parse = (payload, ctx) => {
    value ?? (value = _normalized.value);
    const input = payload.value;
    if (!isObject2(input)) {
      payload.issues.push({
        expected: "object",
        code: "invalid_type",
        input,
        inst
      });
      return payload;
    }
    payload.value = {};
    const proms = [];
    const shape = value.shape;
    for (const key of value.keys) {
      const el = shape[key];
      const r2 = el._zod.run({ value: input[key], issues: [] }, ctx);
      if (r2 instanceof Promise) {
        proms.push(r2.then((r3) => handlePropertyResult(r3, payload, key, input)));
      } else {
        handlePropertyResult(r2, payload, key, input);
      }
    }
    if (!catchall) {
      return proms.length ? Promise.all(proms).then(() => payload) : payload;
    }
    return handleCatchall(proms, input, payload, ctx, _normalized.value, inst);
  };
});
var $ZodObjectJIT = /* @__PURE__ */ $constructor("$ZodObjectJIT", (inst, def) => {
  $ZodObject.init(inst, def);
  const superParse = inst._zod.parse;
  const _normalized = cached(() => normalizeDef(def));
  const generateFastpass = (shape) => {
    const doc = new Doc(["shape", "payload", "ctx"]);
    const normalized = _normalized.value;
    const parseStr = (key) => {
      const k = esc(key);
      return `shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`;
    };
    doc.write(`const input = payload.value;`);
    const ids = /* @__PURE__ */ Object.create(null);
    let counter = 0;
    for (const key of normalized.keys) {
      ids[key] = `key_${counter++}`;
    }
    doc.write(`const newResult = {};`);
    for (const key of normalized.keys) {
      const id = ids[key];
      const k = esc(key);
      doc.write(`const ${id} = ${parseStr(key)};`);
      doc.write(`
        if (${id}.issues.length) {
          payload.issues = payload.issues.concat(${id}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${k}, ...iss.path] : [${k}]
          })));
        }
        
        
        if (${id}.value === undefined) {
          if (${k} in input) {
            newResult[${k}] = undefined;
          }
        } else {
          newResult[${k}] = ${id}.value;
        }
        
      `);
    }
    doc.write(`payload.value = newResult;`);
    doc.write(`return payload;`);
    const fn = doc.compile();
    return (payload, ctx) => fn(shape, payload, ctx);
  };
  let fastpass;
  const isObject2 = isObject;
  const jit = !globalConfig.jitless;
  const allowsEval2 = allowsEval;
  const fastEnabled = jit && allowsEval2.value;
  const catchall = def.catchall;
  let value;
  inst._zod.parse = (payload, ctx) => {
    value ?? (value = _normalized.value);
    const input = payload.value;
    if (!isObject2(input)) {
      payload.issues.push({
        expected: "object",
        code: "invalid_type",
        input,
        inst
      });
      return payload;
    }
    if (jit && fastEnabled && ctx?.async === false && ctx.jitless !== true) {
      if (!fastpass)
        fastpass = generateFastpass(def.shape);
      payload = fastpass(payload, ctx);
      if (!catchall)
        return payload;
      return handleCatchall([], input, payload, ctx, value, inst);
    }
    return superParse(payload, ctx);
  };
});
function handleUnionResults(results, final, inst, ctx) {
  for (const result of results) {
    if (result.issues.length === 0) {
      final.value = result.value;
      return final;
    }
  }
  const nonaborted = results.filter((r2) => !aborted(r2));
  if (nonaborted.length === 1) {
    final.value = nonaborted[0].value;
    return nonaborted[0];
  }
  final.issues.push({
    code: "invalid_union",
    input: final.value,
    inst,
    errors: results.map((result) => result.issues.map((iss) => finalizeIssue(iss, ctx, config())))
  });
  return final;
}
var $ZodUnion = /* @__PURE__ */ $constructor("$ZodUnion", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "optin", () => def.options.some((o2) => o2._zod.optin === "optional") ? "optional" : void 0);
  defineLazy(inst._zod, "optout", () => def.options.some((o2) => o2._zod.optout === "optional") ? "optional" : void 0);
  defineLazy(inst._zod, "values", () => {
    if (def.options.every((o2) => o2._zod.values)) {
      return new Set(def.options.flatMap((option) => Array.from(option._zod.values)));
    }
    return void 0;
  });
  defineLazy(inst._zod, "pattern", () => {
    if (def.options.every((o2) => o2._zod.pattern)) {
      const patterns = def.options.map((o2) => o2._zod.pattern);
      return new RegExp(`^(${patterns.map((p) => cleanRegex(p.source)).join("|")})$`);
    }
    return void 0;
  });
  const single = def.options.length === 1;
  const first = def.options[0]._zod.run;
  inst._zod.parse = (payload, ctx) => {
    if (single) {
      return first(payload, ctx);
    }
    let async = false;
    const results = [];
    for (const option of def.options) {
      const result = option._zod.run({
        value: payload.value,
        issues: []
      }, ctx);
      if (result instanceof Promise) {
        results.push(result);
        async = true;
      } else {
        if (result.issues.length === 0)
          return result;
        results.push(result);
      }
    }
    if (!async)
      return handleUnionResults(results, payload, inst, ctx);
    return Promise.all(results).then((results2) => {
      return handleUnionResults(results2, payload, inst, ctx);
    });
  };
});
var $ZodDiscriminatedUnion = /* @__PURE__ */ $constructor("$ZodDiscriminatedUnion", (inst, def) => {
  $ZodUnion.init(inst, def);
  const _super = inst._zod.parse;
  defineLazy(inst._zod, "propValues", () => {
    const propValues = {};
    for (const option of def.options) {
      const pv = option._zod.propValues;
      if (!pv || Object.keys(pv).length === 0)
        throw new Error(`Invalid discriminated union option at index "${def.options.indexOf(option)}"`);
      for (const [k, v] of Object.entries(pv)) {
        if (!propValues[k])
          propValues[k] = /* @__PURE__ */ new Set();
        for (const val of v) {
          propValues[k].add(val);
        }
      }
    }
    return propValues;
  });
  const disc = cached(() => {
    const opts = def.options;
    const map2 = /* @__PURE__ */ new Map();
    for (const o2 of opts) {
      const values = o2._zod.propValues?.[def.discriminator];
      if (!values || values.size === 0)
        throw new Error(`Invalid discriminated union option at index "${def.options.indexOf(o2)}"`);
      for (const v of values) {
        if (map2.has(v)) {
          throw new Error(`Duplicate discriminator value "${String(v)}"`);
        }
        map2.set(v, o2);
      }
    }
    return map2;
  });
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    if (!isObject(input)) {
      payload.issues.push({
        code: "invalid_type",
        expected: "object",
        input,
        inst
      });
      return payload;
    }
    const opt = disc.value.get(input?.[def.discriminator]);
    if (opt) {
      return opt._zod.run(payload, ctx);
    }
    if (def.unionFallback) {
      return _super(payload, ctx);
    }
    payload.issues.push({
      code: "invalid_union",
      errors: [],
      note: "No matching discriminator",
      discriminator: def.discriminator,
      input,
      path: [def.discriminator],
      inst
    });
    return payload;
  };
});
var $ZodIntersection = /* @__PURE__ */ $constructor("$ZodIntersection", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    const left = def.left._zod.run({ value: input, issues: [] }, ctx);
    const right = def.right._zod.run({ value: input, issues: [] }, ctx);
    const async = left instanceof Promise || right instanceof Promise;
    if (async) {
      return Promise.all([left, right]).then(([left2, right2]) => {
        return handleIntersectionResults(payload, left2, right2);
      });
    }
    return handleIntersectionResults(payload, left, right);
  };
});
function mergeValues(a2, b) {
  if (a2 === b) {
    return { valid: true, data: a2 };
  }
  if (a2 instanceof Date && b instanceof Date && +a2 === +b) {
    return { valid: true, data: a2 };
  }
  if (isPlainObject(a2) && isPlainObject(b)) {
    const bKeys = Object.keys(b);
    const sharedKeys = Object.keys(a2).filter((key) => bKeys.indexOf(key) !== -1);
    const newObj = { ...a2, ...b };
    for (const key of sharedKeys) {
      const sharedValue = mergeValues(a2[key], b[key]);
      if (!sharedValue.valid) {
        return {
          valid: false,
          mergeErrorPath: [key, ...sharedValue.mergeErrorPath]
        };
      }
      newObj[key] = sharedValue.data;
    }
    return { valid: true, data: newObj };
  }
  if (Array.isArray(a2) && Array.isArray(b)) {
    if (a2.length !== b.length) {
      return { valid: false, mergeErrorPath: [] };
    }
    const newArray = [];
    for (let index = 0; index < a2.length; index++) {
      const itemA = a2[index];
      const itemB = b[index];
      const sharedValue = mergeValues(itemA, itemB);
      if (!sharedValue.valid) {
        return {
          valid: false,
          mergeErrorPath: [index, ...sharedValue.mergeErrorPath]
        };
      }
      newArray.push(sharedValue.data);
    }
    return { valid: true, data: newArray };
  }
  return { valid: false, mergeErrorPath: [] };
}
function handleIntersectionResults(result, left, right) {
  if (left.issues.length) {
    result.issues.push(...left.issues);
  }
  if (right.issues.length) {
    result.issues.push(...right.issues);
  }
  if (aborted(result))
    return result;
  const merged = mergeValues(left.value, right.value);
  if (!merged.valid) {
    throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(merged.mergeErrorPath)}`);
  }
  result.value = merged.data;
  return result;
}
var $ZodTuple = /* @__PURE__ */ $constructor("$ZodTuple", (inst, def) => {
  $ZodType.init(inst, def);
  const items = def.items;
  const optStart = items.length - [...items].reverse().findIndex((item) => item._zod.optin !== "optional");
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    if (!Array.isArray(input)) {
      payload.issues.push({
        input,
        inst,
        expected: "tuple",
        code: "invalid_type"
      });
      return payload;
    }
    payload.value = [];
    const proms = [];
    if (!def.rest) {
      const tooBig = input.length > items.length;
      const tooSmall = input.length < optStart - 1;
      if (tooBig || tooSmall) {
        payload.issues.push({
          ...tooBig ? { code: "too_big", maximum: items.length } : { code: "too_small", minimum: items.length },
          input,
          inst,
          origin: "array"
        });
        return payload;
      }
    }
    let i2 = -1;
    for (const item of items) {
      i2++;
      if (i2 >= input.length) {
        if (i2 >= optStart)
          continue;
      }
      const result = item._zod.run({
        value: input[i2],
        issues: []
      }, ctx);
      if (result instanceof Promise) {
        proms.push(result.then((result2) => handleTupleResult(result2, payload, i2)));
      } else {
        handleTupleResult(result, payload, i2);
      }
    }
    if (def.rest) {
      const rest = input.slice(items.length);
      for (const el of rest) {
        i2++;
        const result = def.rest._zod.run({
          value: el,
          issues: []
        }, ctx);
        if (result instanceof Promise) {
          proms.push(result.then((result2) => handleTupleResult(result2, payload, i2)));
        } else {
          handleTupleResult(result, payload, i2);
        }
      }
    }
    if (proms.length)
      return Promise.all(proms).then(() => payload);
    return payload;
  };
});
function handleTupleResult(result, final, index) {
  if (result.issues.length) {
    final.issues.push(...prefixIssues(index, result.issues));
  }
  final.value[index] = result.value;
}
var $ZodRecord = /* @__PURE__ */ $constructor("$ZodRecord", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    if (!isPlainObject(input)) {
      payload.issues.push({
        expected: "record",
        code: "invalid_type",
        input,
        inst
      });
      return payload;
    }
    const proms = [];
    if (def.keyType._zod.values) {
      const values = def.keyType._zod.values;
      payload.value = {};
      for (const key of values) {
        if (typeof key === "string" || typeof key === "number" || typeof key === "symbol") {
          const result = def.valueType._zod.run({ value: input[key], issues: [] }, ctx);
          if (result instanceof Promise) {
            proms.push(result.then((result2) => {
              if (result2.issues.length) {
                payload.issues.push(...prefixIssues(key, result2.issues));
              }
              payload.value[key] = result2.value;
            }));
          } else {
            if (result.issues.length) {
              payload.issues.push(...prefixIssues(key, result.issues));
            }
            payload.value[key] = result.value;
          }
        }
      }
      let unrecognized;
      for (const key in input) {
        if (!values.has(key)) {
          unrecognized = unrecognized ?? [];
          unrecognized.push(key);
        }
      }
      if (unrecognized && unrecognized.length > 0) {
        payload.issues.push({
          code: "unrecognized_keys",
          input,
          inst,
          keys: unrecognized
        });
      }
    } else {
      payload.value = {};
      for (const key of Reflect.ownKeys(input)) {
        if (key === "__proto__")
          continue;
        const keyResult = def.keyType._zod.run({ value: key, issues: [] }, ctx);
        if (keyResult instanceof Promise) {
          throw new Error("Async schemas not supported in object keys currently");
        }
        if (keyResult.issues.length) {
          payload.issues.push({
            code: "invalid_key",
            origin: "record",
            issues: keyResult.issues.map((iss) => finalizeIssue(iss, ctx, config())),
            input: key,
            path: [key],
            inst
          });
          payload.value[keyResult.value] = keyResult.value;
          continue;
        }
        const result = def.valueType._zod.run({ value: input[key], issues: [] }, ctx);
        if (result instanceof Promise) {
          proms.push(result.then((result2) => {
            if (result2.issues.length) {
              payload.issues.push(...prefixIssues(key, result2.issues));
            }
            payload.value[keyResult.value] = result2.value;
          }));
        } else {
          if (result.issues.length) {
            payload.issues.push(...prefixIssues(key, result.issues));
          }
          payload.value[keyResult.value] = result.value;
        }
      }
    }
    if (proms.length) {
      return Promise.all(proms).then(() => payload);
    }
    return payload;
  };
});
var $ZodMap = /* @__PURE__ */ $constructor("$ZodMap", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    if (!(input instanceof Map)) {
      payload.issues.push({
        expected: "map",
        code: "invalid_type",
        input,
        inst
      });
      return payload;
    }
    const proms = [];
    payload.value = /* @__PURE__ */ new Map();
    for (const [key, value] of input) {
      const keyResult = def.keyType._zod.run({ value: key, issues: [] }, ctx);
      const valueResult = def.valueType._zod.run({ value, issues: [] }, ctx);
      if (keyResult instanceof Promise || valueResult instanceof Promise) {
        proms.push(Promise.all([keyResult, valueResult]).then(([keyResult2, valueResult2]) => {
          handleMapResult(keyResult2, valueResult2, payload, key, input, inst, ctx);
        }));
      } else {
        handleMapResult(keyResult, valueResult, payload, key, input, inst, ctx);
      }
    }
    if (proms.length)
      return Promise.all(proms).then(() => payload);
    return payload;
  };
});
function handleMapResult(keyResult, valueResult, final, key, input, inst, ctx) {
  if (keyResult.issues.length) {
    if (propertyKeyTypes.has(typeof key)) {
      final.issues.push(...prefixIssues(key, keyResult.issues));
    } else {
      final.issues.push({
        code: "invalid_key",
        origin: "map",
        input,
        inst,
        issues: keyResult.issues.map((iss) => finalizeIssue(iss, ctx, config()))
      });
    }
  }
  if (valueResult.issues.length) {
    if (propertyKeyTypes.has(typeof key)) {
      final.issues.push(...prefixIssues(key, valueResult.issues));
    } else {
      final.issues.push({
        origin: "map",
        code: "invalid_element",
        input,
        inst,
        key,
        issues: valueResult.issues.map((iss) => finalizeIssue(iss, ctx, config()))
      });
    }
  }
  final.value.set(keyResult.value, valueResult.value);
}
var $ZodSet = /* @__PURE__ */ $constructor("$ZodSet", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    if (!(input instanceof Set)) {
      payload.issues.push({
        input,
        inst,
        expected: "set",
        code: "invalid_type"
      });
      return payload;
    }
    const proms = [];
    payload.value = /* @__PURE__ */ new Set();
    for (const item of input) {
      const result = def.valueType._zod.run({ value: item, issues: [] }, ctx);
      if (result instanceof Promise) {
        proms.push(result.then((result2) => handleSetResult(result2, payload)));
      } else
        handleSetResult(result, payload);
    }
    if (proms.length)
      return Promise.all(proms).then(() => payload);
    return payload;
  };
});
function handleSetResult(result, final) {
  if (result.issues.length) {
    final.issues.push(...result.issues);
  }
  final.value.add(result.value);
}
var $ZodEnum = /* @__PURE__ */ $constructor("$ZodEnum", (inst, def) => {
  $ZodType.init(inst, def);
  const values = getEnumValues(def.entries);
  const valuesSet = new Set(values);
  inst._zod.values = valuesSet;
  inst._zod.pattern = new RegExp(`^(${values.filter((k) => propertyKeyTypes.has(typeof k)).map((o2) => typeof o2 === "string" ? escapeRegex(o2) : o2.toString()).join("|")})$`);
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (valuesSet.has(input)) {
      return payload;
    }
    payload.issues.push({
      code: "invalid_value",
      values,
      input,
      inst
    });
    return payload;
  };
});
var $ZodLiteral = /* @__PURE__ */ $constructor("$ZodLiteral", (inst, def) => {
  $ZodType.init(inst, def);
  if (def.values.length === 0) {
    throw new Error("Cannot create literal schema with no valid values");
  }
  inst._zod.values = new Set(def.values);
  inst._zod.pattern = new RegExp(`^(${def.values.map((o2) => typeof o2 === "string" ? escapeRegex(o2) : o2 ? escapeRegex(o2.toString()) : String(o2)).join("|")})$`);
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (inst._zod.values.has(input)) {
      return payload;
    }
    payload.issues.push({
      code: "invalid_value",
      values: def.values,
      input,
      inst
    });
    return payload;
  };
});
var $ZodFile = /* @__PURE__ */ $constructor("$ZodFile", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (input instanceof File)
      return payload;
    payload.issues.push({
      expected: "file",
      code: "invalid_type",
      input,
      inst
    });
    return payload;
  };
});
var $ZodTransform = /* @__PURE__ */ $constructor("$ZodTransform", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      throw new $ZodEncodeError(inst.constructor.name);
    }
    const _out = def.transform(payload.value, payload);
    if (ctx.async) {
      const output = _out instanceof Promise ? _out : Promise.resolve(_out);
      return output.then((output2) => {
        payload.value = output2;
        return payload;
      });
    }
    if (_out instanceof Promise) {
      throw new $ZodAsyncError();
    }
    payload.value = _out;
    return payload;
  };
});
function handleOptionalResult(result, input) {
  if (result.issues.length && input === void 0) {
    return { issues: [], value: void 0 };
  }
  return result;
}
var $ZodOptional = /* @__PURE__ */ $constructor("$ZodOptional", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.optin = "optional";
  inst._zod.optout = "optional";
  defineLazy(inst._zod, "values", () => {
    return def.innerType._zod.values ? /* @__PURE__ */ new Set([...def.innerType._zod.values, void 0]) : void 0;
  });
  defineLazy(inst._zod, "pattern", () => {
    const pattern = def.innerType._zod.pattern;
    return pattern ? new RegExp(`^(${cleanRegex(pattern.source)})?$`) : void 0;
  });
  inst._zod.parse = (payload, ctx) => {
    if (def.innerType._zod.optin === "optional") {
      const result = def.innerType._zod.run(payload, ctx);
      if (result instanceof Promise)
        return result.then((r2) => handleOptionalResult(r2, payload.value));
      return handleOptionalResult(result, payload.value);
    }
    if (payload.value === void 0) {
      return payload;
    }
    return def.innerType._zod.run(payload, ctx);
  };
});
var $ZodNullable = /* @__PURE__ */ $constructor("$ZodNullable", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "optin", () => def.innerType._zod.optin);
  defineLazy(inst._zod, "optout", () => def.innerType._zod.optout);
  defineLazy(inst._zod, "pattern", () => {
    const pattern = def.innerType._zod.pattern;
    return pattern ? new RegExp(`^(${cleanRegex(pattern.source)}|null)$`) : void 0;
  });
  defineLazy(inst._zod, "values", () => {
    return def.innerType._zod.values ? /* @__PURE__ */ new Set([...def.innerType._zod.values, null]) : void 0;
  });
  inst._zod.parse = (payload, ctx) => {
    if (payload.value === null)
      return payload;
    return def.innerType._zod.run(payload, ctx);
  };
});
var $ZodDefault = /* @__PURE__ */ $constructor("$ZodDefault", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.optin = "optional";
  defineLazy(inst._zod, "values", () => def.innerType._zod.values);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      return def.innerType._zod.run(payload, ctx);
    }
    if (payload.value === void 0) {
      payload.value = def.defaultValue;
      return payload;
    }
    const result = def.innerType._zod.run(payload, ctx);
    if (result instanceof Promise) {
      return result.then((result2) => handleDefaultResult(result2, def));
    }
    return handleDefaultResult(result, def);
  };
});
function handleDefaultResult(payload, def) {
  if (payload.value === void 0) {
    payload.value = def.defaultValue;
  }
  return payload;
}
var $ZodPrefault = /* @__PURE__ */ $constructor("$ZodPrefault", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.optin = "optional";
  defineLazy(inst._zod, "values", () => def.innerType._zod.values);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      return def.innerType._zod.run(payload, ctx);
    }
    if (payload.value === void 0) {
      payload.value = def.defaultValue;
    }
    return def.innerType._zod.run(payload, ctx);
  };
});
var $ZodNonOptional = /* @__PURE__ */ $constructor("$ZodNonOptional", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "values", () => {
    const v = def.innerType._zod.values;
    return v ? new Set([...v].filter((x) => x !== void 0)) : void 0;
  });
  inst._zod.parse = (payload, ctx) => {
    const result = def.innerType._zod.run(payload, ctx);
    if (result instanceof Promise) {
      return result.then((result2) => handleNonOptionalResult(result2, inst));
    }
    return handleNonOptionalResult(result, inst);
  };
});
function handleNonOptionalResult(payload, inst) {
  if (!payload.issues.length && payload.value === void 0) {
    payload.issues.push({
      code: "invalid_type",
      expected: "nonoptional",
      input: payload.value,
      inst
    });
  }
  return payload;
}
var $ZodSuccess = /* @__PURE__ */ $constructor("$ZodSuccess", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      throw new $ZodEncodeError("ZodSuccess");
    }
    const result = def.innerType._zod.run(payload, ctx);
    if (result instanceof Promise) {
      return result.then((result2) => {
        payload.value = result2.issues.length === 0;
        return payload;
      });
    }
    payload.value = result.issues.length === 0;
    return payload;
  };
});
var $ZodCatch = /* @__PURE__ */ $constructor("$ZodCatch", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "optin", () => def.innerType._zod.optin);
  defineLazy(inst._zod, "optout", () => def.innerType._zod.optout);
  defineLazy(inst._zod, "values", () => def.innerType._zod.values);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      return def.innerType._zod.run(payload, ctx);
    }
    const result = def.innerType._zod.run(payload, ctx);
    if (result instanceof Promise) {
      return result.then((result2) => {
        payload.value = result2.value;
        if (result2.issues.length) {
          payload.value = def.catchValue({
            ...payload,
            error: {
              issues: result2.issues.map((iss) => finalizeIssue(iss, ctx, config()))
            },
            input: payload.value
          });
          payload.issues = [];
        }
        return payload;
      });
    }
    payload.value = result.value;
    if (result.issues.length) {
      payload.value = def.catchValue({
        ...payload,
        error: {
          issues: result.issues.map((iss) => finalizeIssue(iss, ctx, config()))
        },
        input: payload.value
      });
      payload.issues = [];
    }
    return payload;
  };
});
var $ZodNaN = /* @__PURE__ */ $constructor("$ZodNaN", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    if (typeof payload.value !== "number" || !Number.isNaN(payload.value)) {
      payload.issues.push({
        input: payload.value,
        inst,
        expected: "nan",
        code: "invalid_type"
      });
      return payload;
    }
    return payload;
  };
});
var $ZodPipe = /* @__PURE__ */ $constructor("$ZodPipe", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "values", () => def.in._zod.values);
  defineLazy(inst._zod, "optin", () => def.in._zod.optin);
  defineLazy(inst._zod, "optout", () => def.out._zod.optout);
  defineLazy(inst._zod, "propValues", () => def.in._zod.propValues);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      const right = def.out._zod.run(payload, ctx);
      if (right instanceof Promise) {
        return right.then((right2) => handlePipeResult(right2, def.in, ctx));
      }
      return handlePipeResult(right, def.in, ctx);
    }
    const left = def.in._zod.run(payload, ctx);
    if (left instanceof Promise) {
      return left.then((left2) => handlePipeResult(left2, def.out, ctx));
    }
    return handlePipeResult(left, def.out, ctx);
  };
});
function handlePipeResult(left, next, ctx) {
  if (left.issues.length) {
    left.aborted = true;
    return left;
  }
  return next._zod.run({ value: left.value, issues: left.issues }, ctx);
}
var $ZodCodec = /* @__PURE__ */ $constructor("$ZodCodec", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "values", () => def.in._zod.values);
  defineLazy(inst._zod, "optin", () => def.in._zod.optin);
  defineLazy(inst._zod, "optout", () => def.out._zod.optout);
  defineLazy(inst._zod, "propValues", () => def.in._zod.propValues);
  inst._zod.parse = (payload, ctx) => {
    const direction = ctx.direction || "forward";
    if (direction === "forward") {
      const left = def.in._zod.run(payload, ctx);
      if (left instanceof Promise) {
        return left.then((left2) => handleCodecAResult(left2, def, ctx));
      }
      return handleCodecAResult(left, def, ctx);
    } else {
      const right = def.out._zod.run(payload, ctx);
      if (right instanceof Promise) {
        return right.then((right2) => handleCodecAResult(right2, def, ctx));
      }
      return handleCodecAResult(right, def, ctx);
    }
  };
});
function handleCodecAResult(result, def, ctx) {
  if (result.issues.length) {
    result.aborted = true;
    return result;
  }
  const direction = ctx.direction || "forward";
  if (direction === "forward") {
    const transformed = def.transform(result.value, result);
    if (transformed instanceof Promise) {
      return transformed.then((value) => handleCodecTxResult(result, value, def.out, ctx));
    }
    return handleCodecTxResult(result, transformed, def.out, ctx);
  } else {
    const transformed = def.reverseTransform(result.value, result);
    if (transformed instanceof Promise) {
      return transformed.then((value) => handleCodecTxResult(result, value, def.in, ctx));
    }
    return handleCodecTxResult(result, transformed, def.in, ctx);
  }
}
function handleCodecTxResult(left, value, nextSchema, ctx) {
  if (left.issues.length) {
    left.aborted = true;
    return left;
  }
  return nextSchema._zod.run({ value, issues: left.issues }, ctx);
}
var $ZodReadonly = /* @__PURE__ */ $constructor("$ZodReadonly", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "propValues", () => def.innerType._zod.propValues);
  defineLazy(inst._zod, "values", () => def.innerType._zod.values);
  defineLazy(inst._zod, "optin", () => def.innerType._zod.optin);
  defineLazy(inst._zod, "optout", () => def.innerType._zod.optout);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      return def.innerType._zod.run(payload, ctx);
    }
    const result = def.innerType._zod.run(payload, ctx);
    if (result instanceof Promise) {
      return result.then(handleReadonlyResult);
    }
    return handleReadonlyResult(result);
  };
});
function handleReadonlyResult(payload) {
  payload.value = Object.freeze(payload.value);
  return payload;
}
var $ZodTemplateLiteral = /* @__PURE__ */ $constructor("$ZodTemplateLiteral", (inst, def) => {
  $ZodType.init(inst, def);
  const regexParts = [];
  for (const part of def.parts) {
    if (typeof part === "object" && part !== null) {
      if (!part._zod.pattern) {
        throw new Error(`Invalid template literal part, no pattern found: ${[...part._zod.traits].shift()}`);
      }
      const source = part._zod.pattern instanceof RegExp ? part._zod.pattern.source : part._zod.pattern;
      if (!source)
        throw new Error(`Invalid template literal part: ${part._zod.traits}`);
      const start = source.startsWith("^") ? 1 : 0;
      const end = source.endsWith("$") ? source.length - 1 : source.length;
      regexParts.push(source.slice(start, end));
    } else if (part === null || primitiveTypes.has(typeof part)) {
      regexParts.push(escapeRegex(`${part}`));
    } else {
      throw new Error(`Invalid template literal part: ${part}`);
    }
  }
  inst._zod.pattern = new RegExp(`^${regexParts.join("")}$`);
  inst._zod.parse = (payload, _ctx) => {
    if (typeof payload.value !== "string") {
      payload.issues.push({
        input: payload.value,
        inst,
        expected: "template_literal",
        code: "invalid_type"
      });
      return payload;
    }
    inst._zod.pattern.lastIndex = 0;
    if (!inst._zod.pattern.test(payload.value)) {
      payload.issues.push({
        input: payload.value,
        inst,
        code: "invalid_format",
        format: def.format ?? "template_literal",
        pattern: inst._zod.pattern.source
      });
      return payload;
    }
    return payload;
  };
});
var $ZodFunction = /* @__PURE__ */ $constructor("$ZodFunction", (inst, def) => {
  $ZodType.init(inst, def);
  inst._def = def;
  inst._zod.def = def;
  inst.implement = (func) => {
    if (typeof func !== "function") {
      throw new Error("implement() must be called with a function");
    }
    return function(...args) {
      const parsedArgs = inst._def.input ? parse(inst._def.input, args) : args;
      const result = Reflect.apply(func, this, parsedArgs);
      if (inst._def.output) {
        return parse(inst._def.output, result);
      }
      return result;
    };
  };
  inst.implementAsync = (func) => {
    if (typeof func !== "function") {
      throw new Error("implementAsync() must be called with a function");
    }
    return async function(...args) {
      const parsedArgs = inst._def.input ? await parseAsync(inst._def.input, args) : args;
      const result = await Reflect.apply(func, this, parsedArgs);
      if (inst._def.output) {
        return await parseAsync(inst._def.output, result);
      }
      return result;
    };
  };
  inst._zod.parse = (payload, _ctx) => {
    if (typeof payload.value !== "function") {
      payload.issues.push({
        code: "invalid_type",
        expected: "function",
        input: payload.value,
        inst
      });
      return payload;
    }
    const hasPromiseOutput = inst._def.output && inst._def.output._zod.def.type === "promise";
    if (hasPromiseOutput) {
      payload.value = inst.implementAsync(payload.value);
    } else {
      payload.value = inst.implement(payload.value);
    }
    return payload;
  };
  inst.input = (...args) => {
    const F = inst.constructor;
    if (Array.isArray(args[0])) {
      return new F({
        type: "function",
        input: new $ZodTuple({
          type: "tuple",
          items: args[0],
          rest: args[1]
        }),
        output: inst._def.output
      });
    }
    return new F({
      type: "function",
      input: args[0],
      output: inst._def.output
    });
  };
  inst.output = (output) => {
    const F = inst.constructor;
    return new F({
      type: "function",
      input: inst._def.input,
      output
    });
  };
  return inst;
});
var $ZodPromise = /* @__PURE__ */ $constructor("$ZodPromise", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    return Promise.resolve(payload.value).then((inner) => def.innerType._zod.run({ value: inner, issues: [] }, ctx));
  };
});
var $ZodLazy = /* @__PURE__ */ $constructor("$ZodLazy", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "innerType", () => def.getter());
  defineLazy(inst._zod, "pattern", () => inst._zod.innerType._zod.pattern);
  defineLazy(inst._zod, "propValues", () => inst._zod.innerType._zod.propValues);
  defineLazy(inst._zod, "optin", () => inst._zod.innerType._zod.optin ?? void 0);
  defineLazy(inst._zod, "optout", () => inst._zod.innerType._zod.optout ?? void 0);
  inst._zod.parse = (payload, ctx) => {
    const inner = inst._zod.innerType;
    return inner._zod.run(payload, ctx);
  };
});
var $ZodCustom = /* @__PURE__ */ $constructor("$ZodCustom", (inst, def) => {
  $ZodCheck.init(inst, def);
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _) => {
    return payload;
  };
  inst._zod.check = (payload) => {
    const input = payload.value;
    const r2 = def.fn(input);
    if (r2 instanceof Promise) {
      return r2.then((r3) => handleRefineResult(r3, payload, input, inst));
    }
    handleRefineResult(r2, payload, input, inst);
    return;
  };
});
function handleRefineResult(result, payload, input, inst) {
  if (!result) {
    const _iss = {
      code: "custom",
      input,
      inst,
      // incorporates params.error into issue reporting
      path: [...inst._zod.def.path ?? []],
      // incorporates params.error into issue reporting
      continue: !inst._zod.def.abort
      // params: inst._zod.def.params,
    };
    if (inst._zod.def.params)
      _iss.params = inst._zod.def.params;
    payload.issues.push(issue(_iss));
  }
}

// node_modules/zod/v4/locales/index.js
var locales_exports = {};
__export(locales_exports, {
  ar: () => ar_default,
  az: () => az_default,
  be: () => be_default,
  ca: () => ca_default,
  cs: () => cs_default,
  da: () => da_default,
  de: () => de_default,
  en: () => en_default,
  eo: () => eo_default,
  es: () => es_default,
  fa: () => fa_default,
  fi: () => fi_default,
  fr: () => fr_default,
  frCA: () => fr_CA_default,
  he: () => he_default,
  hu: () => hu_default,
  id: () => id_default,
  is: () => is_default,
  it: () => it_default,
  ja: () => ja_default,
  ka: () => ka_default,
  kh: () => kh_default,
  km: () => km_default,
  ko: () => ko_default,
  lt: () => lt_default,
  mk: () => mk_default,
  ms: () => ms_default,
  nl: () => nl_default,
  no: () => no_default,
  ota: () => ota_default,
  pl: () => pl_default,
  ps: () => ps_default,
  pt: () => pt_default,
  ru: () => ru_default,
  sl: () => sl_default,
  sv: () => sv_default,
  ta: () => ta_default,
  th: () => th_default,
  tr: () => tr_default,
  ua: () => ua_default,
  uk: () => uk_default,
  ur: () => ur_default,
  vi: () => vi_default,
  yo: () => yo_default,
  zhCN: () => zh_CN_default,
  zhTW: () => zh_TW_default
});

// node_modules/zod/v4/locales/ar.js
var error = () => {
  const Sizable = {
    string: { unit: "\u062D\u0631\u0641", verb: "\u0623\u0646 \u064A\u062D\u0648\u064A" },
    file: { unit: "\u0628\u0627\u064A\u062A", verb: "\u0623\u0646 \u064A\u062D\u0648\u064A" },
    array: { unit: "\u0639\u0646\u0635\u0631", verb: "\u0623\u0646 \u064A\u062D\u0648\u064A" },
    set: { unit: "\u0639\u0646\u0635\u0631", verb: "\u0623\u0646 \u064A\u062D\u0648\u064A" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0645\u062F\u062E\u0644",
    email: "\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",
    url: "\u0631\u0627\u0628\u0637",
    emoji: "\u0625\u064A\u0645\u0648\u062C\u064A",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",
    date: "\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO",
    time: "\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",
    duration: "\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO",
    ipv4: "\u0639\u0646\u0648\u0627\u0646 IPv4",
    ipv6: "\u0639\u0646\u0648\u0627\u0646 IPv6",
    cidrv4: "\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4",
    cidrv6: "\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6",
    base64: "\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded",
    base64url: "\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded",
    json_string: "\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON",
    e164: "\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164",
    jwt: "JWT",
    template_literal: "\u0645\u062F\u062E\u0644"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${issue2.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${stringifyPrimitive(issue2.values[0])}`;
        return `\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return ` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${issue2.origin ?? "\u0627\u0644\u0642\u064A\u0645\u0629"} ${adj} ${issue2.maximum.toString()} ${sizing.unit ?? "\u0639\u0646\u0635\u0631"}`;
        return `\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${issue2.origin ?? "\u0627\u0644\u0642\u064A\u0645\u0629"} ${adj} ${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${issue2.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${adj} ${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${issue2.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${adj} ${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 "${issue2.prefix}"`;
        if (_issue.format === "ends_with")
          return `\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${_issue.pattern}`;
        return `${Nouns[_issue.format] ?? issue2.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`;
      }
      case "not_multiple_of":
        return `\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${issue2.divisor}`;
      case "unrecognized_keys":
        return `\u0645\u0639\u0631\u0641${issue2.keys.length > 1 ? "\u0627\u062A" : ""} \u063A\u0631\u064A\u0628${issue2.keys.length > 1 ? "\u0629" : ""}: ${joinValues(issue2.keys, "\u060C ")}`;
      case "invalid_key":
        return `\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${issue2.origin}`;
      case "invalid_union":
        return "\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";
      case "invalid_element":
        return `\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${issue2.origin}`;
      default:
        return "\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";
    }
  };
};
function ar_default() {
  return {
    localeError: error()
  };
}

// node_modules/zod/v4/locales/az.js
var error2 = () => {
  const Sizable = {
    string: { unit: "simvol", verb: "olmal\u0131d\u0131r" },
    file: { unit: "bayt", verb: "olmal\u0131d\u0131r" },
    array: { unit: "element", verb: "olmal\u0131d\u0131r" },
    set: { unit: "element", verb: "olmal\u0131d\u0131r" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "input",
    email: "email address",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO datetime",
    date: "ISO date",
    time: "ISO time",
    duration: "ISO duration",
    ipv4: "IPv4 address",
    ipv6: "IPv6 address",
    cidrv4: "IPv4 range",
    cidrv6: "IPv6 range",
    base64: "base64-encoded string",
    base64url: "base64url-encoded string",
    json_string: "JSON string",
    e164: "E.164 number",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${issue2.expected}, daxil olan ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${stringifyPrimitive(issue2.values[0])}`;
        return `Yanl\u0131\u015F se\xE7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${issue2.origin ?? "d\u0259y\u0259r"} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "element"}`;
        return `\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${issue2.origin ?? "d\u0259y\u0259r"} ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${issue2.origin} ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        return `\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${issue2.origin} ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Yanl\u0131\u015F m\u0259tn: "${_issue.prefix}" il\u0259 ba\u015Flamal\u0131d\u0131r`;
        if (_issue.format === "ends_with")
          return `Yanl\u0131\u015F m\u0259tn: "${_issue.suffix}" il\u0259 bitm\u0259lidir`;
        if (_issue.format === "includes")
          return `Yanl\u0131\u015F m\u0259tn: "${_issue.includes}" daxil olmal\u0131d\u0131r`;
        if (_issue.format === "regex")
          return `Yanl\u0131\u015F m\u0259tn: ${_issue.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`;
        return `Yanl\u0131\u015F ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Yanl\u0131\u015F \u0259d\u0259d: ${issue2.divisor} il\u0259 b\xF6l\xFCn\u0259 bil\u0259n olmal\u0131d\u0131r`;
      case "unrecognized_keys":
        return `Tan\u0131nmayan a\xE7ar${issue2.keys.length > 1 ? "lar" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `${issue2.origin} daxilind\u0259 yanl\u0131\u015F a\xE7ar`;
      case "invalid_union":
        return "Yanl\u0131\u015F d\u0259y\u0259r";
      case "invalid_element":
        return `${issue2.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;
      default:
        return `Yanl\u0131\u015F d\u0259y\u0259r`;
    }
  };
};
function az_default() {
  return {
    localeError: error2()
  };
}

// node_modules/zod/v4/locales/be.js
function getBelarusianPlural(count, one, few, many) {
  const absCount = Math.abs(count);
  const lastDigit = absCount % 10;
  const lastTwoDigits = absCount % 100;
  if (lastTwoDigits >= 11 && lastTwoDigits <= 19) {
    return many;
  }
  if (lastDigit === 1) {
    return one;
  }
  if (lastDigit >= 2 && lastDigit <= 4) {
    return few;
  }
  return many;
}
var error3 = () => {
  const Sizable = {
    string: {
      unit: {
        one: "\u0441\u0456\u043C\u0432\u0430\u043B",
        few: "\u0441\u0456\u043C\u0432\u0430\u043B\u044B",
        many: "\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E"
      },
      verb: "\u043C\u0435\u0446\u044C"
    },
    array: {
      unit: {
        one: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442",
        few: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",
        many: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"
      },
      verb: "\u043C\u0435\u0446\u044C"
    },
    set: {
      unit: {
        one: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442",
        few: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",
        many: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"
      },
      verb: "\u043C\u0435\u0446\u044C"
    },
    file: {
      unit: {
        one: "\u0431\u0430\u0439\u0442",
        few: "\u0431\u0430\u0439\u0442\u044B",
        many: "\u0431\u0430\u0439\u0442\u0430\u045E"
      },
      verb: "\u043C\u0435\u0446\u044C"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u043B\u0456\u043A";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u043C\u0430\u0441\u0456\u045E";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0443\u0432\u043E\u0434",
    email: "email \u0430\u0434\u0440\u0430\u0441",
    url: "URL",
    emoji: "\u044D\u043C\u043E\u0434\u0437\u0456",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441",
    date: "ISO \u0434\u0430\u0442\u0430",
    time: "ISO \u0447\u0430\u0441",
    duration: "ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C",
    ipv4: "IPv4 \u0430\u0434\u0440\u0430\u0441",
    ipv6: "IPv6 \u0430\u0434\u0440\u0430\u0441",
    cidrv4: "IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",
    cidrv6: "IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",
    base64: "\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64",
    base64url: "\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url",
    json_string: "JSON \u0440\u0430\u0434\u043E\u043A",
    e164: "\u043D\u0443\u043C\u0430\u0440 E.164",
    jwt: "JWT",
    template_literal: "\u0443\u0432\u043E\u0434"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${issue2.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${stringifyPrimitive(issue2.values[0])}`;
        return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          const maxValue = Number(issue2.maximum);
          const unit = getBelarusianPlural(maxValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);
          return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${issue2.origin ?? "\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${sizing.verb} ${adj}${issue2.maximum.toString()} ${unit}`;
        }
        return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${issue2.origin ?? "\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          const minValue = Number(issue2.minimum);
          const unit = getBelarusianPlural(minValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);
          return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${issue2.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${sizing.verb} ${adj}${issue2.minimum.toString()} ${unit}`;
        }
        return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${issue2.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${_issue.pattern}`;
        return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${issue2.divisor}`;
      case "unrecognized_keys":
        return `\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${issue2.keys.length > 1 ? "\u043A\u043B\u044E\u0447\u044B" : "\u043A\u043B\u044E\u0447"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${issue2.origin}`;
      case "invalid_union":
        return "\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434";
      case "invalid_element":
        return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${issue2.origin}`;
      default:
        return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434`;
    }
  };
};
function be_default() {
  return {
    localeError: error3()
  };
}

// node_modules/zod/v4/locales/ca.js
var error4 = () => {
  const Sizable = {
    string: { unit: "car\xE0cters", verb: "contenir" },
    file: { unit: "bytes", verb: "contenir" },
    array: { unit: "elements", verb: "contenir" },
    set: { unit: "elements", verb: "contenir" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "entrada",
    email: "adre\xE7a electr\xF2nica",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "data i hora ISO",
    date: "data ISO",
    time: "hora ISO",
    duration: "durada ISO",
    ipv4: "adre\xE7a IPv4",
    ipv6: "adre\xE7a IPv6",
    cidrv4: "rang IPv4",
    cidrv6: "rang IPv6",
    base64: "cadena codificada en base64",
    base64url: "cadena codificada en base64url",
    json_string: "cadena JSON",
    e164: "n\xFAmero E.164",
    jwt: "JWT",
    template_literal: "entrada"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Tipus inv\xE0lid: s'esperava ${issue2.expected}, s'ha rebut ${parsedType7(issue2.input)}`;
      // return `Tipus invlid: s'esperava ${issue.expected}, s'ha rebut ${util.getParsedType(issue.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Valor inv\xE0lid: s'esperava ${stringifyPrimitive(issue2.values[0])}`;
        return `Opci\xF3 inv\xE0lida: s'esperava una de ${joinValues(issue2.values, " o ")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "com a m\xE0xim" : "menys de";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Massa gran: s'esperava que ${issue2.origin ?? "el valor"} contingu\xE9s ${adj} ${issue2.maximum.toString()} ${sizing.unit ?? "elements"}`;
        return `Massa gran: s'esperava que ${issue2.origin ?? "el valor"} fos ${adj} ${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? "com a m\xEDnim" : "m\xE9s de";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Massa petit: s'esperava que ${issue2.origin} contingu\xE9s ${adj} ${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Massa petit: s'esperava que ${issue2.origin} fos ${adj} ${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `Format inv\xE0lid: ha de comen\xE7ar amb "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `Format inv\xE0lid: ha d'acabar amb "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Format inv\xE0lid: ha d'incloure "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Format inv\xE0lid: ha de coincidir amb el patr\xF3 ${_issue.pattern}`;
        return `Format inv\xE0lid per a ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `N\xFAmero inv\xE0lid: ha de ser m\xFAltiple de ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Clau${issue2.keys.length > 1 ? "s" : ""} no reconeguda${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Clau inv\xE0lida a ${issue2.origin}`;
      case "invalid_union":
        return "Entrada inv\xE0lida";
      // Could also be "Tipus d'uni invlid" but "Entrada invlida" is more general
      case "invalid_element":
        return `Element inv\xE0lid a ${issue2.origin}`;
      default:
        return `Entrada inv\xE0lida`;
    }
  };
};
function ca_default() {
  return {
    localeError: error4()
  };
}

// node_modules/zod/v4/locales/cs.js
var error5 = () => {
  const Sizable = {
    string: { unit: "znak\u016F", verb: "m\xEDt" },
    file: { unit: "bajt\u016F", verb: "m\xEDt" },
    array: { unit: "prvk\u016F", verb: "m\xEDt" },
    set: { unit: "prvk\u016F", verb: "m\xEDt" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u010D\xEDslo";
      }
      case "string": {
        return "\u0159et\u011Bzec";
      }
      case "boolean": {
        return "boolean";
      }
      case "bigint": {
        return "bigint";
      }
      case "function": {
        return "funkce";
      }
      case "symbol": {
        return "symbol";
      }
      case "undefined": {
        return "undefined";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "pole";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "regul\xE1rn\xED v\xFDraz",
    email: "e-mailov\xE1 adresa",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "datum a \u010Das ve form\xE1tu ISO",
    date: "datum ve form\xE1tu ISO",
    time: "\u010Das ve form\xE1tu ISO",
    duration: "doba trv\xE1n\xED ISO",
    ipv4: "IPv4 adresa",
    ipv6: "IPv6 adresa",
    cidrv4: "rozsah IPv4",
    cidrv6: "rozsah IPv6",
    base64: "\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64",
    base64url: "\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64url",
    json_string: "\u0159et\u011Bzec ve form\xE1tu JSON",
    e164: "\u010D\xEDslo E.164",
    jwt: "JWT",
    template_literal: "vstup"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${issue2.expected}, obdr\u017Eeno ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${stringifyPrimitive(issue2.values[0])}`;
        return `Neplatn\xE1 mo\u017Enost: o\u010Dek\xE1v\xE1na jedna z hodnot ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${issue2.origin ?? "hodnota"} mus\xED m\xEDt ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "prvk\u016F"}`;
        }
        return `Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${issue2.origin ?? "hodnota"} mus\xED b\xFDt ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${issue2.origin ?? "hodnota"} mus\xED m\xEDt ${adj}${issue2.minimum.toString()} ${sizing.unit ?? "prvk\u016F"}`;
        }
        return `Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${issue2.origin ?? "hodnota"} mus\xED b\xFDt ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Neplatn\xFD \u0159et\u011Bzec: mus\xED za\u010D\xEDnat na "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Neplatn\xFD \u0159et\u011Bzec: mus\xED kon\u010Dit na "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Neplatn\xFD \u0159et\u011Bzec: mus\xED obsahovat "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Neplatn\xFD \u0159et\u011Bzec: mus\xED odpov\xEDdat vzoru ${_issue.pattern}`;
        return `Neplatn\xFD form\xE1t ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Neplatn\xE9 \u010D\xEDslo: mus\xED b\xFDt n\xE1sobkem ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Nezn\xE1m\xE9 kl\xED\u010De: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Neplatn\xFD kl\xED\u010D v ${issue2.origin}`;
      case "invalid_union":
        return "Neplatn\xFD vstup";
      case "invalid_element":
        return `Neplatn\xE1 hodnota v ${issue2.origin}`;
      default:
        return `Neplatn\xFD vstup`;
    }
  };
};
function cs_default() {
  return {
    localeError: error5()
  };
}

// node_modules/zod/v4/locales/da.js
var error6 = () => {
  const Sizable = {
    string: { unit: "tegn", verb: "havde" },
    file: { unit: "bytes", verb: "havde" },
    array: { unit: "elementer", verb: "indeholdt" },
    set: { unit: "elementer", verb: "indeholdt" }
  };
  const TypeNames = {
    string: "streng",
    number: "tal",
    boolean: "boolean",
    array: "liste",
    object: "objekt",
    set: "s\xE6t",
    file: "fil"
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  function getTypeName(type) {
    return TypeNames[type] ?? type;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "tal";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "liste";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
        return "objekt";
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "input",
    email: "e-mailadresse",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO dato- og klokkesl\xE6t",
    date: "ISO-dato",
    time: "ISO-klokkesl\xE6t",
    duration: "ISO-varighed",
    ipv4: "IPv4-omr\xE5de",
    ipv6: "IPv6-omr\xE5de",
    cidrv4: "IPv4-spektrum",
    cidrv6: "IPv6-spektrum",
    base64: "base64-kodet streng",
    base64url: "base64url-kodet streng",
    json_string: "JSON-streng",
    e164: "E.164-nummer",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Ugyldigt input: forventede ${getTypeName(issue2.expected)}, fik ${getTypeName(parsedType7(issue2.input))}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Ugyldig v\xE6rdi: forventede ${stringifyPrimitive(issue2.values[0])}`;
        return `Ugyldigt valg: forventede en af f\xF8lgende ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        const origin = getTypeName(issue2.origin);
        if (sizing)
          return `For stor: forventede ${origin ?? "value"} ${sizing.verb} ${adj} ${issue2.maximum.toString()} ${sizing.unit ?? "elementer"}`;
        return `For stor: forventede ${origin ?? "value"} havde ${adj} ${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        const origin = getTypeName(issue2.origin);
        if (sizing) {
          return `For lille: forventede ${origin} ${sizing.verb} ${adj} ${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `For lille: forventede ${origin} havde ${adj} ${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Ugyldig streng: skal starte med "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Ugyldig streng: skal ende med "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Ugyldig streng: skal indeholde "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Ugyldig streng: skal matche m\xF8nsteret ${_issue.pattern}`;
        return `Ugyldig ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Ugyldigt tal: skal v\xE6re deleligt med ${issue2.divisor}`;
      case "unrecognized_keys":
        return `${issue2.keys.length > 1 ? "Ukendte n\xF8gler" : "Ukendt n\xF8gle"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Ugyldig n\xF8gle i ${issue2.origin}`;
      case "invalid_union":
        return "Ugyldigt input: matcher ingen af de tilladte typer";
      case "invalid_element":
        return `Ugyldig v\xE6rdi i ${issue2.origin}`;
      default:
        return `Ugyldigt input`;
    }
  };
};
function da_default() {
  return {
    localeError: error6()
  };
}

// node_modules/zod/v4/locales/de.js
var error7 = () => {
  const Sizable = {
    string: { unit: "Zeichen", verb: "zu haben" },
    file: { unit: "Bytes", verb: "zu haben" },
    array: { unit: "Elemente", verb: "zu haben" },
    set: { unit: "Elemente", verb: "zu haben" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "Zahl";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "Array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "Eingabe",
    email: "E-Mail-Adresse",
    url: "URL",
    emoji: "Emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO-Datum und -Uhrzeit",
    date: "ISO-Datum",
    time: "ISO-Uhrzeit",
    duration: "ISO-Dauer",
    ipv4: "IPv4-Adresse",
    ipv6: "IPv6-Adresse",
    cidrv4: "IPv4-Bereich",
    cidrv6: "IPv6-Bereich",
    base64: "Base64-codierter String",
    base64url: "Base64-URL-codierter String",
    json_string: "JSON-String",
    e164: "E.164-Nummer",
    jwt: "JWT",
    template_literal: "Eingabe"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Ung\xFCltige Eingabe: erwartet ${issue2.expected}, erhalten ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Ung\xFCltige Eingabe: erwartet ${stringifyPrimitive(issue2.values[0])}`;
        return `Ung\xFCltige Option: erwartet eine von ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Zu gro\xDF: erwartet, dass ${issue2.origin ?? "Wert"} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "Elemente"} hat`;
        return `Zu gro\xDF: erwartet, dass ${issue2.origin ?? "Wert"} ${adj}${issue2.maximum.toString()} ist`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Zu klein: erwartet, dass ${issue2.origin} ${adj}${issue2.minimum.toString()} ${sizing.unit} hat`;
        }
        return `Zu klein: erwartet, dass ${issue2.origin} ${adj}${issue2.minimum.toString()} ist`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Ung\xFCltiger String: muss mit "${_issue.prefix}" beginnen`;
        if (_issue.format === "ends_with")
          return `Ung\xFCltiger String: muss mit "${_issue.suffix}" enden`;
        if (_issue.format === "includes")
          return `Ung\xFCltiger String: muss "${_issue.includes}" enthalten`;
        if (_issue.format === "regex")
          return `Ung\xFCltiger String: muss dem Muster ${_issue.pattern} entsprechen`;
        return `Ung\xFCltig: ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Ung\xFCltige Zahl: muss ein Vielfaches von ${issue2.divisor} sein`;
      case "unrecognized_keys":
        return `${issue2.keys.length > 1 ? "Unbekannte Schl\xFCssel" : "Unbekannter Schl\xFCssel"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Ung\xFCltiger Schl\xFCssel in ${issue2.origin}`;
      case "invalid_union":
        return "Ung\xFCltige Eingabe";
      case "invalid_element":
        return `Ung\xFCltiger Wert in ${issue2.origin}`;
      default:
        return `Ung\xFCltige Eingabe`;
    }
  };
};
function de_default() {
  return {
    localeError: error7()
  };
}

// node_modules/zod/v4/locales/en.js
var parsedType = (data) => {
  const t2 = typeof data;
  switch (t2) {
    case "number": {
      return Number.isNaN(data) ? "NaN" : "number";
    }
    case "object": {
      if (Array.isArray(data)) {
        return "array";
      }
      if (data === null) {
        return "null";
      }
      if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
        return data.constructor.name;
      }
    }
  }
  return t2;
};
var error8 = () => {
  const Sizable = {
    string: { unit: "characters", verb: "to have" },
    file: { unit: "bytes", verb: "to have" },
    array: { unit: "items", verb: "to have" },
    set: { unit: "items", verb: "to have" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const Nouns = {
    regex: "input",
    email: "email address",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO datetime",
    date: "ISO date",
    time: "ISO time",
    duration: "ISO duration",
    ipv4: "IPv4 address",
    ipv6: "IPv6 address",
    cidrv4: "IPv4 range",
    cidrv6: "IPv6 range",
    base64: "base64-encoded string",
    base64url: "base64url-encoded string",
    json_string: "JSON string",
    e164: "E.164 number",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Invalid input: expected ${issue2.expected}, received ${parsedType(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Invalid input: expected ${stringifyPrimitive(issue2.values[0])}`;
        return `Invalid option: expected one of ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Too big: expected ${issue2.origin ?? "value"} to have ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elements"}`;
        return `Too big: expected ${issue2.origin ?? "value"} to be ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Too small: expected ${issue2.origin} to have ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Too small: expected ${issue2.origin} to be ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `Invalid string: must start with "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `Invalid string: must end with "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Invalid string: must include "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Invalid string: must match pattern ${_issue.pattern}`;
        return `Invalid ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Invalid number: must be a multiple of ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Unrecognized key${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Invalid key in ${issue2.origin}`;
      case "invalid_union":
        return "Invalid input";
      case "invalid_element":
        return `Invalid value in ${issue2.origin}`;
      default:
        return `Invalid input`;
    }
  };
};
function en_default() {
  return {
    localeError: error8()
  };
}

// node_modules/zod/v4/locales/eo.js
var parsedType2 = (data) => {
  const t2 = typeof data;
  switch (t2) {
    case "number": {
      return Number.isNaN(data) ? "NaN" : "nombro";
    }
    case "object": {
      if (Array.isArray(data)) {
        return "tabelo";
      }
      if (data === null) {
        return "senvalora";
      }
      if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
        return data.constructor.name;
      }
    }
  }
  return t2;
};
var error9 = () => {
  const Sizable = {
    string: { unit: "karaktrojn", verb: "havi" },
    file: { unit: "bajtojn", verb: "havi" },
    array: { unit: "elementojn", verb: "havi" },
    set: { unit: "elementojn", verb: "havi" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const Nouns = {
    regex: "enigo",
    email: "retadreso",
    url: "URL",
    emoji: "emo\u011Dio",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO-datotempo",
    date: "ISO-dato",
    time: "ISO-tempo",
    duration: "ISO-da\u016Dro",
    ipv4: "IPv4-adreso",
    ipv6: "IPv6-adreso",
    cidrv4: "IPv4-rango",
    cidrv6: "IPv6-rango",
    base64: "64-ume kodita karaktraro",
    base64url: "URL-64-ume kodita karaktraro",
    json_string: "JSON-karaktraro",
    e164: "E.164-nombro",
    jwt: "JWT",
    template_literal: "enigo"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Nevalida enigo: atendi\u011Dis ${issue2.expected}, ricevi\u011Dis ${parsedType2(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Nevalida enigo: atendi\u011Dis ${stringifyPrimitive(issue2.values[0])}`;
        return `Nevalida opcio: atendi\u011Dis unu el ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Tro granda: atendi\u011Dis ke ${issue2.origin ?? "valoro"} havu ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elementojn"}`;
        return `Tro granda: atendi\u011Dis ke ${issue2.origin ?? "valoro"} havu ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Tro malgranda: atendi\u011Dis ke ${issue2.origin} havu ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Tro malgranda: atendi\u011Dis ke ${issue2.origin} estu ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Nevalida karaktraro: devas komenci\u011Di per "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Nevalida karaktraro: devas fini\u011Di per "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Nevalida karaktraro: devas inkluzivi "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Nevalida karaktraro: devas kongrui kun la modelo ${_issue.pattern}`;
        return `Nevalida ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Nevalida nombro: devas esti oblo de ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Nekonata${issue2.keys.length > 1 ? "j" : ""} \u015Dlosilo${issue2.keys.length > 1 ? "j" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Nevalida \u015Dlosilo en ${issue2.origin}`;
      case "invalid_union":
        return "Nevalida enigo";
      case "invalid_element":
        return `Nevalida valoro en ${issue2.origin}`;
      default:
        return `Nevalida enigo`;
    }
  };
};
function eo_default() {
  return {
    localeError: error9()
  };
}

// node_modules/zod/v4/locales/es.js
var error10 = () => {
  const Sizable = {
    string: { unit: "caracteres", verb: "tener" },
    file: { unit: "bytes", verb: "tener" },
    array: { unit: "elementos", verb: "tener" },
    set: { unit: "elementos", verb: "tener" }
  };
  const TypeNames = {
    string: "texto",
    number: "n\xFAmero",
    boolean: "booleano",
    array: "arreglo",
    object: "objeto",
    set: "conjunto",
    file: "archivo",
    date: "fecha",
    bigint: "n\xFAmero grande",
    symbol: "s\xEDmbolo",
    undefined: "indefinido",
    null: "nulo",
    function: "funci\xF3n",
    map: "mapa",
    record: "registro",
    tuple: "tupla",
    enum: "enumeraci\xF3n",
    union: "uni\xF3n",
    literal: "literal",
    promise: "promesa",
    void: "vac\xEDo",
    never: "nunca",
    unknown: "desconocido",
    any: "cualquiera"
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  function getTypeName(type) {
    return TypeNames[type] ?? type;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype) {
          return data.constructor.name;
        }
        return "object";
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "entrada",
    email: "direcci\xF3n de correo electr\xF3nico",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "fecha y hora ISO",
    date: "fecha ISO",
    time: "hora ISO",
    duration: "duraci\xF3n ISO",
    ipv4: "direcci\xF3n IPv4",
    ipv6: "direcci\xF3n IPv6",
    cidrv4: "rango IPv4",
    cidrv6: "rango IPv6",
    base64: "cadena codificada en base64",
    base64url: "URL codificada en base64",
    json_string: "cadena JSON",
    e164: "n\xFAmero E.164",
    jwt: "JWT",
    template_literal: "entrada"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Entrada inv\xE1lida: se esperaba ${getTypeName(issue2.expected)}, recibido ${getTypeName(parsedType7(issue2.input))}`;
      // return `Entrada invlida: se esperaba ${issue.expected}, recibido ${util.getParsedType(issue.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Entrada inv\xE1lida: se esperaba ${stringifyPrimitive(issue2.values[0])}`;
        return `Opci\xF3n inv\xE1lida: se esperaba una de ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        const origin = getTypeName(issue2.origin);
        if (sizing)
          return `Demasiado grande: se esperaba que ${origin ?? "valor"} tuviera ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elementos"}`;
        return `Demasiado grande: se esperaba que ${origin ?? "valor"} fuera ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        const origin = getTypeName(issue2.origin);
        if (sizing) {
          return `Demasiado peque\xF1o: se esperaba que ${origin} tuviera ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Demasiado peque\xF1o: se esperaba que ${origin} fuera ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Cadena inv\xE1lida: debe comenzar con "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Cadena inv\xE1lida: debe terminar en "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Cadena inv\xE1lida: debe incluir "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Cadena inv\xE1lida: debe coincidir con el patr\xF3n ${_issue.pattern}`;
        return `Inv\xE1lido ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `N\xFAmero inv\xE1lido: debe ser m\xFAltiplo de ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Llave${issue2.keys.length > 1 ? "s" : ""} desconocida${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Llave inv\xE1lida en ${getTypeName(issue2.origin)}`;
      case "invalid_union":
        return "Entrada inv\xE1lida";
      case "invalid_element":
        return `Valor inv\xE1lido en ${getTypeName(issue2.origin)}`;
      default:
        return `Entrada inv\xE1lida`;
    }
  };
};
function es_default() {
  return {
    localeError: error10()
  };
}

// node_modules/zod/v4/locales/fa.js
var error11 = () => {
  const Sizable = {
    string: { unit: "\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631", verb: "\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F" },
    file: { unit: "\u0628\u0627\u06CC\u062A", verb: "\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F" },
    array: { unit: "\u0622\u06CC\u062A\u0645", verb: "\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F" },
    set: { unit: "\u0622\u06CC\u062A\u0645", verb: "\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u0639\u062F\u062F";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u0622\u0631\u0627\u06CC\u0647";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0648\u0631\u0648\u062F\u06CC",
    email: "\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644",
    url: "URL",
    emoji: "\u0627\u06CC\u0645\u0648\u062C\u06CC",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",
    date: "\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648",
    time: "\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",
    duration: "\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",
    ipv4: "IPv4 \u0622\u062F\u0631\u0633",
    ipv6: "IPv6 \u0622\u062F\u0631\u0633",
    cidrv4: "IPv4 \u062F\u0627\u0645\u0646\u0647",
    cidrv6: "IPv6 \u062F\u0627\u0645\u0646\u0647",
    base64: "base64-encoded \u0631\u0634\u062A\u0647",
    base64url: "base64url-encoded \u0631\u0634\u062A\u0647",
    json_string: "JSON \u0631\u0634\u062A\u0647",
    e164: "E.164 \u0639\u062F\u062F",
    jwt: "JWT",
    template_literal: "\u0648\u0631\u0648\u062F\u06CC"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${issue2.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${parsedType7(issue2.input)} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`;
      case "invalid_value":
        if (issue2.values.length === 1) {
          return `\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${stringifyPrimitive(issue2.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`;
        }
        return `\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${joinValues(issue2.values, "|")} \u0645\u06CC\u200C\u0628\u0648\u062F`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${issue2.origin ?? "\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\u0639\u0646\u0635\u0631"} \u0628\u0627\u0634\u062F`;
        }
        return `\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${issue2.origin ?? "\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${adj}${issue2.maximum.toString()} \u0628\u0627\u0634\u062F`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${issue2.origin} \u0628\u0627\u06CC\u062F ${adj}${issue2.minimum.toString()} ${sizing.unit} \u0628\u0627\u0634\u062F`;
        }
        return `\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${issue2.origin} \u0628\u0627\u06CC\u062F ${adj}${issue2.minimum.toString()} \u0628\u0627\u0634\u062F`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${_issue.prefix}" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`;
        }
        if (_issue.format === "ends_with") {
          return `\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${_issue.suffix}" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`;
        }
        if (_issue.format === "includes") {
          return `\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 "${_issue.includes}" \u0628\u0627\u0634\u062F`;
        }
        if (_issue.format === "regex") {
          return `\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${_issue.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`;
        }
        return `${Nouns[_issue.format] ?? issue2.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`;
      }
      case "not_multiple_of":
        return `\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${issue2.divisor} \u0628\u0627\u0634\u062F`;
      case "unrecognized_keys":
        return `\u06A9\u0644\u06CC\u062F${issue2.keys.length > 1 ? "\u0647\u0627\u06CC" : ""} \u0646\u0627\u0634\u0646\u0627\u0633: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${issue2.origin}`;
      case "invalid_union":
        return `\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631`;
      case "invalid_element":
        return `\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${issue2.origin}`;
      default:
        return `\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631`;
    }
  };
};
function fa_default() {
  return {
    localeError: error11()
  };
}

// node_modules/zod/v4/locales/fi.js
var error12 = () => {
  const Sizable = {
    string: { unit: "merkki\xE4", subject: "merkkijonon" },
    file: { unit: "tavua", subject: "tiedoston" },
    array: { unit: "alkiota", subject: "listan" },
    set: { unit: "alkiota", subject: "joukon" },
    number: { unit: "", subject: "luvun" },
    bigint: { unit: "", subject: "suuren kokonaisluvun" },
    int: { unit: "", subject: "kokonaisluvun" },
    date: { unit: "", subject: "p\xE4iv\xE4m\xE4\xE4r\xE4n" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "s\xE4\xE4nn\xF6llinen lauseke",
    email: "s\xE4hk\xF6postiosoite",
    url: "URL-osoite",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO-aikaleima",
    date: "ISO-p\xE4iv\xE4m\xE4\xE4r\xE4",
    time: "ISO-aika",
    duration: "ISO-kesto",
    ipv4: "IPv4-osoite",
    ipv6: "IPv6-osoite",
    cidrv4: "IPv4-alue",
    cidrv6: "IPv6-alue",
    base64: "base64-koodattu merkkijono",
    base64url: "base64url-koodattu merkkijono",
    json_string: "JSON-merkkijono",
    e164: "E.164-luku",
    jwt: "JWT",
    template_literal: "templaattimerkkijono"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Virheellinen tyyppi: odotettiin ${issue2.expected}, oli ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Virheellinen sy\xF6te: t\xE4ytyy olla ${stringifyPrimitive(issue2.values[0])}`;
        return `Virheellinen valinta: t\xE4ytyy olla yksi seuraavista: ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Liian suuri: ${sizing.subject} t\xE4ytyy olla ${adj}${issue2.maximum.toString()} ${sizing.unit}`.trim();
        }
        return `Liian suuri: arvon t\xE4ytyy olla ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Liian pieni: ${sizing.subject} t\xE4ytyy olla ${adj}${issue2.minimum.toString()} ${sizing.unit}`.trim();
        }
        return `Liian pieni: arvon t\xE4ytyy olla ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Virheellinen sy\xF6te: t\xE4ytyy alkaa "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Virheellinen sy\xF6te: t\xE4ytyy loppua "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Virheellinen sy\xF6te: t\xE4ytyy sis\xE4lt\xE4\xE4 "${_issue.includes}"`;
        if (_issue.format === "regex") {
          return `Virheellinen sy\xF6te: t\xE4ytyy vastata s\xE4\xE4nn\xF6llist\xE4 lauseketta ${_issue.pattern}`;
        }
        return `Virheellinen ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Virheellinen luku: t\xE4ytyy olla luvun ${issue2.divisor} monikerta`;
      case "unrecognized_keys":
        return `${issue2.keys.length > 1 ? "Tuntemattomat avaimet" : "Tuntematon avain"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return "Virheellinen avain tietueessa";
      case "invalid_union":
        return "Virheellinen unioni";
      case "invalid_element":
        return "Virheellinen arvo joukossa";
      default:
        return `Virheellinen sy\xF6te`;
    }
  };
};
function fi_default() {
  return {
    localeError: error12()
  };
}

// node_modules/zod/v4/locales/fr.js
var error13 = () => {
  const Sizable = {
    string: { unit: "caract\xE8res", verb: "avoir" },
    file: { unit: "octets", verb: "avoir" },
    array: { unit: "\xE9l\xE9ments", verb: "avoir" },
    set: { unit: "\xE9l\xE9ments", verb: "avoir" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "nombre";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "tableau";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "entr\xE9e",
    email: "adresse e-mail",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "date et heure ISO",
    date: "date ISO",
    time: "heure ISO",
    duration: "dur\xE9e ISO",
    ipv4: "adresse IPv4",
    ipv6: "adresse IPv6",
    cidrv4: "plage IPv4",
    cidrv6: "plage IPv6",
    base64: "cha\xEEne encod\xE9e en base64",
    base64url: "cha\xEEne encod\xE9e en base64url",
    json_string: "cha\xEEne JSON",
    e164: "num\xE9ro E.164",
    jwt: "JWT",
    template_literal: "entr\xE9e"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Entr\xE9e invalide : ${issue2.expected} attendu, ${parsedType7(issue2.input)} re\xE7u`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Entr\xE9e invalide : ${stringifyPrimitive(issue2.values[0])} attendu`;
        return `Option invalide : une valeur parmi ${joinValues(issue2.values, "|")} attendue`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Trop grand : ${issue2.origin ?? "valeur"} doit ${sizing.verb} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\xE9l\xE9ment(s)"}`;
        return `Trop grand : ${issue2.origin ?? "valeur"} doit \xEAtre ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Trop petit : ${issue2.origin} doit ${sizing.verb} ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Trop petit : ${issue2.origin} doit \xEAtre ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Cha\xEEne invalide : doit commencer par "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Cha\xEEne invalide : doit se terminer par "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Cha\xEEne invalide : doit inclure "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Cha\xEEne invalide : doit correspondre au mod\xE8le ${_issue.pattern}`;
        return `${Nouns[_issue.format] ?? issue2.format} invalide`;
      }
      case "not_multiple_of":
        return `Nombre invalide : doit \xEAtre un multiple de ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Cl\xE9${issue2.keys.length > 1 ? "s" : ""} non reconnue${issue2.keys.length > 1 ? "s" : ""} : ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Cl\xE9 invalide dans ${issue2.origin}`;
      case "invalid_union":
        return "Entr\xE9e invalide";
      case "invalid_element":
        return `Valeur invalide dans ${issue2.origin}`;
      default:
        return `Entr\xE9e invalide`;
    }
  };
};
function fr_default() {
  return {
    localeError: error13()
  };
}

// node_modules/zod/v4/locales/fr-CA.js
var error14 = () => {
  const Sizable = {
    string: { unit: "caract\xE8res", verb: "avoir" },
    file: { unit: "octets", verb: "avoir" },
    array: { unit: "\xE9l\xE9ments", verb: "avoir" },
    set: { unit: "\xE9l\xE9ments", verb: "avoir" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "entr\xE9e",
    email: "adresse courriel",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "date-heure ISO",
    date: "date ISO",
    time: "heure ISO",
    duration: "dur\xE9e ISO",
    ipv4: "adresse IPv4",
    ipv6: "adresse IPv6",
    cidrv4: "plage IPv4",
    cidrv6: "plage IPv6",
    base64: "cha\xEEne encod\xE9e en base64",
    base64url: "cha\xEEne encod\xE9e en base64url",
    json_string: "cha\xEEne JSON",
    e164: "num\xE9ro E.164",
    jwt: "JWT",
    template_literal: "entr\xE9e"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Entr\xE9e invalide : attendu ${issue2.expected}, re\xE7u ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Entr\xE9e invalide : attendu ${stringifyPrimitive(issue2.values[0])}`;
        return `Option invalide : attendu l'une des valeurs suivantes ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "\u2264" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Trop grand : attendu que ${issue2.origin ?? "la valeur"} ait ${adj}${issue2.maximum.toString()} ${sizing.unit}`;
        return `Trop grand : attendu que ${issue2.origin ?? "la valeur"} soit ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? "\u2265" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Trop petit : attendu que ${issue2.origin} ait ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Trop petit : attendu que ${issue2.origin} soit ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `Cha\xEEne invalide : doit commencer par "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `Cha\xEEne invalide : doit se terminer par "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Cha\xEEne invalide : doit inclure "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Cha\xEEne invalide : doit correspondre au motif ${_issue.pattern}`;
        return `${Nouns[_issue.format] ?? issue2.format} invalide`;
      }
      case "not_multiple_of":
        return `Nombre invalide : doit \xEAtre un multiple de ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Cl\xE9${issue2.keys.length > 1 ? "s" : ""} non reconnue${issue2.keys.length > 1 ? "s" : ""} : ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Cl\xE9 invalide dans ${issue2.origin}`;
      case "invalid_union":
        return "Entr\xE9e invalide";
      case "invalid_element":
        return `Valeur invalide dans ${issue2.origin}`;
      default:
        return `Entr\xE9e invalide`;
    }
  };
};
function fr_CA_default() {
  return {
    localeError: error14()
  };
}

// node_modules/zod/v4/locales/he.js
var error15 = () => {
  const Sizable = {
    string: { unit: "\u05D0\u05D5\u05EA\u05D9\u05D5\u05EA", verb: "\u05DC\u05DB\u05DC\u05D5\u05DC" },
    file: { unit: "\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD", verb: "\u05DC\u05DB\u05DC\u05D5\u05DC" },
    array: { unit: "\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD", verb: "\u05DC\u05DB\u05DC\u05D5\u05DC" },
    set: { unit: "\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD", verb: "\u05DC\u05DB\u05DC\u05D5\u05DC" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u05E7\u05DC\u05D8",
    email: "\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC",
    url: "\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA",
    emoji: "\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO",
    date: "\u05EA\u05D0\u05E8\u05D9\u05DA ISO",
    time: "\u05D6\u05DE\u05DF ISO",
    duration: "\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO",
    ipv4: "\u05DB\u05EA\u05D5\u05D1\u05EA IPv4",
    ipv6: "\u05DB\u05EA\u05D5\u05D1\u05EA IPv6",
    cidrv4: "\u05D8\u05D5\u05D5\u05D7 IPv4",
    cidrv6: "\u05D8\u05D5\u05D5\u05D7 IPv6",
    base64: "\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64",
    base64url: "\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA",
    json_string: "\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON",
    e164: "\u05DE\u05E1\u05E4\u05E8 E.164",
    jwt: "JWT",
    template_literal: "\u05E7\u05DC\u05D8"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA ${issue2.expected}, \u05D4\u05EA\u05E7\u05D1\u05DC ${parsedType7(issue2.input)}`;
      // return `Invalid input: expected ${issue.expected}, received ${util.getParsedType(issue.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA ${stringifyPrimitive(issue2.values[0])}`;
        return `\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05D0\u05D7\u05EA \u05DE\u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA  ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${issue2.origin ?? "value"} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elements"}`;
        return `\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${issue2.origin ?? "value"} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${issue2.origin} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${issue2.origin} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1"${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${_issue.pattern}`;
        return `${Nouns[_issue.format] ?? issue2.format} \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF`;
      }
      case "not_multiple_of":
        return `\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${issue2.divisor}`;
      case "unrecognized_keys":
        return `\u05DE\u05E4\u05EA\u05D7${issue2.keys.length > 1 ? "\u05D5\u05EA" : ""} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${issue2.keys.length > 1 ? "\u05D9\u05DD" : "\u05D4"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u05DE\u05E4\u05EA\u05D7 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${issue2.origin}`;
      case "invalid_union":
        return "\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF";
      case "invalid_element":
        return `\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${issue2.origin}`;
      default:
        return `\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF`;
    }
  };
};
function he_default() {
  return {
    localeError: error15()
  };
}

// node_modules/zod/v4/locales/hu.js
var error16 = () => {
  const Sizable = {
    string: { unit: "karakter", verb: "legyen" },
    file: { unit: "byte", verb: "legyen" },
    array: { unit: "elem", verb: "legyen" },
    set: { unit: "elem", verb: "legyen" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "sz\xE1m";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "t\xF6mb";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "bemenet",
    email: "email c\xEDm",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO id\u0151b\xE9lyeg",
    date: "ISO d\xE1tum",
    time: "ISO id\u0151",
    duration: "ISO id\u0151intervallum",
    ipv4: "IPv4 c\xEDm",
    ipv6: "IPv6 c\xEDm",
    cidrv4: "IPv4 tartom\xE1ny",
    cidrv6: "IPv6 tartom\xE1ny",
    base64: "base64-k\xF3dolt string",
    base64url: "base64url-k\xF3dolt string",
    json_string: "JSON string",
    e164: "E.164 sz\xE1m",
    jwt: "JWT",
    template_literal: "bemenet"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${issue2.expected}, a kapott \xE9rt\xE9k ${parsedType7(issue2.input)}`;
      // return `Invalid input: expected ${issue.expected}, received ${util.getParsedType(issue.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${stringifyPrimitive(issue2.values[0])}`;
        return `\xC9rv\xE9nytelen opci\xF3: valamelyik \xE9rt\xE9k v\xE1rt ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `T\xFAl nagy: ${issue2.origin ?? "\xE9rt\xE9k"} m\xE9rete t\xFAl nagy ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elem"}`;
        return `T\xFAl nagy: a bemeneti \xE9rt\xE9k ${issue2.origin ?? "\xE9rt\xE9k"} t\xFAl nagy: ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${issue2.origin} m\xE9rete t\xFAl kicsi ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${issue2.origin} t\xFAl kicsi ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\xC9rv\xE9nytelen string: "${_issue.prefix}" \xE9rt\xE9kkel kell kezd\u0151dnie`;
        if (_issue.format === "ends_with")
          return `\xC9rv\xE9nytelen string: "${_issue.suffix}" \xE9rt\xE9kkel kell v\xE9gz\u0151dnie`;
        if (_issue.format === "includes")
          return `\xC9rv\xE9nytelen string: "${_issue.includes}" \xE9rt\xE9ket kell tartalmaznia`;
        if (_issue.format === "regex")
          return `\xC9rv\xE9nytelen string: ${_issue.pattern} mint\xE1nak kell megfelelnie`;
        return `\xC9rv\xE9nytelen ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\xC9rv\xE9nytelen sz\xE1m: ${issue2.divisor} t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie`;
      case "unrecognized_keys":
        return `Ismeretlen kulcs${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\xC9rv\xE9nytelen kulcs ${issue2.origin}`;
      case "invalid_union":
        return "\xC9rv\xE9nytelen bemenet";
      case "invalid_element":
        return `\xC9rv\xE9nytelen \xE9rt\xE9k: ${issue2.origin}`;
      default:
        return `\xC9rv\xE9nytelen bemenet`;
    }
  };
};
function hu_default() {
  return {
    localeError: error16()
  };
}

// node_modules/zod/v4/locales/id.js
var error17 = () => {
  const Sizable = {
    string: { unit: "karakter", verb: "memiliki" },
    file: { unit: "byte", verb: "memiliki" },
    array: { unit: "item", verb: "memiliki" },
    set: { unit: "item", verb: "memiliki" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "input",
    email: "alamat email",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "tanggal dan waktu format ISO",
    date: "tanggal format ISO",
    time: "jam format ISO",
    duration: "durasi format ISO",
    ipv4: "alamat IPv4",
    ipv6: "alamat IPv6",
    cidrv4: "rentang alamat IPv4",
    cidrv6: "rentang alamat IPv6",
    base64: "string dengan enkode base64",
    base64url: "string dengan enkode base64url",
    json_string: "string JSON",
    e164: "angka E.164",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Input tidak valid: diharapkan ${issue2.expected}, diterima ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Input tidak valid: diharapkan ${stringifyPrimitive(issue2.values[0])}`;
        return `Pilihan tidak valid: diharapkan salah satu dari ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Terlalu besar: diharapkan ${issue2.origin ?? "value"} memiliki ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elemen"}`;
        return `Terlalu besar: diharapkan ${issue2.origin ?? "value"} menjadi ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Terlalu kecil: diharapkan ${issue2.origin} memiliki ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Terlalu kecil: diharapkan ${issue2.origin} menjadi ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `String tidak valid: harus dimulai dengan "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `String tidak valid: harus berakhir dengan "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `String tidak valid: harus menyertakan "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `String tidak valid: harus sesuai pola ${_issue.pattern}`;
        return `${Nouns[_issue.format] ?? issue2.format} tidak valid`;
      }
      case "not_multiple_of":
        return `Angka tidak valid: harus kelipatan dari ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Kunci tidak dikenali ${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Kunci tidak valid di ${issue2.origin}`;
      case "invalid_union":
        return "Input tidak valid";
      case "invalid_element":
        return `Nilai tidak valid di ${issue2.origin}`;
      default:
        return `Input tidak valid`;
    }
  };
};
function id_default() {
  return {
    localeError: error17()
  };
}

// node_modules/zod/v4/locales/is.js
var parsedType3 = (data) => {
  const t2 = typeof data;
  switch (t2) {
    case "number": {
      return Number.isNaN(data) ? "NaN" : "n\xFAmer";
    }
    case "object": {
      if (Array.isArray(data)) {
        return "fylki";
      }
      if (data === null) {
        return "null";
      }
      if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
        return data.constructor.name;
      }
    }
  }
  return t2;
};
var error18 = () => {
  const Sizable = {
    string: { unit: "stafi", verb: "a\xF0 hafa" },
    file: { unit: "b\xE6ti", verb: "a\xF0 hafa" },
    array: { unit: "hluti", verb: "a\xF0 hafa" },
    set: { unit: "hluti", verb: "a\xF0 hafa" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const Nouns = {
    regex: "gildi",
    email: "netfang",
    url: "vefsl\xF3\xF0",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO dagsetning og t\xEDmi",
    date: "ISO dagsetning",
    time: "ISO t\xEDmi",
    duration: "ISO t\xEDmalengd",
    ipv4: "IPv4 address",
    ipv6: "IPv6 address",
    cidrv4: "IPv4 range",
    cidrv6: "IPv6 range",
    base64: "base64-encoded strengur",
    base64url: "base64url-encoded strengur",
    json_string: "JSON strengur",
    e164: "E.164 t\xF6lugildi",
    jwt: "JWT",
    template_literal: "gildi"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Rangt gildi: \xDE\xFA sl\xF3st inn ${parsedType3(issue2.input)} \xFEar sem \xE1 a\xF0 vera ${issue2.expected}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Rangt gildi: gert r\xE1\xF0 fyrir ${stringifyPrimitive(issue2.values[0])}`;
        return `\xD3gilt val: m\xE1 vera eitt af eftirfarandi ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${issue2.origin ?? "gildi"} hafi ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "hluti"}`;
        return `Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${issue2.origin ?? "gildi"} s\xE9 ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${issue2.origin} hafi ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${issue2.origin} s\xE9 ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\xD3gildur strengur: ver\xF0ur a\xF0 byrja \xE1 "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `\xD3gildur strengur: ver\xF0ur a\xF0 enda \xE1 "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\xD3gildur strengur: ver\xF0ur a\xF0 innihalda "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\xD3gildur strengur: ver\xF0ur a\xF0 fylgja mynstri ${_issue.pattern}`;
        return `Rangt ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `R\xF6ng tala: ver\xF0ur a\xF0 vera margfeldi af ${issue2.divisor}`;
      case "unrecognized_keys":
        return `\xD3\xFEekkt ${issue2.keys.length > 1 ? "ir lyklar" : "ur lykill"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Rangur lykill \xED ${issue2.origin}`;
      case "invalid_union":
        return "Rangt gildi";
      case "invalid_element":
        return `Rangt gildi \xED ${issue2.origin}`;
      default:
        return `Rangt gildi`;
    }
  };
};
function is_default() {
  return {
    localeError: error18()
  };
}

// node_modules/zod/v4/locales/it.js
var error19 = () => {
  const Sizable = {
    string: { unit: "caratteri", verb: "avere" },
    file: { unit: "byte", verb: "avere" },
    array: { unit: "elementi", verb: "avere" },
    set: { unit: "elementi", verb: "avere" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "numero";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "vettore";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "input",
    email: "indirizzo email",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "data e ora ISO",
    date: "data ISO",
    time: "ora ISO",
    duration: "durata ISO",
    ipv4: "indirizzo IPv4",
    ipv6: "indirizzo IPv6",
    cidrv4: "intervallo IPv4",
    cidrv6: "intervallo IPv6",
    base64: "stringa codificata in base64",
    base64url: "URL codificata in base64",
    json_string: "stringa JSON",
    e164: "numero E.164",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Input non valido: atteso ${issue2.expected}, ricevuto ${parsedType7(issue2.input)}`;
      // return `Input non valido: atteso ${issue.expected}, ricevuto ${util.getParsedType(issue.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Input non valido: atteso ${stringifyPrimitive(issue2.values[0])}`;
        return `Opzione non valida: atteso uno tra ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Troppo grande: ${issue2.origin ?? "valore"} deve avere ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elementi"}`;
        return `Troppo grande: ${issue2.origin ?? "valore"} deve essere ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Troppo piccolo: ${issue2.origin} deve avere ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Troppo piccolo: ${issue2.origin} deve essere ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Stringa non valida: deve iniziare con "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Stringa non valida: deve terminare con "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Stringa non valida: deve includere "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Stringa non valida: deve corrispondere al pattern ${_issue.pattern}`;
        return `Invalid ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Numero non valido: deve essere un multiplo di ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Chiav${issue2.keys.length > 1 ? "i" : "e"} non riconosciut${issue2.keys.length > 1 ? "e" : "a"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Chiave non valida in ${issue2.origin}`;
      case "invalid_union":
        return "Input non valido";
      case "invalid_element":
        return `Valore non valido in ${issue2.origin}`;
      default:
        return `Input non valido`;
    }
  };
};
function it_default() {
  return {
    localeError: error19()
  };
}

// node_modules/zod/v4/locales/ja.js
var error20 = () => {
  const Sizable = {
    string: { unit: "\u6587\u5B57", verb: "\u3067\u3042\u308B" },
    file: { unit: "\u30D0\u30A4\u30C8", verb: "\u3067\u3042\u308B" },
    array: { unit: "\u8981\u7D20", verb: "\u3067\u3042\u308B" },
    set: { unit: "\u8981\u7D20", verb: "\u3067\u3042\u308B" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u6570\u5024";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u914D\u5217";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u5165\u529B\u5024",
    email: "\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",
    url: "URL",
    emoji: "\u7D75\u6587\u5B57",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO\u65E5\u6642",
    date: "ISO\u65E5\u4ED8",
    time: "ISO\u6642\u523B",
    duration: "ISO\u671F\u9593",
    ipv4: "IPv4\u30A2\u30C9\u30EC\u30B9",
    ipv6: "IPv6\u30A2\u30C9\u30EC\u30B9",
    cidrv4: "IPv4\u7BC4\u56F2",
    cidrv6: "IPv6\u7BC4\u56F2",
    base64: "base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",
    base64url: "base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",
    json_string: "JSON\u6587\u5B57\u5217",
    e164: "E.164\u756A\u53F7",
    jwt: "JWT",
    template_literal: "\u5165\u529B\u5024"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u7121\u52B9\u306A\u5165\u529B: ${issue2.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${parsedType7(issue2.input)}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u7121\u52B9\u306A\u5165\u529B: ${stringifyPrimitive(issue2.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`;
        return `\u7121\u52B9\u306A\u9078\u629E: ${joinValues(issue2.values, "\u3001")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
      case "too_big": {
        const adj = issue2.inclusive ? "\u4EE5\u4E0B\u3067\u3042\u308B" : "\u3088\u308A\u5C0F\u3055\u3044";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u5927\u304D\u3059\u304E\u308B\u5024: ${issue2.origin ?? "\u5024"}\u306F${issue2.maximum.toString()}${sizing.unit ?? "\u8981\u7D20"}${adj}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
        return `\u5927\u304D\u3059\u304E\u308B\u5024: ${issue2.origin ?? "\u5024"}\u306F${issue2.maximum.toString()}${adj}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? "\u4EE5\u4E0A\u3067\u3042\u308B" : "\u3088\u308A\u5927\u304D\u3044";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u5C0F\u3055\u3059\u304E\u308B\u5024: ${issue2.origin}\u306F${issue2.minimum.toString()}${sizing.unit}${adj}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
        return `\u5C0F\u3055\u3059\u304E\u308B\u5024: ${issue2.origin}\u306F${issue2.minimum.toString()}${adj}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u7121\u52B9\u306A\u6587\u5B57\u5217: "${_issue.prefix}"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
        if (_issue.format === "ends_with")
          return `\u7121\u52B9\u306A\u6587\u5B57\u5217: "${_issue.suffix}"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
        if (_issue.format === "includes")
          return `\u7121\u52B9\u306A\u6587\u5B57\u5217: "${_issue.includes}"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
        if (_issue.format === "regex")
          return `\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${_issue.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
        return `\u7121\u52B9\u306A${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u7121\u52B9\u306A\u6570\u5024: ${issue2.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
      case "unrecognized_keys":
        return `\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${issue2.keys.length > 1 ? "\u7FA4" : ""}: ${joinValues(issue2.keys, "\u3001")}`;
      case "invalid_key":
        return `${issue2.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;
      case "invalid_union":
        return "\u7121\u52B9\u306A\u5165\u529B";
      case "invalid_element":
        return `${issue2.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;
      default:
        return `\u7121\u52B9\u306A\u5165\u529B`;
    }
  };
};
function ja_default() {
  return {
    localeError: error20()
  };
}

// node_modules/zod/v4/locales/ka.js
var parsedType4 = (data) => {
  const t2 = typeof data;
  switch (t2) {
    case "number": {
      return Number.isNaN(data) ? "NaN" : "\u10E0\u10D8\u10EA\u10EE\u10D5\u10D8";
    }
    case "object": {
      if (Array.isArray(data)) {
        return "\u10DB\u10D0\u10E1\u10D8\u10D5\u10D8";
      }
      if (data === null) {
        return "null";
      }
      if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
        return data.constructor.name;
      }
    }
  }
  const typeMap = {
    string: "\u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",
    boolean: "\u10D1\u10E3\u10DA\u10D4\u10D0\u10DC\u10D8",
    undefined: "undefined",
    bigint: "bigint",
    symbol: "symbol",
    function: "\u10E4\u10E3\u10DC\u10E5\u10EA\u10D8\u10D0"
  };
  return typeMap[t2] ?? t2;
};
var error21 = () => {
  const Sizable = {
    string: { unit: "\u10E1\u10D8\u10DB\u10D1\u10DD\u10DA\u10DD", verb: "\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1" },
    file: { unit: "\u10D1\u10D0\u10D8\u10E2\u10D8", verb: "\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1" },
    array: { unit: "\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8", verb: "\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1" },
    set: { unit: "\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8", verb: "\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const Nouns = {
    regex: "\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0",
    email: "\u10D4\u10DA-\u10E4\u10DD\u10E1\u10E2\u10D8\u10E1 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",
    url: "URL",
    emoji: "\u10D4\u10DB\u10DD\u10EF\u10D8",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8-\u10D3\u10E0\u10DD",
    date: "\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8",
    time: "\u10D3\u10E0\u10DD",
    duration: "\u10EE\u10D0\u10DC\u10D2\u10E0\u10EB\u10DA\u10D8\u10D5\u10DD\u10D1\u10D0",
    ipv4: "IPv4 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",
    ipv6: "IPv6 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",
    cidrv4: "IPv4 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",
    cidrv6: "IPv6 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",
    base64: "base64-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",
    base64url: "base64url-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",
    json_string: "JSON \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",
    e164: "E.164 \u10DC\u10DD\u10DB\u10D4\u10E0\u10D8",
    jwt: "JWT",
    template_literal: "\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${issue2.expected}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${parsedType4(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${stringifyPrimitive(issue2.values[0])}`;
        return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D5\u10D0\u10E0\u10D8\u10D0\u10DC\u10E2\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8\u10D0 \u10D4\u10E0\u10D7-\u10D4\u10E0\u10D7\u10D8 ${joinValues(issue2.values, "|")}-\u10D3\u10D0\u10DC`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${issue2.origin ?? "\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} ${sizing.verb} ${adj}${issue2.maximum.toString()} ${sizing.unit}`;
        return `\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${issue2.origin ?? "\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} \u10D8\u10E7\u10DD\u10E1 ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${issue2.origin} ${sizing.verb} ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${issue2.origin} \u10D8\u10E7\u10DD\u10E1 ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10EC\u10E7\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${_issue.prefix}"-\u10D8\u10D7`;
        }
        if (_issue.format === "ends_with")
          return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10DB\u10D7\u10D0\u10D5\u10E0\u10D3\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${_issue.suffix}"-\u10D8\u10D7`;
        if (_issue.format === "includes")
          return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1 "${_issue.includes}"-\u10E1`;
        if (_issue.format === "regex")
          return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D4\u10E1\u10D0\u10D1\u10D0\u10DB\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 \u10E8\u10D0\u10D1\u10DA\u10DD\u10DC\u10E1 ${_issue.pattern}`;
        return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E0\u10D8\u10EA\u10EE\u10D5\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10E7\u10DD\u10E1 ${issue2.divisor}-\u10D8\u10E1 \u10EF\u10D4\u10E0\u10D0\u10D3\u10D8`;
      case "unrecognized_keys":
        return `\u10E3\u10EA\u10DC\u10DD\u10D1\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1${issue2.keys.length > 1 ? "\u10D4\u10D1\u10D8" : "\u10D8"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1\u10D8 ${issue2.origin}-\u10E8\u10D8`;
      case "invalid_union":
        return "\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0";
      case "invalid_element":
        return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0 ${issue2.origin}-\u10E8\u10D8`;
      default:
        return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0`;
    }
  };
};
function ka_default() {
  return {
    localeError: error21()
  };
}

// node_modules/zod/v4/locales/km.js
var error22 = () => {
  const Sizable = {
    string: { unit: "\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A", verb: "\u1782\u17BD\u179A\u1798\u17B6\u1793" },
    file: { unit: "\u1794\u17C3", verb: "\u1782\u17BD\u179A\u1798\u17B6\u1793" },
    array: { unit: "\u1792\u17B6\u178F\u17BB", verb: "\u1782\u17BD\u179A\u1798\u17B6\u1793" },
    set: { unit: "\u1792\u17B6\u178F\u17BB", verb: "\u1782\u17BD\u179A\u1798\u17B6\u1793" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "\u1798\u17B7\u1793\u1798\u17C2\u1793\u1787\u17B6\u179B\u17C1\u1781 (NaN)" : "\u179B\u17C1\u1781";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u17A2\u17B6\u179A\u17C1 (Array)";
        }
        if (data === null) {
          return "\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B",
    email: "\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B",
    url: "URL",
    emoji: "\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO",
    date: "\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO",
    time: "\u1798\u17C9\u17C4\u1784 ISO",
    duration: "\u179A\u1799\u17C8\u1796\u17C1\u179B ISO",
    ipv4: "\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",
    ipv6: "\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",
    cidrv4: "\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",
    cidrv6: "\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",
    base64: "\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64",
    base64url: "\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url",
    json_string: "\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON",
    e164: "\u179B\u17C1\u1781 E.164",
    jwt: "JWT",
    template_literal: "\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue2.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${stringifyPrimitive(issue2.values[0])}`;
        return `\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue2.origin ?? "\u178F\u1798\u17D2\u179B\u17C3"} ${adj} ${issue2.maximum.toString()} ${sizing.unit ?? "\u1792\u17B6\u178F\u17BB"}`;
        return `\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue2.origin ?? "\u178F\u1798\u17D2\u179B\u17C3"} ${adj} ${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue2.origin} ${adj} ${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue2.origin} ${adj} ${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${_issue.pattern}`;
        return `\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${issue2.divisor}`;
      case "unrecognized_keys":
        return `\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${issue2.origin}`;
      case "invalid_union":
        return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C`;
      case "invalid_element":
        return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${issue2.origin}`;
      default:
        return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C`;
    }
  };
};
function km_default() {
  return {
    localeError: error22()
  };
}

// node_modules/zod/v4/locales/kh.js
function kh_default() {
  return km_default();
}

// node_modules/zod/v4/locales/ko.js
var error23 = () => {
  const Sizable = {
    string: { unit: "\uBB38\uC790", verb: "to have" },
    file: { unit: "\uBC14\uC774\uD2B8", verb: "to have" },
    array: { unit: "\uAC1C", verb: "to have" },
    set: { unit: "\uAC1C", verb: "to have" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\uC785\uB825",
    email: "\uC774\uBA54\uC77C \uC8FC\uC18C",
    url: "URL",
    emoji: "\uC774\uBAA8\uC9C0",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO \uB0A0\uC9DC\uC2DC\uAC04",
    date: "ISO \uB0A0\uC9DC",
    time: "ISO \uC2DC\uAC04",
    duration: "ISO \uAE30\uAC04",
    ipv4: "IPv4 \uC8FC\uC18C",
    ipv6: "IPv6 \uC8FC\uC18C",
    cidrv4: "IPv4 \uBC94\uC704",
    cidrv6: "IPv6 \uBC94\uC704",
    base64: "base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",
    base64url: "base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",
    json_string: "JSON \uBB38\uC790\uC5F4",
    e164: "E.164 \uBC88\uD638",
    jwt: "JWT",
    template_literal: "\uC785\uB825"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${issue2.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${parsedType7(issue2.input)}\uC785\uB2C8\uB2E4`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${stringifyPrimitive(issue2.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`;
        return `\uC798\uBABB\uB41C \uC635\uC158: ${joinValues(issue2.values, "\uB610\uB294 ")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;
      case "too_big": {
        const adj = issue2.inclusive ? "\uC774\uD558" : "\uBBF8\uB9CC";
        const suffix = adj === "\uBBF8\uB9CC" ? "\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4" : "\uC5EC\uC57C \uD569\uB2C8\uB2E4";
        const sizing = getSizing(issue2.origin);
        const unit = sizing?.unit ?? "\uC694\uC18C";
        if (sizing)
          return `${issue2.origin ?? "\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${issue2.maximum.toString()}${unit} ${adj}${suffix}`;
        return `${issue2.origin ?? "\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${issue2.maximum.toString()} ${adj}${suffix}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? "\uC774\uC0C1" : "\uCD08\uACFC";
        const suffix = adj === "\uC774\uC0C1" ? "\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4" : "\uC5EC\uC57C \uD569\uB2C8\uB2E4";
        const sizing = getSizing(issue2.origin);
        const unit = sizing?.unit ?? "\uC694\uC18C";
        if (sizing) {
          return `${issue2.origin ?? "\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${issue2.minimum.toString()}${unit} ${adj}${suffix}`;
        }
        return `${issue2.origin ?? "\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${issue2.minimum.toString()} ${adj}${suffix}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${_issue.prefix}"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`;
        }
        if (_issue.format === "ends_with")
          return `\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${_issue.suffix}"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`;
        if (_issue.format === "includes")
          return `\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${_issue.includes}"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`;
        if (_issue.format === "regex")
          return `\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${_issue.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`;
        return `\uC798\uBABB\uB41C ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\uC798\uBABB\uB41C \uC22B\uC790: ${issue2.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;
      case "unrecognized_keys":
        return `\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\uC798\uBABB\uB41C \uD0A4: ${issue2.origin}`;
      case "invalid_union":
        return `\uC798\uBABB\uB41C \uC785\uB825`;
      case "invalid_element":
        return `\uC798\uBABB\uB41C \uAC12: ${issue2.origin}`;
      default:
        return `\uC798\uBABB\uB41C \uC785\uB825`;
    }
  };
};
function ko_default() {
  return {
    localeError: error23()
  };
}

// node_modules/zod/v4/locales/lt.js
var parsedType5 = (data) => {
  const t2 = typeof data;
  return parsedTypeFromType(t2, data);
};
var parsedTypeFromType = (t2, data = void 0) => {
  switch (t2) {
    case "number": {
      return Number.isNaN(data) ? "NaN" : "skai\u010Dius";
    }
    case "bigint": {
      return "sveikasis skai\u010Dius";
    }
    case "string": {
      return "eilut\u0117";
    }
    case "boolean": {
      return "login\u0117 reik\u0161m\u0117";
    }
    case "undefined":
    case "void": {
      return "neapibr\u0117\u017Eta reik\u0161m\u0117";
    }
    case "function": {
      return "funkcija";
    }
    case "symbol": {
      return "simbolis";
    }
    case "object": {
      if (data === void 0)
        return "ne\u017Einomas objektas";
      if (data === null)
        return "nulin\u0117 reik\u0161m\u0117";
      if (Array.isArray(data))
        return "masyvas";
      if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
        return data.constructor.name;
      }
      return "objektas";
    }
    //Zod types below
    case "null": {
      return "nulin\u0117 reik\u0161m\u0117";
    }
  }
  return t2;
};
var capitalizeFirstCharacter = (text2) => {
  return text2.charAt(0).toUpperCase() + text2.slice(1);
};
function getUnitTypeFromNumber(number4) {
  const abs = Math.abs(number4);
  const last = abs % 10;
  const last2 = abs % 100;
  if (last2 >= 11 && last2 <= 19 || last === 0)
    return "many";
  if (last === 1)
    return "one";
  return "few";
}
var error24 = () => {
  const Sizable = {
    string: {
      unit: {
        one: "simbolis",
        few: "simboliai",
        many: "simboli\u0173"
      },
      verb: {
        smaller: {
          inclusive: "turi b\u016Bti ne ilgesn\u0117 kaip",
          notInclusive: "turi b\u016Bti trumpesn\u0117 kaip"
        },
        bigger: {
          inclusive: "turi b\u016Bti ne trumpesn\u0117 kaip",
          notInclusive: "turi b\u016Bti ilgesn\u0117 kaip"
        }
      }
    },
    file: {
      unit: {
        one: "baitas",
        few: "baitai",
        many: "bait\u0173"
      },
      verb: {
        smaller: {
          inclusive: "turi b\u016Bti ne didesnis kaip",
          notInclusive: "turi b\u016Bti ma\u017Eesnis kaip"
        },
        bigger: {
          inclusive: "turi b\u016Bti ne ma\u017Eesnis kaip",
          notInclusive: "turi b\u016Bti didesnis kaip"
        }
      }
    },
    array: {
      unit: {
        one: "element\u0105",
        few: "elementus",
        many: "element\u0173"
      },
      verb: {
        smaller: {
          inclusive: "turi tur\u0117ti ne daugiau kaip",
          notInclusive: "turi tur\u0117ti ma\u017Eiau kaip"
        },
        bigger: {
          inclusive: "turi tur\u0117ti ne ma\u017Eiau kaip",
          notInclusive: "turi tur\u0117ti daugiau kaip"
        }
      }
    },
    set: {
      unit: {
        one: "element\u0105",
        few: "elementus",
        many: "element\u0173"
      },
      verb: {
        smaller: {
          inclusive: "turi tur\u0117ti ne daugiau kaip",
          notInclusive: "turi tur\u0117ti ma\u017Eiau kaip"
        },
        bigger: {
          inclusive: "turi tur\u0117ti ne ma\u017Eiau kaip",
          notInclusive: "turi tur\u0117ti daugiau kaip"
        }
      }
    }
  };
  function getSizing(origin, unitType, inclusive, targetShouldBe) {
    const result = Sizable[origin] ?? null;
    if (result === null)
      return result;
    return {
      unit: result.unit[unitType],
      verb: result.verb[targetShouldBe][inclusive ? "inclusive" : "notInclusive"]
    };
  }
  const Nouns = {
    regex: "\u012Fvestis",
    email: "el. pa\u0161to adresas",
    url: "URL",
    emoji: "jaustukas",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO data ir laikas",
    date: "ISO data",
    time: "ISO laikas",
    duration: "ISO trukm\u0117",
    ipv4: "IPv4 adresas",
    ipv6: "IPv6 adresas",
    cidrv4: "IPv4 tinklo prefiksas (CIDR)",
    cidrv6: "IPv6 tinklo prefiksas (CIDR)",
    base64: "base64 u\u017Ekoduota eilut\u0117",
    base64url: "base64url u\u017Ekoduota eilut\u0117",
    json_string: "JSON eilut\u0117",
    e164: "E.164 numeris",
    jwt: "JWT",
    template_literal: "\u012Fvestis"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Gautas tipas ${parsedType5(issue2.input)}, o tik\u0117tasi - ${parsedTypeFromType(issue2.expected)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Privalo b\u016Bti ${stringifyPrimitive(issue2.values[0])}`;
        return `Privalo b\u016Bti vienas i\u0161 ${joinValues(issue2.values, "|")} pasirinkim\u0173`;
      case "too_big": {
        const origin = parsedTypeFromType(issue2.origin);
        const sizing = getSizing(issue2.origin, getUnitTypeFromNumber(Number(issue2.maximum)), issue2.inclusive ?? false, "smaller");
        if (sizing?.verb)
          return `${capitalizeFirstCharacter(origin ?? issue2.origin ?? "reik\u0161m\u0117")} ${sizing.verb} ${issue2.maximum.toString()} ${sizing.unit ?? "element\u0173"}`;
        const adj = issue2.inclusive ? "ne didesnis kaip" : "ma\u017Eesnis kaip";
        return `${capitalizeFirstCharacter(origin ?? issue2.origin ?? "reik\u0161m\u0117")} turi b\u016Bti ${adj} ${issue2.maximum.toString()} ${sizing?.unit}`;
      }
      case "too_small": {
        const origin = parsedTypeFromType(issue2.origin);
        const sizing = getSizing(issue2.origin, getUnitTypeFromNumber(Number(issue2.minimum)), issue2.inclusive ?? false, "bigger");
        if (sizing?.verb)
          return `${capitalizeFirstCharacter(origin ?? issue2.origin ?? "reik\u0161m\u0117")} ${sizing.verb} ${issue2.minimum.toString()} ${sizing.unit ?? "element\u0173"}`;
        const adj = issue2.inclusive ? "ne ma\u017Eesnis kaip" : "didesnis kaip";
        return `${capitalizeFirstCharacter(origin ?? issue2.origin ?? "reik\u0161m\u0117")} turi b\u016Bti ${adj} ${issue2.minimum.toString()} ${sizing?.unit}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `Eilut\u0117 privalo prasid\u0117ti "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `Eilut\u0117 privalo pasibaigti "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Eilut\u0117 privalo \u012Ftraukti "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Eilut\u0117 privalo atitikti ${_issue.pattern}`;
        return `Neteisingas ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Skai\u010Dius privalo b\u016Bti ${issue2.divisor} kartotinis.`;
      case "unrecognized_keys":
        return `Neatpa\u017Eint${issue2.keys.length > 1 ? "i" : "as"} rakt${issue2.keys.length > 1 ? "ai" : "as"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return "Rastas klaidingas raktas";
      case "invalid_union":
        return "Klaidinga \u012Fvestis";
      case "invalid_element": {
        const origin = parsedTypeFromType(issue2.origin);
        return `${capitalizeFirstCharacter(origin ?? issue2.origin ?? "reik\u0161m\u0117")} turi klaiding\u0105 \u012Fvest\u012F`;
      }
      default:
        return "Klaidinga \u012Fvestis";
    }
  };
};
function lt_default() {
  return {
    localeError: error24()
  };
}

// node_modules/zod/v4/locales/mk.js
var error25 = () => {
  const Sizable = {
    string: { unit: "\u0437\u043D\u0430\u0446\u0438", verb: "\u0434\u0430 \u0438\u043C\u0430\u0430\u0442" },
    file: { unit: "\u0431\u0430\u0458\u0442\u0438", verb: "\u0434\u0430 \u0438\u043C\u0430\u0430\u0442" },
    array: { unit: "\u0441\u0442\u0430\u0432\u043A\u0438", verb: "\u0434\u0430 \u0438\u043C\u0430\u0430\u0442" },
    set: { unit: "\u0441\u0442\u0430\u0432\u043A\u0438", verb: "\u0434\u0430 \u0438\u043C\u0430\u0430\u0442" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u0431\u0440\u043E\u0458";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u043D\u0438\u0437\u0430";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0432\u043D\u0435\u0441",
    email: "\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430",
    url: "URL",
    emoji: "\u0435\u043C\u043E\u045F\u0438",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435",
    date: "ISO \u0434\u0430\u0442\u0443\u043C",
    time: "ISO \u0432\u0440\u0435\u043C\u0435",
    duration: "ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435",
    ipv4: "IPv4 \u0430\u0434\u0440\u0435\u0441\u0430",
    ipv6: "IPv6 \u0430\u0434\u0440\u0435\u0441\u0430",
    cidrv4: "IPv4 \u043E\u043F\u0441\u0435\u0433",
    cidrv6: "IPv6 \u043E\u043F\u0441\u0435\u0433",
    base64: "base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",
    base64url: "base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",
    json_string: "JSON \u043D\u0438\u0437\u0430",
    e164: "E.164 \u0431\u0440\u043E\u0458",
    jwt: "JWT",
    template_literal: "\u0432\u043D\u0435\u0441"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue2.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${parsedType7(issue2.input)}`;
      // return `Invalid input: expected ${issue.expected}, received ${util.getParsedType(issue.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Invalid input: expected ${stringifyPrimitive(issue2.values[0])}`;
        return `\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue2.origin ?? "\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0438\u043C\u0430 ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"}`;
        return `\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue2.origin ?? "\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue2.origin} \u0434\u0430 \u0438\u043C\u0430 ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue2.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${_issue.pattern}`;
        return `Invalid ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${issue2.divisor}`;
      case "unrecognized_keys":
        return `${issue2.keys.length > 1 ? "\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438" : "\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${issue2.origin}`;
      case "invalid_union":
        return "\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441";
      case "invalid_element":
        return `\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${issue2.origin}`;
      default:
        return `\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441`;
    }
  };
};
function mk_default() {
  return {
    localeError: error25()
  };
}

// node_modules/zod/v4/locales/ms.js
var error26 = () => {
  const Sizable = {
    string: { unit: "aksara", verb: "mempunyai" },
    file: { unit: "bait", verb: "mempunyai" },
    array: { unit: "elemen", verb: "mempunyai" },
    set: { unit: "elemen", verb: "mempunyai" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "nombor";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "input",
    email: "alamat e-mel",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "tarikh masa ISO",
    date: "tarikh ISO",
    time: "masa ISO",
    duration: "tempoh ISO",
    ipv4: "alamat IPv4",
    ipv6: "alamat IPv6",
    cidrv4: "julat IPv4",
    cidrv6: "julat IPv6",
    base64: "string dikodkan base64",
    base64url: "string dikodkan base64url",
    json_string: "string JSON",
    e164: "nombor E.164",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Input tidak sah: dijangka ${issue2.expected}, diterima ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Input tidak sah: dijangka ${stringifyPrimitive(issue2.values[0])}`;
        return `Pilihan tidak sah: dijangka salah satu daripada ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Terlalu besar: dijangka ${issue2.origin ?? "nilai"} ${sizing.verb} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elemen"}`;
        return `Terlalu besar: dijangka ${issue2.origin ?? "nilai"} adalah ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Terlalu kecil: dijangka ${issue2.origin} ${sizing.verb} ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Terlalu kecil: dijangka ${issue2.origin} adalah ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `String tidak sah: mesti bermula dengan "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `String tidak sah: mesti berakhir dengan "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `String tidak sah: mesti mengandungi "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `String tidak sah: mesti sepadan dengan corak ${_issue.pattern}`;
        return `${Nouns[_issue.format] ?? issue2.format} tidak sah`;
      }
      case "not_multiple_of":
        return `Nombor tidak sah: perlu gandaan ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Kunci tidak dikenali: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Kunci tidak sah dalam ${issue2.origin}`;
      case "invalid_union":
        return "Input tidak sah";
      case "invalid_element":
        return `Nilai tidak sah dalam ${issue2.origin}`;
      default:
        return `Input tidak sah`;
    }
  };
};
function ms_default() {
  return {
    localeError: error26()
  };
}

// node_modules/zod/v4/locales/nl.js
var error27 = () => {
  const Sizable = {
    string: { unit: "tekens" },
    file: { unit: "bytes" },
    array: { unit: "elementen" },
    set: { unit: "elementen" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "getal";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "invoer",
    email: "emailadres",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO datum en tijd",
    date: "ISO datum",
    time: "ISO tijd",
    duration: "ISO duur",
    ipv4: "IPv4-adres",
    ipv6: "IPv6-adres",
    cidrv4: "IPv4-bereik",
    cidrv6: "IPv6-bereik",
    base64: "base64-gecodeerde tekst",
    base64url: "base64 URL-gecodeerde tekst",
    json_string: "JSON string",
    e164: "E.164-nummer",
    jwt: "JWT",
    template_literal: "invoer"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Ongeldige invoer: verwacht ${issue2.expected}, ontving ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Ongeldige invoer: verwacht ${stringifyPrimitive(issue2.values[0])}`;
        return `Ongeldige optie: verwacht \xE9\xE9n van ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Te lang: verwacht dat ${issue2.origin ?? "waarde"} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elementen"} bevat`;
        return `Te lang: verwacht dat ${issue2.origin ?? "waarde"} ${adj}${issue2.maximum.toString()} is`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Te kort: verwacht dat ${issue2.origin} ${adj}${issue2.minimum.toString()} ${sizing.unit} bevat`;
        }
        return `Te kort: verwacht dat ${issue2.origin} ${adj}${issue2.minimum.toString()} is`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `Ongeldige tekst: moet met "${_issue.prefix}" beginnen`;
        }
        if (_issue.format === "ends_with")
          return `Ongeldige tekst: moet op "${_issue.suffix}" eindigen`;
        if (_issue.format === "includes")
          return `Ongeldige tekst: moet "${_issue.includes}" bevatten`;
        if (_issue.format === "regex")
          return `Ongeldige tekst: moet overeenkomen met patroon ${_issue.pattern}`;
        return `Ongeldig: ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Ongeldig getal: moet een veelvoud van ${issue2.divisor} zijn`;
      case "unrecognized_keys":
        return `Onbekende key${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Ongeldige key in ${issue2.origin}`;
      case "invalid_union":
        return "Ongeldige invoer";
      case "invalid_element":
        return `Ongeldige waarde in ${issue2.origin}`;
      default:
        return `Ongeldige invoer`;
    }
  };
};
function nl_default() {
  return {
    localeError: error27()
  };
}

// node_modules/zod/v4/locales/no.js
var error28 = () => {
  const Sizable = {
    string: { unit: "tegn", verb: "\xE5 ha" },
    file: { unit: "bytes", verb: "\xE5 ha" },
    array: { unit: "elementer", verb: "\xE5 inneholde" },
    set: { unit: "elementer", verb: "\xE5 inneholde" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "tall";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "liste";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "input",
    email: "e-postadresse",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO dato- og klokkeslett",
    date: "ISO-dato",
    time: "ISO-klokkeslett",
    duration: "ISO-varighet",
    ipv4: "IPv4-omr\xE5de",
    ipv6: "IPv6-omr\xE5de",
    cidrv4: "IPv4-spekter",
    cidrv6: "IPv6-spekter",
    base64: "base64-enkodet streng",
    base64url: "base64url-enkodet streng",
    json_string: "JSON-streng",
    e164: "E.164-nummer",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Ugyldig input: forventet ${issue2.expected}, fikk ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Ugyldig verdi: forventet ${stringifyPrimitive(issue2.values[0])}`;
        return `Ugyldig valg: forventet en av ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `For stor(t): forventet ${issue2.origin ?? "value"} til \xE5 ha ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elementer"}`;
        return `For stor(t): forventet ${issue2.origin ?? "value"} til \xE5 ha ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `For lite(n): forventet ${issue2.origin} til \xE5 ha ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `For lite(n): forventet ${issue2.origin} til \xE5 ha ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Ugyldig streng: m\xE5 starte med "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Ugyldig streng: m\xE5 ende med "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Ugyldig streng: m\xE5 inneholde "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Ugyldig streng: m\xE5 matche m\xF8nsteret ${_issue.pattern}`;
        return `Ugyldig ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Ugyldig tall: m\xE5 v\xE6re et multiplum av ${issue2.divisor}`;
      case "unrecognized_keys":
        return `${issue2.keys.length > 1 ? "Ukjente n\xF8kler" : "Ukjent n\xF8kkel"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Ugyldig n\xF8kkel i ${issue2.origin}`;
      case "invalid_union":
        return "Ugyldig input";
      case "invalid_element":
        return `Ugyldig verdi i ${issue2.origin}`;
      default:
        return `Ugyldig input`;
    }
  };
};
function no_default() {
  return {
    localeError: error28()
  };
}

// node_modules/zod/v4/locales/ota.js
var error29 = () => {
  const Sizable = {
    string: { unit: "harf", verb: "olmal\u0131d\u0131r" },
    file: { unit: "bayt", verb: "olmal\u0131d\u0131r" },
    array: { unit: "unsur", verb: "olmal\u0131d\u0131r" },
    set: { unit: "unsur", verb: "olmal\u0131d\u0131r" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "numara";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "saf";
        }
        if (data === null) {
          return "gayb";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "giren",
    email: "epostag\xE2h",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO heng\xE2m\u0131",
    date: "ISO tarihi",
    time: "ISO zaman\u0131",
    duration: "ISO m\xFCddeti",
    ipv4: "IPv4 ni\u015F\xE2n\u0131",
    ipv6: "IPv6 ni\u015F\xE2n\u0131",
    cidrv4: "IPv4 menzili",
    cidrv6: "IPv6 menzili",
    base64: "base64-\u015Fifreli metin",
    base64url: "base64url-\u015Fifreli metin",
    json_string: "JSON metin",
    e164: "E.164 say\u0131s\u0131",
    jwt: "JWT",
    template_literal: "giren"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `F\xE2sit giren: umulan ${issue2.expected}, al\u0131nan ${parsedType7(issue2.input)}`;
      // return `Fsit giren: umulan ${issue.expected}, alnan ${util.getParsedType(issue.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `F\xE2sit giren: umulan ${stringifyPrimitive(issue2.values[0])}`;
        return `F\xE2sit tercih: m\xFBteberler ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Fazla b\xFCy\xFCk: ${issue2.origin ?? "value"}, ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elements"} sahip olmal\u0131yd\u0131.`;
        return `Fazla b\xFCy\xFCk: ${issue2.origin ?? "value"}, ${adj}${issue2.maximum.toString()} olmal\u0131yd\u0131.`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Fazla k\xFC\xE7\xFCk: ${issue2.origin}, ${adj}${issue2.minimum.toString()} ${sizing.unit} sahip olmal\u0131yd\u0131.`;
        }
        return `Fazla k\xFC\xE7\xFCk: ${issue2.origin}, ${adj}${issue2.minimum.toString()} olmal\u0131yd\u0131.`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `F\xE2sit metin: "${_issue.prefix}" ile ba\u015Flamal\u0131.`;
        if (_issue.format === "ends_with")
          return `F\xE2sit metin: "${_issue.suffix}" ile bitmeli.`;
        if (_issue.format === "includes")
          return `F\xE2sit metin: "${_issue.includes}" ihtiv\xE2 etmeli.`;
        if (_issue.format === "regex")
          return `F\xE2sit metin: ${_issue.pattern} nak\u015F\u0131na uymal\u0131.`;
        return `F\xE2sit ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `F\xE2sit say\u0131: ${issue2.divisor} kat\u0131 olmal\u0131yd\u0131.`;
      case "unrecognized_keys":
        return `Tan\u0131nmayan anahtar ${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `${issue2.origin} i\xE7in tan\u0131nmayan anahtar var.`;
      case "invalid_union":
        return "Giren tan\u0131namad\u0131.";
      case "invalid_element":
        return `${issue2.origin} i\xE7in tan\u0131nmayan k\u0131ymet var.`;
      default:
        return `K\u0131ymet tan\u0131namad\u0131.`;
    }
  };
};
function ota_default() {
  return {
    localeError: error29()
  };
}

// node_modules/zod/v4/locales/ps.js
var error30 = () => {
  const Sizable = {
    string: { unit: "\u062A\u0648\u06A9\u064A", verb: "\u0648\u0644\u0631\u064A" },
    file: { unit: "\u0628\u0627\u06CC\u067C\u0633", verb: "\u0648\u0644\u0631\u064A" },
    array: { unit: "\u062A\u0648\u06A9\u064A", verb: "\u0648\u0644\u0631\u064A" },
    set: { unit: "\u062A\u0648\u06A9\u064A", verb: "\u0648\u0644\u0631\u064A" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u0639\u062F\u062F";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u0627\u0631\u06D0";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0648\u0631\u0648\u062F\u064A",
    email: "\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9",
    url: "\u06CC\u0648 \u0622\u0631 \u0627\u0644",
    emoji: "\u0627\u06CC\u0645\u0648\u062C\u064A",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A",
    date: "\u0646\u06D0\u067C\u0647",
    time: "\u0648\u062E\u062A",
    duration: "\u0645\u0648\u062F\u0647",
    ipv4: "\u062F IPv4 \u067E\u062A\u0647",
    ipv6: "\u062F IPv6 \u067E\u062A\u0647",
    cidrv4: "\u062F IPv4 \u0633\u0627\u062D\u0647",
    cidrv6: "\u062F IPv6 \u0633\u0627\u062D\u0647",
    base64: "base64-encoded \u0645\u062A\u0646",
    base64url: "base64url-encoded \u0645\u062A\u0646",
    json_string: "JSON \u0645\u062A\u0646",
    e164: "\u062F E.164 \u0634\u0645\u06D0\u0631\u0647",
    jwt: "JWT",
    template_literal: "\u0648\u0631\u0648\u062F\u064A"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${issue2.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${parsedType7(issue2.input)} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`;
      case "invalid_value":
        if (issue2.values.length === 1) {
          return `\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${stringifyPrimitive(issue2.values[0])} \u0648\u0627\u06CC`;
        }
        return `\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${joinValues(issue2.values, "|")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${issue2.origin ?? "\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\u0639\u0646\u0635\u0631\u0648\u0646\u0647"} \u0648\u0644\u0631\u064A`;
        }
        return `\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${issue2.origin ?? "\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${adj}${issue2.maximum.toString()} \u0648\u064A`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${issue2.origin} \u0628\u0627\u06CC\u062F ${adj}${issue2.minimum.toString()} ${sizing.unit} \u0648\u0644\u0631\u064A`;
        }
        return `\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${issue2.origin} \u0628\u0627\u06CC\u062F ${adj}${issue2.minimum.toString()} \u0648\u064A`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${_issue.prefix}" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`;
        }
        if (_issue.format === "ends_with") {
          return `\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${_issue.suffix}" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`;
        }
        if (_issue.format === "includes") {
          return `\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F "${_issue.includes}" \u0648\u0644\u0631\u064A`;
        }
        if (_issue.format === "regex") {
          return `\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${_issue.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`;
        }
        return `${Nouns[_issue.format] ?? issue2.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`;
      }
      case "not_multiple_of":
        return `\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${issue2.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;
      case "unrecognized_keys":
        return `\u0646\u0627\u0633\u0645 ${issue2.keys.length > 1 ? "\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647" : "\u06A9\u0644\u06CC\u0689"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${issue2.origin} \u06A9\u06D0`;
      case "invalid_union":
        return `\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A`;
      case "invalid_element":
        return `\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${issue2.origin} \u06A9\u06D0`;
      default:
        return `\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A`;
    }
  };
};
function ps_default() {
  return {
    localeError: error30()
  };
}

// node_modules/zod/v4/locales/pl.js
var error31 = () => {
  const Sizable = {
    string: { unit: "znak\xF3w", verb: "mie\u0107" },
    file: { unit: "bajt\xF3w", verb: "mie\u0107" },
    array: { unit: "element\xF3w", verb: "mie\u0107" },
    set: { unit: "element\xF3w", verb: "mie\u0107" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "liczba";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "tablica";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "wyra\u017Cenie",
    email: "adres email",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "data i godzina w formacie ISO",
    date: "data w formacie ISO",
    time: "godzina w formacie ISO",
    duration: "czas trwania ISO",
    ipv4: "adres IPv4",
    ipv6: "adres IPv6",
    cidrv4: "zakres IPv4",
    cidrv6: "zakres IPv6",
    base64: "ci\u0105g znak\xF3w zakodowany w formacie base64",
    base64url: "ci\u0105g znak\xF3w zakodowany w formacie base64url",
    json_string: "ci\u0105g znak\xF3w w formacie JSON",
    e164: "liczba E.164",
    jwt: "JWT",
    template_literal: "wej\u015Bcie"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${issue2.expected}, otrzymano ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${stringifyPrimitive(issue2.values[0])}`;
        return `Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${issue2.origin ?? "warto\u015B\u0107"} b\u0119dzie mie\u0107 ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "element\xF3w"}`;
        }
        return `Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${issue2.origin ?? "warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${issue2.origin ?? "warto\u015B\u0107"} b\u0119dzie mie\u0107 ${adj}${issue2.minimum.toString()} ${sizing.unit ?? "element\xF3w"}`;
        }
        return `Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${issue2.origin ?? "warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zaczyna\u0107 si\u0119 od "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Nieprawid\u0142owy ci\u0105g znak\xF3w: musi ko\u0144czy\u0107 si\u0119 na "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zawiera\u0107 "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Nieprawid\u0142owy ci\u0105g znak\xF3w: musi odpowiada\u0107 wzorcowi ${_issue.pattern}`;
        return `Nieprawid\u0142ow(y/a/e) ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Nierozpoznane klucze${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Nieprawid\u0142owy klucz w ${issue2.origin}`;
      case "invalid_union":
        return "Nieprawid\u0142owe dane wej\u015Bciowe";
      case "invalid_element":
        return `Nieprawid\u0142owa warto\u015B\u0107 w ${issue2.origin}`;
      default:
        return `Nieprawid\u0142owe dane wej\u015Bciowe`;
    }
  };
};
function pl_default() {
  return {
    localeError: error31()
  };
}

// node_modules/zod/v4/locales/pt.js
var error32 = () => {
  const Sizable = {
    string: { unit: "caracteres", verb: "ter" },
    file: { unit: "bytes", verb: "ter" },
    array: { unit: "itens", verb: "ter" },
    set: { unit: "itens", verb: "ter" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "n\xFAmero";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "nulo";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "padr\xE3o",
    email: "endere\xE7o de e-mail",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "data e hora ISO",
    date: "data ISO",
    time: "hora ISO",
    duration: "dura\xE7\xE3o ISO",
    ipv4: "endere\xE7o IPv4",
    ipv6: "endere\xE7o IPv6",
    cidrv4: "faixa de IPv4",
    cidrv6: "faixa de IPv6",
    base64: "texto codificado em base64",
    base64url: "URL codificada em base64",
    json_string: "texto JSON",
    e164: "n\xFAmero E.164",
    jwt: "JWT",
    template_literal: "entrada"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Tipo inv\xE1lido: esperado ${issue2.expected}, recebido ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Entrada inv\xE1lida: esperado ${stringifyPrimitive(issue2.values[0])}`;
        return `Op\xE7\xE3o inv\xE1lida: esperada uma das ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Muito grande: esperado que ${issue2.origin ?? "valor"} tivesse ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elementos"}`;
        return `Muito grande: esperado que ${issue2.origin ?? "valor"} fosse ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Muito pequeno: esperado que ${issue2.origin} tivesse ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Muito pequeno: esperado que ${issue2.origin} fosse ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Texto inv\xE1lido: deve come\xE7ar com "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Texto inv\xE1lido: deve terminar com "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Texto inv\xE1lido: deve incluir "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Texto inv\xE1lido: deve corresponder ao padr\xE3o ${_issue.pattern}`;
        return `${Nouns[_issue.format] ?? issue2.format} inv\xE1lido`;
      }
      case "not_multiple_of":
        return `N\xFAmero inv\xE1lido: deve ser m\xFAltiplo de ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Chave${issue2.keys.length > 1 ? "s" : ""} desconhecida${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Chave inv\xE1lida em ${issue2.origin}`;
      case "invalid_union":
        return "Entrada inv\xE1lida";
      case "invalid_element":
        return `Valor inv\xE1lido em ${issue2.origin}`;
      default:
        return `Campo inv\xE1lido`;
    }
  };
};
function pt_default() {
  return {
    localeError: error32()
  };
}

// node_modules/zod/v4/locales/ru.js
function getRussianPlural(count, one, few, many) {
  const absCount = Math.abs(count);
  const lastDigit = absCount % 10;
  const lastTwoDigits = absCount % 100;
  if (lastTwoDigits >= 11 && lastTwoDigits <= 19) {
    return many;
  }
  if (lastDigit === 1) {
    return one;
  }
  if (lastDigit >= 2 && lastDigit <= 4) {
    return few;
  }
  return many;
}
var error33 = () => {
  const Sizable = {
    string: {
      unit: {
        one: "\u0441\u0438\u043C\u0432\u043E\u043B",
        few: "\u0441\u0438\u043C\u0432\u043E\u043B\u0430",
        many: "\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"
      },
      verb: "\u0438\u043C\u0435\u0442\u044C"
    },
    file: {
      unit: {
        one: "\u0431\u0430\u0439\u0442",
        few: "\u0431\u0430\u0439\u0442\u0430",
        many: "\u0431\u0430\u0439\u0442"
      },
      verb: "\u0438\u043C\u0435\u0442\u044C"
    },
    array: {
      unit: {
        one: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442",
        few: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",
        many: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"
      },
      verb: "\u0438\u043C\u0435\u0442\u044C"
    },
    set: {
      unit: {
        one: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442",
        few: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",
        many: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"
      },
      verb: "\u0438\u043C\u0435\u0442\u044C"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u0447\u0438\u0441\u043B\u043E";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u043C\u0430\u0441\u0441\u0438\u0432";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0432\u0432\u043E\u0434",
    email: "email \u0430\u0434\u0440\u0435\u0441",
    url: "URL",
    emoji: "\u044D\u043C\u043E\u0434\u0437\u0438",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",
    date: "ISO \u0434\u0430\u0442\u0430",
    time: "ISO \u0432\u0440\u0435\u043C\u044F",
    duration: "ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",
    ipv4: "IPv4 \u0430\u0434\u0440\u0435\u0441",
    ipv6: "IPv6 \u0430\u0434\u0440\u0435\u0441",
    cidrv4: "IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",
    cidrv6: "IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",
    base64: "\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64",
    base64url: "\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url",
    json_string: "JSON \u0441\u0442\u0440\u043E\u043A\u0430",
    e164: "\u043D\u043E\u043C\u0435\u0440 E.164",
    jwt: "JWT",
    template_literal: "\u0432\u0432\u043E\u0434"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${issue2.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${stringifyPrimitive(issue2.values[0])}`;
        return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          const maxValue = Number(issue2.maximum);
          const unit = getRussianPlural(maxValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);
          return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${issue2.origin ?? "\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${adj}${issue2.maximum.toString()} ${unit}`;
        }
        return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${issue2.origin ?? "\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          const minValue = Number(issue2.minimum);
          const unit = getRussianPlural(minValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);
          return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${issue2.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${adj}${issue2.minimum.toString()} ${unit}`;
        }
        return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${issue2.origin} \u0431\u0443\u0434\u0435\u0442 ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${_issue.pattern}`;
        return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${issue2.divisor}`;
      case "unrecognized_keys":
        return `\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${issue2.keys.length > 1 ? "\u044B\u0435" : "\u044B\u0439"} \u043A\u043B\u044E\u0447${issue2.keys.length > 1 ? "\u0438" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${issue2.origin}`;
      case "invalid_union":
        return "\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";
      case "invalid_element":
        return `\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${issue2.origin}`;
      default:
        return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435`;
    }
  };
};
function ru_default() {
  return {
    localeError: error33()
  };
}

// node_modules/zod/v4/locales/sl.js
var error34 = () => {
  const Sizable = {
    string: { unit: "znakov", verb: "imeti" },
    file: { unit: "bajtov", verb: "imeti" },
    array: { unit: "elementov", verb: "imeti" },
    set: { unit: "elementov", verb: "imeti" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u0161tevilo";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "tabela";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "vnos",
    email: "e-po\u0161tni naslov",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO datum in \u010Das",
    date: "ISO datum",
    time: "ISO \u010Das",
    duration: "ISO trajanje",
    ipv4: "IPv4 naslov",
    ipv6: "IPv6 naslov",
    cidrv4: "obseg IPv4",
    cidrv6: "obseg IPv6",
    base64: "base64 kodiran niz",
    base64url: "base64url kodiran niz",
    json_string: "JSON niz",
    e164: "E.164 \u0161tevilka",
    jwt: "JWT",
    template_literal: "vnos"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Neveljaven vnos: pri\u010Dakovano ${issue2.expected}, prejeto ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Neveljaven vnos: pri\u010Dakovano ${stringifyPrimitive(issue2.values[0])}`;
        return `Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Preveliko: pri\u010Dakovano, da bo ${issue2.origin ?? "vrednost"} imelo ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elementov"}`;
        return `Preveliko: pri\u010Dakovano, da bo ${issue2.origin ?? "vrednost"} ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Premajhno: pri\u010Dakovano, da bo ${issue2.origin} imelo ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Premajhno: pri\u010Dakovano, da bo ${issue2.origin} ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `Neveljaven niz: mora se za\u010Deti z "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `Neveljaven niz: mora se kon\u010Dati z "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Neveljaven niz: mora vsebovati "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Neveljaven niz: mora ustrezati vzorcu ${_issue.pattern}`;
        return `Neveljaven ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Neprepoznan${issue2.keys.length > 1 ? "i klju\u010Di" : " klju\u010D"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Neveljaven klju\u010D v ${issue2.origin}`;
      case "invalid_union":
        return "Neveljaven vnos";
      case "invalid_element":
        return `Neveljavna vrednost v ${issue2.origin}`;
      default:
        return "Neveljaven vnos";
    }
  };
};
function sl_default() {
  return {
    localeError: error34()
  };
}

// node_modules/zod/v4/locales/sv.js
var error35 = () => {
  const Sizable = {
    string: { unit: "tecken", verb: "att ha" },
    file: { unit: "bytes", verb: "att ha" },
    array: { unit: "objekt", verb: "att inneh\xE5lla" },
    set: { unit: "objekt", verb: "att inneh\xE5lla" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "antal";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "lista";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "regulj\xE4rt uttryck",
    email: "e-postadress",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO-datum och tid",
    date: "ISO-datum",
    time: "ISO-tid",
    duration: "ISO-varaktighet",
    ipv4: "IPv4-intervall",
    ipv6: "IPv6-intervall",
    cidrv4: "IPv4-spektrum",
    cidrv6: "IPv6-spektrum",
    base64: "base64-kodad str\xE4ng",
    base64url: "base64url-kodad str\xE4ng",
    json_string: "JSON-str\xE4ng",
    e164: "E.164-nummer",
    jwt: "JWT",
    template_literal: "mall-literal"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Ogiltig inmatning: f\xF6rv\xE4ntat ${issue2.expected}, fick ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Ogiltig inmatning: f\xF6rv\xE4ntat ${stringifyPrimitive(issue2.values[0])}`;
        return `Ogiltigt val: f\xF6rv\xE4ntade en av ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `F\xF6r stor(t): f\xF6rv\xE4ntade ${issue2.origin ?? "v\xE4rdet"} att ha ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "element"}`;
        }
        return `F\xF6r stor(t): f\xF6rv\xE4ntat ${issue2.origin ?? "v\xE4rdet"} att ha ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `F\xF6r lite(t): f\xF6rv\xE4ntade ${issue2.origin ?? "v\xE4rdet"} att ha ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `F\xF6r lite(t): f\xF6rv\xE4ntade ${issue2.origin ?? "v\xE4rdet"} att ha ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `Ogiltig str\xE4ng: m\xE5ste b\xF6rja med "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `Ogiltig str\xE4ng: m\xE5ste sluta med "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Ogiltig str\xE4ng: m\xE5ste inneh\xE5lla "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Ogiltig str\xE4ng: m\xE5ste matcha m\xF6nstret "${_issue.pattern}"`;
        return `Ogiltig(t) ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Ogiltigt tal: m\xE5ste vara en multipel av ${issue2.divisor}`;
      case "unrecognized_keys":
        return `${issue2.keys.length > 1 ? "Ok\xE4nda nycklar" : "Ok\xE4nd nyckel"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Ogiltig nyckel i ${issue2.origin ?? "v\xE4rdet"}`;
      case "invalid_union":
        return "Ogiltig input";
      case "invalid_element":
        return `Ogiltigt v\xE4rde i ${issue2.origin ?? "v\xE4rdet"}`;
      default:
        return `Ogiltig input`;
    }
  };
};
function sv_default() {
  return {
    localeError: error35()
  };
}

// node_modules/zod/v4/locales/ta.js
var error36 = () => {
  const Sizable = {
    string: { unit: "\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD", verb: "\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD" },
    file: { unit: "\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD", verb: "\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD" },
    array: { unit: "\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD", verb: "\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD" },
    set: { unit: "\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD", verb: "\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "\u0B8E\u0BA3\u0BCD \u0B85\u0BB2\u0BCD\u0BB2\u0BBE\u0BA4\u0BA4\u0BC1" : "\u0B8E\u0BA3\u0BCD";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u0B85\u0BA3\u0BBF";
        }
        if (data === null) {
          return "\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1",
    email: "\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",
    date: "ISO \u0BA4\u0BC7\u0BA4\u0BBF",
    time: "ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",
    duration: "ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1",
    ipv4: "IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",
    ipv6: "IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",
    cidrv4: "IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",
    cidrv6: "IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",
    base64: "base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD",
    base64url: "base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD",
    json_string: "JSON \u0B9A\u0BB0\u0BAE\u0BCD",
    e164: "E.164 \u0B8E\u0BA3\u0BCD",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue2.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${stringifyPrimitive(issue2.values[0])}`;
        return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${joinValues(issue2.values, "|")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue2.origin ?? "\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
        }
        return `\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue2.origin ?? "\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${adj}${issue2.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue2.origin} ${adj}${issue2.minimum.toString()} ${sizing.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
        }
        return `\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue2.origin} ${adj}${issue2.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${_issue.prefix}" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
        if (_issue.format === "ends_with")
          return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${_issue.suffix}" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
        if (_issue.format === "includes")
          return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${_issue.includes}" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
        if (_issue.format === "regex")
          return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${_issue.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
        return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${issue2.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
      case "unrecognized_keys":
        return `\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${issue2.keys.length > 1 ? "\u0B95\u0BB3\u0BCD" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `${issue2.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;
      case "invalid_union":
        return "\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1";
      case "invalid_element":
        return `${issue2.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;
      default:
        return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1`;
    }
  };
};
function ta_default() {
  return {
    localeError: error36()
  };
}

// node_modules/zod/v4/locales/th.js
var error37 = () => {
  const Sizable = {
    string: { unit: "\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23", verb: "\u0E04\u0E27\u0E23\u0E21\u0E35" },
    file: { unit: "\u0E44\u0E1A\u0E15\u0E4C", verb: "\u0E04\u0E27\u0E23\u0E21\u0E35" },
    array: { unit: "\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23", verb: "\u0E04\u0E27\u0E23\u0E21\u0E35" },
    set: { unit: "\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23", verb: "\u0E04\u0E27\u0E23\u0E21\u0E35" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "\u0E44\u0E21\u0E48\u0E43\u0E0A\u0E48\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02 (NaN)" : "\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)";
        }
        if (data === null) {
          return "\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19",
    email: "\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25",
    url: "URL",
    emoji: "\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",
    date: "\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO",
    time: "\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",
    duration: "\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",
    ipv4: "\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4",
    ipv6: "\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6",
    cidrv4: "\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4",
    cidrv6: "\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6",
    base64: "\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64",
    base64url: "\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL",
    json_string: "\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON",
    e164: "\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)",
    jwt: "\u0E42\u0E17\u0E40\u0E04\u0E19 JWT",
    template_literal: "\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${issue2.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${stringifyPrimitive(issue2.values[0])}`;
        return `\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19" : "\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${issue2.origin ?? "\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${adj} ${issue2.maximum.toString()} ${sizing.unit ?? "\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"}`;
        return `\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${issue2.origin ?? "\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${adj} ${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? "\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22" : "\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${issue2.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${adj} ${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${issue2.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${adj} ${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 "${_issue.includes}" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`;
        if (_issue.format === "regex")
          return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${_issue.pattern}`;
        return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${issue2.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;
      case "unrecognized_keys":
        return `\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${issue2.origin}`;
      case "invalid_union":
        return "\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49";
      case "invalid_element":
        return `\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${issue2.origin}`;
      default:
        return `\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07`;
    }
  };
};
function th_default() {
  return {
    localeError: error37()
  };
}

// node_modules/zod/v4/locales/tr.js
var parsedType6 = (data) => {
  const t2 = typeof data;
  switch (t2) {
    case "number": {
      return Number.isNaN(data) ? "NaN" : "number";
    }
    case "object": {
      if (Array.isArray(data)) {
        return "array";
      }
      if (data === null) {
        return "null";
      }
      if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
        return data.constructor.name;
      }
    }
  }
  return t2;
};
var error38 = () => {
  const Sizable = {
    string: { unit: "karakter", verb: "olmal\u0131" },
    file: { unit: "bayt", verb: "olmal\u0131" },
    array: { unit: "\xF6\u011Fe", verb: "olmal\u0131" },
    set: { unit: "\xF6\u011Fe", verb: "olmal\u0131" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const Nouns = {
    regex: "girdi",
    email: "e-posta adresi",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO tarih ve saat",
    date: "ISO tarih",
    time: "ISO saat",
    duration: "ISO s\xFCre",
    ipv4: "IPv4 adresi",
    ipv6: "IPv6 adresi",
    cidrv4: "IPv4 aral\u0131\u011F\u0131",
    cidrv6: "IPv6 aral\u0131\u011F\u0131",
    base64: "base64 ile \u015Fifrelenmi\u015F metin",
    base64url: "base64url ile \u015Fifrelenmi\u015F metin",
    json_string: "JSON dizesi",
    e164: "E.164 say\u0131s\u0131",
    jwt: "JWT",
    template_literal: "\u015Eablon dizesi"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Ge\xE7ersiz de\u011Fer: beklenen ${issue2.expected}, al\u0131nan ${parsedType6(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Ge\xE7ersiz de\u011Fer: beklenen ${stringifyPrimitive(issue2.values[0])}`;
        return `Ge\xE7ersiz se\xE7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\xC7ok b\xFCy\xFCk: beklenen ${issue2.origin ?? "de\u011Fer"} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\xF6\u011Fe"}`;
        return `\xC7ok b\xFCy\xFCk: beklenen ${issue2.origin ?? "de\u011Fer"} ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\xC7ok k\xFC\xE7\xFCk: beklenen ${issue2.origin} ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        return `\xC7ok k\xFC\xE7\xFCk: beklenen ${issue2.origin} ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Ge\xE7ersiz metin: "${_issue.prefix}" ile ba\u015Flamal\u0131`;
        if (_issue.format === "ends_with")
          return `Ge\xE7ersiz metin: "${_issue.suffix}" ile bitmeli`;
        if (_issue.format === "includes")
          return `Ge\xE7ersiz metin: "${_issue.includes}" i\xE7ermeli`;
        if (_issue.format === "regex")
          return `Ge\xE7ersiz metin: ${_issue.pattern} desenine uymal\u0131`;
        return `Ge\xE7ersiz ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Ge\xE7ersiz say\u0131: ${issue2.divisor} ile tam b\xF6l\xFCnebilmeli`;
      case "unrecognized_keys":
        return `Tan\u0131nmayan anahtar${issue2.keys.length > 1 ? "lar" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `${issue2.origin} i\xE7inde ge\xE7ersiz anahtar`;
      case "invalid_union":
        return "Ge\xE7ersiz de\u011Fer";
      case "invalid_element":
        return `${issue2.origin} i\xE7inde ge\xE7ersiz de\u011Fer`;
      default:
        return `Ge\xE7ersiz de\u011Fer`;
    }
  };
};
function tr_default() {
  return {
    localeError: error38()
  };
}

// node_modules/zod/v4/locales/uk.js
var error39 = () => {
  const Sizable = {
    string: { unit: "\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432", verb: "\u043C\u0430\u0442\u0438\u043C\u0435" },
    file: { unit: "\u0431\u0430\u0439\u0442\u0456\u0432", verb: "\u043C\u0430\u0442\u0438\u043C\u0435" },
    array: { unit: "\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432", verb: "\u043C\u0430\u0442\u0438\u043C\u0435" },
    set: { unit: "\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432", verb: "\u043C\u0430\u0442\u0438\u043C\u0435" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u0447\u0438\u0441\u043B\u043E";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u043C\u0430\u0441\u0438\u0432";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456",
    email: "\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438",
    url: "URL",
    emoji: "\u0435\u043C\u043E\u0434\u0437\u0456",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO",
    date: "\u0434\u0430\u0442\u0430 ISO",
    time: "\u0447\u0430\u0441 ISO",
    duration: "\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO",
    ipv4: "\u0430\u0434\u0440\u0435\u0441\u0430 IPv4",
    ipv6: "\u0430\u0434\u0440\u0435\u0441\u0430 IPv6",
    cidrv4: "\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4",
    cidrv6: "\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6",
    base64: "\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64",
    base64url: "\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url",
    json_string: "\u0440\u044F\u0434\u043E\u043A JSON",
    e164: "\u043D\u043E\u043C\u0435\u0440 E.164",
    jwt: "JWT",
    template_literal: "\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${issue2.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${parsedType7(issue2.input)}`;
      // return `  :  ${issue.expected},  ${util.getParsedType(issue.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${stringifyPrimitive(issue2.values[0])}`;
        return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${issue2.origin ?? "\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} ${sizing.verb} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432"}`;
        return `\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${issue2.origin ?? "\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} \u0431\u0443\u0434\u0435 ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${issue2.origin} ${sizing.verb} ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${issue2.origin} \u0431\u0443\u0434\u0435 ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${_issue.pattern}`;
        return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${issue2.divisor}`;
      case "unrecognized_keys":
        return `\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${issue2.keys.length > 1 ? "\u0456" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${issue2.origin}`;
      case "invalid_union":
        return "\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456";
      case "invalid_element":
        return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${issue2.origin}`;
      default:
        return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456`;
    }
  };
};
function uk_default() {
  return {
    localeError: error39()
  };
}

// node_modules/zod/v4/locales/ua.js
function ua_default() {
  return uk_default();
}

// node_modules/zod/v4/locales/ur.js
var error40 = () => {
  const Sizable = {
    string: { unit: "\u062D\u0631\u0648\u0641", verb: "\u06C1\u0648\u0646\u0627" },
    file: { unit: "\u0628\u0627\u0626\u0679\u0633", verb: "\u06C1\u0648\u0646\u0627" },
    array: { unit: "\u0622\u0626\u0679\u0645\u0632", verb: "\u06C1\u0648\u0646\u0627" },
    set: { unit: "\u0622\u0626\u0679\u0645\u0632", verb: "\u06C1\u0648\u0646\u0627" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u0646\u0645\u0628\u0631";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u0622\u0631\u06D2";
        }
        if (data === null) {
          return "\u0646\u0644";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0627\u0646 \u067E\u0679",
    email: "\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633",
    url: "\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644",
    emoji: "\u0627\u06CC\u0645\u0648\u062C\u06CC",
    uuid: "\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",
    uuidv4: "\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4",
    uuidv6: "\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6",
    nanoid: "\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC",
    guid: "\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",
    cuid: "\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",
    cuid2: "\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2",
    ulid: "\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC",
    xid: "\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC",
    ksuid: "\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",
    datetime: "\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645",
    date: "\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E",
    time: "\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A",
    duration: "\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A",
    ipv4: "\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633",
    ipv6: "\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633",
    cidrv4: "\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C",
    cidrv6: "\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C",
    base64: "\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",
    base64url: "\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",
    json_string: "\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF",
    e164: "\u0627\u06CC 164 \u0646\u0645\u0628\u0631",
    jwt: "\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC",
    template_literal: "\u0627\u0646 \u067E\u0679"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${issue2.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${parsedType7(issue2.input)} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${stringifyPrimitive(issue2.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;
        return `\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${joinValues(issue2.values, "|")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u0628\u06C1\u062A \u0628\u0691\u0627: ${issue2.origin ?? "\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u06D2 ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\u0639\u0646\u0627\u0635\u0631"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`;
        return `\u0628\u06C1\u062A \u0628\u0691\u0627: ${issue2.origin ?? "\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u0627 ${adj}${issue2.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${issue2.origin} \u06A9\u06D2 ${adj}${issue2.minimum.toString()} ${sizing.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`;
        }
        return `\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${issue2.origin} \u06A9\u0627 ${adj}${issue2.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${_issue.prefix}" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;
        }
        if (_issue.format === "ends_with")
          return `\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${_issue.suffix}" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;
        if (_issue.format === "includes")
          return `\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${_issue.includes}" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;
        if (_issue.format === "regex")
          return `\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${_issue.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;
        return `\u063A\u0644\u0637 ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${issue2.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;
      case "unrecognized_keys":
        return `\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${issue2.keys.length > 1 ? "\u0632" : ""}: ${joinValues(issue2.keys, "\u060C ")}`;
      case "invalid_key":
        return `${issue2.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;
      case "invalid_union":
        return "\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679";
      case "invalid_element":
        return `${issue2.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;
      default:
        return `\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679`;
    }
  };
};
function ur_default() {
  return {
    localeError: error40()
  };
}

// node_modules/zod/v4/locales/vi.js
var error41 = () => {
  const Sizable = {
    string: { unit: "k\xFD t\u1EF1", verb: "c\xF3" },
    file: { unit: "byte", verb: "c\xF3" },
    array: { unit: "ph\u1EA7n t\u1EED", verb: "c\xF3" },
    set: { unit: "ph\u1EA7n t\u1EED", verb: "c\xF3" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "s\u1ED1";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "m\u1EA3ng";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0111\u1EA7u v\xE0o",
    email: "\u0111\u1ECBa ch\u1EC9 email",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ng\xE0y gi\u1EDD ISO",
    date: "ng\xE0y ISO",
    time: "gi\u1EDD ISO",
    duration: "kho\u1EA3ng th\u1EDDi gian ISO",
    ipv4: "\u0111\u1ECBa ch\u1EC9 IPv4",
    ipv6: "\u0111\u1ECBa ch\u1EC9 IPv6",
    cidrv4: "d\u1EA3i IPv4",
    cidrv6: "d\u1EA3i IPv6",
    base64: "chu\u1ED7i m\xE3 h\xF3a base64",
    base64url: "chu\u1ED7i m\xE3 h\xF3a base64url",
    json_string: "chu\u1ED7i JSON",
    e164: "s\u1ED1 E.164",
    jwt: "JWT",
    template_literal: "\u0111\u1EA7u v\xE0o"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${issue2.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${stringifyPrimitive(issue2.values[0])}`;
        return `T\xF9y ch\u1ECDn kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\xE1c gi\xE1 tr\u1ECB ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${issue2.origin ?? "gi\xE1 tr\u1ECB"} ${sizing.verb} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "ph\u1EA7n t\u1EED"}`;
        return `Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${issue2.origin ?? "gi\xE1 tr\u1ECB"} ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${issue2.origin} ${sizing.verb} ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${issue2.origin} ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\xFAc b\u1EB1ng "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${_issue.pattern}`;
        return `${Nouns[_issue.format] ?? issue2.format} kh\xF4ng h\u1EE3p l\u1EC7`;
      }
      case "not_multiple_of":
        return `S\u1ED1 kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\xE0 b\u1ED9i s\u1ED1 c\u1EE7a ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Kh\xF3a kh\xF4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Kh\xF3a kh\xF4ng h\u1EE3p l\u1EC7 trong ${issue2.origin}`;
      case "invalid_union":
        return "\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7";
      case "invalid_element":
        return `Gi\xE1 tr\u1ECB kh\xF4ng h\u1EE3p l\u1EC7 trong ${issue2.origin}`;
      default:
        return `\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7`;
    }
  };
};
function vi_default() {
  return {
    localeError: error41()
  };
}

// node_modules/zod/v4/locales/zh-CN.js
var error42 = () => {
  const Sizable = {
    string: { unit: "\u5B57\u7B26", verb: "\u5305\u542B" },
    file: { unit: "\u5B57\u8282", verb: "\u5305\u542B" },
    array: { unit: "\u9879", verb: "\u5305\u542B" },
    set: { unit: "\u9879", verb: "\u5305\u542B" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "\u975E\u6570\u5B57(NaN)" : "\u6570\u5B57";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u6570\u7EC4";
        }
        if (data === null) {
          return "\u7A7A\u503C(null)";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u8F93\u5165",
    email: "\u7535\u5B50\u90AE\u4EF6",
    url: "URL",
    emoji: "\u8868\u60C5\u7B26\u53F7",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO\u65E5\u671F\u65F6\u95F4",
    date: "ISO\u65E5\u671F",
    time: "ISO\u65F6\u95F4",
    duration: "ISO\u65F6\u957F",
    ipv4: "IPv4\u5730\u5740",
    ipv6: "IPv6\u5730\u5740",
    cidrv4: "IPv4\u7F51\u6BB5",
    cidrv6: "IPv6\u7F51\u6BB5",
    base64: "base64\u7F16\u7801\u5B57\u7B26\u4E32",
    base64url: "base64url\u7F16\u7801\u5B57\u7B26\u4E32",
    json_string: "JSON\u5B57\u7B26\u4E32",
    e164: "E.164\u53F7\u7801",
    jwt: "JWT",
    template_literal: "\u8F93\u5165"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${issue2.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${stringifyPrimitive(issue2.values[0])}`;
        return `\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${issue2.origin ?? "\u503C"} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\u4E2A\u5143\u7D20"}`;
        return `\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${issue2.origin ?? "\u503C"} ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${issue2.origin} ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${issue2.origin} ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${_issue.prefix}" \u5F00\u5934`;
        if (_issue.format === "ends_with")
          return `\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${_issue.suffix}" \u7ED3\u5C3E`;
        if (_issue.format === "includes")
          return `\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${_issue.pattern}`;
        return `\u65E0\u6548${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${issue2.divisor} \u7684\u500D\u6570`;
      case "unrecognized_keys":
        return `\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `${issue2.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;
      case "invalid_union":
        return "\u65E0\u6548\u8F93\u5165";
      case "invalid_element":
        return `${issue2.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;
      default:
        return `\u65E0\u6548\u8F93\u5165`;
    }
  };
};
function zh_CN_default() {
  return {
    localeError: error42()
  };
}

// node_modules/zod/v4/locales/zh-TW.js
var error43 = () => {
  const Sizable = {
    string: { unit: "\u5B57\u5143", verb: "\u64C1\u6709" },
    file: { unit: "\u4F4D\u5143\u7D44", verb: "\u64C1\u6709" },
    array: { unit: "\u9805\u76EE", verb: "\u64C1\u6709" },
    set: { unit: "\u9805\u76EE", verb: "\u64C1\u6709" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u8F38\u5165",
    email: "\u90F5\u4EF6\u5730\u5740",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO \u65E5\u671F\u6642\u9593",
    date: "ISO \u65E5\u671F",
    time: "ISO \u6642\u9593",
    duration: "ISO \u671F\u9593",
    ipv4: "IPv4 \u4F4D\u5740",
    ipv6: "IPv6 \u4F4D\u5740",
    cidrv4: "IPv4 \u7BC4\u570D",
    cidrv6: "IPv6 \u7BC4\u570D",
    base64: "base64 \u7DE8\u78BC\u5B57\u4E32",
    base64url: "base64url \u7DE8\u78BC\u5B57\u4E32",
    json_string: "JSON \u5B57\u4E32",
    e164: "E.164 \u6578\u503C",
    jwt: "JWT",
    template_literal: "\u8F38\u5165"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${issue2.expected}\uFF0C\u4F46\u6536\u5230 ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${stringifyPrimitive(issue2.values[0])}`;
        return `\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${issue2.origin ?? "\u503C"} \u61C9\u70BA ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\u500B\u5143\u7D20"}`;
        return `\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${issue2.origin ?? "\u503C"} \u61C9\u70BA ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${issue2.origin} \u61C9\u70BA ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${issue2.origin} \u61C9\u70BA ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${_issue.prefix}" \u958B\u982D`;
        }
        if (_issue.format === "ends_with")
          return `\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${_issue.suffix}" \u7D50\u5C3E`;
        if (_issue.format === "includes")
          return `\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${_issue.pattern}`;
        return `\u7121\u6548\u7684 ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${issue2.divisor} \u7684\u500D\u6578`;
      case "unrecognized_keys":
        return `\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${issue2.keys.length > 1 ? "\u5011" : ""}\uFF1A${joinValues(issue2.keys, "\u3001")}`;
      case "invalid_key":
        return `${issue2.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;
      case "invalid_union":
        return "\u7121\u6548\u7684\u8F38\u5165\u503C";
      case "invalid_element":
        return `${issue2.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;
      default:
        return `\u7121\u6548\u7684\u8F38\u5165\u503C`;
    }
  };
};
function zh_TW_default() {
  return {
    localeError: error43()
  };
}

// node_modules/zod/v4/locales/yo.js
var error44 = () => {
  const Sizable = {
    string: { unit: "\xE0mi", verb: "n\xED" },
    file: { unit: "bytes", verb: "n\xED" },
    array: { unit: "nkan", verb: "n\xED" },
    set: { unit: "nkan", verb: "n\xED" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "n\u1ECD\u0301mb\xE0";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "akop\u1ECD";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9",
    email: "\xE0d\xEDr\u1EB9\u0301s\xEC \xECm\u1EB9\u0301l\xEC",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\xE0k\xF3k\xF2 ISO",
    date: "\u1ECDj\u1ECD\u0301 ISO",
    time: "\xE0k\xF3k\xF2 ISO",
    duration: "\xE0k\xF3k\xF2 t\xF3 p\xE9 ISO",
    ipv4: "\xE0d\xEDr\u1EB9\u0301s\xEC IPv4",
    ipv6: "\xE0d\xEDr\u1EB9\u0301s\xEC IPv6",
    cidrv4: "\xE0gb\xE8gb\xE8 IPv4",
    cidrv6: "\xE0gb\xE8gb\xE8 IPv6",
    base64: "\u1ECD\u0300r\u1ECD\u0300 t\xED a k\u1ECD\u0301 n\xED base64",
    base64url: "\u1ECD\u0300r\u1ECD\u0300 base64url",
    json_string: "\u1ECD\u0300r\u1ECD\u0300 JSON",
    e164: "n\u1ECD\u0301mb\xE0 E.164",
    jwt: "JWT",
    template_literal: "\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${issue2.expected}, \xE0m\u1ECD\u0300 a r\xED ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${stringifyPrimitive(issue2.values[0])}`;
        return `\xC0\u1E63\xE0y\xE0n a\u1E63\xEC\u1E63e: yan \u1ECD\u0300kan l\xE1ra ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${issue2.origin ?? "iye"} ${sizing.verb} ${adj}${issue2.maximum} ${sizing.unit}`;
        return `T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 ${adj}${issue2.maximum}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${issue2.origin} ${sizing.verb} ${adj}${issue2.minimum} ${sizing.unit}`;
        return `K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 ${adj}${issue2.minimum}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\u1EB9\u0300r\u1EB9\u0300 p\u1EB9\u0300l\xFA "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 par\xED p\u1EB9\u0300l\xFA "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 n\xED "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\xE1 \xE0p\u1EB9\u1EB9r\u1EB9 mu ${_issue.pattern}`;
        return `A\u1E63\xEC\u1E63e: ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `N\u1ECD\u0301mb\xE0 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 j\u1EB9\u0301 \xE8y\xE0 p\xEDp\xEDn ti ${issue2.divisor}`;
      case "unrecognized_keys":
        return `B\u1ECDt\xECn\xEC \xE0\xECm\u1ECD\u0300: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `B\u1ECDt\xECn\xEC a\u1E63\xEC\u1E63e n\xEDn\xFA ${issue2.origin}`;
      case "invalid_union":
        return "\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e";
      case "invalid_element":
        return `Iye a\u1E63\xEC\u1E63e n\xEDn\xFA ${issue2.origin}`;
      default:
        return "\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e";
    }
  };
};
function yo_default() {
  return {
    localeError: error44()
  };
}

// node_modules/zod/v4/core/registries.js
var $output = Symbol("ZodOutput");
var $input = Symbol("ZodInput");
var $ZodRegistry = class {
  constructor() {
    this._map = /* @__PURE__ */ new WeakMap();
    this._idmap = /* @__PURE__ */ new Map();
  }
  add(schema, ..._meta) {
    const meta = _meta[0];
    this._map.set(schema, meta);
    if (meta && typeof meta === "object" && "id" in meta) {
      if (this._idmap.has(meta.id)) {
        throw new Error(`ID ${meta.id} already exists in the registry`);
      }
      this._idmap.set(meta.id, schema);
    }
    return this;
  }
  clear() {
    this._map = /* @__PURE__ */ new WeakMap();
    this._idmap = /* @__PURE__ */ new Map();
    return this;
  }
  remove(schema) {
    const meta = this._map.get(schema);
    if (meta && typeof meta === "object" && "id" in meta) {
      this._idmap.delete(meta.id);
    }
    this._map.delete(schema);
    return this;
  }
  get(schema) {
    const p = schema._zod.parent;
    if (p) {
      const pm = { ...this.get(p) ?? {} };
      delete pm.id;
      const f = { ...pm, ...this._map.get(schema) };
      return Object.keys(f).length ? f : void 0;
    }
    return this._map.get(schema);
  }
  has(schema) {
    return this._map.has(schema);
  }
};
function registry() {
  return new $ZodRegistry();
}
var globalRegistry = /* @__PURE__ */ registry();

// node_modules/zod/v4/core/api.js
function _string(Class2, params) {
  return new Class2({
    type: "string",
    ...normalizeParams(params)
  });
}
function _coercedString(Class2, params) {
  return new Class2({
    type: "string",
    coerce: true,
    ...normalizeParams(params)
  });
}
function _email(Class2, params) {
  return new Class2({
    type: "string",
    format: "email",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _guid(Class2, params) {
  return new Class2({
    type: "string",
    format: "guid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _uuid(Class2, params) {
  return new Class2({
    type: "string",
    format: "uuid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _uuidv4(Class2, params) {
  return new Class2({
    type: "string",
    format: "uuid",
    check: "string_format",
    abort: false,
    version: "v4",
    ...normalizeParams(params)
  });
}
function _uuidv6(Class2, params) {
  return new Class2({
    type: "string",
    format: "uuid",
    check: "string_format",
    abort: false,
    version: "v6",
    ...normalizeParams(params)
  });
}
function _uuidv7(Class2, params) {
  return new Class2({
    type: "string",
    format: "uuid",
    check: "string_format",
    abort: false,
    version: "v7",
    ...normalizeParams(params)
  });
}
function _url(Class2, params) {
  return new Class2({
    type: "string",
    format: "url",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _emoji2(Class2, params) {
  return new Class2({
    type: "string",
    format: "emoji",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _nanoid(Class2, params) {
  return new Class2({
    type: "string",
    format: "nanoid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _cuid(Class2, params) {
  return new Class2({
    type: "string",
    format: "cuid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _cuid2(Class2, params) {
  return new Class2({
    type: "string",
    format: "cuid2",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _ulid(Class2, params) {
  return new Class2({
    type: "string",
    format: "ulid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _xid(Class2, params) {
  return new Class2({
    type: "string",
    format: "xid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _ksuid(Class2, params) {
  return new Class2({
    type: "string",
    format: "ksuid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _ipv4(Class2, params) {
  return new Class2({
    type: "string",
    format: "ipv4",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _ipv6(Class2, params) {
  return new Class2({
    type: "string",
    format: "ipv6",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _cidrv4(Class2, params) {
  return new Class2({
    type: "string",
    format: "cidrv4",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _cidrv6(Class2, params) {
  return new Class2({
    type: "string",
    format: "cidrv6",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _base64(Class2, params) {
  return new Class2({
    type: "string",
    format: "base64",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _base64url(Class2, params) {
  return new Class2({
    type: "string",
    format: "base64url",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _e164(Class2, params) {
  return new Class2({
    type: "string",
    format: "e164",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _jwt(Class2, params) {
  return new Class2({
    type: "string",
    format: "jwt",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
var TimePrecision = {
  Any: null,
  Minute: -1,
  Second: 0,
  Millisecond: 3,
  Microsecond: 6
};
function _isoDateTime(Class2, params) {
  return new Class2({
    type: "string",
    format: "datetime",
    check: "string_format",
    offset: false,
    local: false,
    precision: null,
    ...normalizeParams(params)
  });
}
function _isoDate(Class2, params) {
  return new Class2({
    type: "string",
    format: "date",
    check: "string_format",
    ...normalizeParams(params)
  });
}
function _isoTime(Class2, params) {
  return new Class2({
    type: "string",
    format: "time",
    check: "string_format",
    precision: null,
    ...normalizeParams(params)
  });
}
function _isoDuration(Class2, params) {
  return new Class2({
    type: "string",
    format: "duration",
    check: "string_format",
    ...normalizeParams(params)
  });
}
function _number(Class2, params) {
  return new Class2({
    type: "number",
    checks: [],
    ...normalizeParams(params)
  });
}
function _coercedNumber(Class2, params) {
  return new Class2({
    type: "number",
    coerce: true,
    checks: [],
    ...normalizeParams(params)
  });
}
function _int(Class2, params) {
  return new Class2({
    type: "number",
    check: "number_format",
    abort: false,
    format: "safeint",
    ...normalizeParams(params)
  });
}
function _float32(Class2, params) {
  return new Class2({
    type: "number",
    check: "number_format",
    abort: false,
    format: "float32",
    ...normalizeParams(params)
  });
}
function _float64(Class2, params) {
  return new Class2({
    type: "number",
    check: "number_format",
    abort: false,
    format: "float64",
    ...normalizeParams(params)
  });
}
function _int32(Class2, params) {
  return new Class2({
    type: "number",
    check: "number_format",
    abort: false,
    format: "int32",
    ...normalizeParams(params)
  });
}
function _uint32(Class2, params) {
  return new Class2({
    type: "number",
    check: "number_format",
    abort: false,
    format: "uint32",
    ...normalizeParams(params)
  });
}
function _boolean(Class2, params) {
  return new Class2({
    type: "boolean",
    ...normalizeParams(params)
  });
}
function _coercedBoolean(Class2, params) {
  return new Class2({
    type: "boolean",
    coerce: true,
    ...normalizeParams(params)
  });
}
function _bigint(Class2, params) {
  return new Class2({
    type: "bigint",
    ...normalizeParams(params)
  });
}
function _coercedBigint(Class2, params) {
  return new Class2({
    type: "bigint",
    coerce: true,
    ...normalizeParams(params)
  });
}
function _int64(Class2, params) {
  return new Class2({
    type: "bigint",
    check: "bigint_format",
    abort: false,
    format: "int64",
    ...normalizeParams(params)
  });
}
function _uint64(Class2, params) {
  return new Class2({
    type: "bigint",
    check: "bigint_format",
    abort: false,
    format: "uint64",
    ...normalizeParams(params)
  });
}
function _symbol(Class2, params) {
  return new Class2({
    type: "symbol",
    ...normalizeParams(params)
  });
}
function _undefined2(Class2, params) {
  return new Class2({
    type: "undefined",
    ...normalizeParams(params)
  });
}
function _null2(Class2, params) {
  return new Class2({
    type: "null",
    ...normalizeParams(params)
  });
}
function _any(Class2) {
  return new Class2({
    type: "any"
  });
}
function _unknown(Class2) {
  return new Class2({
    type: "unknown"
  });
}
function _never(Class2, params) {
  return new Class2({
    type: "never",
    ...normalizeParams(params)
  });
}
function _void(Class2, params) {
  return new Class2({
    type: "void",
    ...normalizeParams(params)
  });
}
function _date(Class2, params) {
  return new Class2({
    type: "date",
    ...normalizeParams(params)
  });
}
function _coercedDate(Class2, params) {
  return new Class2({
    type: "date",
    coerce: true,
    ...normalizeParams(params)
  });
}
function _nan(Class2, params) {
  return new Class2({
    type: "nan",
    ...normalizeParams(params)
  });
}
function _lt(value, params) {
  return new $ZodCheckLessThan({
    check: "less_than",
    ...normalizeParams(params),
    value,
    inclusive: false
  });
}
function _lte(value, params) {
  return new $ZodCheckLessThan({
    check: "less_than",
    ...normalizeParams(params),
    value,
    inclusive: true
  });
}
function _gt(value, params) {
  return new $ZodCheckGreaterThan({
    check: "greater_than",
    ...normalizeParams(params),
    value,
    inclusive: false
  });
}
function _gte(value, params) {
  return new $ZodCheckGreaterThan({
    check: "greater_than",
    ...normalizeParams(params),
    value,
    inclusive: true
  });
}
function _positive(params) {
  return _gt(0, params);
}
function _negative(params) {
  return _lt(0, params);
}
function _nonpositive(params) {
  return _lte(0, params);
}
function _nonnegative(params) {
  return _gte(0, params);
}
function _multipleOf(value, params) {
  return new $ZodCheckMultipleOf({
    check: "multiple_of",
    ...normalizeParams(params),
    value
  });
}
function _maxSize(maximum, params) {
  return new $ZodCheckMaxSize({
    check: "max_size",
    ...normalizeParams(params),
    maximum
  });
}
function _minSize(minimum, params) {
  return new $ZodCheckMinSize({
    check: "min_size",
    ...normalizeParams(params),
    minimum
  });
}
function _size(size, params) {
  return new $ZodCheckSizeEquals({
    check: "size_equals",
    ...normalizeParams(params),
    size
  });
}
function _maxLength(maximum, params) {
  const ch = new $ZodCheckMaxLength({
    check: "max_length",
    ...normalizeParams(params),
    maximum
  });
  return ch;
}
function _minLength(minimum, params) {
  return new $ZodCheckMinLength({
    check: "min_length",
    ...normalizeParams(params),
    minimum
  });
}
function _length(length, params) {
  return new $ZodCheckLengthEquals({
    check: "length_equals",
    ...normalizeParams(params),
    length
  });
}
function _regex(pattern, params) {
  return new $ZodCheckRegex({
    check: "string_format",
    format: "regex",
    ...normalizeParams(params),
    pattern
  });
}
function _lowercase(params) {
  return new $ZodCheckLowerCase({
    check: "string_format",
    format: "lowercase",
    ...normalizeParams(params)
  });
}
function _uppercase(params) {
  return new $ZodCheckUpperCase({
    check: "string_format",
    format: "uppercase",
    ...normalizeParams(params)
  });
}
function _includes(includes, params) {
  return new $ZodCheckIncludes({
    check: "string_format",
    format: "includes",
    ...normalizeParams(params),
    includes
  });
}
function _startsWith(prefix, params) {
  return new $ZodCheckStartsWith({
    check: "string_format",
    format: "starts_with",
    ...normalizeParams(params),
    prefix
  });
}
function _endsWith(suffix, params) {
  return new $ZodCheckEndsWith({
    check: "string_format",
    format: "ends_with",
    ...normalizeParams(params),
    suffix
  });
}
function _property(property, schema, params) {
  return new $ZodCheckProperty({
    check: "property",
    property,
    schema,
    ...normalizeParams(params)
  });
}
function _mime(types2, params) {
  return new $ZodCheckMimeType({
    check: "mime_type",
    mime: types2,
    ...normalizeParams(params)
  });
}
function _overwrite(tx) {
  return new $ZodCheckOverwrite({
    check: "overwrite",
    tx
  });
}
function _normalize(form) {
  return _overwrite((input) => input.normalize(form));
}
function _trim() {
  return _overwrite((input) => input.trim());
}
function _toLowerCase() {
  return _overwrite((input) => input.toLowerCase());
}
function _toUpperCase() {
  return _overwrite((input) => input.toUpperCase());
}
function _array(Class2, element, params) {
  return new Class2({
    type: "array",
    element,
    // get element() {
    //   return element;
    // },
    ...normalizeParams(params)
  });
}
function _union(Class2, options, params) {
  return new Class2({
    type: "union",
    options,
    ...normalizeParams(params)
  });
}
function _discriminatedUnion(Class2, discriminator, options, params) {
  return new Class2({
    type: "union",
    options,
    discriminator,
    ...normalizeParams(params)
  });
}
function _intersection(Class2, left, right) {
  return new Class2({
    type: "intersection",
    left,
    right
  });
}
function _tuple(Class2, items, _paramsOrRest, _params) {
  const hasRest = _paramsOrRest instanceof $ZodType;
  const params = hasRest ? _params : _paramsOrRest;
  const rest = hasRest ? _paramsOrRest : null;
  return new Class2({
    type: "tuple",
    items,
    rest,
    ...normalizeParams(params)
  });
}
function _record(Class2, keyType, valueType, params) {
  return new Class2({
    type: "record",
    keyType,
    valueType,
    ...normalizeParams(params)
  });
}
function _map(Class2, keyType, valueType, params) {
  return new Class2({
    type: "map",
    keyType,
    valueType,
    ...normalizeParams(params)
  });
}
function _set(Class2, valueType, params) {
  return new Class2({
    type: "set",
    valueType,
    ...normalizeParams(params)
  });
}
function _enum(Class2, values, params) {
  const entries = Array.isArray(values) ? Object.fromEntries(values.map((v) => [v, v])) : values;
  return new Class2({
    type: "enum",
    entries,
    ...normalizeParams(params)
  });
}
function _nativeEnum(Class2, entries, params) {
  return new Class2({
    type: "enum",
    entries,
    ...normalizeParams(params)
  });
}
function _literal(Class2, value, params) {
  return new Class2({
    type: "literal",
    values: Array.isArray(value) ? value : [value],
    ...normalizeParams(params)
  });
}
function _file(Class2, params) {
  return new Class2({
    type: "file",
    ...normalizeParams(params)
  });
}
function _transform(Class2, fn) {
  return new Class2({
    type: "transform",
    transform: fn
  });
}
function _optional(Class2, innerType) {
  return new Class2({
    type: "optional",
    innerType
  });
}
function _nullable(Class2, innerType) {
  return new Class2({
    type: "nullable",
    innerType
  });
}
function _default(Class2, innerType, defaultValue) {
  return new Class2({
    type: "default",
    innerType,
    get defaultValue() {
      return typeof defaultValue === "function" ? defaultValue() : shallowClone(defaultValue);
    }
  });
}
function _nonoptional(Class2, innerType, params) {
  return new Class2({
    type: "nonoptional",
    innerType,
    ...normalizeParams(params)
  });
}
function _success(Class2, innerType) {
  return new Class2({
    type: "success",
    innerType
  });
}
function _catch(Class2, innerType, catchValue) {
  return new Class2({
    type: "catch",
    innerType,
    catchValue: typeof catchValue === "function" ? catchValue : () => catchValue
  });
}
function _pipe(Class2, in_, out) {
  return new Class2({
    type: "pipe",
    in: in_,
    out
  });
}
function _readonly(Class2, innerType) {
  return new Class2({
    type: "readonly",
    innerType
  });
}
function _templateLiteral(Class2, parts, params) {
  return new Class2({
    type: "template_literal",
    parts,
    ...normalizeParams(params)
  });
}
function _lazy(Class2, getter) {
  return new Class2({
    type: "lazy",
    getter
  });
}
function _promise(Class2, innerType) {
  return new Class2({
    type: "promise",
    innerType
  });
}
function _custom(Class2, fn, _params) {
  const norm = normalizeParams(_params);
  norm.abort ?? (norm.abort = true);
  const schema = new Class2({
    type: "custom",
    check: "custom",
    fn,
    ...norm
  });
  return schema;
}
function _refine(Class2, fn, _params) {
  const schema = new Class2({
    type: "custom",
    check: "custom",
    fn,
    ...normalizeParams(_params)
  });
  return schema;
}
function _superRefine(fn) {
  const ch = _check((payload) => {
    payload.addIssue = (issue2) => {
      if (typeof issue2 === "string") {
        payload.issues.push(issue(issue2, payload.value, ch._zod.def));
      } else {
        const _issue = issue2;
        if (_issue.fatal)
          _issue.continue = false;
        _issue.code ?? (_issue.code = "custom");
        _issue.input ?? (_issue.input = payload.value);
        _issue.inst ?? (_issue.inst = ch);
        _issue.continue ?? (_issue.continue = !ch._zod.def.abort);
        payload.issues.push(issue(_issue));
      }
    };
    return fn(payload.value, payload);
  });
  return ch;
}
function _check(fn, params) {
  const ch = new $ZodCheck({
    check: "custom",
    ...normalizeParams(params)
  });
  ch._zod.check = fn;
  return ch;
}
function _stringbool(Classes, _params) {
  const params = normalizeParams(_params);
  let truthyArray = params.truthy ?? ["true", "1", "yes", "on", "y", "enabled"];
  let falsyArray = params.falsy ?? ["false", "0", "no", "off", "n", "disabled"];
  if (params.case !== "sensitive") {
    truthyArray = truthyArray.map((v) => typeof v === "string" ? v.toLowerCase() : v);
    falsyArray = falsyArray.map((v) => typeof v === "string" ? v.toLowerCase() : v);
  }
  const truthySet = new Set(truthyArray);
  const falsySet = new Set(falsyArray);
  const _Codec = Classes.Codec ?? $ZodCodec;
  const _Boolean = Classes.Boolean ?? $ZodBoolean;
  const _String = Classes.String ?? $ZodString;
  const stringSchema = new _String({ type: "string", error: params.error });
  const booleanSchema = new _Boolean({ type: "boolean", error: params.error });
  const codec2 = new _Codec({
    type: "pipe",
    in: stringSchema,
    out: booleanSchema,
    transform: ((input, payload) => {
      let data = input;
      if (params.case !== "sensitive")
        data = data.toLowerCase();
      if (truthySet.has(data)) {
        return true;
      } else if (falsySet.has(data)) {
        return false;
      } else {
        payload.issues.push({
          code: "invalid_value",
          expected: "stringbool",
          values: [...truthySet, ...falsySet],
          input: payload.value,
          inst: codec2,
          continue: false
        });
        return {};
      }
    }),
    reverseTransform: ((input, _payload) => {
      if (input === true) {
        return truthyArray[0] || "true";
      } else {
        return falsyArray[0] || "false";
      }
    }),
    error: params.error
  });
  return codec2;
}
function _stringFormat(Class2, format, fnOrRegex, _params = {}) {
  const params = normalizeParams(_params);
  const def = {
    ...normalizeParams(_params),
    check: "string_format",
    type: "string",
    format,
    fn: typeof fnOrRegex === "function" ? fnOrRegex : (val) => fnOrRegex.test(val),
    ...params
  };
  if (fnOrRegex instanceof RegExp) {
    def.pattern = fnOrRegex;
  }
  const inst = new Class2(def);
  return inst;
}

// node_modules/zod/v4/core/to-json-schema.js
var JSONSchemaGenerator = class {
  constructor(params) {
    this.counter = 0;
    this.metadataRegistry = params?.metadata ?? globalRegistry;
    this.target = params?.target ?? "draft-2020-12";
    this.unrepresentable = params?.unrepresentable ?? "throw";
    this.override = params?.override ?? (() => {
    });
    this.io = params?.io ?? "output";
    this.seen = /* @__PURE__ */ new Map();
  }
  process(schema, _params = { path: [], schemaPath: [] }) {
    var _a17;
    const def = schema._zod.def;
    const formatMap = {
      guid: "uuid",
      url: "uri",
      datetime: "date-time",
      json_string: "json-string",
      regex: ""
      // do not set
    };
    const seen = this.seen.get(schema);
    if (seen) {
      seen.count++;
      const isCycle = _params.schemaPath.includes(schema);
      if (isCycle) {
        seen.cycle = _params.path;
      }
      return seen.schema;
    }
    const result = { schema: {}, count: 1, cycle: void 0, path: _params.path };
    this.seen.set(schema, result);
    const overrideSchema = schema._zod.toJSONSchema?.();
    if (overrideSchema) {
      result.schema = overrideSchema;
    } else {
      const params = {
        ..._params,
        schemaPath: [..._params.schemaPath, schema],
        path: _params.path
      };
      const parent = schema._zod.parent;
      if (parent) {
        result.ref = parent;
        this.process(parent, params);
        this.seen.get(parent).isParent = true;
      } else {
        const _json = result.schema;
        switch (def.type) {
          case "string": {
            const json2 = _json;
            json2.type = "string";
            const { minimum, maximum, format, patterns, contentEncoding } = schema._zod.bag;
            if (typeof minimum === "number")
              json2.minLength = minimum;
            if (typeof maximum === "number")
              json2.maxLength = maximum;
            if (format) {
              json2.format = formatMap[format] ?? format;
              if (json2.format === "")
                delete json2.format;
            }
            if (contentEncoding)
              json2.contentEncoding = contentEncoding;
            if (patterns && patterns.size > 0) {
              const regexes = [...patterns];
              if (regexes.length === 1)
                json2.pattern = regexes[0].source;
              else if (regexes.length > 1) {
                result.schema.allOf = [
                  ...regexes.map((regex) => ({
                    ...this.target === "draft-7" || this.target === "draft-4" || this.target === "openapi-3.0" ? { type: "string" } : {},
                    pattern: regex.source
                  }))
                ];
              }
            }
            break;
          }
          case "number": {
            const json2 = _json;
            const { minimum, maximum, format, multipleOf, exclusiveMaximum, exclusiveMinimum } = schema._zod.bag;
            if (typeof format === "string" && format.includes("int"))
              json2.type = "integer";
            else
              json2.type = "number";
            if (typeof exclusiveMinimum === "number") {
              if (this.target === "draft-4" || this.target === "openapi-3.0") {
                json2.minimum = exclusiveMinimum;
                json2.exclusiveMinimum = true;
              } else {
                json2.exclusiveMinimum = exclusiveMinimum;
              }
            }
            if (typeof minimum === "number") {
              json2.minimum = minimum;
              if (typeof exclusiveMinimum === "number" && this.target !== "draft-4") {
                if (exclusiveMinimum >= minimum)
                  delete json2.minimum;
                else
                  delete json2.exclusiveMinimum;
              }
            }
            if (typeof exclusiveMaximum === "number") {
              if (this.target === "draft-4" || this.target === "openapi-3.0") {
                json2.maximum = exclusiveMaximum;
                json2.exclusiveMaximum = true;
              } else {
                json2.exclusiveMaximum = exclusiveMaximum;
              }
            }
            if (typeof maximum === "number") {
              json2.maximum = maximum;
              if (typeof exclusiveMaximum === "number" && this.target !== "draft-4") {
                if (exclusiveMaximum <= maximum)
                  delete json2.maximum;
                else
                  delete json2.exclusiveMaximum;
              }
            }
            if (typeof multipleOf === "number")
              json2.multipleOf = multipleOf;
            break;
          }
          case "boolean": {
            const json2 = _json;
            json2.type = "boolean";
            break;
          }
          case "bigint": {
            if (this.unrepresentable === "throw") {
              throw new Error("BigInt cannot be represented in JSON Schema");
            }
            break;
          }
          case "symbol": {
            if (this.unrepresentable === "throw") {
              throw new Error("Symbols cannot be represented in JSON Schema");
            }
            break;
          }
          case "null": {
            if (this.target === "openapi-3.0") {
              _json.type = "string";
              _json.nullable = true;
              _json.enum = [null];
            } else
              _json.type = "null";
            break;
          }
          case "any": {
            break;
          }
          case "unknown": {
            break;
          }
          case "undefined": {
            if (this.unrepresentable === "throw") {
              throw new Error("Undefined cannot be represented in JSON Schema");
            }
            break;
          }
          case "void": {
            if (this.unrepresentable === "throw") {
              throw new Error("Void cannot be represented in JSON Schema");
            }
            break;
          }
          case "never": {
            _json.not = {};
            break;
          }
          case "date": {
            if (this.unrepresentable === "throw") {
              throw new Error("Date cannot be represented in JSON Schema");
            }
            break;
          }
          case "array": {
            const json2 = _json;
            const { minimum, maximum } = schema._zod.bag;
            if (typeof minimum === "number")
              json2.minItems = minimum;
            if (typeof maximum === "number")
              json2.maxItems = maximum;
            json2.type = "array";
            json2.items = this.process(def.element, { ...params, path: [...params.path, "items"] });
            break;
          }
          case "object": {
            const json2 = _json;
            json2.type = "object";
            json2.properties = {};
            const shape = def.shape;
            for (const key in shape) {
              json2.properties[key] = this.process(shape[key], {
                ...params,
                path: [...params.path, "properties", key]
              });
            }
            const allKeys = new Set(Object.keys(shape));
            const requiredKeys = new Set([...allKeys].filter((key) => {
              const v = def.shape[key]._zod;
              if (this.io === "input") {
                return v.optin === void 0;
              } else {
                return v.optout === void 0;
              }
            }));
            if (requiredKeys.size > 0) {
              json2.required = Array.from(requiredKeys);
            }
            if (def.catchall?._zod.def.type === "never") {
              json2.additionalProperties = false;
            } else if (!def.catchall) {
              if (this.io === "output")
                json2.additionalProperties = false;
            } else if (def.catchall) {
              json2.additionalProperties = this.process(def.catchall, {
                ...params,
                path: [...params.path, "additionalProperties"]
              });
            }
            break;
          }
          case "union": {
            const json2 = _json;
            const options = def.options.map((x, i2) => this.process(x, {
              ...params,
              path: [...params.path, "anyOf", i2]
            }));
            json2.anyOf = options;
            break;
          }
          case "intersection": {
            const json2 = _json;
            const a2 = this.process(def.left, {
              ...params,
              path: [...params.path, "allOf", 0]
            });
            const b = this.process(def.right, {
              ...params,
              path: [...params.path, "allOf", 1]
            });
            const isSimpleIntersection = (val) => "allOf" in val && Object.keys(val).length === 1;
            const allOf = [
              ...isSimpleIntersection(a2) ? a2.allOf : [a2],
              ...isSimpleIntersection(b) ? b.allOf : [b]
            ];
            json2.allOf = allOf;
            break;
          }
          case "tuple": {
            const json2 = _json;
            json2.type = "array";
            const prefixPath = this.target === "draft-2020-12" ? "prefixItems" : "items";
            const restPath = this.target === "draft-2020-12" ? "items" : this.target === "openapi-3.0" ? "items" : "additionalItems";
            const prefixItems = def.items.map((x, i2) => this.process(x, {
              ...params,
              path: [...params.path, prefixPath, i2]
            }));
            const rest = def.rest ? this.process(def.rest, {
              ...params,
              path: [...params.path, restPath, ...this.target === "openapi-3.0" ? [def.items.length] : []]
            }) : null;
            if (this.target === "draft-2020-12") {
              json2.prefixItems = prefixItems;
              if (rest) {
                json2.items = rest;
              }
            } else if (this.target === "openapi-3.0") {
              json2.items = {
                anyOf: prefixItems
              };
              if (rest) {
                json2.items.anyOf.push(rest);
              }
              json2.minItems = prefixItems.length;
              if (!rest) {
                json2.maxItems = prefixItems.length;
              }
            } else {
              json2.items = prefixItems;
              if (rest) {
                json2.additionalItems = rest;
              }
            }
            const { minimum, maximum } = schema._zod.bag;
            if (typeof minimum === "number")
              json2.minItems = minimum;
            if (typeof maximum === "number")
              json2.maxItems = maximum;
            break;
          }
          case "record": {
            const json2 = _json;
            json2.type = "object";
            if (this.target === "draft-7" || this.target === "draft-2020-12") {
              json2.propertyNames = this.process(def.keyType, {
                ...params,
                path: [...params.path, "propertyNames"]
              });
            }
            json2.additionalProperties = this.process(def.valueType, {
              ...params,
              path: [...params.path, "additionalProperties"]
            });
            break;
          }
          case "map": {
            if (this.unrepresentable === "throw") {
              throw new Error("Map cannot be represented in JSON Schema");
            }
            break;
          }
          case "set": {
            if (this.unrepresentable === "throw") {
              throw new Error("Set cannot be represented in JSON Schema");
            }
            break;
          }
          case "enum": {
            const json2 = _json;
            const values = getEnumValues(def.entries);
            if (values.every((v) => typeof v === "number"))
              json2.type = "number";
            if (values.every((v) => typeof v === "string"))
              json2.type = "string";
            json2.enum = values;
            break;
          }
          case "literal": {
            const json2 = _json;
            const vals = [];
            for (const val of def.values) {
              if (val === void 0) {
                if (this.unrepresentable === "throw") {
                  throw new Error("Literal `undefined` cannot be represented in JSON Schema");
                } else {
                }
              } else if (typeof val === "bigint") {
                if (this.unrepresentable === "throw") {
                  throw new Error("BigInt literals cannot be represented in JSON Schema");
                } else {
                  vals.push(Number(val));
                }
              } else {
                vals.push(val);
              }
            }
            if (vals.length === 0) {
            } else if (vals.length === 1) {
              const val = vals[0];
              json2.type = val === null ? "null" : typeof val;
              if (this.target === "draft-4" || this.target === "openapi-3.0") {
                json2.enum = [val];
              } else {
                json2.const = val;
              }
            } else {
              if (vals.every((v) => typeof v === "number"))
                json2.type = "number";
              if (vals.every((v) => typeof v === "string"))
                json2.type = "string";
              if (vals.every((v) => typeof v === "boolean"))
                json2.type = "string";
              if (vals.every((v) => v === null))
                json2.type = "null";
              json2.enum = vals;
            }
            break;
          }
          case "file": {
            const json2 = _json;
            const file2 = {
              type: "string",
              format: "binary",
              contentEncoding: "binary"
            };
            const { minimum, maximum, mime } = schema._zod.bag;
            if (minimum !== void 0)
              file2.minLength = minimum;
            if (maximum !== void 0)
              file2.maxLength = maximum;
            if (mime) {
              if (mime.length === 1) {
                file2.contentMediaType = mime[0];
                Object.assign(json2, file2);
              } else {
                json2.anyOf = mime.map((m) => {
                  const mFile = { ...file2, contentMediaType: m };
                  return mFile;
                });
              }
            } else {
              Object.assign(json2, file2);
            }
            break;
          }
          case "transform": {
            if (this.unrepresentable === "throw") {
              throw new Error("Transforms cannot be represented in JSON Schema");
            }
            break;
          }
          case "nullable": {
            const inner = this.process(def.innerType, params);
            if (this.target === "openapi-3.0") {
              result.ref = def.innerType;
              _json.nullable = true;
            } else {
              _json.anyOf = [inner, { type: "null" }];
            }
            break;
          }
          case "nonoptional": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            break;
          }
          case "success": {
            const json2 = _json;
            json2.type = "boolean";
            break;
          }
          case "default": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            _json.default = JSON.parse(JSON.stringify(def.defaultValue));
            break;
          }
          case "prefault": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            if (this.io === "input")
              _json._prefault = JSON.parse(JSON.stringify(def.defaultValue));
            break;
          }
          case "catch": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            let catchValue;
            try {
              catchValue = def.catchValue(void 0);
            } catch {
              throw new Error("Dynamic catch values are not supported in JSON Schema");
            }
            _json.default = catchValue;
            break;
          }
          case "nan": {
            if (this.unrepresentable === "throw") {
              throw new Error("NaN cannot be represented in JSON Schema");
            }
            break;
          }
          case "template_literal": {
            const json2 = _json;
            const pattern = schema._zod.pattern;
            if (!pattern)
              throw new Error("Pattern not found in template literal");
            json2.type = "string";
            json2.pattern = pattern.source;
            break;
          }
          case "pipe": {
            const innerType = this.io === "input" ? def.in._zod.def.type === "transform" ? def.out : def.in : def.out;
            this.process(innerType, params);
            result.ref = innerType;
            break;
          }
          case "readonly": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            _json.readOnly = true;
            break;
          }
          // passthrough types
          case "promise": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            break;
          }
          case "optional": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            break;
          }
          case "lazy": {
            const innerType = schema._zod.innerType;
            this.process(innerType, params);
            result.ref = innerType;
            break;
          }
          case "custom": {
            if (this.unrepresentable === "throw") {
              throw new Error("Custom types cannot be represented in JSON Schema");
            }
            break;
          }
          case "function": {
            if (this.unrepresentable === "throw") {
              throw new Error("Function types cannot be represented in JSON Schema");
            }
            break;
          }
          default: {
            def;
          }
        }
      }
    }
    const meta = this.metadataRegistry.get(schema);
    if (meta)
      Object.assign(result.schema, meta);
    if (this.io === "input" && isTransforming(schema)) {
      delete result.schema.examples;
      delete result.schema.default;
    }
    if (this.io === "input" && result.schema._prefault)
      (_a17 = result.schema).default ?? (_a17.default = result.schema._prefault);
    delete result.schema._prefault;
    const _result = this.seen.get(schema);
    return _result.schema;
  }
  emit(schema, _params) {
    const params = {
      cycles: _params?.cycles ?? "ref",
      reused: _params?.reused ?? "inline",
      // unrepresentable: _params?.unrepresentable ?? "throw",
      // uri: _params?.uri ?? ((id) => `${id}`),
      external: _params?.external ?? void 0
    };
    const root = this.seen.get(schema);
    if (!root)
      throw new Error("Unprocessed schema. This is a bug in Zod.");
    const makeURI = (entry) => {
      const defsSegment = this.target === "draft-2020-12" ? "$defs" : "definitions";
      if (params.external) {
        const externalId = params.external.registry.get(entry[0])?.id;
        const uriGenerator = params.external.uri ?? ((id2) => id2);
        if (externalId) {
          return { ref: uriGenerator(externalId) };
        }
        const id = entry[1].defId ?? entry[1].schema.id ?? `schema${this.counter++}`;
        entry[1].defId = id;
        return { defId: id, ref: `${uriGenerator("__shared")}#/${defsSegment}/${id}` };
      }
      if (entry[1] === root) {
        return { ref: "#" };
      }
      const uriPrefix = `#`;
      const defUriPrefix = `${uriPrefix}/${defsSegment}/`;
      const defId = entry[1].schema.id ?? `__schema${this.counter++}`;
      return { defId, ref: defUriPrefix + defId };
    };
    const extractToDef = (entry) => {
      if (entry[1].schema.$ref) {
        return;
      }
      const seen = entry[1];
      const { ref, defId } = makeURI(entry);
      seen.def = { ...seen.schema };
      if (defId)
        seen.defId = defId;
      const schema2 = seen.schema;
      for (const key in schema2) {
        delete schema2[key];
      }
      schema2.$ref = ref;
    };
    if (params.cycles === "throw") {
      for (const entry of this.seen.entries()) {
        const seen = entry[1];
        if (seen.cycle) {
          throw new Error(`Cycle detected: #/${seen.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`);
        }
      }
    }
    for (const entry of this.seen.entries()) {
      const seen = entry[1];
      if (schema === entry[0]) {
        extractToDef(entry);
        continue;
      }
      if (params.external) {
        const ext = params.external.registry.get(entry[0])?.id;
        if (schema !== entry[0] && ext) {
          extractToDef(entry);
          continue;
        }
      }
      const id = this.metadataRegistry.get(entry[0])?.id;
      if (id) {
        extractToDef(entry);
        continue;
      }
      if (seen.cycle) {
        extractToDef(entry);
        continue;
      }
      if (seen.count > 1) {
        if (params.reused === "ref") {
          extractToDef(entry);
          continue;
        }
      }
    }
    const flattenRef = (zodSchema2, params2) => {
      const seen = this.seen.get(zodSchema2);
      const schema2 = seen.def ?? seen.schema;
      const _cached = { ...schema2 };
      if (seen.ref === null) {
        return;
      }
      const ref = seen.ref;
      seen.ref = null;
      if (ref) {
        flattenRef(ref, params2);
        const refSchema = this.seen.get(ref).schema;
        if (refSchema.$ref && (params2.target === "draft-7" || params2.target === "draft-4" || params2.target === "openapi-3.0")) {
          schema2.allOf = schema2.allOf ?? [];
          schema2.allOf.push(refSchema);
        } else {
          Object.assign(schema2, refSchema);
          Object.assign(schema2, _cached);
        }
      }
      if (!seen.isParent)
        this.override({
          zodSchema: zodSchema2,
          jsonSchema: schema2,
          path: seen.path ?? []
        });
    };
    for (const entry of [...this.seen.entries()].reverse()) {
      flattenRef(entry[0], { target: this.target });
    }
    const result = {};
    if (this.target === "draft-2020-12") {
      result.$schema = "https://json-schema.org/draft/2020-12/schema";
    } else if (this.target === "draft-7") {
      result.$schema = "http://json-schema.org/draft-07/schema#";
    } else if (this.target === "draft-4") {
      result.$schema = "http://json-schema.org/draft-04/schema#";
    } else if (this.target === "openapi-3.0") {
    } else {
      console.warn(`Invalid target: ${this.target}`);
    }
    if (params.external?.uri) {
      const id = params.external.registry.get(schema)?.id;
      if (!id)
        throw new Error("Schema is missing an `id` property");
      result.$id = params.external.uri(id);
    }
    Object.assign(result, root.def);
    const defs = params.external?.defs ?? {};
    for (const entry of this.seen.entries()) {
      const seen = entry[1];
      if (seen.def && seen.defId) {
        defs[seen.defId] = seen.def;
      }
    }
    if (params.external) {
    } else {
      if (Object.keys(defs).length > 0) {
        if (this.target === "draft-2020-12") {
          result.$defs = defs;
        } else {
          result.definitions = defs;
        }
      }
    }
    try {
      return JSON.parse(JSON.stringify(result));
    } catch (_err) {
      throw new Error("Error converting schema to JSON.");
    }
  }
};
function toJSONSchema(input, _params) {
  if (input instanceof $ZodRegistry) {
    const gen2 = new JSONSchemaGenerator(_params);
    const defs = {};
    for (const entry of input._idmap.entries()) {
      const [_, schema] = entry;
      gen2.process(schema);
    }
    const schemas = {};
    const external = {
      registry: input,
      uri: _params?.uri,
      defs
    };
    for (const entry of input._idmap.entries()) {
      const [key, schema] = entry;
      schemas[key] = gen2.emit(schema, {
        ..._params,
        external
      });
    }
    if (Object.keys(defs).length > 0) {
      const defsSegment = gen2.target === "draft-2020-12" ? "$defs" : "definitions";
      schemas.__shared = {
        [defsSegment]: defs
      };
    }
    return { schemas };
  }
  const gen = new JSONSchemaGenerator(_params);
  gen.process(input);
  return gen.emit(input, _params);
}
function isTransforming(_schema, _ctx) {
  const ctx = _ctx ?? { seen: /* @__PURE__ */ new Set() };
  if (ctx.seen.has(_schema))
    return false;
  ctx.seen.add(_schema);
  const schema = _schema;
  const def = schema._zod.def;
  switch (def.type) {
    case "string":
    case "number":
    case "bigint":
    case "boolean":
    case "date":
    case "symbol":
    case "undefined":
    case "null":
    case "any":
    case "unknown":
    case "never":
    case "void":
    case "literal":
    case "enum":
    case "nan":
    case "file":
    case "template_literal":
      return false;
    case "array": {
      return isTransforming(def.element, ctx);
    }
    case "object": {
      for (const key in def.shape) {
        if (isTransforming(def.shape[key], ctx))
          return true;
      }
      return false;
    }
    case "union": {
      for (const option of def.options) {
        if (isTransforming(option, ctx))
          return true;
      }
      return false;
    }
    case "intersection": {
      return isTransforming(def.left, ctx) || isTransforming(def.right, ctx);
    }
    case "tuple": {
      for (const item of def.items) {
        if (isTransforming(item, ctx))
          return true;
      }
      if (def.rest && isTransforming(def.rest, ctx))
        return true;
      return false;
    }
    case "record": {
      return isTransforming(def.keyType, ctx) || isTransforming(def.valueType, ctx);
    }
    case "map": {
      return isTransforming(def.keyType, ctx) || isTransforming(def.valueType, ctx);
    }
    case "set": {
      return isTransforming(def.valueType, ctx);
    }
    // inner types
    case "promise":
    case "optional":
    case "nonoptional":
    case "nullable":
    case "readonly":
      return isTransforming(def.innerType, ctx);
    case "lazy":
      return isTransforming(def.getter(), ctx);
    case "default": {
      return isTransforming(def.innerType, ctx);
    }
    case "prefault": {
      return isTransforming(def.innerType, ctx);
    }
    case "custom": {
      return false;
    }
    case "transform": {
      return true;
    }
    case "pipe": {
      return isTransforming(def.in, ctx) || isTransforming(def.out, ctx);
    }
    case "success": {
      return false;
    }
    case "catch": {
      return false;
    }
    case "function": {
      return false;
    }
    default:
      def;
  }
  throw new Error(`Unknown schema type: ${def.type}`);
}

// node_modules/zod/v4/core/json-schema.js
var json_schema_exports = {};

// node_modules/zod/v4/classic/iso.js
var iso_exports = {};
__export(iso_exports, {
  ZodISODate: () => ZodISODate,
  ZodISODateTime: () => ZodISODateTime,
  ZodISODuration: () => ZodISODuration,
  ZodISOTime: () => ZodISOTime,
  date: () => date2,
  datetime: () => datetime2,
  duration: () => duration2,
  time: () => time2
});
var ZodISODateTime = /* @__PURE__ */ $constructor("ZodISODateTime", (inst, def) => {
  $ZodISODateTime.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function datetime2(params) {
  return _isoDateTime(ZodISODateTime, params);
}
var ZodISODate = /* @__PURE__ */ $constructor("ZodISODate", (inst, def) => {
  $ZodISODate.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function date2(params) {
  return _isoDate(ZodISODate, params);
}
var ZodISOTime = /* @__PURE__ */ $constructor("ZodISOTime", (inst, def) => {
  $ZodISOTime.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function time2(params) {
  return _isoTime(ZodISOTime, params);
}
var ZodISODuration = /* @__PURE__ */ $constructor("ZodISODuration", (inst, def) => {
  $ZodISODuration.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function duration2(params) {
  return _isoDuration(ZodISODuration, params);
}

// node_modules/zod/v4/classic/errors.js
var initializer2 = (inst, issues) => {
  $ZodError.init(inst, issues);
  inst.name = "ZodError";
  Object.defineProperties(inst, {
    format: {
      value: (mapper) => formatError(inst, mapper)
      // enumerable: false,
    },
    flatten: {
      value: (mapper) => flattenError(inst, mapper)
      // enumerable: false,
    },
    addIssue: {
      value: (issue2) => {
        inst.issues.push(issue2);
        inst.message = JSON.stringify(inst.issues, jsonStringifyReplacer, 2);
      }
      // enumerable: false,
    },
    addIssues: {
      value: (issues2) => {
        inst.issues.push(...issues2);
        inst.message = JSON.stringify(inst.issues, jsonStringifyReplacer, 2);
      }
      // enumerable: false,
    },
    isEmpty: {
      get() {
        return inst.issues.length === 0;
      }
      // enumerable: false,
    }
  });
};
var ZodError = $constructor("ZodError", initializer2);
var ZodRealError = $constructor("ZodError", initializer2, {
  Parent: Error
});

// node_modules/zod/v4/classic/parse.js
var parse2 = /* @__PURE__ */ _parse(ZodRealError);
var parseAsync2 = /* @__PURE__ */ _parseAsync(ZodRealError);
var safeParse2 = /* @__PURE__ */ _safeParse(ZodRealError);
var safeParseAsync2 = /* @__PURE__ */ _safeParseAsync(ZodRealError);
var encode2 = /* @__PURE__ */ _encode(ZodRealError);
var decode2 = /* @__PURE__ */ _decode(ZodRealError);
var encodeAsync2 = /* @__PURE__ */ _encodeAsync(ZodRealError);
var decodeAsync2 = /* @__PURE__ */ _decodeAsync(ZodRealError);
var safeEncode2 = /* @__PURE__ */ _safeEncode(ZodRealError);
var safeDecode2 = /* @__PURE__ */ _safeDecode(ZodRealError);
var safeEncodeAsync2 = /* @__PURE__ */ _safeEncodeAsync(ZodRealError);
var safeDecodeAsync2 = /* @__PURE__ */ _safeDecodeAsync(ZodRealError);

// node_modules/zod/v4/classic/schemas.js
var ZodType = /* @__PURE__ */ $constructor("ZodType", (inst, def) => {
  $ZodType.init(inst, def);
  inst.def = def;
  inst.type = def.type;
  Object.defineProperty(inst, "_def", { value: def });
  inst.check = (...checks) => {
    return inst.clone(
      {
        ...def,
        checks: [
          ...def.checks ?? [],
          ...checks.map((ch) => typeof ch === "function" ? { _zod: { check: ch, def: { check: "custom" }, onattach: [] } } : ch)
        ]
      }
      // { parent: true }
    );
  };
  inst.clone = (def2, params) => clone(inst, def2, params);
  inst.brand = () => inst;
  inst.register = ((reg, meta) => {
    reg.add(inst, meta);
    return inst;
  });
  inst.parse = (data, params) => parse2(inst, data, params, { callee: inst.parse });
  inst.safeParse = (data, params) => safeParse2(inst, data, params);
  inst.parseAsync = async (data, params) => parseAsync2(inst, data, params, { callee: inst.parseAsync });
  inst.safeParseAsync = async (data, params) => safeParseAsync2(inst, data, params);
  inst.spa = inst.safeParseAsync;
  inst.encode = (data, params) => encode2(inst, data, params);
  inst.decode = (data, params) => decode2(inst, data, params);
  inst.encodeAsync = async (data, params) => encodeAsync2(inst, data, params);
  inst.decodeAsync = async (data, params) => decodeAsync2(inst, data, params);
  inst.safeEncode = (data, params) => safeEncode2(inst, data, params);
  inst.safeDecode = (data, params) => safeDecode2(inst, data, params);
  inst.safeEncodeAsync = async (data, params) => safeEncodeAsync2(inst, data, params);
  inst.safeDecodeAsync = async (data, params) => safeDecodeAsync2(inst, data, params);
  inst.refine = (check2, params) => inst.check(refine(check2, params));
  inst.superRefine = (refinement) => inst.check(superRefine(refinement));
  inst.overwrite = (fn) => inst.check(_overwrite(fn));
  inst.optional = () => optional(inst);
  inst.nullable = () => nullable(inst);
  inst.nullish = () => optional(nullable(inst));
  inst.nonoptional = (params) => nonoptional(inst, params);
  inst.array = () => array(inst);
  inst.or = (arg) => union([inst, arg]);
  inst.and = (arg) => intersection(inst, arg);
  inst.transform = (tx) => pipe(inst, transform(tx));
  inst.default = (def2) => _default2(inst, def2);
  inst.prefault = (def2) => prefault(inst, def2);
  inst.catch = (params) => _catch2(inst, params);
  inst.pipe = (target) => pipe(inst, target);
  inst.readonly = () => readonly(inst);
  inst.describe = (description) => {
    const cl = inst.clone();
    globalRegistry.add(cl, { description });
    return cl;
  };
  Object.defineProperty(inst, "description", {
    get() {
      return globalRegistry.get(inst)?.description;
    },
    configurable: true
  });
  inst.meta = (...args) => {
    if (args.length === 0) {
      return globalRegistry.get(inst);
    }
    const cl = inst.clone();
    globalRegistry.add(cl, args[0]);
    return cl;
  };
  inst.isOptional = () => inst.safeParse(void 0).success;
  inst.isNullable = () => inst.safeParse(null).success;
  return inst;
});
var _ZodString = /* @__PURE__ */ $constructor("_ZodString", (inst, def) => {
  $ZodString.init(inst, def);
  ZodType.init(inst, def);
  const bag = inst._zod.bag;
  inst.format = bag.format ?? null;
  inst.minLength = bag.minimum ?? null;
  inst.maxLength = bag.maximum ?? null;
  inst.regex = (...args) => inst.check(_regex(...args));
  inst.includes = (...args) => inst.check(_includes(...args));
  inst.startsWith = (...args) => inst.check(_startsWith(...args));
  inst.endsWith = (...args) => inst.check(_endsWith(...args));
  inst.min = (...args) => inst.check(_minLength(...args));
  inst.max = (...args) => inst.check(_maxLength(...args));
  inst.length = (...args) => inst.check(_length(...args));
  inst.nonempty = (...args) => inst.check(_minLength(1, ...args));
  inst.lowercase = (params) => inst.check(_lowercase(params));
  inst.uppercase = (params) => inst.check(_uppercase(params));
  inst.trim = () => inst.check(_trim());
  inst.normalize = (...args) => inst.check(_normalize(...args));
  inst.toLowerCase = () => inst.check(_toLowerCase());
  inst.toUpperCase = () => inst.check(_toUpperCase());
});
var ZodString = /* @__PURE__ */ $constructor("ZodString", (inst, def) => {
  $ZodString.init(inst, def);
  _ZodString.init(inst, def);
  inst.email = (params) => inst.check(_email(ZodEmail, params));
  inst.url = (params) => inst.check(_url(ZodURL, params));
  inst.jwt = (params) => inst.check(_jwt(ZodJWT, params));
  inst.emoji = (params) => inst.check(_emoji2(ZodEmoji, params));
  inst.guid = (params) => inst.check(_guid(ZodGUID, params));
  inst.uuid = (params) => inst.check(_uuid(ZodUUID, params));
  inst.uuidv4 = (params) => inst.check(_uuidv4(ZodUUID, params));
  inst.uuidv6 = (params) => inst.check(_uuidv6(ZodUUID, params));
  inst.uuidv7 = (params) => inst.check(_uuidv7(ZodUUID, params));
  inst.nanoid = (params) => inst.check(_nanoid(ZodNanoID, params));
  inst.guid = (params) => inst.check(_guid(ZodGUID, params));
  inst.cuid = (params) => inst.check(_cuid(ZodCUID, params));
  inst.cuid2 = (params) => inst.check(_cuid2(ZodCUID2, params));
  inst.ulid = (params) => inst.check(_ulid(ZodULID, params));
  inst.base64 = (params) => inst.check(_base64(ZodBase64, params));
  inst.base64url = (params) => inst.check(_base64url(ZodBase64URL, params));
  inst.xid = (params) => inst.check(_xid(ZodXID, params));
  inst.ksuid = (params) => inst.check(_ksuid(ZodKSUID, params));
  inst.ipv4 = (params) => inst.check(_ipv4(ZodIPv4, params));
  inst.ipv6 = (params) => inst.check(_ipv6(ZodIPv6, params));
  inst.cidrv4 = (params) => inst.check(_cidrv4(ZodCIDRv4, params));
  inst.cidrv6 = (params) => inst.check(_cidrv6(ZodCIDRv6, params));
  inst.e164 = (params) => inst.check(_e164(ZodE164, params));
  inst.datetime = (params) => inst.check(datetime2(params));
  inst.date = (params) => inst.check(date2(params));
  inst.time = (params) => inst.check(time2(params));
  inst.duration = (params) => inst.check(duration2(params));
});
function string2(params) {
  return _string(ZodString, params);
}
var ZodStringFormat = /* @__PURE__ */ $constructor("ZodStringFormat", (inst, def) => {
  $ZodStringFormat.init(inst, def);
  _ZodString.init(inst, def);
});
var ZodEmail = /* @__PURE__ */ $constructor("ZodEmail", (inst, def) => {
  $ZodEmail.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function email2(params) {
  return _email(ZodEmail, params);
}
var ZodGUID = /* @__PURE__ */ $constructor("ZodGUID", (inst, def) => {
  $ZodGUID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function guid2(params) {
  return _guid(ZodGUID, params);
}
var ZodUUID = /* @__PURE__ */ $constructor("ZodUUID", (inst, def) => {
  $ZodUUID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function uuid2(params) {
  return _uuid(ZodUUID, params);
}
function uuidv4(params) {
  return _uuidv4(ZodUUID, params);
}
function uuidv6(params) {
  return _uuidv6(ZodUUID, params);
}
function uuidv7(params) {
  return _uuidv7(ZodUUID, params);
}
var ZodURL = /* @__PURE__ */ $constructor("ZodURL", (inst, def) => {
  $ZodURL.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function url(params) {
  return _url(ZodURL, params);
}
function httpUrl(params) {
  return _url(ZodURL, {
    protocol: /^https?$/,
    hostname: regexes_exports.domain,
    ...util_exports.normalizeParams(params)
  });
}
var ZodEmoji = /* @__PURE__ */ $constructor("ZodEmoji", (inst, def) => {
  $ZodEmoji.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function emoji2(params) {
  return _emoji2(ZodEmoji, params);
}
var ZodNanoID = /* @__PURE__ */ $constructor("ZodNanoID", (inst, def) => {
  $ZodNanoID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function nanoid2(params) {
  return _nanoid(ZodNanoID, params);
}
var ZodCUID = /* @__PURE__ */ $constructor("ZodCUID", (inst, def) => {
  $ZodCUID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function cuid3(params) {
  return _cuid(ZodCUID, params);
}
var ZodCUID2 = /* @__PURE__ */ $constructor("ZodCUID2", (inst, def) => {
  $ZodCUID2.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function cuid22(params) {
  return _cuid2(ZodCUID2, params);
}
var ZodULID = /* @__PURE__ */ $constructor("ZodULID", (inst, def) => {
  $ZodULID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function ulid2(params) {
  return _ulid(ZodULID, params);
}
var ZodXID = /* @__PURE__ */ $constructor("ZodXID", (inst, def) => {
  $ZodXID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function xid2(params) {
  return _xid(ZodXID, params);
}
var ZodKSUID = /* @__PURE__ */ $constructor("ZodKSUID", (inst, def) => {
  $ZodKSUID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function ksuid2(params) {
  return _ksuid(ZodKSUID, params);
}
var ZodIPv4 = /* @__PURE__ */ $constructor("ZodIPv4", (inst, def) => {
  $ZodIPv4.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function ipv42(params) {
  return _ipv4(ZodIPv4, params);
}
var ZodIPv6 = /* @__PURE__ */ $constructor("ZodIPv6", (inst, def) => {
  $ZodIPv6.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function ipv62(params) {
  return _ipv6(ZodIPv6, params);
}
var ZodCIDRv4 = /* @__PURE__ */ $constructor("ZodCIDRv4", (inst, def) => {
  $ZodCIDRv4.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function cidrv42(params) {
  return _cidrv4(ZodCIDRv4, params);
}
var ZodCIDRv6 = /* @__PURE__ */ $constructor("ZodCIDRv6", (inst, def) => {
  $ZodCIDRv6.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function cidrv62(params) {
  return _cidrv6(ZodCIDRv6, params);
}
var ZodBase64 = /* @__PURE__ */ $constructor("ZodBase64", (inst, def) => {
  $ZodBase64.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function base642(params) {
  return _base64(ZodBase64, params);
}
var ZodBase64URL = /* @__PURE__ */ $constructor("ZodBase64URL", (inst, def) => {
  $ZodBase64URL.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function base64url2(params) {
  return _base64url(ZodBase64URL, params);
}
var ZodE164 = /* @__PURE__ */ $constructor("ZodE164", (inst, def) => {
  $ZodE164.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function e1642(params) {
  return _e164(ZodE164, params);
}
var ZodJWT = /* @__PURE__ */ $constructor("ZodJWT", (inst, def) => {
  $ZodJWT.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function jwt(params) {
  return _jwt(ZodJWT, params);
}
var ZodCustomStringFormat = /* @__PURE__ */ $constructor("ZodCustomStringFormat", (inst, def) => {
  $ZodCustomStringFormat.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function stringFormat(format, fnOrRegex, _params = {}) {
  return _stringFormat(ZodCustomStringFormat, format, fnOrRegex, _params);
}
function hostname2(_params) {
  return _stringFormat(ZodCustomStringFormat, "hostname", regexes_exports.hostname, _params);
}
function hex2(_params) {
  return _stringFormat(ZodCustomStringFormat, "hex", regexes_exports.hex, _params);
}
function hash(alg, params) {
  const enc = params?.enc ?? "hex";
  const format = `${alg}_${enc}`;
  const regex = regexes_exports[format];
  if (!regex)
    throw new Error(`Unrecognized hash format: ${format}`);
  return _stringFormat(ZodCustomStringFormat, format, regex, params);
}
var ZodNumber = /* @__PURE__ */ $constructor("ZodNumber", (inst, def) => {
  $ZodNumber.init(inst, def);
  ZodType.init(inst, def);
  inst.gt = (value, params) => inst.check(_gt(value, params));
  inst.gte = (value, params) => inst.check(_gte(value, params));
  inst.min = (value, params) => inst.check(_gte(value, params));
  inst.lt = (value, params) => inst.check(_lt(value, params));
  inst.lte = (value, params) => inst.check(_lte(value, params));
  inst.max = (value, params) => inst.check(_lte(value, params));
  inst.int = (params) => inst.check(int(params));
  inst.safe = (params) => inst.check(int(params));
  inst.positive = (params) => inst.check(_gt(0, params));
  inst.nonnegative = (params) => inst.check(_gte(0, params));
  inst.negative = (params) => inst.check(_lt(0, params));
  inst.nonpositive = (params) => inst.check(_lte(0, params));
  inst.multipleOf = (value, params) => inst.check(_multipleOf(value, params));
  inst.step = (value, params) => inst.check(_multipleOf(value, params));
  inst.finite = () => inst;
  const bag = inst._zod.bag;
  inst.minValue = Math.max(bag.minimum ?? Number.NEGATIVE_INFINITY, bag.exclusiveMinimum ?? Number.NEGATIVE_INFINITY) ?? null;
  inst.maxValue = Math.min(bag.maximum ?? Number.POSITIVE_INFINITY, bag.exclusiveMaximum ?? Number.POSITIVE_INFINITY) ?? null;
  inst.isInt = (bag.format ?? "").includes("int") || Number.isSafeInteger(bag.multipleOf ?? 0.5);
  inst.isFinite = true;
  inst.format = bag.format ?? null;
});
function number2(params) {
  return _number(ZodNumber, params);
}
var ZodNumberFormat = /* @__PURE__ */ $constructor("ZodNumberFormat", (inst, def) => {
  $ZodNumberFormat.init(inst, def);
  ZodNumber.init(inst, def);
});
function int(params) {
  return _int(ZodNumberFormat, params);
}
function float32(params) {
  return _float32(ZodNumberFormat, params);
}
function float64(params) {
  return _float64(ZodNumberFormat, params);
}
function int32(params) {
  return _int32(ZodNumberFormat, params);
}
function uint32(params) {
  return _uint32(ZodNumberFormat, params);
}
var ZodBoolean = /* @__PURE__ */ $constructor("ZodBoolean", (inst, def) => {
  $ZodBoolean.init(inst, def);
  ZodType.init(inst, def);
});
function boolean2(params) {
  return _boolean(ZodBoolean, params);
}
var ZodBigInt = /* @__PURE__ */ $constructor("ZodBigInt", (inst, def) => {
  $ZodBigInt.init(inst, def);
  ZodType.init(inst, def);
  inst.gte = (value, params) => inst.check(_gte(value, params));
  inst.min = (value, params) => inst.check(_gte(value, params));
  inst.gt = (value, params) => inst.check(_gt(value, params));
  inst.gte = (value, params) => inst.check(_gte(value, params));
  inst.min = (value, params) => inst.check(_gte(value, params));
  inst.lt = (value, params) => inst.check(_lt(value, params));
  inst.lte = (value, params) => inst.check(_lte(value, params));
  inst.max = (value, params) => inst.check(_lte(value, params));
  inst.positive = (params) => inst.check(_gt(BigInt(0), params));
  inst.negative = (params) => inst.check(_lt(BigInt(0), params));
  inst.nonpositive = (params) => inst.check(_lte(BigInt(0), params));
  inst.nonnegative = (params) => inst.check(_gte(BigInt(0), params));
  inst.multipleOf = (value, params) => inst.check(_multipleOf(value, params));
  const bag = inst._zod.bag;
  inst.minValue = bag.minimum ?? null;
  inst.maxValue = bag.maximum ?? null;
  inst.format = bag.format ?? null;
});
function bigint2(params) {
  return _bigint(ZodBigInt, params);
}
var ZodBigIntFormat = /* @__PURE__ */ $constructor("ZodBigIntFormat", (inst, def) => {
  $ZodBigIntFormat.init(inst, def);
  ZodBigInt.init(inst, def);
});
function int64(params) {
  return _int64(ZodBigIntFormat, params);
}
function uint64(params) {
  return _uint64(ZodBigIntFormat, params);
}
var ZodSymbol = /* @__PURE__ */ $constructor("ZodSymbol", (inst, def) => {
  $ZodSymbol.init(inst, def);
  ZodType.init(inst, def);
});
function symbol15(params) {
  return _symbol(ZodSymbol, params);
}
var ZodUndefined = /* @__PURE__ */ $constructor("ZodUndefined", (inst, def) => {
  $ZodUndefined.init(inst, def);
  ZodType.init(inst, def);
});
function _undefined3(params) {
  return _undefined2(ZodUndefined, params);
}
var ZodNull = /* @__PURE__ */ $constructor("ZodNull", (inst, def) => {
  $ZodNull.init(inst, def);
  ZodType.init(inst, def);
});
function _null3(params) {
  return _null2(ZodNull, params);
}
var ZodAny = /* @__PURE__ */ $constructor("ZodAny", (inst, def) => {
  $ZodAny.init(inst, def);
  ZodType.init(inst, def);
});
function any() {
  return _any(ZodAny);
}
var ZodUnknown = /* @__PURE__ */ $constructor("ZodUnknown", (inst, def) => {
  $ZodUnknown.init(inst, def);
  ZodType.init(inst, def);
});
function unknown() {
  return _unknown(ZodUnknown);
}
var ZodNever = /* @__PURE__ */ $constructor("ZodNever", (inst, def) => {
  $ZodNever.init(inst, def);
  ZodType.init(inst, def);
});
function never(params) {
  return _never(ZodNever, params);
}
var ZodVoid = /* @__PURE__ */ $constructor("ZodVoid", (inst, def) => {
  $ZodVoid.init(inst, def);
  ZodType.init(inst, def);
});
function _void2(params) {
  return _void(ZodVoid, params);
}
var ZodDate = /* @__PURE__ */ $constructor("ZodDate", (inst, def) => {
  $ZodDate.init(inst, def);
  ZodType.init(inst, def);
  inst.min = (value, params) => inst.check(_gte(value, params));
  inst.max = (value, params) => inst.check(_lte(value, params));
  const c = inst._zod.bag;
  inst.minDate = c.minimum ? new Date(c.minimum) : null;
  inst.maxDate = c.maximum ? new Date(c.maximum) : null;
});
function date3(params) {
  return _date(ZodDate, params);
}
var ZodArray = /* @__PURE__ */ $constructor("ZodArray", (inst, def) => {
  $ZodArray.init(inst, def);
  ZodType.init(inst, def);
  inst.element = def.element;
  inst.min = (minLength, params) => inst.check(_minLength(minLength, params));
  inst.nonempty = (params) => inst.check(_minLength(1, params));
  inst.max = (maxLength, params) => inst.check(_maxLength(maxLength, params));
  inst.length = (len, params) => inst.check(_length(len, params));
  inst.unwrap = () => inst.element;
});
function array(element, params) {
  return _array(ZodArray, element, params);
}
function keyof(schema) {
  const shape = schema._zod.def.shape;
  return _enum2(Object.keys(shape));
}
var ZodObject = /* @__PURE__ */ $constructor("ZodObject", (inst, def) => {
  $ZodObjectJIT.init(inst, def);
  ZodType.init(inst, def);
  util_exports.defineLazy(inst, "shape", () => def.shape);
  inst.keyof = () => _enum2(Object.keys(inst._zod.def.shape));
  inst.catchall = (catchall) => inst.clone({ ...inst._zod.def, catchall });
  inst.passthrough = () => inst.clone({ ...inst._zod.def, catchall: unknown() });
  inst.loose = () => inst.clone({ ...inst._zod.def, catchall: unknown() });
  inst.strict = () => inst.clone({ ...inst._zod.def, catchall: never() });
  inst.strip = () => inst.clone({ ...inst._zod.def, catchall: void 0 });
  inst.extend = (incoming) => {
    return util_exports.extend(inst, incoming);
  };
  inst.safeExtend = (incoming) => {
    return util_exports.safeExtend(inst, incoming);
  };
  inst.merge = (other) => util_exports.merge(inst, other);
  inst.pick = (mask) => util_exports.pick(inst, mask);
  inst.omit = (mask) => util_exports.omit(inst, mask);
  inst.partial = (...args) => util_exports.partial(ZodOptional, inst, args[0]);
  inst.required = (...args) => util_exports.required(ZodNonOptional, inst, args[0]);
});
function object(shape, params) {
  const def = {
    type: "object",
    get shape() {
      util_exports.assignProp(this, "shape", shape ? util_exports.objectClone(shape) : {});
      return this.shape;
    },
    ...util_exports.normalizeParams(params)
  };
  return new ZodObject(def);
}
function strictObject(shape, params) {
  return new ZodObject({
    type: "object",
    get shape() {
      util_exports.assignProp(this, "shape", util_exports.objectClone(shape));
      return this.shape;
    },
    catchall: never(),
    ...util_exports.normalizeParams(params)
  });
}
function looseObject(shape, params) {
  return new ZodObject({
    type: "object",
    get shape() {
      util_exports.assignProp(this, "shape", util_exports.objectClone(shape));
      return this.shape;
    },
    catchall: unknown(),
    ...util_exports.normalizeParams(params)
  });
}
var ZodUnion = /* @__PURE__ */ $constructor("ZodUnion", (inst, def) => {
  $ZodUnion.init(inst, def);
  ZodType.init(inst, def);
  inst.options = def.options;
});
function union(options, params) {
  return new ZodUnion({
    type: "union",
    options,
    ...util_exports.normalizeParams(params)
  });
}
var ZodDiscriminatedUnion = /* @__PURE__ */ $constructor("ZodDiscriminatedUnion", (inst, def) => {
  ZodUnion.init(inst, def);
  $ZodDiscriminatedUnion.init(inst, def);
});
function discriminatedUnion(discriminator, options, params) {
  return new ZodDiscriminatedUnion({
    type: "union",
    options,
    discriminator,
    ...util_exports.normalizeParams(params)
  });
}
var ZodIntersection = /* @__PURE__ */ $constructor("ZodIntersection", (inst, def) => {
  $ZodIntersection.init(inst, def);
  ZodType.init(inst, def);
});
function intersection(left, right) {
  return new ZodIntersection({
    type: "intersection",
    left,
    right
  });
}
var ZodTuple = /* @__PURE__ */ $constructor("ZodTuple", (inst, def) => {
  $ZodTuple.init(inst, def);
  ZodType.init(inst, def);
  inst.rest = (rest) => inst.clone({
    ...inst._zod.def,
    rest
  });
});
function tuple(items, _paramsOrRest, _params) {
  const hasRest = _paramsOrRest instanceof $ZodType;
  const params = hasRest ? _params : _paramsOrRest;
  const rest = hasRest ? _paramsOrRest : null;
  return new ZodTuple({
    type: "tuple",
    items,
    rest,
    ...util_exports.normalizeParams(params)
  });
}
var ZodRecord = /* @__PURE__ */ $constructor("ZodRecord", (inst, def) => {
  $ZodRecord.init(inst, def);
  ZodType.init(inst, def);
  inst.keyType = def.keyType;
  inst.valueType = def.valueType;
});
function record(keyType, valueType, params) {
  return new ZodRecord({
    type: "record",
    keyType,
    valueType,
    ...util_exports.normalizeParams(params)
  });
}
function partialRecord(keyType, valueType, params) {
  const k = clone(keyType);
  k._zod.values = void 0;
  return new ZodRecord({
    type: "record",
    keyType: k,
    valueType,
    ...util_exports.normalizeParams(params)
  });
}
var ZodMap = /* @__PURE__ */ $constructor("ZodMap", (inst, def) => {
  $ZodMap.init(inst, def);
  ZodType.init(inst, def);
  inst.keyType = def.keyType;
  inst.valueType = def.valueType;
});
function map(keyType, valueType, params) {
  return new ZodMap({
    type: "map",
    keyType,
    valueType,
    ...util_exports.normalizeParams(params)
  });
}
var ZodSet = /* @__PURE__ */ $constructor("ZodSet", (inst, def) => {
  $ZodSet.init(inst, def);
  ZodType.init(inst, def);
  inst.min = (...args) => inst.check(_minSize(...args));
  inst.nonempty = (params) => inst.check(_minSize(1, params));
  inst.max = (...args) => inst.check(_maxSize(...args));
  inst.size = (...args) => inst.check(_size(...args));
});
function set(valueType, params) {
  return new ZodSet({
    type: "set",
    valueType,
    ...util_exports.normalizeParams(params)
  });
}
var ZodEnum = /* @__PURE__ */ $constructor("ZodEnum", (inst, def) => {
  $ZodEnum.init(inst, def);
  ZodType.init(inst, def);
  inst.enum = def.entries;
  inst.options = Object.values(def.entries);
  const keys = new Set(Object.keys(def.entries));
  inst.extract = (values, params) => {
    const newEntries = {};
    for (const value of values) {
      if (keys.has(value)) {
        newEntries[value] = def.entries[value];
      } else
        throw new Error(`Key ${value} not found in enum`);
    }
    return new ZodEnum({
      ...def,
      checks: [],
      ...util_exports.normalizeParams(params),
      entries: newEntries
    });
  };
  inst.exclude = (values, params) => {
    const newEntries = { ...def.entries };
    for (const value of values) {
      if (keys.has(value)) {
        delete newEntries[value];
      } else
        throw new Error(`Key ${value} not found in enum`);
    }
    return new ZodEnum({
      ...def,
      checks: [],
      ...util_exports.normalizeParams(params),
      entries: newEntries
    });
  };
});
function _enum2(values, params) {
  const entries = Array.isArray(values) ? Object.fromEntries(values.map((v) => [v, v])) : values;
  return new ZodEnum({
    type: "enum",
    entries,
    ...util_exports.normalizeParams(params)
  });
}
function nativeEnum(entries, params) {
  return new ZodEnum({
    type: "enum",
    entries,
    ...util_exports.normalizeParams(params)
  });
}
var ZodLiteral = /* @__PURE__ */ $constructor("ZodLiteral", (inst, def) => {
  $ZodLiteral.init(inst, def);
  ZodType.init(inst, def);
  inst.values = new Set(def.values);
  Object.defineProperty(inst, "value", {
    get() {
      if (def.values.length > 1) {
        throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");
      }
      return def.values[0];
    }
  });
});
function literal(value, params) {
  return new ZodLiteral({
    type: "literal",
    values: Array.isArray(value) ? value : [value],
    ...util_exports.normalizeParams(params)
  });
}
var ZodFile = /* @__PURE__ */ $constructor("ZodFile", (inst, def) => {
  $ZodFile.init(inst, def);
  ZodType.init(inst, def);
  inst.min = (size, params) => inst.check(_minSize(size, params));
  inst.max = (size, params) => inst.check(_maxSize(size, params));
  inst.mime = (types2, params) => inst.check(_mime(Array.isArray(types2) ? types2 : [types2], params));
});
function file(params) {
  return _file(ZodFile, params);
}
var ZodTransform = /* @__PURE__ */ $constructor("ZodTransform", (inst, def) => {
  $ZodTransform.init(inst, def);
  ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    if (_ctx.direction === "backward") {
      throw new $ZodEncodeError(inst.constructor.name);
    }
    payload.addIssue = (issue2) => {
      if (typeof issue2 === "string") {
        payload.issues.push(util_exports.issue(issue2, payload.value, def));
      } else {
        const _issue = issue2;
        if (_issue.fatal)
          _issue.continue = false;
        _issue.code ?? (_issue.code = "custom");
        _issue.input ?? (_issue.input = payload.value);
        _issue.inst ?? (_issue.inst = inst);
        payload.issues.push(util_exports.issue(_issue));
      }
    };
    const output = def.transform(payload.value, payload);
    if (output instanceof Promise) {
      return output.then((output2) => {
        payload.value = output2;
        return payload;
      });
    }
    payload.value = output;
    return payload;
  };
});
function transform(fn) {
  return new ZodTransform({
    type: "transform",
    transform: fn
  });
}
var ZodOptional = /* @__PURE__ */ $constructor("ZodOptional", (inst, def) => {
  $ZodOptional.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function optional(innerType) {
  return new ZodOptional({
    type: "optional",
    innerType
  });
}
var ZodNullable = /* @__PURE__ */ $constructor("ZodNullable", (inst, def) => {
  $ZodNullable.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function nullable(innerType) {
  return new ZodNullable({
    type: "nullable",
    innerType
  });
}
function nullish2(innerType) {
  return optional(nullable(innerType));
}
var ZodDefault = /* @__PURE__ */ $constructor("ZodDefault", (inst, def) => {
  $ZodDefault.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
  inst.removeDefault = inst.unwrap;
});
function _default2(innerType, defaultValue) {
  return new ZodDefault({
    type: "default",
    innerType,
    get defaultValue() {
      return typeof defaultValue === "function" ? defaultValue() : util_exports.shallowClone(defaultValue);
    }
  });
}
var ZodPrefault = /* @__PURE__ */ $constructor("ZodPrefault", (inst, def) => {
  $ZodPrefault.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function prefault(innerType, defaultValue) {
  return new ZodPrefault({
    type: "prefault",
    innerType,
    get defaultValue() {
      return typeof defaultValue === "function" ? defaultValue() : util_exports.shallowClone(defaultValue);
    }
  });
}
var ZodNonOptional = /* @__PURE__ */ $constructor("ZodNonOptional", (inst, def) => {
  $ZodNonOptional.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function nonoptional(innerType, params) {
  return new ZodNonOptional({
    type: "nonoptional",
    innerType,
    ...util_exports.normalizeParams(params)
  });
}
var ZodSuccess = /* @__PURE__ */ $constructor("ZodSuccess", (inst, def) => {
  $ZodSuccess.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function success(innerType) {
  return new ZodSuccess({
    type: "success",
    innerType
  });
}
var ZodCatch = /* @__PURE__ */ $constructor("ZodCatch", (inst, def) => {
  $ZodCatch.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
  inst.removeCatch = inst.unwrap;
});
function _catch2(innerType, catchValue) {
  return new ZodCatch({
    type: "catch",
    innerType,
    catchValue: typeof catchValue === "function" ? catchValue : () => catchValue
  });
}
var ZodNaN = /* @__PURE__ */ $constructor("ZodNaN", (inst, def) => {
  $ZodNaN.init(inst, def);
  ZodType.init(inst, def);
});
function nan(params) {
  return _nan(ZodNaN, params);
}
var ZodPipe = /* @__PURE__ */ $constructor("ZodPipe", (inst, def) => {
  $ZodPipe.init(inst, def);
  ZodType.init(inst, def);
  inst.in = def.in;
  inst.out = def.out;
});
function pipe(in_, out) {
  return new ZodPipe({
    type: "pipe",
    in: in_,
    out
    // ...util.normalizeParams(params),
  });
}
var ZodCodec = /* @__PURE__ */ $constructor("ZodCodec", (inst, def) => {
  ZodPipe.init(inst, def);
  $ZodCodec.init(inst, def);
});
function codec(in_, out, params) {
  return new ZodCodec({
    type: "pipe",
    in: in_,
    out,
    transform: params.decode,
    reverseTransform: params.encode
  });
}
var ZodReadonly = /* @__PURE__ */ $constructor("ZodReadonly", (inst, def) => {
  $ZodReadonly.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function readonly(innerType) {
  return new ZodReadonly({
    type: "readonly",
    innerType
  });
}
var ZodTemplateLiteral = /* @__PURE__ */ $constructor("ZodTemplateLiteral", (inst, def) => {
  $ZodTemplateLiteral.init(inst, def);
  ZodType.init(inst, def);
});
function templateLiteral(parts, params) {
  return new ZodTemplateLiteral({
    type: "template_literal",
    parts,
    ...util_exports.normalizeParams(params)
  });
}
var ZodLazy = /* @__PURE__ */ $constructor("ZodLazy", (inst, def) => {
  $ZodLazy.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.getter();
});
function lazy(getter) {
  return new ZodLazy({
    type: "lazy",
    getter
  });
}
var ZodPromise = /* @__PURE__ */ $constructor("ZodPromise", (inst, def) => {
  $ZodPromise.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function promise(innerType) {
  return new ZodPromise({
    type: "promise",
    innerType
  });
}
var ZodFunction = /* @__PURE__ */ $constructor("ZodFunction", (inst, def) => {
  $ZodFunction.init(inst, def);
  ZodType.init(inst, def);
});
function _function(params) {
  return new ZodFunction({
    type: "function",
    input: Array.isArray(params?.input) ? tuple(params?.input) : params?.input ?? array(unknown()),
    output: params?.output ?? unknown()
  });
}
var ZodCustom = /* @__PURE__ */ $constructor("ZodCustom", (inst, def) => {
  $ZodCustom.init(inst, def);
  ZodType.init(inst, def);
});
function check(fn) {
  const ch = new $ZodCheck({
    check: "custom"
    // ...util.normalizeParams(params),
  });
  ch._zod.check = fn;
  return ch;
}
function custom(fn, _params) {
  return _custom(ZodCustom, fn ?? (() => true), _params);
}
function refine(fn, _params = {}) {
  return _refine(ZodCustom, fn, _params);
}
function superRefine(fn) {
  return _superRefine(fn);
}
function _instanceof(cls, params = {
  error: `Input not instance of ${cls.name}`
}) {
  const inst = new ZodCustom({
    type: "custom",
    check: "custom",
    fn: (data) => data instanceof cls,
    abort: true,
    ...util_exports.normalizeParams(params)
  });
  inst._zod.bag.Class = cls;
  return inst;
}
var stringbool = (...args) => _stringbool({
  Codec: ZodCodec,
  Boolean: ZodBoolean,
  String: ZodString
}, ...args);
function json(params) {
  const jsonSchema2 = lazy(() => {
    return union([string2(params), number2(), boolean2(), _null3(), array(jsonSchema2), record(string2(), jsonSchema2)]);
  });
  return jsonSchema2;
}
function preprocess(fn, schema) {
  return pipe(transform(fn), schema);
}

// node_modules/zod/v4/classic/compat.js
var ZodIssueCode = {
  invalid_type: "invalid_type",
  too_big: "too_big",
  too_small: "too_small",
  invalid_format: "invalid_format",
  not_multiple_of: "not_multiple_of",
  unrecognized_keys: "unrecognized_keys",
  invalid_union: "invalid_union",
  invalid_key: "invalid_key",
  invalid_element: "invalid_element",
  invalid_value: "invalid_value",
  custom: "custom"
};
function setErrorMap(map2) {
  config({
    customError: map2
  });
}
function getErrorMap() {
  return config().customError;
}
var ZodFirstPartyTypeKind;
/* @__PURE__ */ (function(ZodFirstPartyTypeKind3) {
})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));

// node_modules/zod/v4/classic/coerce.js
var coerce_exports = {};
__export(coerce_exports, {
  bigint: () => bigint3,
  boolean: () => boolean3,
  date: () => date4,
  number: () => number3,
  string: () => string3
});
function string3(params) {
  return _coercedString(ZodString, params);
}
function number3(params) {
  return _coercedNumber(ZodNumber, params);
}
function boolean3(params) {
  return _coercedBoolean(ZodBoolean, params);
}
function bigint3(params) {
  return _coercedBigint(ZodBigInt, params);
}
function date4(params) {
  return _coercedDate(ZodDate, params);
}

// node_modules/zod/v4/classic/external.js
config(en_default());

// node_modules/zod/v3/helpers/util.js
var util;
(function(util2) {
  util2.assertEqual = (_) => {
  };
  function assertIs2(_arg) {
  }
  util2.assertIs = assertIs2;
  function assertNever2(_x) {
    throw new Error();
  }
  util2.assertNever = assertNever2;
  util2.arrayToEnum = (items) => {
    const obj = {};
    for (const item of items) {
      obj[item] = item;
    }
    return obj;
  };
  util2.getValidEnumValues = (obj) => {
    const validKeys = util2.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== "number");
    const filtered = {};
    for (const k of validKeys) {
      filtered[k] = obj[k];
    }
    return util2.objectValues(filtered);
  };
  util2.objectValues = (obj) => {
    return util2.objectKeys(obj).map(function(e2) {
      return obj[e2];
    });
  };
  util2.objectKeys = typeof Object.keys === "function" ? (obj) => Object.keys(obj) : (object3) => {
    const keys = [];
    for (const key in object3) {
      if (Object.prototype.hasOwnProperty.call(object3, key)) {
        keys.push(key);
      }
    }
    return keys;
  };
  util2.find = (arr, checker) => {
    for (const item of arr) {
      if (checker(item))
        return item;
    }
    return void 0;
  };
  util2.isInteger = typeof Number.isInteger === "function" ? (val) => Number.isInteger(val) : (val) => typeof val === "number" && Number.isFinite(val) && Math.floor(val) === val;
  function joinValues2(array2, separator = " | ") {
    return array2.map((val) => typeof val === "string" ? `'${val}'` : val).join(separator);
  }
  util2.joinValues = joinValues2;
  util2.jsonStringifyReplacer = (_, value) => {
    if (typeof value === "bigint") {
      return value.toString();
    }
    return value;
  };
})(util || (util = {}));
var objectUtil;
(function(objectUtil2) {
  objectUtil2.mergeShapes = (first, second) => {
    return {
      ...first,
      ...second
      // second overwrites first
    };
  };
})(objectUtil || (objectUtil = {}));
var ZodParsedType = util.arrayToEnum([
  "string",
  "nan",
  "number",
  "integer",
  "float",
  "boolean",
  "date",
  "bigint",
  "symbol",
  "function",
  "undefined",
  "null",
  "array",
  "object",
  "unknown",
  "promise",
  "void",
  "never",
  "map",
  "set"
]);
var getParsedType2 = (data) => {
  const t2 = typeof data;
  switch (t2) {
    case "undefined":
      return ZodParsedType.undefined;
    case "string":
      return ZodParsedType.string;
    case "number":
      return Number.isNaN(data) ? ZodParsedType.nan : ZodParsedType.number;
    case "boolean":
      return ZodParsedType.boolean;
    case "function":
      return ZodParsedType.function;
    case "bigint":
      return ZodParsedType.bigint;
    case "symbol":
      return ZodParsedType.symbol;
    case "object":
      if (Array.isArray(data)) {
        return ZodParsedType.array;
      }
      if (data === null) {
        return ZodParsedType.null;
      }
      if (data.then && typeof data.then === "function" && data.catch && typeof data.catch === "function") {
        return ZodParsedType.promise;
      }
      if (typeof Map !== "undefined" && data instanceof Map) {
        return ZodParsedType.map;
      }
      if (typeof Set !== "undefined" && data instanceof Set) {
        return ZodParsedType.set;
      }
      if (typeof Date !== "undefined" && data instanceof Date) {
        return ZodParsedType.date;
      }
      return ZodParsedType.object;
    default:
      return ZodParsedType.unknown;
  }
};

// node_modules/zod/v3/ZodError.js
var ZodIssueCode2 = util.arrayToEnum([
  "invalid_type",
  "invalid_literal",
  "custom",
  "invalid_union",
  "invalid_union_discriminator",
  "invalid_enum_value",
  "unrecognized_keys",
  "invalid_arguments",
  "invalid_return_type",
  "invalid_date",
  "invalid_string",
  "too_small",
  "too_big",
  "invalid_intersection_types",
  "not_multiple_of",
  "not_finite"
]);
var ZodError2 = class _ZodError extends Error {
  get errors() {
    return this.issues;
  }
  constructor(issues) {
    super();
    this.issues = [];
    this.addIssue = (sub) => {
      this.issues = [...this.issues, sub];
    };
    this.addIssues = (subs = []) => {
      this.issues = [...this.issues, ...subs];
    };
    const actualProto = new.target.prototype;
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(this, actualProto);
    } else {
      this.__proto__ = actualProto;
    }
    this.name = "ZodError";
    this.issues = issues;
  }
  format(_mapper) {
    const mapper = _mapper || function(issue2) {
      return issue2.message;
    };
    const fieldErrors = { _errors: [] };
    const processError = (error45) => {
      for (const issue2 of error45.issues) {
        if (issue2.code === "invalid_union") {
          issue2.unionErrors.map(processError);
        } else if (issue2.code === "invalid_return_type") {
          processError(issue2.returnTypeError);
        } else if (issue2.code === "invalid_arguments") {
          processError(issue2.argumentsError);
        } else if (issue2.path.length === 0) {
          fieldErrors._errors.push(mapper(issue2));
        } else {
          let curr = fieldErrors;
          let i2 = 0;
          while (i2 < issue2.path.length) {
            const el = issue2.path[i2];
            const terminal = i2 === issue2.path.length - 1;
            if (!terminal) {
              curr[el] = curr[el] || { _errors: [] };
            } else {
              curr[el] = curr[el] || { _errors: [] };
              curr[el]._errors.push(mapper(issue2));
            }
            curr = curr[el];
            i2++;
          }
        }
      }
    };
    processError(this);
    return fieldErrors;
  }
  static assert(value) {
    if (!(value instanceof _ZodError)) {
      throw new Error(`Not a ZodError: ${value}`);
    }
  }
  toString() {
    return this.message;
  }
  get message() {
    return JSON.stringify(this.issues, util.jsonStringifyReplacer, 2);
  }
  get isEmpty() {
    return this.issues.length === 0;
  }
  flatten(mapper = (issue2) => issue2.message) {
    const fieldErrors = {};
    const formErrors = [];
    for (const sub of this.issues) {
      if (sub.path.length > 0) {
        const firstEl = sub.path[0];
        fieldErrors[firstEl] = fieldErrors[firstEl] || [];
        fieldErrors[firstEl].push(mapper(sub));
      } else {
        formErrors.push(mapper(sub));
      }
    }
    return { formErrors, fieldErrors };
  }
  get formErrors() {
    return this.flatten();
  }
};
ZodError2.create = (issues) => {
  const error45 = new ZodError2(issues);
  return error45;
};

// node_modules/zod/v3/locales/en.js
var errorMap = (issue2, _ctx) => {
  let message;
  switch (issue2.code) {
    case ZodIssueCode2.invalid_type:
      if (issue2.received === ZodParsedType.undefined) {
        message = "Required";
      } else {
        message = `Expected ${issue2.expected}, received ${issue2.received}`;
      }
      break;
    case ZodIssueCode2.invalid_literal:
      message = `Invalid literal value, expected ${JSON.stringify(issue2.expected, util.jsonStringifyReplacer)}`;
      break;
    case ZodIssueCode2.unrecognized_keys:
      message = `Unrecognized key(s) in object: ${util.joinValues(issue2.keys, ", ")}`;
      break;
    case ZodIssueCode2.invalid_union:
      message = `Invalid input`;
      break;
    case ZodIssueCode2.invalid_union_discriminator:
      message = `Invalid discriminator value. Expected ${util.joinValues(issue2.options)}`;
      break;
    case ZodIssueCode2.invalid_enum_value:
      message = `Invalid enum value. Expected ${util.joinValues(issue2.options)}, received '${issue2.received}'`;
      break;
    case ZodIssueCode2.invalid_arguments:
      message = `Invalid function arguments`;
      break;
    case ZodIssueCode2.invalid_return_type:
      message = `Invalid function return type`;
      break;
    case ZodIssueCode2.invalid_date:
      message = `Invalid date`;
      break;
    case ZodIssueCode2.invalid_string:
      if (typeof issue2.validation === "object") {
        if ("includes" in issue2.validation) {
          message = `Invalid input: must include "${issue2.validation.includes}"`;
          if (typeof issue2.validation.position === "number") {
            message = `${message} at one or more positions greater than or equal to ${issue2.validation.position}`;
          }
        } else if ("startsWith" in issue2.validation) {
          message = `Invalid input: must start with "${issue2.validation.startsWith}"`;
        } else if ("endsWith" in issue2.validation) {
          message = `Invalid input: must end with "${issue2.validation.endsWith}"`;
        } else {
          util.assertNever(issue2.validation);
        }
      } else if (issue2.validation !== "regex") {
        message = `Invalid ${issue2.validation}`;
      } else {
        message = "Invalid";
      }
      break;
    case ZodIssueCode2.too_small:
      if (issue2.type === "array")
        message = `Array must contain ${issue2.exact ? "exactly" : issue2.inclusive ? `at least` : `more than`} ${issue2.minimum} element(s)`;
      else if (issue2.type === "string")
        message = `String must contain ${issue2.exact ? "exactly" : issue2.inclusive ? `at least` : `over`} ${issue2.minimum} character(s)`;
      else if (issue2.type === "number")
        message = `Number must be ${issue2.exact ? `exactly equal to ` : issue2.inclusive ? `greater than or equal to ` : `greater than `}${issue2.minimum}`;
      else if (issue2.type === "bigint")
        message = `Number must be ${issue2.exact ? `exactly equal to ` : issue2.inclusive ? `greater than or equal to ` : `greater than `}${issue2.minimum}`;
      else if (issue2.type === "date")
        message = `Date must be ${issue2.exact ? `exactly equal to ` : issue2.inclusive ? `greater than or equal to ` : `greater than `}${new Date(Number(issue2.minimum))}`;
      else
        message = "Invalid input";
      break;
    case ZodIssueCode2.too_big:
      if (issue2.type === "array")
        message = `Array must contain ${issue2.exact ? `exactly` : issue2.inclusive ? `at most` : `less than`} ${issue2.maximum} element(s)`;
      else if (issue2.type === "string")
        message = `String must contain ${issue2.exact ? `exactly` : issue2.inclusive ? `at most` : `under`} ${issue2.maximum} character(s)`;
      else if (issue2.type === "number")
        message = `Number must be ${issue2.exact ? `exactly` : issue2.inclusive ? `less than or equal to` : `less than`} ${issue2.maximum}`;
      else if (issue2.type === "bigint")
        message = `BigInt must be ${issue2.exact ? `exactly` : issue2.inclusive ? `less than or equal to` : `less than`} ${issue2.maximum}`;
      else if (issue2.type === "date")
        message = `Date must be ${issue2.exact ? `exactly` : issue2.inclusive ? `smaller than or equal to` : `smaller than`} ${new Date(Number(issue2.maximum))}`;
      else
        message = "Invalid input";
      break;
    case ZodIssueCode2.custom:
      message = `Invalid input`;
      break;
    case ZodIssueCode2.invalid_intersection_types:
      message = `Intersection results could not be merged`;
      break;
    case ZodIssueCode2.not_multiple_of:
      message = `Number must be a multiple of ${issue2.multipleOf}`;
      break;
    case ZodIssueCode2.not_finite:
      message = "Number must be finite";
      break;
    default:
      message = _ctx.defaultError;
      util.assertNever(issue2);
  }
  return { message };
};
var en_default2 = errorMap;

// node_modules/zod/v3/errors.js
var overrideErrorMap = en_default2;
function getErrorMap2() {
  return overrideErrorMap;
}

// node_modules/zod/v3/helpers/parseUtil.js
var makeIssue = (params) => {
  const { data, path, errorMaps, issueData } = params;
  const fullPath = [...path, ...issueData.path || []];
  const fullIssue = {
    ...issueData,
    path: fullPath
  };
  if (issueData.message !== void 0) {
    return {
      ...issueData,
      path: fullPath,
      message: issueData.message
    };
  }
  let errorMessage = "";
  const maps = errorMaps.filter((m) => !!m).slice().reverse();
  for (const map2 of maps) {
    errorMessage = map2(fullIssue, { data, defaultError: errorMessage }).message;
  }
  return {
    ...issueData,
    path: fullPath,
    message: errorMessage
  };
};
function addIssueToContext(ctx, issueData) {
  const overrideMap = getErrorMap2();
  const issue2 = makeIssue({
    issueData,
    data: ctx.data,
    path: ctx.path,
    errorMaps: [
      ctx.common.contextualErrorMap,
      // contextual error map is first priority
      ctx.schemaErrorMap,
      // then schema-bound map if available
      overrideMap,
      // then global override map
      overrideMap === en_default2 ? void 0 : en_default2
      // then global default map
    ].filter((x) => !!x)
  });
  ctx.common.issues.push(issue2);
}
var ParseStatus = class _ParseStatus {
  constructor() {
    this.value = "valid";
  }
  dirty() {
    if (this.value === "valid")
      this.value = "dirty";
  }
  abort() {
    if (this.value !== "aborted")
      this.value = "aborted";
  }
  static mergeArray(status, results) {
    const arrayValue = [];
    for (const s2 of results) {
      if (s2.status === "aborted")
        return INVALID;
      if (s2.status === "dirty")
        status.dirty();
      arrayValue.push(s2.value);
    }
    return { status: status.value, value: arrayValue };
  }
  static async mergeObjectAsync(status, pairs) {
    const syncPairs = [];
    for (const pair of pairs) {
      const key = await pair.key;
      const value = await pair.value;
      syncPairs.push({
        key,
        value
      });
    }
    return _ParseStatus.mergeObjectSync(status, syncPairs);
  }
  static mergeObjectSync(status, pairs) {
    const finalObject = {};
    for (const pair of pairs) {
      const { key, value } = pair;
      if (key.status === "aborted")
        return INVALID;
      if (value.status === "aborted")
        return INVALID;
      if (key.status === "dirty")
        status.dirty();
      if (value.status === "dirty")
        status.dirty();
      if (key.value !== "__proto__" && (typeof value.value !== "undefined" || pair.alwaysSet)) {
        finalObject[key.value] = value.value;
      }
    }
    return { status: status.value, value: finalObject };
  }
};
var INVALID = Object.freeze({
  status: "aborted"
});
var DIRTY = (value) => ({ status: "dirty", value });
var OK = (value) => ({ status: "valid", value });
var isAborted = (x) => x.status === "aborted";
var isDirty = (x) => x.status === "dirty";
var isValid = (x) => x.status === "valid";
var isAsync = (x) => typeof Promise !== "undefined" && x instanceof Promise;

// node_modules/zod/v3/helpers/errorUtil.js
var errorUtil;
(function(errorUtil2) {
  errorUtil2.errToObj = (message) => typeof message === "string" ? { message } : message || {};
  errorUtil2.toString = (message) => typeof message === "string" ? message : message?.message;
})(errorUtil || (errorUtil = {}));

// node_modules/zod/v3/types.js
var ParseInputLazyPath = class {
  constructor(parent, value, path, key) {
    this._cachedPath = [];
    this.parent = parent;
    this.data = value;
    this._path = path;
    this._key = key;
  }
  get path() {
    if (!this._cachedPath.length) {
      if (Array.isArray(this._key)) {
        this._cachedPath.push(...this._path, ...this._key);
      } else {
        this._cachedPath.push(...this._path, this._key);
      }
    }
    return this._cachedPath;
  }
};
var handleResult = (ctx, result) => {
  if (isValid(result)) {
    return { success: true, data: result.value };
  } else {
    if (!ctx.common.issues.length) {
      throw new Error("Validation failed but no issues detected.");
    }
    return {
      success: false,
      get error() {
        if (this._error)
          return this._error;
        const error45 = new ZodError2(ctx.common.issues);
        this._error = error45;
        return this._error;
      }
    };
  }
};
function processCreateParams(params) {
  if (!params)
    return {};
  const { errorMap: errorMap2, invalid_type_error, required_error, description } = params;
  if (errorMap2 && (invalid_type_error || required_error)) {
    throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);
  }
  if (errorMap2)
    return { errorMap: errorMap2, description };
  const customMap = (iss, ctx) => {
    const { message } = params;
    if (iss.code === "invalid_enum_value") {
      return { message: message ?? ctx.defaultError };
    }
    if (typeof ctx.data === "undefined") {
      return { message: message ?? required_error ?? ctx.defaultError };
    }
    if (iss.code !== "invalid_type")
      return { message: ctx.defaultError };
    return { message: message ?? invalid_type_error ?? ctx.defaultError };
  };
  return { errorMap: customMap, description };
}
var ZodType2 = class {
  get description() {
    return this._def.description;
  }
  _getType(input) {
    return getParsedType2(input.data);
  }
  _getOrReturnCtx(input, ctx) {
    return ctx || {
      common: input.parent.common,
      data: input.data,
      parsedType: getParsedType2(input.data),
      schemaErrorMap: this._def.errorMap,
      path: input.path,
      parent: input.parent
    };
  }
  _processInputParams(input) {
    return {
      status: new ParseStatus(),
      ctx: {
        common: input.parent.common,
        data: input.data,
        parsedType: getParsedType2(input.data),
        schemaErrorMap: this._def.errorMap,
        path: input.path,
        parent: input.parent
      }
    };
  }
  _parseSync(input) {
    const result = this._parse(input);
    if (isAsync(result)) {
      throw new Error("Synchronous parse encountered promise.");
    }
    return result;
  }
  _parseAsync(input) {
    const result = this._parse(input);
    return Promise.resolve(result);
  }
  parse(data, params) {
    const result = this.safeParse(data, params);
    if (result.success)
      return result.data;
    throw result.error;
  }
  safeParse(data, params) {
    const ctx = {
      common: {
        issues: [],
        async: params?.async ?? false,
        contextualErrorMap: params?.errorMap
      },
      path: params?.path || [],
      schemaErrorMap: this._def.errorMap,
      parent: null,
      data,
      parsedType: getParsedType2(data)
    };
    const result = this._parseSync({ data, path: ctx.path, parent: ctx });
    return handleResult(ctx, result);
  }
  "~validate"(data) {
    const ctx = {
      common: {
        issues: [],
        async: !!this["~standard"].async
      },
      path: [],
      schemaErrorMap: this._def.errorMap,
      parent: null,
      data,
      parsedType: getParsedType2(data)
    };
    if (!this["~standard"].async) {
      try {
        const result = this._parseSync({ data, path: [], parent: ctx });
        return isValid(result) ? {
          value: result.value
        } : {
          issues: ctx.common.issues
        };
      } catch (err) {
        if (err?.message?.toLowerCase()?.includes("encountered")) {
          this["~standard"].async = true;
        }
        ctx.common = {
          issues: [],
          async: true
        };
      }
    }
    return this._parseAsync({ data, path: [], parent: ctx }).then((result) => isValid(result) ? {
      value: result.value
    } : {
      issues: ctx.common.issues
    });
  }
  async parseAsync(data, params) {
    const result = await this.safeParseAsync(data, params);
    if (result.success)
      return result.data;
    throw result.error;
  }
  async safeParseAsync(data, params) {
    const ctx = {
      common: {
        issues: [],
        contextualErrorMap: params?.errorMap,
        async: true
      },
      path: params?.path || [],
      schemaErrorMap: this._def.errorMap,
      parent: null,
      data,
      parsedType: getParsedType2(data)
    };
    const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });
    const result = await (isAsync(maybeAsyncResult) ? maybeAsyncResult : Promise.resolve(maybeAsyncResult));
    return handleResult(ctx, result);
  }
  refine(check2, message) {
    const getIssueProperties = (val) => {
      if (typeof message === "string" || typeof message === "undefined") {
        return { message };
      } else if (typeof message === "function") {
        return message(val);
      } else {
        return message;
      }
    };
    return this._refinement((val, ctx) => {
      const result = check2(val);
      const setError = () => ctx.addIssue({
        code: ZodIssueCode2.custom,
        ...getIssueProperties(val)
      });
      if (typeof Promise !== "undefined" && result instanceof Promise) {
        return result.then((data) => {
          if (!data) {
            setError();
            return false;
          } else {
            return true;
          }
        });
      }
      if (!result) {
        setError();
        return false;
      } else {
        return true;
      }
    });
  }
  refinement(check2, refinementData) {
    return this._refinement((val, ctx) => {
      if (!check2(val)) {
        ctx.addIssue(typeof refinementData === "function" ? refinementData(val, ctx) : refinementData);
        return false;
      } else {
        return true;
      }
    });
  }
  _refinement(refinement) {
    return new ZodEffects({
      schema: this,
      typeName: ZodFirstPartyTypeKind2.ZodEffects,
      effect: { type: "refinement", refinement }
    });
  }
  superRefine(refinement) {
    return this._refinement(refinement);
  }
  constructor(def) {
    this.spa = this.safeParseAsync;
    this._def = def;
    this.parse = this.parse.bind(this);
    this.safeParse = this.safeParse.bind(this);
    this.parseAsync = this.parseAsync.bind(this);
    this.safeParseAsync = this.safeParseAsync.bind(this);
    this.spa = this.spa.bind(this);
    this.refine = this.refine.bind(this);
    this.refinement = this.refinement.bind(this);
    this.superRefine = this.superRefine.bind(this);
    this.optional = this.optional.bind(this);
    this.nullable = this.nullable.bind(this);
    this.nullish = this.nullish.bind(this);
    this.array = this.array.bind(this);
    this.promise = this.promise.bind(this);
    this.or = this.or.bind(this);
    this.and = this.and.bind(this);
    this.transform = this.transform.bind(this);
    this.brand = this.brand.bind(this);
    this.default = this.default.bind(this);
    this.catch = this.catch.bind(this);
    this.describe = this.describe.bind(this);
    this.pipe = this.pipe.bind(this);
    this.readonly = this.readonly.bind(this);
    this.isNullable = this.isNullable.bind(this);
    this.isOptional = this.isOptional.bind(this);
    this["~standard"] = {
      version: 1,
      vendor: "zod",
      validate: (data) => this["~validate"](data)
    };
  }
  optional() {
    return ZodOptional2.create(this, this._def);
  }
  nullable() {
    return ZodNullable2.create(this, this._def);
  }
  nullish() {
    return this.nullable().optional();
  }
  array() {
    return ZodArray2.create(this);
  }
  promise() {
    return ZodPromise2.create(this, this._def);
  }
  or(option) {
    return ZodUnion2.create([this, option], this._def);
  }
  and(incoming) {
    return ZodIntersection2.create(this, incoming, this._def);
  }
  transform(transform2) {
    return new ZodEffects({
      ...processCreateParams(this._def),
      schema: this,
      typeName: ZodFirstPartyTypeKind2.ZodEffects,
      effect: { type: "transform", transform: transform2 }
    });
  }
  default(def) {
    const defaultValueFunc = typeof def === "function" ? def : () => def;
    return new ZodDefault2({
      ...processCreateParams(this._def),
      innerType: this,
      defaultValue: defaultValueFunc,
      typeName: ZodFirstPartyTypeKind2.ZodDefault
    });
  }
  brand() {
    return new ZodBranded({
      typeName: ZodFirstPartyTypeKind2.ZodBranded,
      type: this,
      ...processCreateParams(this._def)
    });
  }
  catch(def) {
    const catchValueFunc = typeof def === "function" ? def : () => def;
    return new ZodCatch2({
      ...processCreateParams(this._def),
      innerType: this,
      catchValue: catchValueFunc,
      typeName: ZodFirstPartyTypeKind2.ZodCatch
    });
  }
  describe(description) {
    const This = this.constructor;
    return new This({
      ...this._def,
      description
    });
  }
  pipe(target) {
    return ZodPipeline.create(this, target);
  }
  readonly() {
    return ZodReadonly2.create(this);
  }
  isOptional() {
    return this.safeParse(void 0).success;
  }
  isNullable() {
    return this.safeParse(null).success;
  }
};
var cuidRegex = /^c[^\s-]{8,}$/i;
var cuid2Regex = /^[0-9a-z]+$/;
var ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;
var uuidRegex = /^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i;
var nanoidRegex = /^[a-z0-9_-]{21}$/i;
var jwtRegex = /^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;
var durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/;
var emailRegex = /^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;
var _emojiRegex = `^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$`;
var emojiRegex;
var ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;
var ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/;
var ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;
var ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;
var base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;
var base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;
var dateRegexSource = `((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))`;
var dateRegex = new RegExp(`^${dateRegexSource}$`);
function timeRegexSource(args) {
  let secondsRegexSource = `[0-5]\\d`;
  if (args.precision) {
    secondsRegexSource = `${secondsRegexSource}\\.\\d{${args.precision}}`;
  } else if (args.precision == null) {
    secondsRegexSource = `${secondsRegexSource}(\\.\\d+)?`;
  }
  const secondsQuantifier = args.precision ? "+" : "?";
  return `([01]\\d|2[0-3]):[0-5]\\d(:${secondsRegexSource})${secondsQuantifier}`;
}
function timeRegex(args) {
  return new RegExp(`^${timeRegexSource(args)}$`);
}
function datetimeRegex(args) {
  let regex = `${dateRegexSource}T${timeRegexSource(args)}`;
  const opts = [];
  opts.push(args.local ? `Z?` : `Z`);
  if (args.offset)
    opts.push(`([+-]\\d{2}:?\\d{2})`);
  regex = `${regex}(${opts.join("|")})`;
  return new RegExp(`^${regex}$`);
}
function isValidIP(ip, version2) {
  if ((version2 === "v4" || !version2) && ipv4Regex.test(ip)) {
    return true;
  }
  if ((version2 === "v6" || !version2) && ipv6Regex.test(ip)) {
    return true;
  }
  return false;
}
function isValidJWT2(jwt2, alg) {
  if (!jwtRegex.test(jwt2))
    return false;
  try {
    const [header] = jwt2.split(".");
    if (!header)
      return false;
    const base643 = header.replace(/-/g, "+").replace(/_/g, "/").padEnd(header.length + (4 - header.length % 4) % 4, "=");
    const decoded = JSON.parse(atob(base643));
    if (typeof decoded !== "object" || decoded === null)
      return false;
    if ("typ" in decoded && decoded?.typ !== "JWT")
      return false;
    if (!decoded.alg)
      return false;
    if (alg && decoded.alg !== alg)
      return false;
    return true;
  } catch {
    return false;
  }
}
function isValidCidr(ip, version2) {
  if ((version2 === "v4" || !version2) && ipv4CidrRegex.test(ip)) {
    return true;
  }
  if ((version2 === "v6" || !version2) && ipv6CidrRegex.test(ip)) {
    return true;
  }
  return false;
}
var ZodString2 = class _ZodString2 extends ZodType2 {
  _parse(input) {
    if (this._def.coerce) {
      input.data = String(input.data);
    }
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.string) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.string,
        received: ctx2.parsedType
      });
      return INVALID;
    }
    const status = new ParseStatus();
    let ctx = void 0;
    for (const check2 of this._def.checks) {
      if (check2.kind === "min") {
        if (input.data.length < check2.value) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_small,
            minimum: check2.value,
            type: "string",
            inclusive: true,
            exact: false,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "max") {
        if (input.data.length > check2.value) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_big,
            maximum: check2.value,
            type: "string",
            inclusive: true,
            exact: false,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "length") {
        const tooBig = input.data.length > check2.value;
        const tooSmall = input.data.length < check2.value;
        if (tooBig || tooSmall) {
          ctx = this._getOrReturnCtx(input, ctx);
          if (tooBig) {
            addIssueToContext(ctx, {
              code: ZodIssueCode2.too_big,
              maximum: check2.value,
              type: "string",
              inclusive: true,
              exact: true,
              message: check2.message
            });
          } else if (tooSmall) {
            addIssueToContext(ctx, {
              code: ZodIssueCode2.too_small,
              minimum: check2.value,
              type: "string",
              inclusive: true,
              exact: true,
              message: check2.message
            });
          }
          status.dirty();
        }
      } else if (check2.kind === "email") {
        if (!emailRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "email",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "emoji") {
        if (!emojiRegex) {
          emojiRegex = new RegExp(_emojiRegex, "u");
        }
        if (!emojiRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "emoji",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "uuid") {
        if (!uuidRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "uuid",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "nanoid") {
        if (!nanoidRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "nanoid",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "cuid") {
        if (!cuidRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "cuid",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "cuid2") {
        if (!cuid2Regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "cuid2",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "ulid") {
        if (!ulidRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "ulid",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "url") {
        try {
          new URL(input.data);
        } catch {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "url",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "regex") {
        check2.regex.lastIndex = 0;
        const testResult = check2.regex.test(input.data);
        if (!testResult) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "regex",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "trim") {
        input.data = input.data.trim();
      } else if (check2.kind === "includes") {
        if (!input.data.includes(check2.value, check2.position)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_string,
            validation: { includes: check2.value, position: check2.position },
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "toLowerCase") {
        input.data = input.data.toLowerCase();
      } else if (check2.kind === "toUpperCase") {
        input.data = input.data.toUpperCase();
      } else if (check2.kind === "startsWith") {
        if (!input.data.startsWith(check2.value)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_string,
            validation: { startsWith: check2.value },
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "endsWith") {
        if (!input.data.endsWith(check2.value)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_string,
            validation: { endsWith: check2.value },
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "datetime") {
        const regex = datetimeRegex(check2);
        if (!regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_string,
            validation: "datetime",
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "date") {
        const regex = dateRegex;
        if (!regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_string,
            validation: "date",
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "time") {
        const regex = timeRegex(check2);
        if (!regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_string,
            validation: "time",
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "duration") {
        if (!durationRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "duration",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "ip") {
        if (!isValidIP(input.data, check2.version)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "ip",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "jwt") {
        if (!isValidJWT2(input.data, check2.alg)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "jwt",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "cidr") {
        if (!isValidCidr(input.data, check2.version)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "cidr",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "base64") {
        if (!base64Regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "base64",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "base64url") {
        if (!base64urlRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "base64url",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else {
        util.assertNever(check2);
      }
    }
    return { status: status.value, value: input.data };
  }
  _regex(regex, validation, message) {
    return this.refinement((data) => regex.test(data), {
      validation,
      code: ZodIssueCode2.invalid_string,
      ...errorUtil.errToObj(message)
    });
  }
  _addCheck(check2) {
    return new _ZodString2({
      ...this._def,
      checks: [...this._def.checks, check2]
    });
  }
  email(message) {
    return this._addCheck({ kind: "email", ...errorUtil.errToObj(message) });
  }
  url(message) {
    return this._addCheck({ kind: "url", ...errorUtil.errToObj(message) });
  }
  emoji(message) {
    return this._addCheck({ kind: "emoji", ...errorUtil.errToObj(message) });
  }
  uuid(message) {
    return this._addCheck({ kind: "uuid", ...errorUtil.errToObj(message) });
  }
  nanoid(message) {
    return this._addCheck({ kind: "nanoid", ...errorUtil.errToObj(message) });
  }
  cuid(message) {
    return this._addCheck({ kind: "cuid", ...errorUtil.errToObj(message) });
  }
  cuid2(message) {
    return this._addCheck({ kind: "cuid2", ...errorUtil.errToObj(message) });
  }
  ulid(message) {
    return this._addCheck({ kind: "ulid", ...errorUtil.errToObj(message) });
  }
  base64(message) {
    return this._addCheck({ kind: "base64", ...errorUtil.errToObj(message) });
  }
  base64url(message) {
    return this._addCheck({
      kind: "base64url",
      ...errorUtil.errToObj(message)
    });
  }
  jwt(options) {
    return this._addCheck({ kind: "jwt", ...errorUtil.errToObj(options) });
  }
  ip(options) {
    return this._addCheck({ kind: "ip", ...errorUtil.errToObj(options) });
  }
  cidr(options) {
    return this._addCheck({ kind: "cidr", ...errorUtil.errToObj(options) });
  }
  datetime(options) {
    if (typeof options === "string") {
      return this._addCheck({
        kind: "datetime",
        precision: null,
        offset: false,
        local: false,
        message: options
      });
    }
    return this._addCheck({
      kind: "datetime",
      precision: typeof options?.precision === "undefined" ? null : options?.precision,
      offset: options?.offset ?? false,
      local: options?.local ?? false,
      ...errorUtil.errToObj(options?.message)
    });
  }
  date(message) {
    return this._addCheck({ kind: "date", message });
  }
  time(options) {
    if (typeof options === "string") {
      return this._addCheck({
        kind: "time",
        precision: null,
        message: options
      });
    }
    return this._addCheck({
      kind: "time",
      precision: typeof options?.precision === "undefined" ? null : options?.precision,
      ...errorUtil.errToObj(options?.message)
    });
  }
  duration(message) {
    return this._addCheck({ kind: "duration", ...errorUtil.errToObj(message) });
  }
  regex(regex, message) {
    return this._addCheck({
      kind: "regex",
      regex,
      ...errorUtil.errToObj(message)
    });
  }
  includes(value, options) {
    return this._addCheck({
      kind: "includes",
      value,
      position: options?.position,
      ...errorUtil.errToObj(options?.message)
    });
  }
  startsWith(value, message) {
    return this._addCheck({
      kind: "startsWith",
      value,
      ...errorUtil.errToObj(message)
    });
  }
  endsWith(value, message) {
    return this._addCheck({
      kind: "endsWith",
      value,
      ...errorUtil.errToObj(message)
    });
  }
  min(minLength, message) {
    return this._addCheck({
      kind: "min",
      value: minLength,
      ...errorUtil.errToObj(message)
    });
  }
  max(maxLength, message) {
    return this._addCheck({
      kind: "max",
      value: maxLength,
      ...errorUtil.errToObj(message)
    });
  }
  length(len, message) {
    return this._addCheck({
      kind: "length",
      value: len,
      ...errorUtil.errToObj(message)
    });
  }
  /**
   * Equivalent to `.min(1)`
   */
  nonempty(message) {
    return this.min(1, errorUtil.errToObj(message));
  }
  trim() {
    return new _ZodString2({
      ...this._def,
      checks: [...this._def.checks, { kind: "trim" }]
    });
  }
  toLowerCase() {
    return new _ZodString2({
      ...this._def,
      checks: [...this._def.checks, { kind: "toLowerCase" }]
    });
  }
  toUpperCase() {
    return new _ZodString2({
      ...this._def,
      checks: [...this._def.checks, { kind: "toUpperCase" }]
    });
  }
  get isDatetime() {
    return !!this._def.checks.find((ch) => ch.kind === "datetime");
  }
  get isDate() {
    return !!this._def.checks.find((ch) => ch.kind === "date");
  }
  get isTime() {
    return !!this._def.checks.find((ch) => ch.kind === "time");
  }
  get isDuration() {
    return !!this._def.checks.find((ch) => ch.kind === "duration");
  }
  get isEmail() {
    return !!this._def.checks.find((ch) => ch.kind === "email");
  }
  get isURL() {
    return !!this._def.checks.find((ch) => ch.kind === "url");
  }
  get isEmoji() {
    return !!this._def.checks.find((ch) => ch.kind === "emoji");
  }
  get isUUID() {
    return !!this._def.checks.find((ch) => ch.kind === "uuid");
  }
  get isNANOID() {
    return !!this._def.checks.find((ch) => ch.kind === "nanoid");
  }
  get isCUID() {
    return !!this._def.checks.find((ch) => ch.kind === "cuid");
  }
  get isCUID2() {
    return !!this._def.checks.find((ch) => ch.kind === "cuid2");
  }
  get isULID() {
    return !!this._def.checks.find((ch) => ch.kind === "ulid");
  }
  get isIP() {
    return !!this._def.checks.find((ch) => ch.kind === "ip");
  }
  get isCIDR() {
    return !!this._def.checks.find((ch) => ch.kind === "cidr");
  }
  get isBase64() {
    return !!this._def.checks.find((ch) => ch.kind === "base64");
  }
  get isBase64url() {
    return !!this._def.checks.find((ch) => ch.kind === "base64url");
  }
  get minLength() {
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "min") {
        if (min === null || ch.value > min)
          min = ch.value;
      }
    }
    return min;
  }
  get maxLength() {
    let max = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "max") {
        if (max === null || ch.value < max)
          max = ch.value;
      }
    }
    return max;
  }
};
ZodString2.create = (params) => {
  return new ZodString2({
    checks: [],
    typeName: ZodFirstPartyTypeKind2.ZodString,
    coerce: params?.coerce ?? false,
    ...processCreateParams(params)
  });
};
function floatSafeRemainder2(val, step) {
  const valDecCount = (val.toString().split(".")[1] || "").length;
  const stepDecCount = (step.toString().split(".")[1] || "").length;
  const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;
  const valInt = Number.parseInt(val.toFixed(decCount).replace(".", ""));
  const stepInt = Number.parseInt(step.toFixed(decCount).replace(".", ""));
  return valInt % stepInt / 10 ** decCount;
}
var ZodNumber2 = class _ZodNumber extends ZodType2 {
  constructor() {
    super(...arguments);
    this.min = this.gte;
    this.max = this.lte;
    this.step = this.multipleOf;
  }
  _parse(input) {
    if (this._def.coerce) {
      input.data = Number(input.data);
    }
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.number) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.number,
        received: ctx2.parsedType
      });
      return INVALID;
    }
    let ctx = void 0;
    const status = new ParseStatus();
    for (const check2 of this._def.checks) {
      if (check2.kind === "int") {
        if (!util.isInteger(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_type,
            expected: "integer",
            received: "float",
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "min") {
        const tooSmall = check2.inclusive ? input.data < check2.value : input.data <= check2.value;
        if (tooSmall) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_small,
            minimum: check2.value,
            type: "number",
            inclusive: check2.inclusive,
            exact: false,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "max") {
        const tooBig = check2.inclusive ? input.data > check2.value : input.data >= check2.value;
        if (tooBig) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_big,
            maximum: check2.value,
            type: "number",
            inclusive: check2.inclusive,
            exact: false,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "multipleOf") {
        if (floatSafeRemainder2(input.data, check2.value) !== 0) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.not_multiple_of,
            multipleOf: check2.value,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "finite") {
        if (!Number.isFinite(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.not_finite,
            message: check2.message
          });
          status.dirty();
        }
      } else {
        util.assertNever(check2);
      }
    }
    return { status: status.value, value: input.data };
  }
  gte(value, message) {
    return this.setLimit("min", value, true, errorUtil.toString(message));
  }
  gt(value, message) {
    return this.setLimit("min", value, false, errorUtil.toString(message));
  }
  lte(value, message) {
    return this.setLimit("max", value, true, errorUtil.toString(message));
  }
  lt(value, message) {
    return this.setLimit("max", value, false, errorUtil.toString(message));
  }
  setLimit(kind, value, inclusive, message) {
    return new _ZodNumber({
      ...this._def,
      checks: [
        ...this._def.checks,
        {
          kind,
          value,
          inclusive,
          message: errorUtil.toString(message)
        }
      ]
    });
  }
  _addCheck(check2) {
    return new _ZodNumber({
      ...this._def,
      checks: [...this._def.checks, check2]
    });
  }
  int(message) {
    return this._addCheck({
      kind: "int",
      message: errorUtil.toString(message)
    });
  }
  positive(message) {
    return this._addCheck({
      kind: "min",
      value: 0,
      inclusive: false,
      message: errorUtil.toString(message)
    });
  }
  negative(message) {
    return this._addCheck({
      kind: "max",
      value: 0,
      inclusive: false,
      message: errorUtil.toString(message)
    });
  }
  nonpositive(message) {
    return this._addCheck({
      kind: "max",
      value: 0,
      inclusive: true,
      message: errorUtil.toString(message)
    });
  }
  nonnegative(message) {
    return this._addCheck({
      kind: "min",
      value: 0,
      inclusive: true,
      message: errorUtil.toString(message)
    });
  }
  multipleOf(value, message) {
    return this._addCheck({
      kind: "multipleOf",
      value,
      message: errorUtil.toString(message)
    });
  }
  finite(message) {
    return this._addCheck({
      kind: "finite",
      message: errorUtil.toString(message)
    });
  }
  safe(message) {
    return this._addCheck({
      kind: "min",
      inclusive: true,
      value: Number.MIN_SAFE_INTEGER,
      message: errorUtil.toString(message)
    })._addCheck({
      kind: "max",
      inclusive: true,
      value: Number.MAX_SAFE_INTEGER,
      message: errorUtil.toString(message)
    });
  }
  get minValue() {
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "min") {
        if (min === null || ch.value > min)
          min = ch.value;
      }
    }
    return min;
  }
  get maxValue() {
    let max = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "max") {
        if (max === null || ch.value < max)
          max = ch.value;
      }
    }
    return max;
  }
  get isInt() {
    return !!this._def.checks.find((ch) => ch.kind === "int" || ch.kind === "multipleOf" && util.isInteger(ch.value));
  }
  get isFinite() {
    let max = null;
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "finite" || ch.kind === "int" || ch.kind === "multipleOf") {
        return true;
      } else if (ch.kind === "min") {
        if (min === null || ch.value > min)
          min = ch.value;
      } else if (ch.kind === "max") {
        if (max === null || ch.value < max)
          max = ch.value;
      }
    }
    return Number.isFinite(min) && Number.isFinite(max);
  }
};
ZodNumber2.create = (params) => {
  return new ZodNumber2({
    checks: [],
    typeName: ZodFirstPartyTypeKind2.ZodNumber,
    coerce: params?.coerce || false,
    ...processCreateParams(params)
  });
};
var ZodBigInt2 = class _ZodBigInt extends ZodType2 {
  constructor() {
    super(...arguments);
    this.min = this.gte;
    this.max = this.lte;
  }
  _parse(input) {
    if (this._def.coerce) {
      try {
        input.data = BigInt(input.data);
      } catch {
        return this._getInvalidInput(input);
      }
    }
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.bigint) {
      return this._getInvalidInput(input);
    }
    let ctx = void 0;
    const status = new ParseStatus();
    for (const check2 of this._def.checks) {
      if (check2.kind === "min") {
        const tooSmall = check2.inclusive ? input.data < check2.value : input.data <= check2.value;
        if (tooSmall) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_small,
            type: "bigint",
            minimum: check2.value,
            inclusive: check2.inclusive,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "max") {
        const tooBig = check2.inclusive ? input.data > check2.value : input.data >= check2.value;
        if (tooBig) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_big,
            type: "bigint",
            maximum: check2.value,
            inclusive: check2.inclusive,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "multipleOf") {
        if (input.data % check2.value !== BigInt(0)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.not_multiple_of,
            multipleOf: check2.value,
            message: check2.message
          });
          status.dirty();
        }
      } else {
        util.assertNever(check2);
      }
    }
    return { status: status.value, value: input.data };
  }
  _getInvalidInput(input) {
    const ctx = this._getOrReturnCtx(input);
    addIssueToContext(ctx, {
      code: ZodIssueCode2.invalid_type,
      expected: ZodParsedType.bigint,
      received: ctx.parsedType
    });
    return INVALID;
  }
  gte(value, message) {
    return this.setLimit("min", value, true, errorUtil.toString(message));
  }
  gt(value, message) {
    return this.setLimit("min", value, false, errorUtil.toString(message));
  }
  lte(value, message) {
    return this.setLimit("max", value, true, errorUtil.toString(message));
  }
  lt(value, message) {
    return this.setLimit("max", value, false, errorUtil.toString(message));
  }
  setLimit(kind, value, inclusive, message) {
    return new _ZodBigInt({
      ...this._def,
      checks: [
        ...this._def.checks,
        {
          kind,
          value,
          inclusive,
          message: errorUtil.toString(message)
        }
      ]
    });
  }
  _addCheck(check2) {
    return new _ZodBigInt({
      ...this._def,
      checks: [...this._def.checks, check2]
    });
  }
  positive(message) {
    return this._addCheck({
      kind: "min",
      value: BigInt(0),
      inclusive: false,
      message: errorUtil.toString(message)
    });
  }
  negative(message) {
    return this._addCheck({
      kind: "max",
      value: BigInt(0),
      inclusive: false,
      message: errorUtil.toString(message)
    });
  }
  nonpositive(message) {
    return this._addCheck({
      kind: "max",
      value: BigInt(0),
      inclusive: true,
      message: errorUtil.toString(message)
    });
  }
  nonnegative(message) {
    return this._addCheck({
      kind: "min",
      value: BigInt(0),
      inclusive: true,
      message: errorUtil.toString(message)
    });
  }
  multipleOf(value, message) {
    return this._addCheck({
      kind: "multipleOf",
      value,
      message: errorUtil.toString(message)
    });
  }
  get minValue() {
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "min") {
        if (min === null || ch.value > min)
          min = ch.value;
      }
    }
    return min;
  }
  get maxValue() {
    let max = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "max") {
        if (max === null || ch.value < max)
          max = ch.value;
      }
    }
    return max;
  }
};
ZodBigInt2.create = (params) => {
  return new ZodBigInt2({
    checks: [],
    typeName: ZodFirstPartyTypeKind2.ZodBigInt,
    coerce: params?.coerce ?? false,
    ...processCreateParams(params)
  });
};
var ZodBoolean2 = class extends ZodType2 {
  _parse(input) {
    if (this._def.coerce) {
      input.data = Boolean(input.data);
    }
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.boolean) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.boolean,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
};
ZodBoolean2.create = (params) => {
  return new ZodBoolean2({
    typeName: ZodFirstPartyTypeKind2.ZodBoolean,
    coerce: params?.coerce || false,
    ...processCreateParams(params)
  });
};
var ZodDate2 = class _ZodDate extends ZodType2 {
  _parse(input) {
    if (this._def.coerce) {
      input.data = new Date(input.data);
    }
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.date) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.date,
        received: ctx2.parsedType
      });
      return INVALID;
    }
    if (Number.isNaN(input.data.getTime())) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode2.invalid_date
      });
      return INVALID;
    }
    const status = new ParseStatus();
    let ctx = void 0;
    for (const check2 of this._def.checks) {
      if (check2.kind === "min") {
        if (input.data.getTime() < check2.value) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_small,
            message: check2.message,
            inclusive: true,
            exact: false,
            minimum: check2.value,
            type: "date"
          });
          status.dirty();
        }
      } else if (check2.kind === "max") {
        if (input.data.getTime() > check2.value) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_big,
            message: check2.message,
            inclusive: true,
            exact: false,
            maximum: check2.value,
            type: "date"
          });
          status.dirty();
        }
      } else {
        util.assertNever(check2);
      }
    }
    return {
      status: status.value,
      value: new Date(input.data.getTime())
    };
  }
  _addCheck(check2) {
    return new _ZodDate({
      ...this._def,
      checks: [...this._def.checks, check2]
    });
  }
  min(minDate, message) {
    return this._addCheck({
      kind: "min",
      value: minDate.getTime(),
      message: errorUtil.toString(message)
    });
  }
  max(maxDate, message) {
    return this._addCheck({
      kind: "max",
      value: maxDate.getTime(),
      message: errorUtil.toString(message)
    });
  }
  get minDate() {
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "min") {
        if (min === null || ch.value > min)
          min = ch.value;
      }
    }
    return min != null ? new Date(min) : null;
  }
  get maxDate() {
    let max = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "max") {
        if (max === null || ch.value < max)
          max = ch.value;
      }
    }
    return max != null ? new Date(max) : null;
  }
};
ZodDate2.create = (params) => {
  return new ZodDate2({
    checks: [],
    coerce: params?.coerce || false,
    typeName: ZodFirstPartyTypeKind2.ZodDate,
    ...processCreateParams(params)
  });
};
var ZodSymbol2 = class extends ZodType2 {
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.symbol) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.symbol,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
};
ZodSymbol2.create = (params) => {
  return new ZodSymbol2({
    typeName: ZodFirstPartyTypeKind2.ZodSymbol,
    ...processCreateParams(params)
  });
};
var ZodUndefined2 = class extends ZodType2 {
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.undefined) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.undefined,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
};
ZodUndefined2.create = (params) => {
  return new ZodUndefined2({
    typeName: ZodFirstPartyTypeKind2.ZodUndefined,
    ...processCreateParams(params)
  });
};
var ZodNull2 = class extends ZodType2 {
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.null) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.null,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
};
ZodNull2.create = (params) => {
  return new ZodNull2({
    typeName: ZodFirstPartyTypeKind2.ZodNull,
    ...processCreateParams(params)
  });
};
var ZodAny2 = class extends ZodType2 {
  constructor() {
    super(...arguments);
    this._any = true;
  }
  _parse(input) {
    return OK(input.data);
  }
};
ZodAny2.create = (params) => {
  return new ZodAny2({
    typeName: ZodFirstPartyTypeKind2.ZodAny,
    ...processCreateParams(params)
  });
};
var ZodUnknown2 = class extends ZodType2 {
  constructor() {
    super(...arguments);
    this._unknown = true;
  }
  _parse(input) {
    return OK(input.data);
  }
};
ZodUnknown2.create = (params) => {
  return new ZodUnknown2({
    typeName: ZodFirstPartyTypeKind2.ZodUnknown,
    ...processCreateParams(params)
  });
};
var ZodNever2 = class extends ZodType2 {
  _parse(input) {
    const ctx = this._getOrReturnCtx(input);
    addIssueToContext(ctx, {
      code: ZodIssueCode2.invalid_type,
      expected: ZodParsedType.never,
      received: ctx.parsedType
    });
    return INVALID;
  }
};
ZodNever2.create = (params) => {
  return new ZodNever2({
    typeName: ZodFirstPartyTypeKind2.ZodNever,
    ...processCreateParams(params)
  });
};
var ZodVoid2 = class extends ZodType2 {
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.undefined) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.void,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
};
ZodVoid2.create = (params) => {
  return new ZodVoid2({
    typeName: ZodFirstPartyTypeKind2.ZodVoid,
    ...processCreateParams(params)
  });
};
var ZodArray2 = class _ZodArray extends ZodType2 {
  _parse(input) {
    const { ctx, status } = this._processInputParams(input);
    const def = this._def;
    if (ctx.parsedType !== ZodParsedType.array) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.array,
        received: ctx.parsedType
      });
      return INVALID;
    }
    if (def.exactLength !== null) {
      const tooBig = ctx.data.length > def.exactLength.value;
      const tooSmall = ctx.data.length < def.exactLength.value;
      if (tooBig || tooSmall) {
        addIssueToContext(ctx, {
          code: tooBig ? ZodIssueCode2.too_big : ZodIssueCode2.too_small,
          minimum: tooSmall ? def.exactLength.value : void 0,
          maximum: tooBig ? def.exactLength.value : void 0,
          type: "array",
          inclusive: true,
          exact: true,
          message: def.exactLength.message
        });
        status.dirty();
      }
    }
    if (def.minLength !== null) {
      if (ctx.data.length < def.minLength.value) {
        addIssueToContext(ctx, {
          code: ZodIssueCode2.too_small,
          minimum: def.minLength.value,
          type: "array",
          inclusive: true,
          exact: false,
          message: def.minLength.message
        });
        status.dirty();
      }
    }
    if (def.maxLength !== null) {
      if (ctx.data.length > def.maxLength.value) {
        addIssueToContext(ctx, {
          code: ZodIssueCode2.too_big,
          maximum: def.maxLength.value,
          type: "array",
          inclusive: true,
          exact: false,
          message: def.maxLength.message
        });
        status.dirty();
      }
    }
    if (ctx.common.async) {
      return Promise.all([...ctx.data].map((item, i2) => {
        return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i2));
      })).then((result2) => {
        return ParseStatus.mergeArray(status, result2);
      });
    }
    const result = [...ctx.data].map((item, i2) => {
      return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i2));
    });
    return ParseStatus.mergeArray(status, result);
  }
  get element() {
    return this._def.type;
  }
  min(minLength, message) {
    return new _ZodArray({
      ...this._def,
      minLength: { value: minLength, message: errorUtil.toString(message) }
    });
  }
  max(maxLength, message) {
    return new _ZodArray({
      ...this._def,
      maxLength: { value: maxLength, message: errorUtil.toString(message) }
    });
  }
  length(len, message) {
    return new _ZodArray({
      ...this._def,
      exactLength: { value: len, message: errorUtil.toString(message) }
    });
  }
  nonempty(message) {
    return this.min(1, message);
  }
};
ZodArray2.create = (schema, params) => {
  return new ZodArray2({
    type: schema,
    minLength: null,
    maxLength: null,
    exactLength: null,
    typeName: ZodFirstPartyTypeKind2.ZodArray,
    ...processCreateParams(params)
  });
};
function deepPartialify(schema) {
  if (schema instanceof ZodObject2) {
    const newShape = {};
    for (const key in schema.shape) {
      const fieldSchema = schema.shape[key];
      newShape[key] = ZodOptional2.create(deepPartialify(fieldSchema));
    }
    return new ZodObject2({
      ...schema._def,
      shape: () => newShape
    });
  } else if (schema instanceof ZodArray2) {
    return new ZodArray2({
      ...schema._def,
      type: deepPartialify(schema.element)
    });
  } else if (schema instanceof ZodOptional2) {
    return ZodOptional2.create(deepPartialify(schema.unwrap()));
  } else if (schema instanceof ZodNullable2) {
    return ZodNullable2.create(deepPartialify(schema.unwrap()));
  } else if (schema instanceof ZodTuple2) {
    return ZodTuple2.create(schema.items.map((item) => deepPartialify(item)));
  } else {
    return schema;
  }
}
var ZodObject2 = class _ZodObject extends ZodType2 {
  constructor() {
    super(...arguments);
    this._cached = null;
    this.nonstrict = this.passthrough;
    this.augment = this.extend;
  }
  _getCached() {
    if (this._cached !== null)
      return this._cached;
    const shape = this._def.shape();
    const keys = util.objectKeys(shape);
    this._cached = { shape, keys };
    return this._cached;
  }
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.object) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.object,
        received: ctx2.parsedType
      });
      return INVALID;
    }
    const { status, ctx } = this._processInputParams(input);
    const { shape, keys: shapeKeys } = this._getCached();
    const extraKeys = [];
    if (!(this._def.catchall instanceof ZodNever2 && this._def.unknownKeys === "strip")) {
      for (const key in ctx.data) {
        if (!shapeKeys.includes(key)) {
          extraKeys.push(key);
        }
      }
    }
    const pairs = [];
    for (const key of shapeKeys) {
      const keyValidator = shape[key];
      const value = ctx.data[key];
      pairs.push({
        key: { status: "valid", value: key },
        value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),
        alwaysSet: key in ctx.data
      });
    }
    if (this._def.catchall instanceof ZodNever2) {
      const unknownKeys = this._def.unknownKeys;
      if (unknownKeys === "passthrough") {
        for (const key of extraKeys) {
          pairs.push({
            key: { status: "valid", value: key },
            value: { status: "valid", value: ctx.data[key] }
          });
        }
      } else if (unknownKeys === "strict") {
        if (extraKeys.length > 0) {
          addIssueToContext(ctx, {
            code: ZodIssueCode2.unrecognized_keys,
            keys: extraKeys
          });
          status.dirty();
        }
      } else if (unknownKeys === "strip") {
      } else {
        throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);
      }
    } else {
      const catchall = this._def.catchall;
      for (const key of extraKeys) {
        const value = ctx.data[key];
        pairs.push({
          key: { status: "valid", value: key },
          value: catchall._parse(
            new ParseInputLazyPath(ctx, value, ctx.path, key)
            //, ctx.child(key), value, getParsedType(value)
          ),
          alwaysSet: key in ctx.data
        });
      }
    }
    if (ctx.common.async) {
      return Promise.resolve().then(async () => {
        const syncPairs = [];
        for (const pair of pairs) {
          const key = await pair.key;
          const value = await pair.value;
          syncPairs.push({
            key,
            value,
            alwaysSet: pair.alwaysSet
          });
        }
        return syncPairs;
      }).then((syncPairs) => {
        return ParseStatus.mergeObjectSync(status, syncPairs);
      });
    } else {
      return ParseStatus.mergeObjectSync(status, pairs);
    }
  }
  get shape() {
    return this._def.shape();
  }
  strict(message) {
    errorUtil.errToObj;
    return new _ZodObject({
      ...this._def,
      unknownKeys: "strict",
      ...message !== void 0 ? {
        errorMap: (issue2, ctx) => {
          const defaultError = this._def.errorMap?.(issue2, ctx).message ?? ctx.defaultError;
          if (issue2.code === "unrecognized_keys")
            return {
              message: errorUtil.errToObj(message).message ?? defaultError
            };
          return {
            message: defaultError
          };
        }
      } : {}
    });
  }
  strip() {
    return new _ZodObject({
      ...this._def,
      unknownKeys: "strip"
    });
  }
  passthrough() {
    return new _ZodObject({
      ...this._def,
      unknownKeys: "passthrough"
    });
  }
  // const AugmentFactory =
  //   <Def extends ZodObjectDef>(def: Def) =>
  //   <Augmentation extends ZodRawShape>(
  //     augmentation: Augmentation
  //   ): ZodObject<
  //     extendShape<ReturnType<Def["shape"]>, Augmentation>,
  //     Def["unknownKeys"],
  //     Def["catchall"]
  //   > => {
  //     return new ZodObject({
  //       ...def,
  //       shape: () => ({
  //         ...def.shape(),
  //         ...augmentation,
  //       }),
  //     }) as any;
  //   };
  extend(augmentation) {
    return new _ZodObject({
      ...this._def,
      shape: () => ({
        ...this._def.shape(),
        ...augmentation
      })
    });
  }
  /**
   * Prior to zod@1.0.12 there was a bug in the
   * inferred type of merged objects. Please
   * upgrade if you are experiencing issues.
   */
  merge(merging) {
    const merged = new _ZodObject({
      unknownKeys: merging._def.unknownKeys,
      catchall: merging._def.catchall,
      shape: () => ({
        ...this._def.shape(),
        ...merging._def.shape()
      }),
      typeName: ZodFirstPartyTypeKind2.ZodObject
    });
    return merged;
  }
  // merge<
  //   Incoming extends AnyZodObject,
  //   Augmentation extends Incoming["shape"],
  //   NewOutput extends {
  //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation
  //       ? Augmentation[k]["_output"]
  //       : k extends keyof Output
  //       ? Output[k]
  //       : never;
  //   },
  //   NewInput extends {
  //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation
  //       ? Augmentation[k]["_input"]
  //       : k extends keyof Input
  //       ? Input[k]
  //       : never;
  //   }
  // >(
  //   merging: Incoming
  // ): ZodObject<
  //   extendShape<T, ReturnType<Incoming["_def"]["shape"]>>,
  //   Incoming["_def"]["unknownKeys"],
  //   Incoming["_def"]["catchall"],
  //   NewOutput,
  //   NewInput
  // > {
  //   const merged: any = new ZodObject({
  //     unknownKeys: merging._def.unknownKeys,
  //     catchall: merging._def.catchall,
  //     shape: () =>
  //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),
  //     typeName: ZodFirstPartyTypeKind.ZodObject,
  //   }) as any;
  //   return merged;
  // }
  setKey(key, schema) {
    return this.augment({ [key]: schema });
  }
  // merge<Incoming extends AnyZodObject>(
  //   merging: Incoming
  // ): //ZodObject<T & Incoming["_shape"], UnknownKeys, Catchall> = (merging) => {
  // ZodObject<
  //   extendShape<T, ReturnType<Incoming["_def"]["shape"]>>,
  //   Incoming["_def"]["unknownKeys"],
  //   Incoming["_def"]["catchall"]
  // > {
  //   // const mergedShape = objectUtil.mergeShapes(
  //   //   this._def.shape(),
  //   //   merging._def.shape()
  //   // );
  //   const merged: any = new ZodObject({
  //     unknownKeys: merging._def.unknownKeys,
  //     catchall: merging._def.catchall,
  //     shape: () =>
  //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),
  //     typeName: ZodFirstPartyTypeKind.ZodObject,
  //   }) as any;
  //   return merged;
  // }
  catchall(index) {
    return new _ZodObject({
      ...this._def,
      catchall: index
    });
  }
  pick(mask) {
    const shape = {};
    for (const key of util.objectKeys(mask)) {
      if (mask[key] && this.shape[key]) {
        shape[key] = this.shape[key];
      }
    }
    return new _ZodObject({
      ...this._def,
      shape: () => shape
    });
  }
  omit(mask) {
    const shape = {};
    for (const key of util.objectKeys(this.shape)) {
      if (!mask[key]) {
        shape[key] = this.shape[key];
      }
    }
    return new _ZodObject({
      ...this._def,
      shape: () => shape
    });
  }
  /**
   * @deprecated
   */
  deepPartial() {
    return deepPartialify(this);
  }
  partial(mask) {
    const newShape = {};
    for (const key of util.objectKeys(this.shape)) {
      const fieldSchema = this.shape[key];
      if (mask && !mask[key]) {
        newShape[key] = fieldSchema;
      } else {
        newShape[key] = fieldSchema.optional();
      }
    }
    return new _ZodObject({
      ...this._def,
      shape: () => newShape
    });
  }
  required(mask) {
    const newShape = {};
    for (const key of util.objectKeys(this.shape)) {
      if (mask && !mask[key]) {
        newShape[key] = this.shape[key];
      } else {
        const fieldSchema = this.shape[key];
        let newField = fieldSchema;
        while (newField instanceof ZodOptional2) {
          newField = newField._def.innerType;
        }
        newShape[key] = newField;
      }
    }
    return new _ZodObject({
      ...this._def,
      shape: () => newShape
    });
  }
  keyof() {
    return createZodEnum(util.objectKeys(this.shape));
  }
};
ZodObject2.create = (shape, params) => {
  return new ZodObject2({
    shape: () => shape,
    unknownKeys: "strip",
    catchall: ZodNever2.create(),
    typeName: ZodFirstPartyTypeKind2.ZodObject,
    ...processCreateParams(params)
  });
};
ZodObject2.strictCreate = (shape, params) => {
  return new ZodObject2({
    shape: () => shape,
    unknownKeys: "strict",
    catchall: ZodNever2.create(),
    typeName: ZodFirstPartyTypeKind2.ZodObject,
    ...processCreateParams(params)
  });
};
ZodObject2.lazycreate = (shape, params) => {
  return new ZodObject2({
    shape,
    unknownKeys: "strip",
    catchall: ZodNever2.create(),
    typeName: ZodFirstPartyTypeKind2.ZodObject,
    ...processCreateParams(params)
  });
};
var ZodUnion2 = class extends ZodType2 {
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    const options = this._def.options;
    function handleResults(results) {
      for (const result of results) {
        if (result.result.status === "valid") {
          return result.result;
        }
      }
      for (const result of results) {
        if (result.result.status === "dirty") {
          ctx.common.issues.push(...result.ctx.common.issues);
          return result.result;
        }
      }
      const unionErrors = results.map((result) => new ZodError2(result.ctx.common.issues));
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_union,
        unionErrors
      });
      return INVALID;
    }
    if (ctx.common.async) {
      return Promise.all(options.map(async (option) => {
        const childCtx = {
          ...ctx,
          common: {
            ...ctx.common,
            issues: []
          },
          parent: null
        };
        return {
          result: await option._parseAsync({
            data: ctx.data,
            path: ctx.path,
            parent: childCtx
          }),
          ctx: childCtx
        };
      })).then(handleResults);
    } else {
      let dirty = void 0;
      const issues = [];
      for (const option of options) {
        const childCtx = {
          ...ctx,
          common: {
            ...ctx.common,
            issues: []
          },
          parent: null
        };
        const result = option._parseSync({
          data: ctx.data,
          path: ctx.path,
          parent: childCtx
        });
        if (result.status === "valid") {
          return result;
        } else if (result.status === "dirty" && !dirty) {
          dirty = { result, ctx: childCtx };
        }
        if (childCtx.common.issues.length) {
          issues.push(childCtx.common.issues);
        }
      }
      if (dirty) {
        ctx.common.issues.push(...dirty.ctx.common.issues);
        return dirty.result;
      }
      const unionErrors = issues.map((issues2) => new ZodError2(issues2));
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_union,
        unionErrors
      });
      return INVALID;
    }
  }
  get options() {
    return this._def.options;
  }
};
ZodUnion2.create = (types2, params) => {
  return new ZodUnion2({
    options: types2,
    typeName: ZodFirstPartyTypeKind2.ZodUnion,
    ...processCreateParams(params)
  });
};
var getDiscriminator = (type) => {
  if (type instanceof ZodLazy2) {
    return getDiscriminator(type.schema);
  } else if (type instanceof ZodEffects) {
    return getDiscriminator(type.innerType());
  } else if (type instanceof ZodLiteral2) {
    return [type.value];
  } else if (type instanceof ZodEnum2) {
    return type.options;
  } else if (type instanceof ZodNativeEnum) {
    return util.objectValues(type.enum);
  } else if (type instanceof ZodDefault2) {
    return getDiscriminator(type._def.innerType);
  } else if (type instanceof ZodUndefined2) {
    return [void 0];
  } else if (type instanceof ZodNull2) {
    return [null];
  } else if (type instanceof ZodOptional2) {
    return [void 0, ...getDiscriminator(type.unwrap())];
  } else if (type instanceof ZodNullable2) {
    return [null, ...getDiscriminator(type.unwrap())];
  } else if (type instanceof ZodBranded) {
    return getDiscriminator(type.unwrap());
  } else if (type instanceof ZodReadonly2) {
    return getDiscriminator(type.unwrap());
  } else if (type instanceof ZodCatch2) {
    return getDiscriminator(type._def.innerType);
  } else {
    return [];
  }
};
var ZodDiscriminatedUnion2 = class _ZodDiscriminatedUnion extends ZodType2 {
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.object) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.object,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const discriminator = this.discriminator;
    const discriminatorValue = ctx.data[discriminator];
    const option = this.optionsMap.get(discriminatorValue);
    if (!option) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_union_discriminator,
        options: Array.from(this.optionsMap.keys()),
        path: [discriminator]
      });
      return INVALID;
    }
    if (ctx.common.async) {
      return option._parseAsync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      });
    } else {
      return option._parseSync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      });
    }
  }
  get discriminator() {
    return this._def.discriminator;
  }
  get options() {
    return this._def.options;
  }
  get optionsMap() {
    return this._def.optionsMap;
  }
  /**
   * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.
   * However, it only allows a union of objects, all of which need to share a discriminator property. This property must
   * have a different value for each object in the union.
   * @param discriminator the name of the discriminator property
   * @param types an array of object schemas
   * @param params
   */
  static create(discriminator, options, params) {
    const optionsMap = /* @__PURE__ */ new Map();
    for (const type of options) {
      const discriminatorValues = getDiscriminator(type.shape[discriminator]);
      if (!discriminatorValues.length) {
        throw new Error(`A discriminator value for key \`${discriminator}\` could not be extracted from all schema options`);
      }
      for (const value of discriminatorValues) {
        if (optionsMap.has(value)) {
          throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);
        }
        optionsMap.set(value, type);
      }
    }
    return new _ZodDiscriminatedUnion({
      typeName: ZodFirstPartyTypeKind2.ZodDiscriminatedUnion,
      discriminator,
      options,
      optionsMap,
      ...processCreateParams(params)
    });
  }
};
function mergeValues2(a2, b) {
  const aType = getParsedType2(a2);
  const bType = getParsedType2(b);
  if (a2 === b) {
    return { valid: true, data: a2 };
  } else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {
    const bKeys = util.objectKeys(b);
    const sharedKeys = util.objectKeys(a2).filter((key) => bKeys.indexOf(key) !== -1);
    const newObj = { ...a2, ...b };
    for (const key of sharedKeys) {
      const sharedValue = mergeValues2(a2[key], b[key]);
      if (!sharedValue.valid) {
        return { valid: false };
      }
      newObj[key] = sharedValue.data;
    }
    return { valid: true, data: newObj };
  } else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {
    if (a2.length !== b.length) {
      return { valid: false };
    }
    const newArray = [];
    for (let index = 0; index < a2.length; index++) {
      const itemA = a2[index];
      const itemB = b[index];
      const sharedValue = mergeValues2(itemA, itemB);
      if (!sharedValue.valid) {
        return { valid: false };
      }
      newArray.push(sharedValue.data);
    }
    return { valid: true, data: newArray };
  } else if (aType === ZodParsedType.date && bType === ZodParsedType.date && +a2 === +b) {
    return { valid: true, data: a2 };
  } else {
    return { valid: false };
  }
}
var ZodIntersection2 = class extends ZodType2 {
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    const handleParsed = (parsedLeft, parsedRight) => {
      if (isAborted(parsedLeft) || isAborted(parsedRight)) {
        return INVALID;
      }
      const merged = mergeValues2(parsedLeft.value, parsedRight.value);
      if (!merged.valid) {
        addIssueToContext(ctx, {
          code: ZodIssueCode2.invalid_intersection_types
        });
        return INVALID;
      }
      if (isDirty(parsedLeft) || isDirty(parsedRight)) {
        status.dirty();
      }
      return { status: status.value, value: merged.data };
    };
    if (ctx.common.async) {
      return Promise.all([
        this._def.left._parseAsync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        }),
        this._def.right._parseAsync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        })
      ]).then(([left, right]) => handleParsed(left, right));
    } else {
      return handleParsed(this._def.left._parseSync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      }), this._def.right._parseSync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      }));
    }
  }
};
ZodIntersection2.create = (left, right, params) => {
  return new ZodIntersection2({
    left,
    right,
    typeName: ZodFirstPartyTypeKind2.ZodIntersection,
    ...processCreateParams(params)
  });
};
var ZodTuple2 = class _ZodTuple extends ZodType2 {
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.array) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.array,
        received: ctx.parsedType
      });
      return INVALID;
    }
    if (ctx.data.length < this._def.items.length) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.too_small,
        minimum: this._def.items.length,
        inclusive: true,
        exact: false,
        type: "array"
      });
      return INVALID;
    }
    const rest = this._def.rest;
    if (!rest && ctx.data.length > this._def.items.length) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.too_big,
        maximum: this._def.items.length,
        inclusive: true,
        exact: false,
        type: "array"
      });
      status.dirty();
    }
    const items = [...ctx.data].map((item, itemIndex) => {
      const schema = this._def.items[itemIndex] || this._def.rest;
      if (!schema)
        return null;
      return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));
    }).filter((x) => !!x);
    if (ctx.common.async) {
      return Promise.all(items).then((results) => {
        return ParseStatus.mergeArray(status, results);
      });
    } else {
      return ParseStatus.mergeArray(status, items);
    }
  }
  get items() {
    return this._def.items;
  }
  rest(rest) {
    return new _ZodTuple({
      ...this._def,
      rest
    });
  }
};
ZodTuple2.create = (schemas, params) => {
  if (!Array.isArray(schemas)) {
    throw new Error("You must pass an array of schemas to z.tuple([ ... ])");
  }
  return new ZodTuple2({
    items: schemas,
    typeName: ZodFirstPartyTypeKind2.ZodTuple,
    rest: null,
    ...processCreateParams(params)
  });
};
var ZodRecord2 = class _ZodRecord extends ZodType2 {
  get keySchema() {
    return this._def.keyType;
  }
  get valueSchema() {
    return this._def.valueType;
  }
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.object) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.object,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const pairs = [];
    const keyType = this._def.keyType;
    const valueType = this._def.valueType;
    for (const key in ctx.data) {
      pairs.push({
        key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),
        value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),
        alwaysSet: key in ctx.data
      });
    }
    if (ctx.common.async) {
      return ParseStatus.mergeObjectAsync(status, pairs);
    } else {
      return ParseStatus.mergeObjectSync(status, pairs);
    }
  }
  get element() {
    return this._def.valueType;
  }
  static create(first, second, third) {
    if (second instanceof ZodType2) {
      return new _ZodRecord({
        keyType: first,
        valueType: second,
        typeName: ZodFirstPartyTypeKind2.ZodRecord,
        ...processCreateParams(third)
      });
    }
    return new _ZodRecord({
      keyType: ZodString2.create(),
      valueType: first,
      typeName: ZodFirstPartyTypeKind2.ZodRecord,
      ...processCreateParams(second)
    });
  }
};
var ZodMap2 = class extends ZodType2 {
  get keySchema() {
    return this._def.keyType;
  }
  get valueSchema() {
    return this._def.valueType;
  }
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.map) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.map,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const keyType = this._def.keyType;
    const valueType = this._def.valueType;
    const pairs = [...ctx.data.entries()].map(([key, value], index) => {
      return {
        key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index, "key"])),
        value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index, "value"]))
      };
    });
    if (ctx.common.async) {
      const finalMap = /* @__PURE__ */ new Map();
      return Promise.resolve().then(async () => {
        for (const pair of pairs) {
          const key = await pair.key;
          const value = await pair.value;
          if (key.status === "aborted" || value.status === "aborted") {
            return INVALID;
          }
          if (key.status === "dirty" || value.status === "dirty") {
            status.dirty();
          }
          finalMap.set(key.value, value.value);
        }
        return { status: status.value, value: finalMap };
      });
    } else {
      const finalMap = /* @__PURE__ */ new Map();
      for (const pair of pairs) {
        const key = pair.key;
        const value = pair.value;
        if (key.status === "aborted" || value.status === "aborted") {
          return INVALID;
        }
        if (key.status === "dirty" || value.status === "dirty") {
          status.dirty();
        }
        finalMap.set(key.value, value.value);
      }
      return { status: status.value, value: finalMap };
    }
  }
};
ZodMap2.create = (keyType, valueType, params) => {
  return new ZodMap2({
    valueType,
    keyType,
    typeName: ZodFirstPartyTypeKind2.ZodMap,
    ...processCreateParams(params)
  });
};
var ZodSet2 = class _ZodSet extends ZodType2 {
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.set) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.set,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const def = this._def;
    if (def.minSize !== null) {
      if (ctx.data.size < def.minSize.value) {
        addIssueToContext(ctx, {
          code: ZodIssueCode2.too_small,
          minimum: def.minSize.value,
          type: "set",
          inclusive: true,
          exact: false,
          message: def.minSize.message
        });
        status.dirty();
      }
    }
    if (def.maxSize !== null) {
      if (ctx.data.size > def.maxSize.value) {
        addIssueToContext(ctx, {
          code: ZodIssueCode2.too_big,
          maximum: def.maxSize.value,
          type: "set",
          inclusive: true,
          exact: false,
          message: def.maxSize.message
        });
        status.dirty();
      }
    }
    const valueType = this._def.valueType;
    function finalizeSet(elements2) {
      const parsedSet = /* @__PURE__ */ new Set();
      for (const element of elements2) {
        if (element.status === "aborted")
          return INVALID;
        if (element.status === "dirty")
          status.dirty();
        parsedSet.add(element.value);
      }
      return { status: status.value, value: parsedSet };
    }
    const elements = [...ctx.data.values()].map((item, i2) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i2)));
    if (ctx.common.async) {
      return Promise.all(elements).then((elements2) => finalizeSet(elements2));
    } else {
      return finalizeSet(elements);
    }
  }
  min(minSize, message) {
    return new _ZodSet({
      ...this._def,
      minSize: { value: minSize, message: errorUtil.toString(message) }
    });
  }
  max(maxSize, message) {
    return new _ZodSet({
      ...this._def,
      maxSize: { value: maxSize, message: errorUtil.toString(message) }
    });
  }
  size(size, message) {
    return this.min(size, message).max(size, message);
  }
  nonempty(message) {
    return this.min(1, message);
  }
};
ZodSet2.create = (valueType, params) => {
  return new ZodSet2({
    valueType,
    minSize: null,
    maxSize: null,
    typeName: ZodFirstPartyTypeKind2.ZodSet,
    ...processCreateParams(params)
  });
};
var ZodFunction2 = class _ZodFunction extends ZodType2 {
  constructor() {
    super(...arguments);
    this.validate = this.implement;
  }
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.function) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.function,
        received: ctx.parsedType
      });
      return INVALID;
    }
    function makeArgsIssue(args, error45) {
      return makeIssue({
        data: args,
        path: ctx.path,
        errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap2(), en_default2].filter((x) => !!x),
        issueData: {
          code: ZodIssueCode2.invalid_arguments,
          argumentsError: error45
        }
      });
    }
    function makeReturnsIssue(returns, error45) {
      return makeIssue({
        data: returns,
        path: ctx.path,
        errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap2(), en_default2].filter((x) => !!x),
        issueData: {
          code: ZodIssueCode2.invalid_return_type,
          returnTypeError: error45
        }
      });
    }
    const params = { errorMap: ctx.common.contextualErrorMap };
    const fn = ctx.data;
    if (this._def.returns instanceof ZodPromise2) {
      const me = this;
      return OK(async function(...args) {
        const error45 = new ZodError2([]);
        const parsedArgs = await me._def.args.parseAsync(args, params).catch((e2) => {
          error45.addIssue(makeArgsIssue(args, e2));
          throw error45;
        });
        const result = await Reflect.apply(fn, this, parsedArgs);
        const parsedReturns = await me._def.returns._def.type.parseAsync(result, params).catch((e2) => {
          error45.addIssue(makeReturnsIssue(result, e2));
          throw error45;
        });
        return parsedReturns;
      });
    } else {
      const me = this;
      return OK(function(...args) {
        const parsedArgs = me._def.args.safeParse(args, params);
        if (!parsedArgs.success) {
          throw new ZodError2([makeArgsIssue(args, parsedArgs.error)]);
        }
        const result = Reflect.apply(fn, this, parsedArgs.data);
        const parsedReturns = me._def.returns.safeParse(result, params);
        if (!parsedReturns.success) {
          throw new ZodError2([makeReturnsIssue(result, parsedReturns.error)]);
        }
        return parsedReturns.data;
      });
    }
  }
  parameters() {
    return this._def.args;
  }
  returnType() {
    return this._def.returns;
  }
  args(...items) {
    return new _ZodFunction({
      ...this._def,
      args: ZodTuple2.create(items).rest(ZodUnknown2.create())
    });
  }
  returns(returnType) {
    return new _ZodFunction({
      ...this._def,
      returns: returnType
    });
  }
  implement(func) {
    const validatedFunc = this.parse(func);
    return validatedFunc;
  }
  strictImplement(func) {
    const validatedFunc = this.parse(func);
    return validatedFunc;
  }
  static create(args, returns, params) {
    return new _ZodFunction({
      args: args ? args : ZodTuple2.create([]).rest(ZodUnknown2.create()),
      returns: returns || ZodUnknown2.create(),
      typeName: ZodFirstPartyTypeKind2.ZodFunction,
      ...processCreateParams(params)
    });
  }
};
var ZodLazy2 = class extends ZodType2 {
  get schema() {
    return this._def.getter();
  }
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    const lazySchema = this._def.getter();
    return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });
  }
};
ZodLazy2.create = (getter, params) => {
  return new ZodLazy2({
    getter,
    typeName: ZodFirstPartyTypeKind2.ZodLazy,
    ...processCreateParams(params)
  });
};
var ZodLiteral2 = class extends ZodType2 {
  _parse(input) {
    if (input.data !== this._def.value) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        received: ctx.data,
        code: ZodIssueCode2.invalid_literal,
        expected: this._def.value
      });
      return INVALID;
    }
    return { status: "valid", value: input.data };
  }
  get value() {
    return this._def.value;
  }
};
ZodLiteral2.create = (value, params) => {
  return new ZodLiteral2({
    value,
    typeName: ZodFirstPartyTypeKind2.ZodLiteral,
    ...processCreateParams(params)
  });
};
function createZodEnum(values, params) {
  return new ZodEnum2({
    values,
    typeName: ZodFirstPartyTypeKind2.ZodEnum,
    ...processCreateParams(params)
  });
}
var ZodEnum2 = class _ZodEnum extends ZodType2 {
  _parse(input) {
    if (typeof input.data !== "string") {
      const ctx = this._getOrReturnCtx(input);
      const expectedValues = this._def.values;
      addIssueToContext(ctx, {
        expected: util.joinValues(expectedValues),
        received: ctx.parsedType,
        code: ZodIssueCode2.invalid_type
      });
      return INVALID;
    }
    if (!this._cache) {
      this._cache = new Set(this._def.values);
    }
    if (!this._cache.has(input.data)) {
      const ctx = this._getOrReturnCtx(input);
      const expectedValues = this._def.values;
      addIssueToContext(ctx, {
        received: ctx.data,
        code: ZodIssueCode2.invalid_enum_value,
        options: expectedValues
      });
      return INVALID;
    }
    return OK(input.data);
  }
  get options() {
    return this._def.values;
  }
  get enum() {
    const enumValues = {};
    for (const val of this._def.values) {
      enumValues[val] = val;
    }
    return enumValues;
  }
  get Values() {
    const enumValues = {};
    for (const val of this._def.values) {
      enumValues[val] = val;
    }
    return enumValues;
  }
  get Enum() {
    const enumValues = {};
    for (const val of this._def.values) {
      enumValues[val] = val;
    }
    return enumValues;
  }
  extract(values, newDef = this._def) {
    return _ZodEnum.create(values, {
      ...this._def,
      ...newDef
    });
  }
  exclude(values, newDef = this._def) {
    return _ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {
      ...this._def,
      ...newDef
    });
  }
};
ZodEnum2.create = createZodEnum;
var ZodNativeEnum = class extends ZodType2 {
  _parse(input) {
    const nativeEnumValues = util.getValidEnumValues(this._def.values);
    const ctx = this._getOrReturnCtx(input);
    if (ctx.parsedType !== ZodParsedType.string && ctx.parsedType !== ZodParsedType.number) {
      const expectedValues = util.objectValues(nativeEnumValues);
      addIssueToContext(ctx, {
        expected: util.joinValues(expectedValues),
        received: ctx.parsedType,
        code: ZodIssueCode2.invalid_type
      });
      return INVALID;
    }
    if (!this._cache) {
      this._cache = new Set(util.getValidEnumValues(this._def.values));
    }
    if (!this._cache.has(input.data)) {
      const expectedValues = util.objectValues(nativeEnumValues);
      addIssueToContext(ctx, {
        received: ctx.data,
        code: ZodIssueCode2.invalid_enum_value,
        options: expectedValues
      });
      return INVALID;
    }
    return OK(input.data);
  }
  get enum() {
    return this._def.values;
  }
};
ZodNativeEnum.create = (values, params) => {
  return new ZodNativeEnum({
    values,
    typeName: ZodFirstPartyTypeKind2.ZodNativeEnum,
    ...processCreateParams(params)
  });
};
var ZodPromise2 = class extends ZodType2 {
  unwrap() {
    return this._def.type;
  }
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.promise && ctx.common.async === false) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.promise,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const promisified = ctx.parsedType === ZodParsedType.promise ? ctx.data : Promise.resolve(ctx.data);
    return OK(promisified.then((data) => {
      return this._def.type.parseAsync(data, {
        path: ctx.path,
        errorMap: ctx.common.contextualErrorMap
      });
    }));
  }
};
ZodPromise2.create = (schema, params) => {
  return new ZodPromise2({
    type: schema,
    typeName: ZodFirstPartyTypeKind2.ZodPromise,
    ...processCreateParams(params)
  });
};
var ZodEffects = class extends ZodType2 {
  innerType() {
    return this._def.schema;
  }
  sourceType() {
    return this._def.schema._def.typeName === ZodFirstPartyTypeKind2.ZodEffects ? this._def.schema.sourceType() : this._def.schema;
  }
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    const effect = this._def.effect || null;
    const checkCtx = {
      addIssue: (arg) => {
        addIssueToContext(ctx, arg);
        if (arg.fatal) {
          status.abort();
        } else {
          status.dirty();
        }
      },
      get path() {
        return ctx.path;
      }
    };
    checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);
    if (effect.type === "preprocess") {
      const processed = effect.transform(ctx.data, checkCtx);
      if (ctx.common.async) {
        return Promise.resolve(processed).then(async (processed2) => {
          if (status.value === "aborted")
            return INVALID;
          const result = await this._def.schema._parseAsync({
            data: processed2,
            path: ctx.path,
            parent: ctx
          });
          if (result.status === "aborted")
            return INVALID;
          if (result.status === "dirty")
            return DIRTY(result.value);
          if (status.value === "dirty")
            return DIRTY(result.value);
          return result;
        });
      } else {
        if (status.value === "aborted")
          return INVALID;
        const result = this._def.schema._parseSync({
          data: processed,
          path: ctx.path,
          parent: ctx
        });
        if (result.status === "aborted")
          return INVALID;
        if (result.status === "dirty")
          return DIRTY(result.value);
        if (status.value === "dirty")
          return DIRTY(result.value);
        return result;
      }
    }
    if (effect.type === "refinement") {
      const executeRefinement = (acc) => {
        const result = effect.refinement(acc, checkCtx);
        if (ctx.common.async) {
          return Promise.resolve(result);
        }
        if (result instanceof Promise) {
          throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");
        }
        return acc;
      };
      if (ctx.common.async === false) {
        const inner = this._def.schema._parseSync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        });
        if (inner.status === "aborted")
          return INVALID;
        if (inner.status === "dirty")
          status.dirty();
        executeRefinement(inner.value);
        return { status: status.value, value: inner.value };
      } else {
        return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((inner) => {
          if (inner.status === "aborted")
            return INVALID;
          if (inner.status === "dirty")
            status.dirty();
          return executeRefinement(inner.value).then(() => {
            return { status: status.value, value: inner.value };
          });
        });
      }
    }
    if (effect.type === "transform") {
      if (ctx.common.async === false) {
        const base = this._def.schema._parseSync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        });
        if (!isValid(base))
          return INVALID;
        const result = effect.transform(base.value, checkCtx);
        if (result instanceof Promise) {
          throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);
        }
        return { status: status.value, value: result };
      } else {
        return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((base) => {
          if (!isValid(base))
            return INVALID;
          return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({
            status: status.value,
            value: result
          }));
        });
      }
    }
    util.assertNever(effect);
  }
};
ZodEffects.create = (schema, effect, params) => {
  return new ZodEffects({
    schema,
    typeName: ZodFirstPartyTypeKind2.ZodEffects,
    effect,
    ...processCreateParams(params)
  });
};
ZodEffects.createWithPreprocess = (preprocess2, schema, params) => {
  return new ZodEffects({
    schema,
    effect: { type: "preprocess", transform: preprocess2 },
    typeName: ZodFirstPartyTypeKind2.ZodEffects,
    ...processCreateParams(params)
  });
};
var ZodOptional2 = class extends ZodType2 {
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 === ZodParsedType.undefined) {
      return OK(void 0);
    }
    return this._def.innerType._parse(input);
  }
  unwrap() {
    return this._def.innerType;
  }
};
ZodOptional2.create = (type, params) => {
  return new ZodOptional2({
    innerType: type,
    typeName: ZodFirstPartyTypeKind2.ZodOptional,
    ...processCreateParams(params)
  });
};
var ZodNullable2 = class extends ZodType2 {
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 === ZodParsedType.null) {
      return OK(null);
    }
    return this._def.innerType._parse(input);
  }
  unwrap() {
    return this._def.innerType;
  }
};
ZodNullable2.create = (type, params) => {
  return new ZodNullable2({
    innerType: type,
    typeName: ZodFirstPartyTypeKind2.ZodNullable,
    ...processCreateParams(params)
  });
};
var ZodDefault2 = class extends ZodType2 {
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    let data = ctx.data;
    if (ctx.parsedType === ZodParsedType.undefined) {
      data = this._def.defaultValue();
    }
    return this._def.innerType._parse({
      data,
      path: ctx.path,
      parent: ctx
    });
  }
  removeDefault() {
    return this._def.innerType;
  }
};
ZodDefault2.create = (type, params) => {
  return new ZodDefault2({
    innerType: type,
    typeName: ZodFirstPartyTypeKind2.ZodDefault,
    defaultValue: typeof params.default === "function" ? params.default : () => params.default,
    ...processCreateParams(params)
  });
};
var ZodCatch2 = class extends ZodType2 {
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    const newCtx = {
      ...ctx,
      common: {
        ...ctx.common,
        issues: []
      }
    };
    const result = this._def.innerType._parse({
      data: newCtx.data,
      path: newCtx.path,
      parent: {
        ...newCtx
      }
    });
    if (isAsync(result)) {
      return result.then((result2) => {
        return {
          status: "valid",
          value: result2.status === "valid" ? result2.value : this._def.catchValue({
            get error() {
              return new ZodError2(newCtx.common.issues);
            },
            input: newCtx.data
          })
        };
      });
    } else {
      return {
        status: "valid",
        value: result.status === "valid" ? result.value : this._def.catchValue({
          get error() {
            return new ZodError2(newCtx.common.issues);
          },
          input: newCtx.data
        })
      };
    }
  }
  removeCatch() {
    return this._def.innerType;
  }
};
ZodCatch2.create = (type, params) => {
  return new ZodCatch2({
    innerType: type,
    typeName: ZodFirstPartyTypeKind2.ZodCatch,
    catchValue: typeof params.catch === "function" ? params.catch : () => params.catch,
    ...processCreateParams(params)
  });
};
var ZodNaN2 = class extends ZodType2 {
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.nan) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.nan,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return { status: "valid", value: input.data };
  }
};
ZodNaN2.create = (params) => {
  return new ZodNaN2({
    typeName: ZodFirstPartyTypeKind2.ZodNaN,
    ...processCreateParams(params)
  });
};
var BRAND = Symbol("zod_brand");
var ZodBranded = class extends ZodType2 {
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    const data = ctx.data;
    return this._def.type._parse({
      data,
      path: ctx.path,
      parent: ctx
    });
  }
  unwrap() {
    return this._def.type;
  }
};
var ZodPipeline = class _ZodPipeline extends ZodType2 {
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.common.async) {
      const handleAsync = async () => {
        const inResult = await this._def.in._parseAsync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        });
        if (inResult.status === "aborted")
          return INVALID;
        if (inResult.status === "dirty") {
          status.dirty();
          return DIRTY(inResult.value);
        } else {
          return this._def.out._parseAsync({
            data: inResult.value,
            path: ctx.path,
            parent: ctx
          });
        }
      };
      return handleAsync();
    } else {
      const inResult = this._def.in._parseSync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      });
      if (inResult.status === "aborted")
        return INVALID;
      if (inResult.status === "dirty") {
        status.dirty();
        return {
          status: "dirty",
          value: inResult.value
        };
      } else {
        return this._def.out._parseSync({
          data: inResult.value,
          path: ctx.path,
          parent: ctx
        });
      }
    }
  }
  static create(a2, b) {
    return new _ZodPipeline({
      in: a2,
      out: b,
      typeName: ZodFirstPartyTypeKind2.ZodPipeline
    });
  }
};
var ZodReadonly2 = class extends ZodType2 {
  _parse(input) {
    const result = this._def.innerType._parse(input);
    const freeze = (data) => {
      if (isValid(data)) {
        data.value = Object.freeze(data.value);
      }
      return data;
    };
    return isAsync(result) ? result.then((data) => freeze(data)) : freeze(result);
  }
  unwrap() {
    return this._def.innerType;
  }
};
ZodReadonly2.create = (type, params) => {
  return new ZodReadonly2({
    innerType: type,
    typeName: ZodFirstPartyTypeKind2.ZodReadonly,
    ...processCreateParams(params)
  });
};
var late = {
  object: ZodObject2.lazycreate
};
var ZodFirstPartyTypeKind2;
(function(ZodFirstPartyTypeKind3) {
  ZodFirstPartyTypeKind3["ZodString"] = "ZodString";
  ZodFirstPartyTypeKind3["ZodNumber"] = "ZodNumber";
  ZodFirstPartyTypeKind3["ZodNaN"] = "ZodNaN";
  ZodFirstPartyTypeKind3["ZodBigInt"] = "ZodBigInt";
  ZodFirstPartyTypeKind3["ZodBoolean"] = "ZodBoolean";
  ZodFirstPartyTypeKind3["ZodDate"] = "ZodDate";
  ZodFirstPartyTypeKind3["ZodSymbol"] = "ZodSymbol";
  ZodFirstPartyTypeKind3["ZodUndefined"] = "ZodUndefined";
  ZodFirstPartyTypeKind3["ZodNull"] = "ZodNull";
  ZodFirstPartyTypeKind3["ZodAny"] = "ZodAny";
  ZodFirstPartyTypeKind3["ZodUnknown"] = "ZodUnknown";
  ZodFirstPartyTypeKind3["ZodNever"] = "ZodNever";
  ZodFirstPartyTypeKind3["ZodVoid"] = "ZodVoid";
  ZodFirstPartyTypeKind3["ZodArray"] = "ZodArray";
  ZodFirstPartyTypeKind3["ZodObject"] = "ZodObject";
  ZodFirstPartyTypeKind3["ZodUnion"] = "ZodUnion";
  ZodFirstPartyTypeKind3["ZodDiscriminatedUnion"] = "ZodDiscriminatedUnion";
  ZodFirstPartyTypeKind3["ZodIntersection"] = "ZodIntersection";
  ZodFirstPartyTypeKind3["ZodTuple"] = "ZodTuple";
  ZodFirstPartyTypeKind3["ZodRecord"] = "ZodRecord";
  ZodFirstPartyTypeKind3["ZodMap"] = "ZodMap";
  ZodFirstPartyTypeKind3["ZodSet"] = "ZodSet";
  ZodFirstPartyTypeKind3["ZodFunction"] = "ZodFunction";
  ZodFirstPartyTypeKind3["ZodLazy"] = "ZodLazy";
  ZodFirstPartyTypeKind3["ZodLiteral"] = "ZodLiteral";
  ZodFirstPartyTypeKind3["ZodEnum"] = "ZodEnum";
  ZodFirstPartyTypeKind3["ZodEffects"] = "ZodEffects";
  ZodFirstPartyTypeKind3["ZodNativeEnum"] = "ZodNativeEnum";
  ZodFirstPartyTypeKind3["ZodOptional"] = "ZodOptional";
  ZodFirstPartyTypeKind3["ZodNullable"] = "ZodNullable";
  ZodFirstPartyTypeKind3["ZodDefault"] = "ZodDefault";
  ZodFirstPartyTypeKind3["ZodCatch"] = "ZodCatch";
  ZodFirstPartyTypeKind3["ZodPromise"] = "ZodPromise";
  ZodFirstPartyTypeKind3["ZodBranded"] = "ZodBranded";
  ZodFirstPartyTypeKind3["ZodPipeline"] = "ZodPipeline";
  ZodFirstPartyTypeKind3["ZodReadonly"] = "ZodReadonly";
})(ZodFirstPartyTypeKind2 || (ZodFirstPartyTypeKind2 = {}));
var stringType = ZodString2.create;
var numberType = ZodNumber2.create;
var nanType = ZodNaN2.create;
var bigIntType = ZodBigInt2.create;
var booleanType = ZodBoolean2.create;
var dateType = ZodDate2.create;
var symbolType = ZodSymbol2.create;
var undefinedType = ZodUndefined2.create;
var nullType = ZodNull2.create;
var anyType = ZodAny2.create;
var unknownType = ZodUnknown2.create;
var neverType = ZodNever2.create;
var voidType = ZodVoid2.create;
var arrayType = ZodArray2.create;
var objectType = ZodObject2.create;
var strictObjectType = ZodObject2.strictCreate;
var unionType = ZodUnion2.create;
var discriminatedUnionType = ZodDiscriminatedUnion2.create;
var intersectionType = ZodIntersection2.create;
var tupleType = ZodTuple2.create;
var recordType = ZodRecord2.create;
var mapType = ZodMap2.create;
var setType = ZodSet2.create;
var functionType = ZodFunction2.create;
var lazyType = ZodLazy2.create;
var literalType = ZodLiteral2.create;
var enumType = ZodEnum2.create;
var nativeEnumType = ZodNativeEnum.create;
var promiseType = ZodPromise2.create;
var effectsType = ZodEffects.create;
var optionalType = ZodOptional2.create;
var nullableType = ZodNullable2.create;
var preprocessType = ZodEffects.createWithPreprocess;
var pipelineType = ZodPipeline.create;

// node_modules/@ai-sdk/provider-utils/dist/index.mjs
function combineHeaders(...headers) {
  return headers.reduce(
    (combinedHeaders, currentHeaders) => ({
      ...combinedHeaders,
      ...currentHeaders != null ? currentHeaders : {}
    }),
    {}
  );
}
async function delay(delayInMs, options) {
  if (delayInMs == null) {
    return Promise.resolve();
  }
  const signal = options == null ? void 0 : options.abortSignal;
  return new Promise((resolve2, reject) => {
    if (signal == null ? void 0 : signal.aborted) {
      reject(createAbortError());
      return;
    }
    const timeoutId = setTimeout(() => {
      cleanup();
      resolve2();
    }, delayInMs);
    const cleanup = () => {
      clearTimeout(timeoutId);
      signal == null ? void 0 : signal.removeEventListener("abort", onAbort);
    };
    const onAbort = () => {
      cleanup();
      reject(createAbortError());
    };
    signal == null ? void 0 : signal.addEventListener("abort", onAbort);
  });
}
function createAbortError() {
  return new DOMException("Delay was aborted", "AbortError");
}
function extractResponseHeaders(response) {
  return Object.fromEntries([...response.headers]);
}
function getRuntimeEnvironmentUserAgent(globalThisAny = globalThis) {
  var _a17, _b8, _c;
  if (globalThisAny.window) {
    return `runtime/browser`;
  }
  if ((_a17 = globalThisAny.navigator) == null ? void 0 : _a17.userAgent) {
    return `runtime/${globalThisAny.navigator.userAgent.toLowerCase()}`;
  }
  if ((_c = (_b8 = globalThisAny.process) == null ? void 0 : _b8.versions) == null ? void 0 : _c.node) {
    return `runtime/node.js/${globalThisAny.process.version.substring(0)}`;
  }
  if (globalThisAny.EdgeRuntime) {
    return `runtime/vercel-edge`;
  }
  return "runtime/unknown";
}
function removeUndefinedEntries(record2) {
  return Object.fromEntries(
    Object.entries(record2).filter(([_key, value]) => value != null)
  );
}
function withUserAgentSuffix(headers, ...userAgentSuffixParts) {
  const cleanedHeaders = removeUndefinedEntries(
    headers != null ? headers : {}
  );
  const normalizedHeaders = new Headers(cleanedHeaders);
  const currentUserAgentHeader = normalizedHeaders.get("user-agent") || "";
  normalizedHeaders.set(
    "user-agent",
    [currentUserAgentHeader, ...userAgentSuffixParts].filter(Boolean).join(" ")
  );
  return Object.fromEntries(normalizedHeaders);
}
var createIdGenerator = ({
  prefix,
  size = 16,
  alphabet = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",
  separator = "-"
} = {}) => {
  const generator = () => {
    const alphabetLength = alphabet.length;
    const chars = new Array(size);
    for (let i2 = 0; i2 < size; i2++) {
      chars[i2] = alphabet[Math.random() * alphabetLength | 0];
    }
    return chars.join("");
  };
  if (prefix == null) {
    return generator;
  }
  if (alphabet.includes(separator)) {
    throw new InvalidArgumentError({
      argument: "separator",
      message: `The separator "${separator}" must not be part of the alphabet "${alphabet}".`
    });
  }
  return () => `${prefix}${separator}${generator()}`;
};
var generateId = createIdGenerator();
function getErrorMessage2(error45) {
  if (error45 == null) {
    return "unknown error";
  }
  if (typeof error45 === "string") {
    return error45;
  }
  if (error45 instanceof Error) {
    return error45.message;
  }
  return JSON.stringify(error45);
}
function isAbortError(error45) {
  return (error45 instanceof Error || error45 instanceof DOMException) && (error45.name === "AbortError" || error45.name === "ResponseAborted" || // Next.js
  error45.name === "TimeoutError");
}
var FETCH_FAILED_ERROR_MESSAGES = ["fetch failed", "failed to fetch"];
function handleFetchError({
  error: error45,
  url: url2,
  requestBodyValues
}) {
  if (isAbortError(error45)) {
    return error45;
  }
  if (error45 instanceof TypeError && FETCH_FAILED_ERROR_MESSAGES.includes(error45.message.toLowerCase())) {
    const cause = error45.cause;
    if (cause != null) {
      return new APICallError({
        message: `Cannot connect to API: ${cause.message}`,
        cause,
        url: url2,
        requestBodyValues,
        isRetryable: true
        // retry when network error
      });
    }
  }
  return error45;
}
var VERSION = true ? "3.0.9" : "0.0.0-test";
var getOriginalFetch = () => globalThis.fetch;
var getFromApi = async ({
  url: url2,
  headers = {},
  successfulResponseHandler,
  failedResponseHandler,
  abortSignal,
  fetch: fetch2 = getOriginalFetch()
}) => {
  try {
    const response = await fetch2(url2, {
      method: "GET",
      headers: withUserAgentSuffix(
        headers,
        `ai-sdk/provider-utils/${VERSION}`,
        getRuntimeEnvironmentUserAgent()
      ),
      signal: abortSignal
    });
    const responseHeaders = extractResponseHeaders(response);
    if (!response.ok) {
      let errorInformation;
      try {
        errorInformation = await failedResponseHandler({
          response,
          url: url2,
          requestBodyValues: {}
        });
      } catch (error45) {
        if (isAbortError(error45) || APICallError.isInstance(error45)) {
          throw error45;
        }
        throw new APICallError({
          message: "Failed to process error response",
          cause: error45,
          statusCode: response.status,
          url: url2,
          responseHeaders,
          requestBodyValues: {}
        });
      }
      throw errorInformation.value;
    }
    try {
      return await successfulResponseHandler({
        response,
        url: url2,
        requestBodyValues: {}
      });
    } catch (error45) {
      if (error45 instanceof Error) {
        if (isAbortError(error45) || APICallError.isInstance(error45)) {
          throw error45;
        }
      }
      throw new APICallError({
        message: "Failed to process successful response",
        cause: error45,
        statusCode: response.status,
        url: url2,
        responseHeaders,
        requestBodyValues: {}
      });
    }
  } catch (error45) {
    throw handleFetchError({ error: error45, url: url2, requestBodyValues: {} });
  }
};
function isUrlSupported({
  mediaType,
  url: url2,
  supportedUrls
}) {
  url2 = url2.toLowerCase();
  mediaType = mediaType.toLowerCase();
  return Object.entries(supportedUrls).map(([key, value]) => {
    const mediaType2 = key.toLowerCase();
    return mediaType2 === "*" || mediaType2 === "*/*" ? { mediaTypePrefix: "", regexes: value } : { mediaTypePrefix: mediaType2.replace(/\*/, ""), regexes: value };
  }).filter(({ mediaTypePrefix }) => mediaType.startsWith(mediaTypePrefix)).flatMap(({ regexes }) => regexes).some((pattern) => pattern.test(url2));
}
function loadOptionalSetting({
  settingValue,
  environmentVariableName
}) {
  if (typeof settingValue === "string") {
    return settingValue;
  }
  if (settingValue != null || typeof process === "undefined") {
    return void 0;
  }
  settingValue = process.env[environmentVariableName];
  if (settingValue == null || typeof settingValue !== "string") {
    return void 0;
  }
  return settingValue;
}
var suspectProtoRx = /"__proto__"\s*:/;
var suspectConstructorRx = /"constructor"\s*:/;
function _parse2(text2) {
  const obj = JSON.parse(text2);
  if (obj === null || typeof obj !== "object") {
    return obj;
  }
  if (suspectProtoRx.test(text2) === false && suspectConstructorRx.test(text2) === false) {
    return obj;
  }
  return filter(obj);
}
function filter(obj) {
  let next = [obj];
  while (next.length) {
    const nodes = next;
    next = [];
    for (const node of nodes) {
      if (Object.prototype.hasOwnProperty.call(node, "__proto__")) {
        throw new SyntaxError("Object contains forbidden prototype property");
      }
      if (Object.prototype.hasOwnProperty.call(node, "constructor") && Object.prototype.hasOwnProperty.call(node.constructor, "prototype")) {
        throw new SyntaxError("Object contains forbidden prototype property");
      }
      for (const key in node) {
        const value = node[key];
        if (value && typeof value === "object") {
          next.push(value);
        }
      }
    }
  }
  return obj;
}
function secureJsonParse(text2) {
  const { stackTraceLimit } = Error;
  Error.stackTraceLimit = 0;
  try {
    return _parse2(text2);
  } finally {
    Error.stackTraceLimit = stackTraceLimit;
  }
}
var validatorSymbol = Symbol.for("vercel.ai.validator");
function validator(validate) {
  return { [validatorSymbol]: true, validate };
}
function isValidator(value) {
  return typeof value === "object" && value !== null && validatorSymbol in value && value[validatorSymbol] === true && "validate" in value;
}
function asValidator(value) {
  return isValidator(value) ? value : standardSchemaValidator(value);
}
function standardSchemaValidator(standardSchema) {
  return validator(async (value) => {
    const result = await standardSchema["~standard"].validate(value);
    return result.issues == null ? { success: true, value: result.value } : {
      success: false,
      error: new TypeValidationError({
        value,
        cause: result.issues
      })
    };
  });
}
async function validateTypes({
  value,
  schema
}) {
  const result = await safeValidateTypes({ value, schema });
  if (!result.success) {
    throw TypeValidationError.wrap({ value, cause: result.error });
  }
  return result.value;
}
async function safeValidateTypes({
  value,
  schema
}) {
  const validator2 = asValidator(schema);
  try {
    if (validator2.validate == null) {
      return { success: true, value, rawValue: value };
    }
    const result = await validator2.validate(value);
    if (result.success) {
      return { success: true, value: result.value, rawValue: value };
    }
    return {
      success: false,
      error: TypeValidationError.wrap({ value, cause: result.error }),
      rawValue: value
    };
  } catch (error45) {
    return {
      success: false,
      error: TypeValidationError.wrap({ value, cause: error45 }),
      rawValue: value
    };
  }
}
async function parseJSON({
  text: text2,
  schema
}) {
  try {
    const value = secureJsonParse(text2);
    if (schema == null) {
      return value;
    }
    return validateTypes({ value, schema });
  } catch (error45) {
    if (JSONParseError.isInstance(error45) || TypeValidationError.isInstance(error45)) {
      throw error45;
    }
    throw new JSONParseError({ text: text2, cause: error45 });
  }
}
async function safeParseJSON({
  text: text2,
  schema
}) {
  try {
    const value = secureJsonParse(text2);
    if (schema == null) {
      return { success: true, value, rawValue: value };
    }
    return await safeValidateTypes({ value, schema });
  } catch (error45) {
    return {
      success: false,
      error: JSONParseError.isInstance(error45) ? error45 : new JSONParseError({ text: text2, cause: error45 }),
      rawValue: void 0
    };
  }
}
function parseJsonEventStream({
  stream,
  schema
}) {
  return stream.pipeThrough(new TextDecoderStream()).pipeThrough(new EventSourceParserStream()).pipeThrough(
    new TransformStream({
      async transform({ data }, controller) {
        if (data === "[DONE]") {
          return;
        }
        controller.enqueue(await safeParseJSON({ text: data, schema }));
      }
    })
  );
}
var getOriginalFetch2 = () => globalThis.fetch;
var postJsonToApi = async ({
  url: url2,
  headers,
  body,
  failedResponseHandler,
  successfulResponseHandler,
  abortSignal,
  fetch: fetch2
}) => postToApi({
  url: url2,
  headers: {
    "Content-Type": "application/json",
    ...headers
  },
  body: {
    content: JSON.stringify(body),
    values: body
  },
  failedResponseHandler,
  successfulResponseHandler,
  abortSignal,
  fetch: fetch2
});
var postToApi = async ({
  url: url2,
  headers = {},
  body,
  successfulResponseHandler,
  failedResponseHandler,
  abortSignal,
  fetch: fetch2 = getOriginalFetch2()
}) => {
  try {
    const response = await fetch2(url2, {
      method: "POST",
      headers: withUserAgentSuffix(
        headers,
        `ai-sdk/provider-utils/${VERSION}`,
        getRuntimeEnvironmentUserAgent()
      ),
      body: body.content,
      signal: abortSignal
    });
    const responseHeaders = extractResponseHeaders(response);
    if (!response.ok) {
      let errorInformation;
      try {
        errorInformation = await failedResponseHandler({
          response,
          url: url2,
          requestBodyValues: body.values
        });
      } catch (error45) {
        if (isAbortError(error45) || APICallError.isInstance(error45)) {
          throw error45;
        }
        throw new APICallError({
          message: "Failed to process error response",
          cause: error45,
          statusCode: response.status,
          url: url2,
          responseHeaders,
          requestBodyValues: body.values
        });
      }
      throw errorInformation.value;
    }
    try {
      return await successfulResponseHandler({
        response,
        url: url2,
        requestBodyValues: body.values
      });
    } catch (error45) {
      if (error45 instanceof Error) {
        if (isAbortError(error45) || APICallError.isInstance(error45)) {
          throw error45;
        }
      }
      throw new APICallError({
        message: "Failed to process successful response",
        cause: error45,
        statusCode: response.status,
        url: url2,
        responseHeaders,
        requestBodyValues: body.values
      });
    }
  } catch (error45) {
    throw handleFetchError({ error: error45, url: url2, requestBodyValues: body.values });
  }
};
function tool(tool2) {
  return tool2;
}
async function resolve(value) {
  if (typeof value === "function") {
    value = value();
  }
  return Promise.resolve(value);
}
var createJsonErrorResponseHandler = ({
  errorSchema,
  errorToMessage,
  isRetryable
}) => async ({ response, url: url2, requestBodyValues }) => {
  const responseBody = await response.text();
  const responseHeaders = extractResponseHeaders(response);
  if (responseBody.trim() === "") {
    return {
      responseHeaders,
      value: new APICallError({
        message: response.statusText,
        url: url2,
        requestBodyValues,
        statusCode: response.status,
        responseHeaders,
        responseBody,
        isRetryable: isRetryable == null ? void 0 : isRetryable(response)
      })
    };
  }
  try {
    const parsedError = await parseJSON({
      text: responseBody,
      schema: errorSchema
    });
    return {
      responseHeaders,
      value: new APICallError({
        message: errorToMessage(parsedError),
        url: url2,
        requestBodyValues,
        statusCode: response.status,
        responseHeaders,
        responseBody,
        data: parsedError,
        isRetryable: isRetryable == null ? void 0 : isRetryable(response, parsedError)
      })
    };
  } catch (parseError) {
    return {
      responseHeaders,
      value: new APICallError({
        message: response.statusText,
        url: url2,
        requestBodyValues,
        statusCode: response.status,
        responseHeaders,
        responseBody,
        isRetryable: isRetryable == null ? void 0 : isRetryable(response)
      })
    };
  }
};
var createEventSourceResponseHandler = (chunkSchema) => async ({ response }) => {
  const responseHeaders = extractResponseHeaders(response);
  if (response.body == null) {
    throw new EmptyResponseBodyError({});
  }
  return {
    responseHeaders,
    value: parseJsonEventStream({
      stream: response.body,
      schema: chunkSchema
    })
  };
};
var createJsonResponseHandler = (responseSchema) => async ({ response, url: url2, requestBodyValues }) => {
  const responseBody = await response.text();
  const parsedResult = await safeParseJSON({
    text: responseBody,
    schema: responseSchema
  });
  const responseHeaders = extractResponseHeaders(response);
  if (!parsedResult.success) {
    throw new APICallError({
      message: "Invalid JSON response",
      cause: parsedResult.error,
      statusCode: response.status,
      responseHeaders,
      responseBody,
      url: url2,
      requestBodyValues
    });
  }
  return {
    responseHeaders,
    value: parsedResult.value,
    rawValue: parsedResult.rawValue
  };
};
var getRelativePath = (pathA, pathB) => {
  let i2 = 0;
  for (; i2 < pathA.length && i2 < pathB.length; i2++) {
    if (pathA[i2] !== pathB[i2])
      break;
  }
  return [(pathA.length - i2).toString(), ...pathB.slice(i2)].join("/");
};
var ignoreOverride = Symbol(
  "Let zodToJsonSchema decide on which parser to use"
);
var defaultOptions = {
  name: void 0,
  $refStrategy: "root",
  basePath: ["#"],
  effectStrategy: "input",
  pipeStrategy: "all",
  dateStrategy: "format:date-time",
  mapStrategy: "entries",
  removeAdditionalStrategy: "passthrough",
  allowedAdditionalProperties: true,
  rejectedAdditionalProperties: false,
  definitionPath: "definitions",
  strictUnions: false,
  definitions: {},
  errorMessages: false,
  patternStrategy: "escape",
  applyRegexFlags: false,
  emailStrategy: "format:email",
  base64Strategy: "contentEncoding:base64",
  nameStrategy: "ref"
};
var getDefaultOptions = (options) => typeof options === "string" ? {
  ...defaultOptions,
  name: options
} : {
  ...defaultOptions,
  ...options
};
function parseAnyDef() {
  return {};
}
function parseArrayDef(def, refs) {
  var _a17, _b8, _c;
  const res = {
    type: "array"
  };
  if (((_a17 = def.type) == null ? void 0 : _a17._def) && ((_c = (_b8 = def.type) == null ? void 0 : _b8._def) == null ? void 0 : _c.typeName) !== ZodFirstPartyTypeKind2.ZodAny) {
    res.items = parseDef(def.type._def, {
      ...refs,
      currentPath: [...refs.currentPath, "items"]
    });
  }
  if (def.minLength) {
    res.minItems = def.minLength.value;
  }
  if (def.maxLength) {
    res.maxItems = def.maxLength.value;
  }
  if (def.exactLength) {
    res.minItems = def.exactLength.value;
    res.maxItems = def.exactLength.value;
  }
  return res;
}
function parseBigintDef(def) {
  const res = {
    type: "integer",
    format: "int64"
  };
  if (!def.checks)
    return res;
  for (const check2 of def.checks) {
    switch (check2.kind) {
      case "min":
        if (check2.inclusive) {
          res.minimum = check2.value;
        } else {
          res.exclusiveMinimum = check2.value;
        }
        break;
      case "max":
        if (check2.inclusive) {
          res.maximum = check2.value;
        } else {
          res.exclusiveMaximum = check2.value;
        }
        break;
      case "multipleOf":
        res.multipleOf = check2.value;
        break;
    }
  }
  return res;
}
function parseBooleanDef() {
  return { type: "boolean" };
}
function parseBrandedDef(_def, refs) {
  return parseDef(_def.type._def, refs);
}
var parseCatchDef = (def, refs) => {
  return parseDef(def.innerType._def, refs);
};
function parseDateDef(def, refs, overrideDateStrategy) {
  const strategy = overrideDateStrategy != null ? overrideDateStrategy : refs.dateStrategy;
  if (Array.isArray(strategy)) {
    return {
      anyOf: strategy.map((item, i2) => parseDateDef(def, refs, item))
    };
  }
  switch (strategy) {
    case "string":
    case "format:date-time":
      return {
        type: "string",
        format: "date-time"
      };
    case "format:date":
      return {
        type: "string",
        format: "date"
      };
    case "integer":
      return integerDateParser(def);
  }
}
var integerDateParser = (def) => {
  const res = {
    type: "integer",
    format: "unix-time"
  };
  for (const check2 of def.checks) {
    switch (check2.kind) {
      case "min":
        res.minimum = check2.value;
        break;
      case "max":
        res.maximum = check2.value;
        break;
    }
  }
  return res;
};
function parseDefaultDef(_def, refs) {
  return {
    ...parseDef(_def.innerType._def, refs),
    default: _def.defaultValue()
  };
}
function parseEffectsDef(_def, refs) {
  return refs.effectStrategy === "input" ? parseDef(_def.schema._def, refs) : parseAnyDef();
}
function parseEnumDef(def) {
  return {
    type: "string",
    enum: Array.from(def.values)
  };
}
var isJsonSchema7AllOfType = (type) => {
  if ("type" in type && type.type === "string")
    return false;
  return "allOf" in type;
};
function parseIntersectionDef(def, refs) {
  const allOf = [
    parseDef(def.left._def, {
      ...refs,
      currentPath: [...refs.currentPath, "allOf", "0"]
    }),
    parseDef(def.right._def, {
      ...refs,
      currentPath: [...refs.currentPath, "allOf", "1"]
    })
  ].filter((x) => !!x);
  const mergedAllOf = [];
  allOf.forEach((schema) => {
    if (isJsonSchema7AllOfType(schema)) {
      mergedAllOf.push(...schema.allOf);
    } else {
      let nestedSchema = schema;
      if ("additionalProperties" in schema && schema.additionalProperties === false) {
        const { additionalProperties, ...rest } = schema;
        nestedSchema = rest;
      }
      mergedAllOf.push(nestedSchema);
    }
  });
  return mergedAllOf.length ? { allOf: mergedAllOf } : void 0;
}
function parseLiteralDef(def) {
  const parsedType7 = typeof def.value;
  if (parsedType7 !== "bigint" && parsedType7 !== "number" && parsedType7 !== "boolean" && parsedType7 !== "string") {
    return {
      type: Array.isArray(def.value) ? "array" : "object"
    };
  }
  return {
    type: parsedType7 === "bigint" ? "integer" : parsedType7,
    const: def.value
  };
}
var emojiRegex2 = void 0;
var zodPatterns = {
  /**
   * `c` was changed to `[cC]` to replicate /i flag
   */
  cuid: /^[cC][^\s-]{8,}$/,
  cuid2: /^[0-9a-z]+$/,
  ulid: /^[0-9A-HJKMNP-TV-Z]{26}$/,
  /**
   * `a-z` was added to replicate /i flag
   */
  email: /^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,
  /**
   * Constructed a valid Unicode RegExp
   *
   * Lazily instantiate since this type of regex isn't supported
   * in all envs (e.g. React Native).
   *
   * See:
   * https://github.com/colinhacks/zod/issues/2433
   * Fix in Zod:
   * https://github.com/colinhacks/zod/commit/9340fd51e48576a75adc919bff65dbc4a5d4c99b
   */
  emoji: () => {
    if (emojiRegex2 === void 0) {
      emojiRegex2 = RegExp(
        "^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",
        "u"
      );
    }
    return emojiRegex2;
  },
  /**
   * Unused
   */
  uuid: /^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,
  /**
   * Unused
   */
  ipv4: /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,
  ipv4Cidr: /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,
  /**
   * Unused
   */
  ipv6: /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,
  ipv6Cidr: /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,
  base64: /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,
  base64url: /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,
  nanoid: /^[a-zA-Z0-9_-]{21}$/,
  jwt: /^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/
};
function parseStringDef(def, refs) {
  const res = {
    type: "string"
  };
  if (def.checks) {
    for (const check2 of def.checks) {
      switch (check2.kind) {
        case "min":
          res.minLength = typeof res.minLength === "number" ? Math.max(res.minLength, check2.value) : check2.value;
          break;
        case "max":
          res.maxLength = typeof res.maxLength === "number" ? Math.min(res.maxLength, check2.value) : check2.value;
          break;
        case "email":
          switch (refs.emailStrategy) {
            case "format:email":
              addFormat(res, "email", check2.message, refs);
              break;
            case "format:idn-email":
              addFormat(res, "idn-email", check2.message, refs);
              break;
            case "pattern:zod":
              addPattern(res, zodPatterns.email, check2.message, refs);
              break;
          }
          break;
        case "url":
          addFormat(res, "uri", check2.message, refs);
          break;
        case "uuid":
          addFormat(res, "uuid", check2.message, refs);
          break;
        case "regex":
          addPattern(res, check2.regex, check2.message, refs);
          break;
        case "cuid":
          addPattern(res, zodPatterns.cuid, check2.message, refs);
          break;
        case "cuid2":
          addPattern(res, zodPatterns.cuid2, check2.message, refs);
          break;
        case "startsWith":
          addPattern(
            res,
            RegExp(`^${escapeLiteralCheckValue(check2.value, refs)}`),
            check2.message,
            refs
          );
          break;
        case "endsWith":
          addPattern(
            res,
            RegExp(`${escapeLiteralCheckValue(check2.value, refs)}$`),
            check2.message,
            refs
          );
          break;
        case "datetime":
          addFormat(res, "date-time", check2.message, refs);
          break;
        case "date":
          addFormat(res, "date", check2.message, refs);
          break;
        case "time":
          addFormat(res, "time", check2.message, refs);
          break;
        case "duration":
          addFormat(res, "duration", check2.message, refs);
          break;
        case "length":
          res.minLength = typeof res.minLength === "number" ? Math.max(res.minLength, check2.value) : check2.value;
          res.maxLength = typeof res.maxLength === "number" ? Math.min(res.maxLength, check2.value) : check2.value;
          break;
        case "includes": {
          addPattern(
            res,
            RegExp(escapeLiteralCheckValue(check2.value, refs)),
            check2.message,
            refs
          );
          break;
        }
        case "ip": {
          if (check2.version !== "v6") {
            addFormat(res, "ipv4", check2.message, refs);
          }
          if (check2.version !== "v4") {
            addFormat(res, "ipv6", check2.message, refs);
          }
          break;
        }
        case "base64url":
          addPattern(res, zodPatterns.base64url, check2.message, refs);
          break;
        case "jwt":
          addPattern(res, zodPatterns.jwt, check2.message, refs);
          break;
        case "cidr": {
          if (check2.version !== "v6") {
            addPattern(res, zodPatterns.ipv4Cidr, check2.message, refs);
          }
          if (check2.version !== "v4") {
            addPattern(res, zodPatterns.ipv6Cidr, check2.message, refs);
          }
          break;
        }
        case "emoji":
          addPattern(res, zodPatterns.emoji(), check2.message, refs);
          break;
        case "ulid": {
          addPattern(res, zodPatterns.ulid, check2.message, refs);
          break;
        }
        case "base64": {
          switch (refs.base64Strategy) {
            case "format:binary": {
              addFormat(res, "binary", check2.message, refs);
              break;
            }
            case "contentEncoding:base64": {
              res.contentEncoding = "base64";
              break;
            }
            case "pattern:zod": {
              addPattern(res, zodPatterns.base64, check2.message, refs);
              break;
            }
          }
          break;
        }
        case "nanoid": {
          addPattern(res, zodPatterns.nanoid, check2.message, refs);
        }
        case "toLowerCase":
        case "toUpperCase":
        case "trim":
          break;
        default:
          /* @__PURE__ */ ((_) => {
          })(check2);
      }
    }
  }
  return res;
}
function escapeLiteralCheckValue(literal2, refs) {
  return refs.patternStrategy === "escape" ? escapeNonAlphaNumeric(literal2) : literal2;
}
var ALPHA_NUMERIC = new Set(
  "ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789"
);
function escapeNonAlphaNumeric(source) {
  let result = "";
  for (let i2 = 0; i2 < source.length; i2++) {
    if (!ALPHA_NUMERIC.has(source[i2])) {
      result += "\\";
    }
    result += source[i2];
  }
  return result;
}
function addFormat(schema, value, message, refs) {
  var _a17;
  if (schema.format || ((_a17 = schema.anyOf) == null ? void 0 : _a17.some((x) => x.format))) {
    if (!schema.anyOf) {
      schema.anyOf = [];
    }
    if (schema.format) {
      schema.anyOf.push({
        format: schema.format
      });
      delete schema.format;
    }
    schema.anyOf.push({
      format: value,
      ...message && refs.errorMessages && { errorMessage: { format: message } }
    });
  } else {
    schema.format = value;
  }
}
function addPattern(schema, regex, message, refs) {
  var _a17;
  if (schema.pattern || ((_a17 = schema.allOf) == null ? void 0 : _a17.some((x) => x.pattern))) {
    if (!schema.allOf) {
      schema.allOf = [];
    }
    if (schema.pattern) {
      schema.allOf.push({
        pattern: schema.pattern
      });
      delete schema.pattern;
    }
    schema.allOf.push({
      pattern: stringifyRegExpWithFlags(regex, refs),
      ...message && refs.errorMessages && { errorMessage: { pattern: message } }
    });
  } else {
    schema.pattern = stringifyRegExpWithFlags(regex, refs);
  }
}
function stringifyRegExpWithFlags(regex, refs) {
  var _a17;
  if (!refs.applyRegexFlags || !regex.flags) {
    return regex.source;
  }
  const flags = {
    i: regex.flags.includes("i"),
    // Case-insensitive
    m: regex.flags.includes("m"),
    // `^` and `$` matches adjacent to newline characters
    s: regex.flags.includes("s")
    // `.` matches newlines
  };
  const source = flags.i ? regex.source.toLowerCase() : regex.source;
  let pattern = "";
  let isEscaped = false;
  let inCharGroup = false;
  let inCharRange = false;
  for (let i2 = 0; i2 < source.length; i2++) {
    if (isEscaped) {
      pattern += source[i2];
      isEscaped = false;
      continue;
    }
    if (flags.i) {
      if (inCharGroup) {
        if (source[i2].match(/[a-z]/)) {
          if (inCharRange) {
            pattern += source[i2];
            pattern += `${source[i2 - 2]}-${source[i2]}`.toUpperCase();
            inCharRange = false;
          } else if (source[i2 + 1] === "-" && ((_a17 = source[i2 + 2]) == null ? void 0 : _a17.match(/[a-z]/))) {
            pattern += source[i2];
            inCharRange = true;
          } else {
            pattern += `${source[i2]}${source[i2].toUpperCase()}`;
          }
          continue;
        }
      } else if (source[i2].match(/[a-z]/)) {
        pattern += `[${source[i2]}${source[i2].toUpperCase()}]`;
        continue;
      }
    }
    if (flags.m) {
      if (source[i2] === "^") {
        pattern += `(^|(?<=[\r
]))`;
        continue;
      } else if (source[i2] === "$") {
        pattern += `($|(?=[\r
]))`;
        continue;
      }
    }
    if (flags.s && source[i2] === ".") {
      pattern += inCharGroup ? `${source[i2]}\r
` : `[${source[i2]}\r
]`;
      continue;
    }
    pattern += source[i2];
    if (source[i2] === "\\") {
      isEscaped = true;
    } else if (inCharGroup && source[i2] === "]") {
      inCharGroup = false;
    } else if (!inCharGroup && source[i2] === "[") {
      inCharGroup = true;
    }
  }
  try {
    new RegExp(pattern);
  } catch (e2) {
    console.warn(
      `Could not convert regex pattern at ${refs.currentPath.join(
        "/"
      )} to a flag-independent form! Falling back to the flag-ignorant source`
    );
    return regex.source;
  }
  return pattern;
}
function parseRecordDef(def, refs) {
  var _a17, _b8, _c, _d, _e, _f;
  const schema = {
    type: "object",
    additionalProperties: (_a17 = parseDef(def.valueType._def, {
      ...refs,
      currentPath: [...refs.currentPath, "additionalProperties"]
    })) != null ? _a17 : refs.allowedAdditionalProperties
  };
  if (((_b8 = def.keyType) == null ? void 0 : _b8._def.typeName) === ZodFirstPartyTypeKind2.ZodString && ((_c = def.keyType._def.checks) == null ? void 0 : _c.length)) {
    const { type, ...keyType } = parseStringDef(def.keyType._def, refs);
    return {
      ...schema,
      propertyNames: keyType
    };
  } else if (((_d = def.keyType) == null ? void 0 : _d._def.typeName) === ZodFirstPartyTypeKind2.ZodEnum) {
    return {
      ...schema,
      propertyNames: {
        enum: def.keyType._def.values
      }
    };
  } else if (((_e = def.keyType) == null ? void 0 : _e._def.typeName) === ZodFirstPartyTypeKind2.ZodBranded && def.keyType._def.type._def.typeName === ZodFirstPartyTypeKind2.ZodString && ((_f = def.keyType._def.type._def.checks) == null ? void 0 : _f.length)) {
    const { type, ...keyType } = parseBrandedDef(
      def.keyType._def,
      refs
    );
    return {
      ...schema,
      propertyNames: keyType
    };
  }
  return schema;
}
function parseMapDef(def, refs) {
  if (refs.mapStrategy === "record") {
    return parseRecordDef(def, refs);
  }
  const keys = parseDef(def.keyType._def, {
    ...refs,
    currentPath: [...refs.currentPath, "items", "items", "0"]
  }) || parseAnyDef();
  const values = parseDef(def.valueType._def, {
    ...refs,
    currentPath: [...refs.currentPath, "items", "items", "1"]
  }) || parseAnyDef();
  return {
    type: "array",
    maxItems: 125,
    items: {
      type: "array",
      items: [keys, values],
      minItems: 2,
      maxItems: 2
    }
  };
}
function parseNativeEnumDef(def) {
  const object3 = def.values;
  const actualKeys = Object.keys(def.values).filter((key) => {
    return typeof object3[object3[key]] !== "number";
  });
  const actualValues = actualKeys.map((key) => object3[key]);
  const parsedTypes = Array.from(
    new Set(actualValues.map((values) => typeof values))
  );
  return {
    type: parsedTypes.length === 1 ? parsedTypes[0] === "string" ? "string" : "number" : ["string", "number"],
    enum: actualValues
  };
}
function parseNeverDef() {
  return { not: parseAnyDef() };
}
function parseNullDef() {
  return {
    type: "null"
  };
}
var primitiveMappings = {
  ZodString: "string",
  ZodNumber: "number",
  ZodBigInt: "integer",
  ZodBoolean: "boolean",
  ZodNull: "null"
};
function parseUnionDef(def, refs) {
  const options = def.options instanceof Map ? Array.from(def.options.values()) : def.options;
  if (options.every(
    (x) => x._def.typeName in primitiveMappings && (!x._def.checks || !x._def.checks.length)
  )) {
    const types2 = options.reduce((types22, x) => {
      const type = primitiveMappings[x._def.typeName];
      return type && !types22.includes(type) ? [...types22, type] : types22;
    }, []);
    return {
      type: types2.length > 1 ? types2 : types2[0]
    };
  } else if (options.every((x) => x._def.typeName === "ZodLiteral" && !x.description)) {
    const types2 = options.reduce(
      (acc, x) => {
        const type = typeof x._def.value;
        switch (type) {
          case "string":
          case "number":
          case "boolean":
            return [...acc, type];
          case "bigint":
            return [...acc, "integer"];
          case "object":
            if (x._def.value === null)
              return [...acc, "null"];
          case "symbol":
          case "undefined":
          case "function":
          default:
            return acc;
        }
      },
      []
    );
    if (types2.length === options.length) {
      const uniqueTypes = types2.filter((x, i2, a2) => a2.indexOf(x) === i2);
      return {
        type: uniqueTypes.length > 1 ? uniqueTypes : uniqueTypes[0],
        enum: options.reduce(
          (acc, x) => {
            return acc.includes(x._def.value) ? acc : [...acc, x._def.value];
          },
          []
        )
      };
    }
  } else if (options.every((x) => x._def.typeName === "ZodEnum")) {
    return {
      type: "string",
      enum: options.reduce(
        (acc, x) => [
          ...acc,
          ...x._def.values.filter((x2) => !acc.includes(x2))
        ],
        []
      )
    };
  }
  return asAnyOf(def, refs);
}
var asAnyOf = (def, refs) => {
  const anyOf = (def.options instanceof Map ? Array.from(def.options.values()) : def.options).map(
    (x, i2) => parseDef(x._def, {
      ...refs,
      currentPath: [...refs.currentPath, "anyOf", `${i2}`]
    })
  ).filter(
    (x) => !!x && (!refs.strictUnions || typeof x === "object" && Object.keys(x).length > 0)
  );
  return anyOf.length ? { anyOf } : void 0;
};
function parseNullableDef(def, refs) {
  if (["ZodString", "ZodNumber", "ZodBigInt", "ZodBoolean", "ZodNull"].includes(
    def.innerType._def.typeName
  ) && (!def.innerType._def.checks || !def.innerType._def.checks.length)) {
    return {
      type: [
        primitiveMappings[def.innerType._def.typeName],
        "null"
      ]
    };
  }
  const base = parseDef(def.innerType._def, {
    ...refs,
    currentPath: [...refs.currentPath, "anyOf", "0"]
  });
  return base && { anyOf: [base, { type: "null" }] };
}
function parseNumberDef(def) {
  const res = {
    type: "number"
  };
  if (!def.checks)
    return res;
  for (const check2 of def.checks) {
    switch (check2.kind) {
      case "int":
        res.type = "integer";
        break;
      case "min":
        if (check2.inclusive) {
          res.minimum = check2.value;
        } else {
          res.exclusiveMinimum = check2.value;
        }
        break;
      case "max":
        if (check2.inclusive) {
          res.maximum = check2.value;
        } else {
          res.exclusiveMaximum = check2.value;
        }
        break;
      case "multipleOf":
        res.multipleOf = check2.value;
        break;
    }
  }
  return res;
}
function parseObjectDef(def, refs) {
  const result = {
    type: "object",
    properties: {}
  };
  const required2 = [];
  const shape = def.shape();
  for (const propName in shape) {
    let propDef = shape[propName];
    if (propDef === void 0 || propDef._def === void 0) {
      continue;
    }
    const propOptional = safeIsOptional(propDef);
    const parsedDef = parseDef(propDef._def, {
      ...refs,
      currentPath: [...refs.currentPath, "properties", propName],
      propertyPath: [...refs.currentPath, "properties", propName]
    });
    if (parsedDef === void 0) {
      continue;
    }
    result.properties[propName] = parsedDef;
    if (!propOptional) {
      required2.push(propName);
    }
  }
  if (required2.length) {
    result.required = required2;
  }
  const additionalProperties = decideAdditionalProperties(def, refs);
  if (additionalProperties !== void 0) {
    result.additionalProperties = additionalProperties;
  }
  return result;
}
function decideAdditionalProperties(def, refs) {
  if (def.catchall._def.typeName !== "ZodNever") {
    return parseDef(def.catchall._def, {
      ...refs,
      currentPath: [...refs.currentPath, "additionalProperties"]
    });
  }
  switch (def.unknownKeys) {
    case "passthrough":
      return refs.allowedAdditionalProperties;
    case "strict":
      return refs.rejectedAdditionalProperties;
    case "strip":
      return refs.removeAdditionalStrategy === "strict" ? refs.allowedAdditionalProperties : refs.rejectedAdditionalProperties;
  }
}
function safeIsOptional(schema) {
  try {
    return schema.isOptional();
  } catch (e2) {
    return true;
  }
}
var parseOptionalDef = (def, refs) => {
  var _a17;
  if (refs.currentPath.toString() === ((_a17 = refs.propertyPath) == null ? void 0 : _a17.toString())) {
    return parseDef(def.innerType._def, refs);
  }
  const innerSchema = parseDef(def.innerType._def, {
    ...refs,
    currentPath: [...refs.currentPath, "anyOf", "1"]
  });
  return innerSchema ? { anyOf: [{ not: parseAnyDef() }, innerSchema] } : parseAnyDef();
};
var parsePipelineDef = (def, refs) => {
  if (refs.pipeStrategy === "input") {
    return parseDef(def.in._def, refs);
  } else if (refs.pipeStrategy === "output") {
    return parseDef(def.out._def, refs);
  }
  const a2 = parseDef(def.in._def, {
    ...refs,
    currentPath: [...refs.currentPath, "allOf", "0"]
  });
  const b = parseDef(def.out._def, {
    ...refs,
    currentPath: [...refs.currentPath, "allOf", a2 ? "1" : "0"]
  });
  return {
    allOf: [a2, b].filter((x) => x !== void 0)
  };
};
function parsePromiseDef(def, refs) {
  return parseDef(def.type._def, refs);
}
function parseSetDef(def, refs) {
  const items = parseDef(def.valueType._def, {
    ...refs,
    currentPath: [...refs.currentPath, "items"]
  });
  const schema = {
    type: "array",
    uniqueItems: true,
    items
  };
  if (def.minSize) {
    schema.minItems = def.minSize.value;
  }
  if (def.maxSize) {
    schema.maxItems = def.maxSize.value;
  }
  return schema;
}
function parseTupleDef(def, refs) {
  if (def.rest) {
    return {
      type: "array",
      minItems: def.items.length,
      items: def.items.map(
        (x, i2) => parseDef(x._def, {
          ...refs,
          currentPath: [...refs.currentPath, "items", `${i2}`]
        })
      ).reduce(
        (acc, x) => x === void 0 ? acc : [...acc, x],
        []
      ),
      additionalItems: parseDef(def.rest._def, {
        ...refs,
        currentPath: [...refs.currentPath, "additionalItems"]
      })
    };
  } else {
    return {
      type: "array",
      minItems: def.items.length,
      maxItems: def.items.length,
      items: def.items.map(
        (x, i2) => parseDef(x._def, {
          ...refs,
          currentPath: [...refs.currentPath, "items", `${i2}`]
        })
      ).reduce(
        (acc, x) => x === void 0 ? acc : [...acc, x],
        []
      )
    };
  }
}
function parseUndefinedDef() {
  return {
    not: parseAnyDef()
  };
}
function parseUnknownDef() {
  return parseAnyDef();
}
var parseReadonlyDef = (def, refs) => {
  return parseDef(def.innerType._def, refs);
};
var selectParser = (def, typeName, refs) => {
  switch (typeName) {
    case ZodFirstPartyTypeKind2.ZodString:
      return parseStringDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodNumber:
      return parseNumberDef(def);
    case ZodFirstPartyTypeKind2.ZodObject:
      return parseObjectDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodBigInt:
      return parseBigintDef(def);
    case ZodFirstPartyTypeKind2.ZodBoolean:
      return parseBooleanDef();
    case ZodFirstPartyTypeKind2.ZodDate:
      return parseDateDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodUndefined:
      return parseUndefinedDef();
    case ZodFirstPartyTypeKind2.ZodNull:
      return parseNullDef();
    case ZodFirstPartyTypeKind2.ZodArray:
      return parseArrayDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodUnion:
    case ZodFirstPartyTypeKind2.ZodDiscriminatedUnion:
      return parseUnionDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodIntersection:
      return parseIntersectionDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodTuple:
      return parseTupleDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodRecord:
      return parseRecordDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodLiteral:
      return parseLiteralDef(def);
    case ZodFirstPartyTypeKind2.ZodEnum:
      return parseEnumDef(def);
    case ZodFirstPartyTypeKind2.ZodNativeEnum:
      return parseNativeEnumDef(def);
    case ZodFirstPartyTypeKind2.ZodNullable:
      return parseNullableDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodOptional:
      return parseOptionalDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodMap:
      return parseMapDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodSet:
      return parseSetDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodLazy:
      return () => def.getter()._def;
    case ZodFirstPartyTypeKind2.ZodPromise:
      return parsePromiseDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodNaN:
    case ZodFirstPartyTypeKind2.ZodNever:
      return parseNeverDef();
    case ZodFirstPartyTypeKind2.ZodEffects:
      return parseEffectsDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodAny:
      return parseAnyDef();
    case ZodFirstPartyTypeKind2.ZodUnknown:
      return parseUnknownDef();
    case ZodFirstPartyTypeKind2.ZodDefault:
      return parseDefaultDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodBranded:
      return parseBrandedDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodReadonly:
      return parseReadonlyDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodCatch:
      return parseCatchDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodPipeline:
      return parsePipelineDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodFunction:
    case ZodFirstPartyTypeKind2.ZodVoid:
    case ZodFirstPartyTypeKind2.ZodSymbol:
      return void 0;
    default:
      return /* @__PURE__ */ ((_) => void 0)(typeName);
  }
};
function parseDef(def, refs, forceResolution = false) {
  var _a17;
  const seenItem = refs.seen.get(def);
  if (refs.override) {
    const overrideResult = (_a17 = refs.override) == null ? void 0 : _a17.call(
      refs,
      def,
      refs,
      seenItem,
      forceResolution
    );
    if (overrideResult !== ignoreOverride) {
      return overrideResult;
    }
  }
  if (seenItem && !forceResolution) {
    const seenSchema = get$ref(seenItem, refs);
    if (seenSchema !== void 0) {
      return seenSchema;
    }
  }
  const newItem = { def, path: refs.currentPath, jsonSchema: void 0 };
  refs.seen.set(def, newItem);
  const jsonSchemaOrGetter = selectParser(def, def.typeName, refs);
  const jsonSchema2 = typeof jsonSchemaOrGetter === "function" ? parseDef(jsonSchemaOrGetter(), refs) : jsonSchemaOrGetter;
  if (jsonSchema2) {
    addMeta(def, refs, jsonSchema2);
  }
  if (refs.postProcess) {
    const postProcessResult = refs.postProcess(jsonSchema2, def, refs);
    newItem.jsonSchema = jsonSchema2;
    return postProcessResult;
  }
  newItem.jsonSchema = jsonSchema2;
  return jsonSchema2;
}
var get$ref = (item, refs) => {
  switch (refs.$refStrategy) {
    case "root":
      return { $ref: item.path.join("/") };
    case "relative":
      return { $ref: getRelativePath(refs.currentPath, item.path) };
    case "none":
    case "seen": {
      if (item.path.length < refs.currentPath.length && item.path.every((value, index) => refs.currentPath[index] === value)) {
        console.warn(
          `Recursive reference detected at ${refs.currentPath.join(
            "/"
          )}! Defaulting to any`
        );
        return parseAnyDef();
      }
      return refs.$refStrategy === "seen" ? parseAnyDef() : void 0;
    }
  }
};
var addMeta = (def, refs, jsonSchema2) => {
  if (def.description) {
    jsonSchema2.description = def.description;
  }
  return jsonSchema2;
};
var getRefs = (options) => {
  const _options = getDefaultOptions(options);
  const currentPath = _options.name !== void 0 ? [..._options.basePath, _options.definitionPath, _options.name] : _options.basePath;
  return {
    ..._options,
    currentPath,
    propertyPath: void 0,
    seen: new Map(
      Object.entries(_options.definitions).map(([name17, def]) => [
        def._def,
        {
          def: def._def,
          path: [..._options.basePath, _options.definitionPath, name17],
          // Resolution of references will be forced even though seen, so it's ok that the schema is undefined here for now.
          jsonSchema: void 0
        }
      ])
    )
  };
};
var zodToJsonSchema = (schema, options) => {
  var _a17;
  const refs = getRefs(options);
  let definitions = typeof options === "object" && options.definitions ? Object.entries(options.definitions).reduce(
    (acc, [name24, schema2]) => {
      var _a24;
      return {
        ...acc,
        [name24]: (_a24 = parseDef(
          schema2._def,
          {
            ...refs,
            currentPath: [...refs.basePath, refs.definitionPath, name24]
          },
          true
        )) != null ? _a24 : parseAnyDef()
      };
    },
    {}
  ) : void 0;
  const name17 = typeof options === "string" ? options : (options == null ? void 0 : options.nameStrategy) === "title" ? void 0 : options == null ? void 0 : options.name;
  const main = (_a17 = parseDef(
    schema._def,
    name17 === void 0 ? refs : {
      ...refs,
      currentPath: [...refs.basePath, refs.definitionPath, name17]
    },
    false
  )) != null ? _a17 : parseAnyDef();
  const title = typeof options === "object" && options.name !== void 0 && options.nameStrategy === "title" ? options.name : void 0;
  if (title !== void 0) {
    main.title = title;
  }
  const combined = name17 === void 0 ? definitions ? {
    ...main,
    [refs.definitionPath]: definitions
  } : main : {
    $ref: [
      ...refs.$refStrategy === "relative" ? [] : refs.basePath,
      refs.definitionPath,
      name17
    ].join("/"),
    [refs.definitionPath]: {
      ...definitions,
      [name17]: main
    }
  };
  combined.$schema = "http://json-schema.org/draft-07/schema#";
  return combined;
};
var zod_to_json_schema_default = zodToJsonSchema;
function zod3Schema(zodSchema2, options) {
  var _a17;
  const useReferences = (_a17 = options == null ? void 0 : options.useReferences) != null ? _a17 : false;
  return jsonSchema(
    zod_to_json_schema_default(zodSchema2, {
      $refStrategy: useReferences ? "root" : "none"
    }),
    {
      validate: async (value) => {
        const result = await zodSchema2.safeParseAsync(value);
        return result.success ? { success: true, value: result.data } : { success: false, error: result.error };
      }
    }
  );
}
function zod4Schema(zodSchema2, options) {
  var _a17;
  const useReferences = (_a17 = options == null ? void 0 : options.useReferences) != null ? _a17 : false;
  const z4JSONSchema = toJSONSchema(zodSchema2, {
    target: "draft-7",
    io: "output",
    reused: useReferences ? "ref" : "inline"
  });
  return jsonSchema(z4JSONSchema, {
    validate: async (value) => {
      const result = await safeParseAsync2(zodSchema2, value);
      return result.success ? { success: true, value: result.data } : { success: false, error: result.error };
    }
  });
}
function isZod4Schema(zodSchema2) {
  return "_zod" in zodSchema2;
}
function zodSchema(zodSchema2, options) {
  if (isZod4Schema(zodSchema2)) {
    return zod4Schema(zodSchema2, options);
  } else {
    return zod3Schema(zodSchema2, options);
  }
}
var schemaSymbol = Symbol.for("vercel.ai.schema");
function jsonSchema(jsonSchema2, {
  validate
} = {}) {
  return {
    [schemaSymbol]: true,
    _type: void 0,
    // should never be used directly
    [validatorSymbol]: true,
    jsonSchema: jsonSchema2,
    validate
  };
}
function isSchema(value) {
  return typeof value === "object" && value !== null && schemaSymbol in value && value[schemaSymbol] === true && "jsonSchema" in value && "validate" in value;
}
function asSchema(schema) {
  return schema == null ? jsonSchema({
    properties: {},
    additionalProperties: false
  }) : isSchema(schema) ? schema : zodSchema(schema);
}
var { btoa: btoa2, atob: atob2 } = globalThis;
function convertBase64ToUint8Array(base64String) {
  const base64Url = base64String.replace(/-/g, "+").replace(/_/g, "/");
  const latin1string = atob2(base64Url);
  return Uint8Array.from(latin1string, (byte) => byte.codePointAt(0));
}
function convertUint8ArrayToBase64(array2) {
  let latin1string = "";
  for (let i2 = 0; i2 < array2.length; i2++) {
    latin1string += String.fromCodePoint(array2[i2]);
  }
  return btoa2(latin1string);
}
function withoutTrailingSlash(url2) {
  return url2 == null ? void 0 : url2.replace(/\/$/, "");
}
function isAsyncIterable(obj) {
  return obj != null && typeof obj[Symbol.asyncIterator] === "function";
}
async function* executeTool({
  execute,
  input,
  options
}) {
  const result = execute(input, options);
  if (isAsyncIterable(result)) {
    let lastOutput;
    for await (const output of result) {
      lastOutput = output;
      yield { type: "preliminary", output };
    }
    yield { type: "final", output: lastOutput };
  } else {
    yield { type: "final", output: await result };
  }
}

// node_modules/@ai-sdk/gateway/dist/index.mjs
var marker15 = "vercel.ai.gateway.error";
var symbol16 = Symbol.for(marker15);
var _a15;
var _b;
var GatewayError = class _GatewayError extends (_b = Error, _a15 = symbol16, _b) {
  constructor({
    message,
    statusCode = 500,
    cause
  }) {
    super(message);
    this[_a15] = true;
    this.statusCode = statusCode;
    this.cause = cause;
  }
  /**
   * Checks if the given error is a Gateway Error.
   * @param {unknown} error - The error to check.
   * @returns {boolean} True if the error is a Gateway Error, false otherwise.
   */
  static isInstance(error45) {
    return _GatewayError.hasMarker(error45);
  }
  static hasMarker(error45) {
    return typeof error45 === "object" && error45 !== null && symbol16 in error45 && error45[symbol16] === true;
  }
};
var name14 = "GatewayAuthenticationError";
var marker22 = `vercel.ai.gateway.error.${name14}`;
var symbol22 = Symbol.for(marker22);
var _a22;
var _b2;
var GatewayAuthenticationError = class _GatewayAuthenticationError extends (_b2 = GatewayError, _a22 = symbol22, _b2) {
  constructor({
    message = "Authentication failed",
    statusCode = 401,
    cause
  } = {}) {
    super({ message, statusCode, cause });
    this[_a22] = true;
    this.name = name14;
    this.type = "authentication_error";
  }
  static isInstance(error45) {
    return GatewayError.hasMarker(error45) && symbol22 in error45;
  }
  /**
   * Creates a contextual error message when authentication fails
   */
  static createContextualError({
    apiKeyProvided,
    oidcTokenProvided,
    message = "Authentication failed",
    statusCode = 401,
    cause
  }) {
    let contextualMessage;
    if (apiKeyProvided) {
      contextualMessage = `AI Gateway authentication failed: Invalid API key provided.

The token is expected to be provided via the 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.`;
    } else if (oidcTokenProvided) {
      contextualMessage = `AI Gateway authentication failed: Invalid OIDC token provided.

The token is expected to be provided via the 'VERCEL_OIDC_TOKEN' environment variable. It expires every 12 hours.
- make sure your Vercel project settings have OIDC enabled
- if running locally with 'vercel dev', the token is automatically obtained and refreshed
- if running locally with your own dev server, run 'vercel env pull' to fetch the token
- in production/preview, the token is automatically obtained and refreshed

Alternative: Provide an API key via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.`;
    } else {
      contextualMessage = `AI Gateway authentication failed: No authentication provided.

Provide either an API key or OIDC token.

API key instructions:

The token is expected to be provided via the 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.

OIDC token instructions:

The token is expected to be provided via the 'VERCEL_OIDC_TOKEN' environment variable. It expires every 12 hours.
- make sure your Vercel project settings have OIDC enabled
- if running locally with 'vercel dev', the token is automatically obtained and refreshed
- if running locally with your own dev server, run 'vercel env pull' to fetch the token
- in production/preview, the token is automatically obtained and refreshed`;
    }
    return new _GatewayAuthenticationError({
      message: contextualMessage,
      statusCode,
      cause
    });
  }
};
var name22 = "GatewayInvalidRequestError";
var marker32 = `vercel.ai.gateway.error.${name22}`;
var symbol32 = Symbol.for(marker32);
var _a32;
var _b3;
var GatewayInvalidRequestError = class extends (_b3 = GatewayError, _a32 = symbol32, _b3) {
  constructor({
    message = "Invalid request",
    statusCode = 400,
    cause
  } = {}) {
    super({ message, statusCode, cause });
    this[_a32] = true;
    this.name = name22;
    this.type = "invalid_request_error";
  }
  static isInstance(error45) {
    return GatewayError.hasMarker(error45) && symbol32 in error45;
  }
};
var name32 = "GatewayRateLimitError";
var marker42 = `vercel.ai.gateway.error.${name32}`;
var symbol42 = Symbol.for(marker42);
var _a42;
var _b4;
var GatewayRateLimitError = class extends (_b4 = GatewayError, _a42 = symbol42, _b4) {
  constructor({
    message = "Rate limit exceeded",
    statusCode = 429,
    cause
  } = {}) {
    super({ message, statusCode, cause });
    this[_a42] = true;
    this.name = name32;
    this.type = "rate_limit_exceeded";
  }
  static isInstance(error45) {
    return GatewayError.hasMarker(error45) && symbol42 in error45;
  }
};
var name42 = "GatewayModelNotFoundError";
var marker52 = `vercel.ai.gateway.error.${name42}`;
var symbol52 = Symbol.for(marker52);
var modelNotFoundParamSchema = external_exports.object({
  modelId: external_exports.string()
});
var _a52;
var _b5;
var GatewayModelNotFoundError = class extends (_b5 = GatewayError, _a52 = symbol52, _b5) {
  constructor({
    message = "Model not found",
    statusCode = 404,
    modelId,
    cause
  } = {}) {
    super({ message, statusCode, cause });
    this[_a52] = true;
    this.name = name42;
    this.type = "model_not_found";
    this.modelId = modelId;
  }
  static isInstance(error45) {
    return GatewayError.hasMarker(error45) && symbol52 in error45;
  }
};
var name52 = "GatewayInternalServerError";
var marker62 = `vercel.ai.gateway.error.${name52}`;
var symbol62 = Symbol.for(marker62);
var _a62;
var _b6;
var GatewayInternalServerError = class extends (_b6 = GatewayError, _a62 = symbol62, _b6) {
  constructor({
    message = "Internal server error",
    statusCode = 500,
    cause
  } = {}) {
    super({ message, statusCode, cause });
    this[_a62] = true;
    this.name = name52;
    this.type = "internal_server_error";
  }
  static isInstance(error45) {
    return GatewayError.hasMarker(error45) && symbol62 in error45;
  }
};
var name62 = "GatewayResponseError";
var marker72 = `vercel.ai.gateway.error.${name62}`;
var symbol72 = Symbol.for(marker72);
var _a72;
var _b7;
var GatewayResponseError = class extends (_b7 = GatewayError, _a72 = symbol72, _b7) {
  constructor({
    message = "Invalid response from Gateway",
    statusCode = 502,
    response,
    validationError,
    cause
  } = {}) {
    super({ message, statusCode, cause });
    this[_a72] = true;
    this.name = name62;
    this.type = "response_error";
    this.response = response;
    this.validationError = validationError;
  }
  static isInstance(error45) {
    return GatewayError.hasMarker(error45) && symbol72 in error45;
  }
};
function createGatewayErrorFromResponse({
  response,
  statusCode,
  defaultMessage = "Gateway request failed",
  cause,
  authMethod
}) {
  const parseResult = gatewayErrorResponseSchema.safeParse(response);
  if (!parseResult.success) {
    return new GatewayResponseError({
      message: `Invalid error response format: ${defaultMessage}`,
      statusCode,
      response,
      validationError: parseResult.error,
      cause
    });
  }
  const validatedResponse = parseResult.data;
  const errorType = validatedResponse.error.type;
  const message = validatedResponse.error.message;
  switch (errorType) {
    case "authentication_error":
      return GatewayAuthenticationError.createContextualError({
        apiKeyProvided: authMethod === "api-key",
        oidcTokenProvided: authMethod === "oidc",
        statusCode,
        cause
      });
    case "invalid_request_error":
      return new GatewayInvalidRequestError({ message, statusCode, cause });
    case "rate_limit_exceeded":
      return new GatewayRateLimitError({ message, statusCode, cause });
    case "model_not_found": {
      const modelResult = modelNotFoundParamSchema.safeParse(
        validatedResponse.error.param
      );
      return new GatewayModelNotFoundError({
        message,
        statusCode,
        modelId: modelResult.success ? modelResult.data.modelId : void 0,
        cause
      });
    }
    case "internal_server_error":
      return new GatewayInternalServerError({ message, statusCode, cause });
    default:
      return new GatewayInternalServerError({ message, statusCode, cause });
  }
}
var gatewayErrorResponseSchema = external_exports.object({
  error: external_exports.object({
    message: external_exports.string(),
    type: external_exports.string().nullish(),
    param: external_exports.unknown().nullish(),
    code: external_exports.union([external_exports.string(), external_exports.number()]).nullish()
  })
});
function asGatewayError(error45, authMethod) {
  var _a83;
  if (GatewayError.isInstance(error45)) {
    return error45;
  }
  if (APICallError.isInstance(error45)) {
    return createGatewayErrorFromResponse({
      response: extractApiCallResponse(error45),
      statusCode: (_a83 = error45.statusCode) != null ? _a83 : 500,
      defaultMessage: "Gateway request failed",
      cause: error45,
      authMethod
    });
  }
  return createGatewayErrorFromResponse({
    response: {},
    statusCode: 500,
    defaultMessage: error45 instanceof Error ? `Gateway request failed: ${error45.message}` : "Unknown Gateway error",
    cause: error45,
    authMethod
  });
}
function extractApiCallResponse(error45) {
  if (error45.data !== void 0) {
    return error45.data;
  }
  if (error45.responseBody != null) {
    try {
      return JSON.parse(error45.responseBody);
    } catch (e2) {
      return error45.responseBody;
    }
  }
  return {};
}
var GATEWAY_AUTH_METHOD_HEADER = "ai-gateway-auth-method";
function parseAuthMethod(headers) {
  const result = gatewayAuthMethodSchema.safeParse(
    headers[GATEWAY_AUTH_METHOD_HEADER]
  );
  return result.success ? result.data : void 0;
}
var gatewayAuthMethodSchema = external_exports.union([
  external_exports.literal("api-key"),
  external_exports.literal("oidc")
]);
var GatewayFetchMetadata = class {
  constructor(config2) {
    this.config = config2;
  }
  async getAvailableModels() {
    try {
      const { value } = await getFromApi({
        url: `${this.config.baseURL}/config`,
        headers: await resolve(this.config.headers()),
        successfulResponseHandler: createJsonResponseHandler(
          gatewayFetchMetadataSchema
        ),
        failedResponseHandler: createJsonErrorResponseHandler({
          errorSchema: external_exports.any(),
          errorToMessage: (data) => data
        }),
        fetch: this.config.fetch
      });
      return value;
    } catch (error45) {
      throw asGatewayError(error45);
    }
  }
};
var gatewayLanguageModelSpecificationSchema = external_exports.object({
  specificationVersion: external_exports.literal("v2"),
  provider: external_exports.string(),
  modelId: external_exports.string()
});
var gatewayLanguageModelPricingSchema = external_exports.object({
  input: external_exports.string(),
  output: external_exports.string(),
  input_cache_read: external_exports.string().nullish(),
  input_cache_write: external_exports.string().nullish()
}).transform(({ input, output, input_cache_read, input_cache_write }) => ({
  input,
  output,
  ...input_cache_read ? { cachedInputTokens: input_cache_read } : {},
  ...input_cache_write ? { cacheCreationInputTokens: input_cache_write } : {}
}));
var gatewayLanguageModelEntrySchema = external_exports.object({
  id: external_exports.string(),
  name: external_exports.string(),
  description: external_exports.string().nullish(),
  pricing: gatewayLanguageModelPricingSchema.nullish(),
  specification: gatewayLanguageModelSpecificationSchema,
  modelType: external_exports.enum(["language", "embedding", "image"]).nullish()
});
var gatewayFetchMetadataSchema = external_exports.object({
  models: external_exports.array(gatewayLanguageModelEntrySchema)
});
var GatewayLanguageModel = class {
  constructor(modelId, config2) {
    this.modelId = modelId;
    this.config = config2;
    this.specificationVersion = "v2";
    this.supportedUrls = { "*/*": [/.*/] };
  }
  get provider() {
    return this.config.provider;
  }
  async getArgs(options) {
    const { abortSignal: _abortSignal, ...optionsWithoutSignal } = options;
    return {
      args: this.maybeEncodeFileParts(optionsWithoutSignal),
      warnings: []
    };
  }
  async doGenerate(options) {
    const { args, warnings } = await this.getArgs(options);
    const { abortSignal } = options;
    const resolvedHeaders = await resolve(this.config.headers());
    try {
      const {
        responseHeaders,
        value: responseBody,
        rawValue: rawResponse
      } = await postJsonToApi({
        url: this.getUrl(),
        headers: combineHeaders(
          resolvedHeaders,
          options.headers,
          this.getModelConfigHeaders(this.modelId, false),
          await resolve(this.config.o11yHeaders)
        ),
        body: args,
        successfulResponseHandler: createJsonResponseHandler(external_exports.any()),
        failedResponseHandler: createJsonErrorResponseHandler({
          errorSchema: external_exports.any(),
          errorToMessage: (data) => data
        }),
        ...abortSignal && { abortSignal },
        fetch: this.config.fetch
      });
      return {
        ...responseBody,
        request: { body: args },
        response: { headers: responseHeaders, body: rawResponse },
        warnings
      };
    } catch (error45) {
      throw asGatewayError(error45, parseAuthMethod(resolvedHeaders));
    }
  }
  async doStream(options) {
    const { args, warnings } = await this.getArgs(options);
    const { abortSignal } = options;
    const resolvedHeaders = await resolve(this.config.headers());
    try {
      const { value: response, responseHeaders } = await postJsonToApi({
        url: this.getUrl(),
        headers: combineHeaders(
          resolvedHeaders,
          options.headers,
          this.getModelConfigHeaders(this.modelId, true),
          await resolve(this.config.o11yHeaders)
        ),
        body: args,
        successfulResponseHandler: createEventSourceResponseHandler(external_exports.any()),
        failedResponseHandler: createJsonErrorResponseHandler({
          errorSchema: external_exports.any(),
          errorToMessage: (data) => data
        }),
        ...abortSignal && { abortSignal },
        fetch: this.config.fetch
      });
      return {
        stream: response.pipeThrough(
          new TransformStream({
            start(controller) {
              if (warnings.length > 0) {
                controller.enqueue({ type: "stream-start", warnings });
              }
            },
            transform(chunk, controller) {
              if (chunk.success) {
                const streamPart = chunk.value;
                if (streamPart.type === "raw" && !options.includeRawChunks) {
                  return;
                }
                if (streamPart.type === "response-metadata" && streamPart.timestamp && typeof streamPart.timestamp === "string") {
                  streamPart.timestamp = new Date(streamPart.timestamp);
                }
                controller.enqueue(streamPart);
              } else {
                controller.error(
                  chunk.error
                );
              }
            }
          })
        ),
        request: { body: args },
        response: { headers: responseHeaders }
      };
    } catch (error45) {
      throw asGatewayError(error45, parseAuthMethod(resolvedHeaders));
    }
  }
  isFilePart(part) {
    return part && typeof part === "object" && "type" in part && part.type === "file";
  }
  /**
   * Encodes file parts in the prompt to base64. Mutates the passed options
   * instance directly to avoid copying the file data.
   * @param options - The options to encode.
   * @returns The options with the file parts encoded.
   */
  maybeEncodeFileParts(options) {
    for (const message of options.prompt) {
      for (const part of message.content) {
        if (this.isFilePart(part)) {
          const filePart = part;
          if (filePart.data instanceof Uint8Array) {
            const buffer = Uint8Array.from(filePart.data);
            const base64Data = Buffer.from(buffer).toString("base64");
            filePart.data = new URL(
              `data:${filePart.mediaType || "application/octet-stream"};base64,${base64Data}`
            );
          }
        }
      }
    }
    return options;
  }
  getUrl() {
    return `${this.config.baseURL}/language-model`;
  }
  getModelConfigHeaders(modelId, streaming) {
    return {
      "ai-language-model-specification-version": "2",
      "ai-language-model-id": modelId,
      "ai-language-model-streaming": String(streaming)
    };
  }
};
var GatewayEmbeddingModel = class {
  constructor(modelId, config2) {
    this.modelId = modelId;
    this.config = config2;
    this.specificationVersion = "v2";
    this.maxEmbeddingsPerCall = 2048;
    this.supportsParallelCalls = true;
  }
  get provider() {
    return this.config.provider;
  }
  async doEmbed({
    values,
    headers,
    abortSignal,
    providerOptions
  }) {
    var _a83;
    const resolvedHeaders = await resolve(this.config.headers());
    try {
      const {
        responseHeaders,
        value: responseBody,
        rawValue
      } = await postJsonToApi({
        url: this.getUrl(),
        headers: combineHeaders(
          resolvedHeaders,
          headers != null ? headers : {},
          this.getModelConfigHeaders(),
          await resolve(this.config.o11yHeaders)
        ),
        body: {
          input: values.length === 1 ? values[0] : values,
          ...providerOptions ? { providerOptions } : {}
        },
        successfulResponseHandler: createJsonResponseHandler(
          gatewayEmbeddingResponseSchema
        ),
        failedResponseHandler: createJsonErrorResponseHandler({
          errorSchema: external_exports.any(),
          errorToMessage: (data) => data
        }),
        ...abortSignal && { abortSignal },
        fetch: this.config.fetch
      });
      return {
        embeddings: responseBody.embeddings,
        usage: (_a83 = responseBody.usage) != null ? _a83 : void 0,
        providerMetadata: responseBody.providerMetadata,
        response: { headers: responseHeaders, body: rawValue }
      };
    } catch (error45) {
      throw asGatewayError(error45, parseAuthMethod(resolvedHeaders));
    }
  }
  getUrl() {
    return `${this.config.baseURL}/embedding-model`;
  }
  getModelConfigHeaders() {
    return {
      "ai-embedding-model-specification-version": "2",
      "ai-model-id": this.modelId
    };
  }
};
var gatewayEmbeddingResponseSchema = external_exports.object({
  embeddings: external_exports.array(external_exports.array(external_exports.number())),
  usage: external_exports.object({ tokens: external_exports.number() }).nullish(),
  providerMetadata: external_exports.record(external_exports.string(), external_exports.record(external_exports.string(), external_exports.unknown())).optional()
});
async function getVercelOidcToken() {
  var _a83, _b8;
  const token = (_b8 = (_a83 = getContext().headers) == null ? void 0 : _a83["x-vercel-oidc-token"]) != null ? _b8 : process.env.VERCEL_OIDC_TOKEN;
  if (!token) {
    throw new GatewayAuthenticationError({
      message: "OIDC token not available",
      statusCode: 401
    });
  }
  return token;
}
async function getVercelRequestId() {
  var _a83;
  return (_a83 = getContext().headers) == null ? void 0 : _a83["x-vercel-id"];
}
var SYMBOL_FOR_REQ_CONTEXT = Symbol.for("@vercel/request-context");
function getContext() {
  var _a83, _b8, _c;
  const fromSymbol = globalThis;
  return (_c = (_b8 = (_a83 = fromSymbol[SYMBOL_FOR_REQ_CONTEXT]) == null ? void 0 : _a83.get) == null ? void 0 : _b8.call(_a83)) != null ? _c : {};
}
var AI_GATEWAY_PROTOCOL_VERSION = "0.0.1";
function createGatewayProvider(options = {}) {
  var _a83, _b8;
  let pendingMetadata = null;
  let metadataCache = null;
  const cacheRefreshMillis = (_a83 = options.metadataCacheRefreshMillis) != null ? _a83 : 1e3 * 60 * 5;
  let lastFetchTime = 0;
  const baseURL = (_b8 = withoutTrailingSlash(options.baseURL)) != null ? _b8 : "https://ai-gateway.vercel.sh/v1/ai";
  const getHeaders = async () => {
    const auth = await getGatewayAuthToken(options);
    if (auth) {
      return {
        Authorization: `Bearer ${auth.token}`,
        "ai-gateway-protocol-version": AI_GATEWAY_PROTOCOL_VERSION,
        [GATEWAY_AUTH_METHOD_HEADER]: auth.authMethod,
        ...options.headers
      };
    }
    throw GatewayAuthenticationError.createContextualError({
      apiKeyProvided: false,
      oidcTokenProvided: false,
      statusCode: 401
    });
  };
  const createO11yHeaders = () => {
    const deploymentId = loadOptionalSetting({
      settingValue: void 0,
      environmentVariableName: "VERCEL_DEPLOYMENT_ID"
    });
    const environment = loadOptionalSetting({
      settingValue: void 0,
      environmentVariableName: "VERCEL_ENV"
    });
    const region = loadOptionalSetting({
      settingValue: void 0,
      environmentVariableName: "VERCEL_REGION"
    });
    return async () => {
      const requestId = await getVercelRequestId();
      return {
        ...deploymentId && { "ai-o11y-deployment-id": deploymentId },
        ...environment && { "ai-o11y-environment": environment },
        ...region && { "ai-o11y-region": region },
        ...requestId && { "ai-o11y-request-id": requestId }
      };
    };
  };
  const createLanguageModel = (modelId) => {
    return new GatewayLanguageModel(modelId, {
      provider: "gateway",
      baseURL,
      headers: getHeaders,
      fetch: options.fetch,
      o11yHeaders: createO11yHeaders()
    });
  };
  const getAvailableModels = async () => {
    var _a93, _b9, _c;
    const now2 = (_c = (_b9 = (_a93 = options._internal) == null ? void 0 : _a93.currentDate) == null ? void 0 : _b9.call(_a93).getTime()) != null ? _c : Date.now();
    if (!pendingMetadata || now2 - lastFetchTime > cacheRefreshMillis) {
      lastFetchTime = now2;
      pendingMetadata = new GatewayFetchMetadata({
        baseURL,
        headers: getHeaders,
        fetch: options.fetch
      }).getAvailableModels().then((metadata) => {
        metadataCache = metadata;
        return metadata;
      }).catch(async (error45) => {
        throw asGatewayError(error45, parseAuthMethod(await getHeaders()));
      });
    }
    return metadataCache ? Promise.resolve(metadataCache) : pendingMetadata;
  };
  const provider = function(modelId) {
    if (new.target) {
      throw new Error(
        "The Gateway Provider model function cannot be called with the new keyword."
      );
    }
    return createLanguageModel(modelId);
  };
  provider.getAvailableModels = getAvailableModels;
  provider.imageModel = (modelId) => {
    throw new NoSuchModelError({ modelId, modelType: "imageModel" });
  };
  provider.languageModel = createLanguageModel;
  provider.textEmbeddingModel = (modelId) => {
    return new GatewayEmbeddingModel(modelId, {
      provider: "gateway",
      baseURL,
      headers: getHeaders,
      fetch: options.fetch,
      o11yHeaders: createO11yHeaders()
    });
  };
  return provider;
}
var gateway = createGatewayProvider();
async function getGatewayAuthToken(options) {
  const apiKey = loadOptionalSetting({
    settingValue: options.apiKey,
    environmentVariableName: "AI_GATEWAY_API_KEY"
  });
  if (apiKey) {
    return {
      token: apiKey,
      authMethod: "api-key"
    };
  }
  try {
    const oidcToken = await getVercelOidcToken();
    return {
      token: oidcToken,
      authMethod: "oidc"
    };
  } catch (e2) {
    return null;
  }
}

// node_modules/@opentelemetry/api/build/esm/platform/node/globalThis.js
var _globalThis = typeof globalThis === "object" ? globalThis : global;

// node_modules/@opentelemetry/api/build/esm/version.js
var VERSION2 = "1.9.0";

// node_modules/@opentelemetry/api/build/esm/internal/semver.js
var re = /^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;
function _makeCompatibilityCheck(ownVersion) {
  var acceptedVersions = /* @__PURE__ */ new Set([ownVersion]);
  var rejectedVersions = /* @__PURE__ */ new Set();
  var myVersionMatch = ownVersion.match(re);
  if (!myVersionMatch) {
    return function() {
      return false;
    };
  }
  var ownVersionParsed = {
    major: +myVersionMatch[1],
    minor: +myVersionMatch[2],
    patch: +myVersionMatch[3],
    prerelease: myVersionMatch[4]
  };
  if (ownVersionParsed.prerelease != null) {
    return function isExactmatch(globalVersion) {
      return globalVersion === ownVersion;
    };
  }
  function _reject(v) {
    rejectedVersions.add(v);
    return false;
  }
  function _accept(v) {
    acceptedVersions.add(v);
    return true;
  }
  return function isCompatible2(globalVersion) {
    if (acceptedVersions.has(globalVersion)) {
      return true;
    }
    if (rejectedVersions.has(globalVersion)) {
      return false;
    }
    var globalVersionMatch = globalVersion.match(re);
    if (!globalVersionMatch) {
      return _reject(globalVersion);
    }
    var globalVersionParsed = {
      major: +globalVersionMatch[1],
      minor: +globalVersionMatch[2],
      patch: +globalVersionMatch[3],
      prerelease: globalVersionMatch[4]
    };
    if (globalVersionParsed.prerelease != null) {
      return _reject(globalVersion);
    }
    if (ownVersionParsed.major !== globalVersionParsed.major) {
      return _reject(globalVersion);
    }
    if (ownVersionParsed.major === 0) {
      if (ownVersionParsed.minor === globalVersionParsed.minor && ownVersionParsed.patch <= globalVersionParsed.patch) {
        return _accept(globalVersion);
      }
      return _reject(globalVersion);
    }
    if (ownVersionParsed.minor <= globalVersionParsed.minor) {
      return _accept(globalVersion);
    }
    return _reject(globalVersion);
  };
}
var isCompatible = _makeCompatibilityCheck(VERSION2);

// node_modules/@opentelemetry/api/build/esm/internal/global-utils.js
var major = VERSION2.split(".")[0];
var GLOBAL_OPENTELEMETRY_API_KEY = Symbol.for("opentelemetry.js.api." + major);
var _global = _globalThis;
function registerGlobal(type, instance, diag, allowOverride) {
  var _a17;
  if (allowOverride === void 0) {
    allowOverride = false;
  }
  var api = _global[GLOBAL_OPENTELEMETRY_API_KEY] = (_a17 = _global[GLOBAL_OPENTELEMETRY_API_KEY]) !== null && _a17 !== void 0 ? _a17 : {
    version: VERSION2
  };
  if (!allowOverride && api[type]) {
    var err = new Error("@opentelemetry/api: Attempted duplicate registration of API: " + type);
    diag.error(err.stack || err.message);
    return false;
  }
  if (api.version !== VERSION2) {
    var err = new Error("@opentelemetry/api: Registration of version v" + api.version + " for " + type + " does not match previously registered API v" + VERSION2);
    diag.error(err.stack || err.message);
    return false;
  }
  api[type] = instance;
  diag.debug("@opentelemetry/api: Registered a global for " + type + " v" + VERSION2 + ".");
  return true;
}
function getGlobal(type) {
  var _a17, _b8;
  var globalVersion = (_a17 = _global[GLOBAL_OPENTELEMETRY_API_KEY]) === null || _a17 === void 0 ? void 0 : _a17.version;
  if (!globalVersion || !isCompatible(globalVersion)) {
    return;
  }
  return (_b8 = _global[GLOBAL_OPENTELEMETRY_API_KEY]) === null || _b8 === void 0 ? void 0 : _b8[type];
}
function unregisterGlobal(type, diag) {
  diag.debug("@opentelemetry/api: Unregistering a global for " + type + " v" + VERSION2 + ".");
  var api = _global[GLOBAL_OPENTELEMETRY_API_KEY];
  if (api) {
    delete api[type];
  }
}

// node_modules/@opentelemetry/api/build/esm/diag/ComponentLogger.js
var __read = function(o2, n2) {
  var m = typeof Symbol === "function" && o2[Symbol.iterator];
  if (!m) return o2;
  var i2 = m.call(o2), r2, ar = [], e2;
  try {
    while ((n2 === void 0 || n2-- > 0) && !(r2 = i2.next()).done) ar.push(r2.value);
  } catch (error45) {
    e2 = { error: error45 };
  } finally {
    try {
      if (r2 && !r2.done && (m = i2["return"])) m.call(i2);
    } finally {
      if (e2) throw e2.error;
    }
  }
  return ar;
};
var __spreadArray = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i2 = 0, l = from.length, ar; i2 < l; i2++) {
    if (ar || !(i2 in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i2);
      ar[i2] = from[i2];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var DiagComponentLogger = (
  /** @class */
  (function() {
    function DiagComponentLogger2(props) {
      this._namespace = props.namespace || "DiagComponentLogger";
    }
    DiagComponentLogger2.prototype.debug = function() {
      var args = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
      }
      return logProxy("debug", this._namespace, args);
    };
    DiagComponentLogger2.prototype.error = function() {
      var args = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
      }
      return logProxy("error", this._namespace, args);
    };
    DiagComponentLogger2.prototype.info = function() {
      var args = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
      }
      return logProxy("info", this._namespace, args);
    };
    DiagComponentLogger2.prototype.warn = function() {
      var args = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
      }
      return logProxy("warn", this._namespace, args);
    };
    DiagComponentLogger2.prototype.verbose = function() {
      var args = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
      }
      return logProxy("verbose", this._namespace, args);
    };
    return DiagComponentLogger2;
  })()
);
function logProxy(funcName, namespace, args) {
  var logger = getGlobal("diag");
  if (!logger) {
    return;
  }
  args.unshift(namespace);
  return logger[funcName].apply(logger, __spreadArray([], __read(args), false));
}

// node_modules/@opentelemetry/api/build/esm/diag/types.js
var DiagLogLevel;
(function(DiagLogLevel2) {
  DiagLogLevel2[DiagLogLevel2["NONE"] = 0] = "NONE";
  DiagLogLevel2[DiagLogLevel2["ERROR"] = 30] = "ERROR";
  DiagLogLevel2[DiagLogLevel2["WARN"] = 50] = "WARN";
  DiagLogLevel2[DiagLogLevel2["INFO"] = 60] = "INFO";
  DiagLogLevel2[DiagLogLevel2["DEBUG"] = 70] = "DEBUG";
  DiagLogLevel2[DiagLogLevel2["VERBOSE"] = 80] = "VERBOSE";
  DiagLogLevel2[DiagLogLevel2["ALL"] = 9999] = "ALL";
})(DiagLogLevel || (DiagLogLevel = {}));

// node_modules/@opentelemetry/api/build/esm/diag/internal/logLevelLogger.js
function createLogLevelDiagLogger(maxLevel, logger) {
  if (maxLevel < DiagLogLevel.NONE) {
    maxLevel = DiagLogLevel.NONE;
  } else if (maxLevel > DiagLogLevel.ALL) {
    maxLevel = DiagLogLevel.ALL;
  }
  logger = logger || {};
  function _filterFunc(funcName, theLevel) {
    var theFunc = logger[funcName];
    if (typeof theFunc === "function" && maxLevel >= theLevel) {
      return theFunc.bind(logger);
    }
    return function() {
    };
  }
  return {
    error: _filterFunc("error", DiagLogLevel.ERROR),
    warn: _filterFunc("warn", DiagLogLevel.WARN),
    info: _filterFunc("info", DiagLogLevel.INFO),
    debug: _filterFunc("debug", DiagLogLevel.DEBUG),
    verbose: _filterFunc("verbose", DiagLogLevel.VERBOSE)
  };
}

// node_modules/@opentelemetry/api/build/esm/api/diag.js
var __read2 = function(o2, n2) {
  var m = typeof Symbol === "function" && o2[Symbol.iterator];
  if (!m) return o2;
  var i2 = m.call(o2), r2, ar = [], e2;
  try {
    while ((n2 === void 0 || n2-- > 0) && !(r2 = i2.next()).done) ar.push(r2.value);
  } catch (error45) {
    e2 = { error: error45 };
  } finally {
    try {
      if (r2 && !r2.done && (m = i2["return"])) m.call(i2);
    } finally {
      if (e2) throw e2.error;
    }
  }
  return ar;
};
var __spreadArray2 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i2 = 0, l = from.length, ar; i2 < l; i2++) {
    if (ar || !(i2 in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i2);
      ar[i2] = from[i2];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var API_NAME = "diag";
var DiagAPI = (
  /** @class */
  (function() {
    function DiagAPI2() {
      function _logProxy(funcName) {
        return function() {
          var args = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
          }
          var logger = getGlobal("diag");
          if (!logger)
            return;
          return logger[funcName].apply(logger, __spreadArray2([], __read2(args), false));
        };
      }
      var self = this;
      var setLogger = function(logger, optionsOrLogLevel) {
        var _a17, _b8, _c;
        if (optionsOrLogLevel === void 0) {
          optionsOrLogLevel = { logLevel: DiagLogLevel.INFO };
        }
        if (logger === self) {
          var err = new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");
          self.error((_a17 = err.stack) !== null && _a17 !== void 0 ? _a17 : err.message);
          return false;
        }
        if (typeof optionsOrLogLevel === "number") {
          optionsOrLogLevel = {
            logLevel: optionsOrLogLevel
          };
        }
        var oldLogger = getGlobal("diag");
        var newLogger = createLogLevelDiagLogger((_b8 = optionsOrLogLevel.logLevel) !== null && _b8 !== void 0 ? _b8 : DiagLogLevel.INFO, logger);
        if (oldLogger && !optionsOrLogLevel.suppressOverrideMessage) {
          var stack = (_c = new Error().stack) !== null && _c !== void 0 ? _c : "<failed to generate stacktrace>";
          oldLogger.warn("Current logger will be overwritten from " + stack);
          newLogger.warn("Current logger will overwrite one already registered from " + stack);
        }
        return registerGlobal("diag", newLogger, self, true);
      };
      self.setLogger = setLogger;
      self.disable = function() {
        unregisterGlobal(API_NAME, self);
      };
      self.createComponentLogger = function(options) {
        return new DiagComponentLogger(options);
      };
      self.verbose = _logProxy("verbose");
      self.debug = _logProxy("debug");
      self.info = _logProxy("info");
      self.warn = _logProxy("warn");
      self.error = _logProxy("error");
    }
    DiagAPI2.instance = function() {
      if (!this._instance) {
        this._instance = new DiagAPI2();
      }
      return this._instance;
    };
    return DiagAPI2;
  })()
);

// node_modules/@opentelemetry/api/build/esm/context/context.js
function createContextKey(description) {
  return Symbol.for(description);
}
var BaseContext = (
  /** @class */
  /* @__PURE__ */ (function() {
    function BaseContext2(parentContext) {
      var self = this;
      self._currentContext = parentContext ? new Map(parentContext) : /* @__PURE__ */ new Map();
      self.getValue = function(key) {
        return self._currentContext.get(key);
      };
      self.setValue = function(key, value) {
        var context = new BaseContext2(self._currentContext);
        context._currentContext.set(key, value);
        return context;
      };
      self.deleteValue = function(key) {
        var context = new BaseContext2(self._currentContext);
        context._currentContext.delete(key);
        return context;
      };
    }
    return BaseContext2;
  })()
);
var ROOT_CONTEXT = new BaseContext();

// node_modules/@opentelemetry/api/build/esm/context/NoopContextManager.js
var __read3 = function(o2, n2) {
  var m = typeof Symbol === "function" && o2[Symbol.iterator];
  if (!m) return o2;
  var i2 = m.call(o2), r2, ar = [], e2;
  try {
    while ((n2 === void 0 || n2-- > 0) && !(r2 = i2.next()).done) ar.push(r2.value);
  } catch (error45) {
    e2 = { error: error45 };
  } finally {
    try {
      if (r2 && !r2.done && (m = i2["return"])) m.call(i2);
    } finally {
      if (e2) throw e2.error;
    }
  }
  return ar;
};
var __spreadArray3 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i2 = 0, l = from.length, ar; i2 < l; i2++) {
    if (ar || !(i2 in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i2);
      ar[i2] = from[i2];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var NoopContextManager = (
  /** @class */
  (function() {
    function NoopContextManager2() {
    }
    NoopContextManager2.prototype.active = function() {
      return ROOT_CONTEXT;
    };
    NoopContextManager2.prototype.with = function(_context, fn, thisArg) {
      var args = [];
      for (var _i = 3; _i < arguments.length; _i++) {
        args[_i - 3] = arguments[_i];
      }
      return fn.call.apply(fn, __spreadArray3([thisArg], __read3(args), false));
    };
    NoopContextManager2.prototype.bind = function(_context, target) {
      return target;
    };
    NoopContextManager2.prototype.enable = function() {
      return this;
    };
    NoopContextManager2.prototype.disable = function() {
      return this;
    };
    return NoopContextManager2;
  })()
);

// node_modules/@opentelemetry/api/build/esm/api/context.js
var __read4 = function(o2, n2) {
  var m = typeof Symbol === "function" && o2[Symbol.iterator];
  if (!m) return o2;
  var i2 = m.call(o2), r2, ar = [], e2;
  try {
    while ((n2 === void 0 || n2-- > 0) && !(r2 = i2.next()).done) ar.push(r2.value);
  } catch (error45) {
    e2 = { error: error45 };
  } finally {
    try {
      if (r2 && !r2.done && (m = i2["return"])) m.call(i2);
    } finally {
      if (e2) throw e2.error;
    }
  }
  return ar;
};
var __spreadArray4 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i2 = 0, l = from.length, ar; i2 < l; i2++) {
    if (ar || !(i2 in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i2);
      ar[i2] = from[i2];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var API_NAME2 = "context";
var NOOP_CONTEXT_MANAGER = new NoopContextManager();
var ContextAPI = (
  /** @class */
  (function() {
    function ContextAPI2() {
    }
    ContextAPI2.getInstance = function() {
      if (!this._instance) {
        this._instance = new ContextAPI2();
      }
      return this._instance;
    };
    ContextAPI2.prototype.setGlobalContextManager = function(contextManager) {
      return registerGlobal(API_NAME2, contextManager, DiagAPI.instance());
    };
    ContextAPI2.prototype.active = function() {
      return this._getContextManager().active();
    };
    ContextAPI2.prototype.with = function(context, fn, thisArg) {
      var _a17;
      var args = [];
      for (var _i = 3; _i < arguments.length; _i++) {
        args[_i - 3] = arguments[_i];
      }
      return (_a17 = this._getContextManager()).with.apply(_a17, __spreadArray4([context, fn, thisArg], __read4(args), false));
    };
    ContextAPI2.prototype.bind = function(context, target) {
      return this._getContextManager().bind(context, target);
    };
    ContextAPI2.prototype._getContextManager = function() {
      return getGlobal(API_NAME2) || NOOP_CONTEXT_MANAGER;
    };
    ContextAPI2.prototype.disable = function() {
      this._getContextManager().disable();
      unregisterGlobal(API_NAME2, DiagAPI.instance());
    };
    return ContextAPI2;
  })()
);

// node_modules/@opentelemetry/api/build/esm/trace/trace_flags.js
var TraceFlags;
(function(TraceFlags2) {
  TraceFlags2[TraceFlags2["NONE"] = 0] = "NONE";
  TraceFlags2[TraceFlags2["SAMPLED"] = 1] = "SAMPLED";
})(TraceFlags || (TraceFlags = {}));

// node_modules/@opentelemetry/api/build/esm/trace/invalid-span-constants.js
var INVALID_SPANID = "0000000000000000";
var INVALID_TRACEID = "00000000000000000000000000000000";
var INVALID_SPAN_CONTEXT = {
  traceId: INVALID_TRACEID,
  spanId: INVALID_SPANID,
  traceFlags: TraceFlags.NONE
};

// node_modules/@opentelemetry/api/build/esm/trace/NonRecordingSpan.js
var NonRecordingSpan = (
  /** @class */
  (function() {
    function NonRecordingSpan2(_spanContext) {
      if (_spanContext === void 0) {
        _spanContext = INVALID_SPAN_CONTEXT;
      }
      this._spanContext = _spanContext;
    }
    NonRecordingSpan2.prototype.spanContext = function() {
      return this._spanContext;
    };
    NonRecordingSpan2.prototype.setAttribute = function(_key, _value) {
      return this;
    };
    NonRecordingSpan2.prototype.setAttributes = function(_attributes) {
      return this;
    };
    NonRecordingSpan2.prototype.addEvent = function(_name, _attributes) {
      return this;
    };
    NonRecordingSpan2.prototype.addLink = function(_link) {
      return this;
    };
    NonRecordingSpan2.prototype.addLinks = function(_links) {
      return this;
    };
    NonRecordingSpan2.prototype.setStatus = function(_status) {
      return this;
    };
    NonRecordingSpan2.prototype.updateName = function(_name) {
      return this;
    };
    NonRecordingSpan2.prototype.end = function(_endTime) {
    };
    NonRecordingSpan2.prototype.isRecording = function() {
      return false;
    };
    NonRecordingSpan2.prototype.recordException = function(_exception, _time) {
    };
    return NonRecordingSpan2;
  })()
);

// node_modules/@opentelemetry/api/build/esm/trace/context-utils.js
var SPAN_KEY = createContextKey("OpenTelemetry Context Key SPAN");
function getSpan(context) {
  return context.getValue(SPAN_KEY) || void 0;
}
function getActiveSpan() {
  return getSpan(ContextAPI.getInstance().active());
}
function setSpan(context, span) {
  return context.setValue(SPAN_KEY, span);
}
function deleteSpan(context) {
  return context.deleteValue(SPAN_KEY);
}
function setSpanContext(context, spanContext) {
  return setSpan(context, new NonRecordingSpan(spanContext));
}
function getSpanContext(context) {
  var _a17;
  return (_a17 = getSpan(context)) === null || _a17 === void 0 ? void 0 : _a17.spanContext();
}

// node_modules/@opentelemetry/api/build/esm/trace/spancontext-utils.js
var VALID_TRACEID_REGEX = /^([0-9a-f]{32})$/i;
var VALID_SPANID_REGEX = /^[0-9a-f]{16}$/i;
function isValidTraceId(traceId) {
  return VALID_TRACEID_REGEX.test(traceId) && traceId !== INVALID_TRACEID;
}
function isValidSpanId(spanId) {
  return VALID_SPANID_REGEX.test(spanId) && spanId !== INVALID_SPANID;
}
function isSpanContextValid(spanContext) {
  return isValidTraceId(spanContext.traceId) && isValidSpanId(spanContext.spanId);
}
function wrapSpanContext(spanContext) {
  return new NonRecordingSpan(spanContext);
}

// node_modules/@opentelemetry/api/build/esm/trace/NoopTracer.js
var contextApi = ContextAPI.getInstance();
var NoopTracer = (
  /** @class */
  (function() {
    function NoopTracer2() {
    }
    NoopTracer2.prototype.startSpan = function(name17, options, context) {
      if (context === void 0) {
        context = contextApi.active();
      }
      var root = Boolean(options === null || options === void 0 ? void 0 : options.root);
      if (root) {
        return new NonRecordingSpan();
      }
      var parentFromContext = context && getSpanContext(context);
      if (isSpanContext(parentFromContext) && isSpanContextValid(parentFromContext)) {
        return new NonRecordingSpan(parentFromContext);
      } else {
        return new NonRecordingSpan();
      }
    };
    NoopTracer2.prototype.startActiveSpan = function(name17, arg2, arg3, arg4) {
      var opts;
      var ctx;
      var fn;
      if (arguments.length < 2) {
        return;
      } else if (arguments.length === 2) {
        fn = arg2;
      } else if (arguments.length === 3) {
        opts = arg2;
        fn = arg3;
      } else {
        opts = arg2;
        ctx = arg3;
        fn = arg4;
      }
      var parentContext = ctx !== null && ctx !== void 0 ? ctx : contextApi.active();
      var span = this.startSpan(name17, opts, parentContext);
      var contextWithSpanSet = setSpan(parentContext, span);
      return contextApi.with(contextWithSpanSet, fn, void 0, span);
    };
    return NoopTracer2;
  })()
);
function isSpanContext(spanContext) {
  return typeof spanContext === "object" && typeof spanContext["spanId"] === "string" && typeof spanContext["traceId"] === "string" && typeof spanContext["traceFlags"] === "number";
}

// node_modules/@opentelemetry/api/build/esm/trace/ProxyTracer.js
var NOOP_TRACER = new NoopTracer();
var ProxyTracer = (
  /** @class */
  (function() {
    function ProxyTracer2(_provider, name17, version2, options) {
      this._provider = _provider;
      this.name = name17;
      this.version = version2;
      this.options = options;
    }
    ProxyTracer2.prototype.startSpan = function(name17, options, context) {
      return this._getTracer().startSpan(name17, options, context);
    };
    ProxyTracer2.prototype.startActiveSpan = function(_name, _options, _context, _fn) {
      var tracer = this._getTracer();
      return Reflect.apply(tracer.startActiveSpan, tracer, arguments);
    };
    ProxyTracer2.prototype._getTracer = function() {
      if (this._delegate) {
        return this._delegate;
      }
      var tracer = this._provider.getDelegateTracer(this.name, this.version, this.options);
      if (!tracer) {
        return NOOP_TRACER;
      }
      this._delegate = tracer;
      return this._delegate;
    };
    return ProxyTracer2;
  })()
);

// node_modules/@opentelemetry/api/build/esm/trace/NoopTracerProvider.js
var NoopTracerProvider = (
  /** @class */
  (function() {
    function NoopTracerProvider2() {
    }
    NoopTracerProvider2.prototype.getTracer = function(_name, _version, _options) {
      return new NoopTracer();
    };
    return NoopTracerProvider2;
  })()
);

// node_modules/@opentelemetry/api/build/esm/trace/ProxyTracerProvider.js
var NOOP_TRACER_PROVIDER = new NoopTracerProvider();
var ProxyTracerProvider = (
  /** @class */
  (function() {
    function ProxyTracerProvider2() {
    }
    ProxyTracerProvider2.prototype.getTracer = function(name17, version2, options) {
      var _a17;
      return (_a17 = this.getDelegateTracer(name17, version2, options)) !== null && _a17 !== void 0 ? _a17 : new ProxyTracer(this, name17, version2, options);
    };
    ProxyTracerProvider2.prototype.getDelegate = function() {
      var _a17;
      return (_a17 = this._delegate) !== null && _a17 !== void 0 ? _a17 : NOOP_TRACER_PROVIDER;
    };
    ProxyTracerProvider2.prototype.setDelegate = function(delegate) {
      this._delegate = delegate;
    };
    ProxyTracerProvider2.prototype.getDelegateTracer = function(name17, version2, options) {
      var _a17;
      return (_a17 = this._delegate) === null || _a17 === void 0 ? void 0 : _a17.getTracer(name17, version2, options);
    };
    return ProxyTracerProvider2;
  })()
);

// node_modules/@opentelemetry/api/build/esm/trace/status.js
var SpanStatusCode;
(function(SpanStatusCode2) {
  SpanStatusCode2[SpanStatusCode2["UNSET"] = 0] = "UNSET";
  SpanStatusCode2[SpanStatusCode2["OK"] = 1] = "OK";
  SpanStatusCode2[SpanStatusCode2["ERROR"] = 2] = "ERROR";
})(SpanStatusCode || (SpanStatusCode = {}));

// node_modules/@opentelemetry/api/build/esm/api/trace.js
var API_NAME3 = "trace";
var TraceAPI = (
  /** @class */
  (function() {
    function TraceAPI2() {
      this._proxyTracerProvider = new ProxyTracerProvider();
      this.wrapSpanContext = wrapSpanContext;
      this.isSpanContextValid = isSpanContextValid;
      this.deleteSpan = deleteSpan;
      this.getSpan = getSpan;
      this.getActiveSpan = getActiveSpan;
      this.getSpanContext = getSpanContext;
      this.setSpan = setSpan;
      this.setSpanContext = setSpanContext;
    }
    TraceAPI2.getInstance = function() {
      if (!this._instance) {
        this._instance = new TraceAPI2();
      }
      return this._instance;
    };
    TraceAPI2.prototype.setGlobalTracerProvider = function(provider) {
      var success2 = registerGlobal(API_NAME3, this._proxyTracerProvider, DiagAPI.instance());
      if (success2) {
        this._proxyTracerProvider.setDelegate(provider);
      }
      return success2;
    };
    TraceAPI2.prototype.getTracerProvider = function() {
      return getGlobal(API_NAME3) || this._proxyTracerProvider;
    };
    TraceAPI2.prototype.getTracer = function(name17, version2) {
      return this.getTracerProvider().getTracer(name17, version2);
    };
    TraceAPI2.prototype.disable = function() {
      unregisterGlobal(API_NAME3, DiagAPI.instance());
      this._proxyTracerProvider = new ProxyTracerProvider();
    };
    return TraceAPI2;
  })()
);

// node_modules/@opentelemetry/api/build/esm/trace-api.js
var trace = TraceAPI.getInstance();

// node_modules/ai/dist/index.mjs
var __defProp2 = Object.defineProperty;
var __export2 = (target, all) => {
  for (var name17 in all)
    __defProp2(target, name17, { get: all[name17], enumerable: true });
};
var name15 = "AI_NoOutputSpecifiedError";
var marker16 = `vercel.ai.error.${name15}`;
var symbol17 = Symbol.for(marker16);
var _a16;
var NoOutputSpecifiedError = class extends AISDKError {
  // used in isInstance
  constructor({ message = "No output specified." } = {}) {
    super({ name: name15, message });
    this[_a16] = true;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker16);
  }
};
_a16 = symbol17;
function formatWarning(warning) {
  const prefix = "AI SDK Warning:";
  switch (warning.type) {
    case "unsupported-setting": {
      let message = `${prefix} The "${warning.setting}" setting is not supported by this model`;
      if (warning.details) {
        message += ` - ${warning.details}`;
      }
      return message;
    }
    case "unsupported-tool": {
      const toolName = "name" in warning.tool ? warning.tool.name : "unknown tool";
      let message = `${prefix} The tool "${toolName}" is not supported by this model`;
      if (warning.details) {
        message += ` - ${warning.details}`;
      }
      return message;
    }
    case "other": {
      return `${prefix} ${warning.message}`;
    }
    default: {
      return `${prefix} ${JSON.stringify(warning, null, 2)}`;
    }
  }
}
var FIRST_WARNING_INFO_MESSAGE = "AI SDK Warning System: To turn off warning logging, set the AI_SDK_LOG_WARNINGS global to false.";
var hasLoggedBefore = false;
var logWarnings = (warnings) => {
  if (warnings.length === 0) {
    return;
  }
  const logger = globalThis.AI_SDK_LOG_WARNINGS;
  if (logger === false) {
    return;
  }
  if (typeof logger === "function") {
    logger(warnings);
    return;
  }
  if (!hasLoggedBefore) {
    hasLoggedBefore = true;
    console.info(FIRST_WARNING_INFO_MESSAGE);
  }
  for (const warning of warnings) {
    console.warn(formatWarning(warning));
  }
};
var name23 = "AI_InvalidArgumentError";
var marker23 = `vercel.ai.error.${name23}`;
var symbol23 = Symbol.for(marker23);
var _a23;
var InvalidArgumentError2 = class extends AISDKError {
  constructor({
    parameter,
    value,
    message
  }) {
    super({
      name: name23,
      message: `Invalid argument for parameter ${parameter}: ${message}`
    });
    this[_a23] = true;
    this.parameter = parameter;
    this.value = value;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker23);
  }
};
_a23 = symbol23;
var name33 = "AI_InvalidStreamPartError";
var marker33 = `vercel.ai.error.${name33}`;
var symbol33 = Symbol.for(marker33);
var _a33;
_a33 = symbol33;
var name43 = "AI_InvalidToolInputError";
var marker43 = `vercel.ai.error.${name43}`;
var symbol43 = Symbol.for(marker43);
var _a43;
var InvalidToolInputError = class extends AISDKError {
  constructor({
    toolInput,
    toolName,
    cause,
    message = `Invalid input for tool ${toolName}: ${getErrorMessage(cause)}`
  }) {
    super({ name: name43, message, cause });
    this[_a43] = true;
    this.toolInput = toolInput;
    this.toolName = toolName;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker43);
  }
};
_a43 = symbol43;
var name53 = "AI_MCPClientError";
var marker53 = `vercel.ai.error.${name53}`;
var symbol53 = Symbol.for(marker53);
var _a53;
_a53 = symbol53;
var name63 = "AI_NoImageGeneratedError";
var marker63 = `vercel.ai.error.${name63}`;
var symbol63 = Symbol.for(marker63);
var _a63;
_a63 = symbol63;
var name72 = "AI_NoObjectGeneratedError";
var marker73 = `vercel.ai.error.${name72}`;
var symbol73 = Symbol.for(marker73);
var _a73;
var NoObjectGeneratedError = class extends AISDKError {
  constructor({
    message = "No object generated.",
    cause,
    text: text2,
    response,
    usage,
    finishReason
  }) {
    super({ name: name72, message, cause });
    this[_a73] = true;
    this.text = text2;
    this.response = response;
    this.usage = usage;
    this.finishReason = finishReason;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker73);
  }
};
_a73 = symbol73;
var name82 = "AI_NoOutputGeneratedError";
var marker82 = `vercel.ai.error.${name82}`;
var symbol82 = Symbol.for(marker82);
var _a82;
var NoOutputGeneratedError = class extends AISDKError {
  // used in isInstance
  constructor({
    message = "No output generated.",
    cause
  } = {}) {
    super({ name: name82, message, cause });
    this[_a82] = true;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker82);
  }
};
_a82 = symbol82;
var name92 = "AI_NoSuchToolError";
var marker92 = `vercel.ai.error.${name92}`;
var symbol92 = Symbol.for(marker92);
var _a92;
var NoSuchToolError = class extends AISDKError {
  constructor({
    toolName,
    availableTools = void 0,
    message = `Model tried to call unavailable tool '${toolName}'. ${availableTools === void 0 ? "No tools are available." : `Available tools: ${availableTools.join(", ")}.`}`
  }) {
    super({ name: name92, message });
    this[_a92] = true;
    this.toolName = toolName;
    this.availableTools = availableTools;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker92);
  }
};
_a92 = symbol92;
var name102 = "AI_ToolCallRepairError";
var marker102 = `vercel.ai.error.${name102}`;
var symbol102 = Symbol.for(marker102);
var _a102;
var ToolCallRepairError = class extends AISDKError {
  constructor({
    cause,
    originalError,
    message = `Error repairing tool call: ${getErrorMessage(cause)}`
  }) {
    super({ name: name102, message, cause });
    this[_a102] = true;
    this.originalError = originalError;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker102);
  }
};
_a102 = symbol102;
var UnsupportedModelVersionError = class extends AISDKError {
  constructor(options) {
    super({
      name: "AI_UnsupportedModelVersionError",
      message: `Unsupported model version ${options.version} for provider "${options.provider}" and model "${options.modelId}". AI SDK 5 only supports models that implement specification version "v2".`
    });
    this.version = options.version;
    this.provider = options.provider;
    this.modelId = options.modelId;
  }
};
var name112 = "AI_InvalidDataContentError";
var marker112 = `vercel.ai.error.${name112}`;
var symbol112 = Symbol.for(marker112);
var _a112;
_a112 = symbol112;
var name122 = "AI_InvalidMessageRoleError";
var marker122 = `vercel.ai.error.${name122}`;
var symbol122 = Symbol.for(marker122);
var _a122;
var InvalidMessageRoleError = class extends AISDKError {
  constructor({
    role,
    message = `Invalid message role: '${role}'. Must be one of: "system", "user", "assistant", "tool".`
  }) {
    super({ name: name122, message });
    this[_a122] = true;
    this.role = role;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker122);
  }
};
_a122 = symbol122;
var name132 = "AI_MessageConversionError";
var marker132 = `vercel.ai.error.${name132}`;
var symbol132 = Symbol.for(marker132);
var _a132;
var MessageConversionError = class extends AISDKError {
  constructor({
    originalMessage,
    message
  }) {
    super({ name: name132, message });
    this[_a132] = true;
    this.originalMessage = originalMessage;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker132);
  }
};
_a132 = symbol132;
var name142 = "AI_DownloadError";
var marker142 = `vercel.ai.error.${name142}`;
var symbol142 = Symbol.for(marker142);
var _a142;
var DownloadError = class extends AISDKError {
  constructor({
    url: url2,
    statusCode,
    statusText,
    cause,
    message = cause == null ? `Failed to download ${url2}: ${statusCode} ${statusText}` : `Failed to download ${url2}: ${cause}`
  }) {
    super({ name: name142, message, cause });
    this[_a142] = true;
    this.url = url2;
    this.statusCode = statusCode;
    this.statusText = statusText;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker142);
  }
};
_a142 = symbol142;
var name152 = "AI_RetryError";
var marker152 = `vercel.ai.error.${name152}`;
var symbol152 = Symbol.for(marker152);
var _a152;
var RetryError = class extends AISDKError {
  constructor({
    message,
    reason,
    errors
  }) {
    super({ name: name152, message });
    this[_a152] = true;
    this.reason = reason;
    this.errors = errors;
    this.lastError = errors[errors.length - 1];
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker152);
  }
};
_a152 = symbol152;
function resolveLanguageModel(model) {
  if (typeof model !== "string") {
    if (model.specificationVersion !== "v2") {
      throw new UnsupportedModelVersionError({
        version: model.specificationVersion,
        provider: model.provider,
        modelId: model.modelId
      });
    }
    return model;
  }
  return getGlobalProvider().languageModel(model);
}
function getGlobalProvider() {
  var _a17;
  return (_a17 = globalThis.AI_SDK_DEFAULT_PROVIDER) != null ? _a17 : gateway;
}
var imageMediaTypeSignatures = [
  {
    mediaType: "image/gif",
    bytesPrefix: [71, 73, 70],
    base64Prefix: "R0lG"
  },
  {
    mediaType: "image/png",
    bytesPrefix: [137, 80, 78, 71],
    base64Prefix: "iVBORw"
  },
  {
    mediaType: "image/jpeg",
    bytesPrefix: [255, 216],
    base64Prefix: "/9j/"
  },
  {
    mediaType: "image/webp",
    bytesPrefix: [82, 73, 70, 70],
    base64Prefix: "UklGRg"
  },
  {
    mediaType: "image/bmp",
    bytesPrefix: [66, 77],
    base64Prefix: "Qk"
  },
  {
    mediaType: "image/tiff",
    bytesPrefix: [73, 73, 42, 0],
    base64Prefix: "SUkqAA"
  },
  {
    mediaType: "image/tiff",
    bytesPrefix: [77, 77, 0, 42],
    base64Prefix: "TU0AKg"
  },
  {
    mediaType: "image/avif",
    bytesPrefix: [
      0,
      0,
      0,
      32,
      102,
      116,
      121,
      112,
      97,
      118,
      105,
      102
    ],
    base64Prefix: "AAAAIGZ0eXBhdmlm"
  },
  {
    mediaType: "image/heic",
    bytesPrefix: [
      0,
      0,
      0,
      32,
      102,
      116,
      121,
      112,
      104,
      101,
      105,
      99
    ],
    base64Prefix: "AAAAIGZ0eXBoZWlj"
  }
];
var stripID3 = (data) => {
  const bytes = typeof data === "string" ? convertBase64ToUint8Array(data) : data;
  const id3Size = (bytes[6] & 127) << 21 | (bytes[7] & 127) << 14 | (bytes[8] & 127) << 7 | bytes[9] & 127;
  return bytes.slice(id3Size + 10);
};
function stripID3TagsIfPresent(data) {
  const hasId3 = typeof data === "string" && data.startsWith("SUQz") || typeof data !== "string" && data.length > 10 && data[0] === 73 && // 'I'
  data[1] === 68 && // 'D'
  data[2] === 51;
  return hasId3 ? stripID3(data) : data;
}
function detectMediaType({
  data,
  signatures
}) {
  const processedData = stripID3TagsIfPresent(data);
  for (const signature of signatures) {
    if (typeof processedData === "string" ? processedData.startsWith(signature.base64Prefix) : processedData.length >= signature.bytesPrefix.length && signature.bytesPrefix.every(
      (byte, index) => processedData[index] === byte
    )) {
      return signature.mediaType;
    }
  }
  return void 0;
}
var download = async ({ url: url2 }) => {
  var _a17;
  const urlText = url2.toString();
  try {
    const response = await fetch(urlText);
    if (!response.ok) {
      throw new DownloadError({
        url: urlText,
        statusCode: response.status,
        statusText: response.statusText
      });
    }
    return {
      data: new Uint8Array(await response.arrayBuffer()),
      mediaType: (_a17 = response.headers.get("content-type")) != null ? _a17 : void 0
    };
  } catch (error45) {
    if (DownloadError.isInstance(error45)) {
      throw error45;
    }
    throw new DownloadError({ url: urlText, cause: error45 });
  }
};
var createDefaultDownloadFunction = (download2 = download) => (requestedDownloads) => Promise.all(
  requestedDownloads.map(
    async (requestedDownload) => requestedDownload.isUrlSupportedByModel ? null : download2(requestedDownload)
  )
);
function splitDataUrl(dataUrl) {
  try {
    const [header, base64Content] = dataUrl.split(",");
    return {
      mediaType: header.split(";")[0].split(":")[1],
      base64Content
    };
  } catch (error45) {
    return {
      mediaType: void 0,
      base64Content: void 0
    };
  }
}
var dataContentSchema = external_exports.union([
  external_exports.string(),
  external_exports.instanceof(Uint8Array),
  external_exports.instanceof(ArrayBuffer),
  external_exports.custom(
    // Buffer might not be available in some environments such as CloudFlare:
    (value) => {
      var _a17, _b8;
      return (_b8 = (_a17 = globalThis.Buffer) == null ? void 0 : _a17.isBuffer(value)) != null ? _b8 : false;
    },
    { message: "Must be a Buffer" }
  )
]);
function convertToLanguageModelV2DataContent(content) {
  if (content instanceof Uint8Array) {
    return { data: content, mediaType: void 0 };
  }
  if (content instanceof ArrayBuffer) {
    return { data: new Uint8Array(content), mediaType: void 0 };
  }
  if (typeof content === "string") {
    try {
      content = new URL(content);
    } catch (error45) {
    }
  }
  if (content instanceof URL && content.protocol === "data:") {
    const { mediaType: dataUrlMediaType, base64Content } = splitDataUrl(
      content.toString()
    );
    if (dataUrlMediaType == null || base64Content == null) {
      throw new AISDKError({
        name: "InvalidDataContentError",
        message: `Invalid data URL format in content ${content.toString()}`
      });
    }
    return { data: base64Content, mediaType: dataUrlMediaType };
  }
  return { data: content, mediaType: void 0 };
}
function convertDataContentToBase64String(content) {
  if (typeof content === "string") {
    return content;
  }
  if (content instanceof ArrayBuffer) {
    return convertUint8ArrayToBase64(new Uint8Array(content));
  }
  return convertUint8ArrayToBase64(content);
}
async function convertToLanguageModelPrompt({
  prompt,
  supportedUrls,
  download: download2 = createDefaultDownloadFunction()
}) {
  const downloadedAssets = await downloadAssets(
    prompt.messages,
    download2,
    supportedUrls
  );
  return [
    ...prompt.system != null ? [{ role: "system", content: prompt.system }] : [],
    ...prompt.messages.map(
      (message) => convertToLanguageModelMessage({ message, downloadedAssets })
    )
  ];
}
function convertToLanguageModelMessage({
  message,
  downloadedAssets
}) {
  const role = message.role;
  switch (role) {
    case "system": {
      return {
        role: "system",
        content: message.content,
        providerOptions: message.providerOptions
      };
    }
    case "user": {
      if (typeof message.content === "string") {
        return {
          role: "user",
          content: [{ type: "text", text: message.content }],
          providerOptions: message.providerOptions
        };
      }
      return {
        role: "user",
        content: message.content.map((part) => convertPartToLanguageModelPart(part, downloadedAssets)).filter((part) => part.type !== "text" || part.text !== ""),
        providerOptions: message.providerOptions
      };
    }
    case "assistant": {
      if (typeof message.content === "string") {
        return {
          role: "assistant",
          content: [{ type: "text", text: message.content }],
          providerOptions: message.providerOptions
        };
      }
      return {
        role: "assistant",
        content: message.content.filter(
          // remove empty text parts:
          (part) => part.type !== "text" || part.text !== ""
        ).map((part) => {
          const providerOptions = part.providerOptions;
          switch (part.type) {
            case "file": {
              const { data, mediaType } = convertToLanguageModelV2DataContent(
                part.data
              );
              return {
                type: "file",
                data,
                filename: part.filename,
                mediaType: mediaType != null ? mediaType : part.mediaType,
                providerOptions
              };
            }
            case "reasoning": {
              return {
                type: "reasoning",
                text: part.text,
                providerOptions
              };
            }
            case "text": {
              return {
                type: "text",
                text: part.text,
                providerOptions
              };
            }
            case "tool-call": {
              return {
                type: "tool-call",
                toolCallId: part.toolCallId,
                toolName: part.toolName,
                input: part.input,
                providerExecuted: part.providerExecuted,
                providerOptions
              };
            }
            case "tool-result": {
              return {
                type: "tool-result",
                toolCallId: part.toolCallId,
                toolName: part.toolName,
                output: part.output,
                providerOptions
              };
            }
          }
        }),
        providerOptions: message.providerOptions
      };
    }
    case "tool": {
      return {
        role: "tool",
        content: message.content.map((part) => ({
          type: "tool-result",
          toolCallId: part.toolCallId,
          toolName: part.toolName,
          output: part.output,
          providerOptions: part.providerOptions
        })),
        providerOptions: message.providerOptions
      };
    }
    default: {
      const _exhaustiveCheck = role;
      throw new InvalidMessageRoleError({ role: _exhaustiveCheck });
    }
  }
}
async function downloadAssets(messages, download2, supportedUrls) {
  const plannedDownloads = messages.filter((message) => message.role === "user").map((message) => message.content).filter(
    (content) => Array.isArray(content)
  ).flat().filter(
    (part) => part.type === "image" || part.type === "file"
  ).map((part) => {
    var _a17;
    const mediaType = (_a17 = part.mediaType) != null ? _a17 : part.type === "image" ? "image/*" : void 0;
    let data = part.type === "image" ? part.image : part.data;
    if (typeof data === "string") {
      try {
        data = new URL(data);
      } catch (ignored) {
      }
    }
    return { mediaType, data };
  }).filter(
    (part) => part.data instanceof URL
  ).map((part) => ({
    url: part.data,
    isUrlSupportedByModel: part.mediaType != null && isUrlSupported({
      url: part.data.toString(),
      mediaType: part.mediaType,
      supportedUrls
    })
  }));
  const downloadedFiles = await download2(plannedDownloads);
  return Object.fromEntries(
    downloadedFiles.filter(
      (downloadedFile) => (downloadedFile == null ? void 0 : downloadedFile.data) != null
    ).map(({ data, mediaType }, index) => [
      plannedDownloads[index].url.toString(),
      { data, mediaType }
    ])
  );
}
function convertPartToLanguageModelPart(part, downloadedAssets) {
  var _a17;
  if (part.type === "text") {
    return {
      type: "text",
      text: part.text,
      providerOptions: part.providerOptions
    };
  }
  let originalData;
  const type = part.type;
  switch (type) {
    case "image":
      originalData = part.image;
      break;
    case "file":
      originalData = part.data;
      break;
    default:
      throw new Error(`Unsupported part type: ${type}`);
  }
  const { data: convertedData, mediaType: convertedMediaType } = convertToLanguageModelV2DataContent(originalData);
  let mediaType = convertedMediaType != null ? convertedMediaType : part.mediaType;
  let data = convertedData;
  if (data instanceof URL) {
    const downloadedFile = downloadedAssets[data.toString()];
    if (downloadedFile) {
      data = downloadedFile.data;
      mediaType != null ? mediaType : mediaType = downloadedFile.mediaType;
    }
  }
  switch (type) {
    case "image": {
      if (data instanceof Uint8Array || typeof data === "string") {
        mediaType = (_a17 = detectMediaType({ data, signatures: imageMediaTypeSignatures })) != null ? _a17 : mediaType;
      }
      return {
        type: "file",
        mediaType: mediaType != null ? mediaType : "image/*",
        // any image
        filename: void 0,
        data,
        providerOptions: part.providerOptions
      };
    }
    case "file": {
      if (mediaType == null) {
        throw new Error(`Media type is missing for file part`);
      }
      return {
        type: "file",
        mediaType,
        filename: part.filename,
        data,
        providerOptions: part.providerOptions
      };
    }
  }
}
function prepareCallSettings({
  maxOutputTokens,
  temperature,
  topP,
  topK,
  presencePenalty,
  frequencyPenalty,
  seed,
  stopSequences
}) {
  if (maxOutputTokens != null) {
    if (!Number.isInteger(maxOutputTokens)) {
      throw new InvalidArgumentError2({
        parameter: "maxOutputTokens",
        value: maxOutputTokens,
        message: "maxOutputTokens must be an integer"
      });
    }
    if (maxOutputTokens < 1) {
      throw new InvalidArgumentError2({
        parameter: "maxOutputTokens",
        value: maxOutputTokens,
        message: "maxOutputTokens must be >= 1"
      });
    }
  }
  if (temperature != null) {
    if (typeof temperature !== "number") {
      throw new InvalidArgumentError2({
        parameter: "temperature",
        value: temperature,
        message: "temperature must be a number"
      });
    }
  }
  if (topP != null) {
    if (typeof topP !== "number") {
      throw new InvalidArgumentError2({
        parameter: "topP",
        value: topP,
        message: "topP must be a number"
      });
    }
  }
  if (topK != null) {
    if (typeof topK !== "number") {
      throw new InvalidArgumentError2({
        parameter: "topK",
        value: topK,
        message: "topK must be a number"
      });
    }
  }
  if (presencePenalty != null) {
    if (typeof presencePenalty !== "number") {
      throw new InvalidArgumentError2({
        parameter: "presencePenalty",
        value: presencePenalty,
        message: "presencePenalty must be a number"
      });
    }
  }
  if (frequencyPenalty != null) {
    if (typeof frequencyPenalty !== "number") {
      throw new InvalidArgumentError2({
        parameter: "frequencyPenalty",
        value: frequencyPenalty,
        message: "frequencyPenalty must be a number"
      });
    }
  }
  if (seed != null) {
    if (!Number.isInteger(seed)) {
      throw new InvalidArgumentError2({
        parameter: "seed",
        value: seed,
        message: "seed must be an integer"
      });
    }
  }
  return {
    maxOutputTokens,
    temperature,
    topP,
    topK,
    presencePenalty,
    frequencyPenalty,
    stopSequences,
    seed
  };
}
function isNonEmptyObject(object22) {
  return object22 != null && Object.keys(object22).length > 0;
}
function prepareToolsAndToolChoice({
  tools,
  toolChoice,
  activeTools
}) {
  if (!isNonEmptyObject(tools)) {
    return {
      tools: void 0,
      toolChoice: void 0
    };
  }
  const filteredTools = activeTools != null ? Object.entries(tools).filter(
    ([name17]) => activeTools.includes(name17)
  ) : Object.entries(tools);
  return {
    tools: filteredTools.map(([name17, tool3]) => {
      const toolType = tool3.type;
      switch (toolType) {
        case void 0:
        case "dynamic":
        case "function":
          return {
            type: "function",
            name: name17,
            description: tool3.description,
            inputSchema: asSchema(tool3.inputSchema).jsonSchema,
            providerOptions: tool3.providerOptions
          };
        case "provider-defined":
          return {
            type: "provider-defined",
            name: name17,
            id: tool3.id,
            args: tool3.args
          };
        default: {
          const exhaustiveCheck = toolType;
          throw new Error(`Unsupported tool type: ${exhaustiveCheck}`);
        }
      }
    }),
    toolChoice: toolChoice == null ? { type: "auto" } : typeof toolChoice === "string" ? { type: toolChoice } : { type: "tool", toolName: toolChoice.toolName }
  };
}
var jsonValueSchema = external_exports.lazy(
  () => external_exports.union([
    external_exports.null(),
    external_exports.string(),
    external_exports.number(),
    external_exports.boolean(),
    external_exports.record(external_exports.string(), jsonValueSchema),
    external_exports.array(jsonValueSchema)
  ])
);
var providerMetadataSchema = external_exports.record(
  external_exports.string(),
  external_exports.record(external_exports.string(), jsonValueSchema)
);
var textPartSchema = external_exports.object({
  type: external_exports.literal("text"),
  text: external_exports.string(),
  providerOptions: providerMetadataSchema.optional()
});
var imagePartSchema = external_exports.object({
  type: external_exports.literal("image"),
  image: external_exports.union([dataContentSchema, external_exports.instanceof(URL)]),
  mediaType: external_exports.string().optional(),
  providerOptions: providerMetadataSchema.optional()
});
var filePartSchema = external_exports.object({
  type: external_exports.literal("file"),
  data: external_exports.union([dataContentSchema, external_exports.instanceof(URL)]),
  filename: external_exports.string().optional(),
  mediaType: external_exports.string(),
  providerOptions: providerMetadataSchema.optional()
});
var reasoningPartSchema = external_exports.object({
  type: external_exports.literal("reasoning"),
  text: external_exports.string(),
  providerOptions: providerMetadataSchema.optional()
});
var toolCallPartSchema = external_exports.object({
  type: external_exports.literal("tool-call"),
  toolCallId: external_exports.string(),
  toolName: external_exports.string(),
  input: external_exports.unknown(),
  providerOptions: providerMetadataSchema.optional(),
  providerExecuted: external_exports.boolean().optional()
});
var outputSchema = external_exports.discriminatedUnion("type", [
  external_exports.object({
    type: external_exports.literal("text"),
    value: external_exports.string()
  }),
  external_exports.object({
    type: external_exports.literal("json"),
    value: jsonValueSchema
  }),
  external_exports.object({
    type: external_exports.literal("error-text"),
    value: external_exports.string()
  }),
  external_exports.object({
    type: external_exports.literal("error-json"),
    value: jsonValueSchema
  }),
  external_exports.object({
    type: external_exports.literal("content"),
    value: external_exports.array(
      external_exports.union([
        external_exports.object({
          type: external_exports.literal("text"),
          text: external_exports.string()
        }),
        external_exports.object({
          type: external_exports.literal("media"),
          data: external_exports.string(),
          mediaType: external_exports.string()
        })
      ])
    )
  })
]);
var toolResultPartSchema = external_exports.object({
  type: external_exports.literal("tool-result"),
  toolCallId: external_exports.string(),
  toolName: external_exports.string(),
  output: outputSchema,
  providerOptions: providerMetadataSchema.optional()
});
var systemModelMessageSchema = external_exports.object(
  {
    role: external_exports.literal("system"),
    content: external_exports.string(),
    providerOptions: providerMetadataSchema.optional()
  }
);
var userModelMessageSchema = external_exports.object({
  role: external_exports.literal("user"),
  content: external_exports.union([
    external_exports.string(),
    external_exports.array(external_exports.union([textPartSchema, imagePartSchema, filePartSchema]))
  ]),
  providerOptions: providerMetadataSchema.optional()
});
var assistantModelMessageSchema = external_exports.object({
  role: external_exports.literal("assistant"),
  content: external_exports.union([
    external_exports.string(),
    external_exports.array(
      external_exports.union([
        textPartSchema,
        filePartSchema,
        reasoningPartSchema,
        toolCallPartSchema,
        toolResultPartSchema
      ])
    )
  ]),
  providerOptions: providerMetadataSchema.optional()
});
var toolModelMessageSchema = external_exports.object({
  role: external_exports.literal("tool"),
  content: external_exports.array(toolResultPartSchema),
  providerOptions: providerMetadataSchema.optional()
});
var modelMessageSchema = external_exports.union([
  systemModelMessageSchema,
  userModelMessageSchema,
  assistantModelMessageSchema,
  toolModelMessageSchema
]);
async function standardizePrompt(prompt) {
  if (prompt.prompt == null && prompt.messages == null) {
    throw new InvalidPromptError({
      prompt,
      message: "prompt or messages must be defined"
    });
  }
  if (prompt.prompt != null && prompt.messages != null) {
    throw new InvalidPromptError({
      prompt,
      message: "prompt and messages cannot be defined at the same time"
    });
  }
  if (prompt.system != null && typeof prompt.system !== "string") {
    throw new InvalidPromptError({
      prompt,
      message: "system must be a string"
    });
  }
  let messages;
  if (prompt.prompt != null && typeof prompt.prompt === "string") {
    messages = [{ role: "user", content: prompt.prompt }];
  } else if (prompt.prompt != null && Array.isArray(prompt.prompt)) {
    messages = prompt.prompt;
  } else if (prompt.messages != null) {
    messages = prompt.messages;
  } else {
    throw new InvalidPromptError({
      prompt,
      message: "prompt or messages must be defined"
    });
  }
  if (messages.length === 0) {
    throw new InvalidPromptError({
      prompt,
      message: "messages must not be empty"
    });
  }
  const validationResult = await safeValidateTypes({
    value: messages,
    schema: external_exports.array(modelMessageSchema)
  });
  if (!validationResult.success) {
    throw new InvalidPromptError({
      prompt,
      message: "The messages must be a ModelMessage[]. If you have passed a UIMessage[], you can use convertToModelMessages to convert them.",
      cause: validationResult.error
    });
  }
  return {
    messages,
    system: prompt.system
  };
}
function wrapGatewayError(error45) {
  if (GatewayAuthenticationError.isInstance(error45) || GatewayModelNotFoundError.isInstance(error45)) {
    return new AISDKError({
      name: "GatewayError",
      message: "Vercel AI Gateway access failed. If you want to use AI SDK providers directly, use the providers, e.g. @ai-sdk/openai, or register a different global default provider.",
      cause: error45
    });
  }
  return error45;
}
function assembleOperationName({
  operationId,
  telemetry
}) {
  return {
    // standardized operation and resource name:
    "operation.name": `${operationId}${(telemetry == null ? void 0 : telemetry.functionId) != null ? ` ${telemetry.functionId}` : ""}`,
    "resource.name": telemetry == null ? void 0 : telemetry.functionId,
    // detailed, AI SDK specific data:
    "ai.operationId": operationId,
    "ai.telemetry.functionId": telemetry == null ? void 0 : telemetry.functionId
  };
}
function getBaseTelemetryAttributes({
  model,
  settings,
  telemetry,
  headers
}) {
  var _a17;
  return {
    "ai.model.provider": model.provider,
    "ai.model.id": model.modelId,
    // settings:
    ...Object.entries(settings).reduce((attributes, [key, value]) => {
      attributes[`ai.settings.${key}`] = value;
      return attributes;
    }, {}),
    // add metadata as attributes:
    ...Object.entries((_a17 = telemetry == null ? void 0 : telemetry.metadata) != null ? _a17 : {}).reduce(
      (attributes, [key, value]) => {
        attributes[`ai.telemetry.metadata.${key}`] = value;
        return attributes;
      },
      {}
    ),
    // request headers
    ...Object.entries(headers != null ? headers : {}).reduce((attributes, [key, value]) => {
      if (value !== void 0) {
        attributes[`ai.request.headers.${key}`] = value;
      }
      return attributes;
    }, {})
  };
}
var noopTracer = {
  startSpan() {
    return noopSpan;
  },
  startActiveSpan(name17, arg1, arg2, arg3) {
    if (typeof arg1 === "function") {
      return arg1(noopSpan);
    }
    if (typeof arg2 === "function") {
      return arg2(noopSpan);
    }
    if (typeof arg3 === "function") {
      return arg3(noopSpan);
    }
  }
};
var noopSpan = {
  spanContext() {
    return noopSpanContext;
  },
  setAttribute() {
    return this;
  },
  setAttributes() {
    return this;
  },
  addEvent() {
    return this;
  },
  addLink() {
    return this;
  },
  addLinks() {
    return this;
  },
  setStatus() {
    return this;
  },
  updateName() {
    return this;
  },
  end() {
    return this;
  },
  isRecording() {
    return false;
  },
  recordException() {
    return this;
  }
};
var noopSpanContext = {
  traceId: "",
  spanId: "",
  traceFlags: 0
};
function getTracer({
  isEnabled = false,
  tracer
} = {}) {
  if (!isEnabled) {
    return noopTracer;
  }
  if (tracer) {
    return tracer;
  }
  return trace.getTracer("ai");
}
function recordSpan({
  name: name17,
  tracer,
  attributes,
  fn,
  endWhenDone = true
}) {
  return tracer.startActiveSpan(name17, { attributes }, async (span) => {
    try {
      const result = await fn(span);
      if (endWhenDone) {
        span.end();
      }
      return result;
    } catch (error45) {
      try {
        recordErrorOnSpan(span, error45);
      } finally {
        span.end();
      }
      throw error45;
    }
  });
}
function recordErrorOnSpan(span, error45) {
  if (error45 instanceof Error) {
    span.recordException({
      name: error45.name,
      message: error45.message,
      stack: error45.stack
    });
    span.setStatus({
      code: SpanStatusCode.ERROR,
      message: error45.message
    });
  } else {
    span.setStatus({ code: SpanStatusCode.ERROR });
  }
}
function selectTelemetryAttributes({
  telemetry,
  attributes
}) {
  if ((telemetry == null ? void 0 : telemetry.isEnabled) !== true) {
    return {};
  }
  return Object.entries(attributes).reduce((attributes2, [key, value]) => {
    if (value == null) {
      return attributes2;
    }
    if (typeof value === "object" && "input" in value && typeof value.input === "function") {
      if ((telemetry == null ? void 0 : telemetry.recordInputs) === false) {
        return attributes2;
      }
      const result = value.input();
      return result == null ? attributes2 : { ...attributes2, [key]: result };
    }
    if (typeof value === "object" && "output" in value && typeof value.output === "function") {
      if ((telemetry == null ? void 0 : telemetry.recordOutputs) === false) {
        return attributes2;
      }
      const result = value.output();
      return result == null ? attributes2 : { ...attributes2, [key]: result };
    }
    return { ...attributes2, [key]: value };
  }, {});
}
function stringifyForTelemetry(prompt) {
  return JSON.stringify(
    prompt.map((message) => ({
      ...message,
      content: typeof message.content === "string" ? message.content : message.content.map(
        (part) => part.type === "file" ? {
          ...part,
          data: part.data instanceof Uint8Array ? convertDataContentToBase64String(part.data) : part.data
        } : part
      )
    }))
  );
}
function addLanguageModelUsage(usage1, usage2) {
  return {
    inputTokens: addTokenCounts(usage1.inputTokens, usage2.inputTokens),
    outputTokens: addTokenCounts(usage1.outputTokens, usage2.outputTokens),
    totalTokens: addTokenCounts(usage1.totalTokens, usage2.totalTokens),
    reasoningTokens: addTokenCounts(
      usage1.reasoningTokens,
      usage2.reasoningTokens
    ),
    cachedInputTokens: addTokenCounts(
      usage1.cachedInputTokens,
      usage2.cachedInputTokens
    )
  };
}
function addTokenCounts(tokenCount1, tokenCount2) {
  return tokenCount1 == null && tokenCount2 == null ? void 0 : (tokenCount1 != null ? tokenCount1 : 0) + (tokenCount2 != null ? tokenCount2 : 0);
}
function asArray(value) {
  return value === void 0 ? [] : Array.isArray(value) ? value : [value];
}
function getRetryDelayInMs({
  error: error45,
  exponentialBackoffDelay
}) {
  const headers = error45.responseHeaders;
  if (!headers)
    return exponentialBackoffDelay;
  let ms;
  const retryAfterMs = headers["retry-after-ms"];
  if (retryAfterMs) {
    const timeoutMs = parseFloat(retryAfterMs);
    if (!Number.isNaN(timeoutMs)) {
      ms = timeoutMs;
    }
  }
  const retryAfter = headers["retry-after"];
  if (retryAfter && ms === void 0) {
    const timeoutSeconds = parseFloat(retryAfter);
    if (!Number.isNaN(timeoutSeconds)) {
      ms = timeoutSeconds * 1e3;
    } else {
      ms = Date.parse(retryAfter) - Date.now();
    }
  }
  if (ms != null && !Number.isNaN(ms) && 0 <= ms && (ms < 60 * 1e3 || ms < exponentialBackoffDelay)) {
    return ms;
  }
  return exponentialBackoffDelay;
}
var retryWithExponentialBackoffRespectingRetryHeaders = ({
  maxRetries = 2,
  initialDelayInMs = 2e3,
  backoffFactor = 2,
  abortSignal
} = {}) => async (f) => _retryWithExponentialBackoff(f, {
  maxRetries,
  delayInMs: initialDelayInMs,
  backoffFactor,
  abortSignal
});
async function _retryWithExponentialBackoff(f, {
  maxRetries,
  delayInMs,
  backoffFactor,
  abortSignal
}, errors = []) {
  try {
    return await f();
  } catch (error45) {
    if (isAbortError(error45)) {
      throw error45;
    }
    if (maxRetries === 0) {
      throw error45;
    }
    const errorMessage = getErrorMessage2(error45);
    const newErrors = [...errors, error45];
    const tryNumber = newErrors.length;
    if (tryNumber > maxRetries) {
      throw new RetryError({
        message: `Failed after ${tryNumber} attempts. Last error: ${errorMessage}`,
        reason: "maxRetriesExceeded",
        errors: newErrors
      });
    }
    if (error45 instanceof Error && APICallError.isInstance(error45) && error45.isRetryable === true && tryNumber <= maxRetries) {
      await delay(
        getRetryDelayInMs({
          error: error45,
          exponentialBackoffDelay: delayInMs
        }),
        { abortSignal }
      );
      return _retryWithExponentialBackoff(
        f,
        {
          maxRetries,
          delayInMs: backoffFactor * delayInMs,
          backoffFactor,
          abortSignal
        },
        newErrors
      );
    }
    if (tryNumber === 1) {
      throw error45;
    }
    throw new RetryError({
      message: `Failed after ${tryNumber} attempts with non-retryable error: '${errorMessage}'`,
      reason: "errorNotRetryable",
      errors: newErrors
    });
  }
}
function prepareRetries({
  maxRetries,
  abortSignal
}) {
  if (maxRetries != null) {
    if (!Number.isInteger(maxRetries)) {
      throw new InvalidArgumentError2({
        parameter: "maxRetries",
        value: maxRetries,
        message: "maxRetries must be an integer"
      });
    }
    if (maxRetries < 0) {
      throw new InvalidArgumentError2({
        parameter: "maxRetries",
        value: maxRetries,
        message: "maxRetries must be >= 0"
      });
    }
  }
  const maxRetriesResult = maxRetries != null ? maxRetries : 2;
  return {
    maxRetries: maxRetriesResult,
    retry: retryWithExponentialBackoffRespectingRetryHeaders({
      maxRetries: maxRetriesResult,
      abortSignal
    })
  };
}
var DefaultGeneratedFile = class {
  constructor({
    data,
    mediaType
  }) {
    const isUint8Array = data instanceof Uint8Array;
    this.base64Data = isUint8Array ? void 0 : data;
    this.uint8ArrayData = isUint8Array ? data : void 0;
    this.mediaType = mediaType;
  }
  // lazy conversion with caching to avoid unnecessary conversion overhead:
  get base64() {
    if (this.base64Data == null) {
      this.base64Data = convertUint8ArrayToBase64(this.uint8ArrayData);
    }
    return this.base64Data;
  }
  // lazy conversion with caching to avoid unnecessary conversion overhead:
  get uint8Array() {
    if (this.uint8ArrayData == null) {
      this.uint8ArrayData = convertBase64ToUint8Array(this.base64Data);
    }
    return this.uint8ArrayData;
  }
};
var DefaultGeneratedFileWithType = class extends DefaultGeneratedFile {
  constructor(options) {
    super(options);
    this.type = "file";
  }
};
async function parseToolCall({
  toolCall,
  tools,
  repairToolCall,
  system,
  messages
}) {
  try {
    if (tools == null) {
      throw new NoSuchToolError({ toolName: toolCall.toolName });
    }
    try {
      return await doParseToolCall({ toolCall, tools });
    } catch (error45) {
      if (repairToolCall == null || !(NoSuchToolError.isInstance(error45) || InvalidToolInputError.isInstance(error45))) {
        throw error45;
      }
      let repairedToolCall = null;
      try {
        repairedToolCall = await repairToolCall({
          toolCall,
          tools,
          inputSchema: ({ toolName }) => {
            const { inputSchema } = tools[toolName];
            return asSchema(inputSchema).jsonSchema;
          },
          system,
          messages,
          error: error45
        });
      } catch (repairError) {
        throw new ToolCallRepairError({
          cause: repairError,
          originalError: error45
        });
      }
      if (repairedToolCall == null) {
        throw error45;
      }
      return await doParseToolCall({ toolCall: repairedToolCall, tools });
    }
  } catch (error45) {
    const parsedInput = await safeParseJSON({ text: toolCall.input });
    const input = parsedInput.success ? parsedInput.value : toolCall.input;
    return {
      type: "tool-call",
      toolCallId: toolCall.toolCallId,
      toolName: toolCall.toolName,
      input,
      dynamic: true,
      invalid: true,
      error: error45
    };
  }
}
async function doParseToolCall({
  toolCall,
  tools
}) {
  const toolName = toolCall.toolName;
  const tool3 = tools[toolName];
  if (tool3 == null) {
    throw new NoSuchToolError({
      toolName: toolCall.toolName,
      availableTools: Object.keys(tools)
    });
  }
  const schema = asSchema(tool3.inputSchema);
  const parseResult = toolCall.input.trim() === "" ? await safeValidateTypes({ value: {}, schema }) : await safeParseJSON({ text: toolCall.input, schema });
  if (parseResult.success === false) {
    throw new InvalidToolInputError({
      toolName,
      toolInput: toolCall.input,
      cause: parseResult.error
    });
  }
  return tool3.type === "dynamic" ? {
    type: "tool-call",
    toolCallId: toolCall.toolCallId,
    toolName: toolCall.toolName,
    input: parseResult.value,
    providerExecuted: toolCall.providerExecuted,
    providerMetadata: toolCall.providerMetadata,
    dynamic: true
  } : {
    type: "tool-call",
    toolCallId: toolCall.toolCallId,
    toolName,
    input: parseResult.value,
    providerExecuted: toolCall.providerExecuted,
    providerMetadata: toolCall.providerMetadata
  };
}
var DefaultStepResult = class {
  constructor({
    content,
    finishReason,
    usage,
    warnings,
    request,
    response,
    providerMetadata
  }) {
    this.content = content;
    this.finishReason = finishReason;
    this.usage = usage;
    this.warnings = warnings;
    this.request = request;
    this.response = response;
    this.providerMetadata = providerMetadata;
  }
  get text() {
    return this.content.filter((part) => part.type === "text").map((part) => part.text).join("");
  }
  get reasoning() {
    return this.content.filter((part) => part.type === "reasoning");
  }
  get reasoningText() {
    return this.reasoning.length === 0 ? void 0 : this.reasoning.map((part) => part.text).join("");
  }
  get files() {
    return this.content.filter((part) => part.type === "file").map((part) => part.file);
  }
  get sources() {
    return this.content.filter((part) => part.type === "source");
  }
  get toolCalls() {
    return this.content.filter((part) => part.type === "tool-call");
  }
  get staticToolCalls() {
    return this.toolCalls.filter(
      (toolCall) => toolCall.dynamic === false
    );
  }
  get dynamicToolCalls() {
    return this.toolCalls.filter(
      (toolCall) => toolCall.dynamic === true
    );
  }
  get toolResults() {
    return this.content.filter((part) => part.type === "tool-result");
  }
  get staticToolResults() {
    return this.toolResults.filter(
      (toolResult) => toolResult.dynamic === false
    );
  }
  get dynamicToolResults() {
    return this.toolResults.filter(
      (toolResult) => toolResult.dynamic === true
    );
  }
};
function stepCountIs(stepCount) {
  return ({ steps }) => steps.length === stepCount;
}
async function isStopConditionMet({
  stopConditions,
  steps
}) {
  return (await Promise.all(stopConditions.map((condition) => condition({ steps })))).some((result) => result);
}
function createToolModelOutput({
  output,
  tool: tool3,
  errorMode
}) {
  if (errorMode === "text") {
    return { type: "error-text", value: getErrorMessage(output) };
  } else if (errorMode === "json") {
    return { type: "error-json", value: toJSONValue(output) };
  }
  if (tool3 == null ? void 0 : tool3.toModelOutput) {
    return tool3.toModelOutput(output);
  }
  return typeof output === "string" ? { type: "text", value: output } : { type: "json", value: toJSONValue(output) };
}
function toJSONValue(value) {
  return value === void 0 ? null : value;
}
function toResponseMessages({
  content: inputContent,
  tools
}) {
  const responseMessages = [];
  const content = inputContent.filter((part) => part.type !== "source").filter(
    (part) => (part.type !== "tool-result" || part.providerExecuted) && (part.type !== "tool-error" || part.providerExecuted)
  ).filter((part) => part.type !== "text" || part.text.length > 0).map((part) => {
    switch (part.type) {
      case "text":
        return {
          type: "text",
          text: part.text,
          providerOptions: part.providerMetadata
        };
      case "reasoning":
        return {
          type: "reasoning",
          text: part.text,
          providerOptions: part.providerMetadata
        };
      case "file":
        return {
          type: "file",
          data: part.file.base64,
          mediaType: part.file.mediaType,
          providerOptions: part.providerMetadata
        };
      case "tool-call":
        return {
          type: "tool-call",
          toolCallId: part.toolCallId,
          toolName: part.toolName,
          input: part.input,
          providerExecuted: part.providerExecuted,
          providerOptions: part.providerMetadata
        };
      case "tool-result":
        return {
          type: "tool-result",
          toolCallId: part.toolCallId,
          toolName: part.toolName,
          output: createToolModelOutput({
            tool: tools == null ? void 0 : tools[part.toolName],
            output: part.output,
            errorMode: "none"
          }),
          providerExecuted: true,
          providerOptions: part.providerMetadata
        };
      case "tool-error":
        return {
          type: "tool-result",
          toolCallId: part.toolCallId,
          toolName: part.toolName,
          output: createToolModelOutput({
            tool: tools == null ? void 0 : tools[part.toolName],
            output: part.error,
            errorMode: "json"
          }),
          providerOptions: part.providerMetadata
        };
    }
  });
  if (content.length > 0) {
    responseMessages.push({
      role: "assistant",
      content
    });
  }
  const toolResultContent = inputContent.filter((part) => part.type === "tool-result" || part.type === "tool-error").filter((part) => !part.providerExecuted).map((toolResult) => ({
    type: "tool-result",
    toolCallId: toolResult.toolCallId,
    toolName: toolResult.toolName,
    output: createToolModelOutput({
      tool: tools == null ? void 0 : tools[toolResult.toolName],
      output: toolResult.type === "tool-result" ? toolResult.output : toolResult.error,
      errorMode: toolResult.type === "tool-error" ? "text" : "none"
    })
  }));
  if (toolResultContent.length > 0) {
    responseMessages.push({
      role: "tool",
      content: toolResultContent
    });
  }
  return responseMessages;
}
var originalGenerateId = createIdGenerator({
  prefix: "aitxt",
  size: 24
});
function prepareHeaders(headers, defaultHeaders) {
  const responseHeaders = new Headers(headers != null ? headers : {});
  for (const [key, value] of Object.entries(defaultHeaders)) {
    if (!responseHeaders.has(key)) {
      responseHeaders.set(key, value);
    }
  }
  return responseHeaders;
}
function createTextStreamResponse({
  status,
  statusText,
  headers,
  textStream
}) {
  return new Response(textStream.pipeThrough(new TextEncoderStream()), {
    status: status != null ? status : 200,
    statusText,
    headers: prepareHeaders(headers, {
      "content-type": "text/plain; charset=utf-8"
    })
  });
}
function writeToServerResponse({
  response,
  status,
  statusText,
  headers,
  stream
}) {
  response.writeHead(status != null ? status : 200, statusText, headers);
  const reader = stream.getReader();
  const read = async () => {
    try {
      while (true) {
        const { done, value } = await reader.read();
        if (done)
          break;
        response.write(value);
      }
    } catch (error45) {
      throw error45;
    } finally {
      response.end();
    }
  };
  read();
}
function pipeTextStreamToResponse({
  response,
  status,
  statusText,
  headers,
  textStream
}) {
  writeToServerResponse({
    response,
    status,
    statusText,
    headers: Object.fromEntries(
      prepareHeaders(headers, {
        "content-type": "text/plain; charset=utf-8"
      }).entries()
    ),
    stream: textStream.pipeThrough(new TextEncoderStream())
  });
}
var JsonToSseTransformStream = class extends TransformStream {
  constructor() {
    super({
      transform(part, controller) {
        controller.enqueue(`data: ${JSON.stringify(part)}

`);
      },
      flush(controller) {
        controller.enqueue("data: [DONE]\n\n");
      }
    });
  }
};
var UI_MESSAGE_STREAM_HEADERS = {
  "content-type": "text/event-stream",
  "cache-control": "no-cache",
  connection: "keep-alive",
  "x-vercel-ai-ui-message-stream": "v1",
  "x-accel-buffering": "no"
  // disable nginx buffering
};
function createUIMessageStreamResponse({
  status,
  statusText,
  headers,
  stream,
  consumeSseStream
}) {
  let sseStream = stream.pipeThrough(new JsonToSseTransformStream());
  if (consumeSseStream) {
    const [stream1, stream2] = sseStream.tee();
    sseStream = stream1;
    consumeSseStream({ stream: stream2 });
  }
  return new Response(sseStream.pipeThrough(new TextEncoderStream()), {
    status,
    statusText,
    headers: prepareHeaders(headers, UI_MESSAGE_STREAM_HEADERS)
  });
}
function getResponseUIMessageId({
  originalMessages,
  responseMessageId
}) {
  if (originalMessages == null) {
    return void 0;
  }
  const lastMessage = originalMessages[originalMessages.length - 1];
  return (lastMessage == null ? void 0 : lastMessage.role) === "assistant" ? lastMessage.id : typeof responseMessageId === "function" ? responseMessageId() : responseMessageId;
}
var uiMessageChunkSchema = external_exports.union([
  external_exports.strictObject({
    type: external_exports.literal("text-start"),
    id: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("text-delta"),
    id: external_exports.string(),
    delta: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("text-end"),
    id: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("error"),
    errorText: external_exports.string()
  }),
  external_exports.strictObject({
    type: external_exports.literal("tool-input-start"),
    toolCallId: external_exports.string(),
    toolName: external_exports.string(),
    providerExecuted: external_exports.boolean().optional(),
    dynamic: external_exports.boolean().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("tool-input-delta"),
    toolCallId: external_exports.string(),
    inputTextDelta: external_exports.string()
  }),
  external_exports.strictObject({
    type: external_exports.literal("tool-input-available"),
    toolCallId: external_exports.string(),
    toolName: external_exports.string(),
    input: external_exports.unknown(),
    providerExecuted: external_exports.boolean().optional(),
    providerMetadata: providerMetadataSchema.optional(),
    dynamic: external_exports.boolean().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("tool-input-error"),
    toolCallId: external_exports.string(),
    toolName: external_exports.string(),
    input: external_exports.unknown(),
    providerExecuted: external_exports.boolean().optional(),
    providerMetadata: providerMetadataSchema.optional(),
    dynamic: external_exports.boolean().optional(),
    errorText: external_exports.string()
  }),
  external_exports.strictObject({
    type: external_exports.literal("tool-output-available"),
    toolCallId: external_exports.string(),
    output: external_exports.unknown(),
    providerExecuted: external_exports.boolean().optional(),
    dynamic: external_exports.boolean().optional(),
    preliminary: external_exports.boolean().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("tool-output-error"),
    toolCallId: external_exports.string(),
    errorText: external_exports.string(),
    providerExecuted: external_exports.boolean().optional(),
    dynamic: external_exports.boolean().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("reasoning"),
    text: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("reasoning-start"),
    id: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("reasoning-delta"),
    id: external_exports.string(),
    delta: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("reasoning-end"),
    id: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("reasoning-part-finish")
  }),
  external_exports.strictObject({
    type: external_exports.literal("source-url"),
    sourceId: external_exports.string(),
    url: external_exports.string(),
    title: external_exports.string().optional(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("source-document"),
    sourceId: external_exports.string(),
    mediaType: external_exports.string(),
    title: external_exports.string(),
    filename: external_exports.string().optional(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("file"),
    url: external_exports.string(),
    mediaType: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.string().startsWith("data-"),
    id: external_exports.string().optional(),
    data: external_exports.unknown(),
    transient: external_exports.boolean().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("start-step")
  }),
  external_exports.strictObject({
    type: external_exports.literal("finish-step")
  }),
  external_exports.strictObject({
    type: external_exports.literal("start"),
    messageId: external_exports.string().optional(),
    messageMetadata: external_exports.unknown().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("finish"),
    messageMetadata: external_exports.unknown().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("abort")
  }),
  external_exports.strictObject({
    type: external_exports.literal("message-metadata"),
    messageMetadata: external_exports.unknown()
  })
]);
function isDataUIMessageChunk(chunk) {
  return chunk.type.startsWith("data-");
}
function mergeObjects(base, overrides) {
  if (base === void 0 && overrides === void 0) {
    return void 0;
  }
  if (base === void 0) {
    return overrides;
  }
  if (overrides === void 0) {
    return base;
  }
  const result = { ...base };
  for (const key in overrides) {
    if (Object.prototype.hasOwnProperty.call(overrides, key)) {
      const overridesValue = overrides[key];
      if (overridesValue === void 0)
        continue;
      const baseValue = key in base ? base[key] : void 0;
      const isSourceObject = overridesValue !== null && typeof overridesValue === "object" && !Array.isArray(overridesValue) && !(overridesValue instanceof Date) && !(overridesValue instanceof RegExp);
      const isTargetObject = baseValue !== null && baseValue !== void 0 && typeof baseValue === "object" && !Array.isArray(baseValue) && !(baseValue instanceof Date) && !(baseValue instanceof RegExp);
      if (isSourceObject && isTargetObject) {
        result[key] = mergeObjects(
          baseValue,
          overridesValue
        );
      } else {
        result[key] = overridesValue;
      }
    }
  }
  return result;
}
function fixJson(input) {
  const stack = ["ROOT"];
  let lastValidIndex = -1;
  let literalStart = null;
  function processValueStart(char, i2, swapState) {
    {
      switch (char) {
        case '"': {
          lastValidIndex = i2;
          stack.pop();
          stack.push(swapState);
          stack.push("INSIDE_STRING");
          break;
        }
        case "f":
        case "t":
        case "n": {
          lastValidIndex = i2;
          literalStart = i2;
          stack.pop();
          stack.push(swapState);
          stack.push("INSIDE_LITERAL");
          break;
        }
        case "-": {
          stack.pop();
          stack.push(swapState);
          stack.push("INSIDE_NUMBER");
          break;
        }
        case "0":
        case "1":
        case "2":
        case "3":
        case "4":
        case "5":
        case "6":
        case "7":
        case "8":
        case "9": {
          lastValidIndex = i2;
          stack.pop();
          stack.push(swapState);
          stack.push("INSIDE_NUMBER");
          break;
        }
        case "{": {
          lastValidIndex = i2;
          stack.pop();
          stack.push(swapState);
          stack.push("INSIDE_OBJECT_START");
          break;
        }
        case "[": {
          lastValidIndex = i2;
          stack.pop();
          stack.push(swapState);
          stack.push("INSIDE_ARRAY_START");
          break;
        }
      }
    }
  }
  function processAfterObjectValue(char, i2) {
    switch (char) {
      case ",": {
        stack.pop();
        stack.push("INSIDE_OBJECT_AFTER_COMMA");
        break;
      }
      case "}": {
        lastValidIndex = i2;
        stack.pop();
        break;
      }
    }
  }
  function processAfterArrayValue(char, i2) {
    switch (char) {
      case ",": {
        stack.pop();
        stack.push("INSIDE_ARRAY_AFTER_COMMA");
        break;
      }
      case "]": {
        lastValidIndex = i2;
        stack.pop();
        break;
      }
    }
  }
  for (let i2 = 0; i2 < input.length; i2++) {
    const char = input[i2];
    const currentState = stack[stack.length - 1];
    switch (currentState) {
      case "ROOT":
        processValueStart(char, i2, "FINISH");
        break;
      case "INSIDE_OBJECT_START": {
        switch (char) {
          case '"': {
            stack.pop();
            stack.push("INSIDE_OBJECT_KEY");
            break;
          }
          case "}": {
            lastValidIndex = i2;
            stack.pop();
            break;
          }
        }
        break;
      }
      case "INSIDE_OBJECT_AFTER_COMMA": {
        switch (char) {
          case '"': {
            stack.pop();
            stack.push("INSIDE_OBJECT_KEY");
            break;
          }
        }
        break;
      }
      case "INSIDE_OBJECT_KEY": {
        switch (char) {
          case '"': {
            stack.pop();
            stack.push("INSIDE_OBJECT_AFTER_KEY");
            break;
          }
        }
        break;
      }
      case "INSIDE_OBJECT_AFTER_KEY": {
        switch (char) {
          case ":": {
            stack.pop();
            stack.push("INSIDE_OBJECT_BEFORE_VALUE");
            break;
          }
        }
        break;
      }
      case "INSIDE_OBJECT_BEFORE_VALUE": {
        processValueStart(char, i2, "INSIDE_OBJECT_AFTER_VALUE");
        break;
      }
      case "INSIDE_OBJECT_AFTER_VALUE": {
        processAfterObjectValue(char, i2);
        break;
      }
      case "INSIDE_STRING": {
        switch (char) {
          case '"': {
            stack.pop();
            lastValidIndex = i2;
            break;
          }
          case "\\": {
            stack.push("INSIDE_STRING_ESCAPE");
            break;
          }
          default: {
            lastValidIndex = i2;
          }
        }
        break;
      }
      case "INSIDE_ARRAY_START": {
        switch (char) {
          case "]": {
            lastValidIndex = i2;
            stack.pop();
            break;
          }
          default: {
            lastValidIndex = i2;
            processValueStart(char, i2, "INSIDE_ARRAY_AFTER_VALUE");
            break;
          }
        }
        break;
      }
      case "INSIDE_ARRAY_AFTER_VALUE": {
        switch (char) {
          case ",": {
            stack.pop();
            stack.push("INSIDE_ARRAY_AFTER_COMMA");
            break;
          }
          case "]": {
            lastValidIndex = i2;
            stack.pop();
            break;
          }
          default: {
            lastValidIndex = i2;
            break;
          }
        }
        break;
      }
      case "INSIDE_ARRAY_AFTER_COMMA": {
        processValueStart(char, i2, "INSIDE_ARRAY_AFTER_VALUE");
        break;
      }
      case "INSIDE_STRING_ESCAPE": {
        stack.pop();
        lastValidIndex = i2;
        break;
      }
      case "INSIDE_NUMBER": {
        switch (char) {
          case "0":
          case "1":
          case "2":
          case "3":
          case "4":
          case "5":
          case "6":
          case "7":
          case "8":
          case "9": {
            lastValidIndex = i2;
            break;
          }
          case "e":
          case "E":
          case "-":
          case ".": {
            break;
          }
          case ",": {
            stack.pop();
            if (stack[stack.length - 1] === "INSIDE_ARRAY_AFTER_VALUE") {
              processAfterArrayValue(char, i2);
            }
            if (stack[stack.length - 1] === "INSIDE_OBJECT_AFTER_VALUE") {
              processAfterObjectValue(char, i2);
            }
            break;
          }
          case "}": {
            stack.pop();
            if (stack[stack.length - 1] === "INSIDE_OBJECT_AFTER_VALUE") {
              processAfterObjectValue(char, i2);
            }
            break;
          }
          case "]": {
            stack.pop();
            if (stack[stack.length - 1] === "INSIDE_ARRAY_AFTER_VALUE") {
              processAfterArrayValue(char, i2);
            }
            break;
          }
          default: {
            stack.pop();
            break;
          }
        }
        break;
      }
      case "INSIDE_LITERAL": {
        const partialLiteral = input.substring(literalStart, i2 + 1);
        if (!"false".startsWith(partialLiteral) && !"true".startsWith(partialLiteral) && !"null".startsWith(partialLiteral)) {
          stack.pop();
          if (stack[stack.length - 1] === "INSIDE_OBJECT_AFTER_VALUE") {
            processAfterObjectValue(char, i2);
          } else if (stack[stack.length - 1] === "INSIDE_ARRAY_AFTER_VALUE") {
            processAfterArrayValue(char, i2);
          }
        } else {
          lastValidIndex = i2;
        }
        break;
      }
    }
  }
  let result = input.slice(0, lastValidIndex + 1);
  for (let i2 = stack.length - 1; i2 >= 0; i2--) {
    const state = stack[i2];
    switch (state) {
      case "INSIDE_STRING": {
        result += '"';
        break;
      }
      case "INSIDE_OBJECT_KEY":
      case "INSIDE_OBJECT_AFTER_KEY":
      case "INSIDE_OBJECT_AFTER_COMMA":
      case "INSIDE_OBJECT_START":
      case "INSIDE_OBJECT_BEFORE_VALUE":
      case "INSIDE_OBJECT_AFTER_VALUE": {
        result += "}";
        break;
      }
      case "INSIDE_ARRAY_START":
      case "INSIDE_ARRAY_AFTER_COMMA":
      case "INSIDE_ARRAY_AFTER_VALUE": {
        result += "]";
        break;
      }
      case "INSIDE_LITERAL": {
        const partialLiteral = input.substring(literalStart, input.length);
        if ("true".startsWith(partialLiteral)) {
          result += "true".slice(partialLiteral.length);
        } else if ("false".startsWith(partialLiteral)) {
          result += "false".slice(partialLiteral.length);
        } else if ("null".startsWith(partialLiteral)) {
          result += "null".slice(partialLiteral.length);
        }
      }
    }
  }
  return result;
}
async function parsePartialJson(jsonText) {
  if (jsonText === void 0) {
    return { value: void 0, state: "undefined-input" };
  }
  let result = await safeParseJSON({ text: jsonText });
  if (result.success) {
    return { value: result.value, state: "successful-parse" };
  }
  result = await safeParseJSON({ text: fixJson(jsonText) });
  if (result.success) {
    return { value: result.value, state: "repaired-parse" };
  }
  return { value: void 0, state: "failed-parse" };
}
function isToolUIPart(part) {
  return part.type.startsWith("tool-");
}
function isDynamicToolUIPart(part) {
  return part.type === "dynamic-tool";
}
function isToolOrDynamicToolUIPart(part) {
  return isToolUIPart(part) || isDynamicToolUIPart(part);
}
function getToolName(part) {
  return part.type.split("-").slice(1).join("-");
}
function createStreamingUIMessageState({
  lastMessage,
  messageId
}) {
  return {
    message: (lastMessage == null ? void 0 : lastMessage.role) === "assistant" ? lastMessage : {
      id: messageId,
      metadata: void 0,
      role: "assistant",
      parts: []
    },
    activeTextParts: {},
    activeReasoningParts: {},
    partialToolCalls: {}
  };
}
function processUIMessageStream({
  stream,
  messageMetadataSchema,
  dataPartSchemas,
  runUpdateMessageJob,
  onError,
  onToolCall,
  onData
}) {
  return stream.pipeThrough(
    new TransformStream({
      async transform(chunk, controller) {
        await runUpdateMessageJob(async ({ state, write }) => {
          var _a17, _b8, _c, _d;
          function getToolInvocation(toolCallId) {
            const toolInvocations = state.message.parts.filter(isToolUIPart);
            const toolInvocation = toolInvocations.find(
              (invocation) => invocation.toolCallId === toolCallId
            );
            if (toolInvocation == null) {
              throw new Error(
                "tool-output-error must be preceded by a tool-input-available"
              );
            }
            return toolInvocation;
          }
          function getDynamicToolInvocation(toolCallId) {
            const toolInvocations = state.message.parts.filter(
              (part) => part.type === "dynamic-tool"
            );
            const toolInvocation = toolInvocations.find(
              (invocation) => invocation.toolCallId === toolCallId
            );
            if (toolInvocation == null) {
              throw new Error(
                "tool-output-error must be preceded by a tool-input-available"
              );
            }
            return toolInvocation;
          }
          function updateToolPart(options) {
            var _a18;
            const part = state.message.parts.find(
              (part2) => isToolUIPart(part2) && part2.toolCallId === options.toolCallId
            );
            const anyOptions = options;
            const anyPart = part;
            if (part != null) {
              part.state = options.state;
              anyPart.input = anyOptions.input;
              anyPart.output = anyOptions.output;
              anyPart.errorText = anyOptions.errorText;
              anyPart.rawInput = anyOptions.rawInput;
              anyPart.preliminary = anyOptions.preliminary;
              anyPart.providerExecuted = (_a18 = anyOptions.providerExecuted) != null ? _a18 : part.providerExecuted;
              if (anyOptions.providerMetadata != null && part.state === "input-available") {
                part.callProviderMetadata = anyOptions.providerMetadata;
              }
            } else {
              state.message.parts.push({
                type: `tool-${options.toolName}`,
                toolCallId: options.toolCallId,
                state: options.state,
                input: anyOptions.input,
                output: anyOptions.output,
                rawInput: anyOptions.rawInput,
                errorText: anyOptions.errorText,
                providerExecuted: anyOptions.providerExecuted,
                preliminary: anyOptions.preliminary,
                ...anyOptions.providerMetadata != null ? { callProviderMetadata: anyOptions.providerMetadata } : {}
              });
            }
          }
          function updateDynamicToolPart(options) {
            var _a18;
            const part = state.message.parts.find(
              (part2) => part2.type === "dynamic-tool" && part2.toolCallId === options.toolCallId
            );
            const anyOptions = options;
            const anyPart = part;
            if (part != null) {
              part.state = options.state;
              anyPart.toolName = options.toolName;
              anyPart.input = anyOptions.input;
              anyPart.output = anyOptions.output;
              anyPart.errorText = anyOptions.errorText;
              anyPart.rawInput = (_a18 = anyOptions.rawInput) != null ? _a18 : anyPart.rawInput;
              anyPart.preliminary = anyOptions.preliminary;
              if (anyOptions.providerMetadata != null && part.state === "input-available") {
                part.callProviderMetadata = anyOptions.providerMetadata;
              }
            } else {
              state.message.parts.push({
                type: "dynamic-tool",
                toolName: options.toolName,
                toolCallId: options.toolCallId,
                state: options.state,
                input: anyOptions.input,
                output: anyOptions.output,
                errorText: anyOptions.errorText,
                preliminary: anyOptions.preliminary,
                ...anyOptions.providerMetadata != null ? { callProviderMetadata: anyOptions.providerMetadata } : {}
              });
            }
          }
          async function updateMessageMetadata(metadata) {
            if (metadata != null) {
              const mergedMetadata = state.message.metadata != null ? mergeObjects(state.message.metadata, metadata) : metadata;
              if (messageMetadataSchema != null) {
                await validateTypes({
                  value: mergedMetadata,
                  schema: messageMetadataSchema
                });
              }
              state.message.metadata = mergedMetadata;
            }
          }
          switch (chunk.type) {
            case "text-start": {
              const textPart = {
                type: "text",
                text: "",
                providerMetadata: chunk.providerMetadata,
                state: "streaming"
              };
              state.activeTextParts[chunk.id] = textPart;
              state.message.parts.push(textPart);
              write();
              break;
            }
            case "text-delta": {
              const textPart = state.activeTextParts[chunk.id];
              textPart.text += chunk.delta;
              textPart.providerMetadata = (_a17 = chunk.providerMetadata) != null ? _a17 : textPart.providerMetadata;
              write();
              break;
            }
            case "text-end": {
              const textPart = state.activeTextParts[chunk.id];
              textPart.state = "done";
              textPart.providerMetadata = (_b8 = chunk.providerMetadata) != null ? _b8 : textPart.providerMetadata;
              delete state.activeTextParts[chunk.id];
              write();
              break;
            }
            case "reasoning-start": {
              const reasoningPart = {
                type: "reasoning",
                text: "",
                providerMetadata: chunk.providerMetadata,
                state: "streaming"
              };
              state.activeReasoningParts[chunk.id] = reasoningPart;
              state.message.parts.push(reasoningPart);
              write();
              break;
            }
            case "reasoning-delta": {
              const reasoningPart = state.activeReasoningParts[chunk.id];
              reasoningPart.text += chunk.delta;
              reasoningPart.providerMetadata = (_c = chunk.providerMetadata) != null ? _c : reasoningPart.providerMetadata;
              write();
              break;
            }
            case "reasoning-end": {
              const reasoningPart = state.activeReasoningParts[chunk.id];
              reasoningPart.providerMetadata = (_d = chunk.providerMetadata) != null ? _d : reasoningPart.providerMetadata;
              reasoningPart.state = "done";
              delete state.activeReasoningParts[chunk.id];
              write();
              break;
            }
            case "file": {
              state.message.parts.push({
                type: "file",
                mediaType: chunk.mediaType,
                url: chunk.url
              });
              write();
              break;
            }
            case "source-url": {
              state.message.parts.push({
                type: "source-url",
                sourceId: chunk.sourceId,
                url: chunk.url,
                title: chunk.title,
                providerMetadata: chunk.providerMetadata
              });
              write();
              break;
            }
            case "source-document": {
              state.message.parts.push({
                type: "source-document",
                sourceId: chunk.sourceId,
                mediaType: chunk.mediaType,
                title: chunk.title,
                filename: chunk.filename,
                providerMetadata: chunk.providerMetadata
              });
              write();
              break;
            }
            case "tool-input-start": {
              const toolInvocations = state.message.parts.filter(isToolUIPart);
              state.partialToolCalls[chunk.toolCallId] = {
                text: "",
                toolName: chunk.toolName,
                index: toolInvocations.length,
                dynamic: chunk.dynamic
              };
              if (chunk.dynamic) {
                updateDynamicToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: chunk.toolName,
                  state: "input-streaming",
                  input: void 0
                });
              } else {
                updateToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: chunk.toolName,
                  state: "input-streaming",
                  input: void 0,
                  providerExecuted: chunk.providerExecuted
                });
              }
              write();
              break;
            }
            case "tool-input-delta": {
              const partialToolCall = state.partialToolCalls[chunk.toolCallId];
              partialToolCall.text += chunk.inputTextDelta;
              const { value: partialArgs } = await parsePartialJson(
                partialToolCall.text
              );
              if (partialToolCall.dynamic) {
                updateDynamicToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: partialToolCall.toolName,
                  state: "input-streaming",
                  input: partialArgs
                });
              } else {
                updateToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: partialToolCall.toolName,
                  state: "input-streaming",
                  input: partialArgs
                });
              }
              write();
              break;
            }
            case "tool-input-available": {
              if (chunk.dynamic) {
                updateDynamicToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: chunk.toolName,
                  state: "input-available",
                  input: chunk.input,
                  providerMetadata: chunk.providerMetadata
                });
              } else {
                updateToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: chunk.toolName,
                  state: "input-available",
                  input: chunk.input,
                  providerExecuted: chunk.providerExecuted,
                  providerMetadata: chunk.providerMetadata
                });
              }
              write();
              if (onToolCall && !chunk.providerExecuted) {
                await onToolCall({
                  toolCall: chunk
                });
              }
              break;
            }
            case "tool-input-error": {
              if (chunk.dynamic) {
                updateDynamicToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: chunk.toolName,
                  state: "output-error",
                  input: chunk.input,
                  errorText: chunk.errorText,
                  providerMetadata: chunk.providerMetadata
                });
              } else {
                updateToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: chunk.toolName,
                  state: "output-error",
                  input: void 0,
                  rawInput: chunk.input,
                  errorText: chunk.errorText,
                  providerExecuted: chunk.providerExecuted,
                  providerMetadata: chunk.providerMetadata
                });
              }
              write();
              break;
            }
            case "tool-output-available": {
              if (chunk.dynamic) {
                const toolInvocation = getDynamicToolInvocation(
                  chunk.toolCallId
                );
                updateDynamicToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: toolInvocation.toolName,
                  state: "output-available",
                  input: toolInvocation.input,
                  output: chunk.output,
                  preliminary: chunk.preliminary
                });
              } else {
                const toolInvocation = getToolInvocation(chunk.toolCallId);
                updateToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: getToolName(toolInvocation),
                  state: "output-available",
                  input: toolInvocation.input,
                  output: chunk.output,
                  providerExecuted: chunk.providerExecuted,
                  preliminary: chunk.preliminary
                });
              }
              write();
              break;
            }
            case "tool-output-error": {
              if (chunk.dynamic) {
                const toolInvocation = getDynamicToolInvocation(
                  chunk.toolCallId
                );
                updateDynamicToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: toolInvocation.toolName,
                  state: "output-error",
                  input: toolInvocation.input,
                  errorText: chunk.errorText
                });
              } else {
                const toolInvocation = getToolInvocation(chunk.toolCallId);
                updateToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: getToolName(toolInvocation),
                  state: "output-error",
                  input: toolInvocation.input,
                  rawInput: toolInvocation.rawInput,
                  errorText: chunk.errorText
                });
              }
              write();
              break;
            }
            case "start-step": {
              state.message.parts.push({ type: "step-start" });
              break;
            }
            case "finish-step": {
              state.activeTextParts = {};
              state.activeReasoningParts = {};
              break;
            }
            case "start": {
              if (chunk.messageId != null) {
                state.message.id = chunk.messageId;
              }
              await updateMessageMetadata(chunk.messageMetadata);
              if (chunk.messageId != null || chunk.messageMetadata != null) {
                write();
              }
              break;
            }
            case "finish": {
              await updateMessageMetadata(chunk.messageMetadata);
              if (chunk.messageMetadata != null) {
                write();
              }
              break;
            }
            case "message-metadata": {
              await updateMessageMetadata(chunk.messageMetadata);
              if (chunk.messageMetadata != null) {
                write();
              }
              break;
            }
            case "error": {
              onError == null ? void 0 : onError(new Error(chunk.errorText));
              break;
            }
            default: {
              if (isDataUIMessageChunk(chunk)) {
                if ((dataPartSchemas == null ? void 0 : dataPartSchemas[chunk.type]) != null) {
                  await validateTypes({
                    value: chunk.data,
                    schema: dataPartSchemas[chunk.type]
                  });
                }
                const dataChunk = chunk;
                if (dataChunk.transient) {
                  onData == null ? void 0 : onData(dataChunk);
                  break;
                }
                const existingUIPart = dataChunk.id != null ? state.message.parts.find(
                  (chunkArg) => dataChunk.type === chunkArg.type && dataChunk.id === chunkArg.id
                ) : void 0;
                if (existingUIPart != null) {
                  existingUIPart.data = dataChunk.data;
                } else {
                  state.message.parts.push(dataChunk);
                }
                onData == null ? void 0 : onData(dataChunk);
                write();
              }
            }
          }
          controller.enqueue(chunk);
        });
      }
    })
  );
}
function handleUIMessageStreamFinish({
  messageId,
  originalMessages = [],
  onFinish,
  onError,
  stream
}) {
  let lastMessage = originalMessages == null ? void 0 : originalMessages[originalMessages.length - 1];
  if ((lastMessage == null ? void 0 : lastMessage.role) !== "assistant") {
    lastMessage = void 0;
  } else {
    messageId = lastMessage.id;
  }
  let isAborted2 = false;
  const idInjectedStream = stream.pipeThrough(
    new TransformStream({
      transform(chunk, controller) {
        if (chunk.type === "start") {
          const startChunk = chunk;
          if (startChunk.messageId == null && messageId != null) {
            startChunk.messageId = messageId;
          }
        }
        if (chunk.type === "abort") {
          isAborted2 = true;
        }
        controller.enqueue(chunk);
      }
    })
  );
  if (onFinish == null) {
    return idInjectedStream;
  }
  const state = createStreamingUIMessageState({
    lastMessage: lastMessage ? structuredClone(lastMessage) : void 0,
    messageId: messageId != null ? messageId : ""
    // will be overridden by the stream
  });
  const runUpdateMessageJob = async (job) => {
    await job({ state, write: () => {
    } });
  };
  let finishCalled = false;
  const callOnFinish = async () => {
    if (finishCalled || !onFinish) {
      return;
    }
    finishCalled = true;
    const isContinuation = state.message.id === (lastMessage == null ? void 0 : lastMessage.id);
    await onFinish({
      isAborted: isAborted2,
      isContinuation,
      responseMessage: state.message,
      messages: [
        ...isContinuation ? originalMessages.slice(0, -1) : originalMessages,
        state.message
      ]
    });
  };
  return processUIMessageStream({
    stream: idInjectedStream,
    runUpdateMessageJob,
    onError
  }).pipeThrough(
    new TransformStream({
      transform(chunk, controller) {
        controller.enqueue(chunk);
      },
      // @ts-expect-error cancel is still new and missing from types https://developer.mozilla.org/en-US/docs/Web/API/TransformStream#browser_compatibility
      async cancel() {
        await callOnFinish();
      },
      async flush() {
        await callOnFinish();
      }
    })
  );
}
function pipeUIMessageStreamToResponse({
  response,
  status,
  statusText,
  headers,
  stream,
  consumeSseStream
}) {
  let sseStream = stream.pipeThrough(new JsonToSseTransformStream());
  if (consumeSseStream) {
    const [stream1, stream2] = sseStream.tee();
    sseStream = stream1;
    consumeSseStream({ stream: stream2 });
  }
  writeToServerResponse({
    response,
    status,
    statusText,
    headers: Object.fromEntries(
      prepareHeaders(headers, UI_MESSAGE_STREAM_HEADERS).entries()
    ),
    stream: sseStream.pipeThrough(new TextEncoderStream())
  });
}
function createAsyncIterableStream(source) {
  const stream = source.pipeThrough(new TransformStream());
  stream[Symbol.asyncIterator] = function() {
    const reader = this.getReader();
    let finished = false;
    async function cleanup(cancelStream) {
      var _a17;
      finished = true;
      try {
        if (cancelStream) {
          await ((_a17 = reader.cancel) == null ? void 0 : _a17.call(reader));
        }
      } finally {
        try {
          reader.releaseLock();
        } catch (e2) {
        }
      }
    }
    return {
      /**
       * Reads the next chunk from the stream.
       * @returns A promise resolving to the next IteratorResult.
       */
      async next() {
        if (finished) {
          return { done: true, value: void 0 };
        }
        const { done, value } = await reader.read();
        if (done) {
          await cleanup(true);
          return { done: true, value: void 0 };
        }
        return { done: false, value };
      },
      /**
       * Called on early exit (e.g., break from for-await).
       * Ensures the stream is cancelled and resources are released.
       * @returns A promise resolving to a completed IteratorResult.
       */
      async return() {
        await cleanup(true);
        return { done: true, value: void 0 };
      },
      /**
       * Called on early exit with error.
       * Ensures the stream is cancelled and resources are released, then rethrows the error.
       * @param err The error to throw.
       * @returns A promise that rejects with the provided error.
       */
      async throw(err) {
        await cleanup(true);
        throw err;
      }
    };
  };
  return stream;
}
async function consumeStream({
  stream,
  onError
}) {
  const reader = stream.getReader();
  try {
    while (true) {
      const { done } = await reader.read();
      if (done)
        break;
    }
  } catch (error45) {
    onError == null ? void 0 : onError(error45);
  } finally {
    reader.releaseLock();
  }
}
function createResolvablePromise() {
  let resolve2;
  let reject;
  const promise2 = new Promise((res, rej) => {
    resolve2 = res;
    reject = rej;
  });
  return {
    promise: promise2,
    resolve: resolve2,
    reject
  };
}
function createStitchableStream() {
  let innerStreamReaders = [];
  let controller = null;
  let isClosed = false;
  let waitForNewStream = createResolvablePromise();
  const terminate = () => {
    isClosed = true;
    waitForNewStream.resolve();
    innerStreamReaders.forEach((reader) => reader.cancel());
    innerStreamReaders = [];
    controller == null ? void 0 : controller.close();
  };
  const processPull = async () => {
    if (isClosed && innerStreamReaders.length === 0) {
      controller == null ? void 0 : controller.close();
      return;
    }
    if (innerStreamReaders.length === 0) {
      waitForNewStream = createResolvablePromise();
      await waitForNewStream.promise;
      return processPull();
    }
    try {
      const { value, done } = await innerStreamReaders[0].read();
      if (done) {
        innerStreamReaders.shift();
        if (innerStreamReaders.length > 0) {
          await processPull();
        } else if (isClosed) {
          controller == null ? void 0 : controller.close();
        }
      } else {
        controller == null ? void 0 : controller.enqueue(value);
      }
    } catch (error45) {
      controller == null ? void 0 : controller.error(error45);
      innerStreamReaders.shift();
      terminate();
    }
  };
  return {
    stream: new ReadableStream({
      start(controllerParam) {
        controller = controllerParam;
      },
      pull: processPull,
      async cancel() {
        for (const reader of innerStreamReaders) {
          await reader.cancel();
        }
        innerStreamReaders = [];
        isClosed = true;
      }
    }),
    addStream: (innerStream) => {
      if (isClosed) {
        throw new Error("Cannot add inner stream: outer stream is closed");
      }
      innerStreamReaders.push(innerStream.getReader());
      waitForNewStream.resolve();
    },
    /**
     * Gracefully close the outer stream. This will let the inner streams
     * finish processing and then close the outer stream.
     */
    close: () => {
      isClosed = true;
      waitForNewStream.resolve();
      if (innerStreamReaders.length === 0) {
        controller == null ? void 0 : controller.close();
      }
    },
    /**
     * Immediately close the outer stream. This will cancel all inner streams
     * and close the outer stream.
     */
    terminate
  };
}
var DelayedPromise = class {
  constructor() {
    this.status = { type: "pending" };
    this._resolve = void 0;
    this._reject = void 0;
  }
  get promise() {
    if (this._promise) {
      return this._promise;
    }
    this._promise = new Promise((resolve2, reject) => {
      if (this.status.type === "resolved") {
        resolve2(this.status.value);
      } else if (this.status.type === "rejected") {
        reject(this.status.error);
      }
      this._resolve = resolve2;
      this._reject = reject;
    });
    return this._promise;
  }
  resolve(value) {
    var _a17;
    this.status = { type: "resolved", value };
    if (this._promise) {
      (_a17 = this._resolve) == null ? void 0 : _a17.call(this, value);
    }
  }
  reject(error45) {
    var _a17;
    this.status = { type: "rejected", error: error45 };
    if (this._promise) {
      (_a17 = this._reject) == null ? void 0 : _a17.call(this, error45);
    }
  }
};
function now() {
  var _a17, _b8;
  return (_b8 = (_a17 = globalThis == null ? void 0 : globalThis.performance) == null ? void 0 : _a17.now()) != null ? _b8 : Date.now();
}
function runToolsTransformation({
  tools,
  generatorStream,
  tracer,
  telemetry,
  system,
  messages,
  abortSignal,
  repairToolCall,
  experimental_context
}) {
  let toolResultsStreamController = null;
  const toolResultsStream = new ReadableStream({
    start(controller) {
      toolResultsStreamController = controller;
    }
  });
  const outstandingToolResults = /* @__PURE__ */ new Set();
  const toolInputs = /* @__PURE__ */ new Map();
  let canClose = false;
  let finishChunk = void 0;
  function attemptClose() {
    if (canClose && outstandingToolResults.size === 0) {
      if (finishChunk != null) {
        toolResultsStreamController.enqueue(finishChunk);
      }
      toolResultsStreamController.close();
    }
  }
  const forwardStream = new TransformStream({
    async transform(chunk, controller) {
      const chunkType = chunk.type;
      switch (chunkType) {
        case "stream-start":
        case "text-start":
        case "text-delta":
        case "text-end":
        case "reasoning-start":
        case "reasoning-delta":
        case "reasoning-end":
        case "tool-input-start":
        case "tool-input-delta":
        case "tool-input-end":
        case "source":
        case "response-metadata":
        case "error":
        case "raw": {
          controller.enqueue(chunk);
          break;
        }
        case "file": {
          controller.enqueue({
            type: "file",
            file: new DefaultGeneratedFileWithType({
              data: chunk.data,
              mediaType: chunk.mediaType
            })
          });
          break;
        }
        case "finish": {
          finishChunk = {
            type: "finish",
            finishReason: chunk.finishReason,
            usage: chunk.usage,
            providerMetadata: chunk.providerMetadata
          };
          break;
        }
        case "tool-call": {
          try {
            const toolCall = await parseToolCall({
              toolCall: chunk,
              tools,
              repairToolCall,
              system,
              messages
            });
            controller.enqueue(toolCall);
            if (toolCall.invalid) {
              toolResultsStreamController.enqueue({
                type: "tool-error",
                toolCallId: toolCall.toolCallId,
                toolName: toolCall.toolName,
                input: toolCall.input,
                error: getErrorMessage2(toolCall.error),
                dynamic: true
              });
              break;
            }
            const tool3 = tools[toolCall.toolName];
            toolInputs.set(toolCall.toolCallId, toolCall.input);
            if (tool3.onInputAvailable != null) {
              await tool3.onInputAvailable({
                input: toolCall.input,
                toolCallId: toolCall.toolCallId,
                messages,
                abortSignal,
                experimental_context
              });
            }
            if (tool3.execute != null && toolCall.providerExecuted !== true) {
              const toolExecutionId = generateId();
              outstandingToolResults.add(toolExecutionId);
              recordSpan({
                name: "ai.toolCall",
                attributes: selectTelemetryAttributes({
                  telemetry,
                  attributes: {
                    ...assembleOperationName({
                      operationId: "ai.toolCall",
                      telemetry
                    }),
                    "ai.toolCall.name": toolCall.toolName,
                    "ai.toolCall.id": toolCall.toolCallId,
                    "ai.toolCall.args": {
                      output: () => JSON.stringify(toolCall.input)
                    }
                  }
                }),
                tracer,
                fn: async (span) => {
                  let output;
                  try {
                    const stream = executeTool({
                      execute: tool3.execute.bind(tool3),
                      input: toolCall.input,
                      options: {
                        toolCallId: toolCall.toolCallId,
                        messages,
                        abortSignal,
                        experimental_context
                      }
                    });
                    for await (const part of stream) {
                      toolResultsStreamController.enqueue({
                        ...toolCall,
                        type: "tool-result",
                        output: part.output,
                        ...part.type === "preliminary" && {
                          preliminary: true
                        }
                      });
                      if (part.type === "final") {
                        output = part.output;
                      }
                    }
                  } catch (error45) {
                    recordErrorOnSpan(span, error45);
                    toolResultsStreamController.enqueue({
                      ...toolCall,
                      type: "tool-error",
                      error: error45
                    });
                    outstandingToolResults.delete(toolExecutionId);
                    attemptClose();
                    return;
                  }
                  outstandingToolResults.delete(toolExecutionId);
                  attemptClose();
                  try {
                    span.setAttributes(
                      selectTelemetryAttributes({
                        telemetry,
                        attributes: {
                          "ai.toolCall.result": {
                            output: () => JSON.stringify(output)
                          }
                        }
                      })
                    );
                  } catch (ignored) {
                  }
                }
              });
            }
          } catch (error45) {
            toolResultsStreamController.enqueue({ type: "error", error: error45 });
          }
          break;
        }
        case "tool-result": {
          const toolName = chunk.toolName;
          if (chunk.isError) {
            toolResultsStreamController.enqueue({
              type: "tool-error",
              toolCallId: chunk.toolCallId,
              toolName,
              input: toolInputs.get(chunk.toolCallId),
              providerExecuted: chunk.providerExecuted,
              error: chunk.result
            });
          } else {
            controller.enqueue({
              type: "tool-result",
              toolCallId: chunk.toolCallId,
              toolName,
              input: toolInputs.get(chunk.toolCallId),
              output: chunk.result,
              providerExecuted: chunk.providerExecuted
            });
          }
          break;
        }
        default: {
          const _exhaustiveCheck = chunkType;
          throw new Error(`Unhandled chunk type: ${_exhaustiveCheck}`);
        }
      }
    },
    flush() {
      canClose = true;
      attemptClose();
    }
  });
  return new ReadableStream({
    async start(controller) {
      return Promise.all([
        generatorStream.pipeThrough(forwardStream).pipeTo(
          new WritableStream({
            write(chunk) {
              controller.enqueue(chunk);
            },
            close() {
            }
          })
        ),
        toolResultsStream.pipeTo(
          new WritableStream({
            write(chunk) {
              controller.enqueue(chunk);
            },
            close() {
              controller.close();
            }
          })
        )
      ]);
    }
  });
}
var originalGenerateId2 = createIdGenerator({
  prefix: "aitxt",
  size: 24
});
function streamText({
  model,
  tools,
  toolChoice,
  system,
  prompt,
  messages,
  maxRetries,
  abortSignal,
  headers,
  stopWhen = stepCountIs(1),
  experimental_output: output,
  experimental_telemetry: telemetry,
  prepareStep,
  providerOptions,
  experimental_activeTools,
  activeTools = experimental_activeTools,
  experimental_repairToolCall: repairToolCall,
  experimental_transform: transform2,
  experimental_download: download2,
  includeRawChunks = false,
  onChunk,
  onError = ({ error: error45 }) => {
    console.error(error45);
  },
  onFinish,
  onAbort,
  onStepFinish,
  experimental_context,
  _internal: {
    now: now2 = now,
    generateId: generateId3 = originalGenerateId2,
    currentDate = () => /* @__PURE__ */ new Date()
  } = {},
  ...settings
}) {
  return new DefaultStreamTextResult({
    model: resolveLanguageModel(model),
    telemetry,
    headers,
    settings,
    maxRetries,
    abortSignal,
    system,
    prompt,
    messages,
    tools,
    toolChoice,
    transforms: asArray(transform2),
    activeTools,
    repairToolCall,
    stopConditions: asArray(stopWhen),
    output,
    providerOptions,
    prepareStep,
    includeRawChunks,
    onChunk,
    onError,
    onFinish,
    onAbort,
    onStepFinish,
    now: now2,
    currentDate,
    generateId: generateId3,
    experimental_context,
    download: download2
  });
}
function createOutputTransformStream(output) {
  if (!output) {
    return new TransformStream({
      transform(chunk, controller) {
        controller.enqueue({ part: chunk, partialOutput: void 0 });
      }
    });
  }
  let firstTextChunkId = void 0;
  let text2 = "";
  let textChunk = "";
  let lastPublishedJson = "";
  function publishTextChunk({
    controller,
    partialOutput = void 0
  }) {
    controller.enqueue({
      part: {
        type: "text-delta",
        id: firstTextChunkId,
        text: textChunk
      },
      partialOutput
    });
    textChunk = "";
  }
  return new TransformStream({
    async transform(chunk, controller) {
      if (chunk.type === "finish-step" && textChunk.length > 0) {
        publishTextChunk({ controller });
      }
      if (chunk.type !== "text-delta" && chunk.type !== "text-start" && chunk.type !== "text-end") {
        controller.enqueue({ part: chunk, partialOutput: void 0 });
        return;
      }
      if (firstTextChunkId == null) {
        firstTextChunkId = chunk.id;
      } else if (chunk.id !== firstTextChunkId) {
        controller.enqueue({ part: chunk, partialOutput: void 0 });
        return;
      }
      if (chunk.type === "text-start") {
        controller.enqueue({ part: chunk, partialOutput: void 0 });
        return;
      }
      if (chunk.type === "text-end") {
        if (textChunk.length > 0) {
          publishTextChunk({ controller });
        }
        controller.enqueue({ part: chunk, partialOutput: void 0 });
        return;
      }
      text2 += chunk.text;
      textChunk += chunk.text;
      const result = await output.parsePartial({ text: text2 });
      if (result != null) {
        const currentJson = JSON.stringify(result.partial);
        if (currentJson !== lastPublishedJson) {
          publishTextChunk({ controller, partialOutput: result.partial });
          lastPublishedJson = currentJson;
        }
      }
    }
  });
}
var DefaultStreamTextResult = class {
  constructor({
    model,
    telemetry,
    headers,
    settings,
    maxRetries: maxRetriesArg,
    abortSignal,
    system,
    prompt,
    messages,
    tools,
    toolChoice,
    transforms,
    activeTools,
    repairToolCall,
    stopConditions,
    output,
    providerOptions,
    prepareStep,
    includeRawChunks,
    now: now2,
    currentDate,
    generateId: generateId3,
    onChunk,
    onError,
    onFinish,
    onAbort,
    onStepFinish,
    experimental_context,
    download: download2
  }) {
    this._totalUsage = new DelayedPromise();
    this._finishReason = new DelayedPromise();
    this._steps = new DelayedPromise();
    this.output = output;
    this.includeRawChunks = includeRawChunks;
    this.tools = tools;
    let stepFinish;
    let recordedContent = [];
    const recordedResponseMessages = [];
    let recordedFinishReason = void 0;
    let recordedTotalUsage = void 0;
    let recordedRequest = {};
    let recordedWarnings = [];
    const recordedSteps = [];
    let rootSpan;
    let activeTextContent = {};
    let activeReasoningContent = {};
    const eventProcessor = new TransformStream({
      async transform(chunk, controller) {
        var _a17, _b8, _c;
        controller.enqueue(chunk);
        const { part } = chunk;
        if (part.type === "text-delta" || part.type === "reasoning-delta" || part.type === "source" || part.type === "tool-call" || part.type === "tool-result" || part.type === "tool-input-start" || part.type === "tool-input-delta" || part.type === "raw") {
          await (onChunk == null ? void 0 : onChunk({ chunk: part }));
        }
        if (part.type === "error") {
          await onError({ error: wrapGatewayError(part.error) });
        }
        if (part.type === "text-start") {
          activeTextContent[part.id] = {
            type: "text",
            text: "",
            providerMetadata: part.providerMetadata
          };
          recordedContent.push(activeTextContent[part.id]);
        }
        if (part.type === "text-delta") {
          const activeText = activeTextContent[part.id];
          if (activeText == null) {
            controller.enqueue({
              part: {
                type: "error",
                error: `text part ${part.id} not found`
              },
              partialOutput: void 0
            });
            return;
          }
          activeText.text += part.text;
          activeText.providerMetadata = (_a17 = part.providerMetadata) != null ? _a17 : activeText.providerMetadata;
        }
        if (part.type === "text-end") {
          delete activeTextContent[part.id];
        }
        if (part.type === "reasoning-start") {
          activeReasoningContent[part.id] = {
            type: "reasoning",
            text: "",
            providerMetadata: part.providerMetadata
          };
          recordedContent.push(activeReasoningContent[part.id]);
        }
        if (part.type === "reasoning-delta") {
          const activeReasoning = activeReasoningContent[part.id];
          if (activeReasoning == null) {
            controller.enqueue({
              part: {
                type: "error",
                error: `reasoning part ${part.id} not found`
              },
              partialOutput: void 0
            });
            return;
          }
          activeReasoning.text += part.text;
          activeReasoning.providerMetadata = (_b8 = part.providerMetadata) != null ? _b8 : activeReasoning.providerMetadata;
        }
        if (part.type === "reasoning-end") {
          const activeReasoning = activeReasoningContent[part.id];
          if (activeReasoning == null) {
            controller.enqueue({
              part: {
                type: "error",
                error: `reasoning part ${part.id} not found`
              },
              partialOutput: void 0
            });
            return;
          }
          activeReasoning.providerMetadata = (_c = part.providerMetadata) != null ? _c : activeReasoning.providerMetadata;
          delete activeReasoningContent[part.id];
        }
        if (part.type === "file") {
          recordedContent.push({ type: "file", file: part.file });
        }
        if (part.type === "source") {
          recordedContent.push(part);
        }
        if (part.type === "tool-call") {
          recordedContent.push(part);
        }
        if (part.type === "tool-result" && !part.preliminary) {
          recordedContent.push(part);
        }
        if (part.type === "tool-error") {
          recordedContent.push(part);
        }
        if (part.type === "start-step") {
          recordedRequest = part.request;
          recordedWarnings = part.warnings;
        }
        if (part.type === "finish-step") {
          const stepMessages = toResponseMessages({
            content: recordedContent,
            tools
          });
          const currentStepResult = new DefaultStepResult({
            content: recordedContent,
            finishReason: part.finishReason,
            usage: part.usage,
            warnings: recordedWarnings,
            request: recordedRequest,
            response: {
              ...part.response,
              messages: [...recordedResponseMessages, ...stepMessages]
            },
            providerMetadata: part.providerMetadata
          });
          await (onStepFinish == null ? void 0 : onStepFinish(currentStepResult));
          logWarnings(recordedWarnings);
          recordedSteps.push(currentStepResult);
          recordedContent = [];
          activeReasoningContent = {};
          activeTextContent = {};
          recordedResponseMessages.push(...stepMessages);
          stepFinish.resolve();
        }
        if (part.type === "finish") {
          recordedTotalUsage = part.totalUsage;
          recordedFinishReason = part.finishReason;
        }
      },
      async flush(controller) {
        try {
          if (recordedSteps.length === 0) {
            const error45 = new NoOutputGeneratedError({
              message: "No output generated. Check the stream for errors."
            });
            self._finishReason.reject(error45);
            self._totalUsage.reject(error45);
            self._steps.reject(error45);
            return;
          }
          const finishReason = recordedFinishReason != null ? recordedFinishReason : "unknown";
          const totalUsage = recordedTotalUsage != null ? recordedTotalUsage : {
            inputTokens: void 0,
            outputTokens: void 0,
            totalTokens: void 0
          };
          self._finishReason.resolve(finishReason);
          self._totalUsage.resolve(totalUsage);
          self._steps.resolve(recordedSteps);
          const finalStep = recordedSteps[recordedSteps.length - 1];
          await (onFinish == null ? void 0 : onFinish({
            finishReason,
            totalUsage,
            usage: finalStep.usage,
            content: finalStep.content,
            text: finalStep.text,
            reasoningText: finalStep.reasoningText,
            reasoning: finalStep.reasoning,
            files: finalStep.files,
            sources: finalStep.sources,
            toolCalls: finalStep.toolCalls,
            staticToolCalls: finalStep.staticToolCalls,
            dynamicToolCalls: finalStep.dynamicToolCalls,
            toolResults: finalStep.toolResults,
            staticToolResults: finalStep.staticToolResults,
            dynamicToolResults: finalStep.dynamicToolResults,
            request: finalStep.request,
            response: finalStep.response,
            warnings: finalStep.warnings,
            providerMetadata: finalStep.providerMetadata,
            steps: recordedSteps
          }));
          rootSpan.setAttributes(
            selectTelemetryAttributes({
              telemetry,
              attributes: {
                "ai.response.finishReason": finishReason,
                "ai.response.text": { output: () => finalStep.text },
                "ai.response.toolCalls": {
                  output: () => {
                    var _a17;
                    return ((_a17 = finalStep.toolCalls) == null ? void 0 : _a17.length) ? JSON.stringify(finalStep.toolCalls) : void 0;
                  }
                },
                "ai.response.providerMetadata": JSON.stringify(
                  finalStep.providerMetadata
                ),
                "ai.usage.inputTokens": totalUsage.inputTokens,
                "ai.usage.outputTokens": totalUsage.outputTokens,
                "ai.usage.totalTokens": totalUsage.totalTokens,
                "ai.usage.reasoningTokens": totalUsage.reasoningTokens,
                "ai.usage.cachedInputTokens": totalUsage.cachedInputTokens
              }
            })
          );
        } catch (error45) {
          controller.error(error45);
        } finally {
          rootSpan.end();
        }
      }
    });
    const stitchableStream = createStitchableStream();
    this.addStream = stitchableStream.addStream;
    this.closeStream = stitchableStream.close;
    const reader = stitchableStream.stream.getReader();
    let stream = new ReadableStream({
      async start(controller) {
        controller.enqueue({ type: "start" });
      },
      async pull(controller) {
        function abort() {
          onAbort == null ? void 0 : onAbort({ steps: recordedSteps });
          controller.enqueue({ type: "abort" });
          controller.close();
        }
        try {
          const { done, value } = await reader.read();
          if (done) {
            controller.close();
            return;
          }
          if (abortSignal == null ? void 0 : abortSignal.aborted) {
            abort();
            return;
          }
          controller.enqueue(value);
        } catch (error45) {
          if (isAbortError(error45) && (abortSignal == null ? void 0 : abortSignal.aborted)) {
            abort();
          } else {
            controller.error(error45);
          }
        }
      },
      cancel(reason) {
        return stitchableStream.stream.cancel(reason);
      }
    });
    for (const transform2 of transforms) {
      stream = stream.pipeThrough(
        transform2({
          tools,
          stopStream() {
            stitchableStream.terminate();
          }
        })
      );
    }
    this.baseStream = stream.pipeThrough(createOutputTransformStream(output)).pipeThrough(eventProcessor);
    const { maxRetries, retry } = prepareRetries({
      maxRetries: maxRetriesArg,
      abortSignal
    });
    const tracer = getTracer(telemetry);
    const callSettings = prepareCallSettings(settings);
    const baseTelemetryAttributes = getBaseTelemetryAttributes({
      model,
      telemetry,
      headers,
      settings: { ...callSettings, maxRetries }
    });
    const self = this;
    recordSpan({
      name: "ai.streamText",
      attributes: selectTelemetryAttributes({
        telemetry,
        attributes: {
          ...assembleOperationName({ operationId: "ai.streamText", telemetry }),
          ...baseTelemetryAttributes,
          // specific settings that only make sense on the outer level:
          "ai.prompt": {
            input: () => JSON.stringify({ system, prompt, messages })
          }
        }
      }),
      tracer,
      endWhenDone: false,
      fn: async (rootSpanArg) => {
        rootSpan = rootSpanArg;
        async function streamStep({
          currentStep,
          responseMessages,
          usage
        }) {
          var _a17, _b8, _c, _d, _e;
          const includeRawChunks2 = self.includeRawChunks;
          stepFinish = new DelayedPromise();
          const initialPrompt = await standardizePrompt({
            system,
            prompt,
            messages
          });
          const stepInputMessages = [
            ...initialPrompt.messages,
            ...responseMessages
          ];
          const prepareStepResult = await (prepareStep == null ? void 0 : prepareStep({
            model,
            steps: recordedSteps,
            stepNumber: recordedSteps.length,
            messages: stepInputMessages
          }));
          const promptMessages = await convertToLanguageModelPrompt({
            prompt: {
              system: (_a17 = prepareStepResult == null ? void 0 : prepareStepResult.system) != null ? _a17 : initialPrompt.system,
              messages: (_b8 = prepareStepResult == null ? void 0 : prepareStepResult.messages) != null ? _b8 : stepInputMessages
            },
            supportedUrls: await model.supportedUrls,
            download: download2
          });
          const stepModel = resolveLanguageModel(
            (_c = prepareStepResult == null ? void 0 : prepareStepResult.model) != null ? _c : model
          );
          const { toolChoice: stepToolChoice, tools: stepTools } = prepareToolsAndToolChoice({
            tools,
            toolChoice: (_d = prepareStepResult == null ? void 0 : prepareStepResult.toolChoice) != null ? _d : toolChoice,
            activeTools: (_e = prepareStepResult == null ? void 0 : prepareStepResult.activeTools) != null ? _e : activeTools
          });
          const {
            result: { stream: stream2, response, request },
            doStreamSpan,
            startTimestampMs
          } = await retry(
            () => recordSpan({
              name: "ai.streamText.doStream",
              attributes: selectTelemetryAttributes({
                telemetry,
                attributes: {
                  ...assembleOperationName({
                    operationId: "ai.streamText.doStream",
                    telemetry
                  }),
                  ...baseTelemetryAttributes,
                  // model:
                  "ai.model.provider": stepModel.provider,
                  "ai.model.id": stepModel.modelId,
                  // prompt:
                  "ai.prompt.messages": {
                    input: () => stringifyForTelemetry(promptMessages)
                  },
                  "ai.prompt.tools": {
                    // convert the language model level tools:
                    input: () => stepTools == null ? void 0 : stepTools.map((tool3) => JSON.stringify(tool3))
                  },
                  "ai.prompt.toolChoice": {
                    input: () => stepToolChoice != null ? JSON.stringify(stepToolChoice) : void 0
                  },
                  // standardized gen-ai llm span attributes:
                  "gen_ai.system": stepModel.provider,
                  "gen_ai.request.model": stepModel.modelId,
                  "gen_ai.request.frequency_penalty": callSettings.frequencyPenalty,
                  "gen_ai.request.max_tokens": callSettings.maxOutputTokens,
                  "gen_ai.request.presence_penalty": callSettings.presencePenalty,
                  "gen_ai.request.stop_sequences": callSettings.stopSequences,
                  "gen_ai.request.temperature": callSettings.temperature,
                  "gen_ai.request.top_k": callSettings.topK,
                  "gen_ai.request.top_p": callSettings.topP
                }
              }),
              tracer,
              endWhenDone: false,
              fn: async (doStreamSpan2) => {
                return {
                  startTimestampMs: now2(),
                  // get before the call
                  doStreamSpan: doStreamSpan2,
                  result: await stepModel.doStream({
                    ...callSettings,
                    tools: stepTools,
                    toolChoice: stepToolChoice,
                    responseFormat: output == null ? void 0 : output.responseFormat,
                    prompt: promptMessages,
                    providerOptions,
                    abortSignal,
                    headers,
                    includeRawChunks: includeRawChunks2
                  })
                };
              }
            })
          );
          const streamWithToolResults = runToolsTransformation({
            tools,
            generatorStream: stream2,
            tracer,
            telemetry,
            system,
            messages: stepInputMessages,
            repairToolCall,
            abortSignal,
            experimental_context
          });
          const stepRequest = request != null ? request : {};
          const stepToolCalls = [];
          const stepToolOutputs = [];
          let warnings;
          const activeToolCallToolNames = {};
          let stepFinishReason = "unknown";
          let stepUsage = {
            inputTokens: void 0,
            outputTokens: void 0,
            totalTokens: void 0
          };
          let stepProviderMetadata;
          let stepFirstChunk = true;
          let stepResponse = {
            id: generateId3(),
            timestamp: currentDate(),
            modelId: model.modelId
          };
          let activeText = "";
          self.addStream(
            streamWithToolResults.pipeThrough(
              new TransformStream({
                async transform(chunk, controller) {
                  var _a18, _b22, _c2, _d2;
                  if (chunk.type === "stream-start") {
                    warnings = chunk.warnings;
                    return;
                  }
                  if (stepFirstChunk) {
                    const msToFirstChunk = now2() - startTimestampMs;
                    stepFirstChunk = false;
                    doStreamSpan.addEvent("ai.stream.firstChunk", {
                      "ai.response.msToFirstChunk": msToFirstChunk
                    });
                    doStreamSpan.setAttributes({
                      "ai.response.msToFirstChunk": msToFirstChunk
                    });
                    controller.enqueue({
                      type: "start-step",
                      request: stepRequest,
                      warnings: warnings != null ? warnings : []
                    });
                  }
                  const chunkType = chunk.type;
                  switch (chunkType) {
                    case "text-start":
                    case "text-end": {
                      controller.enqueue(chunk);
                      break;
                    }
                    case "text-delta": {
                      if (chunk.delta.length > 0) {
                        controller.enqueue({
                          type: "text-delta",
                          id: chunk.id,
                          text: chunk.delta,
                          providerMetadata: chunk.providerMetadata
                        });
                        activeText += chunk.delta;
                      }
                      break;
                    }
                    case "reasoning-start":
                    case "reasoning-end": {
                      controller.enqueue(chunk);
                      break;
                    }
                    case "reasoning-delta": {
                      controller.enqueue({
                        type: "reasoning-delta",
                        id: chunk.id,
                        text: chunk.delta,
                        providerMetadata: chunk.providerMetadata
                      });
                      break;
                    }
                    case "tool-call": {
                      controller.enqueue(chunk);
                      stepToolCalls.push(chunk);
                      break;
                    }
                    case "tool-result": {
                      controller.enqueue(chunk);
                      if (!chunk.preliminary) {
                        stepToolOutputs.push(chunk);
                      }
                      break;
                    }
                    case "tool-error": {
                      controller.enqueue(chunk);
                      stepToolOutputs.push(chunk);
                      break;
                    }
                    case "response-metadata": {
                      stepResponse = {
                        id: (_a18 = chunk.id) != null ? _a18 : stepResponse.id,
                        timestamp: (_b22 = chunk.timestamp) != null ? _b22 : stepResponse.timestamp,
                        modelId: (_c2 = chunk.modelId) != null ? _c2 : stepResponse.modelId
                      };
                      break;
                    }
                    case "finish": {
                      stepUsage = chunk.usage;
                      stepFinishReason = chunk.finishReason;
                      stepProviderMetadata = chunk.providerMetadata;
                      const msToFinish = now2() - startTimestampMs;
                      doStreamSpan.addEvent("ai.stream.finish");
                      doStreamSpan.setAttributes({
                        "ai.response.msToFinish": msToFinish,
                        "ai.response.avgOutputTokensPerSecond": 1e3 * ((_d2 = stepUsage.outputTokens) != null ? _d2 : 0) / msToFinish
                      });
                      break;
                    }
                    case "file": {
                      controller.enqueue(chunk);
                      break;
                    }
                    case "source": {
                      controller.enqueue(chunk);
                      break;
                    }
                    case "tool-input-start": {
                      activeToolCallToolNames[chunk.id] = chunk.toolName;
                      const tool3 = tools == null ? void 0 : tools[chunk.toolName];
                      if ((tool3 == null ? void 0 : tool3.onInputStart) != null) {
                        await tool3.onInputStart({
                          toolCallId: chunk.id,
                          messages: stepInputMessages,
                          abortSignal,
                          experimental_context
                        });
                      }
                      controller.enqueue({
                        ...chunk,
                        dynamic: (tool3 == null ? void 0 : tool3.type) === "dynamic"
                      });
                      break;
                    }
                    case "tool-input-end": {
                      delete activeToolCallToolNames[chunk.id];
                      controller.enqueue(chunk);
                      break;
                    }
                    case "tool-input-delta": {
                      const toolName = activeToolCallToolNames[chunk.id];
                      const tool3 = tools == null ? void 0 : tools[toolName];
                      if ((tool3 == null ? void 0 : tool3.onInputDelta) != null) {
                        await tool3.onInputDelta({
                          inputTextDelta: chunk.delta,
                          toolCallId: chunk.id,
                          messages: stepInputMessages,
                          abortSignal,
                          experimental_context
                        });
                      }
                      controller.enqueue(chunk);
                      break;
                    }
                    case "error": {
                      controller.enqueue(chunk);
                      stepFinishReason = "error";
                      break;
                    }
                    case "raw": {
                      if (includeRawChunks2) {
                        controller.enqueue(chunk);
                      }
                      break;
                    }
                    default: {
                      const exhaustiveCheck = chunkType;
                      throw new Error(`Unknown chunk type: ${exhaustiveCheck}`);
                    }
                  }
                },
                // invoke onFinish callback and resolve toolResults promise when the stream is about to close:
                async flush(controller) {
                  const stepToolCallsJson = stepToolCalls.length > 0 ? JSON.stringify(stepToolCalls) : void 0;
                  try {
                    doStreamSpan.setAttributes(
                      selectTelemetryAttributes({
                        telemetry,
                        attributes: {
                          "ai.response.finishReason": stepFinishReason,
                          "ai.response.text": {
                            output: () => activeText
                          },
                          "ai.response.toolCalls": {
                            output: () => stepToolCallsJson
                          },
                          "ai.response.id": stepResponse.id,
                          "ai.response.model": stepResponse.modelId,
                          "ai.response.timestamp": stepResponse.timestamp.toISOString(),
                          "ai.response.providerMetadata": JSON.stringify(stepProviderMetadata),
                          "ai.usage.inputTokens": stepUsage.inputTokens,
                          "ai.usage.outputTokens": stepUsage.outputTokens,
                          "ai.usage.totalTokens": stepUsage.totalTokens,
                          "ai.usage.reasoningTokens": stepUsage.reasoningTokens,
                          "ai.usage.cachedInputTokens": stepUsage.cachedInputTokens,
                          // standardized gen-ai llm span attributes:
                          "gen_ai.response.finish_reasons": [stepFinishReason],
                          "gen_ai.response.id": stepResponse.id,
                          "gen_ai.response.model": stepResponse.modelId,
                          "gen_ai.usage.input_tokens": stepUsage.inputTokens,
                          "gen_ai.usage.output_tokens": stepUsage.outputTokens
                        }
                      })
                    );
                  } catch (error45) {
                  } finally {
                    doStreamSpan.end();
                  }
                  controller.enqueue({
                    type: "finish-step",
                    finishReason: stepFinishReason,
                    usage: stepUsage,
                    providerMetadata: stepProviderMetadata,
                    response: {
                      ...stepResponse,
                      headers: response == null ? void 0 : response.headers
                    }
                  });
                  const combinedUsage = addLanguageModelUsage(usage, stepUsage);
                  await stepFinish.promise;
                  const clientToolCalls = stepToolCalls.filter(
                    (toolCall) => toolCall.providerExecuted !== true
                  );
                  const clientToolOutputs = stepToolOutputs.filter(
                    (toolOutput) => toolOutput.providerExecuted !== true
                  );
                  if (clientToolCalls.length > 0 && // all current tool calls have outputs (incl. execution errors):
                  clientToolOutputs.length === clientToolCalls.length && // continue until a stop condition is met:
                  !await isStopConditionMet({
                    stopConditions,
                    steps: recordedSteps
                  })) {
                    responseMessages.push(
                      ...toResponseMessages({
                        content: (
                          // use transformed content to create the messages for the next step:
                          recordedSteps[recordedSteps.length - 1].content
                        ),
                        tools
                      })
                    );
                    try {
                      await streamStep({
                        currentStep: currentStep + 1,
                        responseMessages,
                        usage: combinedUsage
                      });
                    } catch (error45) {
                      controller.enqueue({
                        type: "error",
                        error: error45
                      });
                      self.closeStream();
                    }
                  } else {
                    controller.enqueue({
                      type: "finish",
                      finishReason: stepFinishReason,
                      totalUsage: combinedUsage
                    });
                    self.closeStream();
                  }
                }
              })
            )
          );
        }
        await streamStep({
          currentStep: 0,
          responseMessages: [],
          usage: {
            inputTokens: void 0,
            outputTokens: void 0,
            totalTokens: void 0
          }
        });
      }
    }).catch((error45) => {
      self.addStream(
        new ReadableStream({
          start(controller) {
            controller.enqueue({ type: "error", error: error45 });
            controller.close();
          }
        })
      );
      self.closeStream();
    });
  }
  get steps() {
    this.consumeStream();
    return this._steps.promise;
  }
  get finalStep() {
    return this.steps.then((steps) => steps[steps.length - 1]);
  }
  get content() {
    return this.finalStep.then((step) => step.content);
  }
  get warnings() {
    return this.finalStep.then((step) => step.warnings);
  }
  get providerMetadata() {
    return this.finalStep.then((step) => step.providerMetadata);
  }
  get text() {
    return this.finalStep.then((step) => step.text);
  }
  get reasoningText() {
    return this.finalStep.then((step) => step.reasoningText);
  }
  get reasoning() {
    return this.finalStep.then((step) => step.reasoning);
  }
  get sources() {
    return this.finalStep.then((step) => step.sources);
  }
  get files() {
    return this.finalStep.then((step) => step.files);
  }
  get toolCalls() {
    return this.finalStep.then((step) => step.toolCalls);
  }
  get staticToolCalls() {
    return this.finalStep.then((step) => step.staticToolCalls);
  }
  get dynamicToolCalls() {
    return this.finalStep.then((step) => step.dynamicToolCalls);
  }
  get toolResults() {
    return this.finalStep.then((step) => step.toolResults);
  }
  get staticToolResults() {
    return this.finalStep.then((step) => step.staticToolResults);
  }
  get dynamicToolResults() {
    return this.finalStep.then((step) => step.dynamicToolResults);
  }
  get usage() {
    return this.finalStep.then((step) => step.usage);
  }
  get request() {
    return this.finalStep.then((step) => step.request);
  }
  get response() {
    return this.finalStep.then((step) => step.response);
  }
  get totalUsage() {
    this.consumeStream();
    return this._totalUsage.promise;
  }
  get finishReason() {
    this.consumeStream();
    return this._finishReason.promise;
  }
  /**
  Split out a new stream from the original stream.
  The original stream is replaced to allow for further splitting,
  since we do not know how many times the stream will be split.
  
  Note: this leads to buffering the stream content on the server.
  However, the LLM results are expected to be small enough to not cause issues.
     */
  teeStream() {
    const [stream1, stream2] = this.baseStream.tee();
    this.baseStream = stream2;
    return stream1;
  }
  get textStream() {
    return createAsyncIterableStream(
      this.teeStream().pipeThrough(
        new TransformStream({
          transform({ part }, controller) {
            if (part.type === "text-delta") {
              controller.enqueue(part.text);
            }
          }
        })
      )
    );
  }
  get fullStream() {
    return createAsyncIterableStream(
      this.teeStream().pipeThrough(
        new TransformStream({
          transform({ part }, controller) {
            controller.enqueue(part);
          }
        })
      )
    );
  }
  async consumeStream(options) {
    var _a17;
    try {
      await consumeStream({
        stream: this.fullStream,
        onError: options == null ? void 0 : options.onError
      });
    } catch (error45) {
      (_a17 = options == null ? void 0 : options.onError) == null ? void 0 : _a17.call(options, error45);
    }
  }
  get experimental_partialOutputStream() {
    if (this.output == null) {
      throw new NoOutputSpecifiedError();
    }
    return createAsyncIterableStream(
      this.teeStream().pipeThrough(
        new TransformStream({
          transform({ partialOutput }, controller) {
            if (partialOutput != null) {
              controller.enqueue(partialOutput);
            }
          }
        })
      )
    );
  }
  toUIMessageStream({
    originalMessages,
    generateMessageId,
    onFinish,
    messageMetadata,
    sendReasoning = true,
    sendSources = false,
    sendStart = true,
    sendFinish = true,
    onError = getErrorMessage
  } = {}) {
    const responseMessageId = generateMessageId != null ? getResponseUIMessageId({
      originalMessages,
      responseMessageId: generateMessageId
    }) : void 0;
    const toolNamesByCallId = {};
    const isDynamic = (toolCallId) => {
      var _a17, _b8;
      const toolName = toolNamesByCallId[toolCallId];
      const dynamic = ((_b8 = (_a17 = this.tools) == null ? void 0 : _a17[toolName]) == null ? void 0 : _b8.type) === "dynamic";
      return dynamic ? true : void 0;
    };
    const baseStream = this.fullStream.pipeThrough(
      new TransformStream({
        transform: async (part, controller) => {
          const messageMetadataValue = messageMetadata == null ? void 0 : messageMetadata({ part });
          const partType = part.type;
          switch (partType) {
            case "text-start": {
              controller.enqueue({
                type: "text-start",
                id: part.id,
                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}
              });
              break;
            }
            case "text-delta": {
              controller.enqueue({
                type: "text-delta",
                id: part.id,
                delta: part.text,
                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}
              });
              break;
            }
            case "text-end": {
              controller.enqueue({
                type: "text-end",
                id: part.id,
                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}
              });
              break;
            }
            case "reasoning-start": {
              controller.enqueue({
                type: "reasoning-start",
                id: part.id,
                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}
              });
              break;
            }
            case "reasoning-delta": {
              if (sendReasoning) {
                controller.enqueue({
                  type: "reasoning-delta",
                  id: part.id,
                  delta: part.text,
                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}
                });
              }
              break;
            }
            case "reasoning-end": {
              controller.enqueue({
                type: "reasoning-end",
                id: part.id,
                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}
              });
              break;
            }
            case "file": {
              controller.enqueue({
                type: "file",
                mediaType: part.file.mediaType,
                url: `data:${part.file.mediaType};base64,${part.file.base64}`
              });
              break;
            }
            case "source": {
              if (sendSources && part.sourceType === "url") {
                controller.enqueue({
                  type: "source-url",
                  sourceId: part.id,
                  url: part.url,
                  title: part.title,
                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}
                });
              }
              if (sendSources && part.sourceType === "document") {
                controller.enqueue({
                  type: "source-document",
                  sourceId: part.id,
                  mediaType: part.mediaType,
                  title: part.title,
                  filename: part.filename,
                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}
                });
              }
              break;
            }
            case "tool-input-start": {
              toolNamesByCallId[part.id] = part.toolName;
              const dynamic = isDynamic(part.id);
              controller.enqueue({
                type: "tool-input-start",
                toolCallId: part.id,
                toolName: part.toolName,
                ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},
                ...dynamic != null ? { dynamic } : {}
              });
              break;
            }
            case "tool-input-delta": {
              controller.enqueue({
                type: "tool-input-delta",
                toolCallId: part.id,
                inputTextDelta: part.delta
              });
              break;
            }
            case "tool-call": {
              toolNamesByCallId[part.toolCallId] = part.toolName;
              const dynamic = isDynamic(part.toolCallId);
              if (part.invalid) {
                controller.enqueue({
                  type: "tool-input-error",
                  toolCallId: part.toolCallId,
                  toolName: part.toolName,
                  input: part.input,
                  ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},
                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {},
                  ...dynamic != null ? { dynamic } : {},
                  errorText: onError(part.error)
                });
              } else {
                controller.enqueue({
                  type: "tool-input-available",
                  toolCallId: part.toolCallId,
                  toolName: part.toolName,
                  input: part.input,
                  ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},
                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {},
                  ...dynamic != null ? { dynamic } : {}
                });
              }
              break;
            }
            case "tool-result": {
              const dynamic = isDynamic(part.toolCallId);
              controller.enqueue({
                type: "tool-output-available",
                toolCallId: part.toolCallId,
                output: part.output,
                ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},
                ...part.preliminary != null ? { preliminary: part.preliminary } : {},
                ...dynamic != null ? { dynamic } : {}
              });
              break;
            }
            case "tool-error": {
              const dynamic = isDynamic(part.toolCallId);
              controller.enqueue({
                type: "tool-output-error",
                toolCallId: part.toolCallId,
                errorText: onError(part.error),
                ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},
                ...dynamic != null ? { dynamic } : {}
              });
              break;
            }
            case "error": {
              controller.enqueue({
                type: "error",
                errorText: onError(part.error)
              });
              break;
            }
            case "start-step": {
              controller.enqueue({ type: "start-step" });
              break;
            }
            case "finish-step": {
              controller.enqueue({ type: "finish-step" });
              break;
            }
            case "start": {
              if (sendStart) {
                controller.enqueue({
                  type: "start",
                  ...messageMetadataValue != null ? { messageMetadata: messageMetadataValue } : {},
                  ...responseMessageId != null ? { messageId: responseMessageId } : {}
                });
              }
              break;
            }
            case "finish": {
              if (sendFinish) {
                controller.enqueue({
                  type: "finish",
                  ...messageMetadataValue != null ? { messageMetadata: messageMetadataValue } : {}
                });
              }
              break;
            }
            case "abort": {
              controller.enqueue(part);
              break;
            }
            case "tool-input-end": {
              break;
            }
            case "raw": {
              break;
            }
            default: {
              const exhaustiveCheck = partType;
              throw new Error(`Unknown chunk type: ${exhaustiveCheck}`);
            }
          }
          if (messageMetadataValue != null && partType !== "start" && partType !== "finish") {
            controller.enqueue({
              type: "message-metadata",
              messageMetadata: messageMetadataValue
            });
          }
        }
      })
    );
    return createAsyncIterableStream(
      handleUIMessageStreamFinish({
        stream: baseStream,
        messageId: responseMessageId != null ? responseMessageId : generateMessageId == null ? void 0 : generateMessageId(),
        originalMessages,
        onFinish,
        onError
      })
    );
  }
  pipeUIMessageStreamToResponse(response, {
    originalMessages,
    generateMessageId,
    onFinish,
    messageMetadata,
    sendReasoning,
    sendSources,
    sendFinish,
    sendStart,
    onError,
    ...init
  } = {}) {
    pipeUIMessageStreamToResponse({
      response,
      stream: this.toUIMessageStream({
        originalMessages,
        generateMessageId,
        onFinish,
        messageMetadata,
        sendReasoning,
        sendSources,
        sendFinish,
        sendStart,
        onError
      }),
      ...init
    });
  }
  pipeTextStreamToResponse(response, init) {
    pipeTextStreamToResponse({
      response,
      textStream: this.textStream,
      ...init
    });
  }
  toUIMessageStreamResponse({
    originalMessages,
    generateMessageId,
    onFinish,
    messageMetadata,
    sendReasoning,
    sendSources,
    sendFinish,
    sendStart,
    onError,
    ...init
  } = {}) {
    return createUIMessageStreamResponse({
      stream: this.toUIMessageStream({
        originalMessages,
        generateMessageId,
        onFinish,
        messageMetadata,
        sendReasoning,
        sendSources,
        sendFinish,
        sendStart,
        onError
      }),
      ...init
    });
  }
  toTextStreamResponse(init) {
    return createTextStreamResponse({
      textStream: this.textStream,
      ...init
    });
  }
};
function convertToModelMessages(messages, options) {
  const modelMessages = [];
  if (options == null ? void 0 : options.ignoreIncompleteToolCalls) {
    messages = messages.map((message) => ({
      ...message,
      parts: message.parts.filter(
        (part) => !isToolOrDynamicToolUIPart(part) || part.state !== "input-streaming" && part.state !== "input-available"
      )
    }));
  }
  for (const message of messages) {
    switch (message.role) {
      case "system": {
        const textParts = message.parts.filter((part) => part.type === "text");
        const providerMetadata = textParts.reduce((acc, part) => {
          if (part.providerMetadata != null) {
            return { ...acc, ...part.providerMetadata };
          }
          return acc;
        }, {});
        modelMessages.push({
          role: "system",
          content: textParts.map((part) => part.text).join(""),
          ...Object.keys(providerMetadata).length > 0 ? { providerOptions: providerMetadata } : {}
        });
        break;
      }
      case "user": {
        modelMessages.push({
          role: "user",
          content: message.parts.filter(
            (part) => part.type === "text" || part.type === "file"
          ).map((part) => {
            switch (part.type) {
              case "text":
                return {
                  type: "text",
                  text: part.text,
                  ...part.providerMetadata != null ? { providerOptions: part.providerMetadata } : {}
                };
              case "file":
                return {
                  type: "file",
                  mediaType: part.mediaType,
                  filename: part.filename,
                  data: part.url,
                  ...part.providerMetadata != null ? { providerOptions: part.providerMetadata } : {}
                };
              default:
                return part;
            }
          })
        });
        break;
      }
      case "assistant": {
        if (message.parts != null) {
          let processBlock2 = function() {
            var _a17, _b8;
            if (block.length === 0) {
              return;
            }
            const content = [];
            for (const part of block) {
              if (part.type === "text") {
                content.push({
                  type: "text",
                  text: part.text,
                  ...part.providerMetadata != null ? { providerOptions: part.providerMetadata } : {}
                });
              } else if (part.type === "file") {
                content.push({
                  type: "file",
                  mediaType: part.mediaType,
                  filename: part.filename,
                  data: part.url
                });
              } else if (part.type === "reasoning") {
                content.push({
                  type: "reasoning",
                  text: part.text,
                  providerOptions: part.providerMetadata
                });
              } else if (part.type === "dynamic-tool") {
                const toolName = part.toolName;
                if (part.state !== "input-streaming") {
                  content.push({
                    type: "tool-call",
                    toolCallId: part.toolCallId,
                    toolName,
                    input: part.input,
                    ...part.callProviderMetadata != null ? { providerOptions: part.callProviderMetadata } : {}
                  });
                }
              } else if (isToolUIPart(part)) {
                const toolName = getToolName(part);
                if (part.state !== "input-streaming") {
                  content.push({
                    type: "tool-call",
                    toolCallId: part.toolCallId,
                    toolName,
                    input: part.state === "output-error" ? (_a17 = part.input) != null ? _a17 : part.rawInput : part.input,
                    providerExecuted: part.providerExecuted,
                    ...part.callProviderMetadata != null ? { providerOptions: part.callProviderMetadata } : {}
                  });
                  if (part.providerExecuted === true && (part.state === "output-available" || part.state === "output-error")) {
                    content.push({
                      type: "tool-result",
                      toolCallId: part.toolCallId,
                      toolName,
                      output: createToolModelOutput({
                        output: part.state === "output-error" ? part.errorText : part.output,
                        tool: (_b8 = options == null ? void 0 : options.tools) == null ? void 0 : _b8[toolName],
                        errorMode: part.state === "output-error" ? "json" : "none"
                      })
                    });
                  }
                }
              } else {
                const _exhaustiveCheck = part;
                throw new Error(`Unsupported part: ${_exhaustiveCheck}`);
              }
            }
            modelMessages.push({
              role: "assistant",
              content
            });
            const toolParts = block.filter(
              (part) => isToolUIPart(part) && part.providerExecuted !== true || part.type === "dynamic-tool"
            );
            if (toolParts.length > 0) {
              modelMessages.push({
                role: "tool",
                content: toolParts.map((toolPart) => {
                  var _a18;
                  switch (toolPart.state) {
                    case "output-error":
                    case "output-available": {
                      const toolName = toolPart.type === "dynamic-tool" ? toolPart.toolName : getToolName(toolPart);
                      return {
                        type: "tool-result",
                        toolCallId: toolPart.toolCallId,
                        toolName,
                        output: createToolModelOutput({
                          output: toolPart.state === "output-error" ? toolPart.errorText : toolPart.output,
                          tool: (_a18 = options == null ? void 0 : options.tools) == null ? void 0 : _a18[toolName],
                          errorMode: toolPart.state === "output-error" ? "text" : "none"
                        })
                      };
                    }
                    default: {
                      return null;
                    }
                  }
                }).filter(
                  (output) => output != null
                )
              });
            }
            block = [];
          };
          var processBlock = processBlock2;
          let block = [];
          for (const part of message.parts) {
            if (part.type === "text" || part.type === "reasoning" || part.type === "file" || part.type === "dynamic-tool" || isToolUIPart(part)) {
              block.push(part);
            } else if (part.type === "step-start") {
              processBlock2();
            }
          }
          processBlock2();
          break;
        }
        break;
      }
      default: {
        const _exhaustiveCheck = message.role;
        throw new MessageConversionError({
          originalMessage: message,
          message: `Unsupported role: ${_exhaustiveCheck}`
        });
      }
    }
  }
  return modelMessages;
}
var originalGenerateId3 = createIdGenerator({ prefix: "aiobj", size: 24 });
var originalGenerateId4 = createIdGenerator({ prefix: "aiobj", size: 24 });
var output_exports = {};
__export2(output_exports, {
  object: () => object2,
  text: () => text
});
var text = () => ({
  type: "text",
  responseFormat: { type: "text" },
  async parsePartial({ text: text2 }) {
    return { partial: text2 };
  },
  async parseOutput({ text: text2 }) {
    return text2;
  }
});
var object2 = ({
  schema: inputSchema
}) => {
  const schema = asSchema(inputSchema);
  return {
    type: "object",
    responseFormat: {
      type: "json",
      schema: schema.jsonSchema
    },
    async parsePartial({ text: text2 }) {
      const result = await parsePartialJson(text2);
      switch (result.state) {
        case "failed-parse":
        case "undefined-input":
          return void 0;
        case "repaired-parse":
        case "successful-parse":
          return {
            // Note: currently no validation of partial results:
            partial: result.value
          };
        default: {
          const _exhaustiveCheck = result.state;
          throw new Error(`Unsupported parse state: ${_exhaustiveCheck}`);
        }
      }
    },
    async parseOutput({ text: text2 }, context) {
      const parseResult = await safeParseJSON({ text: text2 });
      if (!parseResult.success) {
        throw new NoObjectGeneratedError({
          message: "No object generated: could not parse the response.",
          cause: parseResult.error,
          text: text2,
          response: context.response,
          usage: context.usage,
          finishReason: context.finishReason
        });
      }
      const validationResult = await safeValidateTypes({
        value: parseResult.value,
        schema
      });
      if (!validationResult.success) {
        throw new NoObjectGeneratedError({
          message: "No object generated: response did not match schema.",
          cause: validationResult.error,
          text: text2,
          response: context.response,
          usage: context.usage,
          finishReason: context.finishReason
        });
      }
      return validationResult.value;
    }
  };
};
var name16 = "AI_NoSuchProviderError";
var marker162 = `vercel.ai.error.${name16}`;
var symbol162 = Symbol.for(marker162);
var _a162;
_a162 = symbol162;
var ClientOrServerImplementationSchema = external_exports.looseObject({
  name: external_exports.string(),
  version: external_exports.string()
});
var BaseParamsSchema = external_exports.looseObject({
  _meta: external_exports.optional(external_exports.object({}).loose())
});
var ResultSchema = BaseParamsSchema;
var RequestSchema = external_exports.object({
  method: external_exports.string(),
  params: external_exports.optional(BaseParamsSchema)
});
var ServerCapabilitiesSchema = external_exports.looseObject({
  experimental: external_exports.optional(external_exports.object({}).loose()),
  logging: external_exports.optional(external_exports.object({}).loose()),
  prompts: external_exports.optional(
    external_exports.looseObject({
      listChanged: external_exports.optional(external_exports.boolean())
    })
  ),
  resources: external_exports.optional(
    external_exports.looseObject({
      subscribe: external_exports.optional(external_exports.boolean()),
      listChanged: external_exports.optional(external_exports.boolean())
    })
  ),
  tools: external_exports.optional(
    external_exports.looseObject({
      listChanged: external_exports.optional(external_exports.boolean())
    })
  )
});
var InitializeResultSchema = ResultSchema.extend({
  protocolVersion: external_exports.string(),
  capabilities: ServerCapabilitiesSchema,
  serverInfo: ClientOrServerImplementationSchema,
  instructions: external_exports.optional(external_exports.string())
});
var PaginatedResultSchema = ResultSchema.extend({
  nextCursor: external_exports.optional(external_exports.string())
});
var ToolSchema = external_exports.object({
  name: external_exports.string(),
  description: external_exports.optional(external_exports.string()),
  inputSchema: external_exports.object({
    type: external_exports.literal("object"),
    properties: external_exports.optional(external_exports.object({}).loose())
  }).loose()
}).loose();
var ListToolsResultSchema = PaginatedResultSchema.extend({
  tools: external_exports.array(ToolSchema)
});
var TextContentSchema = external_exports.object({
  type: external_exports.literal("text"),
  text: external_exports.string()
}).loose();
var ImageContentSchema = external_exports.object({
  type: external_exports.literal("image"),
  data: external_exports.base64(),
  mimeType: external_exports.string()
}).loose();
var ResourceContentsSchema = external_exports.object({
  /**
   * The URI of this resource.
   */
  uri: external_exports.string(),
  /**
   * The MIME type of this resource, if known.
   */
  mimeType: external_exports.optional(external_exports.string())
}).loose();
var TextResourceContentsSchema = ResourceContentsSchema.extend({
  text: external_exports.string()
});
var BlobResourceContentsSchema = ResourceContentsSchema.extend({
  blob: external_exports.base64()
});
var EmbeddedResourceSchema = external_exports.object({
  type: external_exports.literal("resource"),
  resource: external_exports.union([TextResourceContentsSchema, BlobResourceContentsSchema])
}).loose();
var CallToolResultSchema = ResultSchema.extend({
  content: external_exports.array(
    external_exports.union([TextContentSchema, ImageContentSchema, EmbeddedResourceSchema])
  ),
  isError: external_exports.boolean().default(false).optional()
}).or(
  ResultSchema.extend({
    toolResult: external_exports.unknown()
  })
);
var JSONRPC_VERSION = "2.0";
var JSONRPCRequestSchema = external_exports.object({
  jsonrpc: external_exports.literal(JSONRPC_VERSION),
  id: external_exports.union([external_exports.string(), external_exports.number().int()])
}).merge(RequestSchema).strict();
var JSONRPCResponseSchema = external_exports.object({
  jsonrpc: external_exports.literal(JSONRPC_VERSION),
  id: external_exports.union([external_exports.string(), external_exports.number().int()]),
  result: ResultSchema
}).strict();
var JSONRPCErrorSchema = external_exports.object({
  jsonrpc: external_exports.literal(JSONRPC_VERSION),
  id: external_exports.union([external_exports.string(), external_exports.number().int()]),
  error: external_exports.object({
    code: external_exports.number().int(),
    message: external_exports.string(),
    data: external_exports.optional(external_exports.unknown())
  })
}).strict();
var JSONRPCNotificationSchema = external_exports.object({
  jsonrpc: external_exports.literal(JSONRPC_VERSION)
}).merge(
  external_exports.object({
    method: external_exports.string(),
    params: external_exports.optional(BaseParamsSchema)
  })
).strict();
var JSONRPCMessageSchema = external_exports.union([
  JSONRPCRequestSchema,
  JSONRPCNotificationSchema,
  JSONRPCResponseSchema,
  JSONRPCErrorSchema
]);
var textUIPartSchema = external_exports.object({
  type: external_exports.literal("text"),
  text: external_exports.string(),
  state: external_exports.enum(["streaming", "done"]).optional(),
  providerMetadata: providerMetadataSchema.optional()
});
var reasoningUIPartSchema = external_exports.object({
  type: external_exports.literal("reasoning"),
  text: external_exports.string(),
  state: external_exports.enum(["streaming", "done"]).optional(),
  providerMetadata: providerMetadataSchema.optional()
});
var sourceUrlUIPartSchema = external_exports.object({
  type: external_exports.literal("source-url"),
  sourceId: external_exports.string(),
  url: external_exports.string(),
  title: external_exports.string().optional(),
  providerMetadata: providerMetadataSchema.optional()
});
var sourceDocumentUIPartSchema = external_exports.object({
  type: external_exports.literal("source-document"),
  sourceId: external_exports.string(),
  mediaType: external_exports.string(),
  title: external_exports.string(),
  filename: external_exports.string().optional(),
  providerMetadata: providerMetadataSchema.optional()
});
var fileUIPartSchema = external_exports.object({
  type: external_exports.literal("file"),
  mediaType: external_exports.string(),
  filename: external_exports.string().optional(),
  url: external_exports.string(),
  providerMetadata: providerMetadataSchema.optional()
});
var stepStartUIPartSchema = external_exports.object({
  type: external_exports.literal("step-start")
});
var dataUIPartSchema = external_exports.object({
  type: external_exports.string().startsWith("data-"),
  id: external_exports.string().optional(),
  data: external_exports.unknown()
});
var dynamicToolUIPartSchemas = [
  external_exports.object({
    type: external_exports.literal("dynamic-tool"),
    toolName: external_exports.string(),
    toolCallId: external_exports.string(),
    state: external_exports.literal("input-streaming"),
    input: external_exports.unknown().optional(),
    output: external_exports.never().optional(),
    errorText: external_exports.never().optional()
  }),
  external_exports.object({
    type: external_exports.literal("dynamic-tool"),
    toolName: external_exports.string(),
    toolCallId: external_exports.string(),
    state: external_exports.literal("input-available"),
    input: external_exports.unknown(),
    output: external_exports.never().optional(),
    errorText: external_exports.never().optional(),
    callProviderMetadata: providerMetadataSchema.optional()
  }),
  external_exports.object({
    type: external_exports.literal("dynamic-tool"),
    toolName: external_exports.string(),
    toolCallId: external_exports.string(),
    state: external_exports.literal("output-available"),
    input: external_exports.unknown(),
    output: external_exports.unknown(),
    errorText: external_exports.never().optional(),
    callProviderMetadata: providerMetadataSchema.optional(),
    preliminary: external_exports.boolean().optional()
  }),
  external_exports.object({
    type: external_exports.literal("dynamic-tool"),
    toolName: external_exports.string(),
    toolCallId: external_exports.string(),
    state: external_exports.literal("output-error"),
    input: external_exports.unknown(),
    output: external_exports.never().optional(),
    errorText: external_exports.string(),
    callProviderMetadata: providerMetadataSchema.optional()
  })
];
var toolUIPartSchemas = [
  external_exports.object({
    type: external_exports.string().startsWith("tool-"),
    toolCallId: external_exports.string(),
    state: external_exports.literal("input-streaming"),
    providerExecuted: external_exports.boolean().optional(),
    input: external_exports.unknown().optional(),
    output: external_exports.never().optional(),
    errorText: external_exports.never().optional()
  }),
  external_exports.object({
    type: external_exports.string().startsWith("tool-"),
    toolCallId: external_exports.string(),
    state: external_exports.literal("input-available"),
    providerExecuted: external_exports.boolean().optional(),
    input: external_exports.unknown(),
    output: external_exports.never().optional(),
    errorText: external_exports.never().optional(),
    callProviderMetadata: providerMetadataSchema.optional()
  }),
  external_exports.object({
    type: external_exports.string().startsWith("tool-"),
    toolCallId: external_exports.string(),
    state: external_exports.literal("output-available"),
    providerExecuted: external_exports.boolean().optional(),
    input: external_exports.unknown(),
    output: external_exports.unknown(),
    errorText: external_exports.never().optional(),
    callProviderMetadata: providerMetadataSchema.optional(),
    preliminary: external_exports.boolean().optional()
  }),
  external_exports.object({
    type: external_exports.string().startsWith("tool-"),
    toolCallId: external_exports.string(),
    state: external_exports.literal("output-error"),
    providerExecuted: external_exports.boolean().optional(),
    input: external_exports.unknown(),
    output: external_exports.never().optional(),
    errorText: external_exports.string(),
    callProviderMetadata: providerMetadataSchema.optional()
  })
];
var uiMessageSchema = external_exports.object({
  id: external_exports.string(),
  role: external_exports.enum(["system", "user", "assistant"]),
  metadata: external_exports.unknown().optional(),
  parts: external_exports.array(
    external_exports.union([
      textUIPartSchema,
      reasoningUIPartSchema,
      sourceUrlUIPartSchema,
      sourceDocumentUIPartSchema,
      fileUIPartSchema,
      stepStartUIPartSchema,
      dataUIPartSchema,
      ...dynamicToolUIPartSchemas,
      ...toolUIPartSchemas
    ])
  )
});

// node_modules/blink/dist/api-_RFSw3t6.js
var import_util6 = __toESM(require("util"), 1);
var t = Object.freeze({ find(e2) {
  throw Error(`Not implemented`);
}, create(e2) {
  throw Error(`Not implemented`);
}, message(e2, t2, n2) {
  throw Error(`Not implemented`);
} });
function n(e2) {
  return { version: `v0`, metadata: { displayName: e2.displayName, description: e2.description }, fetch: async (t2) => {
    let n2 = new URL(t2.url);
    switch (n2.pathname) {
      case `/sendMessages`:
        return i(t2, e2);
      case `/webhook`:
        return a(t2, e2);
      default:
        return new Response(`Not found`, { status: 404 });
    }
  } };
}
var r;
async function i(t2, n2) {
  if (t2.method !== `POST`) return new Response(`Method not allowed`, { status: 405 });
  let i2;
  try {
    i2 = await t2.json();
  } catch {
    return new Response(`Invalid request`, { status: 400 });
  }
  let a2;
  try {
    a2 = await n2.sendMessages({ messages: i2.messages });
  } catch (t3) {
    return new Response(JSON.stringify({ error: import_util6.default.inspect(t3) }), { status: 500 });
  }
  if (a2 instanceof Response) return a2;
  if (a2 instanceof ReadableStream) return new Response(a2, { headers: { "Content-Type": `text/event-stream` } });
  if (typeof a2 != `object` || typeof a2 == `object` && !(`toUIMessageStream` in a2)) throw Error(`The agent must return a "Response", "ReadableStream", or "toUIMessageStream" function.`);
  r ||= new TextEncoder();
  let o2 = new TransformStream({ transform(e2, t3) {
    t3.enqueue(r.encode(`data: ${JSON.stringify(e2)}

`));
  } }), s2 = a2.toUIMessageStream();
  return s2.pipeTo(o2.writable), new Response(o2.readable, { headers: { "Content-Type": `text/event-stream` } });
}
async function a(t2, n2) {
  if (!n2.webhook) return new Response(`No webhook function provided`, { status: 501 });
  try {
    let e2 = await n2.webhook(t2);
    return e2 || new Response(`OK`, { status: 200 });
  } catch (t3) {
    return new Response(JSON.stringify({ error: import_util6.default.inspect(t3) }), { status: 500 });
  }
}

// node_modules/pg/esm/index.mjs
var import_lib = __toESM(require_lib2(), 1);
var Client = import_lib.default.Client;
var Pool = import_lib.default.Pool;
var Connection = import_lib.default.Connection;
var types = import_lib.default.types;
var Query = import_lib.default.Query;
var DatabaseError = import_lib.default.DatabaseError;
var escapeIdentifier = import_lib.default.escapeIdentifier;
var escapeLiteral = import_lib.default.escapeLiteral;
var Result = import_lib.default.Result;
var TypeOverrides = import_lib.default.TypeOverrides;
var defaults = import_lib.default.defaults;

// db.ts
var pool = null;
function getPool() {
  if (!pool) {
    const connectionString = process.env.DATABASE_URL;
    if (!connectionString) {
      throw new Error(
        "DATABASE_URL is required. Set it to your Neon connection string before starting the agent."
      );
    }
    pool = new Pool({
      connectionString,
      ssl: { rejectUnauthorized: false },
      max: 5,
      idleTimeoutMillis: 1e4,
      connectionTimeoutMillis: 1e4
    });
  }
  return pool;
}
var KNOWN_SCHEMA_SUMMARY = `
Tables:

1) field_changes (append-only)
  - id BIGSERIAL PRIMARY KEY
  - project_node_id TEXT NOT NULL
  - project_name TEXT
  - item_node_id TEXT NOT NULL
  - content_node_id TEXT
  - content_type TEXT
  - content_title TEXT
  - content_url TEXT
  - repository_name TEXT
  - field_name TEXT NOT NULL
  - field_type TEXT NOT NULL
  - old_value JSONB
  - new_value JSONB
  - changed_at TIMESTAMPTZ NOT NULL
  - detected_at TIMESTAMPTZ DEFAULT NOW()
  - actor_login TEXT
  - UNIQUE(item_node_id, field_name, changed_at)
  Indexes: project_node_id, project_name, repository_name, item_node_id, changed_at

2) current_field_values (current snapshot)
  - project_node_id TEXT NOT NULL
  - project_name TEXT
  - item_node_id TEXT NOT NULL
  - content_node_id TEXT
  - content_type TEXT
  - content_title TEXT
  - content_url TEXT
  - repository_name TEXT
  - field_name TEXT NOT NULL
  - field_type TEXT NOT NULL
  - field_value JSONB
  - updated_at TIMESTAMPTZ DEFAULT NOW()
  - PRIMARY KEY (item_node_id, field_name)
  Indexes: project_node_id, project_name, repository_name

Usage patterns:
- "What's new / what changed" \u2192 query field_changes filtered by project_name (or project_node_id) with changed_at >= now() - interval '7 days'.
- "Current state" \u2192 query current_field_values filtered by project_name (or project_node_id).
- Common filters: repository_name, field_name (e.g. Status), actor_login, content_type.
`;
async function getSchema() {
  const client = await getPool().connect();
  try {
    await client.query("BEGIN READ ONLY");
    const colRes = await client.query(
      `select c.table_name as table, c.column_name as name, c.data_type as "dataType", (c.is_nullable = 'YES') as "isNullable"
       from information_schema.columns c
       where c.table_schema = 'public' and c.table_name in ('field_changes','current_field_values')
       order by c.table_name, c.ordinal_position`
    );
    const idxRes = await client.query(
      `select tablename as table, indexname as name, indexdef as definition
       from pg_indexes
       where schemaname = 'public' and tablename in ('field_changes','current_field_values')
       order by tablename, indexname`
    );
    await client.query("COMMIT");
    const columns = colRes.rows;
    const indexes = idxRes.rows;
    return {
      columns,
      indexes,
      summary: KNOWN_SCHEMA_SUMMARY
    };
  } catch (e2) {
    try {
      await client.query("ROLLBACK");
    } catch {
    }
    throw e2;
  } finally {
    client.release();
  }
}
function ensureSelectOnly(sql) {
  const s2 = sql.trim();
  if (s2.split(";").filter(Boolean).length > 1) {
    throw new Error("Only a single SELECT statement is allowed.");
  }
  const noSemi = s2.endsWith(";") ? s2.slice(0, -1) : s2;
  const head = noSemi.trim().slice(0, 20).toLowerCase();
  if (!(head.startsWith("select") || head.startsWith("with"))) {
    throw new Error("Only SELECT queries are allowed.");
  }
  const forbidden = /(insert|update|delete|alter|drop|create|truncate|grant|revoke|vacuum|analyze|reindex)\b/i;
  if (forbidden.test(noSemi)) {
    throw new Error(
      "Query contains forbidden keywords. Read-only SELECTs only."
    );
  }
  return noSemi;
}
async function runQuery({
  sql,
  params = [],
  limit = 200,
  offset = 0,
  timeoutMs = 15e3
}) {
  const safeSql = ensureSelectOnly(sql);
  const client = await getPool().connect();
  const clampedLimit = Math.max(0, Math.min(limit ?? 200, 2e3));
  const clampedOffset = Math.max(0, offset ?? 0);
  try {
    await client.query("BEGIN READ ONLY");
    await client.query(
      `SET LOCAL statement_timeout TO '${Math.max(1e3, Math.min(timeoutMs, 6e4))}ms'`
    );
    const wrapped = `select * from ( ${safeSql} ) as t limit $${params.length + 1} offset $${params.length + 2}`;
    const res = await client.query({
      text: wrapped,
      values: [...params, clampedLimit, clampedOffset]
    });
    await client.query("COMMIT");
    return {
      rowCount: res.rowCount,
      rows: res.rows,
      appliedLimit: clampedLimit,
      appliedOffset: clampedOffset
    };
  } catch (e2) {
    try {
      await client.query("ROLLBACK");
    } catch {
    }
    throw e2;
  } finally {
    client.release();
  }
}

// prompt.ts
var import_fs = require("fs");
function buildSystemPrompt() {
  const base = `You are an agent that answers questions about GitHub Projects using a Neon Postgres database accessed via tools db_schema and db_query.

Operating principles
- Prefer filtering by project_name (users know names/URLs, not node IDs).
- Default lookback window for "what's new" or "what changed" is the last 7 days unless the user specifies otherwise.
- When uncertain, call db_schema to refresh your understanding of the schema, then construct a db_query with parameters.
- Safety: Only generate SELECT (or WITH ... SELECT) queries; keep them single-statement. Use parameter placeholders ($1, $2, ...). Keep LIMIT <= 2000 and use OFFSET for pagination.

Database schema and semantics
Tables
1) field_changes (append-only changelog)
  Columns
  - id BIGSERIAL PRIMARY KEY
  - project_node_id TEXT (GitHub project node ID)
  - project_name TEXT (GitHub project title)
  - item_node_id TEXT (project item node ID)
  - content_node_id TEXT (Issue/PR node ID if present)
  - content_type TEXT ("Issue", "PullRequest", or empty)
  - content_title TEXT (Issue/PR title if present)
  - content_url TEXT (Issue/PR URL if present)
  - repository_name TEXT ("owner/repo")
  - field_name TEXT (e.g., "Status", "Assignees", "labels", or synthetic names like "title")
  - field_type TEXT (project GraphQL typename like ProjectV2ItemFieldSingleSelectValue, or synthetic tags like issue_title, pr_state, system_event, cleared_field)
  - old_value JSONB (previous value \u2014 may be string, number, null, string[], object[], etc.)
  - new_value JSONB (new value \u2014 same shape as above)
  - changed_at TIMESTAMPTZ (when change happened; batch timestamp)
  - detected_at TIMESTAMPTZ (when change was detected; typically equals changed_at)
  - actor_login TEXT (may be empty)
  Constraints & notes
  - UNIQUE(item_node_id, field_name, changed_at)
  - Special deletion event: field_name = "_item_deleted", field_type = "system_event", old_value = true, new_value = null

2) current_field_values (latest snapshot of each item\u2019s fields)
  Columns
  - project_node_id TEXT
  - project_name TEXT
  - item_node_id TEXT
  - content_node_id TEXT
  - content_type TEXT
  - content_title TEXT
  - content_url TEXT
  - repository_name TEXT
  - field_name TEXT
  - field_type TEXT
  - field_value JSONB (latest value)
  - updated_at TIMESTAMPTZ
  Primary key
  - (item_node_id, field_name)

Value shapes in JSONB (examples)
- Project fields (source: project; field_type is a ProjectV2* typename)
  - Text \u2192 string | null (e.g., "Blocked")
  - SingleSelect \u2192 string | null (e.g., "In Progress")
  - Number \u2192 number | null (e.g., 3)
  - Date \u2192 string | null (ISO date, e.g., "2025-09-10")
  - Iteration \u2192 string | null (iteration title)
  - User \u2192 string[] (array of GitHub logins)
  - Repository \u2192 string | null ("owner/repo")
  - Label \u2192 string[] (array of label names)
  - Cleared project field \u2192 null with field_type = "cleared_field"
- Issue content fields (source: issue; field_type starts with "issue_")
  - title/body/state/created_at/updated_at \u2192 string
  - assignees \u2192 string[] (logins)
  - labels \u2192 string[] (label names)
  - milestone \u2192 string | null (title)
  - linked_pull_requests \u2192 array of objects: [{ repo, number, title, state, mergedAt }]
  - closing_pull_requests \u2192 array of objects: [{ repo, number }]
- Pull request content fields (source: pull_request; field_type starts with "pr_")
  - similar shapes to issue_* (title/body/state/created_at/updated_at/assignees/labels/milestone)

Disambiguation guidance
- "status"/"column"/"stage" from users typically refers to a Project field (SingleSelect or Text) named "Status". Prefer project fields (field_type starts with ProjectV2...) over issue_state/pr_state.
- "state" usually means Issue/PR state (OPEN, CLOSED, MERGED) \u2192 filter field_type in (issue_state, pr_state).
- "assignee"/"owner"/"assigned to" \u2192 arrays of GitHub logins in field_name = "assignees" (issue_* or pr_*); for project user fields, field_value is also an array of logins.
- "labels"/"tags" \u2192 arrays of label names.
- "milestone"/"version"/"release" \u2192 milestone title.
- "iteration"/"sprint"/"cycle" \u2192 project iteration title stored as a string value.
- "repo"/"repository" \u2192 repository_name (e.g., "coder/coder").
- "card"/"item" \u2192 project item (item_node_id); users won't know IDs, so scope by project_name and other filters.
- "recent"/"what's new"/"changes" \u2192 use field_changes filtered by changed_at; default to last 7 days.
- "customer" \u2192 use field_name filtered by Customer then check the value of field_value.

Query patterns to use with db_query
- Recent changes for a project (last 7 days by default)
  select * from field_changes
  where project_name = $1 and changed_at >= now() - interval '7 days'
  order by changed_at desc

- Current state for a project
  select * from current_field_values
  where project_name = $1

- Filter by repository and specific field (e.g., Status)
  select * from field_changes
  where project_name = $1
    and repository_name = $2
    and field_name = $3
  order by changed_at desc

Answering behavior
- Always clarify ambiguous project_name or time windows.
- If a request sounds like a summary, you may run a broader query with an explicit LIMIT (<= 2000) and then summarize.
- When returning results, consider sorting by changed_at desc for "what changed" and grouping by repository_name or field_name when helpful.
`;
  const pieces = [base];
  const envExtra = process.env.PROMPT_USER_LANGUAGE_GUIDE;
  if (envExtra && envExtra.trim().length > 0) {
    pieces.push("User language guide (custom additions)\n" + envExtra.trim());
  }
  const filePath = process.env.PROMPT_ADDITIONS_FILE;
  if (filePath && (0, import_fs.existsSync)(filePath)) {
    try {
      const file2 = (0, import_fs.readFileSync)(filePath, "utf8");
      if (file2.trim().length > 0) {
        pieces.push("User language guide (file)\n" + file2.trim());
      }
    } catch {
    }
  }
  return pieces.join("\n\n");
}

// agent.ts
var agent_default = n({
  displayName: "gh-project-agent",
  async sendMessages({ messages }) {
    return streamText({
      model: "openai/gpt-oss-120b",
      system: buildSystemPrompt(),
      messages: convertToModelMessages(messages),
      tools: {
        db_schema: tool({
          description: "Return the schema and usage notes for the Neon database backing GitHub Project insights. Includes tables, columns, indexes, and a concise guide for common queries using project_name.",
          inputSchema: external_exports.object({}),
          execute: async () => {
            const schema = await getSchema();
            return schema;
          }
        }),
        db_query: tool({
          description: "Execute a read-only SQL SELECT against the Neon database. Use project_name for scoping; default lookback is the last 7 days for 'what's new' queries. Returns rows with enforced LIMIT/OFFSET (max 2000).",
          inputSchema: external_exports.object({
            sql: external_exports.string().describe("A single SELECT (or WITH ... SELECT) statement."),
            params: external_exports.array(external_exports.any()).optional().default([]),
            limit: external_exports.number().int().min(1).max(2e3).optional().default(200),
            offset: external_exports.number().int().min(0).optional().default(0),
            timeoutMs: external_exports.number().int().min(1e3).max(6e4).optional().default(15e3)
          }),
          execute: async ({ sql, params, limit, offset, timeoutMs }) => {
            const result = await runQuery({
              sql,
              params,
              limit,
              offset,
              timeoutMs
            });
            return result;
          }
        })
      }
    });
  }
});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vcG9zdGdyZXMtYXJyYXkvaW5kZXguanMiLCAiLi4vcGctdHlwZXMvbGliL2FycmF5UGFyc2VyLmpzIiwgIi4uL3Bvc3RncmVzLWRhdGUvaW5kZXguanMiLCAiLi4veHRlbmQvbXV0YWJsZS5qcyIsICIuLi9wb3N0Z3Jlcy1pbnRlcnZhbC9pbmRleC5qcyIsICIuLi9wb3N0Z3Jlcy1ieXRlYS9pbmRleC5qcyIsICIuLi9wZy10eXBlcy9saWIvdGV4dFBhcnNlcnMuanMiLCAiLi4vcGctaW50OC9pbmRleC5qcyIsICIuLi9wZy10eXBlcy9saWIvYmluYXJ5UGFyc2Vycy5qcyIsICIuLi9wZy10eXBlcy9saWIvYnVpbHRpbnMuanMiLCAiLi4vcGctdHlwZXMvaW5kZXguanMiLCAiLi4vcGcvbGliL2RlZmF1bHRzLmpzIiwgIi4uL3BnL2xpYi91dGlscy5qcyIsICIuLi9wZy9saWIvY3J5cHRvL3V0aWxzLWxlZ2FjeS5qcyIsICIuLi9wZy9saWIvY3J5cHRvL3V0aWxzLXdlYmNyeXB0by5qcyIsICIuLi9wZy9saWIvY3J5cHRvL3V0aWxzLmpzIiwgIi4uL3BnL2xpYi9jcnlwdG8vY2VydC1zaWduYXR1cmVzLmpzIiwgIi4uL3BnL2xpYi9jcnlwdG8vc2FzbC5qcyIsICIuLi9wZy9saWIvdHlwZS1vdmVycmlkZXMuanMiLCAiLi4vcGctY29ubmVjdGlvbi1zdHJpbmcvaW5kZXguanMiLCAiLi4vcGcvbGliL2Nvbm5lY3Rpb24tcGFyYW1ldGVycy5qcyIsICIuLi9wZy9saWIvcmVzdWx0LmpzIiwgIi4uL3BnL2xpYi9xdWVyeS5qcyIsICIuLi9wZy1wcm90b2NvbC9zcmMvbWVzc2FnZXMudHMiLCAiLi4vcGctcHJvdG9jb2wvc3JjL2J1ZmZlci13cml0ZXIudHMiLCAiLi4vcGctcHJvdG9jb2wvc3JjL3NlcmlhbGl6ZXIudHMiLCAiLi4vcGctcHJvdG9jb2wvc3JjL2J1ZmZlci1yZWFkZXIudHMiLCAiLi4vcGctcHJvdG9jb2wvc3JjL3BhcnNlci50cyIsICIuLi9wZy1wcm90b2NvbC9zcmMvaW5kZXgudHMiLCAiLi4vcGctY2xvdWRmbGFyZS9zcmMvZW1wdHkudHMiLCAiLi4vcGcvbGliL3N0cmVhbS5qcyIsICIuLi9wZy9saWIvY29ubmVjdGlvbi5qcyIsICIuLi9zcGxpdDIvaW5kZXguanMiLCAiLi4vcGdwYXNzL2xpYi9oZWxwZXIuanMiLCAiLi4vcGdwYXNzL2xpYi9pbmRleC5qcyIsICIuLi9wZy9saWIvY2xpZW50LmpzIiwgIi4uL3BnLXBvb2wvaW5kZXguanMiLCAiLi4vcGcvbGliL25hdGl2ZS9xdWVyeS5qcyIsICIuLi9wZy9saWIvbmF0aXZlL2NsaWVudC5qcyIsICIuLi9wZy9saWIvbmF0aXZlL2luZGV4LmpzIiwgIi4uL3BnL2xpYi9pbmRleC5qcyIsICIuLi8uLi9hZ2VudC50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvYWktc2RrLWVycm9yLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXIvc3JjL2Vycm9ycy9hcGktY2FsbC1lcnJvci50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvZW1wdHktcmVzcG9uc2UtYm9keS1lcnJvci50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvZ2V0LWVycm9yLW1lc3NhZ2UudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci9zcmMvZXJyb3JzL2ludmFsaWQtYXJndW1lbnQtZXJyb3IudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci9zcmMvZXJyb3JzL2ludmFsaWQtcHJvbXB0LWVycm9yLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXIvc3JjL2Vycm9ycy9pbnZhbGlkLXJlc3BvbnNlLWRhdGEtZXJyb3IudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci9zcmMvZXJyb3JzL2pzb24tcGFyc2UtZXJyb3IudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci9zcmMvZXJyb3JzL2xvYWQtYXBpLWtleS1lcnJvci50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvbG9hZC1zZXR0aW5nLWVycm9yLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXIvc3JjL2Vycm9ycy9uby1jb250ZW50LWdlbmVyYXRlZC1lcnJvci50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvbm8tc3VjaC1tb2RlbC1lcnJvci50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvdG9vLW1hbnktZW1iZWRkaW5nLXZhbHVlcy1mb3ItY2FsbC1lcnJvci50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvdHlwZS12YWxpZGF0aW9uLWVycm9yLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXIvc3JjL2Vycm9ycy91bnN1cHBvcnRlZC1mdW5jdGlvbmFsaXR5LWVycm9yLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXIvc3JjL2pzb24tdmFsdWUvaXMtanNvbi50cyIsICIuLi9ldmVudHNvdXJjZS1wYXJzZXIvc3JjL2Vycm9ycy50cyIsICIuLi9ldmVudHNvdXJjZS1wYXJzZXIvc3JjL3BhcnNlLnRzIiwgIi4uL2V2ZW50c291cmNlLXBhcnNlci9zcmMvc3RyZWFtLnRzIiwgIi4uL3pvZC92NC9jbGFzc2ljL2V4dGVybmFsLmpzIiwgIi4uL3pvZC92NC9jb3JlL2luZGV4LmpzIiwgIi4uL3pvZC92NC9jb3JlL2NvcmUuanMiLCAiLi4vem9kL3Y0L2NvcmUvdXRpbC5qcyIsICIuLi96b2QvdjQvY29yZS9lcnJvcnMuanMiLCAiLi4vem9kL3Y0L2NvcmUvcGFyc2UuanMiLCAiLi4vem9kL3Y0L2NvcmUvcmVnZXhlcy5qcyIsICIuLi96b2QvdjQvY29yZS9jaGVja3MuanMiLCAiLi4vem9kL3Y0L2NvcmUvZG9jLmpzIiwgIi4uL3pvZC92NC9jb3JlL3ZlcnNpb25zLmpzIiwgIi4uL3pvZC92NC9jb3JlL3NjaGVtYXMuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvaW5kZXguanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvYXIuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvYXouanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvYmUuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvY2EuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvY3MuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZGEuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZGUuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZW4uanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZW8uanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZXMuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZmEuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZmkuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZnIuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZnItQ0EuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvaGUuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvaHUuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvaWQuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvaXMuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvaXQuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvamEuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMva2EuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMva20uanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMva2guanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMva28uanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvbHQuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvbWsuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvbXMuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvbmwuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvbm8uanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvb3RhLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3BzLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3BsLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3B0LmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3J1LmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3NsLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3N2LmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3RhLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3RoLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3RyLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3VrLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3VhLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3VyLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3ZpLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3poLUNOLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3poLVRXLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3lvLmpzIiwgIi4uL3pvZC92NC9jb3JlL3JlZ2lzdHJpZXMuanMiLCAiLi4vem9kL3Y0L2NvcmUvYXBpLmpzIiwgIi4uL3pvZC92NC9jb3JlL3RvLWpzb24tc2NoZW1hLmpzIiwgIi4uL3pvZC92NC9jb3JlL2pzb24tc2NoZW1hLmpzIiwgIi4uL3pvZC92NC9jbGFzc2ljL2lzby5qcyIsICIuLi96b2QvdjQvY2xhc3NpYy9lcnJvcnMuanMiLCAiLi4vem9kL3Y0L2NsYXNzaWMvcGFyc2UuanMiLCAiLi4vem9kL3Y0L2NsYXNzaWMvc2NoZW1hcy5qcyIsICIuLi96b2QvdjQvY2xhc3NpYy9jb21wYXQuanMiLCAiLi4vem9kL3Y0L2NsYXNzaWMvY29lcmNlLmpzIiwgIi4uL3pvZC92My9oZWxwZXJzL3V0aWwuanMiLCAiLi4vem9kL3YzL1pvZEVycm9yLmpzIiwgIi4uL3pvZC92My9sb2NhbGVzL2VuLmpzIiwgIi4uL3pvZC92My9lcnJvcnMuanMiLCAiLi4vem9kL3YzL2hlbHBlcnMvcGFyc2VVdGlsLmpzIiwgIi4uL3pvZC92My9oZWxwZXJzL2Vycm9yVXRpbC5qcyIsICIuLi96b2QvdjMvdHlwZXMuanMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvY29tYmluZS1oZWFkZXJzLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2NvbnZlcnQtYXN5bmMtaXRlcmF0b3ItdG8tcmVhZGFibGUtc3RyZWFtLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2RlbGF5LnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2V4dHJhY3QtcmVzcG9uc2UtaGVhZGVycy50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9nZXQtcnVudGltZS1lbnZpcm9ubWVudC11c2VyLWFnZW50LnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3JlbW92ZS11bmRlZmluZWQtZW50cmllcy50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy93aXRoLXVzZXItYWdlbnQtc3VmZml4LnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2dlbmVyYXRlLWlkLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2dldC1lcnJvci1tZXNzYWdlLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2dldC1mcm9tLWFwaS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9oYW5kbGUtZmV0Y2gtZXJyb3IudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvaXMtYWJvcnQtZXJyb3IudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvdmVyc2lvbi50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9pbmplY3QtanNvbi1pbnN0cnVjdGlvbi50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9pcy11cmwtc3VwcG9ydGVkLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2xvYWQtYXBpLWtleS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9sb2FkLW9wdGlvbmFsLXNldHRpbmcudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvbG9hZC1zZXR0aW5nLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL21lZGlhLXR5cGUtdG8tZXh0ZW5zaW9uLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3BhcnNlLWpzb24udHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvc2VjdXJlLWpzb24tcGFyc2UudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvdmFsaWRhdGUtdHlwZXMudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvdmFsaWRhdG9yLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3BhcnNlLWpzb24tZXZlbnQtc3RyZWFtLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3BhcnNlLXByb3ZpZGVyLW9wdGlvbnMudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvcG9zdC10by1hcGkudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvdHlwZXMvdG9vbC50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9wcm92aWRlci1kZWZpbmVkLXRvb2wtZmFjdG9yeS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9yZXNvbHZlLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3Jlc3BvbnNlLWhhbmRsZXIudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXNjaGVtYS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvZ2V0LXJlbGF0aXZlLXBhdGgudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL29wdGlvbnMudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3NlbGVjdC1wYXJzZXIudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvYW55LnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2FycmF5LnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2JpZ2ludC50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9ib29sZWFuLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2JyYW5kZWQudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvY2F0Y2gudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvZGF0ZS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9kZWZhdWx0LnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2VmZmVjdHMudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvZW51bS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9pbnRlcnNlY3Rpb24udHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbGl0ZXJhbC50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9yZWNvcmQudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvc3RyaW5nLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL21hcC50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9uYXRpdmUtZW51bS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9uZXZlci50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9udWxsLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3VuaW9uLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL251bGxhYmxlLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL251bWJlci50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9vYmplY3QudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvb3B0aW9uYWwudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvcGlwZWxpbmUudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvcHJvbWlzZS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9zZXQudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvdHVwbGUudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvdW5kZWZpbmVkLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3Vua25vd24udHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvcmVhZG9ubHkudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlLWRlZi50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcmVmcy50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvem9kLXRvLWpzb24tc2NoZW1hLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9pbmRleC50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9zY2hlbWEudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvdWludDgtdXRpbHMudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvd2l0aG91dC10cmFpbGluZy1zbGFzaC50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9pcy1hc3luYy1pdGVyYWJsZS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy90eXBlcy9leGVjdXRlLXRvb2wudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvaW5kZXgudHMiLCAiLi4vQGFpLXNkay9nYXRld2F5L3NyYy9nYXRld2F5LXByb3ZpZGVyLnRzIiwgIi4uL0BhaS1zZGsvZ2F0ZXdheS9zcmMvZXJyb3JzL2FzLWdhdGV3YXktZXJyb3IudHMiLCAiLi4vQGFpLXNkay9nYXRld2F5L3NyYy9lcnJvcnMvY3JlYXRlLWdhdGV3YXktZXJyb3IudHMiLCAiLi4vQGFpLXNkay9nYXRld2F5L3NyYy9lcnJvcnMvZ2F0ZXdheS1lcnJvci50cyIsICIuLi9AYWktc2RrL2dhdGV3YXkvc3JjL2Vycm9ycy9nYXRld2F5LWF1dGhlbnRpY2F0aW9uLWVycm9yLnRzIiwgIi4uL0BhaS1zZGsvZ2F0ZXdheS9zcmMvZXJyb3JzL2dhdGV3YXktaW52YWxpZC1yZXF1ZXN0LWVycm9yLnRzIiwgIi4uL0BhaS1zZGsvZ2F0ZXdheS9zcmMvZXJyb3JzL2dhdGV3YXktcmF0ZS1saW1pdC1lcnJvci50cyIsICIuLi9AYWktc2RrL2dhdGV3YXkvc3JjL2Vycm9ycy9nYXRld2F5LW1vZGVsLW5vdC1mb3VuZC1lcnJvci50cyIsICIuLi9AYWktc2RrL2dhdGV3YXkvc3JjL2Vycm9ycy9nYXRld2F5LWludGVybmFsLXNlcnZlci1lcnJvci50cyIsICIuLi9AYWktc2RrL2dhdGV3YXkvc3JjL2Vycm9ycy9nYXRld2F5LXJlc3BvbnNlLWVycm9yLnRzIiwgIi4uL0BhaS1zZGsvZ2F0ZXdheS9zcmMvZXJyb3JzL2V4dHJhY3QtYXBpLWNhbGwtcmVzcG9uc2UudHMiLCAiLi4vQGFpLXNkay9nYXRld2F5L3NyYy9lcnJvcnMvcGFyc2UtYXV0aC1tZXRob2QudHMiLCAiLi4vQGFpLXNkay9nYXRld2F5L3NyYy9nYXRld2F5LWZldGNoLW1ldGFkYXRhLnRzIiwgIi4uL0BhaS1zZGsvZ2F0ZXdheS9zcmMvZ2F0ZXdheS1sYW5ndWFnZS1tb2RlbC50cyIsICIuLi9AYWktc2RrL2dhdGV3YXkvc3JjL2dhdGV3YXktZW1iZWRkaW5nLW1vZGVsLnRzIiwgIi4uL0BhaS1zZGsvZ2F0ZXdheS9zcmMvdmVyY2VsLWVudmlyb25tZW50LnRzIiwgIi4uL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvcGxhdGZvcm0vbm9kZS9nbG9iYWxUaGlzLnRzIiwgIi4uL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvdmVyc2lvbi50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2ludGVybmFsL3NlbXZlci50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2ludGVybmFsL2dsb2JhbC11dGlscy50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2RpYWcvQ29tcG9uZW50TG9nZ2VyLnRzIiwgIi4uL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvZGlhZy90eXBlcy50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2RpYWcvaW50ZXJuYWwvbG9nTGV2ZWxMb2dnZXIudHMiLCAiLi4vQG9wZW50ZWxlbWV0cnkvYXBpL3NyYy9hcGkvZGlhZy50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2NvbnRleHQvY29udGV4dC50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2NvbnRleHQvTm9vcENvbnRleHRNYW5hZ2VyLnRzIiwgIi4uL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvYXBpL2NvbnRleHQudHMiLCAiLi4vQG9wZW50ZWxlbWV0cnkvYXBpL3NyYy90cmFjZS90cmFjZV9mbGFncy50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL3RyYWNlL2ludmFsaWQtc3Bhbi1jb25zdGFudHMudHMiLCAiLi4vQG9wZW50ZWxlbWV0cnkvYXBpL3NyYy90cmFjZS9Ob25SZWNvcmRpbmdTcGFuLnRzIiwgIi4uL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvdHJhY2UvY29udGV4dC11dGlscy50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL3RyYWNlL3NwYW5jb250ZXh0LXV0aWxzLnRzIiwgIi4uL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvdHJhY2UvTm9vcFRyYWNlci50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL3RyYWNlL1Byb3h5VHJhY2VyLnRzIiwgIi4uL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvdHJhY2UvTm9vcFRyYWNlclByb3ZpZGVyLnRzIiwgIi4uL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvdHJhY2UvUHJveHlUcmFjZXJQcm92aWRlci50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL3RyYWNlL3N0YXR1cy50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2FwaS90cmFjZS50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL3RyYWNlLWFwaS50cyIsICIuLi9haS9zcmMvaW5kZXgudHMiLCAiLi4vYWkvc3JjL2dlbmVyYXRlLXRleHQvZ2VuZXJhdGUtdGV4dC50cyIsICIuLi9haS9zcmMvZXJyb3Ivbm8tb3V0cHV0LXNwZWNpZmllZC1lcnJvci50cyIsICIuLi9haS9zcmMvbG9nZ2VyL2xvZy13YXJuaW5ncy50cyIsICIuLi9haS9zcmMvbW9kZWwvcmVzb2x2ZS1tb2RlbC50cyIsICIuLi9haS9zcmMvZXJyb3IvaW5kZXgudHMiLCAiLi4vYWkvc3JjL2Vycm9yL2ludmFsaWQtYXJndW1lbnQtZXJyb3IudHMiLCAiLi4vYWkvc3JjL2Vycm9yL2ludmFsaWQtc3RyZWFtLXBhcnQtZXJyb3IudHMiLCAiLi4vYWkvc3JjL2Vycm9yL2ludmFsaWQtdG9vbC1pbnB1dC1lcnJvci50cyIsICIuLi9haS9zcmMvZXJyb3IvbWNwLWNsaWVudC1lcnJvci50cyIsICIuLi9haS9zcmMvZXJyb3Ivbm8taW1hZ2UtZ2VuZXJhdGVkLWVycm9yLnRzIiwgIi4uL2FpL3NyYy9lcnJvci9uby1vYmplY3QtZ2VuZXJhdGVkLWVycm9yLnRzIiwgIi4uL2FpL3NyYy9lcnJvci9uby1vdXRwdXQtZ2VuZXJhdGVkLWVycm9yLnRzIiwgIi4uL2FpL3NyYy9lcnJvci9uby1zdWNoLXRvb2wtZXJyb3IudHMiLCAiLi4vYWkvc3JjL2Vycm9yL3Rvb2wtY2FsbC1yZXBhaXItZXJyb3IudHMiLCAiLi4vYWkvc3JjL2Vycm9yL3Vuc3VwcG9ydGVkLW1vZGVsLXZlcnNpb24tZXJyb3IudHMiLCAiLi4vYWkvc3JjL3Byb21wdC9pbnZhbGlkLWRhdGEtY29udGVudC1lcnJvci50cyIsICIuLi9haS9zcmMvcHJvbXB0L2ludmFsaWQtbWVzc2FnZS1yb2xlLWVycm9yLnRzIiwgIi4uL2FpL3NyYy9wcm9tcHQvbWVzc2FnZS1jb252ZXJzaW9uLWVycm9yLnRzIiwgIi4uL2FpL3NyYy91dGlsL2Rvd25sb2FkL2Rvd25sb2FkLWVycm9yLnRzIiwgIi4uL2FpL3NyYy91dGlsL3JldHJ5LWVycm9yLnRzIiwgIi4uL2FpL3NyYy9wcm9tcHQvY29udmVydC10by1sYW5ndWFnZS1tb2RlbC1wcm9tcHQudHMiLCAiLi4vYWkvc3JjL3V0aWwvZGV0ZWN0LW1lZGlhLXR5cGUudHMiLCAiLi4vYWkvc3JjL3V0aWwvZG93bmxvYWQvZG93bmxvYWQudHMiLCAiLi4vYWkvc3JjL3V0aWwvZG93bmxvYWQvZG93bmxvYWQtZnVuY3Rpb24udHMiLCAiLi4vYWkvc3JjL3Byb21wdC9kYXRhLWNvbnRlbnQudHMiLCAiLi4vYWkvc3JjL3Byb21wdC9zcGxpdC1kYXRhLXVybC50cyIsICIuLi9haS9zcmMvcHJvbXB0L3ByZXBhcmUtY2FsbC1zZXR0aW5ncy50cyIsICIuLi9haS9zcmMvcHJvbXB0L3ByZXBhcmUtdG9vbHMtYW5kLXRvb2wtY2hvaWNlLnRzIiwgIi4uL2FpL3NyYy91dGlsL2lzLW5vbi1lbXB0eS1vYmplY3QudHMiLCAiLi4vYWkvc3JjL3Byb21wdC9zdGFuZGFyZGl6ZS1wcm9tcHQudHMiLCAiLi4vYWkvc3JjL3Byb21wdC9tZXNzYWdlLnRzIiwgIi4uL2FpL3NyYy90eXBlcy9wcm92aWRlci1tZXRhZGF0YS50cyIsICIuLi9haS9zcmMvdHlwZXMvanNvbi12YWx1ZS50cyIsICIuLi9haS9zcmMvcHJvbXB0L2NvbnRlbnQtcGFydC50cyIsICIuLi9haS9zcmMvcHJvbXB0L3dyYXAtZ2F0ZXdheS1lcnJvci50cyIsICIuLi9haS9zcmMvdGVsZW1ldHJ5L2Fzc2VtYmxlLW9wZXJhdGlvbi1uYW1lLnRzIiwgIi4uL2FpL3NyYy90ZWxlbWV0cnkvZ2V0LWJhc2UtdGVsZW1ldHJ5LWF0dHJpYnV0ZXMudHMiLCAiLi4vYWkvc3JjL3RlbGVtZXRyeS9nZXQtdHJhY2VyLnRzIiwgIi4uL2FpL3NyYy90ZWxlbWV0cnkvbm9vcC10cmFjZXIudHMiLCAiLi4vYWkvc3JjL3RlbGVtZXRyeS9yZWNvcmQtc3Bhbi50cyIsICIuLi9haS9zcmMvdGVsZW1ldHJ5L3NlbGVjdC10ZWxlbWV0cnktYXR0cmlidXRlcy50cyIsICIuLi9haS9zcmMvdGVsZW1ldHJ5L3N0cmluZ2lmeS1mb3ItdGVsZW1ldHJ5LnRzIiwgIi4uL2FpL3NyYy90eXBlcy91c2FnZS50cyIsICIuLi9haS9zcmMvdXRpbC9hcy1hcnJheS50cyIsICIuLi9haS9zcmMvdXRpbC9yZXRyeS13aXRoLWV4cG9uZW50aWFsLWJhY2tvZmYudHMiLCAiLi4vYWkvc3JjL3V0aWwvcHJlcGFyZS1yZXRyaWVzLnRzIiwgIi4uL2FpL3NyYy9nZW5lcmF0ZS10ZXh0L2V4dHJhY3QtdGV4dC1jb250ZW50LnRzIiwgIi4uL2FpL3NyYy9nZW5lcmF0ZS10ZXh0L2dlbmVyYXRlZC1maWxlLnRzIiwgIi4uL2FpL3NyYy9nZW5lcmF0ZS10ZXh0L3BhcnNlLXRvb2wtY2FsbC50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtdGV4dC9zdGVwLXJlc3VsdC50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtdGV4dC9zdG9wLWNvbmRpdGlvbi50cyIsICIuLi9haS9zcmMvcHJvbXB0L2NyZWF0ZS10b29sLW1vZGVsLW91dHB1dC50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtdGV4dC90by1yZXNwb25zZS1tZXNzYWdlcy50cyIsICIuLi9haS9zcmMvdmVyc2lvbi50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtdGV4dC9zdHJlYW0tdGV4dC50cyIsICIuLi9haS9zcmMvdXRpbC9wcmVwYXJlLWhlYWRlcnMudHMiLCAiLi4vYWkvc3JjL3RleHQtc3RyZWFtL2NyZWF0ZS10ZXh0LXN0cmVhbS1yZXNwb25zZS50cyIsICIuLi9haS9zcmMvdXRpbC93cml0ZS10by1zZXJ2ZXItcmVzcG9uc2UudHMiLCAiLi4vYWkvc3JjL3RleHQtc3RyZWFtL3BpcGUtdGV4dC1zdHJlYW0tdG8tcmVzcG9uc2UudHMiLCAiLi4vYWkvc3JjL3VpLW1lc3NhZ2Utc3RyZWFtL2pzb24tdG8tc3NlLXRyYW5zZm9ybS1zdHJlYW0udHMiLCAiLi4vYWkvc3JjL3VpLW1lc3NhZ2Utc3RyZWFtL3VpLW1lc3NhZ2Utc3RyZWFtLWhlYWRlcnMudHMiLCAiLi4vYWkvc3JjL3VpLW1lc3NhZ2Utc3RyZWFtL2NyZWF0ZS11aS1tZXNzYWdlLXN0cmVhbS1yZXNwb25zZS50cyIsICIuLi9haS9zcmMvdWktbWVzc2FnZS1zdHJlYW0vZ2V0LXJlc3BvbnNlLXVpLW1lc3NhZ2UtaWQudHMiLCAiLi4vYWkvc3JjL3VpL3Byb2Nlc3MtdWktbWVzc2FnZS1zdHJlYW0udHMiLCAiLi4vYWkvc3JjL3VpLW1lc3NhZ2Utc3RyZWFtL3VpLW1lc3NhZ2UtY2h1bmtzLnRzIiwgIi4uL2FpL3NyYy91dGlsL21lcmdlLW9iamVjdHMudHMiLCAiLi4vYWkvc3JjL3V0aWwvcGFyc2UtcGFydGlhbC1qc29uLnRzIiwgIi4uL2FpL3NyYy91dGlsL2ZpeC1qc29uLnRzIiwgIi4uL2FpL3NyYy91aS91aS1tZXNzYWdlcy50cyIsICIuLi9haS9zcmMvdWktbWVzc2FnZS1zdHJlYW0vaGFuZGxlLXVpLW1lc3NhZ2Utc3RyZWFtLWZpbmlzaC50cyIsICIuLi9haS9zcmMvdWktbWVzc2FnZS1zdHJlYW0vcGlwZS11aS1tZXNzYWdlLXN0cmVhbS10by1yZXNwb25zZS50cyIsICIuLi9haS9zcmMvdXRpbC9hc3luYy1pdGVyYWJsZS1zdHJlYW0udHMiLCAiLi4vYWkvc3JjL3V0aWwvY29uc3VtZS1zdHJlYW0udHMiLCAiLi4vYWkvc3JjL3V0aWwvY3JlYXRlLXJlc29sdmFibGUtcHJvbWlzZS50cyIsICIuLi9haS9zcmMvdXRpbC9jcmVhdGUtc3RpdGNoYWJsZS1zdHJlYW0udHMiLCAiLi4vYWkvc3JjL3V0aWwvZGVsYXllZC1wcm9taXNlLnRzIiwgIi4uL2FpL3NyYy91dGlsL25vdy50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtdGV4dC9ydW4tdG9vbHMtdHJhbnNmb3JtYXRpb24udHMiLCAiLi4vYWkvc3JjL3VpL2NvbnZlcnQtdG8tbW9kZWwtbWVzc2FnZXMudHMiLCAiLi4vYWkvc3JjL2FnZW50L2FnZW50LnRzIiwgIi4uL2FpL3NyYy9lbWJlZC9lbWJlZC50cyIsICIuLi9haS9zcmMvZW1iZWQvZW1iZWQtbWFueS50cyIsICIuLi9haS9zcmMvdXRpbC9zcGxpdC1hcnJheS50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtaW1hZ2UvZ2VuZXJhdGUtaW1hZ2UudHMiLCAiLi4vYWkvc3JjL2dlbmVyYXRlLW9iamVjdC9nZW5lcmF0ZS1vYmplY3QudHMiLCAiLi4vYWkvc3JjL2dlbmVyYXRlLXRleHQvZXh0cmFjdC1yZWFzb25pbmctY29udGVudC50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtb2JqZWN0L291dHB1dC1zdHJhdGVneS50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtb2JqZWN0L3BhcnNlLWFuZC12YWxpZGF0ZS1vYmplY3QtcmVzdWx0LnRzIiwgIi4uL2FpL3NyYy9nZW5lcmF0ZS1vYmplY3QvdmFsaWRhdGUtb2JqZWN0LWdlbmVyYXRpb24taW5wdXQudHMiLCAiLi4vYWkvc3JjL2dlbmVyYXRlLW9iamVjdC9zdHJlYW0tb2JqZWN0LnRzIiwgIi4uL2FpL3NyYy91dGlsL2Nvc2luZS1zaW1pbGFyaXR5LnRzIiwgIi4uL2FpL3NyYy91dGlsL2RhdGEtdXJsLnRzIiwgIi4uL2FpL3NyYy91dGlsL2lzLWRlZXAtZXF1YWwtZGF0YS50cyIsICIuLi9haS9zcmMvdXRpbC9zZXJpYWwtam9iLWV4ZWN1dG9yLnRzIiwgIi4uL2FpL3NyYy91dGlsL3NpbXVsYXRlLXJlYWRhYmxlLXN0cmVhbS50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtc3BlZWNoL2dlbmVyYXRlLXNwZWVjaC50cyIsICIuLi9haS9zcmMvZXJyb3Ivbm8tc3BlZWNoLWdlbmVyYXRlZC1lcnJvci50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtc3BlZWNoL2dlbmVyYXRlZC1hdWRpby1maWxlLnRzIiwgIi4uL2FpL3NyYy9nZW5lcmF0ZS10ZXh0L291dHB1dC50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtdGV4dC9zbW9vdGgtc3RyZWFtLnRzIiwgIi4uL2FpL3NyYy9taWRkbGV3YXJlL2RlZmF1bHQtc2V0dGluZ3MtbWlkZGxld2FyZS50cyIsICIuLi9haS9zcmMvdXRpbC9nZXQtcG90ZW50aWFsLXN0YXJ0LWluZGV4LnRzIiwgIi4uL2FpL3NyYy9taWRkbGV3YXJlL2V4dHJhY3QtcmVhc29uaW5nLW1pZGRsZXdhcmUudHMiLCAiLi4vYWkvc3JjL21pZGRsZXdhcmUvc2ltdWxhdGUtc3RyZWFtaW5nLW1pZGRsZXdhcmUudHMiLCAiLi4vYWkvc3JjL21pZGRsZXdhcmUvd3JhcC1sYW5ndWFnZS1tb2RlbC50cyIsICIuLi9haS9zcmMvbWlkZGxld2FyZS93cmFwLXByb3ZpZGVyLnRzIiwgIi4uL2FpL3NyYy9yZWdpc3RyeS9jdXN0b20tcHJvdmlkZXIudHMiLCAiLi4vYWkvc3JjL3JlZ2lzdHJ5L25vLXN1Y2gtcHJvdmlkZXItZXJyb3IudHMiLCAiLi4vYWkvc3JjL3JlZ2lzdHJ5L3Byb3ZpZGVyLXJlZ2lzdHJ5LnRzIiwgIi4uL2FpL3NyYy90b29sL21jcC9tY3AtY2xpZW50LnRzIiwgIi4uL2FpL3NyYy90b29sL21jcC9tY3Atc3NlLXRyYW5zcG9ydC50cyIsICIuLi9haS9zcmMvdG9vbC9tY3AvanNvbi1ycGMtbWVzc2FnZS50cyIsICIuLi9haS9zcmMvdG9vbC9tY3AvdHlwZXMudHMiLCAiLi4vYWkvc3JjL3Rvb2wvbWNwL21jcC10cmFuc3BvcnQudHMiLCAiLi4vYWkvc3JjL3RyYW5zY3JpYmUvdHJhbnNjcmliZS50cyIsICIuLi9haS9zcmMvZXJyb3Ivbm8tdHJhbnNjcmlwdC1nZW5lcmF0ZWQtZXJyb3IudHMiLCAiLi4vYWkvc3JjL3VpL2NhbGwtY29tcGxldGlvbi1hcGkudHMiLCAiLi4vYWkvc3JjL3VpL3Byb2Nlc3MtdGV4dC1zdHJlYW0udHMiLCAiLi4vYWkvc3JjL3VpL2NoYXQudHMiLCAiLi4vYWkvc3JjL3VpL2NvbnZlcnQtZmlsZS1saXN0LXRvLWZpbGUtdWktcGFydHMudHMiLCAiLi4vYWkvc3JjL3VpL2RlZmF1bHQtY2hhdC10cmFuc3BvcnQudHMiLCAiLi4vYWkvc3JjL3VpL2h0dHAtY2hhdC10cmFuc3BvcnQudHMiLCAiLi4vYWkvc3JjL3VpL2xhc3QtYXNzaXN0YW50LW1lc3NhZ2UtaXMtY29tcGxldGUtd2l0aC10b29sLWNhbGxzLnRzIiwgIi4uL2FpL3NyYy91aS90cmFuc2Zvcm0tdGV4dC10by11aS1tZXNzYWdlLXN0cmVhbS50cyIsICIuLi9haS9zcmMvdWkvdGV4dC1zdHJlYW0tY2hhdC10cmFuc3BvcnQudHMiLCAiLi4vYWkvc3JjL3VpL3ZhbGlkYXRlLXVpLW1lc3NhZ2VzLnRzIiwgIi4uL2FpL3NyYy91aS1tZXNzYWdlLXN0cmVhbS9jcmVhdGUtdWktbWVzc2FnZS1zdHJlYW0udHMiLCAiLi4vYWkvc3JjL3VpLW1lc3NhZ2Utc3RyZWFtL3JlYWQtdWktbWVzc2FnZS1zdHJlYW0udHMiLCAiLi4vYmxpbmsvZGlzdC9hcGktX1JGU3czdDYuanMiLCAiLi4vcGcvZXNtL2luZGV4Lm1qcyIsICIuLi8uLi9kYi50cyIsICIuLi8uLi9wcm9tcHQudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIid1c2Ugc3RyaWN0J1xuXG5leHBvcnRzLnBhcnNlID0gZnVuY3Rpb24gKHNvdXJjZSwgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBuZXcgQXJyYXlQYXJzZXIoc291cmNlLCB0cmFuc2Zvcm0pLnBhcnNlKClcbn1cblxuY2xhc3MgQXJyYXlQYXJzZXIge1xuICBjb25zdHJ1Y3RvciAoc291cmNlLCB0cmFuc2Zvcm0pIHtcbiAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZVxuICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtIHx8IGlkZW50aXR5XG4gICAgdGhpcy5wb3NpdGlvbiA9IDBcbiAgICB0aGlzLmVudHJpZXMgPSBbXVxuICAgIHRoaXMucmVjb3JkZWQgPSBbXVxuICAgIHRoaXMuZGltZW5zaW9uID0gMFxuICB9XG5cbiAgaXNFb2YgKCkge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uID49IHRoaXMuc291cmNlLmxlbmd0aFxuICB9XG5cbiAgbmV4dENoYXJhY3RlciAoKSB7XG4gICAgdmFyIGNoYXJhY3RlciA9IHRoaXMuc291cmNlW3RoaXMucG9zaXRpb24rK11cbiAgICBpZiAoY2hhcmFjdGVyID09PSAnXFxcXCcpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiB0aGlzLnNvdXJjZVt0aGlzLnBvc2l0aW9uKytdLFxuICAgICAgICBlc2NhcGVkOiB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogY2hhcmFjdGVyLFxuICAgICAgZXNjYXBlZDogZmFsc2VcbiAgICB9XG4gIH1cblxuICByZWNvcmQgKGNoYXJhY3Rlcikge1xuICAgIHRoaXMucmVjb3JkZWQucHVzaChjaGFyYWN0ZXIpXG4gIH1cblxuICBuZXdFbnRyeSAoaW5jbHVkZUVtcHR5KSB7XG4gICAgdmFyIGVudHJ5XG4gICAgaWYgKHRoaXMucmVjb3JkZWQubGVuZ3RoID4gMCB8fCBpbmNsdWRlRW1wdHkpIHtcbiAgICAgIGVudHJ5ID0gdGhpcy5yZWNvcmRlZC5qb2luKCcnKVxuICAgICAgaWYgKGVudHJ5ID09PSAnTlVMTCcgJiYgIWluY2x1ZGVFbXB0eSkge1xuICAgICAgICBlbnRyeSA9IG51bGxcbiAgICAgIH1cbiAgICAgIGlmIChlbnRyeSAhPT0gbnVsbCkgZW50cnkgPSB0aGlzLnRyYW5zZm9ybShlbnRyeSlcbiAgICAgIHRoaXMuZW50cmllcy5wdXNoKGVudHJ5KVxuICAgICAgdGhpcy5yZWNvcmRlZCA9IFtdXG4gICAgfVxuICB9XG5cbiAgY29uc3VtZURpbWVuc2lvbnMgKCkge1xuICAgIGlmICh0aGlzLnNvdXJjZVswXSA9PT0gJ1snKSB7XG4gICAgICB3aGlsZSAoIXRoaXMuaXNFb2YoKSkge1xuICAgICAgICB2YXIgY2hhciA9IHRoaXMubmV4dENoYXJhY3RlcigpXG4gICAgICAgIGlmIChjaGFyLnZhbHVlID09PSAnPScpIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcGFyc2UgKG5lc3RlZCkge1xuICAgIHZhciBjaGFyYWN0ZXIsIHBhcnNlciwgcXVvdGVcbiAgICB0aGlzLmNvbnN1bWVEaW1lbnNpb25zKClcbiAgICB3aGlsZSAoIXRoaXMuaXNFb2YoKSkge1xuICAgICAgY2hhcmFjdGVyID0gdGhpcy5uZXh0Q2hhcmFjdGVyKClcbiAgICAgIGlmIChjaGFyYWN0ZXIudmFsdWUgPT09ICd7JyAmJiAhcXVvdGUpIHtcbiAgICAgICAgdGhpcy5kaW1lbnNpb24rK1xuICAgICAgICBpZiAodGhpcy5kaW1lbnNpb24gPiAxKSB7XG4gICAgICAgICAgcGFyc2VyID0gbmV3IEFycmF5UGFyc2VyKHRoaXMuc291cmNlLnN1YnN0cih0aGlzLnBvc2l0aW9uIC0gMSksIHRoaXMudHJhbnNmb3JtKVxuICAgICAgICAgIHRoaXMuZW50cmllcy5wdXNoKHBhcnNlci5wYXJzZSh0cnVlKSlcbiAgICAgICAgICB0aGlzLnBvc2l0aW9uICs9IHBhcnNlci5wb3NpdGlvbiAtIDJcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIudmFsdWUgPT09ICd9JyAmJiAhcXVvdGUpIHtcbiAgICAgICAgdGhpcy5kaW1lbnNpb24tLVxuICAgICAgICBpZiAoIXRoaXMuZGltZW5zaW9uKSB7XG4gICAgICAgICAgdGhpcy5uZXdFbnRyeSgpXG4gICAgICAgICAgaWYgKG5lc3RlZCkgcmV0dXJuIHRoaXMuZW50cmllc1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci52YWx1ZSA9PT0gJ1wiJyAmJiAhY2hhcmFjdGVyLmVzY2FwZWQpIHtcbiAgICAgICAgaWYgKHF1b3RlKSB0aGlzLm5ld0VudHJ5KHRydWUpXG4gICAgICAgIHF1b3RlID0gIXF1b3RlXG4gICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci52YWx1ZSA9PT0gJywnICYmICFxdW90ZSkge1xuICAgICAgICB0aGlzLm5ld0VudHJ5KClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVjb3JkKGNoYXJhY3Rlci52YWx1ZSlcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuZGltZW5zaW9uICE9PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2FycmF5IGRpbWVuc2lvbiBub3QgYmFsYW5jZWQnKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5lbnRyaWVzXG4gIH1cbn1cblxuZnVuY3Rpb24gaWRlbnRpdHkgKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZVxufVxuIiwgInZhciBhcnJheSA9IHJlcXVpcmUoJ3Bvc3RncmVzLWFycmF5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjcmVhdGU6IGZ1bmN0aW9uIChzb3VyY2UsIHRyYW5zZm9ybSkge1xuICAgIHJldHVybiB7XG4gICAgICBwYXJzZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBhcnJheS5wYXJzZShzb3VyY2UsIHRyYW5zZm9ybSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufTtcbiIsICIndXNlIHN0cmljdCdcblxudmFyIERBVEVfVElNRSA9IC8oXFxkezEsfSktKFxcZHsyfSktKFxcZHsyfSkgKFxcZHsyfSk6KFxcZHsyfSk6KFxcZHsyfSkoXFwuXFxkezEsfSk/Lio/KCBCQyk/JC9cbnZhciBEQVRFID0gL14oXFxkezEsfSktKFxcZHsyfSktKFxcZHsyfSkoIEJDKT8kL1xudmFyIFRJTUVfWk9ORSA9IC8oW1orLV0pKFxcZHsyfSk/Oj8oXFxkezJ9KT86PyhcXGR7Mn0pPy9cbnZhciBJTkZJTklUWSA9IC9eLT9pbmZpbml0eSQvXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VEYXRlIChpc29EYXRlKSB7XG4gIGlmIChJTkZJTklUWS50ZXN0KGlzb0RhdGUpKSB7XG4gICAgLy8gQ2FwaXRhbGl6ZSB0byBJbmZpbml0eSBiZWZvcmUgcGFzc2luZyB0byBOdW1iZXJcbiAgICByZXR1cm4gTnVtYmVyKGlzb0RhdGUucmVwbGFjZSgnaScsICdJJykpXG4gIH1cbiAgdmFyIG1hdGNoZXMgPSBEQVRFX1RJTUUuZXhlYyhpc29EYXRlKVxuXG4gIGlmICghbWF0Y2hlcykge1xuICAgIC8vIEZvcmNlIFlZWVktTU0tREQgZGF0ZXMgdG8gYmUgcGFyc2VkIGFzIGxvY2FsIHRpbWVcbiAgICByZXR1cm4gZ2V0RGF0ZShpc29EYXRlKSB8fCBudWxsXG4gIH1cblxuICB2YXIgaXNCQyA9ICEhbWF0Y2hlc1s4XVxuICB2YXIgeWVhciA9IHBhcnNlSW50KG1hdGNoZXNbMV0sIDEwKVxuICBpZiAoaXNCQykge1xuICAgIHllYXIgPSBiY1llYXJUb05lZ2F0aXZlWWVhcih5ZWFyKVxuICB9XG5cbiAgdmFyIG1vbnRoID0gcGFyc2VJbnQobWF0Y2hlc1syXSwgMTApIC0gMVxuICB2YXIgZGF5ID0gbWF0Y2hlc1szXVxuICB2YXIgaG91ciA9IHBhcnNlSW50KG1hdGNoZXNbNF0sIDEwKVxuICB2YXIgbWludXRlID0gcGFyc2VJbnQobWF0Y2hlc1s1XSwgMTApXG4gIHZhciBzZWNvbmQgPSBwYXJzZUludChtYXRjaGVzWzZdLCAxMClcblxuICB2YXIgbXMgPSBtYXRjaGVzWzddXG4gIG1zID0gbXMgPyAxMDAwICogcGFyc2VGbG9hdChtcykgOiAwXG5cbiAgdmFyIGRhdGVcbiAgdmFyIG9mZnNldCA9IHRpbWVab25lT2Zmc2V0KGlzb0RhdGUpXG4gIGlmIChvZmZzZXQgIT0gbnVsbCkge1xuICAgIGRhdGUgPSBuZXcgRGF0ZShEYXRlLlVUQyh5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW51dGUsIHNlY29uZCwgbXMpKVxuXG4gICAgLy8gQWNjb3VudCBmb3IgeWVhcnMgZnJvbSAwIHRvIDk5IGJlaW5nIGludGVycHJldGVkIGFzIDE5MDAtMTk5OVxuICAgIC8vIGJ5IERhdGUuVVRDIC8gdGhlIG11bHRpLWFyZ3VtZW50IGZvcm0gb2YgdGhlIERhdGUgY29uc3RydWN0b3JcbiAgICBpZiAoaXMwVG85OSh5ZWFyKSkge1xuICAgICAgZGF0ZS5zZXRVVENGdWxsWWVhcih5ZWFyKVxuICAgIH1cblxuICAgIGlmIChvZmZzZXQgIT09IDApIHtcbiAgICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSAtIG9mZnNldClcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXksIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtcylcblxuICAgIGlmIChpczBUbzk5KHllYXIpKSB7XG4gICAgICBkYXRlLnNldEZ1bGxZZWFyKHllYXIpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRhdGVcbn1cblxuZnVuY3Rpb24gZ2V0RGF0ZSAoaXNvRGF0ZSkge1xuICB2YXIgbWF0Y2hlcyA9IERBVEUuZXhlYyhpc29EYXRlKVxuICBpZiAoIW1hdGNoZXMpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHZhciB5ZWFyID0gcGFyc2VJbnQobWF0Y2hlc1sxXSwgMTApXG4gIHZhciBpc0JDID0gISFtYXRjaGVzWzRdXG4gIGlmIChpc0JDKSB7XG4gICAgeWVhciA9IGJjWWVhclRvTmVnYXRpdmVZZWFyKHllYXIpXG4gIH1cblxuICB2YXIgbW9udGggPSBwYXJzZUludChtYXRjaGVzWzJdLCAxMCkgLSAxXG4gIHZhciBkYXkgPSBtYXRjaGVzWzNdXG4gIC8vIFlZWVktTU0tREQgd2lsbCBiZSBwYXJzZWQgYXMgbG9jYWwgdGltZVxuICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkpXG5cbiAgaWYgKGlzMFRvOTkoeWVhcikpIHtcbiAgICBkYXRlLnNldEZ1bGxZZWFyKHllYXIpXG4gIH1cblxuICByZXR1cm4gZGF0ZVxufVxuXG4vLyBtYXRjaCB0aW1lem9uZXM6XG4vLyBaIChVVEMpXG4vLyAtMDVcbi8vICswNjozMFxuZnVuY3Rpb24gdGltZVpvbmVPZmZzZXQgKGlzb0RhdGUpIHtcbiAgaWYgKGlzb0RhdGUuZW5kc1dpdGgoJyswMCcpKSB7XG4gICAgcmV0dXJuIDBcbiAgfVxuXG4gIHZhciB6b25lID0gVElNRV9aT05FLmV4ZWMoaXNvRGF0ZS5zcGxpdCgnICcpWzFdKVxuICBpZiAoIXpvbmUpIHJldHVyblxuICB2YXIgdHlwZSA9IHpvbmVbMV1cblxuICBpZiAodHlwZSA9PT0gJ1onKSB7XG4gICAgcmV0dXJuIDBcbiAgfVxuICB2YXIgc2lnbiA9IHR5cGUgPT09ICctJyA/IC0xIDogMVxuICB2YXIgb2Zmc2V0ID0gcGFyc2VJbnQoem9uZVsyXSwgMTApICogMzYwMCArXG4gICAgcGFyc2VJbnQoem9uZVszXSB8fCAwLCAxMCkgKiA2MCArXG4gICAgcGFyc2VJbnQoem9uZVs0XSB8fCAwLCAxMClcblxuICByZXR1cm4gb2Zmc2V0ICogc2lnbiAqIDEwMDBcbn1cblxuZnVuY3Rpb24gYmNZZWFyVG9OZWdhdGl2ZVllYXIgKHllYXIpIHtcbiAgLy8gQWNjb3VudCBmb3IgbnVtZXJpY2FsIGRpZmZlcmVuY2UgYmV0d2VlbiByZXByZXNlbnRhdGlvbnMgb2YgQkMgeWVhcnNcbiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYmVuZHJ1Y2tlci9wb3N0Z3Jlcy1kYXRlL2lzc3Vlcy81XG4gIHJldHVybiAtKHllYXIgLSAxKVxufVxuXG5mdW5jdGlvbiBpczBUbzk5IChudW0pIHtcbiAgcmV0dXJuIG51bSA+PSAwICYmIG51bSA8IDEwMFxufVxuIiwgIm1vZHVsZS5leHBvcnRzID0gZXh0ZW5kXG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbmZ1bmN0aW9uIGV4dGVuZCh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldXG5cbiAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldFxufVxuIiwgIid1c2Ugc3RyaWN0J1xuXG52YXIgZXh0ZW5kID0gcmVxdWlyZSgneHRlbmQvbXV0YWJsZScpXG5cbm1vZHVsZS5leHBvcnRzID0gUG9zdGdyZXNJbnRlcnZhbFxuXG5mdW5jdGlvbiBQb3N0Z3Jlc0ludGVydmFsIChyYXcpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFBvc3RncmVzSW50ZXJ2YWwpKSB7XG4gICAgcmV0dXJuIG5ldyBQb3N0Z3Jlc0ludGVydmFsKHJhdylcbiAgfVxuICBleHRlbmQodGhpcywgcGFyc2UocmF3KSlcbn1cbnZhciBwcm9wZXJ0aWVzID0gWydzZWNvbmRzJywgJ21pbnV0ZXMnLCAnaG91cnMnLCAnZGF5cycsICdtb250aHMnLCAneWVhcnMnXVxuUG9zdGdyZXNJbnRlcnZhbC5wcm90b3R5cGUudG9Qb3N0Z3JlcyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGZpbHRlcmVkID0gcHJvcGVydGllcy5maWx0ZXIodGhpcy5oYXNPd25Qcm9wZXJ0eSwgdGhpcylcblxuICAvLyBJbiBhZGRpdGlvbiB0byBgcHJvcGVydGllc2AsIHdlIG5lZWQgdG8gYWNjb3VudCBmb3IgZnJhY3Rpb25zIG9mIHNlY29uZHMuXG4gIGlmICh0aGlzLm1pbGxpc2Vjb25kcyAmJiBmaWx0ZXJlZC5pbmRleE9mKCdzZWNvbmRzJykgPCAwKSB7XG4gICAgZmlsdGVyZWQucHVzaCgnc2Vjb25kcycpXG4gIH1cblxuICBpZiAoZmlsdGVyZWQubGVuZ3RoID09PSAwKSByZXR1cm4gJzAnXG4gIHJldHVybiBmaWx0ZXJlZFxuICAgIC5tYXAoZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzW3Byb3BlcnR5XSB8fCAwXG5cbiAgICAgIC8vIEFjY291bnQgZm9yIGZyYWN0aW9uYWwgcGFydCBvZiBzZWNvbmRzLFxuICAgICAgLy8gcmVtb3ZlIHRyYWlsaW5nIHplcm9lcy5cbiAgICAgIGlmIChwcm9wZXJ0eSA9PT0gJ3NlY29uZHMnICYmIHRoaXMubWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIHZhbHVlID0gKHZhbHVlICsgdGhpcy5taWxsaXNlY29uZHMgLyAxMDAwKS50b0ZpeGVkKDYpLnJlcGxhY2UoL1xcLj8wKyQvLCAnJylcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlICsgJyAnICsgcHJvcGVydHlcbiAgICB9LCB0aGlzKVxuICAgIC5qb2luKCcgJylcbn1cblxudmFyIHByb3BlcnRpZXNJU09FcXVpdmFsZW50ID0ge1xuICB5ZWFyczogJ1knLFxuICBtb250aHM6ICdNJyxcbiAgZGF5czogJ0QnLFxuICBob3VyczogJ0gnLFxuICBtaW51dGVzOiAnTScsXG4gIHNlY29uZHM6ICdTJ1xufVxudmFyIGRhdGVQcm9wZXJ0aWVzID0gWyd5ZWFycycsICdtb250aHMnLCAnZGF5cyddXG52YXIgdGltZVByb3BlcnRpZXMgPSBbJ2hvdXJzJywgJ21pbnV0ZXMnLCAnc2Vjb25kcyddXG4vLyBhY2NvcmRpbmcgdG8gSVNPIDg2MDFcblBvc3RncmVzSW50ZXJ2YWwucHJvdG90eXBlLnRvSVNPU3RyaW5nID0gUG9zdGdyZXNJbnRlcnZhbC5wcm90b3R5cGUudG9JU08gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBkYXRlUGFydCA9IGRhdGVQcm9wZXJ0aWVzXG4gICAgLm1hcChidWlsZFByb3BlcnR5LCB0aGlzKVxuICAgIC5qb2luKCcnKVxuXG4gIHZhciB0aW1lUGFydCA9IHRpbWVQcm9wZXJ0aWVzXG4gICAgLm1hcChidWlsZFByb3BlcnR5LCB0aGlzKVxuICAgIC5qb2luKCcnKVxuXG4gIHJldHVybiAnUCcgKyBkYXRlUGFydCArICdUJyArIHRpbWVQYXJ0XG5cbiAgZnVuY3Rpb24gYnVpbGRQcm9wZXJ0eSAocHJvcGVydHkpIHtcbiAgICB2YXIgdmFsdWUgPSB0aGlzW3Byb3BlcnR5XSB8fCAwXG5cbiAgICAvLyBBY2NvdW50IGZvciBmcmFjdGlvbmFsIHBhcnQgb2Ygc2Vjb25kcyxcbiAgICAvLyByZW1vdmUgdHJhaWxpbmcgemVyb2VzLlxuICAgIGlmIChwcm9wZXJ0eSA9PT0gJ3NlY29uZHMnICYmIHRoaXMubWlsbGlzZWNvbmRzKSB7XG4gICAgICB2YWx1ZSA9ICh2YWx1ZSArIHRoaXMubWlsbGlzZWNvbmRzIC8gMTAwMCkudG9GaXhlZCg2KS5yZXBsYWNlKC8wKyQvLCAnJylcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWUgKyBwcm9wZXJ0aWVzSVNPRXF1aXZhbGVudFtwcm9wZXJ0eV1cbiAgfVxufVxuXG52YXIgTlVNQkVSID0gJyhbKy1dP1xcXFxkKyknXG52YXIgWUVBUiA9IE5VTUJFUiArICdcXFxccyt5ZWFycz8nXG52YXIgTU9OVEggPSBOVU1CRVIgKyAnXFxcXHMrbW9ucz8nXG52YXIgREFZID0gTlVNQkVSICsgJ1xcXFxzK2RheXM/J1xudmFyIFRJTUUgPSAnKFsrLV0pPyhbXFxcXGRdKik6KFxcXFxkXFxcXGQpOihcXFxcZFxcXFxkKVxcXFwuPyhcXFxcZHsxLDZ9KT8nXG52YXIgSU5URVJWQUwgPSBuZXcgUmVnRXhwKFtZRUFSLCBNT05USCwgREFZLCBUSU1FXS5tYXAoZnVuY3Rpb24gKHJlZ2V4U3RyaW5nKSB7XG4gIHJldHVybiAnKCcgKyByZWdleFN0cmluZyArICcpPydcbn0pXG4gIC5qb2luKCdcXFxccyonKSlcblxuLy8gUG9zaXRpb25zIG9mIHZhbHVlcyBpbiByZWdleCBtYXRjaFxudmFyIHBvc2l0aW9ucyA9IHtcbiAgeWVhcnM6IDIsXG4gIG1vbnRoczogNCxcbiAgZGF5czogNixcbiAgaG91cnM6IDksXG4gIG1pbnV0ZXM6IDEwLFxuICBzZWNvbmRzOiAxMSxcbiAgbWlsbGlzZWNvbmRzOiAxMlxufVxuLy8gV2UgY2FuIHVzZSBuZWdhdGl2ZSB0aW1lXG52YXIgbmVnYXRpdmVzID0gWydob3VycycsICdtaW51dGVzJywgJ3NlY29uZHMnLCAnbWlsbGlzZWNvbmRzJ11cblxuZnVuY3Rpb24gcGFyc2VNaWxsaXNlY29uZHMgKGZyYWN0aW9uKSB7XG4gIC8vIGFkZCBvbWl0dGVkIHplcm9lc1xuICB2YXIgbWljcm9zZWNvbmRzID0gZnJhY3Rpb24gKyAnMDAwMDAwJy5zbGljZShmcmFjdGlvbi5sZW5ndGgpXG4gIHJldHVybiBwYXJzZUludChtaWNyb3NlY29uZHMsIDEwKSAvIDEwMDBcbn1cblxuZnVuY3Rpb24gcGFyc2UgKGludGVydmFsKSB7XG4gIGlmICghaW50ZXJ2YWwpIHJldHVybiB7fVxuICB2YXIgbWF0Y2hlcyA9IElOVEVSVkFMLmV4ZWMoaW50ZXJ2YWwpXG4gIHZhciBpc05lZ2F0aXZlID0gbWF0Y2hlc1s4XSA9PT0gJy0nXG4gIHJldHVybiBPYmplY3Qua2V5cyhwb3NpdGlvbnMpXG4gICAgLnJlZHVjZShmdW5jdGlvbiAocGFyc2VkLCBwcm9wZXJ0eSkge1xuICAgICAgdmFyIHBvc2l0aW9uID0gcG9zaXRpb25zW3Byb3BlcnR5XVxuICAgICAgdmFyIHZhbHVlID0gbWF0Y2hlc1twb3NpdGlvbl1cbiAgICAgIC8vIG5vIGVtcHR5IHN0cmluZ1xuICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuIHBhcnNlZFxuICAgICAgLy8gbWlsbGlzZWNvbmRzIGFyZSBhY3R1YWxseSBtaWNyb3NlY29uZHMgKHVwIHRvIDYgZGlnaXRzKVxuICAgICAgLy8gd2l0aCBvbWl0dGVkIHRyYWlsaW5nIHplcm9lcy5cbiAgICAgIHZhbHVlID0gcHJvcGVydHkgPT09ICdtaWxsaXNlY29uZHMnXG4gICAgICAgID8gcGFyc2VNaWxsaXNlY29uZHModmFsdWUpXG4gICAgICAgIDogcGFyc2VJbnQodmFsdWUsIDEwKVxuICAgICAgLy8gbm8gemVyb3NcbiAgICAgIGlmICghdmFsdWUpIHJldHVybiBwYXJzZWRcbiAgICAgIGlmIChpc05lZ2F0aXZlICYmIH5uZWdhdGl2ZXMuaW5kZXhPZihwcm9wZXJ0eSkpIHtcbiAgICAgICAgdmFsdWUgKj0gLTFcbiAgICAgIH1cbiAgICAgIHBhcnNlZFtwcm9wZXJ0eV0gPSB2YWx1ZVxuICAgICAgcmV0dXJuIHBhcnNlZFxuICAgIH0sIHt9KVxufVxuIiwgIid1c2Ugc3RyaWN0J1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBhcnNlQnl0ZWEgKGlucHV0KSB7XG4gIGlmICgvXlxcXFx4Ly50ZXN0KGlucHV0KSkge1xuICAgIC8vIG5ldyAnaGV4JyBzdHlsZSByZXNwb25zZSAocGcgPjkuMClcbiAgICByZXR1cm4gbmV3IEJ1ZmZlcihpbnB1dC5zdWJzdHIoMiksICdoZXgnKVxuICB9XG4gIHZhciBvdXRwdXQgPSAnJ1xuICB2YXIgaSA9IDBcbiAgd2hpbGUgKGkgPCBpbnB1dC5sZW5ndGgpIHtcbiAgICBpZiAoaW5wdXRbaV0gIT09ICdcXFxcJykge1xuICAgICAgb3V0cHV0ICs9IGlucHV0W2ldXG4gICAgICArK2lcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKC9bMC03XXszfS8udGVzdChpbnB1dC5zdWJzdHIoaSArIDEsIDMpKSkge1xuICAgICAgICBvdXRwdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChpbnB1dC5zdWJzdHIoaSArIDEsIDMpLCA4KSlcbiAgICAgICAgaSArPSA0XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYmFja3NsYXNoZXMgPSAxXG4gICAgICAgIHdoaWxlIChpICsgYmFja3NsYXNoZXMgPCBpbnB1dC5sZW5ndGggJiYgaW5wdXRbaSArIGJhY2tzbGFzaGVzXSA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgYmFja3NsYXNoZXMrK1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgTWF0aC5mbG9vcihiYWNrc2xhc2hlcyAvIDIpOyArK2spIHtcbiAgICAgICAgICBvdXRwdXQgKz0gJ1xcXFwnXG4gICAgICAgIH1cbiAgICAgICAgaSArPSBNYXRoLmZsb29yKGJhY2tzbGFzaGVzIC8gMikgKiAyXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXcgQnVmZmVyKG91dHB1dCwgJ2JpbmFyeScpXG59XG4iLCAidmFyIGFycmF5ID0gcmVxdWlyZSgncG9zdGdyZXMtYXJyYXknKVxudmFyIGFycmF5UGFyc2VyID0gcmVxdWlyZSgnLi9hcnJheVBhcnNlcicpO1xudmFyIHBhcnNlRGF0ZSA9IHJlcXVpcmUoJ3Bvc3RncmVzLWRhdGUnKTtcbnZhciBwYXJzZUludGVydmFsID0gcmVxdWlyZSgncG9zdGdyZXMtaW50ZXJ2YWwnKTtcbnZhciBwYXJzZUJ5dGVBID0gcmVxdWlyZSgncG9zdGdyZXMtYnl0ZWEnKTtcblxuZnVuY3Rpb24gYWxsb3dOdWxsIChmbikge1xuICByZXR1cm4gZnVuY3Rpb24gbnVsbEFsbG93ZWQgKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSByZXR1cm4gdmFsdWVcbiAgICByZXR1cm4gZm4odmFsdWUpXG4gIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VCb29sICh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybiB2YWx1ZVxuICByZXR1cm4gdmFsdWUgPT09ICdUUlVFJyB8fFxuICAgIHZhbHVlID09PSAndCcgfHxcbiAgICB2YWx1ZSA9PT0gJ3RydWUnIHx8XG4gICAgdmFsdWUgPT09ICd5JyB8fFxuICAgIHZhbHVlID09PSAneWVzJyB8fFxuICAgIHZhbHVlID09PSAnb24nIHx8XG4gICAgdmFsdWUgPT09ICcxJztcbn1cblxuZnVuY3Rpb24gcGFyc2VCb29sQXJyYXkgKHZhbHVlKSB7XG4gIGlmICghdmFsdWUpIHJldHVybiBudWxsXG4gIHJldHVybiBhcnJheS5wYXJzZSh2YWx1ZSwgcGFyc2VCb29sKVxufVxuXG5mdW5jdGlvbiBwYXJzZUJhc2VUZW5JbnQgKHN0cmluZykge1xuICByZXR1cm4gcGFyc2VJbnQoc3RyaW5nLCAxMClcbn1cblxuZnVuY3Rpb24gcGFyc2VJbnRlZ2VyQXJyYXkgKHZhbHVlKSB7XG4gIGlmICghdmFsdWUpIHJldHVybiBudWxsXG4gIHJldHVybiBhcnJheS5wYXJzZSh2YWx1ZSwgYWxsb3dOdWxsKHBhcnNlQmFzZVRlbkludCkpXG59XG5cbmZ1bmN0aW9uIHBhcnNlQmlnSW50ZWdlckFycmF5ICh2YWx1ZSkge1xuICBpZiAoIXZhbHVlKSByZXR1cm4gbnVsbFxuICByZXR1cm4gYXJyYXkucGFyc2UodmFsdWUsIGFsbG93TnVsbChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICByZXR1cm4gcGFyc2VCaWdJbnRlZ2VyKGVudHJ5KS50cmltKClcbiAgfSkpXG59XG5cbnZhciBwYXJzZVBvaW50QXJyYXkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpZighdmFsdWUpIHsgcmV0dXJuIG51bGw7IH1cbiAgdmFyIHAgPSBhcnJheVBhcnNlci5jcmVhdGUodmFsdWUsIGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgaWYoZW50cnkgIT09IG51bGwpIHtcbiAgICAgIGVudHJ5ID0gcGFyc2VQb2ludChlbnRyeSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyeTtcbiAgfSk7XG5cbiAgcmV0dXJuIHAucGFyc2UoKTtcbn07XG5cbnZhciBwYXJzZUZsb2F0QXJyYXkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpZighdmFsdWUpIHsgcmV0dXJuIG51bGw7IH1cbiAgdmFyIHAgPSBhcnJheVBhcnNlci5jcmVhdGUodmFsdWUsIGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgaWYoZW50cnkgIT09IG51bGwpIHtcbiAgICAgIGVudHJ5ID0gcGFyc2VGbG9hdChlbnRyeSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyeTtcbiAgfSk7XG5cbiAgcmV0dXJuIHAucGFyc2UoKTtcbn07XG5cbnZhciBwYXJzZVN0cmluZ0FycmF5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgaWYoIXZhbHVlKSB7IHJldHVybiBudWxsOyB9XG5cbiAgdmFyIHAgPSBhcnJheVBhcnNlci5jcmVhdGUodmFsdWUpO1xuICByZXR1cm4gcC5wYXJzZSgpO1xufTtcblxudmFyIHBhcnNlRGF0ZUFycmF5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSkgeyByZXR1cm4gbnVsbDsgfVxuXG4gIHZhciBwID0gYXJyYXlQYXJzZXIuY3JlYXRlKHZhbHVlLCBmdW5jdGlvbihlbnRyeSkge1xuICAgIGlmIChlbnRyeSAhPT0gbnVsbCkge1xuICAgICAgZW50cnkgPSBwYXJzZURhdGUoZW50cnkpO1xuICAgIH1cbiAgICByZXR1cm4gZW50cnk7XG4gIH0pO1xuXG4gIHJldHVybiBwLnBhcnNlKCk7XG59O1xuXG52YXIgcGFyc2VJbnRlcnZhbEFycmF5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSkgeyByZXR1cm4gbnVsbDsgfVxuXG4gIHZhciBwID0gYXJyYXlQYXJzZXIuY3JlYXRlKHZhbHVlLCBmdW5jdGlvbihlbnRyeSkge1xuICAgIGlmIChlbnRyeSAhPT0gbnVsbCkge1xuICAgICAgZW50cnkgPSBwYXJzZUludGVydmFsKGVudHJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJ5O1xuICB9KTtcblxuICByZXR1cm4gcC5wYXJzZSgpO1xufTtcblxudmFyIHBhcnNlQnl0ZUFBcnJheSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICghdmFsdWUpIHsgcmV0dXJuIG51bGw7IH1cblxuICByZXR1cm4gYXJyYXkucGFyc2UodmFsdWUsIGFsbG93TnVsbChwYXJzZUJ5dGVBKSk7XG59O1xuXG52YXIgcGFyc2VJbnRlZ2VyID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHBhcnNlSW50KHZhbHVlLCAxMCk7XG59O1xuXG52YXIgcGFyc2VCaWdJbnRlZ2VyID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgdmFyIHZhbFN0ciA9IFN0cmluZyh2YWx1ZSk7XG4gIGlmICgvXlxcZCskLy50ZXN0KHZhbFN0cikpIHsgcmV0dXJuIHZhbFN0cjsgfVxuICByZXR1cm4gdmFsdWU7XG59O1xuXG52YXIgcGFyc2VKc29uQXJyYXkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpZiAoIXZhbHVlKSB7IHJldHVybiBudWxsOyB9XG5cbiAgcmV0dXJuIGFycmF5LnBhcnNlKHZhbHVlLCBhbGxvd051bGwoSlNPTi5wYXJzZSkpO1xufTtcblxudmFyIHBhcnNlUG9pbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpZiAodmFsdWVbMF0gIT09ICcoJykgeyByZXR1cm4gbnVsbDsgfVxuXG4gIHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKCAxLCB2YWx1ZS5sZW5ndGggLSAxICkuc3BsaXQoJywnKTtcblxuICByZXR1cm4ge1xuICAgIHg6IHBhcnNlRmxvYXQodmFsdWVbMF0pXG4gICwgeTogcGFyc2VGbG9hdCh2YWx1ZVsxXSlcbiAgfTtcbn07XG5cbnZhciBwYXJzZUNpcmNsZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICh2YWx1ZVswXSAhPT0gJzwnICYmIHZhbHVlWzFdICE9PSAnKCcpIHsgcmV0dXJuIG51bGw7IH1cblxuICB2YXIgcG9pbnQgPSAnKCc7XG4gIHZhciByYWRpdXMgPSAnJztcbiAgdmFyIHBvaW50UGFyc2VkID0gZmFsc2U7XG4gIGZvciAodmFyIGkgPSAyOyBpIDwgdmFsdWUubGVuZ3RoIC0gMTsgaSsrKXtcbiAgICBpZiAoIXBvaW50UGFyc2VkKSB7XG4gICAgICBwb2ludCArPSB2YWx1ZVtpXTtcbiAgICB9XG5cbiAgICBpZiAodmFsdWVbaV0gPT09ICcpJykge1xuICAgICAgcG9pbnRQYXJzZWQgPSB0cnVlO1xuICAgICAgY29udGludWU7XG4gICAgfSBlbHNlIGlmICghcG9pbnRQYXJzZWQpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmICh2YWx1ZVtpXSA9PT0gJywnKXtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHJhZGl1cyArPSB2YWx1ZVtpXTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gcGFyc2VQb2ludChwb2ludCk7XG4gIHJlc3VsdC5yYWRpdXMgPSBwYXJzZUZsb2F0KHJhZGl1cyk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciBpbml0ID0gZnVuY3Rpb24ocmVnaXN0ZXIpIHtcbiAgcmVnaXN0ZXIoMjAsIHBhcnNlQmlnSW50ZWdlcik7IC8vIGludDhcbiAgcmVnaXN0ZXIoMjEsIHBhcnNlSW50ZWdlcik7IC8vIGludDJcbiAgcmVnaXN0ZXIoMjMsIHBhcnNlSW50ZWdlcik7IC8vIGludDRcbiAgcmVnaXN0ZXIoMjYsIHBhcnNlSW50ZWdlcik7IC8vIG9pZFxuICByZWdpc3Rlcig3MDAsIHBhcnNlRmxvYXQpOyAvLyBmbG9hdDQvcmVhbFxuICByZWdpc3Rlcig3MDEsIHBhcnNlRmxvYXQpOyAvLyBmbG9hdDgvZG91YmxlXG4gIHJlZ2lzdGVyKDE2LCBwYXJzZUJvb2wpO1xuICByZWdpc3RlcigxMDgyLCBwYXJzZURhdGUpOyAvLyBkYXRlXG4gIHJlZ2lzdGVyKDExMTQsIHBhcnNlRGF0ZSk7IC8vIHRpbWVzdGFtcCB3aXRob3V0IHRpbWV6b25lXG4gIHJlZ2lzdGVyKDExODQsIHBhcnNlRGF0ZSk7IC8vIHRpbWVzdGFtcFxuICByZWdpc3Rlcig2MDAsIHBhcnNlUG9pbnQpOyAvLyBwb2ludFxuICByZWdpc3Rlcig2NTEsIHBhcnNlU3RyaW5nQXJyYXkpOyAvLyBjaWRyW11cbiAgcmVnaXN0ZXIoNzE4LCBwYXJzZUNpcmNsZSk7IC8vIGNpcmNsZVxuICByZWdpc3RlcigxMDAwLCBwYXJzZUJvb2xBcnJheSk7XG4gIHJlZ2lzdGVyKDEwMDEsIHBhcnNlQnl0ZUFBcnJheSk7XG4gIHJlZ2lzdGVyKDEwMDUsIHBhcnNlSW50ZWdlckFycmF5KTsgLy8gX2ludDJcbiAgcmVnaXN0ZXIoMTAwNywgcGFyc2VJbnRlZ2VyQXJyYXkpOyAvLyBfaW50NFxuICByZWdpc3RlcigxMDI4LCBwYXJzZUludGVnZXJBcnJheSk7IC8vIG9pZFtdXG4gIHJlZ2lzdGVyKDEwMTYsIHBhcnNlQmlnSW50ZWdlckFycmF5KTsgLy8gX2ludDhcbiAgcmVnaXN0ZXIoMTAxNywgcGFyc2VQb2ludEFycmF5KTsgLy8gcG9pbnRbXVxuICByZWdpc3RlcigxMDIxLCBwYXJzZUZsb2F0QXJyYXkpOyAvLyBfZmxvYXQ0XG4gIHJlZ2lzdGVyKDEwMjIsIHBhcnNlRmxvYXRBcnJheSk7IC8vIF9mbG9hdDhcbiAgcmVnaXN0ZXIoMTIzMSwgcGFyc2VGbG9hdEFycmF5KTsgLy8gX251bWVyaWNcbiAgcmVnaXN0ZXIoMTAxNCwgcGFyc2VTdHJpbmdBcnJheSk7IC8vY2hhclxuICByZWdpc3RlcigxMDE1LCBwYXJzZVN0cmluZ0FycmF5KTsgLy92YXJjaGFyXG4gIHJlZ2lzdGVyKDEwMDgsIHBhcnNlU3RyaW5nQXJyYXkpO1xuICByZWdpc3RlcigxMDA5LCBwYXJzZVN0cmluZ0FycmF5KTtcbiAgcmVnaXN0ZXIoMTA0MCwgcGFyc2VTdHJpbmdBcnJheSk7IC8vIG1hY2FkZHJbXVxuICByZWdpc3RlcigxMDQxLCBwYXJzZVN0cmluZ0FycmF5KTsgLy8gaW5ldFtdXG4gIHJlZ2lzdGVyKDExMTUsIHBhcnNlRGF0ZUFycmF5KTsgLy8gdGltZXN0YW1wIHdpdGhvdXQgdGltZSB6b25lW11cbiAgcmVnaXN0ZXIoMTE4MiwgcGFyc2VEYXRlQXJyYXkpOyAvLyBfZGF0ZVxuICByZWdpc3RlcigxMTg1LCBwYXJzZURhdGVBcnJheSk7IC8vIHRpbWVzdGFtcCB3aXRoIHRpbWUgem9uZVtdXG4gIHJlZ2lzdGVyKDExODYsIHBhcnNlSW50ZXJ2YWwpO1xuICByZWdpc3RlcigxMTg3LCBwYXJzZUludGVydmFsQXJyYXkpO1xuICByZWdpc3RlcigxNywgcGFyc2VCeXRlQSk7XG4gIHJlZ2lzdGVyKDExNCwgSlNPTi5wYXJzZS5iaW5kKEpTT04pKTsgLy8ganNvblxuICByZWdpc3RlcigzODAyLCBKU09OLnBhcnNlLmJpbmQoSlNPTikpOyAvLyBqc29uYlxuICByZWdpc3RlcigxOTksIHBhcnNlSnNvbkFycmF5KTsgLy8ganNvbltdXG4gIHJlZ2lzdGVyKDM4MDcsIHBhcnNlSnNvbkFycmF5KTsgLy8ganNvbmJbXVxuICByZWdpc3RlcigzOTA3LCBwYXJzZVN0cmluZ0FycmF5KTsgLy8gbnVtcmFuZ2VbXVxuICByZWdpc3RlcigyOTUxLCBwYXJzZVN0cmluZ0FycmF5KTsgLy8gdXVpZFtdXG4gIHJlZ2lzdGVyKDc5MSwgcGFyc2VTdHJpbmdBcnJheSk7IC8vIG1vbmV5W11cbiAgcmVnaXN0ZXIoMTE4MywgcGFyc2VTdHJpbmdBcnJheSk7IC8vIHRpbWVbXVxuICByZWdpc3RlcigxMjcwLCBwYXJzZVN0cmluZ0FycmF5KTsgLy8gdGltZXR6W11cbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpbml0OiBpbml0XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLy8gc2VsZWN0ZWQgc28gKEJBU0UgLSAxKSAqIDB4MTAwMDAwMDAwICsgMHhmZmZmZmZmZiBpcyBhIHNhZmUgaW50ZWdlclxudmFyIEJBU0UgPSAxMDAwMDAwO1xuXG5mdW5jdGlvbiByZWFkSW50OChidWZmZXIpIHtcblx0dmFyIGhpZ2ggPSBidWZmZXIucmVhZEludDMyQkUoMCk7XG5cdHZhciBsb3cgPSBidWZmZXIucmVhZFVJbnQzMkJFKDQpO1xuXHR2YXIgc2lnbiA9ICcnO1xuXG5cdGlmIChoaWdoIDwgMCkge1xuXHRcdGhpZ2ggPSB+aGlnaCArIChsb3cgPT09IDApO1xuXHRcdGxvdyA9ICh+bG93ICsgMSkgPj4+IDA7XG5cdFx0c2lnbiA9ICctJztcblx0fVxuXG5cdHZhciByZXN1bHQgPSAnJztcblx0dmFyIGNhcnJ5O1xuXHR2YXIgdDtcblx0dmFyIGRpZ2l0cztcblx0dmFyIHBhZDtcblx0dmFyIGw7XG5cdHZhciBpO1xuXG5cdHtcblx0XHRjYXJyeSA9IGhpZ2ggJSBCQVNFO1xuXHRcdGhpZ2ggPSBoaWdoIC8gQkFTRSA+Pj4gMDtcblxuXHRcdHQgPSAweDEwMDAwMDAwMCAqIGNhcnJ5ICsgbG93O1xuXHRcdGxvdyA9IHQgLyBCQVNFID4+PiAwO1xuXHRcdGRpZ2l0cyA9ICcnICsgKHQgLSBCQVNFICogbG93KTtcblxuXHRcdGlmIChsb3cgPT09IDAgJiYgaGlnaCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuIHNpZ24gKyBkaWdpdHMgKyByZXN1bHQ7XG5cdFx0fVxuXG5cdFx0cGFkID0gJyc7XG5cdFx0bCA9IDYgLSBkaWdpdHMubGVuZ3RoO1xuXG5cdFx0Zm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuXHRcdFx0cGFkICs9ICcwJztcblx0XHR9XG5cblx0XHRyZXN1bHQgPSBwYWQgKyBkaWdpdHMgKyByZXN1bHQ7XG5cdH1cblxuXHR7XG5cdFx0Y2FycnkgPSBoaWdoICUgQkFTRTtcblx0XHRoaWdoID0gaGlnaCAvIEJBU0UgPj4+IDA7XG5cblx0XHR0ID0gMHgxMDAwMDAwMDAgKiBjYXJyeSArIGxvdztcblx0XHRsb3cgPSB0IC8gQkFTRSA+Pj4gMDtcblx0XHRkaWdpdHMgPSAnJyArICh0IC0gQkFTRSAqIGxvdyk7XG5cblx0XHRpZiAobG93ID09PSAwICYmIGhpZ2ggPT09IDApIHtcblx0XHRcdHJldHVybiBzaWduICsgZGlnaXRzICsgcmVzdWx0O1xuXHRcdH1cblxuXHRcdHBhZCA9ICcnO1xuXHRcdGwgPSA2IC0gZGlnaXRzLmxlbmd0aDtcblxuXHRcdGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcblx0XHRcdHBhZCArPSAnMCc7XG5cdFx0fVxuXG5cdFx0cmVzdWx0ID0gcGFkICsgZGlnaXRzICsgcmVzdWx0O1xuXHR9XG5cblx0e1xuXHRcdGNhcnJ5ID0gaGlnaCAlIEJBU0U7XG5cdFx0aGlnaCA9IGhpZ2ggLyBCQVNFID4+PiAwO1xuXG5cdFx0dCA9IDB4MTAwMDAwMDAwICogY2FycnkgKyBsb3c7XG5cdFx0bG93ID0gdCAvIEJBU0UgPj4+IDA7XG5cdFx0ZGlnaXRzID0gJycgKyAodCAtIEJBU0UgKiBsb3cpO1xuXG5cdFx0aWYgKGxvdyA9PT0gMCAmJiBoaWdoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gc2lnbiArIGRpZ2l0cyArIHJlc3VsdDtcblx0XHR9XG5cblx0XHRwYWQgPSAnJztcblx0XHRsID0gNiAtIGRpZ2l0cy5sZW5ndGg7XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHRwYWQgKz0gJzAnO1xuXHRcdH1cblxuXHRcdHJlc3VsdCA9IHBhZCArIGRpZ2l0cyArIHJlc3VsdDtcblx0fVxuXG5cdHtcblx0XHRjYXJyeSA9IGhpZ2ggJSBCQVNFO1xuXHRcdHQgPSAweDEwMDAwMDAwMCAqIGNhcnJ5ICsgbG93O1xuXHRcdGRpZ2l0cyA9ICcnICsgdCAlIEJBU0U7XG5cblx0XHRyZXR1cm4gc2lnbiArIGRpZ2l0cyArIHJlc3VsdDtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlYWRJbnQ4O1xuIiwgInZhciBwYXJzZUludDY0ID0gcmVxdWlyZSgncGctaW50OCcpO1xuXG52YXIgcGFyc2VCaXRzID0gZnVuY3Rpb24oZGF0YSwgYml0cywgb2Zmc2V0LCBpbnZlcnQsIGNhbGxiYWNrKSB7XG4gIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuICBpbnZlcnQgPSBpbnZlcnQgfHwgZmFsc2U7XG4gIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24obGFzdFZhbHVlLCBuZXdWYWx1ZSwgYml0cykgeyByZXR1cm4gKGxhc3RWYWx1ZSAqIE1hdGgucG93KDIsIGJpdHMpKSArIG5ld1ZhbHVlOyB9O1xuICB2YXIgb2Zmc2V0Qnl0ZXMgPSBvZmZzZXQgPj4gMztcblxuICB2YXIgaW52ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoaW52ZXJ0KSB7XG4gICAgICByZXR1cm4gfnZhbHVlICYgMHhmZjtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgLy8gcmVhZCBmaXJzdCAobWF5YmUgcGFydGlhbCkgYnl0ZVxuICB2YXIgbWFzayA9IDB4ZmY7XG4gIHZhciBmaXJzdEJpdHMgPSA4IC0gKG9mZnNldCAlIDgpO1xuICBpZiAoYml0cyA8IGZpcnN0Qml0cykge1xuICAgIG1hc2sgPSAoMHhmZiA8PCAoOCAtIGJpdHMpKSAmIDB4ZmY7XG4gICAgZmlyc3RCaXRzID0gYml0cztcbiAgfVxuXG4gIGlmIChvZmZzZXQpIHtcbiAgICBtYXNrID0gbWFzayA+PiAob2Zmc2V0ICUgOCk7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gMDtcbiAgaWYgKChvZmZzZXQgJSA4KSArIGJpdHMgPj0gOCkge1xuICAgIHJlc3VsdCA9IGNhbGxiYWNrKDAsIGludihkYXRhW29mZnNldEJ5dGVzXSkgJiBtYXNrLCBmaXJzdEJpdHMpO1xuICB9XG5cbiAgLy8gcmVhZCBieXRlc1xuICB2YXIgYnl0ZXMgPSAoYml0cyArIG9mZnNldCkgPj4gMztcbiAgZm9yICh2YXIgaSA9IG9mZnNldEJ5dGVzICsgMTsgaSA8IGJ5dGVzOyBpKyspIHtcbiAgICByZXN1bHQgPSBjYWxsYmFjayhyZXN1bHQsIGludihkYXRhW2ldKSwgOCk7XG4gIH1cblxuICAvLyBiaXRzIHRvIHJlYWQsIHRoYXQgYXJlIG5vdCBhIGNvbXBsZXRlIGJ5dGVcbiAgdmFyIGxhc3RCaXRzID0gKGJpdHMgKyBvZmZzZXQpICUgODtcbiAgaWYgKGxhc3RCaXRzID4gMCkge1xuICAgIHJlc3VsdCA9IGNhbGxiYWNrKHJlc3VsdCwgaW52KGRhdGFbYnl0ZXNdKSA+PiAoOCAtIGxhc3RCaXRzKSwgbGFzdEJpdHMpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciBwYXJzZUZsb2F0RnJvbUJpdHMgPSBmdW5jdGlvbihkYXRhLCBwcmVjaXNpb25CaXRzLCBleHBvbmVudEJpdHMpIHtcbiAgdmFyIGJpYXMgPSBNYXRoLnBvdygyLCBleHBvbmVudEJpdHMgLSAxKSAtIDE7XG4gIHZhciBzaWduID0gcGFyc2VCaXRzKGRhdGEsIDEpO1xuICB2YXIgZXhwb25lbnQgPSBwYXJzZUJpdHMoZGF0YSwgZXhwb25lbnRCaXRzLCAxKTtcblxuICBpZiAoZXhwb25lbnQgPT09IDApIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIC8vIHBhcnNlIG1hbnRpc3NhXG4gIHZhciBwcmVjaXNpb25CaXRzQ291bnRlciA9IDE7XG4gIHZhciBwYXJzZVByZWNpc2lvbkJpdHMgPSBmdW5jdGlvbihsYXN0VmFsdWUsIG5ld1ZhbHVlLCBiaXRzKSB7XG4gICAgaWYgKGxhc3RWYWx1ZSA9PT0gMCkge1xuICAgICAgbGFzdFZhbHVlID0gMTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBiaXRzOyBpKyspIHtcbiAgICAgIHByZWNpc2lvbkJpdHNDb3VudGVyIC89IDI7XG4gICAgICBpZiAoKG5ld1ZhbHVlICYgKDB4MSA8PCAoYml0cyAtIGkpKSkgPiAwKSB7XG4gICAgICAgIGxhc3RWYWx1ZSArPSBwcmVjaXNpb25CaXRzQ291bnRlcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGFzdFZhbHVlO1xuICB9O1xuXG4gIHZhciBtYW50aXNzYSA9IHBhcnNlQml0cyhkYXRhLCBwcmVjaXNpb25CaXRzLCBleHBvbmVudEJpdHMgKyAxLCBmYWxzZSwgcGFyc2VQcmVjaXNpb25CaXRzKTtcblxuICAvLyBzcGVjaWFsIGNhc2VzXG4gIGlmIChleHBvbmVudCA9PSAoTWF0aC5wb3coMiwgZXhwb25lbnRCaXRzICsgMSkgLSAxKSkge1xuICAgIGlmIChtYW50aXNzYSA9PT0gMCkge1xuICAgICAgcmV0dXJuIChzaWduID09PSAwKSA/IEluZmluaXR5IDogLUluZmluaXR5O1xuICAgIH1cblxuICAgIHJldHVybiBOYU47XG4gIH1cblxuICAvLyBub3JtYWxlIG51bWJlclxuICByZXR1cm4gKChzaWduID09PSAwKSA/IDEgOiAtMSkgKiBNYXRoLnBvdygyLCBleHBvbmVudCAtIGJpYXMpICogbWFudGlzc2E7XG59O1xuXG52YXIgcGFyc2VJbnQxNiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIGlmIChwYXJzZUJpdHModmFsdWUsIDEpID09IDEpIHtcbiAgICByZXR1cm4gLTEgKiAocGFyc2VCaXRzKHZhbHVlLCAxNSwgMSwgdHJ1ZSkgKyAxKTtcbiAgfVxuXG4gIHJldHVybiBwYXJzZUJpdHModmFsdWUsIDE1LCAxKTtcbn07XG5cbnZhciBwYXJzZUludDMyID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKHBhcnNlQml0cyh2YWx1ZSwgMSkgPT0gMSkge1xuICAgIHJldHVybiAtMSAqIChwYXJzZUJpdHModmFsdWUsIDMxLCAxLCB0cnVlKSArIDEpO1xuICB9XG5cbiAgcmV0dXJuIHBhcnNlQml0cyh2YWx1ZSwgMzEsIDEpO1xufTtcblxudmFyIHBhcnNlRmxvYXQzMiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBwYXJzZUZsb2F0RnJvbUJpdHModmFsdWUsIDIzLCA4KTtcbn07XG5cbnZhciBwYXJzZUZsb2F0NjQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gcGFyc2VGbG9hdEZyb21CaXRzKHZhbHVlLCA1MiwgMTEpO1xufTtcblxudmFyIHBhcnNlTnVtZXJpYyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBzaWduID0gcGFyc2VCaXRzKHZhbHVlLCAxNiwgMzIpO1xuICBpZiAoc2lnbiA9PSAweGMwMDApIHtcbiAgICByZXR1cm4gTmFOO1xuICB9XG5cbiAgdmFyIHdlaWdodCA9IE1hdGgucG93KDEwMDAwLCBwYXJzZUJpdHModmFsdWUsIDE2LCAxNikpO1xuICB2YXIgcmVzdWx0ID0gMDtcblxuICB2YXIgZGlnaXRzID0gW107XG4gIHZhciBuZGlnaXRzID0gcGFyc2VCaXRzKHZhbHVlLCAxNik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbmRpZ2l0czsgaSsrKSB7XG4gICAgcmVzdWx0ICs9IHBhcnNlQml0cyh2YWx1ZSwgMTYsIDY0ICsgKDE2ICogaSkpICogd2VpZ2h0O1xuICAgIHdlaWdodCAvPSAxMDAwMDtcbiAgfVxuXG4gIHZhciBzY2FsZSA9IE1hdGgucG93KDEwLCBwYXJzZUJpdHModmFsdWUsIDE2LCA0OCkpO1xuICByZXR1cm4gKChzaWduID09PSAwKSA/IDEgOiAtMSkgKiBNYXRoLnJvdW5kKHJlc3VsdCAqIHNjYWxlKSAvIHNjYWxlO1xufTtcblxudmFyIHBhcnNlRGF0ZSA9IGZ1bmN0aW9uKGlzVVRDLCB2YWx1ZSkge1xuICB2YXIgc2lnbiA9IHBhcnNlQml0cyh2YWx1ZSwgMSk7XG4gIHZhciByYXdWYWx1ZSA9IHBhcnNlQml0cyh2YWx1ZSwgNjMsIDEpO1xuXG4gIC8vIGRpc2NhcmQgdXNlY3MgYW5kIHNoaWZ0IGZyb20gMjAwMCB0byAxOTcwXG4gIHZhciByZXN1bHQgPSBuZXcgRGF0ZSgoKChzaWduID09PSAwKSA/IDEgOiAtMSkgKiByYXdWYWx1ZSAvIDEwMDApICsgOTQ2Njg0ODAwMDAwKTtcblxuICBpZiAoIWlzVVRDKSB7XG4gICAgcmVzdWx0LnNldFRpbWUocmVzdWx0LmdldFRpbWUoKSArIHJlc3VsdC5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDApO1xuICB9XG5cbiAgLy8gYWRkIG1pY3Jvc2Vjb25kcyB0byB0aGUgZGF0ZVxuICByZXN1bHQudXNlYyA9IHJhd1ZhbHVlICUgMTAwMDtcbiAgcmVzdWx0LmdldE1pY3JvU2Vjb25kcyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnVzZWM7XG4gIH07XG4gIHJlc3VsdC5zZXRNaWNyb1NlY29uZHMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHRoaXMudXNlYyA9IHZhbHVlO1xuICB9O1xuICByZXN1bHQuZ2V0VVRDTWljcm9TZWNvbmRzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlYztcbiAgfTtcblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIHBhcnNlQXJyYXkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICB2YXIgZGltID0gcGFyc2VCaXRzKHZhbHVlLCAzMik7XG5cbiAgdmFyIGZsYWdzID0gcGFyc2VCaXRzKHZhbHVlLCAzMiwgMzIpO1xuICB2YXIgZWxlbWVudFR5cGUgPSBwYXJzZUJpdHModmFsdWUsIDMyLCA2NCk7XG5cbiAgdmFyIG9mZnNldCA9IDk2O1xuICB2YXIgZGltcyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGRpbTsgaSsrKSB7XG4gICAgLy8gcGFyc2UgZGltZW5zaW9uXG4gICAgZGltc1tpXSA9IHBhcnNlQml0cyh2YWx1ZSwgMzIsIG9mZnNldCk7XG4gICAgb2Zmc2V0ICs9IDMyO1xuXG4gICAgLy8gaWdub3JlIGxvd2VyIGJvdW5kc1xuICAgIG9mZnNldCArPSAzMjtcbiAgfVxuXG4gIHZhciBwYXJzZUVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50VHlwZSkge1xuICAgIC8vIHBhcnNlIGNvbnRlbnQgbGVuZ3RoXG4gICAgdmFyIGxlbmd0aCA9IHBhcnNlQml0cyh2YWx1ZSwgMzIsIG9mZnNldCk7XG4gICAgb2Zmc2V0ICs9IDMyO1xuXG4gICAgLy8gcGFyc2UgbnVsbCB2YWx1ZXNcbiAgICBpZiAobGVuZ3RoID09IDB4ZmZmZmZmZmYpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciByZXN1bHQ7XG4gICAgaWYgKChlbGVtZW50VHlwZSA9PSAweDE3KSB8fCAoZWxlbWVudFR5cGUgPT0gMHgxNCkpIHtcbiAgICAgIC8vIGludC9iaWdpbnRcbiAgICAgIHJlc3VsdCA9IHBhcnNlQml0cyh2YWx1ZSwgbGVuZ3RoICogOCwgb2Zmc2V0KTtcbiAgICAgIG9mZnNldCArPSBsZW5ndGggKiA4O1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZWxzZSBpZiAoZWxlbWVudFR5cGUgPT0gMHgxOSkge1xuICAgICAgLy8gc3RyaW5nXG4gICAgICByZXN1bHQgPSB2YWx1ZS50b1N0cmluZyh0aGlzLmVuY29kaW5nLCBvZmZzZXQgPj4gMywgKG9mZnNldCArPSAobGVuZ3RoIDw8IDMpKSA+PiAzKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coXCJFUlJPUjogRWxlbWVudFR5cGUgbm90IGltcGxlbWVudGVkOiBcIiArIGVsZW1lbnRUeXBlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHBhcnNlID0gZnVuY3Rpb24oZGltZW5zaW9uLCBlbGVtZW50VHlwZSkge1xuICAgIHZhciBhcnJheSA9IFtdO1xuICAgIHZhciBpO1xuXG4gICAgaWYgKGRpbWVuc2lvbi5sZW5ndGggPiAxKSB7XG4gICAgICB2YXIgY291bnQgPSBkaW1lbnNpb24uc2hpZnQoKTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgIGFycmF5W2ldID0gcGFyc2UoZGltZW5zaW9uLCBlbGVtZW50VHlwZSk7XG4gICAgICB9XG4gICAgICBkaW1lbnNpb24udW5zaGlmdChjb3VudCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZm9yIChpID0gMDsgaSA8IGRpbWVuc2lvblswXTsgaSsrKSB7XG4gICAgICAgIGFycmF5W2ldID0gcGFyc2VFbGVtZW50KGVsZW1lbnRUeXBlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYXJyYXk7XG4gIH07XG5cbiAgcmV0dXJuIHBhcnNlKGRpbXMsIGVsZW1lbnRUeXBlKTtcbn07XG5cbnZhciBwYXJzZVRleHQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUudG9TdHJpbmcoJ3V0ZjgnKTtcbn07XG5cbnZhciBwYXJzZUJvb2wgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpZih2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gIHJldHVybiAocGFyc2VCaXRzKHZhbHVlLCA4KSA+IDApO1xufTtcblxudmFyIGluaXQgPSBmdW5jdGlvbihyZWdpc3Rlcikge1xuICByZWdpc3RlcigyMCwgcGFyc2VJbnQ2NCk7XG4gIHJlZ2lzdGVyKDIxLCBwYXJzZUludDE2KTtcbiAgcmVnaXN0ZXIoMjMsIHBhcnNlSW50MzIpO1xuICByZWdpc3RlcigyNiwgcGFyc2VJbnQzMik7XG4gIHJlZ2lzdGVyKDE3MDAsIHBhcnNlTnVtZXJpYyk7XG4gIHJlZ2lzdGVyKDcwMCwgcGFyc2VGbG9hdDMyKTtcbiAgcmVnaXN0ZXIoNzAxLCBwYXJzZUZsb2F0NjQpO1xuICByZWdpc3RlcigxNiwgcGFyc2VCb29sKTtcbiAgcmVnaXN0ZXIoMTExNCwgcGFyc2VEYXRlLmJpbmQobnVsbCwgZmFsc2UpKTtcbiAgcmVnaXN0ZXIoMTE4NCwgcGFyc2VEYXRlLmJpbmQobnVsbCwgdHJ1ZSkpO1xuICByZWdpc3RlcigxMDAwLCBwYXJzZUFycmF5KTtcbiAgcmVnaXN0ZXIoMTAwNywgcGFyc2VBcnJheSk7XG4gIHJlZ2lzdGVyKDEwMTYsIHBhcnNlQXJyYXkpO1xuICByZWdpc3RlcigxMDA4LCBwYXJzZUFycmF5KTtcbiAgcmVnaXN0ZXIoMTAwOSwgcGFyc2VBcnJheSk7XG4gIHJlZ2lzdGVyKDI1LCBwYXJzZVRleHQpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGluaXQ6IGluaXRcbn07XG4iLCAiLyoqXG4gKiBGb2xsb3dpbmcgcXVlcnkgd2FzIHVzZWQgdG8gZ2VuZXJhdGUgdGhpcyBmaWxlOlxuXG4gU0VMRUNUIGpzb25fb2JqZWN0X2FnZyhVUFBFUihQVC50eXBuYW1lKSwgUFQub2lkOjppbnQ0IE9SREVSIEJZIHB0Lm9pZClcbiBGUk9NIHBnX3R5cGUgUFRcbiBXSEVSRSB0eXBuYW1lc3BhY2UgPSAoU0VMRUNUIHBnbi5vaWQgRlJPTSBwZ19uYW1lc3BhY2UgcGduIFdIRVJFIG5zcG5hbWUgPSAncGdfY2F0YWxvZycpIC0tIFRha2Ugb25seSBidWlsdGluZyBQb3N0Z3JlcyB0eXBlcyB3aXRoIHN0YWJsZSBPSUQgKGV4dGVuc2lvbiB0eXBlcyBhcmUgbm90IGd1YXJhbnRlZCB0byBiZSBzdGFibGUpXG4gQU5EIHR5cHR5cGUgPSAnYicgLS0gT25seSBiYXNpYyB0eXBlc1xuIEFORCB0eXBlbGVtID0gMCAtLSBJZ25vcmUgYWxpYXNlc1xuIEFORCB0eXBpc2RlZmluZWQgLS0gSWdub3JlIHVuZGVmaW5lZCB0eXBlc1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIEJPT0w6IDE2LFxuICAgIEJZVEVBOiAxNyxcbiAgICBDSEFSOiAxOCxcbiAgICBJTlQ4OiAyMCxcbiAgICBJTlQyOiAyMSxcbiAgICBJTlQ0OiAyMyxcbiAgICBSRUdQUk9DOiAyNCxcbiAgICBURVhUOiAyNSxcbiAgICBPSUQ6IDI2LFxuICAgIFRJRDogMjcsXG4gICAgWElEOiAyOCxcbiAgICBDSUQ6IDI5LFxuICAgIEpTT046IDExNCxcbiAgICBYTUw6IDE0MixcbiAgICBQR19OT0RFX1RSRUU6IDE5NCxcbiAgICBTTUdSOiAyMTAsXG4gICAgUEFUSDogNjAyLFxuICAgIFBPTFlHT046IDYwNCxcbiAgICBDSURSOiA2NTAsXG4gICAgRkxPQVQ0OiA3MDAsXG4gICAgRkxPQVQ4OiA3MDEsXG4gICAgQUJTVElNRTogNzAyLFxuICAgIFJFTFRJTUU6IDcwMyxcbiAgICBUSU5URVJWQUw6IDcwNCxcbiAgICBDSVJDTEU6IDcxOCxcbiAgICBNQUNBRERSODogNzc0LFxuICAgIE1PTkVZOiA3OTAsXG4gICAgTUFDQUREUjogODI5LFxuICAgIElORVQ6IDg2OSxcbiAgICBBQ0xJVEVNOiAxMDMzLFxuICAgIEJQQ0hBUjogMTA0MixcbiAgICBWQVJDSEFSOiAxMDQzLFxuICAgIERBVEU6IDEwODIsXG4gICAgVElNRTogMTA4MyxcbiAgICBUSU1FU1RBTVA6IDExMTQsXG4gICAgVElNRVNUQU1QVFo6IDExODQsXG4gICAgSU5URVJWQUw6IDExODYsXG4gICAgVElNRVRaOiAxMjY2LFxuICAgIEJJVDogMTU2MCxcbiAgICBWQVJCSVQ6IDE1NjIsXG4gICAgTlVNRVJJQzogMTcwMCxcbiAgICBSRUZDVVJTT1I6IDE3OTAsXG4gICAgUkVHUFJPQ0VEVVJFOiAyMjAyLFxuICAgIFJFR09QRVI6IDIyMDMsXG4gICAgUkVHT1BFUkFUT1I6IDIyMDQsXG4gICAgUkVHQ0xBU1M6IDIyMDUsXG4gICAgUkVHVFlQRTogMjIwNixcbiAgICBVVUlEOiAyOTUwLFxuICAgIFRYSURfU05BUFNIT1Q6IDI5NzAsXG4gICAgUEdfTFNOOiAzMjIwLFxuICAgIFBHX05ESVNUSU5DVDogMzM2MSxcbiAgICBQR19ERVBFTkRFTkNJRVM6IDM0MDIsXG4gICAgVFNWRUNUT1I6IDM2MTQsXG4gICAgVFNRVUVSWTogMzYxNSxcbiAgICBHVFNWRUNUT1I6IDM2NDIsXG4gICAgUkVHQ09ORklHOiAzNzM0LFxuICAgIFJFR0RJQ1RJT05BUlk6IDM3NjksXG4gICAgSlNPTkI6IDM4MDIsXG4gICAgUkVHTkFNRVNQQUNFOiA0MDg5LFxuICAgIFJFR1JPTEU6IDQwOTZcbn07XG4iLCAidmFyIHRleHRQYXJzZXJzID0gcmVxdWlyZSgnLi9saWIvdGV4dFBhcnNlcnMnKTtcbnZhciBiaW5hcnlQYXJzZXJzID0gcmVxdWlyZSgnLi9saWIvYmluYXJ5UGFyc2VycycpO1xudmFyIGFycmF5UGFyc2VyID0gcmVxdWlyZSgnLi9saWIvYXJyYXlQYXJzZXInKTtcbnZhciBidWlsdGluVHlwZXMgPSByZXF1aXJlKCcuL2xpYi9idWlsdGlucycpO1xuXG5leHBvcnRzLmdldFR5cGVQYXJzZXIgPSBnZXRUeXBlUGFyc2VyO1xuZXhwb3J0cy5zZXRUeXBlUGFyc2VyID0gc2V0VHlwZVBhcnNlcjtcbmV4cG9ydHMuYXJyYXlQYXJzZXIgPSBhcnJheVBhcnNlcjtcbmV4cG9ydHMuYnVpbHRpbnMgPSBidWlsdGluVHlwZXM7XG5cbnZhciB0eXBlUGFyc2VycyA9IHtcbiAgdGV4dDoge30sXG4gIGJpbmFyeToge31cbn07XG5cbi8vdGhlIGVtcHR5IHBhcnNlIGZ1bmN0aW9uXG5mdW5jdGlvbiBub1BhcnNlICh2YWwpIHtcbiAgcmV0dXJuIFN0cmluZyh2YWwpO1xufTtcblxuLy9yZXR1cm5zIGEgZnVuY3Rpb24gdXNlZCB0byBjb252ZXJ0IGEgc3BlY2lmaWMgdHlwZSAoc3BlY2lmaWVkIGJ5XG4vL29pZCkgaW50byBhIHJlc3VsdCBqYXZhc2NyaXB0IHR5cGVcbi8vbm90ZTogdGhlIG9pZCBjYW4gYmUgb2J0YWluZWQgdmlhIHRoZSBmb2xsb3dpbmcgc3FsIHF1ZXJ5OlxuLy9TRUxFQ1Qgb2lkIEZST00gcGdfdHlwZSBXSEVSRSB0eXBuYW1lID0gJ1RZUEVfTkFNRV9IRVJFJztcbmZ1bmN0aW9uIGdldFR5cGVQYXJzZXIgKG9pZCwgZm9ybWF0KSB7XG4gIGZvcm1hdCA9IGZvcm1hdCB8fCAndGV4dCc7XG4gIGlmICghdHlwZVBhcnNlcnNbZm9ybWF0XSkge1xuICAgIHJldHVybiBub1BhcnNlO1xuICB9XG4gIHJldHVybiB0eXBlUGFyc2Vyc1tmb3JtYXRdW29pZF0gfHwgbm9QYXJzZTtcbn07XG5cbmZ1bmN0aW9uIHNldFR5cGVQYXJzZXIgKG9pZCwgZm9ybWF0LCBwYXJzZUZuKSB7XG4gIGlmKHR5cGVvZiBmb3JtYXQgPT0gJ2Z1bmN0aW9uJykge1xuICAgIHBhcnNlRm4gPSBmb3JtYXQ7XG4gICAgZm9ybWF0ID0gJ3RleHQnO1xuICB9XG4gIHR5cGVQYXJzZXJzW2Zvcm1hdF1bb2lkXSA9IHBhcnNlRm47XG59O1xuXG50ZXh0UGFyc2Vycy5pbml0KGZ1bmN0aW9uKG9pZCwgY29udmVydGVyKSB7XG4gIHR5cGVQYXJzZXJzLnRleHRbb2lkXSA9IGNvbnZlcnRlcjtcbn0pO1xuXG5iaW5hcnlQYXJzZXJzLmluaXQoZnVuY3Rpb24ob2lkLCBjb252ZXJ0ZXIpIHtcbiAgdHlwZVBhcnNlcnMuYmluYXJ5W29pZF0gPSBjb252ZXJ0ZXI7XG59KTtcbiIsICIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGRhdGFiYXNlIGhvc3QuIGRlZmF1bHRzIHRvIGxvY2FsaG9zdFxuICBob3N0OiAnbG9jYWxob3N0JyxcblxuICAvLyBkYXRhYmFzZSB1c2VyJ3MgbmFtZVxuICB1c2VyOiBwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInID8gcHJvY2Vzcy5lbnYuVVNFUk5BTUUgOiBwcm9jZXNzLmVudi5VU0VSLFxuXG4gIC8vIG5hbWUgb2YgZGF0YWJhc2UgdG8gY29ubmVjdFxuICBkYXRhYmFzZTogdW5kZWZpbmVkLFxuXG4gIC8vIGRhdGFiYXNlIHVzZXIncyBwYXNzd29yZFxuICBwYXNzd29yZDogbnVsbCxcblxuICAvLyBhIFBvc3RncmVzIGNvbm5lY3Rpb24gc3RyaW5nIHRvIGJlIHVzZWQgaW5zdGVhZCBvZiBzZXR0aW5nIGluZGl2aWR1YWwgY29ubmVjdGlvbiBpdGVtc1xuICAvLyBOT1RFOiAgU2V0dGluZyB0aGlzIHZhbHVlIHdpbGwgY2F1c2UgaXQgdG8gb3ZlcnJpZGUgYW55IG90aGVyIHZhbHVlIChzdWNoIGFzIGRhdGFiYXNlIG9yIHVzZXIpIGRlZmluZWRcbiAgLy8gaW4gdGhlIGRlZmF1bHRzIG9iamVjdC5cbiAgY29ubmVjdGlvblN0cmluZzogdW5kZWZpbmVkLFxuXG4gIC8vIGRhdGFiYXNlIHBvcnRcbiAgcG9ydDogNTQzMixcblxuICAvLyBudW1iZXIgb2Ygcm93cyB0byByZXR1cm4gYXQgYSB0aW1lIGZyb20gYSBwcmVwYXJlZCBzdGF0ZW1lbnQnc1xuICAvLyBwb3J0YWwuIDAgd2lsbCByZXR1cm4gYWxsIHJvd3MgYXQgb25jZVxuICByb3dzOiAwLFxuXG4gIC8vIGJpbmFyeSByZXN1bHQgbW9kZVxuICBiaW5hcnk6IGZhbHNlLFxuXG4gIC8vIENvbm5lY3Rpb24gcG9vbCBvcHRpb25zIC0gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9icmlhbmMvbm9kZS1wZy1wb29sXG5cbiAgLy8gbnVtYmVyIG9mIGNvbm5lY3Rpb25zIHRvIHVzZSBpbiBjb25uZWN0aW9uIHBvb2xcbiAgLy8gMCB3aWxsIGRpc2FibGUgY29ubmVjdGlvbiBwb29saW5nXG4gIG1heDogMTAsXG5cbiAgLy8gbWF4IG1pbGxpc2Vjb25kcyBhIGNsaWVudCBjYW4gZ28gdW51c2VkIGJlZm9yZSBpdCBpcyByZW1vdmVkXG4gIC8vIGZyb20gdGhlIHBvb2wgYW5kIGRlc3Ryb3llZFxuICBpZGxlVGltZW91dE1pbGxpczogMzAwMDAsXG5cbiAgY2xpZW50X2VuY29kaW5nOiAnJyxcblxuICBzc2w6IGZhbHNlLFxuXG4gIGFwcGxpY2F0aW9uX25hbWU6IHVuZGVmaW5lZCxcblxuICBmYWxsYmFja19hcHBsaWNhdGlvbl9uYW1lOiB1bmRlZmluZWQsXG5cbiAgb3B0aW9uczogdW5kZWZpbmVkLFxuXG4gIHBhcnNlSW5wdXREYXRlc0FzVVRDOiBmYWxzZSxcblxuICAvLyBtYXggbWlsbGlzZWNvbmRzIGFueSBxdWVyeSB1c2luZyB0aGlzIGNvbm5lY3Rpb24gd2lsbCBleGVjdXRlIGZvciBiZWZvcmUgdGltaW5nIG91dCBpbiBlcnJvci5cbiAgLy8gZmFsc2U9dW5saW1pdGVkXG4gIHN0YXRlbWVudF90aW1lb3V0OiBmYWxzZSxcblxuICAvLyBBYm9ydCBhbnkgc3RhdGVtZW50IHRoYXQgd2FpdHMgbG9uZ2VyIHRoYW4gdGhlIHNwZWNpZmllZCBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMgd2hpbGUgYXR0ZW1wdGluZyB0byBhY3F1aXJlIGEgbG9jay5cbiAgLy8gZmFsc2U9dW5saW1pdGVkXG4gIGxvY2tfdGltZW91dDogZmFsc2UsXG5cbiAgLy8gVGVybWluYXRlIGFueSBzZXNzaW9uIHdpdGggYW4gb3BlbiB0cmFuc2FjdGlvbiB0aGF0IGhhcyBiZWVuIGlkbGUgZm9yIGxvbmdlciB0aGFuIHRoZSBzcGVjaWZpZWQgZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzXG4gIC8vIGZhbHNlPXVubGltaXRlZFxuICBpZGxlX2luX3RyYW5zYWN0aW9uX3Nlc3Npb25fdGltZW91dDogZmFsc2UsXG5cbiAgLy8gbWF4IG1pbGxpc2Vjb25kcyB0byB3YWl0IGZvciBxdWVyeSB0byBjb21wbGV0ZSAoY2xpZW50IHNpZGUpXG4gIHF1ZXJ5X3RpbWVvdXQ6IGZhbHNlLFxuXG4gIGNvbm5lY3RfdGltZW91dDogMCxcblxuICBrZWVwYWxpdmVzOiAxLFxuXG4gIGtlZXBhbGl2ZXNfaWRsZTogMCxcbn1cblxuY29uc3QgcGdUeXBlcyA9IHJlcXVpcmUoJ3BnLXR5cGVzJylcbi8vIHNhdmUgZGVmYXVsdCBwYXJzZXJzXG5jb25zdCBwYXJzZUJpZ0ludGVnZXIgPSBwZ1R5cGVzLmdldFR5cGVQYXJzZXIoMjAsICd0ZXh0JylcbmNvbnN0IHBhcnNlQmlnSW50ZWdlckFycmF5ID0gcGdUeXBlcy5nZXRUeXBlUGFyc2VyKDEwMTYsICd0ZXh0JylcblxuLy8gcGFyc2UgaW50OCBzbyB5b3UgY2FuIGdldCB5b3VyIGNvdW50IHZhbHVlcyBhcyBhY3R1YWwgbnVtYmVyc1xubW9kdWxlLmV4cG9ydHMuX19kZWZpbmVTZXR0ZXJfXygncGFyc2VJbnQ4JywgZnVuY3Rpb24gKHZhbCkge1xuICBwZ1R5cGVzLnNldFR5cGVQYXJzZXIoMjAsICd0ZXh0JywgdmFsID8gcGdUeXBlcy5nZXRUeXBlUGFyc2VyKDIzLCAndGV4dCcpIDogcGFyc2VCaWdJbnRlZ2VyKVxuICBwZ1R5cGVzLnNldFR5cGVQYXJzZXIoMTAxNiwgJ3RleHQnLCB2YWwgPyBwZ1R5cGVzLmdldFR5cGVQYXJzZXIoMTAwNywgJ3RleHQnKSA6IHBhcnNlQmlnSW50ZWdlckFycmF5KVxufSlcbiIsICIndXNlIHN0cmljdCdcblxuY29uc3QgZGVmYXVsdHMgPSByZXF1aXJlKCcuL2RlZmF1bHRzJylcblxuY29uc3QgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKVxuY29uc3QgeyBpc0RhdGUgfSA9IHV0aWwudHlwZXMgfHwgdXRpbCAvLyBOb2RlIDggZG9lc24ndCBoYXZlIGB1dGlsLnR5cGVzYFxuXG5mdW5jdGlvbiBlc2NhcGVFbGVtZW50KGVsZW1lbnRSZXByZXNlbnRhdGlvbikge1xuICBjb25zdCBlc2NhcGVkID0gZWxlbWVudFJlcHJlc2VudGF0aW9uLnJlcGxhY2UoL1xcXFwvZywgJ1xcXFxcXFxcJykucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpXG5cbiAgcmV0dXJuICdcIicgKyBlc2NhcGVkICsgJ1wiJ1xufVxuXG4vLyBjb252ZXJ0IGEgSlMgYXJyYXkgdG8gYSBwb3N0Z3JlcyBhcnJheSBsaXRlcmFsXG4vLyB1c2VzIGNvbW1hIHNlcGFyYXRvciBzbyB3b24ndCB3b3JrIGZvciB0eXBlcyBsaWtlIGJveCB0aGF0IHVzZVxuLy8gYSBkaWZmZXJlbnQgYXJyYXkgc2VwYXJhdG9yLlxuZnVuY3Rpb24gYXJyYXlTdHJpbmcodmFsKSB7XG4gIGxldCByZXN1bHQgPSAneydcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWwubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaSA+IDApIHtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdCArICcsJ1xuICAgIH1cbiAgICBpZiAodmFsW2ldID09PSBudWxsIHx8IHR5cGVvZiB2YWxbaV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXN1bHQgPSByZXN1bHQgKyAnTlVMTCdcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsW2ldKSkge1xuICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgYXJyYXlTdHJpbmcodmFsW2ldKVxuICAgIH0gZWxzZSBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KHZhbFtpXSkpIHtcbiAgICAgIGxldCBpdGVtID0gdmFsW2ldXG4gICAgICBpZiAoIShpdGVtIGluc3RhbmNlb2YgQnVmZmVyKSkge1xuICAgICAgICBjb25zdCBidWYgPSBCdWZmZXIuZnJvbShpdGVtLmJ1ZmZlciwgaXRlbS5ieXRlT2Zmc2V0LCBpdGVtLmJ5dGVMZW5ndGgpXG4gICAgICAgIGlmIChidWYubGVuZ3RoID09PSBpdGVtLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICBpdGVtID0gYnVmXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbSA9IGJ1Zi5zbGljZShpdGVtLmJ5dGVPZmZzZXQsIGl0ZW0uYnl0ZU9mZnNldCArIGl0ZW0uYnl0ZUxlbmd0aClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVzdWx0ICs9ICdcXFxcXFxcXHgnICsgaXRlbS50b1N0cmluZygnaGV4JylcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ICs9IGVzY2FwZUVsZW1lbnQocHJlcGFyZVZhbHVlKHZhbFtpXSkpXG4gICAgfVxuICB9XG4gIHJlc3VsdCA9IHJlc3VsdCArICd9J1xuICByZXR1cm4gcmVzdWx0XG59XG5cbi8vIGNvbnZlcnRzIHZhbHVlcyBmcm9tIGphdmFzY3JpcHQgdHlwZXNcbi8vIHRvIHRoZWlyICdyYXcnIGNvdW50ZXJwYXJ0cyBmb3IgdXNlIGFzIGEgcG9zdGdyZXMgcGFyYW1ldGVyXG4vLyBub3RlOiB5b3UgY2FuIG92ZXJyaWRlIHRoaXMgZnVuY3Rpb24gdG8gcHJvdmlkZSB5b3VyIG93biBjb252ZXJzaW9uIG1lY2hhbmlzbVxuLy8gZm9yIGNvbXBsZXggdHlwZXMsIGV0Yy4uLlxuY29uc3QgcHJlcGFyZVZhbHVlID0gZnVuY3Rpb24gKHZhbCwgc2Vlbikge1xuICAvLyBudWxsIGFuZCB1bmRlZmluZWQgYXJlIGJvdGggbnVsbCBmb3IgcG9zdGdyZXNcbiAgaWYgKHZhbCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICBpZiAodmFsIGluc3RhbmNlb2YgQnVmZmVyKSB7XG4gICAgICByZXR1cm4gdmFsXG4gICAgfVxuICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcodmFsKSkge1xuICAgICAgY29uc3QgYnVmID0gQnVmZmVyLmZyb20odmFsLmJ1ZmZlciwgdmFsLmJ5dGVPZmZzZXQsIHZhbC5ieXRlTGVuZ3RoKVxuICAgICAgaWYgKGJ1Zi5sZW5ndGggPT09IHZhbC5ieXRlTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBidWZcbiAgICAgIH1cbiAgICAgIHJldHVybiBidWYuc2xpY2UodmFsLmJ5dGVPZmZzZXQsIHZhbC5ieXRlT2Zmc2V0ICsgdmFsLmJ5dGVMZW5ndGgpIC8vIE5vZGUuanMgdjQgZG9lcyBub3Qgc3VwcG9ydCB0aG9zZSBCdWZmZXIuZnJvbSBwYXJhbXNcbiAgICB9XG4gICAgaWYgKGlzRGF0ZSh2YWwpKSB7XG4gICAgICBpZiAoZGVmYXVsdHMucGFyc2VJbnB1dERhdGVzQXNVVEMpIHtcbiAgICAgICAgcmV0dXJuIGRhdGVUb1N0cmluZ1VUQyh2YWwpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZGF0ZVRvU3RyaW5nKHZhbClcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgICAgcmV0dXJuIGFycmF5U3RyaW5nKHZhbClcbiAgICB9XG5cbiAgICByZXR1cm4gcHJlcGFyZU9iamVjdCh2YWwsIHNlZW4pXG4gIH1cbiAgcmV0dXJuIHZhbC50b1N0cmluZygpXG59XG5cbmZ1bmN0aW9uIHByZXBhcmVPYmplY3QodmFsLCBzZWVuKSB7XG4gIGlmICh2YWwgJiYgdHlwZW9mIHZhbC50b1Bvc3RncmVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgc2VlbiA9IHNlZW4gfHwgW11cbiAgICBpZiAoc2Vlbi5pbmRleE9mKHZhbCkgIT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NpcmN1bGFyIHJlZmVyZW5jZSBkZXRlY3RlZCB3aGlsZSBwcmVwYXJpbmcgXCInICsgdmFsICsgJ1wiIGZvciBxdWVyeScpXG4gICAgfVxuICAgIHNlZW4ucHVzaCh2YWwpXG5cbiAgICByZXR1cm4gcHJlcGFyZVZhbHVlKHZhbC50b1Bvc3RncmVzKHByZXBhcmVWYWx1ZSksIHNlZW4pXG4gIH1cbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbClcbn1cblxuZnVuY3Rpb24gZGF0ZVRvU3RyaW5nKGRhdGUpIHtcbiAgbGV0IG9mZnNldCA9IC1kYXRlLmdldFRpbWV6b25lT2Zmc2V0KClcblxuICBsZXQgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKVxuICBjb25zdCBpc0JDWWVhciA9IHllYXIgPCAxXG4gIGlmIChpc0JDWWVhcikgeWVhciA9IE1hdGguYWJzKHllYXIpICsgMSAvLyBuZWdhdGl2ZSB5ZWFycyBhcmUgMSBvZmYgdGhlaXIgQkMgcmVwcmVzZW50YXRpb25cblxuICBsZXQgcmV0ID1cbiAgICBTdHJpbmcoeWVhcikucGFkU3RhcnQoNCwgJzAnKSArXG4gICAgJy0nICtcbiAgICBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKSArXG4gICAgJy0nICtcbiAgICBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJykgK1xuICAgICdUJyArXG4gICAgU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgJzAnKSArXG4gICAgJzonICtcbiAgICBTdHJpbmcoZGF0ZS5nZXRNaW51dGVzKCkpLnBhZFN0YXJ0KDIsICcwJykgK1xuICAgICc6JyArXG4gICAgU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCAnMCcpICtcbiAgICAnLicgK1xuICAgIFN0cmluZyhkYXRlLmdldE1pbGxpc2Vjb25kcygpKS5wYWRTdGFydCgzLCAnMCcpXG5cbiAgaWYgKG9mZnNldCA8IDApIHtcbiAgICByZXQgKz0gJy0nXG4gICAgb2Zmc2V0ICo9IC0xXG4gIH0gZWxzZSB7XG4gICAgcmV0ICs9ICcrJ1xuICB9XG5cbiAgcmV0ICs9IFN0cmluZyhNYXRoLmZsb29yKG9mZnNldCAvIDYwKSkucGFkU3RhcnQoMiwgJzAnKSArICc6JyArIFN0cmluZyhvZmZzZXQgJSA2MCkucGFkU3RhcnQoMiwgJzAnKVxuICBpZiAoaXNCQ1llYXIpIHJldCArPSAnIEJDJ1xuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGRhdGVUb1N0cmluZ1VUQyhkYXRlKSB7XG4gIGxldCB5ZWFyID0gZGF0ZS5nZXRVVENGdWxsWWVhcigpXG4gIGNvbnN0IGlzQkNZZWFyID0geWVhciA8IDFcbiAgaWYgKGlzQkNZZWFyKSB5ZWFyID0gTWF0aC5hYnMoeWVhcikgKyAxIC8vIG5lZ2F0aXZlIHllYXJzIGFyZSAxIG9mZiB0aGVpciBCQyByZXByZXNlbnRhdGlvblxuXG4gIGxldCByZXQgPVxuICAgIFN0cmluZyh5ZWFyKS5wYWRTdGFydCg0LCAnMCcpICtcbiAgICAnLScgK1xuICAgIFN0cmluZyhkYXRlLmdldFVUQ01vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpICtcbiAgICAnLScgK1xuICAgIFN0cmluZyhkYXRlLmdldFVUQ0RhdGUoKSkucGFkU3RhcnQoMiwgJzAnKSArXG4gICAgJ1QnICtcbiAgICBTdHJpbmcoZGF0ZS5nZXRVVENIb3VycygpKS5wYWRTdGFydCgyLCAnMCcpICtcbiAgICAnOicgK1xuICAgIFN0cmluZyhkYXRlLmdldFVUQ01pbnV0ZXMoKSkucGFkU3RhcnQoMiwgJzAnKSArXG4gICAgJzonICtcbiAgICBTdHJpbmcoZGF0ZS5nZXRVVENTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsICcwJykgK1xuICAgICcuJyArXG4gICAgU3RyaW5nKGRhdGUuZ2V0VVRDTWlsbGlzZWNvbmRzKCkpLnBhZFN0YXJ0KDMsICcwJylcblxuICByZXQgKz0gJyswMDowMCdcbiAgaWYgKGlzQkNZZWFyKSByZXQgKz0gJyBCQydcbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVRdWVyeUNvbmZpZyhjb25maWcsIHZhbHVlcywgY2FsbGJhY2spIHtcbiAgLy8gY2FuIHRha2UgaW4gc3RyaW5ncyBvciBjb25maWcgb2JqZWN0c1xuICBjb25maWcgPSB0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJyA/IHsgdGV4dDogY29uZmlnIH0gOiBjb25maWdcbiAgaWYgKHZhbHVlcykge1xuICAgIGlmICh0eXBlb2YgdmFsdWVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb25maWcuY2FsbGJhY2sgPSB2YWx1ZXNcbiAgICB9IGVsc2Uge1xuICAgICAgY29uZmlnLnZhbHVlcyA9IHZhbHVlc1xuICAgIH1cbiAgfVxuICBpZiAoY2FsbGJhY2spIHtcbiAgICBjb25maWcuY2FsbGJhY2sgPSBjYWxsYmFja1xuICB9XG4gIHJldHVybiBjb25maWdcbn1cblxuLy8gUG9ydGVkIGZyb20gUG9zdGdyZVNRTCA5LjIuNCBzb3VyY2UgY29kZSBpbiBzcmMvaW50ZXJmYWNlcy9saWJwcS9mZS1leGVjLmNcbmNvbnN0IGVzY2FwZUlkZW50aWZpZXIgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHJldHVybiAnXCInICsgc3RyLnJlcGxhY2UoL1wiL2csICdcIlwiJykgKyAnXCInXG59XG5cbmNvbnN0IGVzY2FwZUxpdGVyYWwgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIGxldCBoYXNCYWNrc2xhc2ggPSBmYWxzZVxuICBsZXQgZXNjYXBlZCA9IFwiJ1wiXG5cbiAgaWYgKHN0ciA9PSBudWxsKSB7XG4gICAgcmV0dXJuIFwiJydcIlxuICB9XG5cbiAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIFwiJydcIlxuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjID0gc3RyW2ldXG4gICAgaWYgKGMgPT09IFwiJ1wiKSB7XG4gICAgICBlc2NhcGVkICs9IGMgKyBjXG4gICAgfSBlbHNlIGlmIChjID09PSAnXFxcXCcpIHtcbiAgICAgIGVzY2FwZWQgKz0gYyArIGNcbiAgICAgIGhhc0JhY2tzbGFzaCA9IHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgZXNjYXBlZCArPSBjXG4gICAgfVxuICB9XG5cbiAgZXNjYXBlZCArPSBcIidcIlxuXG4gIGlmIChoYXNCYWNrc2xhc2ggPT09IHRydWUpIHtcbiAgICBlc2NhcGVkID0gJyBFJyArIGVzY2FwZWRcbiAgfVxuXG4gIHJldHVybiBlc2NhcGVkXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBwcmVwYXJlVmFsdWU6IGZ1bmN0aW9uIHByZXBhcmVWYWx1ZVdyYXBwZXIodmFsdWUpIHtcbiAgICAvLyB0aGlzIGVuc3VyZXMgdGhhdCBleHRyYSBhcmd1bWVudHMgZG8gbm90IGdldCBwYXNzZWQgaW50byBwcmVwYXJlVmFsdWVcbiAgICAvLyBieSBhY2NpZGVudCwgZWc6IGZyb20gY2FsbGluZyB2YWx1ZXMubWFwKHV0aWxzLnByZXBhcmVWYWx1ZSlcbiAgICByZXR1cm4gcHJlcGFyZVZhbHVlKHZhbHVlKVxuICB9LFxuICBub3JtYWxpemVRdWVyeUNvbmZpZyxcbiAgZXNjYXBlSWRlbnRpZmllcixcbiAgZXNjYXBlTGl0ZXJhbCxcbn1cbiIsICIndXNlIHN0cmljdCdcbi8vIFRoaXMgZmlsZSBjb250YWlucyBjcnlwdG8gdXRpbGl0eSBmdW5jdGlvbnMgZm9yIHZlcnNpb25zIG9mIE5vZGUuanMgPCAxNS4wLjAsXG4vLyB3aGljaCBkb2VzIG5vdCBzdXBwb3J0IHRoZSBXZWJDcnlwdG8uc3VidGxlIEFQSS5cblxuY29uc3Qgbm9kZUNyeXB0byA9IHJlcXVpcmUoJ2NyeXB0bycpXG5cbmZ1bmN0aW9uIG1kNShzdHJpbmcpIHtcbiAgcmV0dXJuIG5vZGVDcnlwdG8uY3JlYXRlSGFzaCgnbWQ1JykudXBkYXRlKHN0cmluZywgJ3V0Zi04JykuZGlnZXN0KCdoZXgnKVxufVxuXG4vLyBTZWUgQXV0aGVudGljYXRpb25NRDVQYXNzd29yZCBhdCBodHRwczovL3d3dy5wb3N0Z3Jlc3FsLm9yZy9kb2NzL2N1cnJlbnQvc3RhdGljL3Byb3RvY29sLWZsb3cuaHRtbFxuZnVuY3Rpb24gcG9zdGdyZXNNZDVQYXNzd29yZEhhc2godXNlciwgcGFzc3dvcmQsIHNhbHQpIHtcbiAgY29uc3QgaW5uZXIgPSBtZDUocGFzc3dvcmQgKyB1c2VyKVxuICBjb25zdCBvdXRlciA9IG1kNShCdWZmZXIuY29uY2F0KFtCdWZmZXIuZnJvbShpbm5lciksIHNhbHRdKSlcbiAgcmV0dXJuICdtZDUnICsgb3V0ZXJcbn1cblxuZnVuY3Rpb24gc2hhMjU2KHRleHQpIHtcbiAgcmV0dXJuIG5vZGVDcnlwdG8uY3JlYXRlSGFzaCgnc2hhMjU2JykudXBkYXRlKHRleHQpLmRpZ2VzdCgpXG59XG5cbmZ1bmN0aW9uIGhhc2hCeU5hbWUoaGFzaE5hbWUsIHRleHQpIHtcbiAgaGFzaE5hbWUgPSBoYXNoTmFtZS5yZXBsYWNlKC8oXFxEKS0vLCAnJDEnKSAvLyBlLmcuIFNIQS0yNTYgLT4gU0hBMjU2XG4gIHJldHVybiBub2RlQ3J5cHRvLmNyZWF0ZUhhc2goaGFzaE5hbWUpLnVwZGF0ZSh0ZXh0KS5kaWdlc3QoKVxufVxuXG5mdW5jdGlvbiBobWFjU2hhMjU2KGtleSwgbXNnKSB7XG4gIHJldHVybiBub2RlQ3J5cHRvLmNyZWF0ZUhtYWMoJ3NoYTI1NicsIGtleSkudXBkYXRlKG1zZykuZGlnZXN0KClcbn1cblxuYXN5bmMgZnVuY3Rpb24gZGVyaXZlS2V5KHBhc3N3b3JkLCBzYWx0LCBpdGVyYXRpb25zKSB7XG4gIHJldHVybiBub2RlQ3J5cHRvLnBia2RmMlN5bmMocGFzc3dvcmQsIHNhbHQsIGl0ZXJhdGlvbnMsIDMyLCAnc2hhMjU2Jylcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHBvc3RncmVzTWQ1UGFzc3dvcmRIYXNoLFxuICByYW5kb21CeXRlczogbm9kZUNyeXB0by5yYW5kb21CeXRlcyxcbiAgZGVyaXZlS2V5LFxuICBzaGEyNTYsXG4gIGhhc2hCeU5hbWUsXG4gIGhtYWNTaGEyNTYsXG4gIG1kNSxcbn1cbiIsICJjb25zdCBub2RlQ3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvJylcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHBvc3RncmVzTWQ1UGFzc3dvcmRIYXNoLFxuICByYW5kb21CeXRlcyxcbiAgZGVyaXZlS2V5LFxuICBzaGEyNTYsXG4gIGhhc2hCeU5hbWUsXG4gIGhtYWNTaGEyNTYsXG4gIG1kNSxcbn1cblxuLyoqXG4gKiBUaGUgV2ViIENyeXB0byBBUEkgLSBncmFiYmVkIGZyb20gdGhlIE5vZGUuanMgbGlicmFyeSBvciB0aGUgZ2xvYmFsXG4gKiBAdHlwZSBDcnlwdG9cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5jb25zdCB3ZWJDcnlwdG8gPSBub2RlQ3J5cHRvLndlYmNyeXB0byB8fCBnbG9iYWxUaGlzLmNyeXB0b1xuLyoqXG4gKiBUaGUgU3VidGxlQ3J5cHRvIEFQSSBmb3IgbG93IGxldmVsIGNyeXB0byBvcGVyYXRpb25zLlxuICogQHR5cGUgU3VidGxlQ3J5cHRvXG4gKi9cbmNvbnN0IHN1YnRsZUNyeXB0byA9IHdlYkNyeXB0by5zdWJ0bGVcbmNvbnN0IHRleHRFbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKClcblxuLyoqXG4gKlxuICogQHBhcmFtIHsqfSBsZW5ndGhcbiAqIEByZXR1cm5zXG4gKi9cbmZ1bmN0aW9uIHJhbmRvbUJ5dGVzKGxlbmd0aCkge1xuICByZXR1cm4gd2ViQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyhCdWZmZXIuYWxsb2MobGVuZ3RoKSlcbn1cblxuYXN5bmMgZnVuY3Rpb24gbWQ1KHN0cmluZykge1xuICB0cnkge1xuICAgIHJldHVybiBub2RlQ3J5cHRvLmNyZWF0ZUhhc2goJ21kNScpLnVwZGF0ZShzdHJpbmcsICd1dGYtOCcpLmRpZ2VzdCgnaGV4JylcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIGBjcmVhdGVIYXNoKClgIGZhaWxlZCBzbyB3ZSBhcmUgcHJvYmFibHkgbm90IGluIE5vZGUuanMsIHVzZSB0aGUgV2ViQ3J5cHRvIEFQSSBpbnN0ZWFkLlxuICAgIC8vIE5vdGUgdGhhdCB0aGUgTUQ1IGFsZ29yaXRobSBvbiBXZWJDcnlwdG8gaXMgbm90IGF2YWlsYWJsZSBpbiBOb2RlLmpzLlxuICAgIC8vIFRoaXMgaXMgd2h5IHdlIGNhbm5vdCBqdXN0IHVzZSBXZWJDcnlwdG8gaW4gYWxsIGVudmlyb25tZW50cy5cbiAgICBjb25zdCBkYXRhID0gdHlwZW9mIHN0cmluZyA9PT0gJ3N0cmluZycgPyB0ZXh0RW5jb2Rlci5lbmNvZGUoc3RyaW5nKSA6IHN0cmluZ1xuICAgIGNvbnN0IGhhc2ggPSBhd2FpdCBzdWJ0bGVDcnlwdG8uZGlnZXN0KCdNRDUnLCBkYXRhKVxuICAgIHJldHVybiBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGhhc2gpKVxuICAgICAgLm1hcCgoYikgPT4gYi50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKSlcbiAgICAgIC5qb2luKCcnKVxuICB9XG59XG5cbi8vIFNlZSBBdXRoZW50aWNhdGlvbk1ENVBhc3N3b3JkIGF0IGh0dHBzOi8vd3d3LnBvc3RncmVzcWwub3JnL2RvY3MvY3VycmVudC9zdGF0aWMvcHJvdG9jb2wtZmxvdy5odG1sXG5hc3luYyBmdW5jdGlvbiBwb3N0Z3Jlc01kNVBhc3N3b3JkSGFzaCh1c2VyLCBwYXNzd29yZCwgc2FsdCkge1xuICBjb25zdCBpbm5lciA9IGF3YWl0IG1kNShwYXNzd29yZCArIHVzZXIpXG4gIGNvbnN0IG91dGVyID0gYXdhaXQgbWQ1KEJ1ZmZlci5jb25jYXQoW0J1ZmZlci5mcm9tKGlubmVyKSwgc2FsdF0pKVxuICByZXR1cm4gJ21kNScgKyBvdXRlclxufVxuXG4vKipcbiAqIENyZWF0ZSBhIFNIQS0yNTYgZGlnZXN0IG9mIHRoZSBnaXZlbiBkYXRhXG4gKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YVxuICovXG5hc3luYyBmdW5jdGlvbiBzaGEyNTYodGV4dCkge1xuICByZXR1cm4gYXdhaXQgc3VidGxlQ3J5cHRvLmRpZ2VzdCgnU0hBLTI1NicsIHRleHQpXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGhhc2hCeU5hbWUoaGFzaE5hbWUsIHRleHQpIHtcbiAgcmV0dXJuIGF3YWl0IHN1YnRsZUNyeXB0by5kaWdlc3QoaGFzaE5hbWUsIHRleHQpXG59XG5cbi8qKlxuICogU2lnbiB0aGUgbWVzc2FnZSB3aXRoIHRoZSBnaXZlbiBrZXlcbiAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGtleUJ1ZmZlclxuICogQHBhcmFtIHtzdHJpbmd9IG1zZ1xuICovXG5hc3luYyBmdW5jdGlvbiBobWFjU2hhMjU2KGtleUJ1ZmZlciwgbXNnKSB7XG4gIGNvbnN0IGtleSA9IGF3YWl0IHN1YnRsZUNyeXB0by5pbXBvcnRLZXkoJ3JhdycsIGtleUJ1ZmZlciwgeyBuYW1lOiAnSE1BQycsIGhhc2g6ICdTSEEtMjU2JyB9LCBmYWxzZSwgWydzaWduJ10pXG4gIHJldHVybiBhd2FpdCBzdWJ0bGVDcnlwdG8uc2lnbignSE1BQycsIGtleSwgdGV4dEVuY29kZXIuZW5jb2RlKG1zZykpXG59XG5cbi8qKlxuICogRGVyaXZlIGEga2V5IGZyb20gdGhlIHBhc3N3b3JkIGFuZCBzYWx0XG4gKiBAcGFyYW0ge3N0cmluZ30gcGFzc3dvcmRcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gc2FsdFxuICogQHBhcmFtIHtudW1iZXJ9IGl0ZXJhdGlvbnNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZGVyaXZlS2V5KHBhc3N3b3JkLCBzYWx0LCBpdGVyYXRpb25zKSB7XG4gIGNvbnN0IGtleSA9IGF3YWl0IHN1YnRsZUNyeXB0by5pbXBvcnRLZXkoJ3JhdycsIHRleHRFbmNvZGVyLmVuY29kZShwYXNzd29yZCksICdQQktERjInLCBmYWxzZSwgWydkZXJpdmVCaXRzJ10pXG4gIGNvbnN0IHBhcmFtcyA9IHsgbmFtZTogJ1BCS0RGMicsIGhhc2g6ICdTSEEtMjU2Jywgc2FsdDogc2FsdCwgaXRlcmF0aW9uczogaXRlcmF0aW9ucyB9XG4gIHJldHVybiBhd2FpdCBzdWJ0bGVDcnlwdG8uZGVyaXZlQml0cyhwYXJhbXMsIGtleSwgMzIgKiA4LCBbJ2Rlcml2ZUJpdHMnXSlcbn1cbiIsICIndXNlIHN0cmljdCdcblxuY29uc3QgdXNlTGVnYWN5Q3J5cHRvID0gcGFyc2VJbnQocHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGUgJiYgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlLnNwbGl0KCcuJylbMF0pIDwgMTVcbmlmICh1c2VMZWdhY3lDcnlwdG8pIHtcbiAgLy8gV2UgYXJlIG9uIGFuIG9sZCB2ZXJzaW9uIG9mIE5vZGUuanMgdGhhdCByZXF1aXJlcyBsZWdhY3kgY3J5cHRvIHV0aWxpdGllcy5cbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL3V0aWxzLWxlZ2FjeScpXG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vdXRpbHMtd2ViY3J5cHRvJylcbn1cbiIsICJmdW5jdGlvbiB4NTA5RXJyb3IobXNnLCBjZXJ0KSB7XG4gIHJldHVybiBuZXcgRXJyb3IoJ1NBU0wgY2hhbm5lbCBiaW5kaW5nOiAnICsgbXNnICsgJyB3aGVuIHBhcnNpbmcgcHVibGljIGNlcnRpZmljYXRlICcgKyBjZXJ0LnRvU3RyaW5nKCdiYXNlNjQnKSlcbn1cblxuZnVuY3Rpb24gcmVhZEFTTjFMZW5ndGgoZGF0YSwgaW5kZXgpIHtcbiAgbGV0IGxlbmd0aCA9IGRhdGFbaW5kZXgrK11cbiAgaWYgKGxlbmd0aCA8IDB4ODApIHJldHVybiB7IGxlbmd0aCwgaW5kZXggfVxuXG4gIGNvbnN0IGxlbmd0aEJ5dGVzID0gbGVuZ3RoICYgMHg3ZlxuICBpZiAobGVuZ3RoQnl0ZXMgPiA0KSB0aHJvdyB4NTA5RXJyb3IoJ2JhZCBsZW5ndGgnLCBkYXRhKVxuXG4gIGxlbmd0aCA9IDBcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGhCeXRlczsgaSsrKSB7XG4gICAgbGVuZ3RoID0gKGxlbmd0aCA8PCA4KSB8IGRhdGFbaW5kZXgrK11cbiAgfVxuXG4gIHJldHVybiB7IGxlbmd0aCwgaW5kZXggfVxufVxuXG5mdW5jdGlvbiByZWFkQVNOMU9JRChkYXRhLCBpbmRleCkge1xuICBpZiAoZGF0YVtpbmRleCsrXSAhPT0gMHg2KSB0aHJvdyB4NTA5RXJyb3IoJ25vbi1PSUQgZGF0YScsIGRhdGEpIC8vIDYgPSBPSURcblxuICBjb25zdCB7IGxlbmd0aDogT0lETGVuZ3RoLCBpbmRleDogaW5kZXhBZnRlck9JRExlbmd0aCB9ID0gcmVhZEFTTjFMZW5ndGgoZGF0YSwgaW5kZXgpXG4gIGluZGV4ID0gaW5kZXhBZnRlck9JRExlbmd0aFxuICBjb25zdCBsYXN0SW5kZXggPSBpbmRleCArIE9JRExlbmd0aFxuXG4gIGNvbnN0IGJ5dGUxID0gZGF0YVtpbmRleCsrXVxuICBsZXQgb2lkID0gKChieXRlMSAvIDQwKSA+PiAwKSArICcuJyArIChieXRlMSAlIDQwKVxuXG4gIHdoaWxlIChpbmRleCA8IGxhc3RJbmRleCkge1xuICAgIC8vIGxvb3Agb3ZlciBudW1iZXJzIGluIE9JRFxuICAgIGxldCB2YWx1ZSA9IDBcbiAgICB3aGlsZSAoaW5kZXggPCBsYXN0SW5kZXgpIHtcbiAgICAgIC8vIGxvb3Agb3ZlciBieXRlcyBpbiBudW1iZXJcbiAgICAgIGNvbnN0IG5leHRCeXRlID0gZGF0YVtpbmRleCsrXVxuICAgICAgdmFsdWUgPSAodmFsdWUgPDwgNykgfCAobmV4dEJ5dGUgJiAweDdmKVxuICAgICAgaWYgKG5leHRCeXRlIDwgMHg4MCkgYnJlYWtcbiAgICB9XG4gICAgb2lkICs9ICcuJyArIHZhbHVlXG4gIH1cblxuICByZXR1cm4geyBvaWQsIGluZGV4IH1cbn1cblxuZnVuY3Rpb24gZXhwZWN0QVNOMVNlcShkYXRhLCBpbmRleCkge1xuICBpZiAoZGF0YVtpbmRleCsrXSAhPT0gMHgzMCkgdGhyb3cgeDUwOUVycm9yKCdub24tc2VxdWVuY2UgZGF0YScsIGRhdGEpIC8vIDMwID0gU2VxdWVuY2VcbiAgcmV0dXJuIHJlYWRBU04xTGVuZ3RoKGRhdGEsIGluZGV4KVxufVxuXG5mdW5jdGlvbiBzaWduYXR1cmVBbGdvcml0aG1IYXNoRnJvbUNlcnRpZmljYXRlKGRhdGEsIGluZGV4KSB7XG4gIC8vIHJlYWQgdGhpcyB0aHJlYWQ6IGh0dHBzOi8vd3d3LnBvc3RncmVzcWwub3JnL21lc3NhZ2UtaWQvMTc3NjAtYjZjNjFlNzUyZWMwNzA2MCU0MHBvc3RncmVzcWwub3JnXG4gIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkKSBpbmRleCA9IDBcbiAgaW5kZXggPSBleHBlY3RBU04xU2VxKGRhdGEsIGluZGV4KS5pbmRleFxuICBjb25zdCB7IGxlbmd0aDogY2VydEluZm9MZW5ndGgsIGluZGV4OiBpbmRleEFmdGVyQ2VydEluZm9MZW5ndGggfSA9IGV4cGVjdEFTTjFTZXEoZGF0YSwgaW5kZXgpXG4gIGluZGV4ID0gaW5kZXhBZnRlckNlcnRJbmZvTGVuZ3RoICsgY2VydEluZm9MZW5ndGggLy8gc2tpcCBvdmVyIGNlcnRpZmljYXRlIGluZm9cbiAgaW5kZXggPSBleHBlY3RBU04xU2VxKGRhdGEsIGluZGV4KS5pbmRleCAvLyBza2lwIG92ZXIgc2lnbmF0dXJlIGxlbmd0aCBmaWVsZFxuICBjb25zdCB7IG9pZCwgaW5kZXg6IGluZGV4QWZ0ZXJPSUQgfSA9IHJlYWRBU04xT0lEKGRhdGEsIGluZGV4KVxuICBzd2l0Y2ggKG9pZCkge1xuICAgIC8vIFJTQVxuICAgIGNhc2UgJzEuMi44NDAuMTEzNTQ5LjEuMS40JzpcbiAgICAgIHJldHVybiAnTUQ1J1xuICAgIGNhc2UgJzEuMi44NDAuMTEzNTQ5LjEuMS41JzpcbiAgICAgIHJldHVybiAnU0hBLTEnXG4gICAgY2FzZSAnMS4yLjg0MC4xMTM1NDkuMS4xLjExJzpcbiAgICAgIHJldHVybiAnU0hBLTI1NidcbiAgICBjYXNlICcxLjIuODQwLjExMzU0OS4xLjEuMTInOlxuICAgICAgcmV0dXJuICdTSEEtMzg0J1xuICAgIGNhc2UgJzEuMi44NDAuMTEzNTQ5LjEuMS4xMyc6XG4gICAgICByZXR1cm4gJ1NIQS01MTInXG4gICAgY2FzZSAnMS4yLjg0MC4xMTM1NDkuMS4xLjE0JzpcbiAgICAgIHJldHVybiAnU0hBLTIyNCdcbiAgICBjYXNlICcxLjIuODQwLjExMzU0OS4xLjEuMTUnOlxuICAgICAgcmV0dXJuICdTSEE1MTItMjI0J1xuICAgIGNhc2UgJzEuMi44NDAuMTEzNTQ5LjEuMS4xNic6XG4gICAgICByZXR1cm4gJ1NIQTUxMi0yNTYnXG4gICAgLy8gRUNEU0FcbiAgICBjYXNlICcxLjIuODQwLjEwMDQ1LjQuMSc6XG4gICAgICByZXR1cm4gJ1NIQS0xJ1xuICAgIGNhc2UgJzEuMi44NDAuMTAwNDUuNC4zLjEnOlxuICAgICAgcmV0dXJuICdTSEEtMjI0J1xuICAgIGNhc2UgJzEuMi44NDAuMTAwNDUuNC4zLjInOlxuICAgICAgcmV0dXJuICdTSEEtMjU2J1xuICAgIGNhc2UgJzEuMi44NDAuMTAwNDUuNC4zLjMnOlxuICAgICAgcmV0dXJuICdTSEEtMzg0J1xuICAgIGNhc2UgJzEuMi44NDAuMTAwNDUuNC4zLjQnOlxuICAgICAgcmV0dXJuICdTSEEtNTEyJ1xuICAgIC8vIFJTQVNTQS1QU1M6IGhhc2ggaXMgaW5kaWNhdGVkIHNlcGFyYXRlbHlcbiAgICBjYXNlICcxLjIuODQwLjExMzU0OS4xLjEuMTAnOiB7XG4gICAgICBpbmRleCA9IGluZGV4QWZ0ZXJPSURcbiAgICAgIGluZGV4ID0gZXhwZWN0QVNOMVNlcShkYXRhLCBpbmRleCkuaW5kZXhcbiAgICAgIGlmIChkYXRhW2luZGV4KytdICE9PSAweGEwKSB0aHJvdyB4NTA5RXJyb3IoJ25vbi10YWcgZGF0YScsIGRhdGEpIC8vIGEwID0gY29uc3RydWN0ZWQgdGFnIDBcbiAgICAgIGluZGV4ID0gcmVhZEFTTjFMZW5ndGgoZGF0YSwgaW5kZXgpLmluZGV4IC8vIHNraXAgb3ZlciB0YWcgbGVuZ3RoIGZpZWxkXG4gICAgICBpbmRleCA9IGV4cGVjdEFTTjFTZXEoZGF0YSwgaW5kZXgpLmluZGV4IC8vIHNraXAgb3ZlciBzZXF1ZW5jZSBsZW5ndGggZmllbGRcbiAgICAgIGNvbnN0IHsgb2lkOiBoYXNoT0lEIH0gPSByZWFkQVNOMU9JRChkYXRhLCBpbmRleClcbiAgICAgIHN3aXRjaCAoaGFzaE9JRCkge1xuICAgICAgICAvLyBzdGFuZGFsb25lIGhhc2ggT0lEc1xuICAgICAgICBjYXNlICcxLjIuODQwLjExMzU0OS4yLjUnOlxuICAgICAgICAgIHJldHVybiAnTUQ1J1xuICAgICAgICBjYXNlICcxLjMuMTQuMy4yLjI2JzpcbiAgICAgICAgICByZXR1cm4gJ1NIQS0xJ1xuICAgICAgICBjYXNlICcyLjE2Ljg0MC4xLjEwMS4zLjQuMi4xJzpcbiAgICAgICAgICByZXR1cm4gJ1NIQS0yNTYnXG4gICAgICAgIGNhc2UgJzIuMTYuODQwLjEuMTAxLjMuNC4yLjInOlxuICAgICAgICAgIHJldHVybiAnU0hBLTM4NCdcbiAgICAgICAgY2FzZSAnMi4xNi44NDAuMS4xMDEuMy40LjIuMyc6XG4gICAgICAgICAgcmV0dXJuICdTSEEtNTEyJ1xuICAgICAgfVxuICAgICAgdGhyb3cgeDUwOUVycm9yKCd1bmtub3duIGhhc2ggT0lEICcgKyBoYXNoT0lELCBkYXRhKVxuICAgIH1cbiAgICAvLyBFZDI1NTE5IC0tIHNlZSBodHRwczogcmV0dXJuLy9naXRodWIuY29tL29wZW5zc2wvb3BlbnNzbC9pc3N1ZXMvMTU0NzdcbiAgICBjYXNlICcxLjMuMTAxLjExMCc6XG4gICAgY2FzZSAnMS4zLjEwMS4xMTInOiAvLyBwaFxuICAgICAgcmV0dXJuICdTSEEtNTEyJ1xuICAgIC8vIEVkNDQ4IC0tIHN0aWxsIG5vdCBpbiBwZyAxNy4yIChpZiBzdXBwb3J0ZWQsIGRpZ2VzdCB3b3VsZCBiZSBTSEFLRTI1NiB4IDY0IGJ5dGVzKVxuICAgIGNhc2UgJzEuMy4xMDEuMTExJzpcbiAgICBjYXNlICcxLjMuMTAxLjExMyc6IC8vIHBoXG4gICAgICB0aHJvdyB4NTA5RXJyb3IoJ0VkNDQ4IGNlcnRpZmljYXRlIGNoYW5uZWwgYmluZGluZyBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBieSBQb3N0Z3JlcycpXG4gIH1cbiAgdGhyb3cgeDUwOUVycm9yKCd1bmtub3duIE9JRCAnICsgb2lkLCBkYXRhKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgc2lnbmF0dXJlQWxnb3JpdGhtSGFzaEZyb21DZXJ0aWZpY2F0ZSB9XG4iLCAiJ3VzZSBzdHJpY3QnXG5jb25zdCBjcnlwdG8gPSByZXF1aXJlKCcuL3V0aWxzJylcbmNvbnN0IHsgc2lnbmF0dXJlQWxnb3JpdGhtSGFzaEZyb21DZXJ0aWZpY2F0ZSB9ID0gcmVxdWlyZSgnLi9jZXJ0LXNpZ25hdHVyZXMnKVxuXG5mdW5jdGlvbiBzdGFydFNlc3Npb24obWVjaGFuaXNtcywgc3RyZWFtKSB7XG4gIGNvbnN0IGNhbmRpZGF0ZXMgPSBbJ1NDUkFNLVNIQS0yNTYnXVxuICBpZiAoc3RyZWFtKSBjYW5kaWRhdGVzLnVuc2hpZnQoJ1NDUkFNLVNIQS0yNTYtUExVUycpIC8vIGhpZ2hlci1wcmlvcml0eSwgc28gcGxhY2VkIGZpcnN0XG5cbiAgY29uc3QgbWVjaGFuaXNtID0gY2FuZGlkYXRlcy5maW5kKChjYW5kaWRhdGUpID0+IG1lY2hhbmlzbXMuaW5jbHVkZXMoY2FuZGlkYXRlKSlcblxuICBpZiAoIW1lY2hhbmlzbSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU0FTTDogT25seSBtZWNoYW5pc20ocykgJyArIGNhbmRpZGF0ZXMuam9pbignIGFuZCAnKSArICcgYXJlIHN1cHBvcnRlZCcpXG4gIH1cblxuICBpZiAobWVjaGFuaXNtID09PSAnU0NSQU0tU0hBLTI1Ni1QTFVTJyAmJiB0eXBlb2Ygc3RyZWFtLmdldFBlZXJDZXJ0aWZpY2F0ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIHRoaXMgc2hvdWxkIG5ldmVyIGhhcHBlbiBpZiB3ZSBhcmUgcmVhbGx5IHRhbGtpbmcgdG8gYSBQb3N0Z3JlcyBzZXJ2ZXJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NBU0w6IE1lY2hhbmlzbSBTQ1JBTS1TSEEtMjU2LVBMVVMgcmVxdWlyZXMgYSBjZXJ0aWZpY2F0ZScpXG4gIH1cblxuICBjb25zdCBjbGllbnROb25jZSA9IGNyeXB0by5yYW5kb21CeXRlcygxOCkudG9TdHJpbmcoJ2Jhc2U2NCcpXG4gIGNvbnN0IGdzMkhlYWRlciA9IG1lY2hhbmlzbSA9PT0gJ1NDUkFNLVNIQS0yNTYtUExVUycgPyAncD10bHMtc2VydmVyLWVuZC1wb2ludCcgOiBzdHJlYW0gPyAneScgOiAnbidcblxuICByZXR1cm4ge1xuICAgIG1lY2hhbmlzbSxcbiAgICBjbGllbnROb25jZSxcbiAgICByZXNwb25zZTogZ3MySGVhZGVyICsgJywsbj0qLHI9JyArIGNsaWVudE5vbmNlLFxuICAgIG1lc3NhZ2U6ICdTQVNMSW5pdGlhbFJlc3BvbnNlJyxcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBjb250aW51ZVNlc3Npb24oc2Vzc2lvbiwgcGFzc3dvcmQsIHNlcnZlckRhdGEsIHN0cmVhbSkge1xuICBpZiAoc2Vzc2lvbi5tZXNzYWdlICE9PSAnU0FTTEluaXRpYWxSZXNwb25zZScpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NBU0w6IExhc3QgbWVzc2FnZSB3YXMgbm90IFNBU0xJbml0aWFsUmVzcG9uc2UnKVxuICB9XG4gIGlmICh0eXBlb2YgcGFzc3dvcmQgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTQVNMOiBTQ1JBTS1TRVJWRVItRklSU1QtTUVTU0FHRTogY2xpZW50IHBhc3N3b3JkIG11c3QgYmUgYSBzdHJpbmcnKVxuICB9XG4gIGlmIChwYXNzd29yZCA9PT0gJycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NBU0w6IFNDUkFNLVNFUlZFUi1GSVJTVC1NRVNTQUdFOiBjbGllbnQgcGFzc3dvcmQgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcnKVxuICB9XG4gIGlmICh0eXBlb2Ygc2VydmVyRGF0YSAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NBU0w6IFNDUkFNLVNFUlZFUi1GSVJTVC1NRVNTQUdFOiBzZXJ2ZXJEYXRhIG11c3QgYmUgYSBzdHJpbmcnKVxuICB9XG5cbiAgY29uc3Qgc3YgPSBwYXJzZVNlcnZlckZpcnN0TWVzc2FnZShzZXJ2ZXJEYXRhKVxuXG4gIGlmICghc3Yubm9uY2Uuc3RhcnRzV2l0aChzZXNzaW9uLmNsaWVudE5vbmNlKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU0FTTDogU0NSQU0tU0VSVkVSLUZJUlNULU1FU1NBR0U6IHNlcnZlciBub25jZSBkb2VzIG5vdCBzdGFydCB3aXRoIGNsaWVudCBub25jZScpXG4gIH0gZWxzZSBpZiAoc3Yubm9uY2UubGVuZ3RoID09PSBzZXNzaW9uLmNsaWVudE5vbmNlLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBFcnJvcignU0FTTDogU0NSQU0tU0VSVkVSLUZJUlNULU1FU1NBR0U6IHNlcnZlciBub25jZSBpcyB0b28gc2hvcnQnKVxuICB9XG5cbiAgY29uc3QgY2xpZW50Rmlyc3RNZXNzYWdlQmFyZSA9ICduPSoscj0nICsgc2Vzc2lvbi5jbGllbnROb25jZVxuICBjb25zdCBzZXJ2ZXJGaXJzdE1lc3NhZ2UgPSAncj0nICsgc3Yubm9uY2UgKyAnLHM9JyArIHN2LnNhbHQgKyAnLGk9JyArIHN2Lml0ZXJhdGlvblxuXG4gIC8vIHdpdGhvdXQgY2hhbm5lbCBiaW5kaW5nOlxuICBsZXQgY2hhbm5lbEJpbmRpbmcgPSBzdHJlYW0gPyAnZVN3cycgOiAnYml3cycgLy8gJ3ksLCcgb3IgJ24sLCcsIGJhc2U2NC1lbmNvZGVkXG5cbiAgLy8gb3ZlcnJpZGUgaWYgY2hhbm5lbCBiaW5kaW5nIGlzIGluIHVzZTpcbiAgaWYgKHNlc3Npb24ubWVjaGFuaXNtID09PSAnU0NSQU0tU0hBLTI1Ni1QTFVTJykge1xuICAgIGNvbnN0IHBlZXJDZXJ0ID0gc3RyZWFtLmdldFBlZXJDZXJ0aWZpY2F0ZSgpLnJhd1xuICAgIGxldCBoYXNoTmFtZSA9IHNpZ25hdHVyZUFsZ29yaXRobUhhc2hGcm9tQ2VydGlmaWNhdGUocGVlckNlcnQpXG4gICAgaWYgKGhhc2hOYW1lID09PSAnTUQ1JyB8fCBoYXNoTmFtZSA9PT0gJ1NIQS0xJykgaGFzaE5hbWUgPSAnU0hBLTI1NidcbiAgICBjb25zdCBjZXJ0SGFzaCA9IGF3YWl0IGNyeXB0by5oYXNoQnlOYW1lKGhhc2hOYW1lLCBwZWVyQ2VydClcbiAgICBjb25zdCBiaW5kaW5nRGF0YSA9IEJ1ZmZlci5jb25jYXQoW0J1ZmZlci5mcm9tKCdwPXRscy1zZXJ2ZXItZW5kLXBvaW50LCwnKSwgQnVmZmVyLmZyb20oY2VydEhhc2gpXSlcbiAgICBjaGFubmVsQmluZGluZyA9IGJpbmRpbmdEYXRhLnRvU3RyaW5nKCdiYXNlNjQnKVxuICB9XG5cbiAgY29uc3QgY2xpZW50RmluYWxNZXNzYWdlV2l0aG91dFByb29mID0gJ2M9JyArIGNoYW5uZWxCaW5kaW5nICsgJyxyPScgKyBzdi5ub25jZVxuICBjb25zdCBhdXRoTWVzc2FnZSA9IGNsaWVudEZpcnN0TWVzc2FnZUJhcmUgKyAnLCcgKyBzZXJ2ZXJGaXJzdE1lc3NhZ2UgKyAnLCcgKyBjbGllbnRGaW5hbE1lc3NhZ2VXaXRob3V0UHJvb2ZcblxuICBjb25zdCBzYWx0Qnl0ZXMgPSBCdWZmZXIuZnJvbShzdi5zYWx0LCAnYmFzZTY0JylcbiAgY29uc3Qgc2FsdGVkUGFzc3dvcmQgPSBhd2FpdCBjcnlwdG8uZGVyaXZlS2V5KHBhc3N3b3JkLCBzYWx0Qnl0ZXMsIHN2Lml0ZXJhdGlvbilcbiAgY29uc3QgY2xpZW50S2V5ID0gYXdhaXQgY3J5cHRvLmhtYWNTaGEyNTYoc2FsdGVkUGFzc3dvcmQsICdDbGllbnQgS2V5JylcbiAgY29uc3Qgc3RvcmVkS2V5ID0gYXdhaXQgY3J5cHRvLnNoYTI1NihjbGllbnRLZXkpXG4gIGNvbnN0IGNsaWVudFNpZ25hdHVyZSA9IGF3YWl0IGNyeXB0by5obWFjU2hhMjU2KHN0b3JlZEtleSwgYXV0aE1lc3NhZ2UpXG4gIGNvbnN0IGNsaWVudFByb29mID0geG9yQnVmZmVycyhCdWZmZXIuZnJvbShjbGllbnRLZXkpLCBCdWZmZXIuZnJvbShjbGllbnRTaWduYXR1cmUpKS50b1N0cmluZygnYmFzZTY0JylcbiAgY29uc3Qgc2VydmVyS2V5ID0gYXdhaXQgY3J5cHRvLmhtYWNTaGEyNTYoc2FsdGVkUGFzc3dvcmQsICdTZXJ2ZXIgS2V5JylcbiAgY29uc3Qgc2VydmVyU2lnbmF0dXJlQnl0ZXMgPSBhd2FpdCBjcnlwdG8uaG1hY1NoYTI1NihzZXJ2ZXJLZXksIGF1dGhNZXNzYWdlKVxuXG4gIHNlc3Npb24ubWVzc2FnZSA9ICdTQVNMUmVzcG9uc2UnXG4gIHNlc3Npb24uc2VydmVyU2lnbmF0dXJlID0gQnVmZmVyLmZyb20oc2VydmVyU2lnbmF0dXJlQnl0ZXMpLnRvU3RyaW5nKCdiYXNlNjQnKVxuICBzZXNzaW9uLnJlc3BvbnNlID0gY2xpZW50RmluYWxNZXNzYWdlV2l0aG91dFByb29mICsgJyxwPScgKyBjbGllbnRQcm9vZlxufVxuXG5mdW5jdGlvbiBmaW5hbGl6ZVNlc3Npb24oc2Vzc2lvbiwgc2VydmVyRGF0YSkge1xuICBpZiAoc2Vzc2lvbi5tZXNzYWdlICE9PSAnU0FTTFJlc3BvbnNlJykge1xuICAgIHRocm93IG5ldyBFcnJvcignU0FTTDogTGFzdCBtZXNzYWdlIHdhcyBub3QgU0FTTFJlc3BvbnNlJylcbiAgfVxuICBpZiAodHlwZW9mIHNlcnZlckRhdGEgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTQVNMOiBTQ1JBTS1TRVJWRVItRklOQUwtTUVTU0FHRTogc2VydmVyRGF0YSBtdXN0IGJlIGEgc3RyaW5nJylcbiAgfVxuXG4gIGNvbnN0IHsgc2VydmVyU2lnbmF0dXJlIH0gPSBwYXJzZVNlcnZlckZpbmFsTWVzc2FnZShzZXJ2ZXJEYXRhKVxuXG4gIGlmIChzZXJ2ZXJTaWduYXR1cmUgIT09IHNlc3Npb24uc2VydmVyU2lnbmF0dXJlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTQVNMOiBTQ1JBTS1TRVJWRVItRklOQUwtTUVTU0FHRTogc2VydmVyIHNpZ25hdHVyZSBkb2VzIG5vdCBtYXRjaCcpXG4gIH1cbn1cblxuLyoqXG4gKiBwcmludGFibGUgICAgICAgPSAleDIxLTJCIC8gJXgyRC03RVxuICogICAgICAgICAgICAgICAgICAgOzsgUHJpbnRhYmxlIEFTQ0lJIGV4Y2VwdCBcIixcIi5cbiAqICAgICAgICAgICAgICAgICAgIDs7IE5vdGUgdGhhdCBhbnkgXCJwcmludGFibGVcIiBpcyBhbHNvXG4gKiAgICAgICAgICAgICAgICAgICA7OyBhIHZhbGlkIFwidmFsdWVcIi5cbiAqL1xuZnVuY3Rpb24gaXNQcmludGFibGVDaGFycyh0ZXh0KSB7XG4gIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTQVNMOiB0ZXh0IG11c3QgYmUgYSBzdHJpbmcnKVxuICB9XG4gIHJldHVybiB0ZXh0XG4gICAgLnNwbGl0KCcnKVxuICAgIC5tYXAoKF8sIGkpID0+IHRleHQuY2hhckNvZGVBdChpKSlcbiAgICAuZXZlcnkoKGMpID0+IChjID49IDB4MjEgJiYgYyA8PSAweDJiKSB8fCAoYyA+PSAweDJkICYmIGMgPD0gMHg3ZSkpXG59XG5cbi8qKlxuICogYmFzZTY0LWNoYXIgICAgID0gQUxQSEEgLyBESUdJVCAvIFwiL1wiIC8gXCIrXCJcbiAqXG4gKiBiYXNlNjQtNCAgICAgICAgPSA0YmFzZTY0LWNoYXJcbiAqXG4gKiBiYXNlNjQtMyAgICAgICAgPSAzYmFzZTY0LWNoYXIgXCI9XCJcbiAqXG4gKiBiYXNlNjQtMiAgICAgICAgPSAyYmFzZTY0LWNoYXIgXCI9PVwiXG4gKlxuICogYmFzZTY0ICAgICAgICAgID0gKmJhc2U2NC00IFtiYXNlNjQtMyAvIGJhc2U2NC0yXVxuICovXG5mdW5jdGlvbiBpc0Jhc2U2NCh0ZXh0KSB7XG4gIHJldHVybiAvXig/OlthLXpBLVowLTkrL117NH0pKig/OlthLXpBLVowLTkrL117Mn09PXxbYS16QS1aMC05Ky9dezN9PSk/JC8udGVzdCh0ZXh0KVxufVxuXG5mdW5jdGlvbiBwYXJzZUF0dHJpYnV0ZVBhaXJzKHRleHQpIHtcbiAgaWYgKHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NBU0w6IGF0dHJpYnV0ZSBwYWlycyB0ZXh0IG11c3QgYmUgYSBzdHJpbmcnKVxuICB9XG5cbiAgcmV0dXJuIG5ldyBNYXAoXG4gICAgdGV4dC5zcGxpdCgnLCcpLm1hcCgoYXR0clZhbHVlKSA9PiB7XG4gICAgICBpZiAoIS9eLj0vLnRlc3QoYXR0clZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NBU0w6IEludmFsaWQgYXR0cmlidXRlIHBhaXIgZW50cnknKVxuICAgICAgfVxuICAgICAgY29uc3QgbmFtZSA9IGF0dHJWYWx1ZVswXVxuICAgICAgY29uc3QgdmFsdWUgPSBhdHRyVmFsdWUuc3Vic3RyaW5nKDIpXG4gICAgICByZXR1cm4gW25hbWUsIHZhbHVlXVxuICAgIH0pXG4gIClcbn1cblxuZnVuY3Rpb24gcGFyc2VTZXJ2ZXJGaXJzdE1lc3NhZ2UoZGF0YSkge1xuICBjb25zdCBhdHRyUGFpcnMgPSBwYXJzZUF0dHJpYnV0ZVBhaXJzKGRhdGEpXG5cbiAgY29uc3Qgbm9uY2UgPSBhdHRyUGFpcnMuZ2V0KCdyJylcbiAgaWYgKCFub25jZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU0FTTDogU0NSQU0tU0VSVkVSLUZJUlNULU1FU1NBR0U6IG5vbmNlIG1pc3NpbmcnKVxuICB9IGVsc2UgaWYgKCFpc1ByaW50YWJsZUNoYXJzKG5vbmNlKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU0FTTDogU0NSQU0tU0VSVkVSLUZJUlNULU1FU1NBR0U6IG5vbmNlIG11c3Qgb25seSBjb250YWluIHByaW50YWJsZSBjaGFyYWN0ZXJzJylcbiAgfVxuICBjb25zdCBzYWx0ID0gYXR0clBhaXJzLmdldCgncycpXG4gIGlmICghc2FsdCkge1xuICAgIHRocm93IG5ldyBFcnJvcignU0FTTDogU0NSQU0tU0VSVkVSLUZJUlNULU1FU1NBR0U6IHNhbHQgbWlzc2luZycpXG4gIH0gZWxzZSBpZiAoIWlzQmFzZTY0KHNhbHQpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTQVNMOiBTQ1JBTS1TRVJWRVItRklSU1QtTUVTU0FHRTogc2FsdCBtdXN0IGJlIGJhc2U2NCcpXG4gIH1cbiAgY29uc3QgaXRlcmF0aW9uVGV4dCA9IGF0dHJQYWlycy5nZXQoJ2knKVxuICBpZiAoIWl0ZXJhdGlvblRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NBU0w6IFNDUkFNLVNFUlZFUi1GSVJTVC1NRVNTQUdFOiBpdGVyYXRpb24gbWlzc2luZycpXG4gIH0gZWxzZSBpZiAoIS9eWzEtOV1bMC05XSokLy50ZXN0KGl0ZXJhdGlvblRleHQpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTQVNMOiBTQ1JBTS1TRVJWRVItRklSU1QtTUVTU0FHRTogaW52YWxpZCBpdGVyYXRpb24gY291bnQnKVxuICB9XG4gIGNvbnN0IGl0ZXJhdGlvbiA9IHBhcnNlSW50KGl0ZXJhdGlvblRleHQsIDEwKVxuXG4gIHJldHVybiB7XG4gICAgbm9uY2UsXG4gICAgc2FsdCxcbiAgICBpdGVyYXRpb24sXG4gIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VTZXJ2ZXJGaW5hbE1lc3NhZ2Uoc2VydmVyRGF0YSkge1xuICBjb25zdCBhdHRyUGFpcnMgPSBwYXJzZUF0dHJpYnV0ZVBhaXJzKHNlcnZlckRhdGEpXG4gIGNvbnN0IHNlcnZlclNpZ25hdHVyZSA9IGF0dHJQYWlycy5nZXQoJ3YnKVxuICBpZiAoIXNlcnZlclNpZ25hdHVyZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU0FTTDogU0NSQU0tU0VSVkVSLUZJTkFMLU1FU1NBR0U6IHNlcnZlciBzaWduYXR1cmUgaXMgbWlzc2luZycpXG4gIH0gZWxzZSBpZiAoIWlzQmFzZTY0KHNlcnZlclNpZ25hdHVyZSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NBU0w6IFNDUkFNLVNFUlZFUi1GSU5BTC1NRVNTQUdFOiBzZXJ2ZXIgc2lnbmF0dXJlIG11c3QgYmUgYmFzZTY0JylcbiAgfVxuICByZXR1cm4ge1xuICAgIHNlcnZlclNpZ25hdHVyZSxcbiAgfVxufVxuXG5mdW5jdGlvbiB4b3JCdWZmZXJzKGEsIGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgfVxuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3NlY29uZCBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgfVxuICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdCdWZmZXIgbGVuZ3RocyBtdXN0IG1hdGNoJylcbiAgfVxuICBpZiAoYS5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0J1ZmZlcnMgY2Fubm90IGJlIGVtcHR5JylcbiAgfVxuICByZXR1cm4gQnVmZmVyLmZyb20oYS5tYXAoKF8sIGkpID0+IGFbaV0gXiBiW2ldKSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHN0YXJ0U2Vzc2lvbixcbiAgY29udGludWVTZXNzaW9uLFxuICBmaW5hbGl6ZVNlc3Npb24sXG59XG4iLCAiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IHR5cGVzID0gcmVxdWlyZSgncGctdHlwZXMnKVxuXG5mdW5jdGlvbiBUeXBlT3ZlcnJpZGVzKHVzZXJUeXBlcykge1xuICB0aGlzLl90eXBlcyA9IHVzZXJUeXBlcyB8fCB0eXBlc1xuICB0aGlzLnRleHQgPSB7fVxuICB0aGlzLmJpbmFyeSA9IHt9XG59XG5cblR5cGVPdmVycmlkZXMucHJvdG90eXBlLmdldE92ZXJyaWRlcyA9IGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgc3dpdGNoIChmb3JtYXQpIHtcbiAgICBjYXNlICd0ZXh0JzpcbiAgICAgIHJldHVybiB0aGlzLnRleHRcbiAgICBjYXNlICdiaW5hcnknOlxuICAgICAgcmV0dXJuIHRoaXMuYmluYXJ5XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB7fVxuICB9XG59XG5cblR5cGVPdmVycmlkZXMucHJvdG90eXBlLnNldFR5cGVQYXJzZXIgPSBmdW5jdGlvbiAob2lkLCBmb3JtYXQsIHBhcnNlRm4pIHtcbiAgaWYgKHR5cGVvZiBmb3JtYXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBwYXJzZUZuID0gZm9ybWF0XG4gICAgZm9ybWF0ID0gJ3RleHQnXG4gIH1cbiAgdGhpcy5nZXRPdmVycmlkZXMoZm9ybWF0KVtvaWRdID0gcGFyc2VGblxufVxuXG5UeXBlT3ZlcnJpZGVzLnByb3RvdHlwZS5nZXRUeXBlUGFyc2VyID0gZnVuY3Rpb24gKG9pZCwgZm9ybWF0KSB7XG4gIGZvcm1hdCA9IGZvcm1hdCB8fCAndGV4dCdcbiAgcmV0dXJuIHRoaXMuZ2V0T3ZlcnJpZGVzKGZvcm1hdClbb2lkXSB8fCB0aGlzLl90eXBlcy5nZXRUeXBlUGFyc2VyKG9pZCwgZm9ybWF0KVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFR5cGVPdmVycmlkZXNcbiIsICIndXNlIHN0cmljdCdcblxuLy9QYXJzZSBtZXRob2QgY29waWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2JyaWFuYy9ub2RlLXBvc3RncmVzXG4vL0NvcHlyaWdodCAoYykgMjAxMC0yMDE0IEJyaWFuIENhcmxzb24gKGJyaWFuLm0uY2FybHNvbkBnbWFpbC5jb20pXG4vL01JVCBMaWNlbnNlXG5cbi8vcGFyc2VzIGEgY29ubmVjdGlvbiBzdHJpbmdcbmZ1bmN0aW9uIHBhcnNlKHN0ciwgb3B0aW9ucyA9IHt9KSB7XG4gIC8vdW5peCBzb2NrZXRcbiAgaWYgKHN0ci5jaGFyQXQoMCkgPT09ICcvJykge1xuICAgIGNvbnN0IGNvbmZpZyA9IHN0ci5zcGxpdCgnICcpXG4gICAgcmV0dXJuIHsgaG9zdDogY29uZmlnWzBdLCBkYXRhYmFzZTogY29uZmlnWzFdIH1cbiAgfVxuXG4gIC8vIENoZWNrIGZvciBlbXB0eSBob3N0IGluIFVSTFxuXG4gIGNvbnN0IGNvbmZpZyA9IHt9XG4gIGxldCByZXN1bHRcbiAgbGV0IGR1bW15SG9zdCA9IGZhbHNlXG4gIGlmICgvIHwlW15hLWYwLTldfCVbYS1mMC05XVteYS1mMC05XS9pLnRlc3Qoc3RyKSkge1xuICAgIC8vIEVuc3VyZSBzcGFjZXMgYXJlIGVuY29kZWQgYXMgJTIwXG4gICAgc3RyID0gZW5jb2RlVVJJKHN0cikucmVwbGFjZSgvJTI1KFxcZFxcZCkvZywgJyUkMScpXG4gIH1cblxuICB0cnkge1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSBuZXcgVVJMKHN0ciwgJ3Bvc3RncmVzOi8vYmFzZScpXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gVGhlIFVSTCBpcyBpbnZhbGlkIHNvIHRyeSBhZ2FpbiB3aXRoIGEgZHVtbXkgaG9zdFxuICAgICAgcmVzdWx0ID0gbmV3IFVSTChzdHIucmVwbGFjZSgnQC8nLCAnQF9fX0RVTU1ZX19fLycpLCAncG9zdGdyZXM6Ly9iYXNlJylcbiAgICAgIGR1bW15SG9zdCA9IHRydWVcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIFJlbW92ZSB0aGUgaW5wdXQgZnJvbSB0aGUgZXJyb3IgbWVzc2FnZSB0byBhdm9pZCBsZWFraW5nIHNlbnNpdGl2ZSBpbmZvcm1hdGlvblxuICAgIGVyci5pbnB1dCAmJiAoZXJyLmlucHV0ID0gJyoqKioqUkVEQUNURUQqKioqKicpXG4gIH1cblxuICAvLyBXZSdkIGxpa2UgdG8gdXNlIE9iamVjdC5mcm9tRW50cmllcygpIGhlcmUgYnV0IE5vZGUuanMgMTAgZG9lcyBub3Qgc3VwcG9ydCBpdFxuICBmb3IgKGNvbnN0IGVudHJ5IG9mIHJlc3VsdC5zZWFyY2hQYXJhbXMuZW50cmllcygpKSB7XG4gICAgY29uZmlnW2VudHJ5WzBdXSA9IGVudHJ5WzFdXG4gIH1cblxuICBjb25maWcudXNlciA9IGNvbmZpZy51c2VyIHx8IGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHQudXNlcm5hbWUpXG4gIGNvbmZpZy5wYXNzd29yZCA9IGNvbmZpZy5wYXNzd29yZCB8fCBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0LnBhc3N3b3JkKVxuXG4gIGlmIChyZXN1bHQucHJvdG9jb2wgPT0gJ3NvY2tldDonKSB7XG4gICAgY29uZmlnLmhvc3QgPSBkZWNvZGVVUkkocmVzdWx0LnBhdGhuYW1lKVxuICAgIGNvbmZpZy5kYXRhYmFzZSA9IHJlc3VsdC5zZWFyY2hQYXJhbXMuZ2V0KCdkYicpXG4gICAgY29uZmlnLmNsaWVudF9lbmNvZGluZyA9IHJlc3VsdC5zZWFyY2hQYXJhbXMuZ2V0KCdlbmNvZGluZycpXG4gICAgcmV0dXJuIGNvbmZpZ1xuICB9XG4gIGNvbnN0IGhvc3RuYW1lID0gZHVtbXlIb3N0ID8gJycgOiByZXN1bHQuaG9zdG5hbWVcbiAgaWYgKCFjb25maWcuaG9zdCkge1xuICAgIC8vIE9ubHkgc2V0IHRoZSBob3N0IGlmIHRoZXJlIGlzIG5vIGVxdWl2YWxlbnQgcXVlcnkgcGFyYW0uXG4gICAgY29uZmlnLmhvc3QgPSBkZWNvZGVVUklDb21wb25lbnQoaG9zdG5hbWUpXG4gIH0gZWxzZSBpZiAoaG9zdG5hbWUgJiYgL14lMmYvaS50ZXN0KGhvc3RuYW1lKSkge1xuICAgIC8vIE9ubHkgcHJlcGVuZCB0aGUgaG9zdG5hbWUgdG8gdGhlIHBhdGhuYW1lIGlmIGl0IGlzIG5vdCBhIFVSTCBlbmNvZGVkIFVuaXggc29ja2V0IGhvc3QuXG4gICAgcmVzdWx0LnBhdGhuYW1lID0gaG9zdG5hbWUgKyByZXN1bHQucGF0aG5hbWVcbiAgfVxuICBpZiAoIWNvbmZpZy5wb3J0KSB7XG4gICAgLy8gT25seSBzZXQgdGhlIHBvcnQgaWYgdGhlcmUgaXMgbm8gZXF1aXZhbGVudCBxdWVyeSBwYXJhbS5cbiAgICBjb25maWcucG9ydCA9IHJlc3VsdC5wb3J0XG4gIH1cblxuICBjb25zdCBwYXRobmFtZSA9IHJlc3VsdC5wYXRobmFtZS5zbGljZSgxKSB8fCBudWxsXG4gIGNvbmZpZy5kYXRhYmFzZSA9IHBhdGhuYW1lID8gZGVjb2RlVVJJKHBhdGhuYW1lKSA6IG51bGxcblxuICBpZiAoY29uZmlnLnNzbCA9PT0gJ3RydWUnIHx8IGNvbmZpZy5zc2wgPT09ICcxJykge1xuICAgIGNvbmZpZy5zc2wgPSB0cnVlXG4gIH1cblxuICBpZiAoY29uZmlnLnNzbCA9PT0gJzAnKSB7XG4gICAgY29uZmlnLnNzbCA9IGZhbHNlXG4gIH1cblxuICBpZiAoY29uZmlnLnNzbGNlcnQgfHwgY29uZmlnLnNzbGtleSB8fCBjb25maWcuc3Nscm9vdGNlcnQgfHwgY29uZmlnLnNzbG1vZGUpIHtcbiAgICBjb25maWcuc3NsID0ge31cbiAgfVxuXG4gIC8vIE9ubHkgdHJ5IHRvIGxvYWQgZnMgaWYgd2UgZXhwZWN0IHRvIHJlYWQgZnJvbSB0aGUgZGlza1xuICBjb25zdCBmcyA9IGNvbmZpZy5zc2xjZXJ0IHx8IGNvbmZpZy5zc2xrZXkgfHwgY29uZmlnLnNzbHJvb3RjZXJ0ID8gcmVxdWlyZSgnZnMnKSA6IG51bGxcblxuICBpZiAoY29uZmlnLnNzbGNlcnQpIHtcbiAgICBjb25maWcuc3NsLmNlcnQgPSBmcy5yZWFkRmlsZVN5bmMoY29uZmlnLnNzbGNlcnQpLnRvU3RyaW5nKClcbiAgfVxuXG4gIGlmIChjb25maWcuc3Nsa2V5KSB7XG4gICAgY29uZmlnLnNzbC5rZXkgPSBmcy5yZWFkRmlsZVN5bmMoY29uZmlnLnNzbGtleSkudG9TdHJpbmcoKVxuICB9XG5cbiAgaWYgKGNvbmZpZy5zc2xyb290Y2VydCkge1xuICAgIGNvbmZpZy5zc2wuY2EgPSBmcy5yZWFkRmlsZVN5bmMoY29uZmlnLnNzbHJvb3RjZXJ0KS50b1N0cmluZygpXG4gIH1cblxuICBpZiAob3B0aW9ucy51c2VMaWJwcUNvbXBhdCAmJiBjb25maWcudXNlbGlicHFjb21wYXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0JvdGggdXNlTGlicHFDb21wYXQgYW5kIHVzZWxpYnBxY29tcGF0IGFyZSBzZXQuIFBsZWFzZSB1c2Ugb25seSBvbmUgb2YgdGhlbS4nKVxuICB9XG5cbiAgaWYgKGNvbmZpZy51c2VsaWJwcWNvbXBhdCA9PT0gJ3RydWUnIHx8IG9wdGlvbnMudXNlTGlicHFDb21wYXQpIHtcbiAgICBzd2l0Y2ggKGNvbmZpZy5zc2xtb2RlKSB7XG4gICAgICBjYXNlICdkaXNhYmxlJzoge1xuICAgICAgICBjb25maWcuc3NsID0gZmFsc2VcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3ByZWZlcic6IHtcbiAgICAgICAgY29uZmlnLnNzbC5yZWplY3RVbmF1dGhvcml6ZWQgPSBmYWxzZVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAncmVxdWlyZSc6IHtcbiAgICAgICAgaWYgKGNvbmZpZy5zc2xyb290Y2VydCkge1xuICAgICAgICAgIC8vIElmIGEgcm9vdCBDQSBpcyBzcGVjaWZpZWQsIGJlaGF2aW9yIG9mIGBzc2xtb2RlPXJlcXVpcmVgIHdpbGwgYmUgdGhlIHNhbWUgYXMgdGhhdCBvZiBgdmVyaWZ5LWNhYFxuICAgICAgICAgIGNvbmZpZy5zc2wuY2hlY2tTZXJ2ZXJJZGVudGl0eSA9IGZ1bmN0aW9uICgpIHt9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uZmlnLnNzbC5yZWplY3RVbmF1dGhvcml6ZWQgPSBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBjYXNlICd2ZXJpZnktY2EnOiB7XG4gICAgICAgIGlmICghY29uZmlnLnNzbC5jYSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICdTRUNVUklUWSBXQVJOSU5HOiBVc2luZyBzc2xtb2RlPXZlcmlmeS1jYSByZXF1aXJlcyBzcGVjaWZ5aW5nIGEgQ0Egd2l0aCBzc2xyb290Y2VydC4gSWYgYSBwdWJsaWMgQ0EgaXMgdXNlZCwgdmVyaWZ5LWNhIGFsbG93cyBjb25uZWN0aW9ucyB0byBhIHNlcnZlciB0aGF0IHNvbWVib2R5IGVsc2UgbWF5IGhhdmUgcmVnaXN0ZXJlZCB3aXRoIHRoZSBDQSwgbWFraW5nIHlvdSB2dWxuZXJhYmxlIHRvIE1hbi1pbi10aGUtTWlkZGxlIGF0dGFja3MuIEVpdGhlciBzcGVjaWZ5IGEgY3VzdG9tIENBIGNlcnRpZmljYXRlIHdpdGggc3Nscm9vdGNlcnQgcGFyYW1ldGVyIG9yIHVzZSBzc2xtb2RlPXZlcmlmeS1mdWxsIGZvciBwcm9wZXIgc2VjdXJpdHkuJ1xuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICBjb25maWcuc3NsLmNoZWNrU2VydmVySWRlbnRpdHkgPSBmdW5jdGlvbiAoKSB7fVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAndmVyaWZ5LWZ1bGwnOiB7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHN3aXRjaCAoY29uZmlnLnNzbG1vZGUpIHtcbiAgICAgIGNhc2UgJ2Rpc2FibGUnOiB7XG4gICAgICAgIGNvbmZpZy5zc2wgPSBmYWxzZVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAncHJlZmVyJzpcbiAgICAgIGNhc2UgJ3JlcXVpcmUnOlxuICAgICAgY2FzZSAndmVyaWZ5LWNhJzpcbiAgICAgIGNhc2UgJ3ZlcmlmeS1mdWxsJzoge1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAnbm8tdmVyaWZ5Jzoge1xuICAgICAgICBjb25maWcuc3NsLnJlamVjdFVuYXV0aG9yaXplZCA9IGZhbHNlXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbmZpZ1xufVxuXG4vLyBjb252ZXJ0IHBnLWNvbm5lY3Rpb24tc3RyaW5nIHNzbCBjb25maWcgdG8gYSBDbGllbnRDb25maWcuQ29ubmVjdGlvbk9wdGlvbnNcbmZ1bmN0aW9uIHRvQ29ubmVjdGlvbk9wdGlvbnMoc3NsQ29uZmlnKSB7XG4gIGNvbnN0IGNvbm5lY3Rpb25PcHRpb25zID0gT2JqZWN0LmVudHJpZXMoc3NsQ29uZmlnKS5yZWR1Y2UoKGMsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgIC8vIHdlIGV4cGxpY2l0bHkgY2hlY2sgZm9yIHVuZGVmaW5lZCBhbmQgbnVsbCBpbnN0ZWFkIG9mIGBpZiAodmFsdWUpYCBiZWNhdXNlIHNvbWVcbiAgICAvLyBvcHRpb25zIGFjY2VwdCBmYWxzeSB2YWx1ZXMuIEV4YW1wbGU6IGBzc2wucmVqZWN0VW5hdXRob3JpemVkID0gZmFsc2VgXG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgIGNba2V5XSA9IHZhbHVlXG4gICAgfVxuXG4gICAgcmV0dXJuIGNcbiAgfSwge30pXG5cbiAgcmV0dXJuIGNvbm5lY3Rpb25PcHRpb25zXG59XG5cbi8vIGNvbnZlcnQgcGctY29ubmVjdGlvbi1zdHJpbmcgY29uZmlnIHRvIGEgQ2xpZW50Q29uZmlnXG5mdW5jdGlvbiB0b0NsaWVudENvbmZpZyhjb25maWcpIHtcbiAgY29uc3QgcG9vbENvbmZpZyA9IE9iamVjdC5lbnRyaWVzKGNvbmZpZykucmVkdWNlKChjLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICBpZiAoa2V5ID09PSAnc3NsJykge1xuICAgICAgY29uc3Qgc3NsQ29uZmlnID0gdmFsdWVcblxuICAgICAgaWYgKHR5cGVvZiBzc2xDb25maWcgPT09ICdib29sZWFuJykge1xuICAgICAgICBjW2tleV0gPSBzc2xDb25maWdcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBzc2xDb25maWcgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNba2V5XSA9IHRvQ29ubmVjdGlvbk9wdGlvbnMoc3NsQ29uZmlnKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgaWYgKGtleSA9PT0gJ3BvcnQnKSB7XG4gICAgICAgIC8vIHdoZW4gcG9ydCBpcyBub3Qgc3BlY2lmaWVkLCBpdCBpcyBjb252ZXJ0ZWQgaW50byBhbiBlbXB0eSBzdHJpbmdcbiAgICAgICAgLy8gd2Ugd2FudCB0byBhdm9pZCBOYU4gb3IgZW1wdHkgc3RyaW5nIGFzIGEgdmFsdWVzIGluIENsaWVudENvbmZpZ1xuICAgICAgICBpZiAodmFsdWUgIT09ICcnKSB7XG4gICAgICAgICAgY29uc3QgdiA9IHBhcnNlSW50KHZhbHVlLCAxMClcbiAgICAgICAgICBpZiAoaXNOYU4odikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCAke2tleX06ICR7dmFsdWV9YClcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjW2tleV0gPSB2XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNba2V5XSA9IHZhbHVlXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNcbiAgfSwge30pXG5cbiAgcmV0dXJuIHBvb2xDb25maWdcbn1cblxuLy8gcGFyc2VzIGEgY29ubmVjdGlvbiBzdHJpbmcgaW50byBDbGllbnRDb25maWdcbmZ1bmN0aW9uIHBhcnNlSW50b0NsaWVudENvbmZpZyhzdHIpIHtcbiAgcmV0dXJuIHRvQ2xpZW50Q29uZmlnKHBhcnNlKHN0cikpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyc2VcblxucGFyc2UucGFyc2UgPSBwYXJzZVxucGFyc2UudG9DbGllbnRDb25maWcgPSB0b0NsaWVudENvbmZpZ1xucGFyc2UucGFyc2VJbnRvQ2xpZW50Q29uZmlnID0gcGFyc2VJbnRvQ2xpZW50Q29uZmlnXG4iLCAiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGRucyA9IHJlcXVpcmUoJ2RucycpXG5cbmNvbnN0IGRlZmF1bHRzID0gcmVxdWlyZSgnLi9kZWZhdWx0cycpXG5cbmNvbnN0IHBhcnNlID0gcmVxdWlyZSgncGctY29ubmVjdGlvbi1zdHJpbmcnKS5wYXJzZSAvLyBwYXJzZXMgYSBjb25uZWN0aW9uIHN0cmluZ1xuXG5jb25zdCB2YWwgPSBmdW5jdGlvbiAoa2V5LCBjb25maWcsIGVudlZhcikge1xuICBpZiAoZW52VmFyID09PSB1bmRlZmluZWQpIHtcbiAgICBlbnZWYXIgPSBwcm9jZXNzLmVudlsnUEcnICsga2V5LnRvVXBwZXJDYXNlKCldXG4gIH0gZWxzZSBpZiAoZW52VmFyID09PSBmYWxzZSkge1xuICAgIC8vIGRvIG5vdGhpbmcgLi4uIHVzZSBmYWxzZVxuICB9IGVsc2Uge1xuICAgIGVudlZhciA9IHByb2Nlc3MuZW52W2VudlZhcl1cbiAgfVxuXG4gIHJldHVybiBjb25maWdba2V5XSB8fCBlbnZWYXIgfHwgZGVmYXVsdHNba2V5XVxufVxuXG5jb25zdCByZWFkU1NMQ29uZmlnRnJvbUVudmlyb25tZW50ID0gZnVuY3Rpb24gKCkge1xuICBzd2l0Y2ggKHByb2Nlc3MuZW52LlBHU1NMTU9ERSkge1xuICAgIGNhc2UgJ2Rpc2FibGUnOlxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgY2FzZSAncHJlZmVyJzpcbiAgICBjYXNlICdyZXF1aXJlJzpcbiAgICBjYXNlICd2ZXJpZnktY2EnOlxuICAgIGNhc2UgJ3ZlcmlmeS1mdWxsJzpcbiAgICAgIHJldHVybiB0cnVlXG4gICAgY2FzZSAnbm8tdmVyaWZ5JzpcbiAgICAgIHJldHVybiB7IHJlamVjdFVuYXV0aG9yaXplZDogZmFsc2UgfVxuICB9XG4gIHJldHVybiBkZWZhdWx0cy5zc2xcbn1cblxuLy8gQ29udmVydCBhcmcgdG8gYSBzdHJpbmcsIHN1cnJvdW5kIGluIHNpbmdsZSBxdW90ZXMsIGFuZCBlc2NhcGUgc2luZ2xlIHF1b3RlcyBhbmQgYmFja3NsYXNoZXNcbmNvbnN0IHF1b3RlUGFyYW1WYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICByZXR1cm4gXCInXCIgKyAoJycgKyB2YWx1ZSkucmVwbGFjZSgvXFxcXC9nLCAnXFxcXFxcXFwnKS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIikgKyBcIidcIlxufVxuXG5jb25zdCBhZGQgPSBmdW5jdGlvbiAocGFyYW1zLCBjb25maWcsIHBhcmFtTmFtZSkge1xuICBjb25zdCB2YWx1ZSA9IGNvbmZpZ1twYXJhbU5hbWVdXG4gIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgcGFyYW1zLnB1c2gocGFyYW1OYW1lICsgJz0nICsgcXVvdGVQYXJhbVZhbHVlKHZhbHVlKSlcbiAgfVxufVxuXG5jbGFzcyBDb25uZWN0aW9uUGFyYW1ldGVycyB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIC8vIGlmIGEgc3RyaW5nIGlzIHBhc3NlZCwgaXQgaXMgYSByYXcgY29ubmVjdGlvbiBzdHJpbmcgc28gd2UgcGFyc2UgaXQgaW50byBhIGNvbmZpZ1xuICAgIGNvbmZpZyA9IHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnID8gcGFyc2UoY29uZmlnKSA6IGNvbmZpZyB8fCB7fVxuXG4gICAgLy8gaWYgdGhlIGNvbmZpZyBoYXMgYSBjb25uZWN0aW9uU3RyaW5nIGRlZmluZWQsIHBhcnNlIElUIGludG8gdGhlIGNvbmZpZyB3ZSB1c2VcbiAgICAvLyB0aGlzIHdpbGwgb3ZlcnJpZGUgb3RoZXIgZGVmYXVsdCB2YWx1ZXMgd2l0aCB3aGF0IGlzIHN0b3JlZCBpbiBjb25uZWN0aW9uU3RyaW5nXG4gICAgaWYgKGNvbmZpZy5jb25uZWN0aW9uU3RyaW5nKSB7XG4gICAgICBjb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCBjb25maWcsIHBhcnNlKGNvbmZpZy5jb25uZWN0aW9uU3RyaW5nKSlcbiAgICB9XG5cbiAgICB0aGlzLnVzZXIgPSB2YWwoJ3VzZXInLCBjb25maWcpXG4gICAgdGhpcy5kYXRhYmFzZSA9IHZhbCgnZGF0YWJhc2UnLCBjb25maWcpXG5cbiAgICBpZiAodGhpcy5kYXRhYmFzZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmRhdGFiYXNlID0gdGhpcy51c2VyXG4gICAgfVxuXG4gICAgdGhpcy5wb3J0ID0gcGFyc2VJbnQodmFsKCdwb3J0JywgY29uZmlnKSwgMTApXG4gICAgdGhpcy5ob3N0ID0gdmFsKCdob3N0JywgY29uZmlnKVxuXG4gICAgLy8gXCJoaWRpbmdcIiB0aGUgcGFzc3dvcmQgc28gaXQgZG9lc24ndCBzaG93IHVwIGluIHN0YWNrIHRyYWNlc1xuICAgIC8vIG9yIGlmIHRoZSBjbGllbnQgaXMgY29uc29sZS5sb2dnZWRcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3Bhc3N3b3JkJywge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiB2YWwoJ3Bhc3N3b3JkJywgY29uZmlnKSxcbiAgICB9KVxuXG4gICAgdGhpcy5iaW5hcnkgPSB2YWwoJ2JpbmFyeScsIGNvbmZpZylcbiAgICB0aGlzLm9wdGlvbnMgPSB2YWwoJ29wdGlvbnMnLCBjb25maWcpXG5cbiAgICB0aGlzLnNzbCA9IHR5cGVvZiBjb25maWcuc3NsID09PSAndW5kZWZpbmVkJyA/IHJlYWRTU0xDb25maWdGcm9tRW52aXJvbm1lbnQoKSA6IGNvbmZpZy5zc2xcblxuICAgIGlmICh0eXBlb2YgdGhpcy5zc2wgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAodGhpcy5zc2wgPT09ICd0cnVlJykge1xuICAgICAgICB0aGlzLnNzbCA9IHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gc3VwcG9ydCBwYXNzaW5nIGluIHNzbD1uby12ZXJpZnkgdmlhIGNvbm5lY3Rpb24gc3RyaW5nXG4gICAgaWYgKHRoaXMuc3NsID09PSAnbm8tdmVyaWZ5Jykge1xuICAgICAgdGhpcy5zc2wgPSB7IHJlamVjdFVuYXV0aG9yaXplZDogZmFsc2UgfVxuICAgIH1cbiAgICBpZiAodGhpcy5zc2wgJiYgdGhpcy5zc2wua2V5KSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5zc2wsICdrZXknLCB7XG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICB0aGlzLmNsaWVudF9lbmNvZGluZyA9IHZhbCgnY2xpZW50X2VuY29kaW5nJywgY29uZmlnKVxuICAgIHRoaXMucmVwbGljYXRpb24gPSB2YWwoJ3JlcGxpY2F0aW9uJywgY29uZmlnKVxuICAgIC8vIGEgZG9tYWluIHNvY2tldCBiZWdpbnMgd2l0aCAnLydcbiAgICB0aGlzLmlzRG9tYWluU29ja2V0ID0gISh0aGlzLmhvc3QgfHwgJycpLmluZGV4T2YoJy8nKVxuXG4gICAgdGhpcy5hcHBsaWNhdGlvbl9uYW1lID0gdmFsKCdhcHBsaWNhdGlvbl9uYW1lJywgY29uZmlnLCAnUEdBUFBOQU1FJylcbiAgICB0aGlzLmZhbGxiYWNrX2FwcGxpY2F0aW9uX25hbWUgPSB2YWwoJ2ZhbGxiYWNrX2FwcGxpY2F0aW9uX25hbWUnLCBjb25maWcsIGZhbHNlKVxuICAgIHRoaXMuc3RhdGVtZW50X3RpbWVvdXQgPSB2YWwoJ3N0YXRlbWVudF90aW1lb3V0JywgY29uZmlnLCBmYWxzZSlcbiAgICB0aGlzLmxvY2tfdGltZW91dCA9IHZhbCgnbG9ja190aW1lb3V0JywgY29uZmlnLCBmYWxzZSlcbiAgICB0aGlzLmlkbGVfaW5fdHJhbnNhY3Rpb25fc2Vzc2lvbl90aW1lb3V0ID0gdmFsKCdpZGxlX2luX3RyYW5zYWN0aW9uX3Nlc3Npb25fdGltZW91dCcsIGNvbmZpZywgZmFsc2UpXG4gICAgdGhpcy5xdWVyeV90aW1lb3V0ID0gdmFsKCdxdWVyeV90aW1lb3V0JywgY29uZmlnLCBmYWxzZSlcblxuICAgIGlmIChjb25maWcuY29ubmVjdGlvblRpbWVvdXRNaWxsaXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5jb25uZWN0X3RpbWVvdXQgPSBwcm9jZXNzLmVudi5QR0NPTk5FQ1RfVElNRU9VVCB8fCAwXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29ubmVjdF90aW1lb3V0ID0gTWF0aC5mbG9vcihjb25maWcuY29ubmVjdGlvblRpbWVvdXRNaWxsaXMgLyAxMDAwKVxuICAgIH1cblxuICAgIGlmIChjb25maWcua2VlcEFsaXZlID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5rZWVwYWxpdmVzID0gMFxuICAgIH0gZWxzZSBpZiAoY29uZmlnLmtlZXBBbGl2ZSA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5rZWVwYWxpdmVzID0gMVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY29uZmlnLmtlZXBBbGl2ZUluaXRpYWxEZWxheU1pbGxpcyA9PT0gJ251bWJlcicpIHtcbiAgICAgIHRoaXMua2VlcGFsaXZlc19pZGxlID0gTWF0aC5mbG9vcihjb25maWcua2VlcEFsaXZlSW5pdGlhbERlbGF5TWlsbGlzIC8gMTAwMClcbiAgICB9XG4gIH1cblxuICBnZXRMaWJwcUNvbm5lY3Rpb25TdHJpbmcoY2IpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBbXVxuICAgIGFkZChwYXJhbXMsIHRoaXMsICd1c2VyJylcbiAgICBhZGQocGFyYW1zLCB0aGlzLCAncGFzc3dvcmQnKVxuICAgIGFkZChwYXJhbXMsIHRoaXMsICdwb3J0JylcbiAgICBhZGQocGFyYW1zLCB0aGlzLCAnYXBwbGljYXRpb25fbmFtZScpXG4gICAgYWRkKHBhcmFtcywgdGhpcywgJ2ZhbGxiYWNrX2FwcGxpY2F0aW9uX25hbWUnKVxuICAgIGFkZChwYXJhbXMsIHRoaXMsICdjb25uZWN0X3RpbWVvdXQnKVxuICAgIGFkZChwYXJhbXMsIHRoaXMsICdvcHRpb25zJylcblxuICAgIGNvbnN0IHNzbCA9IHR5cGVvZiB0aGlzLnNzbCA9PT0gJ29iamVjdCcgPyB0aGlzLnNzbCA6IHRoaXMuc3NsID8geyBzc2xtb2RlOiB0aGlzLnNzbCB9IDoge31cbiAgICBhZGQocGFyYW1zLCBzc2wsICdzc2xtb2RlJylcbiAgICBhZGQocGFyYW1zLCBzc2wsICdzc2xjYScpXG4gICAgYWRkKHBhcmFtcywgc3NsLCAnc3Nsa2V5JylcbiAgICBhZGQocGFyYW1zLCBzc2wsICdzc2xjZXJ0JylcbiAgICBhZGQocGFyYW1zLCBzc2wsICdzc2xyb290Y2VydCcpXG5cbiAgICBpZiAodGhpcy5kYXRhYmFzZSkge1xuICAgICAgcGFyYW1zLnB1c2goJ2RibmFtZT0nICsgcXVvdGVQYXJhbVZhbHVlKHRoaXMuZGF0YWJhc2UpKVxuICAgIH1cbiAgICBpZiAodGhpcy5yZXBsaWNhdGlvbikge1xuICAgICAgcGFyYW1zLnB1c2goJ3JlcGxpY2F0aW9uPScgKyBxdW90ZVBhcmFtVmFsdWUodGhpcy5yZXBsaWNhdGlvbikpXG4gICAgfVxuICAgIGlmICh0aGlzLmhvc3QpIHtcbiAgICAgIHBhcmFtcy5wdXNoKCdob3N0PScgKyBxdW90ZVBhcmFtVmFsdWUodGhpcy5ob3N0KSlcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNEb21haW5Tb2NrZXQpIHtcbiAgICAgIHJldHVybiBjYihudWxsLCBwYXJhbXMuam9pbignICcpKVxuICAgIH1cbiAgICBpZiAodGhpcy5jbGllbnRfZW5jb2RpbmcpIHtcbiAgICAgIHBhcmFtcy5wdXNoKCdjbGllbnRfZW5jb2Rpbmc9JyArIHF1b3RlUGFyYW1WYWx1ZSh0aGlzLmNsaWVudF9lbmNvZGluZykpXG4gICAgfVxuICAgIGRucy5sb29rdXAodGhpcy5ob3N0LCBmdW5jdGlvbiAoZXJyLCBhZGRyZXNzKSB7XG4gICAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyLCBudWxsKVxuICAgICAgcGFyYW1zLnB1c2goJ2hvc3RhZGRyPScgKyBxdW90ZVBhcmFtVmFsdWUoYWRkcmVzcykpXG4gICAgICByZXR1cm4gY2IobnVsbCwgcGFyYW1zLmpvaW4oJyAnKSlcbiAgICB9KVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ29ubmVjdGlvblBhcmFtZXRlcnNcbiIsICIndXNlIHN0cmljdCdcblxuY29uc3QgdHlwZXMgPSByZXF1aXJlKCdwZy10eXBlcycpXG5cbmNvbnN0IG1hdGNoUmVnZXhwID0gL14oW0EtWmEtel0rKSg/OiAoXFxkKykpPyg/OiAoXFxkKykpPy9cblxuLy8gcmVzdWx0IG9iamVjdCByZXR1cm5lZCBmcm9tIHF1ZXJ5XG4vLyBpbiB0aGUgJ2VuZCcgZXZlbnQgYW5kIGFsc29cbi8vIHBhc3NlZCBhcyBzZWNvbmQgYXJndW1lbnQgdG8gcHJvdmlkZWQgY2FsbGJhY2tcbmNsYXNzIFJlc3VsdCB7XG4gIGNvbnN0cnVjdG9yKHJvd01vZGUsIHR5cGVzKSB7XG4gICAgdGhpcy5jb21tYW5kID0gbnVsbFxuICAgIHRoaXMucm93Q291bnQgPSBudWxsXG4gICAgdGhpcy5vaWQgPSBudWxsXG4gICAgdGhpcy5yb3dzID0gW11cbiAgICB0aGlzLmZpZWxkcyA9IFtdXG4gICAgdGhpcy5fcGFyc2VycyA9IHVuZGVmaW5lZFxuICAgIHRoaXMuX3R5cGVzID0gdHlwZXNcbiAgICB0aGlzLlJvd0N0b3IgPSBudWxsXG4gICAgdGhpcy5yb3dBc0FycmF5ID0gcm93TW9kZSA9PT0gJ2FycmF5J1xuICAgIGlmICh0aGlzLnJvd0FzQXJyYXkpIHtcbiAgICAgIHRoaXMucGFyc2VSb3cgPSB0aGlzLl9wYXJzZVJvd0FzQXJyYXlcbiAgICB9XG4gICAgdGhpcy5fcHJlYnVpbHRFbXB0eVJlc3VsdE9iamVjdCA9IG51bGxcbiAgfVxuXG4gIC8vIGFkZHMgYSBjb21tYW5kIGNvbXBsZXRlIG1lc3NhZ2VcbiAgYWRkQ29tbWFuZENvbXBsZXRlKG1zZykge1xuICAgIGxldCBtYXRjaFxuICAgIGlmIChtc2cudGV4dCkge1xuICAgICAgLy8gcHVyZSBqYXZhc2NyaXB0XG4gICAgICBtYXRjaCA9IG1hdGNoUmVnZXhwLmV4ZWMobXNnLnRleHQpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG5hdGl2ZSBiaW5kaW5nc1xuICAgICAgbWF0Y2ggPSBtYXRjaFJlZ2V4cC5leGVjKG1zZy5jb21tYW5kKVxuICAgIH1cbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIHRoaXMuY29tbWFuZCA9IG1hdGNoWzFdXG4gICAgICBpZiAobWF0Y2hbM10pIHtcbiAgICAgICAgLy8gQ09NTUFORCBPSUQgUk9XU1xuICAgICAgICB0aGlzLm9pZCA9IHBhcnNlSW50KG1hdGNoWzJdLCAxMClcbiAgICAgICAgdGhpcy5yb3dDb3VudCA9IHBhcnNlSW50KG1hdGNoWzNdLCAxMClcbiAgICAgIH0gZWxzZSBpZiAobWF0Y2hbMl0pIHtcbiAgICAgICAgLy8gQ09NTUFORCBST1dTXG4gICAgICAgIHRoaXMucm93Q291bnQgPSBwYXJzZUludChtYXRjaFsyXSwgMTApXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX3BhcnNlUm93QXNBcnJheShyb3dEYXRhKSB7XG4gICAgY29uc3Qgcm93ID0gbmV3IEFycmF5KHJvd0RhdGEubGVuZ3RoKVxuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSByb3dEYXRhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb25zdCByYXdWYWx1ZSA9IHJvd0RhdGFbaV1cbiAgICAgIGlmIChyYXdWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICByb3dbaV0gPSB0aGlzLl9wYXJzZXJzW2ldKHJhd1ZhbHVlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm93W2ldID0gbnVsbFxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcm93XG4gIH1cblxuICBwYXJzZVJvdyhyb3dEYXRhKSB7XG4gICAgY29uc3Qgcm93ID0geyAuLi50aGlzLl9wcmVidWlsdEVtcHR5UmVzdWx0T2JqZWN0IH1cbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcm93RGF0YS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgY29uc3QgcmF3VmFsdWUgPSByb3dEYXRhW2ldXG4gICAgICBjb25zdCBmaWVsZCA9IHRoaXMuZmllbGRzW2ldLm5hbWVcbiAgICAgIGlmIChyYXdWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCB2ID0gdGhpcy5maWVsZHNbaV0uZm9ybWF0ID09PSAnYmluYXJ5JyA/IEJ1ZmZlci5mcm9tKHJhd1ZhbHVlKSA6IHJhd1ZhbHVlXG4gICAgICAgIHJvd1tmaWVsZF0gPSB0aGlzLl9wYXJzZXJzW2ldKHYpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb3dbZmllbGRdID0gbnVsbFxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcm93XG4gIH1cblxuICBhZGRSb3cocm93KSB7XG4gICAgdGhpcy5yb3dzLnB1c2gocm93KVxuICB9XG5cbiAgYWRkRmllbGRzKGZpZWxkRGVzY3JpcHRpb25zKSB7XG4gICAgLy8gY2xlYXJzIGZpZWxkIGRlZmluaXRpb25zXG4gICAgLy8gbXVsdGlwbGUgcXVlcnkgc3RhdGVtZW50cyBpbiAxIGFjdGlvbiBjYW4gcmVzdWx0IGluIG11bHRpcGxlIHNldHNcbiAgICAvLyBvZiByb3dEZXNjcmlwdGlvbnMuLi5lZzogJ3NlbGVjdCBOT1coKTsgc2VsZWN0IDE6OmludDsnXG4gICAgLy8geW91IG5lZWQgdG8gcmVzZXQgdGhlIGZpZWxkc1xuICAgIHRoaXMuZmllbGRzID0gZmllbGREZXNjcmlwdGlvbnNcbiAgICBpZiAodGhpcy5maWVsZHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLl9wYXJzZXJzID0gbmV3IEFycmF5KGZpZWxkRGVzY3JpcHRpb25zLmxlbmd0aClcbiAgICB9XG5cbiAgICBjb25zdCByb3cgPSB7fVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZERlc2NyaXB0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZGVzYyA9IGZpZWxkRGVzY3JpcHRpb25zW2ldXG4gICAgICByb3dbZGVzYy5uYW1lXSA9IG51bGxcblxuICAgICAgaWYgKHRoaXMuX3R5cGVzKSB7XG4gICAgICAgIHRoaXMuX3BhcnNlcnNbaV0gPSB0aGlzLl90eXBlcy5nZXRUeXBlUGFyc2VyKGRlc2MuZGF0YVR5cGVJRCwgZGVzYy5mb3JtYXQgfHwgJ3RleHQnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcGFyc2Vyc1tpXSA9IHR5cGVzLmdldFR5cGVQYXJzZXIoZGVzYy5kYXRhVHlwZUlELCBkZXNjLmZvcm1hdCB8fCAndGV4dCcpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fcHJlYnVpbHRFbXB0eVJlc3VsdE9iamVjdCA9IHsgLi4ucm93IH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlc3VsdFxuIiwgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCB7IEV2ZW50RW1pdHRlciB9ID0gcmVxdWlyZSgnZXZlbnRzJylcblxuY29uc3QgUmVzdWx0ID0gcmVxdWlyZSgnLi9yZXN1bHQnKVxuY29uc3QgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJylcblxuY2xhc3MgUXVlcnkgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIHZhbHVlcywgY2FsbGJhY2spIHtcbiAgICBzdXBlcigpXG5cbiAgICBjb25maWcgPSB1dGlscy5ub3JtYWxpemVRdWVyeUNvbmZpZyhjb25maWcsIHZhbHVlcywgY2FsbGJhY2spXG5cbiAgICB0aGlzLnRleHQgPSBjb25maWcudGV4dFxuICAgIHRoaXMudmFsdWVzID0gY29uZmlnLnZhbHVlc1xuICAgIHRoaXMucm93cyA9IGNvbmZpZy5yb3dzXG4gICAgdGhpcy50eXBlcyA9IGNvbmZpZy50eXBlc1xuICAgIHRoaXMubmFtZSA9IGNvbmZpZy5uYW1lXG4gICAgdGhpcy5xdWVyeU1vZGUgPSBjb25maWcucXVlcnlNb2RlXG4gICAgdGhpcy5iaW5hcnkgPSBjb25maWcuYmluYXJ5XG4gICAgLy8gdXNlIHVuaXF1ZSBwb3J0YWwgbmFtZSBlYWNoIHRpbWVcbiAgICB0aGlzLnBvcnRhbCA9IGNvbmZpZy5wb3J0YWwgfHwgJydcbiAgICB0aGlzLmNhbGxiYWNrID0gY29uZmlnLmNhbGxiYWNrXG4gICAgdGhpcy5fcm93TW9kZSA9IGNvbmZpZy5yb3dNb2RlXG4gICAgaWYgKHByb2Nlc3MuZG9tYWluICYmIGNvbmZpZy5jYWxsYmFjaykge1xuICAgICAgdGhpcy5jYWxsYmFjayA9IHByb2Nlc3MuZG9tYWluLmJpbmQoY29uZmlnLmNhbGxiYWNrKVxuICAgIH1cbiAgICB0aGlzLl9yZXN1bHQgPSBuZXcgUmVzdWx0KHRoaXMuX3Jvd01vZGUsIHRoaXMudHlwZXMpXG5cbiAgICAvLyBwb3RlbnRpYWwgZm9yIG11bHRpcGxlIHJlc3VsdHNcbiAgICB0aGlzLl9yZXN1bHRzID0gdGhpcy5fcmVzdWx0XG4gICAgdGhpcy5fY2FuY2VsZWREdWVUb0Vycm9yID0gZmFsc2VcbiAgfVxuXG4gIHJlcXVpcmVzUHJlcGFyYXRpb24oKSB7XG4gICAgaWYgKHRoaXMucXVlcnlNb2RlID09PSAnZXh0ZW5kZWQnKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIC8vIG5hbWVkIHF1ZXJpZXMgbXVzdCBhbHdheXMgYmUgcHJlcGFyZWRcbiAgICBpZiAodGhpcy5uYW1lKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICAvLyBhbHdheXMgcHJlcGFyZSBpZiB0aGVyZSBhcmUgbWF4IG51bWJlciBvZiByb3dzIGV4cGVjdGVkIHBlclxuICAgIC8vIHBvcnRhbCBleGVjdXRpb25cbiAgICBpZiAodGhpcy5yb3dzKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICAvLyBkb24ndCBwcmVwYXJlIGVtcHR5IHRleHQgcXVlcmllc1xuICAgIGlmICghdGhpcy50ZXh0KSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgLy8gcHJlcGFyZSBpZiB0aGVyZSBhcmUgdmFsdWVzXG4gICAgaWYgKCF0aGlzLnZhbHVlcykge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIHJldHVybiB0aGlzLnZhbHVlcy5sZW5ndGggPiAwXG4gIH1cblxuICBfY2hlY2tGb3JNdWx0aXJvdygpIHtcbiAgICAvLyBpZiB3ZSBhbHJlYWR5IGhhdmUgYSByZXN1bHQgd2l0aCBhIGNvbW1hbmQgcHJvcGVydHlcbiAgICAvLyB0aGVuIHdlJ3ZlIGFscmVhZHkgZXhlY3V0ZWQgb25lIHF1ZXJ5IGluIGEgbXVsdGktc3RhdGVtZW50IHNpbXBsZSBxdWVyeVxuICAgIC8vIHR1cm4gb3VyIHJlc3VsdHMgaW50byBhbiBhcnJheSBvZiByZXN1bHRzXG4gICAgaWYgKHRoaXMuX3Jlc3VsdC5jb21tYW5kKSB7XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5fcmVzdWx0cykpIHtcbiAgICAgICAgdGhpcy5fcmVzdWx0cyA9IFt0aGlzLl9yZXN1bHRdXG4gICAgICB9XG4gICAgICB0aGlzLl9yZXN1bHQgPSBuZXcgUmVzdWx0KHRoaXMuX3Jvd01vZGUsIHRoaXMuX3Jlc3VsdC5fdHlwZXMpXG4gICAgICB0aGlzLl9yZXN1bHRzLnB1c2godGhpcy5fcmVzdWx0KVxuICAgIH1cbiAgfVxuXG4gIC8vIGFzc29jaWF0ZXMgcm93IG1ldGFkYXRhIGZyb20gdGhlIHN1cHBsaWVkXG4gIC8vIG1lc3NhZ2Ugd2l0aCB0aGlzIHF1ZXJ5IG9iamVjdFxuICAvLyBtZXRhZGF0YSB1c2VkIHdoZW4gcGFyc2luZyByb3cgcmVzdWx0c1xuICBoYW5kbGVSb3dEZXNjcmlwdGlvbihtc2cpIHtcbiAgICB0aGlzLl9jaGVja0Zvck11bHRpcm93KClcbiAgICB0aGlzLl9yZXN1bHQuYWRkRmllbGRzKG1zZy5maWVsZHMpXG4gICAgdGhpcy5fYWNjdW11bGF0ZVJvd3MgPSB0aGlzLmNhbGxiYWNrIHx8ICF0aGlzLmxpc3RlbmVycygncm93JykubGVuZ3RoXG4gIH1cblxuICBoYW5kbGVEYXRhUm93KG1zZykge1xuICAgIGxldCByb3dcblxuICAgIGlmICh0aGlzLl9jYW5jZWxlZER1ZVRvRXJyb3IpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICByb3cgPSB0aGlzLl9yZXN1bHQucGFyc2VSb3cobXNnLmZpZWxkcylcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuX2NhbmNlbGVkRHVlVG9FcnJvciA9IGVyclxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdGhpcy5lbWl0KCdyb3cnLCByb3csIHRoaXMuX3Jlc3VsdClcbiAgICBpZiAodGhpcy5fYWNjdW11bGF0ZVJvd3MpIHtcbiAgICAgIHRoaXMuX3Jlc3VsdC5hZGRSb3cocm93KVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUNvbW1hbmRDb21wbGV0ZShtc2csIGNvbm5lY3Rpb24pIHtcbiAgICB0aGlzLl9jaGVja0Zvck11bHRpcm93KClcbiAgICB0aGlzLl9yZXN1bHQuYWRkQ29tbWFuZENvbXBsZXRlKG1zZylcbiAgICAvLyBuZWVkIHRvIHN5bmMgYWZ0ZXIgZWFjaCBjb21tYW5kIGNvbXBsZXRlIG9mIGEgcHJlcGFyZWQgc3RhdGVtZW50XG4gICAgLy8gaWYgd2Ugd2VyZSB1c2luZyBhIHJvdyBjb3VudCB3aGljaCByZXN1bHRzIGluIG11bHRpcGxlIGNhbGxzIHRvIF9nZXRSb3dzXG4gICAgaWYgKHRoaXMucm93cykge1xuICAgICAgY29ubmVjdGlvbi5zeW5jKClcbiAgICB9XG4gIH1cblxuICAvLyBpZiBhIG5hbWVkIHByZXBhcmVkIHN0YXRlbWVudCBpcyBjcmVhdGVkIHdpdGggZW1wdHkgcXVlcnkgdGV4dFxuICAvLyB0aGUgYmFja2VuZCB3aWxsIHNlbmQgYW4gZW1wdHlRdWVyeSBtZXNzYWdlIGJ1dCAqbm90KiBhIGNvbW1hbmQgY29tcGxldGUgbWVzc2FnZVxuICAvLyBzaW5jZSB3ZSBwaXBlbGluZSBzeW5jIGltbWVkaWF0ZWx5IGFmdGVyIGV4ZWN1dGUgd2UgZG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZyBoZXJlXG4gIC8vIHVubGVzcyB3ZSBoYXZlIHJvd3Mgc3BlY2lmaWVkLCBpbiB3aGljaCBjYXNlIHdlIGRpZCBub3QgcGlwZWxpbmUgdGhlIGluaXRpYWwgc3luYyBjYWxsXG4gIGhhbmRsZUVtcHR5UXVlcnkoY29ubmVjdGlvbikge1xuICAgIGlmICh0aGlzLnJvd3MpIHtcbiAgICAgIGNvbm5lY3Rpb24uc3luYygpXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlRXJyb3IoZXJyLCBjb25uZWN0aW9uKSB7XG4gICAgLy8gbmVlZCB0byBzeW5jIGFmdGVyIGVycm9yIGR1cmluZyBhIHByZXBhcmVkIHN0YXRlbWVudFxuICAgIGlmICh0aGlzLl9jYW5jZWxlZER1ZVRvRXJyb3IpIHtcbiAgICAgIGVyciA9IHRoaXMuX2NhbmNlbGVkRHVlVG9FcnJvclxuICAgICAgdGhpcy5fY2FuY2VsZWREdWVUb0Vycm9yID0gZmFsc2VcbiAgICB9XG4gICAgLy8gaWYgY2FsbGJhY2sgc3VwcGxpZWQgZG8gbm90IGVtaXQgZXJyb3IgZXZlbnQgYXMgdW5jYXVnaHQgZXJyb3JcbiAgICAvLyBldmVudHMgd2lsbCBidWJibGUgdXAgdG8gbm9kZSBwcm9jZXNzXG4gICAgaWYgKHRoaXMuY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbGxiYWNrKGVycilcbiAgICB9XG4gICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycilcbiAgfVxuXG4gIGhhbmRsZVJlYWR5Rm9yUXVlcnkoY29uKSB7XG4gICAgaWYgKHRoaXMuX2NhbmNlbGVkRHVlVG9FcnJvcikge1xuICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlRXJyb3IodGhpcy5fY2FuY2VsZWREdWVUb0Vycm9yLCBjb24pXG4gICAgfVxuICAgIGlmICh0aGlzLmNhbGxiYWNrKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrKG51bGwsIHRoaXMuX3Jlc3VsdHMpXG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgdGhyb3cgZXJyXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZW1pdCgnZW5kJywgdGhpcy5fcmVzdWx0cylcbiAgfVxuXG4gIHN1Ym1pdChjb25uZWN0aW9uKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLnRleHQgIT09ICdzdHJpbmcnICYmIHR5cGVvZiB0aGlzLm5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdBIHF1ZXJ5IG11c3QgaGF2ZSBlaXRoZXIgdGV4dCBvciBhIG5hbWUuIFN1cHBseWluZyBuZWl0aGVyIGlzIHVuc3VwcG9ydGVkLicpXG4gICAgfVxuICAgIGNvbnN0IHByZXZpb3VzID0gY29ubmVjdGlvbi5wYXJzZWRTdGF0ZW1lbnRzW3RoaXMubmFtZV1cbiAgICBpZiAodGhpcy50ZXh0ICYmIHByZXZpb3VzICYmIHRoaXMudGV4dCAhPT0gcHJldmlvdXMpIHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoYFByZXBhcmVkIHN0YXRlbWVudHMgbXVzdCBiZSB1bmlxdWUgLSAnJHt0aGlzLm5hbWV9JyB3YXMgdXNlZCBmb3IgYSBkaWZmZXJlbnQgc3RhdGVtZW50YClcbiAgICB9XG4gICAgaWYgKHRoaXMudmFsdWVzICYmICFBcnJheS5pc0FycmF5KHRoaXMudmFsdWVzKSkge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignUXVlcnkgdmFsdWVzIG11c3QgYmUgYW4gYXJyYXknKVxuICAgIH1cbiAgICBpZiAodGhpcy5yZXF1aXJlc1ByZXBhcmF0aW9uKCkpIHtcbiAgICAgIC8vIElmIHdlJ3JlIHVzaW5nIHRoZSBleHRlbmRlZCBxdWVyeSBwcm90b2NvbCB3ZSBmaXJlIG9mZiBzZXZlcmFsIHNlcGFyYXRlIGNvbW1hbmRzXG4gICAgICAvLyB0byB0aGUgYmFja2VuZC4gT24gc29tZSB2ZXJzaW9ucyBvZiBub2RlICYgc29tZSBvcGVyYXRpbmcgc3lzdGVtIHZlcnNpb25zXG4gICAgICAvLyB0aGUgbmV0d29yayBzdGFjayB3cml0ZXMgZWFjaCBtZXNzYWdlIHNlcGFyYXRlbHkgaW5zdGVhZCBvZiBidWZmZXJpbmcgdGhlbSB0b2dldGhlclxuICAgICAgLy8gY2F1c2luZyB0aGUgY2xpZW50ICYgbmV0d29yayB0byBzZW5kIG1vcmUgc2xvd2x5LiBDb3JraW5nICYgdW5jb3JraW5nIHRoZSBzdHJlYW1cbiAgICAgIC8vIGFsbG93cyBub2RlIHRvIGJ1ZmZlciB1cCB0aGUgbWVzc2FnZXMgaW50ZXJuYWxseSBiZWZvcmUgc2VuZGluZyB0aGVtIGFsbCBvZmYgYXQgb25jZS5cbiAgICAgIC8vIG5vdGU6IHdlJ3JlIGNoZWNraW5nIGZvciBleGlzdGVuY2Ugb2YgY29yay91bmNvcmsgYmVjYXVzZSBzb21lIHZlcnNpb25zIG9mIHN0cmVhbXNcbiAgICAgIC8vIG1pZ2h0IG5vdCBoYXZlIHRoaXMgKGNsb3VkZmxhcmU/KVxuICAgICAgY29ubmVjdGlvbi5zdHJlYW0uY29yayAmJiBjb25uZWN0aW9uLnN0cmVhbS5jb3JrKClcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMucHJlcGFyZShjb25uZWN0aW9uKVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgLy8gd2hpbGUgdW5saWtlbHkgZm9yIHRoaXMucHJlcGFyZSB0byB0aHJvdywgaWYgaXQgZG9lcyAmIHdlIGRvbid0IHVuY29yayB0aGlzIHN0cmVhbVxuICAgICAgICAvLyB0aGlzIGNsaWVudCBiZWNvbWVzIHVucmVzcG9uc2l2ZSwgc28gcHV0IGluIGZpbmFsbHkgYmxvY2sgXCJqdXN0IGluIGNhc2VcIlxuICAgICAgICBjb25uZWN0aW9uLnN0cmVhbS51bmNvcmsgJiYgY29ubmVjdGlvbi5zdHJlYW0udW5jb3JrKClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29ubmVjdGlvbi5xdWVyeSh0aGlzLnRleHQpXG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBoYXNCZWVuUGFyc2VkKGNvbm5lY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lICYmIGNvbm5lY3Rpb24ucGFyc2VkU3RhdGVtZW50c1t0aGlzLm5hbWVdXG4gIH1cblxuICBoYW5kbGVQb3J0YWxTdXNwZW5kZWQoY29ubmVjdGlvbikge1xuICAgIHRoaXMuX2dldFJvd3MoY29ubmVjdGlvbiwgdGhpcy5yb3dzKVxuICB9XG5cbiAgX2dldFJvd3MoY29ubmVjdGlvbiwgcm93cykge1xuICAgIGNvbm5lY3Rpb24uZXhlY3V0ZSh7XG4gICAgICBwb3J0YWw6IHRoaXMucG9ydGFsLFxuICAgICAgcm93czogcm93cyxcbiAgICB9KVxuICAgIC8vIGlmIHdlJ3JlIG5vdCByZWFkaW5nIHBhZ2VzIG9mIHJvd3Mgc2VuZCB0aGUgc3luYyBjb21tYW5kXG4gICAgLy8gdG8gaW5kaWNhdGUgdGhlIHBpcGVsaW5lIGlzIGZpbmlzaGVkXG4gICAgaWYgKCFyb3dzKSB7XG4gICAgICBjb25uZWN0aW9uLnN5bmMoKVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBvdGhlcndpc2UgZmx1c2ggdGhlIGNhbGwgb3V0IHRvIHJlYWQgbW9yZSByb3dzXG4gICAgICBjb25uZWN0aW9uLmZsdXNoKClcbiAgICB9XG4gIH1cblxuICAvLyBodHRwOi8vZGV2ZWxvcGVyLnBvc3RncmVzcWwub3JnL3BnZG9jcy9wb3N0Z3Jlcy9wcm90b2NvbC1mbG93Lmh0bWwjUFJPVE9DT0wtRkxPVy1FWFQtUVVFUllcbiAgcHJlcGFyZShjb25uZWN0aW9uKSB7XG4gICAgLy8gVE9ETyByZWZhY3RvciB0aGlzIHBvb3IgZW5jYXBzdWxhdGlvblxuICAgIGlmICghdGhpcy5oYXNCZWVuUGFyc2VkKGNvbm5lY3Rpb24pKSB7XG4gICAgICBjb25uZWN0aW9uLnBhcnNlKHtcbiAgICAgICAgdGV4dDogdGhpcy50ZXh0LFxuICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgIHR5cGVzOiB0aGlzLnR5cGVzLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBiZWNhdXNlIHdlJ3JlIG1hcHBpbmcgdXNlciBzdXBwbGllZCB2YWx1ZXMgdG9cbiAgICAvLyBwb3N0Z3JlcyB3aXJlIHByb3RvY29sIGNvbXBhdGlibGUgdmFsdWVzIGl0IGNvdWxkXG4gICAgLy8gdGhyb3cgYW4gZXhjZXB0aW9uLCBzbyB0cnkvY2F0Y2ggdGhpcyBzZWN0aW9uXG4gICAgdHJ5IHtcbiAgICAgIGNvbm5lY3Rpb24uYmluZCh7XG4gICAgICAgIHBvcnRhbDogdGhpcy5wb3J0YWwsXG4gICAgICAgIHN0YXRlbWVudDogdGhpcy5uYW1lLFxuICAgICAgICB2YWx1ZXM6IHRoaXMudmFsdWVzLFxuICAgICAgICBiaW5hcnk6IHRoaXMuYmluYXJ5LFxuICAgICAgICB2YWx1ZU1hcHBlcjogdXRpbHMucHJlcGFyZVZhbHVlLFxuICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyLCBjb25uZWN0aW9uKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29ubmVjdGlvbi5kZXNjcmliZSh7XG4gICAgICB0eXBlOiAnUCcsXG4gICAgICBuYW1lOiB0aGlzLnBvcnRhbCB8fCAnJyxcbiAgICB9KVxuXG4gICAgdGhpcy5fZ2V0Um93cyhjb25uZWN0aW9uLCB0aGlzLnJvd3MpXG4gIH1cblxuICBoYW5kbGVDb3B5SW5SZXNwb25zZShjb25uZWN0aW9uKSB7XG4gICAgY29ubmVjdGlvbi5zZW5kQ29weUZhaWwoJ05vIHNvdXJjZSBzdHJlYW0gZGVmaW5lZCcpXG4gIH1cblxuICBoYW5kbGVDb3B5RGF0YShtc2csIGNvbm5lY3Rpb24pIHtcbiAgICAvLyBub29wXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBRdWVyeVxuIiwgImV4cG9ydCB0eXBlIE1vZGUgPSAndGV4dCcgfCAnYmluYXJ5J1xuXG5leHBvcnQgdHlwZSBNZXNzYWdlTmFtZSA9XG4gIHwgJ3BhcnNlQ29tcGxldGUnXG4gIHwgJ2JpbmRDb21wbGV0ZSdcbiAgfCAnY2xvc2VDb21wbGV0ZSdcbiAgfCAnbm9EYXRhJ1xuICB8ICdwb3J0YWxTdXNwZW5kZWQnXG4gIHwgJ3JlcGxpY2F0aW9uU3RhcnQnXG4gIHwgJ2VtcHR5UXVlcnknXG4gIHwgJ2NvcHlEb25lJ1xuICB8ICdjb3B5RGF0YSdcbiAgfCAncm93RGVzY3JpcHRpb24nXG4gIHwgJ3BhcmFtZXRlckRlc2NyaXB0aW9uJ1xuICB8ICdwYXJhbWV0ZXJTdGF0dXMnXG4gIHwgJ2JhY2tlbmRLZXlEYXRhJ1xuICB8ICdub3RpZmljYXRpb24nXG4gIHwgJ3JlYWR5Rm9yUXVlcnknXG4gIHwgJ2NvbW1hbmRDb21wbGV0ZSdcbiAgfCAnZGF0YVJvdydcbiAgfCAnY29weUluUmVzcG9uc2UnXG4gIHwgJ2NvcHlPdXRSZXNwb25zZSdcbiAgfCAnYXV0aGVudGljYXRpb25PaydcbiAgfCAnYXV0aGVudGljYXRpb25NRDVQYXNzd29yZCdcbiAgfCAnYXV0aGVudGljYXRpb25DbGVhcnRleHRQYXNzd29yZCdcbiAgfCAnYXV0aGVudGljYXRpb25TQVNMJ1xuICB8ICdhdXRoZW50aWNhdGlvblNBU0xDb250aW51ZSdcbiAgfCAnYXV0aGVudGljYXRpb25TQVNMRmluYWwnXG4gIHwgJ2Vycm9yJ1xuICB8ICdub3RpY2UnXG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFja2VuZE1lc3NhZ2Uge1xuICBuYW1lOiBNZXNzYWdlTmFtZVxuICBsZW5ndGg6IG51bWJlclxufVxuXG5leHBvcnQgY29uc3QgcGFyc2VDb21wbGV0ZTogQmFja2VuZE1lc3NhZ2UgPSB7XG4gIG5hbWU6ICdwYXJzZUNvbXBsZXRlJyxcbiAgbGVuZ3RoOiA1LFxufVxuXG5leHBvcnQgY29uc3QgYmluZENvbXBsZXRlOiBCYWNrZW5kTWVzc2FnZSA9IHtcbiAgbmFtZTogJ2JpbmRDb21wbGV0ZScsXG4gIGxlbmd0aDogNSxcbn1cblxuZXhwb3J0IGNvbnN0IGNsb3NlQ29tcGxldGU6IEJhY2tlbmRNZXNzYWdlID0ge1xuICBuYW1lOiAnY2xvc2VDb21wbGV0ZScsXG4gIGxlbmd0aDogNSxcbn1cblxuZXhwb3J0IGNvbnN0IG5vRGF0YTogQmFja2VuZE1lc3NhZ2UgPSB7XG4gIG5hbWU6ICdub0RhdGEnLFxuICBsZW5ndGg6IDUsXG59XG5cbmV4cG9ydCBjb25zdCBwb3J0YWxTdXNwZW5kZWQ6IEJhY2tlbmRNZXNzYWdlID0ge1xuICBuYW1lOiAncG9ydGFsU3VzcGVuZGVkJyxcbiAgbGVuZ3RoOiA1LFxufVxuXG5leHBvcnQgY29uc3QgcmVwbGljYXRpb25TdGFydDogQmFja2VuZE1lc3NhZ2UgPSB7XG4gIG5hbWU6ICdyZXBsaWNhdGlvblN0YXJ0JyxcbiAgbGVuZ3RoOiA0LFxufVxuXG5leHBvcnQgY29uc3QgZW1wdHlRdWVyeTogQmFja2VuZE1lc3NhZ2UgPSB7XG4gIG5hbWU6ICdlbXB0eVF1ZXJ5JyxcbiAgbGVuZ3RoOiA0LFxufVxuXG5leHBvcnQgY29uc3QgY29weURvbmU6IEJhY2tlbmRNZXNzYWdlID0ge1xuICBuYW1lOiAnY29weURvbmUnLFxuICBsZW5ndGg6IDQsXG59XG5cbmludGVyZmFjZSBOb3RpY2VPckVycm9yIHtcbiAgbWVzc2FnZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHNldmVyaXR5OiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgY29kZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGRldGFpbDogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGhpbnQ6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwb3NpdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGludGVybmFsUG9zaXRpb246IHN0cmluZyB8IHVuZGVmaW5lZFxuICBpbnRlcm5hbFF1ZXJ5OiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgd2hlcmU6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBzY2hlbWE6IHN0cmluZyB8IHVuZGVmaW5lZFxuICB0YWJsZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGNvbHVtbjogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGRhdGFUeXBlOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgY29uc3RyYWludDogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGZpbGU6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBsaW5lOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcm91dGluZTogc3RyaW5nIHwgdW5kZWZpbmVkXG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhYmFzZUVycm9yIGV4dGVuZHMgRXJyb3IgaW1wbGVtZW50cyBOb3RpY2VPckVycm9yIHtcbiAgcHVibGljIHNldmVyaXR5OiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIGNvZGU6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgZGV0YWlsOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIGhpbnQ6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgcG9zaXRpb246IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgaW50ZXJuYWxQb3NpdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyBpbnRlcm5hbFF1ZXJ5OiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIHdoZXJlOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIHNjaGVtYTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyB0YWJsZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyBjb2x1bW46IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgZGF0YVR5cGU6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgY29uc3RyYWludDogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyBmaWxlOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIGxpbmU6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgcm91dGluZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGNvbnN0cnVjdG9yKFxuICAgIG1lc3NhZ2U6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IE1lc3NhZ2VOYW1lXG4gICkge1xuICAgIHN1cGVyKG1lc3NhZ2UpXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvcHlEYXRhTWVzc2FnZSB7XG4gIHB1YmxpYyByZWFkb25seSBuYW1lID0gJ2NvcHlEYXRhJ1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGNodW5rOiBCdWZmZXJcbiAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgQ29weVJlc3BvbnNlIHtcbiAgcHVibGljIHJlYWRvbmx5IGNvbHVtblR5cGVzOiBudW1iZXJbXVxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IE1lc3NhZ2VOYW1lLFxuICAgIHB1YmxpYyByZWFkb25seSBiaW5hcnk6IGJvb2xlYW4sXG4gICAgY29sdW1uQ291bnQ6IG51bWJlclxuICApIHtcbiAgICB0aGlzLmNvbHVtblR5cGVzID0gbmV3IEFycmF5KGNvbHVtbkNvdW50KVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWVsZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmcsXG4gICAgcHVibGljIHJlYWRvbmx5IHRhYmxlSUQ6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29sdW1uSUQ6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGF0YVR5cGVJRDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBkYXRhVHlwZVNpemU6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGF0YVR5cGVNb2RpZmllcjogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBmb3JtYXQ6IE1vZGVcbiAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgUm93RGVzY3JpcHRpb25NZXNzYWdlIHtcbiAgcHVibGljIHJlYWRvbmx5IG5hbWU6IE1lc3NhZ2VOYW1lID0gJ3Jvd0Rlc2NyaXB0aW9uJ1xuICBwdWJsaWMgcmVhZG9ubHkgZmllbGRzOiBGaWVsZFtdXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBsZW5ndGg6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgZmllbGRDb3VudDogbnVtYmVyXG4gICkge1xuICAgIHRoaXMuZmllbGRzID0gbmV3IEFycmF5KHRoaXMuZmllbGRDb3VudClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFyYW1ldGVyRGVzY3JpcHRpb25NZXNzYWdlIHtcbiAgcHVibGljIHJlYWRvbmx5IG5hbWU6IE1lc3NhZ2VOYW1lID0gJ3BhcmFtZXRlckRlc2NyaXB0aW9uJ1xuICBwdWJsaWMgcmVhZG9ubHkgZGF0YVR5cGVJRHM6IG51bWJlcltdXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBsZW5ndGg6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFyYW1ldGVyQ291bnQ6IG51bWJlclxuICApIHtcbiAgICB0aGlzLmRhdGFUeXBlSURzID0gbmV3IEFycmF5KHRoaXMucGFyYW1ldGVyQ291bnQpXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhcmFtZXRlclN0YXR1c01lc3NhZ2Uge1xuICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogTWVzc2FnZU5hbWUgPSAncGFyYW1ldGVyU3RhdHVzJ1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHBhcmFtZXRlck5hbWU6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFyYW1ldGVyVmFsdWU6IHN0cmluZ1xuICApIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBBdXRoZW50aWNhdGlvbk1ENVBhc3N3b3JkIGltcGxlbWVudHMgQmFja2VuZE1lc3NhZ2Uge1xuICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogTWVzc2FnZU5hbWUgPSAnYXV0aGVudGljYXRpb25NRDVQYXNzd29yZCdcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGxlbmd0aDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBzYWx0OiBCdWZmZXJcbiAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgQmFja2VuZEtleURhdGFNZXNzYWdlIHtcbiAgcHVibGljIHJlYWRvbmx5IG5hbWU6IE1lc3NhZ2VOYW1lID0gJ2JhY2tlbmRLZXlEYXRhJ1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHByb2Nlc3NJRDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBzZWNyZXRLZXk6IG51bWJlclxuICApIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBOb3RpZmljYXRpb25SZXNwb25zZU1lc3NhZ2Uge1xuICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogTWVzc2FnZU5hbWUgPSAnbm90aWZpY2F0aW9uJ1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHByb2Nlc3NJZDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBjaGFubmVsOiBzdHJpbmcsXG4gICAgcHVibGljIHJlYWRvbmx5IHBheWxvYWQ6IHN0cmluZ1xuICApIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBSZWFkeUZvclF1ZXJ5TWVzc2FnZSB7XG4gIHB1YmxpYyByZWFkb25seSBuYW1lOiBNZXNzYWdlTmFtZSA9ICdyZWFkeUZvclF1ZXJ5J1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHN0YXR1czogc3RyaW5nXG4gICkge31cbn1cblxuZXhwb3J0IGNsYXNzIENvbW1hbmRDb21wbGV0ZU1lc3NhZ2Uge1xuICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogTWVzc2FnZU5hbWUgPSAnY29tbWFuZENvbXBsZXRlJ1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHRleHQ6IHN0cmluZ1xuICApIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhUm93TWVzc2FnZSB7XG4gIHB1YmxpYyByZWFkb25seSBmaWVsZENvdW50OiBudW1iZXJcbiAgcHVibGljIHJlYWRvbmx5IG5hbWU6IE1lc3NhZ2VOYW1lID0gJ2RhdGFSb3cnXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBsZW5ndGg6IG51bWJlcixcbiAgICBwdWJsaWMgZmllbGRzOiBhbnlbXVxuICApIHtcbiAgICB0aGlzLmZpZWxkQ291bnQgPSBmaWVsZHMubGVuZ3RoXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5vdGljZU1lc3NhZ2UgaW1wbGVtZW50cyBCYWNrZW5kTWVzc2FnZSwgTm90aWNlT3JFcnJvciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBsZW5ndGg6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgbWVzc2FnZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gICkge31cbiAgcHVibGljIHJlYWRvbmx5IG5hbWUgPSAnbm90aWNlJ1xuICBwdWJsaWMgc2V2ZXJpdHk6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgY29kZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyBkZXRhaWw6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgaGludDogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyBwb3NpdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyBpbnRlcm5hbFBvc2l0aW9uOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIGludGVybmFsUXVlcnk6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgd2hlcmU6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgc2NoZW1hOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIHRhYmxlOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIGNvbHVtbjogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyBkYXRhVHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyBjb25zdHJhaW50OiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIGZpbGU6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgbGluZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyByb3V0aW5lOiBzdHJpbmcgfCB1bmRlZmluZWRcbn1cbiIsICIvL2JpbmFyeSBkYXRhIHdyaXRlciB0dW5lZCBmb3IgZW5jb2RpbmcgYmluYXJ5IHNwZWNpZmljIHRvIHRoZSBwb3N0Z3JlcyBiaW5hcnkgcHJvdG9jb2xcblxuZXhwb3J0IGNsYXNzIFdyaXRlciB7XG4gIHByaXZhdGUgYnVmZmVyOiBCdWZmZXJcbiAgcHJpdmF0ZSBvZmZzZXQ6IG51bWJlciA9IDVcbiAgcHJpdmF0ZSBoZWFkZXJQb3NpdGlvbjogbnVtYmVyID0gMFxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHNpemUgPSAyNTYpIHtcbiAgICB0aGlzLmJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShzaXplKVxuICB9XG5cbiAgcHJpdmF0ZSBlbnN1cmUoc2l6ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgcmVtYWluaW5nID0gdGhpcy5idWZmZXIubGVuZ3RoIC0gdGhpcy5vZmZzZXRcbiAgICBpZiAocmVtYWluaW5nIDwgc2l6ZSkge1xuICAgICAgY29uc3Qgb2xkQnVmZmVyID0gdGhpcy5idWZmZXJcbiAgICAgIC8vIGV4cG9uZW50aWFsIGdyb3d0aCBmYWN0b3Igb2YgYXJvdW5kIH4gMS41XG4gICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMjY5MDYzL2J1ZmZlci1ncm93dGgtc3RyYXRlZ3lcbiAgICAgIGNvbnN0IG5ld1NpemUgPSBvbGRCdWZmZXIubGVuZ3RoICsgKG9sZEJ1ZmZlci5sZW5ndGggPj4gMSkgKyBzaXplXG4gICAgICB0aGlzLmJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShuZXdTaXplKVxuICAgICAgb2xkQnVmZmVyLmNvcHkodGhpcy5idWZmZXIpXG4gICAgfVxuICB9XG5cbiAgcHVibGljIGFkZEludDMyKG51bTogbnVtYmVyKTogV3JpdGVyIHtcbiAgICB0aGlzLmVuc3VyZSg0KVxuICAgIHRoaXMuYnVmZmVyW3RoaXMub2Zmc2V0KytdID0gKG51bSA+Pj4gMjQpICYgMHhmZlxuICAgIHRoaXMuYnVmZmVyW3RoaXMub2Zmc2V0KytdID0gKG51bSA+Pj4gMTYpICYgMHhmZlxuICAgIHRoaXMuYnVmZmVyW3RoaXMub2Zmc2V0KytdID0gKG51bSA+Pj4gOCkgJiAweGZmXG4gICAgdGhpcy5idWZmZXJbdGhpcy5vZmZzZXQrK10gPSAobnVtID4+PiAwKSAmIDB4ZmZcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgcHVibGljIGFkZEludDE2KG51bTogbnVtYmVyKTogV3JpdGVyIHtcbiAgICB0aGlzLmVuc3VyZSgyKVxuICAgIHRoaXMuYnVmZmVyW3RoaXMub2Zmc2V0KytdID0gKG51bSA+Pj4gOCkgJiAweGZmXG4gICAgdGhpcy5idWZmZXJbdGhpcy5vZmZzZXQrK10gPSAobnVtID4+PiAwKSAmIDB4ZmZcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgcHVibGljIGFkZENTdHJpbmcoc3RyaW5nOiBzdHJpbmcpOiBXcml0ZXIge1xuICAgIGlmICghc3RyaW5nKSB7XG4gICAgICB0aGlzLmVuc3VyZSgxKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBsZW4gPSBCdWZmZXIuYnl0ZUxlbmd0aChzdHJpbmcpXG4gICAgICB0aGlzLmVuc3VyZShsZW4gKyAxKSAvLyArMSBmb3IgbnVsbCB0ZXJtaW5hdG9yXG4gICAgICB0aGlzLmJ1ZmZlci53cml0ZShzdHJpbmcsIHRoaXMub2Zmc2V0LCAndXRmLTgnKVxuICAgICAgdGhpcy5vZmZzZXQgKz0gbGVuXG4gICAgfVxuXG4gICAgdGhpcy5idWZmZXJbdGhpcy5vZmZzZXQrK10gPSAwIC8vIG51bGwgdGVybWluYXRvclxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBwdWJsaWMgYWRkU3RyaW5nKHN0cmluZzogc3RyaW5nID0gJycpOiBXcml0ZXIge1xuICAgIGNvbnN0IGxlbiA9IEJ1ZmZlci5ieXRlTGVuZ3RoKHN0cmluZylcbiAgICB0aGlzLmVuc3VyZShsZW4pXG4gICAgdGhpcy5idWZmZXIud3JpdGUoc3RyaW5nLCB0aGlzLm9mZnNldClcbiAgICB0aGlzLm9mZnNldCArPSBsZW5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgcHVibGljIGFkZChvdGhlckJ1ZmZlcjogQnVmZmVyKTogV3JpdGVyIHtcbiAgICB0aGlzLmVuc3VyZShvdGhlckJ1ZmZlci5sZW5ndGgpXG4gICAgb3RoZXJCdWZmZXIuY29weSh0aGlzLmJ1ZmZlciwgdGhpcy5vZmZzZXQpXG4gICAgdGhpcy5vZmZzZXQgKz0gb3RoZXJCdWZmZXIubGVuZ3RoXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHByaXZhdGUgam9pbihjb2RlPzogbnVtYmVyKTogQnVmZmVyIHtcbiAgICBpZiAoY29kZSkge1xuICAgICAgdGhpcy5idWZmZXJbdGhpcy5oZWFkZXJQb3NpdGlvbl0gPSBjb2RlXG4gICAgICAvL2xlbmd0aCBpcyBldmVyeXRoaW5nIGluIHRoaXMgcGFja2V0IG1pbnVzIHRoZSBjb2RlXG4gICAgICBjb25zdCBsZW5ndGggPSB0aGlzLm9mZnNldCAtICh0aGlzLmhlYWRlclBvc2l0aW9uICsgMSlcbiAgICAgIHRoaXMuYnVmZmVyLndyaXRlSW50MzJCRShsZW5ndGgsIHRoaXMuaGVhZGVyUG9zaXRpb24gKyAxKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5idWZmZXIuc2xpY2UoY29kZSA/IDAgOiA1LCB0aGlzLm9mZnNldClcbiAgfVxuXG4gIHB1YmxpYyBmbHVzaChjb2RlPzogbnVtYmVyKTogQnVmZmVyIHtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmpvaW4oY29kZSlcbiAgICB0aGlzLm9mZnNldCA9IDVcbiAgICB0aGlzLmhlYWRlclBvc2l0aW9uID0gMFxuICAgIHRoaXMuYnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlKHRoaXMuc2l6ZSlcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBXcml0ZXIgfSBmcm9tICcuL2J1ZmZlci13cml0ZXInXG5cbmNvbnN0IGVudW0gY29kZSB7XG4gIHN0YXJ0dXAgPSAweDcwLFxuICBxdWVyeSA9IDB4NTEsXG4gIHBhcnNlID0gMHg1MCxcbiAgYmluZCA9IDB4NDIsXG4gIGV4ZWN1dGUgPSAweDQ1LFxuICBmbHVzaCA9IDB4NDgsXG4gIHN5bmMgPSAweDUzLFxuICBlbmQgPSAweDU4LFxuICBjbG9zZSA9IDB4NDMsXG4gIGRlc2NyaWJlID0gMHg0NCxcbiAgY29weUZyb21DaHVuayA9IDB4NjQsXG4gIGNvcHlEb25lID0gMHg2MyxcbiAgY29weUZhaWwgPSAweDY2LFxufVxuXG5jb25zdCB3cml0ZXIgPSBuZXcgV3JpdGVyKClcblxuY29uc3Qgc3RhcnR1cCA9IChvcHRzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KTogQnVmZmVyID0+IHtcbiAgLy8gcHJvdG9jb2wgdmVyc2lvblxuICB3cml0ZXIuYWRkSW50MTYoMykuYWRkSW50MTYoMClcbiAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMob3B0cykpIHtcbiAgICB3cml0ZXIuYWRkQ1N0cmluZyhrZXkpLmFkZENTdHJpbmcob3B0c1trZXldKVxuICB9XG5cbiAgd3JpdGVyLmFkZENTdHJpbmcoJ2NsaWVudF9lbmNvZGluZycpLmFkZENTdHJpbmcoJ1VURjgnKVxuXG4gIGNvbnN0IGJvZHlCdWZmZXIgPSB3cml0ZXIuYWRkQ1N0cmluZygnJykuZmx1c2goKVxuICAvLyB0aGlzIG1lc3NhZ2UgaXMgc2VudCB3aXRob3V0IGEgY29kZVxuXG4gIGNvbnN0IGxlbmd0aCA9IGJvZHlCdWZmZXIubGVuZ3RoICsgNFxuXG4gIHJldHVybiBuZXcgV3JpdGVyKCkuYWRkSW50MzIobGVuZ3RoKS5hZGQoYm9keUJ1ZmZlcikuZmx1c2goKVxufVxuXG5jb25zdCByZXF1ZXN0U3NsID0gKCk6IEJ1ZmZlciA9PiB7XG4gIGNvbnN0IHJlc3BvbnNlID0gQnVmZmVyLmFsbG9jVW5zYWZlKDgpXG4gIHJlc3BvbnNlLndyaXRlSW50MzJCRSg4LCAwKVxuICByZXNwb25zZS53cml0ZUludDMyQkUoODA4NzcxMDMsIDQpXG4gIHJldHVybiByZXNwb25zZVxufVxuXG5jb25zdCBwYXNzd29yZCA9IChwYXNzd29yZDogc3RyaW5nKTogQnVmZmVyID0+IHtcbiAgcmV0dXJuIHdyaXRlci5hZGRDU3RyaW5nKHBhc3N3b3JkKS5mbHVzaChjb2RlLnN0YXJ0dXApXG59XG5cbmNvbnN0IHNlbmRTQVNMSW5pdGlhbFJlc3BvbnNlTWVzc2FnZSA9IGZ1bmN0aW9uIChtZWNoYW5pc206IHN0cmluZywgaW5pdGlhbFJlc3BvbnNlOiBzdHJpbmcpOiBCdWZmZXIge1xuICAvLyAweDcwID0gJ3AnXG4gIHdyaXRlci5hZGRDU3RyaW5nKG1lY2hhbmlzbSkuYWRkSW50MzIoQnVmZmVyLmJ5dGVMZW5ndGgoaW5pdGlhbFJlc3BvbnNlKSkuYWRkU3RyaW5nKGluaXRpYWxSZXNwb25zZSlcblxuICByZXR1cm4gd3JpdGVyLmZsdXNoKGNvZGUuc3RhcnR1cClcbn1cblxuY29uc3Qgc2VuZFNDUkFNQ2xpZW50RmluYWxNZXNzYWdlID0gZnVuY3Rpb24gKGFkZGl0aW9uYWxEYXRhOiBzdHJpbmcpOiBCdWZmZXIge1xuICByZXR1cm4gd3JpdGVyLmFkZFN0cmluZyhhZGRpdGlvbmFsRGF0YSkuZmx1c2goY29kZS5zdGFydHVwKVxufVxuXG5jb25zdCBxdWVyeSA9ICh0ZXh0OiBzdHJpbmcpOiBCdWZmZXIgPT4ge1xuICByZXR1cm4gd3JpdGVyLmFkZENTdHJpbmcodGV4dCkuZmx1c2goY29kZS5xdWVyeSlcbn1cblxudHlwZSBQYXJzZU9wdHMgPSB7XG4gIG5hbWU/OiBzdHJpbmdcbiAgdHlwZXM/OiBudW1iZXJbXVxuICB0ZXh0OiBzdHJpbmdcbn1cblxuY29uc3QgZW1wdHlBcnJheTogYW55W10gPSBbXVxuXG5jb25zdCBwYXJzZSA9IChxdWVyeTogUGFyc2VPcHRzKTogQnVmZmVyID0+IHtcbiAgLy8gZXhwZWN0IHNvbWV0aGluZyBsaWtlIHRoaXM6XG4gIC8vIHsgbmFtZTogJ3F1ZXJ5TmFtZScsXG4gIC8vICAgdGV4dDogJ3NlbGVjdCAqIGZyb20gYmxhaCcsXG4gIC8vICAgdHlwZXM6IFsnaW50OCcsICdib29sJ10gfVxuXG4gIC8vIG5vcm1hbGl6ZSBtaXNzaW5nIHF1ZXJ5IG5hbWVzIHRvIGFsbG93IGZvciBudWxsXG4gIGNvbnN0IG5hbWUgPSBxdWVyeS5uYW1lIHx8ICcnXG4gIGlmIChuYW1lLmxlbmd0aCA+IDYzKSB7XG4gICAgY29uc29sZS5lcnJvcignV2FybmluZyEgUG9zdGdyZXMgb25seSBzdXBwb3J0cyA2MyBjaGFyYWN0ZXJzIGZvciBxdWVyeSBuYW1lcy4nKVxuICAgIGNvbnNvbGUuZXJyb3IoJ1lvdSBzdXBwbGllZCAlcyAoJXMpJywgbmFtZSwgbmFtZS5sZW5ndGgpXG4gICAgY29uc29sZS5lcnJvcignVGhpcyBjYW4gY2F1c2UgY29uZmxpY3RzIGFuZCBzaWxlbnQgZXJyb3JzIGV4ZWN1dGluZyBxdWVyaWVzJylcbiAgfVxuXG4gIGNvbnN0IHR5cGVzID0gcXVlcnkudHlwZXMgfHwgZW1wdHlBcnJheVxuXG4gIGNvbnN0IGxlbiA9IHR5cGVzLmxlbmd0aFxuXG4gIGNvbnN0IGJ1ZmZlciA9IHdyaXRlclxuICAgIC5hZGRDU3RyaW5nKG5hbWUpIC8vIG5hbWUgb2YgcXVlcnlcbiAgICAuYWRkQ1N0cmluZyhxdWVyeS50ZXh0KSAvLyBhY3R1YWwgcXVlcnkgdGV4dFxuICAgIC5hZGRJbnQxNihsZW4pXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGJ1ZmZlci5hZGRJbnQzMih0eXBlc1tpXSlcbiAgfVxuXG4gIHJldHVybiB3cml0ZXIuZmx1c2goY29kZS5wYXJzZSlcbn1cblxudHlwZSBWYWx1ZU1hcHBlciA9IChwYXJhbTogYW55LCBpbmRleDogbnVtYmVyKSA9PiBhbnlcblxudHlwZSBCaW5kT3B0cyA9IHtcbiAgcG9ydGFsPzogc3RyaW5nXG4gIGJpbmFyeT86IGJvb2xlYW5cbiAgc3RhdGVtZW50Pzogc3RyaW5nXG4gIHZhbHVlcz86IGFueVtdXG4gIC8vIG9wdGlvbmFsIG1hcCBmcm9tIEpTIHZhbHVlIHRvIHBvc3RncmVzIHZhbHVlIHBlciBwYXJhbWV0ZXJcbiAgdmFsdWVNYXBwZXI/OiBWYWx1ZU1hcHBlclxufVxuXG5jb25zdCBwYXJhbVdyaXRlciA9IG5ldyBXcml0ZXIoKVxuXG4vLyBtYWtlIHRoaXMgYSBjb25zdCBlbnVtIHNvIHR5cGVzY3JpcHQgd2lsbCBpbmxpbmUgdGhlIHZhbHVlXG5jb25zdCBlbnVtIFBhcmFtVHlwZSB7XG4gIFNUUklORyA9IDAsXG4gIEJJTkFSWSA9IDEsXG59XG5cbmNvbnN0IHdyaXRlVmFsdWVzID0gZnVuY3Rpb24gKHZhbHVlczogYW55W10sIHZhbHVlTWFwcGVyPzogVmFsdWVNYXBwZXIpOiB2b2lkIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBtYXBwZWRWYWwgPSB2YWx1ZU1hcHBlciA/IHZhbHVlTWFwcGVyKHZhbHVlc1tpXSwgaSkgOiB2YWx1ZXNbaV1cbiAgICBpZiAobWFwcGVkVmFsID09IG51bGwpIHtcbiAgICAgIC8vIGFkZCB0aGUgcGFyYW0gdHlwZSAoc3RyaW5nKSB0byB0aGUgd3JpdGVyXG4gICAgICB3cml0ZXIuYWRkSW50MTYoUGFyYW1UeXBlLlNUUklORylcbiAgICAgIC8vIHdyaXRlIC0xIHRvIHRoZSBwYXJhbSB3cml0ZXIgdG8gaW5kaWNhdGUgbnVsbFxuICAgICAgcGFyYW1Xcml0ZXIuYWRkSW50MzIoLTEpXG4gICAgfSBlbHNlIGlmIChtYXBwZWRWYWwgaW5zdGFuY2VvZiBCdWZmZXIpIHtcbiAgICAgIC8vIGFkZCB0aGUgcGFyYW0gdHlwZSAoYmluYXJ5KSB0byB0aGUgd3JpdGVyXG4gICAgICB3cml0ZXIuYWRkSW50MTYoUGFyYW1UeXBlLkJJTkFSWSlcbiAgICAgIC8vIGFkZCB0aGUgYnVmZmVyIHRvIHRoZSBwYXJhbSB3cml0ZXJcbiAgICAgIHBhcmFtV3JpdGVyLmFkZEludDMyKG1hcHBlZFZhbC5sZW5ndGgpXG4gICAgICBwYXJhbVdyaXRlci5hZGQobWFwcGVkVmFsKVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhZGQgdGhlIHBhcmFtIHR5cGUgKHN0cmluZykgdG8gdGhlIHdyaXRlclxuICAgICAgd3JpdGVyLmFkZEludDE2KFBhcmFtVHlwZS5TVFJJTkcpXG4gICAgICBwYXJhbVdyaXRlci5hZGRJbnQzMihCdWZmZXIuYnl0ZUxlbmd0aChtYXBwZWRWYWwpKVxuICAgICAgcGFyYW1Xcml0ZXIuYWRkU3RyaW5nKG1hcHBlZFZhbClcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgYmluZCA9IChjb25maWc6IEJpbmRPcHRzID0ge30pOiBCdWZmZXIgPT4ge1xuICAvLyBub3JtYWxpemUgY29uZmlnXG4gIGNvbnN0IHBvcnRhbCA9IGNvbmZpZy5wb3J0YWwgfHwgJydcbiAgY29uc3Qgc3RhdGVtZW50ID0gY29uZmlnLnN0YXRlbWVudCB8fCAnJ1xuICBjb25zdCBiaW5hcnkgPSBjb25maWcuYmluYXJ5IHx8IGZhbHNlXG4gIGNvbnN0IHZhbHVlcyA9IGNvbmZpZy52YWx1ZXMgfHwgZW1wdHlBcnJheVxuICBjb25zdCBsZW4gPSB2YWx1ZXMubGVuZ3RoXG5cbiAgd3JpdGVyLmFkZENTdHJpbmcocG9ydGFsKS5hZGRDU3RyaW5nKHN0YXRlbWVudClcbiAgd3JpdGVyLmFkZEludDE2KGxlbilcblxuICB3cml0ZVZhbHVlcyh2YWx1ZXMsIGNvbmZpZy52YWx1ZU1hcHBlcilcblxuICB3cml0ZXIuYWRkSW50MTYobGVuKVxuICB3cml0ZXIuYWRkKHBhcmFtV3JpdGVyLmZsdXNoKCkpXG5cbiAgLy8gYWxsIHJlc3VsdHMgdXNlIHRoZSBzYW1lIGZvcm1hdCBjb2RlXG4gIHdyaXRlci5hZGRJbnQxNigxKVxuICAvLyBmb3JtYXQgY29kZVxuICB3cml0ZXIuYWRkSW50MTYoYmluYXJ5ID8gUGFyYW1UeXBlLkJJTkFSWSA6IFBhcmFtVHlwZS5TVFJJTkcpXG4gIHJldHVybiB3cml0ZXIuZmx1c2goY29kZS5iaW5kKVxufVxuXG50eXBlIEV4ZWNPcHRzID0ge1xuICBwb3J0YWw/OiBzdHJpbmdcbiAgcm93cz86IG51bWJlclxufVxuXG5jb25zdCBlbXB0eUV4ZWN1dGUgPSBCdWZmZXIuZnJvbShbY29kZS5leGVjdXRlLCAweDAwLCAweDAwLCAweDAwLCAweDA5LCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwXSlcblxuY29uc3QgZXhlY3V0ZSA9IChjb25maWc/OiBFeGVjT3B0cyk6IEJ1ZmZlciA9PiB7XG4gIC8vIHRoaXMgaXMgdGhlIGhhcHB5IHBhdGggZm9yIG1vc3QgcXVlcmllc1xuICBpZiAoIWNvbmZpZyB8fCAoIWNvbmZpZy5wb3J0YWwgJiYgIWNvbmZpZy5yb3dzKSkge1xuICAgIHJldHVybiBlbXB0eUV4ZWN1dGVcbiAgfVxuXG4gIGNvbnN0IHBvcnRhbCA9IGNvbmZpZy5wb3J0YWwgfHwgJydcbiAgY29uc3Qgcm93cyA9IGNvbmZpZy5yb3dzIHx8IDBcblxuICBjb25zdCBwb3J0YWxMZW5ndGggPSBCdWZmZXIuYnl0ZUxlbmd0aChwb3J0YWwpXG4gIGNvbnN0IGxlbiA9IDQgKyBwb3J0YWxMZW5ndGggKyAxICsgNFxuICAvLyBvbmUgZXh0cmEgYml0IGZvciBjb2RlXG4gIGNvbnN0IGJ1ZmYgPSBCdWZmZXIuYWxsb2NVbnNhZmUoMSArIGxlbilcbiAgYnVmZlswXSA9IGNvZGUuZXhlY3V0ZVxuICBidWZmLndyaXRlSW50MzJCRShsZW4sIDEpXG4gIGJ1ZmYud3JpdGUocG9ydGFsLCA1LCAndXRmLTgnKVxuICBidWZmW3BvcnRhbExlbmd0aCArIDVdID0gMCAvLyBudWxsIHRlcm1pbmF0ZSBwb3J0YWwgY1N0cmluZ1xuICBidWZmLndyaXRlVUludDMyQkUocm93cywgYnVmZi5sZW5ndGggLSA0KVxuICByZXR1cm4gYnVmZlxufVxuXG5jb25zdCBjYW5jZWwgPSAocHJvY2Vzc0lEOiBudW1iZXIsIHNlY3JldEtleTogbnVtYmVyKTogQnVmZmVyID0+IHtcbiAgY29uc3QgYnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlKDE2KVxuICBidWZmZXIud3JpdGVJbnQzMkJFKDE2LCAwKVxuICBidWZmZXIud3JpdGVJbnQxNkJFKDEyMzQsIDQpXG4gIGJ1ZmZlci53cml0ZUludDE2QkUoNTY3OCwgNilcbiAgYnVmZmVyLndyaXRlSW50MzJCRShwcm9jZXNzSUQsIDgpXG4gIGJ1ZmZlci53cml0ZUludDMyQkUoc2VjcmV0S2V5LCAxMilcbiAgcmV0dXJuIGJ1ZmZlclxufVxuXG50eXBlIFBvcnRhbE9wdHMgPSB7XG4gIHR5cGU6ICdTJyB8ICdQJ1xuICBuYW1lPzogc3RyaW5nXG59XG5cbmNvbnN0IGNzdHJpbmdNZXNzYWdlID0gKGNvZGU6IGNvZGUsIHN0cmluZzogc3RyaW5nKTogQnVmZmVyID0+IHtcbiAgY29uc3Qgc3RyaW5nTGVuID0gQnVmZmVyLmJ5dGVMZW5ndGgoc3RyaW5nKVxuICBjb25zdCBsZW4gPSA0ICsgc3RyaW5nTGVuICsgMVxuICAvLyBvbmUgZXh0cmEgYml0IGZvciBjb2RlXG4gIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZSgxICsgbGVuKVxuICBidWZmZXJbMF0gPSBjb2RlXG4gIGJ1ZmZlci53cml0ZUludDMyQkUobGVuLCAxKVxuICBidWZmZXIud3JpdGUoc3RyaW5nLCA1LCAndXRmLTgnKVxuICBidWZmZXJbbGVuXSA9IDAgLy8gbnVsbCB0ZXJtaW5hdGUgY1N0cmluZ1xuICByZXR1cm4gYnVmZmVyXG59XG5cbmNvbnN0IGVtcHR5RGVzY3JpYmVQb3J0YWwgPSB3cml0ZXIuYWRkQ1N0cmluZygnUCcpLmZsdXNoKGNvZGUuZGVzY3JpYmUpXG5jb25zdCBlbXB0eURlc2NyaWJlU3RhdGVtZW50ID0gd3JpdGVyLmFkZENTdHJpbmcoJ1MnKS5mbHVzaChjb2RlLmRlc2NyaWJlKVxuXG5jb25zdCBkZXNjcmliZSA9IChtc2c6IFBvcnRhbE9wdHMpOiBCdWZmZXIgPT4ge1xuICByZXR1cm4gbXNnLm5hbWVcbiAgICA/IGNzdHJpbmdNZXNzYWdlKGNvZGUuZGVzY3JpYmUsIGAke21zZy50eXBlfSR7bXNnLm5hbWUgfHwgJyd9YClcbiAgICA6IG1zZy50eXBlID09PSAnUCdcbiAgICA/IGVtcHR5RGVzY3JpYmVQb3J0YWxcbiAgICA6IGVtcHR5RGVzY3JpYmVTdGF0ZW1lbnRcbn1cblxuY29uc3QgY2xvc2UgPSAobXNnOiBQb3J0YWxPcHRzKTogQnVmZmVyID0+IHtcbiAgY29uc3QgdGV4dCA9IGAke21zZy50eXBlfSR7bXNnLm5hbWUgfHwgJyd9YFxuICByZXR1cm4gY3N0cmluZ01lc3NhZ2UoY29kZS5jbG9zZSwgdGV4dClcbn1cblxuY29uc3QgY29weURhdGEgPSAoY2h1bms6IEJ1ZmZlcik6IEJ1ZmZlciA9PiB7XG4gIHJldHVybiB3cml0ZXIuYWRkKGNodW5rKS5mbHVzaChjb2RlLmNvcHlGcm9tQ2h1bmspXG59XG5cbmNvbnN0IGNvcHlGYWlsID0gKG1lc3NhZ2U6IHN0cmluZyk6IEJ1ZmZlciA9PiB7XG4gIHJldHVybiBjc3RyaW5nTWVzc2FnZShjb2RlLmNvcHlGYWlsLCBtZXNzYWdlKVxufVxuXG5jb25zdCBjb2RlT25seUJ1ZmZlciA9IChjb2RlOiBjb2RlKTogQnVmZmVyID0+IEJ1ZmZlci5mcm9tKFtjb2RlLCAweDAwLCAweDAwLCAweDAwLCAweDA0XSlcblxuY29uc3QgZmx1c2hCdWZmZXIgPSBjb2RlT25seUJ1ZmZlcihjb2RlLmZsdXNoKVxuY29uc3Qgc3luY0J1ZmZlciA9IGNvZGVPbmx5QnVmZmVyKGNvZGUuc3luYylcbmNvbnN0IGVuZEJ1ZmZlciA9IGNvZGVPbmx5QnVmZmVyKGNvZGUuZW5kKVxuY29uc3QgY29weURvbmVCdWZmZXIgPSBjb2RlT25seUJ1ZmZlcihjb2RlLmNvcHlEb25lKVxuXG5jb25zdCBzZXJpYWxpemUgPSB7XG4gIHN0YXJ0dXAsXG4gIHBhc3N3b3JkLFxuICByZXF1ZXN0U3NsLFxuICBzZW5kU0FTTEluaXRpYWxSZXNwb25zZU1lc3NhZ2UsXG4gIHNlbmRTQ1JBTUNsaWVudEZpbmFsTWVzc2FnZSxcbiAgcXVlcnksXG4gIHBhcnNlLFxuICBiaW5kLFxuICBleGVjdXRlLFxuICBkZXNjcmliZSxcbiAgY2xvc2UsXG4gIGZsdXNoOiAoKSA9PiBmbHVzaEJ1ZmZlcixcbiAgc3luYzogKCkgPT4gc3luY0J1ZmZlcixcbiAgZW5kOiAoKSA9PiBlbmRCdWZmZXIsXG4gIGNvcHlEYXRhLFxuICBjb3B5RG9uZTogKCkgPT4gY29weURvbmVCdWZmZXIsXG4gIGNvcHlGYWlsLFxuICBjYW5jZWwsXG59XG5cbmV4cG9ydCB7IHNlcmlhbGl6ZSB9XG4iLCAiY29uc3QgZW1wdHlCdWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUoMClcblxuZXhwb3J0IGNsYXNzIEJ1ZmZlclJlYWRlciB7XG4gIHByaXZhdGUgYnVmZmVyOiBCdWZmZXIgPSBlbXB0eUJ1ZmZlclxuXG4gIC8vIFRPRE8oYm1jKTogc3VwcG9ydCBub24tdXRmOCBlbmNvZGluZz9cbiAgcHJpdmF0ZSBlbmNvZGluZzogc3RyaW5nID0gJ3V0Zi04J1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgb2Zmc2V0OiBudW1iZXIgPSAwKSB7fVxuXG4gIHB1YmxpYyBzZXRCdWZmZXIob2Zmc2V0OiBudW1iZXIsIGJ1ZmZlcjogQnVmZmVyKTogdm9pZCB7XG4gICAgdGhpcy5vZmZzZXQgPSBvZmZzZXRcbiAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlclxuICB9XG5cbiAgcHVibGljIGludDE2KCk6IG51bWJlciB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5idWZmZXIucmVhZEludDE2QkUodGhpcy5vZmZzZXQpXG4gICAgdGhpcy5vZmZzZXQgKz0gMlxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIHB1YmxpYyBieXRlKCk6IG51bWJlciB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5idWZmZXJbdGhpcy5vZmZzZXRdXG4gICAgdGhpcy5vZmZzZXQrK1xuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIHB1YmxpYyBpbnQzMigpOiBudW1iZXIge1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuYnVmZmVyLnJlYWRJbnQzMkJFKHRoaXMub2Zmc2V0KVxuICAgIHRoaXMub2Zmc2V0ICs9IDRcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBwdWJsaWMgdWludDMyKCk6IG51bWJlciB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5idWZmZXIucmVhZFVJbnQzMkJFKHRoaXMub2Zmc2V0KVxuICAgIHRoaXMub2Zmc2V0ICs9IDRcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBwdWJsaWMgc3RyaW5nKGxlbmd0aDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmJ1ZmZlci50b1N0cmluZyh0aGlzLmVuY29kaW5nLCB0aGlzLm9mZnNldCwgdGhpcy5vZmZzZXQgKyBsZW5ndGgpXG4gICAgdGhpcy5vZmZzZXQgKz0gbGVuZ3RoXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgcHVibGljIGNzdHJpbmcoKTogc3RyaW5nIHtcbiAgICBjb25zdCBzdGFydCA9IHRoaXMub2Zmc2V0XG4gICAgbGV0IGVuZCA9IHN0YXJ0XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgd2hpbGUgKHRoaXMuYnVmZmVyW2VuZCsrXSAhPT0gMCkge31cbiAgICB0aGlzLm9mZnNldCA9IGVuZFxuICAgIHJldHVybiB0aGlzLmJ1ZmZlci50b1N0cmluZyh0aGlzLmVuY29kaW5nLCBzdGFydCwgZW5kIC0gMSlcbiAgfVxuXG4gIHB1YmxpYyBieXRlcyhsZW5ndGg6IG51bWJlcik6IEJ1ZmZlciB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5idWZmZXIuc2xpY2UodGhpcy5vZmZzZXQsIHRoaXMub2Zmc2V0ICsgbGVuZ3RoKVxuICAgIHRoaXMub2Zmc2V0ICs9IGxlbmd0aFxuICAgIHJldHVybiByZXN1bHRcbiAgfVxufVxuIiwgImltcG9ydCB7IFRyYW5zZm9ybU9wdGlvbnMgfSBmcm9tICdzdHJlYW0nXG5pbXBvcnQge1xuICBNb2RlLFxuICBiaW5kQ29tcGxldGUsXG4gIHBhcnNlQ29tcGxldGUsXG4gIGNsb3NlQ29tcGxldGUsXG4gIG5vRGF0YSxcbiAgcG9ydGFsU3VzcGVuZGVkLFxuICBjb3B5RG9uZSxcbiAgcmVwbGljYXRpb25TdGFydCxcbiAgZW1wdHlRdWVyeSxcbiAgUmVhZHlGb3JRdWVyeU1lc3NhZ2UsXG4gIENvbW1hbmRDb21wbGV0ZU1lc3NhZ2UsXG4gIENvcHlEYXRhTWVzc2FnZSxcbiAgQ29weVJlc3BvbnNlLFxuICBOb3RpZmljYXRpb25SZXNwb25zZU1lc3NhZ2UsXG4gIFJvd0Rlc2NyaXB0aW9uTWVzc2FnZSxcbiAgUGFyYW1ldGVyRGVzY3JpcHRpb25NZXNzYWdlLFxuICBGaWVsZCxcbiAgRGF0YVJvd01lc3NhZ2UsXG4gIFBhcmFtZXRlclN0YXR1c01lc3NhZ2UsXG4gIEJhY2tlbmRLZXlEYXRhTWVzc2FnZSxcbiAgRGF0YWJhc2VFcnJvcixcbiAgQmFja2VuZE1lc3NhZ2UsXG4gIE1lc3NhZ2VOYW1lLFxuICBBdXRoZW50aWNhdGlvbk1ENVBhc3N3b3JkLFxuICBOb3RpY2VNZXNzYWdlLFxufSBmcm9tICcuL21lc3NhZ2VzJ1xuaW1wb3J0IHsgQnVmZmVyUmVhZGVyIH0gZnJvbSAnLi9idWZmZXItcmVhZGVyJ1xuXG4vLyBldmVyeSBtZXNzYWdlIGlzIHByZWZpeGVkIHdpdGggYSBzaW5nbGUgYnllXG5jb25zdCBDT0RFX0xFTkdUSCA9IDFcbi8vIGV2ZXJ5IG1lc3NhZ2UgaGFzIGFuIGludDMyIGxlbmd0aCB3aGljaCBpbmNsdWRlcyBpdHNlbGYgYnV0IGRvZXNcbi8vIE5PVCBpbmNsdWRlIHRoZSBjb2RlIGluIHRoZSBsZW5ndGhcbmNvbnN0IExFTl9MRU5HVEggPSA0XG5cbmNvbnN0IEhFQURFUl9MRU5HVEggPSBDT0RFX0xFTkdUSCArIExFTl9MRU5HVEhcblxuZXhwb3J0IHR5cGUgUGFja2V0ID0ge1xuICBjb2RlOiBudW1iZXJcbiAgcGFja2V0OiBCdWZmZXJcbn1cblxuY29uc3QgZW1wdHlCdWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUoMClcblxudHlwZSBTdHJlYW1PcHRpb25zID0gVHJhbnNmb3JtT3B0aW9ucyAmIHtcbiAgbW9kZTogTW9kZVxufVxuXG5jb25zdCBlbnVtIE1lc3NhZ2VDb2RlcyB7XG4gIERhdGFSb3cgPSAweDQ0LCAvLyBEXG4gIFBhcnNlQ29tcGxldGUgPSAweDMxLCAvLyAxXG4gIEJpbmRDb21wbGV0ZSA9IDB4MzIsIC8vIDJcbiAgQ2xvc2VDb21wbGV0ZSA9IDB4MzMsIC8vIDNcbiAgQ29tbWFuZENvbXBsZXRlID0gMHg0MywgLy8gQ1xuICBSZWFkeUZvclF1ZXJ5ID0gMHg1YSwgLy8gWlxuICBOb0RhdGEgPSAweDZlLCAvLyBuXG4gIE5vdGlmaWNhdGlvblJlc3BvbnNlID0gMHg0MSwgLy8gQVxuICBBdXRoZW50aWNhdGlvblJlc3BvbnNlID0gMHg1MiwgLy8gUlxuICBQYXJhbWV0ZXJTdGF0dXMgPSAweDUzLCAvLyBTXG4gIEJhY2tlbmRLZXlEYXRhID0gMHg0YiwgLy8gS1xuICBFcnJvck1lc3NhZ2UgPSAweDQ1LCAvLyBFXG4gIE5vdGljZU1lc3NhZ2UgPSAweDRlLCAvLyBOXG4gIFJvd0Rlc2NyaXB0aW9uTWVzc2FnZSA9IDB4NTQsIC8vIFRcbiAgUGFyYW1ldGVyRGVzY3JpcHRpb25NZXNzYWdlID0gMHg3NCwgLy8gdFxuICBQb3J0YWxTdXNwZW5kZWQgPSAweDczLCAvLyBzXG4gIFJlcGxpY2F0aW9uU3RhcnQgPSAweDU3LCAvLyBXXG4gIEVtcHR5UXVlcnkgPSAweDQ5LCAvLyBJXG4gIENvcHlJbiA9IDB4NDcsIC8vIEdcbiAgQ29weU91dCA9IDB4NDgsIC8vIEhcbiAgQ29weURvbmUgPSAweDYzLCAvLyBjXG4gIENvcHlEYXRhID0gMHg2NCwgLy8gZFxufVxuXG5leHBvcnQgdHlwZSBNZXNzYWdlQ2FsbGJhY2sgPSAobXNnOiBCYWNrZW5kTWVzc2FnZSkgPT4gdm9pZFxuXG5leHBvcnQgY2xhc3MgUGFyc2VyIHtcbiAgcHJpdmF0ZSBidWZmZXI6IEJ1ZmZlciA9IGVtcHR5QnVmZmVyXG4gIHByaXZhdGUgYnVmZmVyTGVuZ3RoOiBudW1iZXIgPSAwXG4gIHByaXZhdGUgYnVmZmVyT2Zmc2V0OiBudW1iZXIgPSAwXG4gIHByaXZhdGUgcmVhZGVyID0gbmV3IEJ1ZmZlclJlYWRlcigpXG4gIHByaXZhdGUgbW9kZTogTW9kZVxuXG4gIGNvbnN0cnVjdG9yKG9wdHM/OiBTdHJlYW1PcHRpb25zKSB7XG4gICAgaWYgKG9wdHM/Lm1vZGUgPT09ICdiaW5hcnknKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JpbmFyeSBtb2RlIG5vdCBzdXBwb3J0ZWQgeWV0JylcbiAgICB9XG4gICAgdGhpcy5tb2RlID0gb3B0cz8ubW9kZSB8fCAndGV4dCdcbiAgfVxuXG4gIHB1YmxpYyBwYXJzZShidWZmZXI6IEJ1ZmZlciwgY2FsbGJhY2s6IE1lc3NhZ2VDYWxsYmFjaykge1xuICAgIHRoaXMubWVyZ2VCdWZmZXIoYnVmZmVyKVxuICAgIGNvbnN0IGJ1ZmZlckZ1bGxMZW5ndGggPSB0aGlzLmJ1ZmZlck9mZnNldCArIHRoaXMuYnVmZmVyTGVuZ3RoXG4gICAgbGV0IG9mZnNldCA9IHRoaXMuYnVmZmVyT2Zmc2V0XG4gICAgd2hpbGUgKG9mZnNldCArIEhFQURFUl9MRU5HVEggPD0gYnVmZmVyRnVsbExlbmd0aCkge1xuICAgICAgLy8gY29kZSBpcyAxIGJ5dGUgbG9uZyAtIGl0IGlkZW50aWZpZXMgdGhlIG1lc3NhZ2UgdHlwZVxuICAgICAgY29uc3QgY29kZSA9IHRoaXMuYnVmZmVyW29mZnNldF1cbiAgICAgIC8vIGxlbmd0aCBpcyAxIFVpbnQzMkJFIC0gaXQgaXMgdGhlIGxlbmd0aCBvZiB0aGUgbWVzc2FnZSBFWENMVURJTkcgdGhlIGNvZGVcbiAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMuYnVmZmVyLnJlYWRVSW50MzJCRShvZmZzZXQgKyBDT0RFX0xFTkdUSClcbiAgICAgIGNvbnN0IGZ1bGxNZXNzYWdlTGVuZ3RoID0gQ09ERV9MRU5HVEggKyBsZW5ndGhcbiAgICAgIGlmIChmdWxsTWVzc2FnZUxlbmd0aCArIG9mZnNldCA8PSBidWZmZXJGdWxsTGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLmhhbmRsZVBhY2tldChvZmZzZXQgKyBIRUFERVJfTEVOR1RILCBjb2RlLCBsZW5ndGgsIHRoaXMuYnVmZmVyKVxuICAgICAgICBjYWxsYmFjayhtZXNzYWdlKVxuICAgICAgICBvZmZzZXQgKz0gZnVsbE1lc3NhZ2VMZW5ndGhcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvZmZzZXQgPT09IGJ1ZmZlckZ1bGxMZW5ndGgpIHtcbiAgICAgIC8vIE5vIG1vcmUgdXNlIGZvciB0aGUgYnVmZmVyXG4gICAgICB0aGlzLmJ1ZmZlciA9IGVtcHR5QnVmZmVyXG4gICAgICB0aGlzLmJ1ZmZlckxlbmd0aCA9IDBcbiAgICAgIHRoaXMuYnVmZmVyT2Zmc2V0ID0gMFxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBBZGp1c3QgdGhlIGN1cnNvcnMgb2YgcmVtYWluaW5nQnVmZmVyXG4gICAgICB0aGlzLmJ1ZmZlckxlbmd0aCA9IGJ1ZmZlckZ1bGxMZW5ndGggLSBvZmZzZXRcbiAgICAgIHRoaXMuYnVmZmVyT2Zmc2V0ID0gb2Zmc2V0XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBtZXJnZUJ1ZmZlcihidWZmZXI6IEJ1ZmZlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLmJ1ZmZlckxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IG5ld0xlbmd0aCA9IHRoaXMuYnVmZmVyTGVuZ3RoICsgYnVmZmVyLmJ5dGVMZW5ndGhcbiAgICAgIGNvbnN0IG5ld0Z1bGxMZW5ndGggPSBuZXdMZW5ndGggKyB0aGlzLmJ1ZmZlck9mZnNldFxuICAgICAgaWYgKG5ld0Z1bGxMZW5ndGggPiB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKSB7XG4gICAgICAgIC8vIFdlIGNhbid0IGNvbmNhdCB0aGUgbmV3IGJ1ZmZlciB3aXRoIHRoZSByZW1haW5pbmcgb25lXG4gICAgICAgIGxldCBuZXdCdWZmZXI6IEJ1ZmZlclxuICAgICAgICBpZiAobmV3TGVuZ3RoIDw9IHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGggJiYgdGhpcy5idWZmZXJPZmZzZXQgPj0gdGhpcy5idWZmZXJMZW5ndGgpIHtcbiAgICAgICAgICAvLyBXZSBjYW4gbW92ZSB0aGUgcmVsZXZhbnQgcGFydCB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBidWZmZXIgaW5zdGVhZCBvZiBhbGxvY2F0aW5nIGEgbmV3IGJ1ZmZlclxuICAgICAgICAgIG5ld0J1ZmZlciA9IHRoaXMuYnVmZmVyXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQWxsb2NhdGUgYSBuZXcgbGFyZ2VyIGJ1ZmZlclxuICAgICAgICAgIGxldCBuZXdCdWZmZXJMZW5ndGggPSB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoICogMlxuICAgICAgICAgIHdoaWxlIChuZXdMZW5ndGggPj0gbmV3QnVmZmVyTGVuZ3RoKSB7XG4gICAgICAgICAgICBuZXdCdWZmZXJMZW5ndGggKj0gMlxuICAgICAgICAgIH1cbiAgICAgICAgICBuZXdCdWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobmV3QnVmZmVyTGVuZ3RoKVxuICAgICAgICB9XG4gICAgICAgIC8vIE1vdmUgdGhlIHJlbWFpbmluZyBidWZmZXIgdG8gdGhlIG5ldyBvbmVcbiAgICAgICAgdGhpcy5idWZmZXIuY29weShuZXdCdWZmZXIsIDAsIHRoaXMuYnVmZmVyT2Zmc2V0LCB0aGlzLmJ1ZmZlck9mZnNldCArIHRoaXMuYnVmZmVyTGVuZ3RoKVxuICAgICAgICB0aGlzLmJ1ZmZlciA9IG5ld0J1ZmZlclxuICAgICAgICB0aGlzLmJ1ZmZlck9mZnNldCA9IDBcbiAgICAgIH1cbiAgICAgIC8vIENvbmNhdCB0aGUgbmV3IGJ1ZmZlciB3aXRoIHRoZSByZW1haW5pbmcgb25lXG4gICAgICBidWZmZXIuY29weSh0aGlzLmJ1ZmZlciwgdGhpcy5idWZmZXJPZmZzZXQgKyB0aGlzLmJ1ZmZlckxlbmd0aClcbiAgICAgIHRoaXMuYnVmZmVyTGVuZ3RoID0gbmV3TGVuZ3RoXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyXG4gICAgICB0aGlzLmJ1ZmZlck9mZnNldCA9IDBcbiAgICAgIHRoaXMuYnVmZmVyTGVuZ3RoID0gYnVmZmVyLmJ5dGVMZW5ndGhcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVBhY2tldChvZmZzZXQ6IG51bWJlciwgY29kZTogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlcik6IEJhY2tlbmRNZXNzYWdlIHtcbiAgICBzd2l0Y2ggKGNvZGUpIHtcbiAgICAgIGNhc2UgTWVzc2FnZUNvZGVzLkJpbmRDb21wbGV0ZTpcbiAgICAgICAgcmV0dXJuIGJpbmRDb21wbGV0ZVxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuUGFyc2VDb21wbGV0ZTpcbiAgICAgICAgcmV0dXJuIHBhcnNlQ29tcGxldGVcbiAgICAgIGNhc2UgTWVzc2FnZUNvZGVzLkNsb3NlQ29tcGxldGU6XG4gICAgICAgIHJldHVybiBjbG9zZUNvbXBsZXRlXG4gICAgICBjYXNlIE1lc3NhZ2VDb2Rlcy5Ob0RhdGE6XG4gICAgICAgIHJldHVybiBub0RhdGFcbiAgICAgIGNhc2UgTWVzc2FnZUNvZGVzLlBvcnRhbFN1c3BlbmRlZDpcbiAgICAgICAgcmV0dXJuIHBvcnRhbFN1c3BlbmRlZFxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuQ29weURvbmU6XG4gICAgICAgIHJldHVybiBjb3B5RG9uZVxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuUmVwbGljYXRpb25TdGFydDpcbiAgICAgICAgcmV0dXJuIHJlcGxpY2F0aW9uU3RhcnRcbiAgICAgIGNhc2UgTWVzc2FnZUNvZGVzLkVtcHR5UXVlcnk6XG4gICAgICAgIHJldHVybiBlbXB0eVF1ZXJ5XG4gICAgICBjYXNlIE1lc3NhZ2VDb2Rlcy5EYXRhUm93OlxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZURhdGFSb3dNZXNzYWdlKG9mZnNldCwgbGVuZ3RoLCBieXRlcylcbiAgICAgIGNhc2UgTWVzc2FnZUNvZGVzLkNvbW1hbmRDb21wbGV0ZTpcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VDb21tYW5kQ29tcGxldGVNZXNzYWdlKG9mZnNldCwgbGVuZ3RoLCBieXRlcylcbiAgICAgIGNhc2UgTWVzc2FnZUNvZGVzLlJlYWR5Rm9yUXVlcnk6XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlUmVhZHlGb3JRdWVyeU1lc3NhZ2Uob2Zmc2V0LCBsZW5ndGgsIGJ5dGVzKVxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuTm90aWZpY2F0aW9uUmVzcG9uc2U6XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlTm90aWZpY2F0aW9uTWVzc2FnZShvZmZzZXQsIGxlbmd0aCwgYnl0ZXMpXG4gICAgICBjYXNlIE1lc3NhZ2VDb2Rlcy5BdXRoZW50aWNhdGlvblJlc3BvbnNlOlxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUF1dGhlbnRpY2F0aW9uUmVzcG9uc2Uob2Zmc2V0LCBsZW5ndGgsIGJ5dGVzKVxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuUGFyYW1ldGVyU3RhdHVzOlxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVBhcmFtZXRlclN0YXR1c01lc3NhZ2Uob2Zmc2V0LCBsZW5ndGgsIGJ5dGVzKVxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuQmFja2VuZEtleURhdGE6XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlQmFja2VuZEtleURhdGEob2Zmc2V0LCBsZW5ndGgsIGJ5dGVzKVxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuRXJyb3JNZXNzYWdlOlxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUVycm9yTWVzc2FnZShvZmZzZXQsIGxlbmd0aCwgYnl0ZXMsICdlcnJvcicpXG4gICAgICBjYXNlIE1lc3NhZ2VDb2Rlcy5Ob3RpY2VNZXNzYWdlOlxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUVycm9yTWVzc2FnZShvZmZzZXQsIGxlbmd0aCwgYnl0ZXMsICdub3RpY2UnKVxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuUm93RGVzY3JpcHRpb25NZXNzYWdlOlxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVJvd0Rlc2NyaXB0aW9uTWVzc2FnZShvZmZzZXQsIGxlbmd0aCwgYnl0ZXMpXG4gICAgICBjYXNlIE1lc3NhZ2VDb2Rlcy5QYXJhbWV0ZXJEZXNjcmlwdGlvbk1lc3NhZ2U6XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlUGFyYW1ldGVyRGVzY3JpcHRpb25NZXNzYWdlKG9mZnNldCwgbGVuZ3RoLCBieXRlcylcbiAgICAgIGNhc2UgTWVzc2FnZUNvZGVzLkNvcHlJbjpcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VDb3B5SW5NZXNzYWdlKG9mZnNldCwgbGVuZ3RoLCBieXRlcylcbiAgICAgIGNhc2UgTWVzc2FnZUNvZGVzLkNvcHlPdXQ6XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlQ29weU91dE1lc3NhZ2Uob2Zmc2V0LCBsZW5ndGgsIGJ5dGVzKVxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuQ29weURhdGE6XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlQ29weURhdGEob2Zmc2V0LCBsZW5ndGgsIGJ5dGVzKVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRhYmFzZUVycm9yKCdyZWNlaXZlZCBpbnZhbGlkIHJlc3BvbnNlOiAnICsgY29kZS50b1N0cmluZygxNiksIGxlbmd0aCwgJ2Vycm9yJylcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHBhcnNlUmVhZHlGb3JRdWVyeU1lc3NhZ2Uob2Zmc2V0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBieXRlczogQnVmZmVyKSB7XG4gICAgdGhpcy5yZWFkZXIuc2V0QnVmZmVyKG9mZnNldCwgYnl0ZXMpXG4gICAgY29uc3Qgc3RhdHVzID0gdGhpcy5yZWFkZXIuc3RyaW5nKDEpXG4gICAgcmV0dXJuIG5ldyBSZWFkeUZvclF1ZXJ5TWVzc2FnZShsZW5ndGgsIHN0YXR1cylcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VDb21tYW5kQ29tcGxldGVNZXNzYWdlKG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlcikge1xuICAgIHRoaXMucmVhZGVyLnNldEJ1ZmZlcihvZmZzZXQsIGJ5dGVzKVxuICAgIGNvbnN0IHRleHQgPSB0aGlzLnJlYWRlci5jc3RyaW5nKClcbiAgICByZXR1cm4gbmV3IENvbW1hbmRDb21wbGV0ZU1lc3NhZ2UobGVuZ3RoLCB0ZXh0KVxuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZUNvcHlEYXRhKG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlcikge1xuICAgIGNvbnN0IGNodW5rID0gYnl0ZXMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyAobGVuZ3RoIC0gNCkpXG4gICAgcmV0dXJuIG5ldyBDb3B5RGF0YU1lc3NhZ2UobGVuZ3RoLCBjaHVuaylcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VDb3B5SW5NZXNzYWdlKG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlcikge1xuICAgIHJldHVybiB0aGlzLnBhcnNlQ29weU1lc3NhZ2Uob2Zmc2V0LCBsZW5ndGgsIGJ5dGVzLCAnY29weUluUmVzcG9uc2UnKVxuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZUNvcHlPdXRNZXNzYWdlKG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlcikge1xuICAgIHJldHVybiB0aGlzLnBhcnNlQ29weU1lc3NhZ2Uob2Zmc2V0LCBsZW5ndGgsIGJ5dGVzLCAnY29weU91dFJlc3BvbnNlJylcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VDb3B5TWVzc2FnZShvZmZzZXQ6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIsIGJ5dGVzOiBCdWZmZXIsIG1lc3NhZ2VOYW1lOiBNZXNzYWdlTmFtZSkge1xuICAgIHRoaXMucmVhZGVyLnNldEJ1ZmZlcihvZmZzZXQsIGJ5dGVzKVxuICAgIGNvbnN0IGlzQmluYXJ5ID0gdGhpcy5yZWFkZXIuYnl0ZSgpICE9PSAwXG4gICAgY29uc3QgY29sdW1uQ291bnQgPSB0aGlzLnJlYWRlci5pbnQxNigpXG4gICAgY29uc3QgbWVzc2FnZSA9IG5ldyBDb3B5UmVzcG9uc2UobGVuZ3RoLCBtZXNzYWdlTmFtZSwgaXNCaW5hcnksIGNvbHVtbkNvdW50KVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29sdW1uQ291bnQ7IGkrKykge1xuICAgICAgbWVzc2FnZS5jb2x1bW5UeXBlc1tpXSA9IHRoaXMucmVhZGVyLmludDE2KClcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2VcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VOb3RpZmljYXRpb25NZXNzYWdlKG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlcikge1xuICAgIHRoaXMucmVhZGVyLnNldEJ1ZmZlcihvZmZzZXQsIGJ5dGVzKVxuICAgIGNvbnN0IHByb2Nlc3NJZCA9IHRoaXMucmVhZGVyLmludDMyKClcbiAgICBjb25zdCBjaGFubmVsID0gdGhpcy5yZWFkZXIuY3N0cmluZygpXG4gICAgY29uc3QgcGF5bG9hZCA9IHRoaXMucmVhZGVyLmNzdHJpbmcoKVxuICAgIHJldHVybiBuZXcgTm90aWZpY2F0aW9uUmVzcG9uc2VNZXNzYWdlKGxlbmd0aCwgcHJvY2Vzc0lkLCBjaGFubmVsLCBwYXlsb2FkKVxuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZVJvd0Rlc2NyaXB0aW9uTWVzc2FnZShvZmZzZXQ6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIsIGJ5dGVzOiBCdWZmZXIpIHtcbiAgICB0aGlzLnJlYWRlci5zZXRCdWZmZXIob2Zmc2V0LCBieXRlcylcbiAgICBjb25zdCBmaWVsZENvdW50ID0gdGhpcy5yZWFkZXIuaW50MTYoKVxuICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgUm93RGVzY3JpcHRpb25NZXNzYWdlKGxlbmd0aCwgZmllbGRDb3VudClcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpZWxkQ291bnQ7IGkrKykge1xuICAgICAgbWVzc2FnZS5maWVsZHNbaV0gPSB0aGlzLnBhcnNlRmllbGQoKVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZVxuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZUZpZWxkKCk6IEZpZWxkIHtcbiAgICBjb25zdCBuYW1lID0gdGhpcy5yZWFkZXIuY3N0cmluZygpXG4gICAgY29uc3QgdGFibGVJRCA9IHRoaXMucmVhZGVyLnVpbnQzMigpXG4gICAgY29uc3QgY29sdW1uSUQgPSB0aGlzLnJlYWRlci5pbnQxNigpXG4gICAgY29uc3QgZGF0YVR5cGVJRCA9IHRoaXMucmVhZGVyLnVpbnQzMigpXG4gICAgY29uc3QgZGF0YVR5cGVTaXplID0gdGhpcy5yZWFkZXIuaW50MTYoKVxuICAgIGNvbnN0IGRhdGFUeXBlTW9kaWZpZXIgPSB0aGlzLnJlYWRlci5pbnQzMigpXG4gICAgY29uc3QgbW9kZSA9IHRoaXMucmVhZGVyLmludDE2KCkgPT09IDAgPyAndGV4dCcgOiAnYmluYXJ5J1xuICAgIHJldHVybiBuZXcgRmllbGQobmFtZSwgdGFibGVJRCwgY29sdW1uSUQsIGRhdGFUeXBlSUQsIGRhdGFUeXBlU2l6ZSwgZGF0YVR5cGVNb2RpZmllciwgbW9kZSlcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VQYXJhbWV0ZXJEZXNjcmlwdGlvbk1lc3NhZ2Uob2Zmc2V0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBieXRlczogQnVmZmVyKSB7XG4gICAgdGhpcy5yZWFkZXIuc2V0QnVmZmVyKG9mZnNldCwgYnl0ZXMpXG4gICAgY29uc3QgcGFyYW1ldGVyQ291bnQgPSB0aGlzLnJlYWRlci5pbnQxNigpXG4gICAgY29uc3QgbWVzc2FnZSA9IG5ldyBQYXJhbWV0ZXJEZXNjcmlwdGlvbk1lc3NhZ2UobGVuZ3RoLCBwYXJhbWV0ZXJDb3VudClcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtZXRlckNvdW50OyBpKyspIHtcbiAgICAgIG1lc3NhZ2UuZGF0YVR5cGVJRHNbaV0gPSB0aGlzLnJlYWRlci5pbnQzMigpXG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlXG4gIH1cblxuICBwcml2YXRlIHBhcnNlRGF0YVJvd01lc3NhZ2Uob2Zmc2V0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBieXRlczogQnVmZmVyKSB7XG4gICAgdGhpcy5yZWFkZXIuc2V0QnVmZmVyKG9mZnNldCwgYnl0ZXMpXG4gICAgY29uc3QgZmllbGRDb3VudCA9IHRoaXMucmVhZGVyLmludDE2KClcbiAgICBjb25zdCBmaWVsZHM6IGFueVtdID0gbmV3IEFycmF5KGZpZWxkQ291bnQpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZENvdW50OyBpKyspIHtcbiAgICAgIGNvbnN0IGxlbiA9IHRoaXMucmVhZGVyLmludDMyKClcbiAgICAgIC8vIGEgLTEgZm9yIGxlbmd0aCBtZWFucyB0aGUgdmFsdWUgb2YgdGhlIGZpZWxkIGlzIG51bGxcbiAgICAgIGZpZWxkc1tpXSA9IGxlbiA9PT0gLTEgPyBudWxsIDogdGhpcy5yZWFkZXIuc3RyaW5nKGxlbilcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBEYXRhUm93TWVzc2FnZShsZW5ndGgsIGZpZWxkcylcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VQYXJhbWV0ZXJTdGF0dXNNZXNzYWdlKG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlcikge1xuICAgIHRoaXMucmVhZGVyLnNldEJ1ZmZlcihvZmZzZXQsIGJ5dGVzKVxuICAgIGNvbnN0IG5hbWUgPSB0aGlzLnJlYWRlci5jc3RyaW5nKClcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMucmVhZGVyLmNzdHJpbmcoKVxuICAgIHJldHVybiBuZXcgUGFyYW1ldGVyU3RhdHVzTWVzc2FnZShsZW5ndGgsIG5hbWUsIHZhbHVlKVxuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZUJhY2tlbmRLZXlEYXRhKG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlcikge1xuICAgIHRoaXMucmVhZGVyLnNldEJ1ZmZlcihvZmZzZXQsIGJ5dGVzKVxuICAgIGNvbnN0IHByb2Nlc3NJRCA9IHRoaXMucmVhZGVyLmludDMyKClcbiAgICBjb25zdCBzZWNyZXRLZXkgPSB0aGlzLnJlYWRlci5pbnQzMigpXG4gICAgcmV0dXJuIG5ldyBCYWNrZW5kS2V5RGF0YU1lc3NhZ2UobGVuZ3RoLCBwcm9jZXNzSUQsIHNlY3JldEtleSlcbiAgfVxuXG4gIHB1YmxpYyBwYXJzZUF1dGhlbnRpY2F0aW9uUmVzcG9uc2Uob2Zmc2V0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBieXRlczogQnVmZmVyKSB7XG4gICAgdGhpcy5yZWFkZXIuc2V0QnVmZmVyKG9mZnNldCwgYnl0ZXMpXG4gICAgY29uc3QgY29kZSA9IHRoaXMucmVhZGVyLmludDMyKClcbiAgICAvLyBUT0RPKGJtYyk6IG1heWJlIGJldHRlciB0eXBlcyBoZXJlXG4gICAgY29uc3QgbWVzc2FnZTogQmFja2VuZE1lc3NhZ2UgJiBhbnkgPSB7XG4gICAgICBuYW1lOiAnYXV0aGVudGljYXRpb25PaycsXG4gICAgICBsZW5ndGgsXG4gICAgfVxuXG4gICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICBjYXNlIDA6IC8vIEF1dGhlbnRpY2F0aW9uT2tcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgMzogLy8gQXV0aGVudGljYXRpb25DbGVhcnRleHRQYXNzd29yZFxuICAgICAgICBpZiAobWVzc2FnZS5sZW5ndGggPT09IDgpIHtcbiAgICAgICAgICBtZXNzYWdlLm5hbWUgPSAnYXV0aGVudGljYXRpb25DbGVhcnRleHRQYXNzd29yZCdcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSA1OiAvLyBBdXRoZW50aWNhdGlvbk1ENVBhc3N3b3JkXG4gICAgICAgIGlmIChtZXNzYWdlLmxlbmd0aCA9PT0gMTIpIHtcbiAgICAgICAgICBtZXNzYWdlLm5hbWUgPSAnYXV0aGVudGljYXRpb25NRDVQYXNzd29yZCdcbiAgICAgICAgICBjb25zdCBzYWx0ID0gdGhpcy5yZWFkZXIuYnl0ZXMoNClcbiAgICAgICAgICByZXR1cm4gbmV3IEF1dGhlbnRpY2F0aW9uTUQ1UGFzc3dvcmQobGVuZ3RoLCBzYWx0KVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIDEwOiAvLyBBdXRoZW50aWNhdGlvblNBU0xcbiAgICAgICAge1xuICAgICAgICAgIG1lc3NhZ2UubmFtZSA9ICdhdXRoZW50aWNhdGlvblNBU0wnXG4gICAgICAgICAgbWVzc2FnZS5tZWNoYW5pc21zID0gW11cbiAgICAgICAgICBsZXQgbWVjaGFuaXNtOiBzdHJpbmdcbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICBtZWNoYW5pc20gPSB0aGlzLnJlYWRlci5jc3RyaW5nKClcbiAgICAgICAgICAgIGlmIChtZWNoYW5pc20pIHtcbiAgICAgICAgICAgICAgbWVzc2FnZS5tZWNoYW5pc21zLnB1c2gobWVjaGFuaXNtKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gd2hpbGUgKG1lY2hhbmlzbSlcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAxMTogLy8gQXV0aGVudGljYXRpb25TQVNMQ29udGludWVcbiAgICAgICAgbWVzc2FnZS5uYW1lID0gJ2F1dGhlbnRpY2F0aW9uU0FTTENvbnRpbnVlJ1xuICAgICAgICBtZXNzYWdlLmRhdGEgPSB0aGlzLnJlYWRlci5zdHJpbmcobGVuZ3RoIC0gOClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgMTI6IC8vIEF1dGhlbnRpY2F0aW9uU0FTTEZpbmFsXG4gICAgICAgIG1lc3NhZ2UubmFtZSA9ICdhdXRoZW50aWNhdGlvblNBU0xGaW5hbCdcbiAgICAgICAgbWVzc2FnZS5kYXRhID0gdGhpcy5yZWFkZXIuc3RyaW5nKGxlbmd0aCAtIDgpXG4gICAgICAgIGJyZWFrXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gYXV0aGVudGljYXRpb25PayBtZXNzYWdlIHR5cGUgJyArIGNvZGUpXG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlXG4gIH1cblxuICBwcml2YXRlIHBhcnNlRXJyb3JNZXNzYWdlKG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlciwgbmFtZTogTWVzc2FnZU5hbWUpIHtcbiAgICB0aGlzLnJlYWRlci5zZXRCdWZmZXIob2Zmc2V0LCBieXRlcylcbiAgICBjb25zdCBmaWVsZHM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fVxuICAgIGxldCBmaWVsZFR5cGUgPSB0aGlzLnJlYWRlci5zdHJpbmcoMSlcbiAgICB3aGlsZSAoZmllbGRUeXBlICE9PSAnXFwwJykge1xuICAgICAgZmllbGRzW2ZpZWxkVHlwZV0gPSB0aGlzLnJlYWRlci5jc3RyaW5nKClcbiAgICAgIGZpZWxkVHlwZSA9IHRoaXMucmVhZGVyLnN0cmluZygxKVxuICAgIH1cblxuICAgIGNvbnN0IG1lc3NhZ2VWYWx1ZSA9IGZpZWxkcy5NXG5cbiAgICBjb25zdCBtZXNzYWdlID1cbiAgICAgIG5hbWUgPT09ICdub3RpY2UnID8gbmV3IE5vdGljZU1lc3NhZ2UobGVuZ3RoLCBtZXNzYWdlVmFsdWUpIDogbmV3IERhdGFiYXNlRXJyb3IobWVzc2FnZVZhbHVlLCBsZW5ndGgsIG5hbWUpXG5cbiAgICBtZXNzYWdlLnNldmVyaXR5ID0gZmllbGRzLlNcbiAgICBtZXNzYWdlLmNvZGUgPSBmaWVsZHMuQ1xuICAgIG1lc3NhZ2UuZGV0YWlsID0gZmllbGRzLkRcbiAgICBtZXNzYWdlLmhpbnQgPSBmaWVsZHMuSFxuICAgIG1lc3NhZ2UucG9zaXRpb24gPSBmaWVsZHMuUFxuICAgIG1lc3NhZ2UuaW50ZXJuYWxQb3NpdGlvbiA9IGZpZWxkcy5wXG4gICAgbWVzc2FnZS5pbnRlcm5hbFF1ZXJ5ID0gZmllbGRzLnFcbiAgICBtZXNzYWdlLndoZXJlID0gZmllbGRzLldcbiAgICBtZXNzYWdlLnNjaGVtYSA9IGZpZWxkcy5zXG4gICAgbWVzc2FnZS50YWJsZSA9IGZpZWxkcy50XG4gICAgbWVzc2FnZS5jb2x1bW4gPSBmaWVsZHMuY1xuICAgIG1lc3NhZ2UuZGF0YVR5cGUgPSBmaWVsZHMuZFxuICAgIG1lc3NhZ2UuY29uc3RyYWludCA9IGZpZWxkcy5uXG4gICAgbWVzc2FnZS5maWxlID0gZmllbGRzLkZcbiAgICBtZXNzYWdlLmxpbmUgPSBmaWVsZHMuTFxuICAgIG1lc3NhZ2Uucm91dGluZSA9IGZpZWxkcy5SXG4gICAgcmV0dXJuIG1lc3NhZ2VcbiAgfVxufVxuIiwgImltcG9ydCB7IERhdGFiYXNlRXJyb3IgfSBmcm9tICcuL21lc3NhZ2VzJ1xuaW1wb3J0IHsgc2VyaWFsaXplIH0gZnJvbSAnLi9zZXJpYWxpemVyJ1xuaW1wb3J0IHsgUGFyc2VyLCBNZXNzYWdlQ2FsbGJhY2sgfSBmcm9tICcuL3BhcnNlcidcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlKHN0cmVhbTogTm9kZUpTLlJlYWRhYmxlU3RyZWFtLCBjYWxsYmFjazogTWVzc2FnZUNhbGxiYWNrKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHBhcnNlciA9IG5ldyBQYXJzZXIoKVxuICBzdHJlYW0ub24oJ2RhdGEnLCAoYnVmZmVyOiBCdWZmZXIpID0+IHBhcnNlci5wYXJzZShidWZmZXIsIGNhbGxiYWNrKSlcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzdHJlYW0ub24oJ2VuZCcsICgpID0+IHJlc29sdmUoKSkpXG59XG5cbmV4cG9ydCB7IHNlcmlhbGl6ZSwgRGF0YWJhc2VFcnJvciB9XG4iLCAiLy8gVGhpcyBpcyBhbiBlbXB0eSBtb2R1bGUgdGhhdCBpcyBzZXJ2ZWQgdXAgd2hlbiBvdXRzaWRlIG9mIGEgd29ya2VyZCBlbnZpcm9ubWVudFxuLy8gU2VlIHRoZSBgZXhwb3J0c2AgZmllbGQgaW4gcGFja2FnZS5qc29uXG5leHBvcnQgZGVmYXVsdCB7fVxuIiwgImNvbnN0IHsgZ2V0U3RyZWFtLCBnZXRTZWN1cmVTdHJlYW0gfSA9IGdldFN0cmVhbUZ1bmNzKClcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8qKlxuICAgKiBHZXQgYSBzb2NrZXQgc3RyZWFtIGNvbXBhdGlibGUgd2l0aCB0aGUgY3VycmVudCBydW50aW1lIGVudmlyb25tZW50LlxuICAgKiBAcmV0dXJucyB7RHVwbGV4fVxuICAgKi9cbiAgZ2V0U3RyZWFtLFxuICAvKipcbiAgICogR2V0IGEgVExTIHNlY3VyZWQgc29ja2V0LCBjb21wYXRpYmxlIHdpdGggdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQsXG4gICAqIHVzaW5nIHRoZSBzb2NrZXQgYW5kIG90aGVyIHNldHRpbmdzIGdpdmVuIGluIGBvcHRpb25zYC5cbiAgICogQHJldHVybnMge0R1cGxleH1cbiAgICovXG4gIGdldFNlY3VyZVN0cmVhbSxcbn1cblxuLyoqXG4gKiBUaGUgc3RyZWFtIGZ1bmN0aW9ucyB0aGF0IHdvcmsgaW4gTm9kZS5qc1xuICovXG5mdW5jdGlvbiBnZXROb2RlanNTdHJlYW1GdW5jcygpIHtcbiAgZnVuY3Rpb24gZ2V0U3RyZWFtKHNzbCkge1xuICAgIGNvbnN0IG5ldCA9IHJlcXVpcmUoJ25ldCcpXG4gICAgcmV0dXJuIG5ldyBuZXQuU29ja2V0KClcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNlY3VyZVN0cmVhbShvcHRpb25zKSB7XG4gICAgY29uc3QgdGxzID0gcmVxdWlyZSgndGxzJylcbiAgICByZXR1cm4gdGxzLmNvbm5lY3Qob3B0aW9ucylcbiAgfVxuICByZXR1cm4ge1xuICAgIGdldFN0cmVhbSxcbiAgICBnZXRTZWN1cmVTdHJlYW0sXG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgc3RyZWFtIGZ1bmN0aW9ucyB0aGF0IHdvcmsgaW4gQ2xvdWRmbGFyZSBXb3JrZXJzXG4gKi9cbmZ1bmN0aW9uIGdldENsb3VkZmxhcmVTdHJlYW1GdW5jcygpIHtcbiAgZnVuY3Rpb24gZ2V0U3RyZWFtKHNzbCkge1xuICAgIGNvbnN0IHsgQ2xvdWRmbGFyZVNvY2tldCB9ID0gcmVxdWlyZSgncGctY2xvdWRmbGFyZScpXG4gICAgcmV0dXJuIG5ldyBDbG91ZGZsYXJlU29ja2V0KHNzbClcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNlY3VyZVN0cmVhbShvcHRpb25zKSB7XG4gICAgb3B0aW9ucy5zb2NrZXQuc3RhcnRUbHMob3B0aW9ucylcbiAgICByZXR1cm4gb3B0aW9ucy5zb2NrZXRcbiAgfVxuICByZXR1cm4ge1xuICAgIGdldFN0cmVhbSxcbiAgICBnZXRTZWN1cmVTdHJlYW0sXG4gIH1cbn1cblxuLyoqXG4gKiBBcmUgd2UgcnVubmluZyBpbiBhIENsb3VkZmxhcmUgV29ya2VyP1xuICpcbiAqIEByZXR1cm5zIHRydWUgaWYgdGhlIGNvZGUgaXMgY3VycmVudGx5IHJ1bm5pbmcgaW5zaWRlIGEgQ2xvdWRmbGFyZSBXb3JrZXIuXG4gKi9cbmZ1bmN0aW9uIGlzQ2xvdWRmbGFyZVJ1bnRpbWUoKSB7XG4gIC8vIFNpbmNlIDIwMjItMDMtMjEgdGhlIGBnbG9iYWxfbmF2aWdhdG9yYCBjb21wYXRpYmlsaXR5IGZsYWcgaXMgb24gZm9yIENsb3VkZmxhcmUgV29ya2Vyc1xuICAvLyB3aGljaCBtZWFucyB0aGF0IGBuYXZpZ2F0b3IudXNlckFnZW50YCB3aWxsIGJlIGRlZmluZWQuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ29iamVjdCcgJiYgbmF2aWdhdG9yICE9PSBudWxsICYmIHR5cGVvZiBuYXZpZ2F0b3IudXNlckFnZW50ID09PSAnc3RyaW5nJykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50ID09PSAnQ2xvdWRmbGFyZS1Xb3JrZXJzJ1xuICB9XG4gIC8vIEluIGNhc2UgYG5hdmlnYXRvcmAgb3IgYG5hdmlnYXRvci51c2VyQWdlbnRgIGlzIG5vdCBkZWZpbmVkIHRoZW4gdHJ5IGEgbW9yZSBzbmVha3kgYXBwcm9hY2hcbiAgaWYgKHR5cGVvZiBSZXNwb25zZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNvbnN0IHJlc3AgPSBuZXcgUmVzcG9uc2UobnVsbCwgeyBjZjogeyB0aGluZzogdHJ1ZSB9IH0pXG4gICAgaWYgKHR5cGVvZiByZXNwLmNmID09PSAnb2JqZWN0JyAmJiByZXNwLmNmICE9PSBudWxsICYmIHJlc3AuY2YudGhpbmcpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBnZXRTdHJlYW1GdW5jcygpIHtcbiAgaWYgKGlzQ2xvdWRmbGFyZVJ1bnRpbWUoKSkge1xuICAgIHJldHVybiBnZXRDbG91ZGZsYXJlU3RyZWFtRnVuY3MoKVxuICB9XG4gIHJldHVybiBnZXROb2RlanNTdHJlYW1GdW5jcygpXG59XG4iLCAiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlclxuXG5jb25zdCB7IHBhcnNlLCBzZXJpYWxpemUgfSA9IHJlcXVpcmUoJ3BnLXByb3RvY29sJylcbmNvbnN0IHsgZ2V0U3RyZWFtLCBnZXRTZWN1cmVTdHJlYW0gfSA9IHJlcXVpcmUoJy4vc3RyZWFtJylcblxuY29uc3QgZmx1c2hCdWZmZXIgPSBzZXJpYWxpemUuZmx1c2goKVxuY29uc3Qgc3luY0J1ZmZlciA9IHNlcmlhbGl6ZS5zeW5jKClcbmNvbnN0IGVuZEJ1ZmZlciA9IHNlcmlhbGl6ZS5lbmQoKVxuXG4vLyBUT0RPKGJtYykgc3VwcG9ydCBiaW5hcnkgbW9kZSBhdCBzb21lIHBvaW50XG5jbGFzcyBDb25uZWN0aW9uIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgc3VwZXIoKVxuICAgIGNvbmZpZyA9IGNvbmZpZyB8fCB7fVxuXG4gICAgdGhpcy5zdHJlYW0gPSBjb25maWcuc3RyZWFtIHx8IGdldFN0cmVhbShjb25maWcuc3NsKVxuICAgIGlmICh0eXBlb2YgdGhpcy5zdHJlYW0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuc3RyZWFtID0gdGhpcy5zdHJlYW0oY29uZmlnKVxuICAgIH1cblxuICAgIHRoaXMuX2tlZXBBbGl2ZSA9IGNvbmZpZy5rZWVwQWxpdmVcbiAgICB0aGlzLl9rZWVwQWxpdmVJbml0aWFsRGVsYXlNaWxsaXMgPSBjb25maWcua2VlcEFsaXZlSW5pdGlhbERlbGF5TWlsbGlzXG4gICAgdGhpcy5sYXN0QnVmZmVyID0gZmFsc2VcbiAgICB0aGlzLnBhcnNlZFN0YXRlbWVudHMgPSB7fVxuICAgIHRoaXMuc3NsID0gY29uZmlnLnNzbCB8fCBmYWxzZVxuICAgIHRoaXMuX2VuZGluZyA9IGZhbHNlXG4gICAgdGhpcy5fZW1pdE1lc3NhZ2UgPSBmYWxzZVxuICAgIGNvbnN0IHNlbGYgPSB0aGlzXG4gICAgdGhpcy5vbignbmV3TGlzdGVuZXInLCBmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICBpZiAoZXZlbnROYW1lID09PSAnbWVzc2FnZScpIHtcbiAgICAgICAgc2VsZi5fZW1pdE1lc3NhZ2UgPSB0cnVlXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGNvbm5lY3QocG9ydCwgaG9zdCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzXG5cbiAgICB0aGlzLl9jb25uZWN0aW5nID0gdHJ1ZVxuICAgIHRoaXMuc3RyZWFtLnNldE5vRGVsYXkodHJ1ZSlcbiAgICB0aGlzLnN0cmVhbS5jb25uZWN0KHBvcnQsIGhvc3QpXG5cbiAgICB0aGlzLnN0cmVhbS5vbmNlKCdjb25uZWN0JywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHNlbGYuX2tlZXBBbGl2ZSkge1xuICAgICAgICBzZWxmLnN0cmVhbS5zZXRLZWVwQWxpdmUodHJ1ZSwgc2VsZi5fa2VlcEFsaXZlSW5pdGlhbERlbGF5TWlsbGlzKVxuICAgICAgfVxuICAgICAgc2VsZi5lbWl0KCdjb25uZWN0JylcbiAgICB9KVxuXG4gICAgY29uc3QgcmVwb3J0U3RyZWFtRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIC8vIGVycm9ycyBhYm91dCBkaXNjb25uZWN0aW9ucyBzaG91bGQgYmUgaWdub3JlZCBkdXJpbmcgZGlzY29ubmVjdFxuICAgICAgaWYgKHNlbGYuX2VuZGluZyAmJiAoZXJyb3IuY29kZSA9PT0gJ0VDT05OUkVTRVQnIHx8IGVycm9yLmNvZGUgPT09ICdFUElQRScpKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgc2VsZi5lbWl0KCdlcnJvcicsIGVycm9yKVxuICAgIH1cbiAgICB0aGlzLnN0cmVhbS5vbignZXJyb3InLCByZXBvcnRTdHJlYW1FcnJvcilcblxuICAgIHRoaXMuc3RyZWFtLm9uKCdjbG9zZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNlbGYuZW1pdCgnZW5kJylcbiAgICB9KVxuXG4gICAgaWYgKCF0aGlzLnNzbCkge1xuICAgICAgcmV0dXJuIHRoaXMuYXR0YWNoTGlzdGVuZXJzKHRoaXMuc3RyZWFtKVxuICAgIH1cblxuICAgIHRoaXMuc3RyZWFtLm9uY2UoJ2RhdGEnLCBmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICBjb25zdCByZXNwb25zZUNvZGUgPSBidWZmZXIudG9TdHJpbmcoJ3V0ZjgnKVxuICAgICAgc3dpdGNoIChyZXNwb25zZUNvZGUpIHtcbiAgICAgICAgY2FzZSAnUyc6IC8vIFNlcnZlciBzdXBwb3J0cyBTU0wgY29ubmVjdGlvbnMsIGNvbnRpbnVlIHdpdGggYSBzZWN1cmUgY29ubmVjdGlvblxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ04nOiAvLyBTZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCBTU0wgY29ubmVjdGlvbnNcbiAgICAgICAgICBzZWxmLnN0cmVhbS5lbmQoKVxuICAgICAgICAgIHJldHVybiBzZWxmLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdUaGUgc2VydmVyIGRvZXMgbm90IHN1cHBvcnQgU1NMIGNvbm5lY3Rpb25zJykpXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gQW55IG90aGVyIHJlc3BvbnNlIGJ5dGUsIGluY2x1ZGluZyAnRScgKEVycm9yUmVzcG9uc2UpIGluZGljYXRpbmcgYSBzZXJ2ZXIgZXJyb3JcbiAgICAgICAgICBzZWxmLnN0cmVhbS5lbmQoKVxuICAgICAgICAgIHJldHVybiBzZWxmLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdUaGVyZSB3YXMgYW4gZXJyb3IgZXN0YWJsaXNoaW5nIGFuIFNTTCBjb25uZWN0aW9uJykpXG4gICAgICB9XG4gICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBzb2NrZXQ6IHNlbGYuc3RyZWFtLFxuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZi5zc2wgIT09IHRydWUpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihvcHRpb25zLCBzZWxmLnNzbClcblxuICAgICAgICBpZiAoJ2tleScgaW4gc2VsZi5zc2wpIHtcbiAgICAgICAgICBvcHRpb25zLmtleSA9IHNlbGYuc3NsLmtleVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5ldCA9IHJlcXVpcmUoJ25ldCcpXG4gICAgICBpZiAobmV0LmlzSVAgJiYgbmV0LmlzSVAoaG9zdCkgPT09IDApIHtcbiAgICAgICAgb3B0aW9ucy5zZXJ2ZXJuYW1lID0gaG9zdFxuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgc2VsZi5zdHJlYW0gPSBnZXRTZWN1cmVTdHJlYW0ob3B0aW9ucylcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gc2VsZi5lbWl0KCdlcnJvcicsIGVycilcbiAgICAgIH1cbiAgICAgIHNlbGYuYXR0YWNoTGlzdGVuZXJzKHNlbGYuc3RyZWFtKVxuICAgICAgc2VsZi5zdHJlYW0ub24oJ2Vycm9yJywgcmVwb3J0U3RyZWFtRXJyb3IpXG5cbiAgICAgIHNlbGYuZW1pdCgnc3NsY29ubmVjdCcpXG4gICAgfSlcbiAgfVxuXG4gIGF0dGFjaExpc3RlbmVycyhzdHJlYW0pIHtcbiAgICBwYXJzZShzdHJlYW0sIChtc2cpID0+IHtcbiAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IG1zZy5uYW1lID09PSAnZXJyb3InID8gJ2Vycm9yTWVzc2FnZScgOiBtc2cubmFtZVxuICAgICAgaWYgKHRoaXMuX2VtaXRNZXNzYWdlKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnbWVzc2FnZScsIG1zZylcbiAgICAgIH1cbiAgICAgIHRoaXMuZW1pdChldmVudE5hbWUsIG1zZylcbiAgICB9KVxuICB9XG5cbiAgcmVxdWVzdFNzbCgpIHtcbiAgICB0aGlzLnN0cmVhbS53cml0ZShzZXJpYWxpemUucmVxdWVzdFNzbCgpKVxuICB9XG5cbiAgc3RhcnR1cChjb25maWcpIHtcbiAgICB0aGlzLnN0cmVhbS53cml0ZShzZXJpYWxpemUuc3RhcnR1cChjb25maWcpKVxuICB9XG5cbiAgY2FuY2VsKHByb2Nlc3NJRCwgc2VjcmV0S2V5KSB7XG4gICAgdGhpcy5fc2VuZChzZXJpYWxpemUuY2FuY2VsKHByb2Nlc3NJRCwgc2VjcmV0S2V5KSlcbiAgfVxuXG4gIHBhc3N3b3JkKHBhc3N3b3JkKSB7XG4gICAgdGhpcy5fc2VuZChzZXJpYWxpemUucGFzc3dvcmQocGFzc3dvcmQpKVxuICB9XG5cbiAgc2VuZFNBU0xJbml0aWFsUmVzcG9uc2VNZXNzYWdlKG1lY2hhbmlzbSwgaW5pdGlhbFJlc3BvbnNlKSB7XG4gICAgdGhpcy5fc2VuZChzZXJpYWxpemUuc2VuZFNBU0xJbml0aWFsUmVzcG9uc2VNZXNzYWdlKG1lY2hhbmlzbSwgaW5pdGlhbFJlc3BvbnNlKSlcbiAgfVxuXG4gIHNlbmRTQ1JBTUNsaWVudEZpbmFsTWVzc2FnZShhZGRpdGlvbmFsRGF0YSkge1xuICAgIHRoaXMuX3NlbmQoc2VyaWFsaXplLnNlbmRTQ1JBTUNsaWVudEZpbmFsTWVzc2FnZShhZGRpdGlvbmFsRGF0YSkpXG4gIH1cblxuICBfc2VuZChidWZmZXIpIHtcbiAgICBpZiAoIXRoaXMuc3RyZWFtLndyaXRhYmxlKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtLndyaXRlKGJ1ZmZlcilcbiAgfVxuXG4gIHF1ZXJ5KHRleHQpIHtcbiAgICB0aGlzLl9zZW5kKHNlcmlhbGl6ZS5xdWVyeSh0ZXh0KSlcbiAgfVxuXG4gIC8vIHNlbmQgcGFyc2UgbWVzc2FnZVxuICBwYXJzZShxdWVyeSkge1xuICAgIHRoaXMuX3NlbmQoc2VyaWFsaXplLnBhcnNlKHF1ZXJ5KSlcbiAgfVxuXG4gIC8vIHNlbmQgYmluZCBtZXNzYWdlXG4gIGJpbmQoY29uZmlnKSB7XG4gICAgdGhpcy5fc2VuZChzZXJpYWxpemUuYmluZChjb25maWcpKVxuICB9XG5cbiAgLy8gc2VuZCBleGVjdXRlIG1lc3NhZ2VcbiAgZXhlY3V0ZShjb25maWcpIHtcbiAgICB0aGlzLl9zZW5kKHNlcmlhbGl6ZS5leGVjdXRlKGNvbmZpZykpXG4gIH1cblxuICBmbHVzaCgpIHtcbiAgICBpZiAodGhpcy5zdHJlYW0ud3JpdGFibGUpIHtcbiAgICAgIHRoaXMuc3RyZWFtLndyaXRlKGZsdXNoQnVmZmVyKVxuICAgIH1cbiAgfVxuXG4gIHN5bmMoKSB7XG4gICAgdGhpcy5fZW5kaW5nID0gdHJ1ZVxuICAgIHRoaXMuX3NlbmQoc3luY0J1ZmZlcilcbiAgfVxuXG4gIHJlZigpIHtcbiAgICB0aGlzLnN0cmVhbS5yZWYoKVxuICB9XG5cbiAgdW5yZWYoKSB7XG4gICAgdGhpcy5zdHJlYW0udW5yZWYoKVxuICB9XG5cbiAgZW5kKCkge1xuICAgIC8vIDB4NTggPSAnWCdcbiAgICB0aGlzLl9lbmRpbmcgPSB0cnVlXG4gICAgaWYgKCF0aGlzLl9jb25uZWN0aW5nIHx8ICF0aGlzLnN0cmVhbS53cml0YWJsZSkge1xuICAgICAgdGhpcy5zdHJlYW0uZW5kKClcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdHJlYW0ud3JpdGUoZW5kQnVmZmVyLCAoKSA9PiB7XG4gICAgICB0aGlzLnN0cmVhbS5lbmQoKVxuICAgIH0pXG4gIH1cblxuICBjbG9zZShtc2cpIHtcbiAgICB0aGlzLl9zZW5kKHNlcmlhbGl6ZS5jbG9zZShtc2cpKVxuICB9XG5cbiAgZGVzY3JpYmUobXNnKSB7XG4gICAgdGhpcy5fc2VuZChzZXJpYWxpemUuZGVzY3JpYmUobXNnKSlcbiAgfVxuXG4gIHNlbmRDb3B5RnJvbUNodW5rKGNodW5rKSB7XG4gICAgdGhpcy5fc2VuZChzZXJpYWxpemUuY29weURhdGEoY2h1bmspKVxuICB9XG5cbiAgZW5kQ29weUZyb20oKSB7XG4gICAgdGhpcy5fc2VuZChzZXJpYWxpemUuY29weURvbmUoKSlcbiAgfVxuXG4gIHNlbmRDb3B5RmFpbChtc2cpIHtcbiAgICB0aGlzLl9zZW5kKHNlcmlhbGl6ZS5jb3B5RmFpbChtc2cpKVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ29ubmVjdGlvblxuIiwgIi8qXG5Db3B5cmlnaHQgKGMpIDIwMTQtMjAyMSwgTWF0dGVvIENvbGxpbmEgPGhlbGxvQG1hdHRlb2NvbGxpbmEuY29tPlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZCwgcHJvdmlkZWQgdGhhdCB0aGUgYWJvdmVcbmNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2UgYXBwZWFyIGluIGFsbCBjb3BpZXMuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTXG5XSVRIIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GXG5NRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUlxuQU5ZIFNQRUNJQUwsIERJUkVDVCwgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFU1xuV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTSBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOXG5BQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1IgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUlxuSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1IgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbiovXG5cbid1c2Ugc3RyaWN0J1xuXG5jb25zdCB7IFRyYW5zZm9ybSB9ID0gcmVxdWlyZSgnc3RyZWFtJylcbmNvbnN0IHsgU3RyaW5nRGVjb2RlciB9ID0gcmVxdWlyZSgnc3RyaW5nX2RlY29kZXInKVxuY29uc3Qga0xhc3QgPSBTeW1ib2woJ2xhc3QnKVxuY29uc3Qga0RlY29kZXIgPSBTeW1ib2woJ2RlY29kZXInKVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm0gKGNodW5rLCBlbmMsIGNiKSB7XG4gIGxldCBsaXN0XG4gIGlmICh0aGlzLm92ZXJmbG93KSB7IC8vIExpbmUgYnVmZmVyIGlzIGZ1bGwuIFNraXAgdG8gc3RhcnQgb2YgbmV4dCBsaW5lLlxuICAgIGNvbnN0IGJ1ZiA9IHRoaXNba0RlY29kZXJdLndyaXRlKGNodW5rKVxuICAgIGxpc3QgPSBidWYuc3BsaXQodGhpcy5tYXRjaGVyKVxuXG4gICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKSByZXR1cm4gY2IoKSAvLyBMaW5lIGVuZGluZyBub3QgZm91bmQuIERpc2NhcmQgZW50aXJlIGNodW5rLlxuXG4gICAgLy8gTGluZSBlbmRpbmcgZm91bmQuIERpc2NhcmQgdHJhaWxpbmcgZnJhZ21lbnQgb2YgcHJldmlvdXMgbGluZSBhbmQgcmVzZXQgb3ZlcmZsb3cgc3RhdGUuXG4gICAgbGlzdC5zaGlmdCgpXG4gICAgdGhpcy5vdmVyZmxvdyA9IGZhbHNlXG4gIH0gZWxzZSB7XG4gICAgdGhpc1trTGFzdF0gKz0gdGhpc1trRGVjb2Rlcl0ud3JpdGUoY2h1bmspXG4gICAgbGlzdCA9IHRoaXNba0xhc3RdLnNwbGl0KHRoaXMubWF0Y2hlcilcbiAgfVxuXG4gIHRoaXNba0xhc3RdID0gbGlzdC5wb3AoKVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHRyeSB7XG4gICAgICBwdXNoKHRoaXMsIHRoaXMubWFwcGVyKGxpc3RbaV0pKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gY2IoZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgdGhpcy5vdmVyZmxvdyA9IHRoaXNba0xhc3RdLmxlbmd0aCA+IHRoaXMubWF4TGVuZ3RoXG4gIGlmICh0aGlzLm92ZXJmbG93ICYmICF0aGlzLnNraXBPdmVyZmxvdykge1xuICAgIGNiKG5ldyBFcnJvcignbWF4aW11bSBidWZmZXIgcmVhY2hlZCcpKVxuICAgIHJldHVyblxuICB9XG5cbiAgY2IoKVxufVxuXG5mdW5jdGlvbiBmbHVzaCAoY2IpIHtcbiAgLy8gZm9yd2FyZCBhbnkgZ2liYmVyaXNoIGxlZnQgaW4gdGhlcmVcbiAgdGhpc1trTGFzdF0gKz0gdGhpc1trRGVjb2Rlcl0uZW5kKClcblxuICBpZiAodGhpc1trTGFzdF0pIHtcbiAgICB0cnkge1xuICAgICAgcHVzaCh0aGlzLCB0aGlzLm1hcHBlcih0aGlzW2tMYXN0XSkpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYihlcnJvcilcbiAgICB9XG4gIH1cblxuICBjYigpXG59XG5cbmZ1bmN0aW9uIHB1c2ggKHNlbGYsIHZhbCkge1xuICBpZiAodmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICBzZWxmLnB1c2godmFsKVxuICB9XG59XG5cbmZ1bmN0aW9uIG5vb3AgKGluY29taW5nKSB7XG4gIHJldHVybiBpbmNvbWluZ1xufVxuXG5mdW5jdGlvbiBzcGxpdCAobWF0Y2hlciwgbWFwcGVyLCBvcHRpb25zKSB7XG4gIC8vIFNldCBkZWZhdWx0cyBmb3IgYW55IGFyZ3VtZW50cyBub3Qgc3VwcGxpZWQuXG4gIG1hdGNoZXIgPSBtYXRjaGVyIHx8IC9cXHI/XFxuL1xuICBtYXBwZXIgPSBtYXBwZXIgfHwgbm9vcFxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuXG4gIC8vIFRlc3QgYXJndW1lbnRzIGV4cGxpY2l0bHkuXG4gIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIGNhc2UgMTpcbiAgICAgIC8vIElmIG1hcHBlciBpcyBvbmx5IGFyZ3VtZW50LlxuICAgICAgaWYgKHR5cGVvZiBtYXRjaGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG1hcHBlciA9IG1hdGNoZXJcbiAgICAgICAgbWF0Y2hlciA9IC9cXHI/XFxuL1xuICAgICAgLy8gSWYgb3B0aW9ucyBpcyBvbmx5IGFyZ3VtZW50LlxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbWF0Y2hlciA9PT0gJ29iamVjdCcgJiYgIShtYXRjaGVyIGluc3RhbmNlb2YgUmVnRXhwKSAmJiAhbWF0Y2hlcltTeW1ib2wuc3BsaXRdKSB7XG4gICAgICAgIG9wdGlvbnMgPSBtYXRjaGVyXG4gICAgICAgIG1hdGNoZXIgPSAvXFxyP1xcbi9cbiAgICAgIH1cbiAgICAgIGJyZWFrXG5cbiAgICBjYXNlIDI6XG4gICAgICAvLyBJZiBtYXBwZXIgYW5kIG9wdGlvbnMgYXJlIGFyZ3VtZW50cy5cbiAgICAgIGlmICh0eXBlb2YgbWF0Y2hlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvcHRpb25zID0gbWFwcGVyXG4gICAgICAgIG1hcHBlciA9IG1hdGNoZXJcbiAgICAgICAgbWF0Y2hlciA9IC9cXHI/XFxuL1xuICAgICAgLy8gSWYgbWF0Y2hlciBhbmQgb3B0aW9ucyBhcmUgYXJndW1lbnRzLlxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbWFwcGVyID09PSAnb2JqZWN0Jykge1xuICAgICAgICBvcHRpb25zID0gbWFwcGVyXG4gICAgICAgIG1hcHBlciA9IG5vb3BcbiAgICAgIH1cbiAgfVxuXG4gIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKVxuICBvcHRpb25zLmF1dG9EZXN0cm95ID0gdHJ1ZVxuICBvcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxuICBvcHRpb25zLmZsdXNoID0gZmx1c2hcbiAgb3B0aW9ucy5yZWFkYWJsZU9iamVjdE1vZGUgPSB0cnVlXG5cbiAgY29uc3Qgc3RyZWFtID0gbmV3IFRyYW5zZm9ybShvcHRpb25zKVxuXG4gIHN0cmVhbVtrTGFzdF0gPSAnJ1xuICBzdHJlYW1ba0RlY29kZXJdID0gbmV3IFN0cmluZ0RlY29kZXIoJ3V0ZjgnKVxuICBzdHJlYW0ubWF0Y2hlciA9IG1hdGNoZXJcbiAgc3RyZWFtLm1hcHBlciA9IG1hcHBlclxuICBzdHJlYW0ubWF4TGVuZ3RoID0gb3B0aW9ucy5tYXhMZW5ndGhcbiAgc3RyZWFtLnNraXBPdmVyZmxvdyA9IG9wdGlvbnMuc2tpcE92ZXJmbG93IHx8IGZhbHNlXG4gIHN0cmVhbS5vdmVyZmxvdyA9IGZhbHNlXG4gIHN0cmVhbS5fZGVzdHJveSA9IGZ1bmN0aW9uIChlcnIsIGNiKSB7XG4gICAgLy8gV2VpcmQgTm9kZSB2MTIgYnVnIHRoYXQgd2UgbmVlZCB0byB3b3JrIGFyb3VuZFxuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gZmFsc2VcbiAgICBjYihlcnIpXG4gIH1cblxuICByZXR1cm4gc3RyZWFtXG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3BsaXRcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG4gICwgU3RyZWFtID0gcmVxdWlyZSgnc3RyZWFtJykuU3RyZWFtXG4gICwgc3BsaXQgPSByZXF1aXJlKCdzcGxpdDInKVxuICAsIHV0aWwgPSByZXF1aXJlKCd1dGlsJylcbiAgLCBkZWZhdWx0UG9ydCA9IDU0MzJcbiAgLCBpc1dpbiA9IChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInKVxuICAsIHdhcm5TdHJlYW0gPSBwcm9jZXNzLnN0ZGVyclxuO1xuXG5cbnZhciBTX0lSV1hHID0gNTYgICAgIC8vICAgIDAwMDcwKDgpXG4gICwgU19JUldYTyA9IDcgICAgICAvLyAgICAwMDAwNyg4KVxuICAsIFNfSUZNVCAgPSA2MTQ0MCAgLy8gMDAxNzAwMDAoOClcbiAgLCBTX0lGUkVHID0gMzI3NjggIC8vICAwMTAwMDAwKDgpXG47XG5mdW5jdGlvbiBpc1JlZ0ZpbGUobW9kZSkge1xuICAgIHJldHVybiAoKG1vZGUgJiBTX0lGTVQpID09IFNfSUZSRUcpO1xufVxuXG52YXIgZmllbGROYW1lcyA9IFsgJ2hvc3QnLCAncG9ydCcsICdkYXRhYmFzZScsICd1c2VyJywgJ3Bhc3N3b3JkJyBdO1xudmFyIG5yT2ZGaWVsZHMgPSBmaWVsZE5hbWVzLmxlbmd0aDtcbnZhciBwYXNzS2V5ID0gZmllbGROYW1lc1sgbnJPZkZpZWxkcyAtMSBdO1xuXG5cbmZ1bmN0aW9uIHdhcm4oKSB7XG4gICAgdmFyIGlzV3JpdGFibGUgPSAoXG4gICAgICAgIHdhcm5TdHJlYW0gaW5zdGFuY2VvZiBTdHJlYW0gJiZcbiAgICAgICAgICB0cnVlID09PSB3YXJuU3RyZWFtLndyaXRhYmxlXG4gICAgKTtcblxuICAgIGlmIChpc1dyaXRhYmxlKSB7XG4gICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5jb25jYXQoXCJcXG5cIik7XG4gICAgICAgIHdhcm5TdHJlYW0ud3JpdGUoIHV0aWwuZm9ybWF0LmFwcGx5KHV0aWwsIGFyZ3MpICk7XG4gICAgfVxufVxuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUuZXhwb3J0cywgJ2lzV2luJywge1xuICAgIGdldCA6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaXNXaW47XG4gICAgfSAsXG4gICAgc2V0IDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIGlzV2luID0gdmFsO1xuICAgIH1cbn0pO1xuXG5cbm1vZHVsZS5leHBvcnRzLndhcm5UbyA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgIHZhciBvbGQgPSB3YXJuU3RyZWFtO1xuICAgIHdhcm5TdHJlYW0gPSBzdHJlYW07XG4gICAgcmV0dXJuIG9sZDtcbn07XG5cbm1vZHVsZS5leHBvcnRzLmdldEZpbGVOYW1lID0gZnVuY3Rpb24ocmF3RW52KXtcbiAgICB2YXIgZW52ID0gcmF3RW52IHx8IHByb2Nlc3MuZW52O1xuICAgIHZhciBmaWxlID0gZW52LlBHUEFTU0ZJTEUgfHwgKFxuICAgICAgICBpc1dpbiA/XG4gICAgICAgICAgcGF0aC5qb2luKCBlbnYuQVBQREFUQSB8fCAnLi8nICwgJ3Bvc3RncmVzcWwnLCAncGdwYXNzLmNvbmYnICkgOlxuICAgICAgICAgIHBhdGguam9pbiggZW52LkhPTUUgfHwgJy4vJywgJy5wZ3Bhc3MnIClcbiAgICApO1xuICAgIHJldHVybiBmaWxlO1xufTtcblxubW9kdWxlLmV4cG9ydHMudXNlUGdQYXNzID0gZnVuY3Rpb24oc3RhdHMsIGZuYW1lKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm9jZXNzLmVudiwgJ1BHUEFTU1dPUkQnKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGlzV2luKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZuYW1lID0gZm5hbWUgfHwgJzx1bmtuPic7XG5cbiAgICBpZiAoISBpc1JlZ0ZpbGUoc3RhdHMubW9kZSkpIHtcbiAgICAgICAgd2FybignV0FSTklORzogcGFzc3dvcmQgZmlsZSBcIiVzXCIgaXMgbm90IGEgcGxhaW4gZmlsZScsIGZuYW1lKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChzdGF0cy5tb2RlICYgKFNfSVJXWEcgfCBTX0lSV1hPKSkge1xuICAgICAgICAvKiBJZiBwYXNzd29yZCBmaWxlIGlzIGluc2VjdXJlLCBhbGVydCB0aGUgdXNlciBhbmQgaWdub3JlIGl0LiAqL1xuICAgICAgICB3YXJuKCdXQVJOSU5HOiBwYXNzd29yZCBmaWxlIFwiJXNcIiBoYXMgZ3JvdXAgb3Igd29ybGQgYWNjZXNzOyBwZXJtaXNzaW9ucyBzaG91bGQgYmUgdT1ydyAoMDYwMCkgb3IgbGVzcycsIGZuYW1lKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufTtcblxuXG52YXIgbWF0Y2hlciA9IG1vZHVsZS5leHBvcnRzLm1hdGNoID0gZnVuY3Rpb24oY29ubkluZm8sIGVudHJ5KSB7XG4gICAgcmV0dXJuIGZpZWxkTmFtZXMuc2xpY2UoMCwgLTEpLnJlZHVjZShmdW5jdGlvbihwcmV2LCBmaWVsZCwgaWR4KXtcbiAgICAgICAgaWYgKGlkeCA9PSAxKSB7XG4gICAgICAgICAgICAvLyB0aGUgcG9ydFxuICAgICAgICAgICAgaWYgKCBOdW1iZXIoIGNvbm5JbmZvW2ZpZWxkXSB8fCBkZWZhdWx0UG9ydCApID09PSBOdW1iZXIoIGVudHJ5W2ZpZWxkXSApICkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2ICYmIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByZXYgJiYgKFxuICAgICAgICAgICAgZW50cnlbZmllbGRdID09PSAnKicgfHxcbiAgICAgICAgICAgICAgZW50cnlbZmllbGRdID09PSBjb25uSW5mb1tmaWVsZF1cbiAgICAgICAgKTtcbiAgICB9LCB0cnVlKTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMuZ2V0UGFzc3dvcmQgPSBmdW5jdGlvbihjb25uSW5mbywgc3RyZWFtLCBjYikge1xuICAgIHZhciBwYXNzO1xuICAgIHZhciBsaW5lU3RyZWFtID0gc3RyZWFtLnBpcGUoc3BsaXQoKSk7XG5cbiAgICBmdW5jdGlvbiBvbkxpbmUobGluZSkge1xuICAgICAgICB2YXIgZW50cnkgPSBwYXJzZUxpbmUobGluZSk7XG4gICAgICAgIGlmIChlbnRyeSAmJiBpc1ZhbGlkRW50cnkoZW50cnkpICYmIG1hdGNoZXIoY29ubkluZm8sIGVudHJ5KSkge1xuICAgICAgICAgICAgcGFzcyA9IGVudHJ5W3Bhc3NLZXldO1xuICAgICAgICAgICAgbGluZVN0cmVhbS5lbmQoKTsgLy8gLT4gY2FsbHMgb25FbmQoKSwgYnV0IHBhc3MgaXMgc2V0IG5vd1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG9uRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHN0cmVhbS5kZXN0cm95KCk7XG4gICAgICAgIGNiKHBhc3MpO1xuICAgIH07XG5cbiAgICB2YXIgb25FcnIgPSBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgc3RyZWFtLmRlc3Ryb3koKTtcbiAgICAgICAgd2FybignV0FSTklORzogZXJyb3Igb24gcmVhZGluZyBmaWxlOiAlcycsIGVycik7XG4gICAgICAgIGNiKHVuZGVmaW5lZCk7XG4gICAgfTtcblxuICAgIHN0cmVhbS5vbignZXJyb3InLCBvbkVycik7XG4gICAgbGluZVN0cmVhbVxuICAgICAgICAub24oJ2RhdGEnLCBvbkxpbmUpXG4gICAgICAgIC5vbignZW5kJywgb25FbmQpXG4gICAgICAgIC5vbignZXJyb3InLCBvbkVycilcbiAgICA7XG5cbn07XG5cblxudmFyIHBhcnNlTGluZSA9IG1vZHVsZS5leHBvcnRzLnBhcnNlTGluZSA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICBpZiAobGluZS5sZW5ndGggPCAxMSB8fCBsaW5lLm1hdGNoKC9eXFxzKyMvKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgY3VyQ2hhciA9ICcnO1xuICAgIHZhciBwcmV2Q2hhciA9ICcnO1xuICAgIHZhciBmaWVsZElkeCA9IDA7XG4gICAgdmFyIHN0YXJ0SWR4ID0gMDtcbiAgICB2YXIgZW5kSWR4ID0gMDtcbiAgICB2YXIgb2JqID0ge307XG4gICAgdmFyIGlzTGFzdEZpZWxkID0gZmFsc2U7XG4gICAgdmFyIGFkZFRvT2JqID0gZnVuY3Rpb24oaWR4LCBpMCwgaTEpIHtcbiAgICAgICAgdmFyIGZpZWxkID0gbGluZS5zdWJzdHJpbmcoaTAsIGkxKTtcblxuICAgICAgICBpZiAoISBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChwcm9jZXNzLmVudiwgJ1BHUEFTU19OT19ERUVTQ0FQRScpKSB7XG4gICAgICAgICAgICBmaWVsZCA9IGZpZWxkLnJlcGxhY2UoL1xcXFwoWzpcXFxcXSkvZywgJyQxJyk7XG4gICAgICAgIH1cblxuICAgICAgICBvYmpbIGZpZWxkTmFtZXNbaWR4XSBdID0gZmllbGQ7XG4gICAgfTtcblxuICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IGxpbmUubGVuZ3RoLTEgOyBpICs9IDEpIHtcbiAgICAgICAgY3VyQ2hhciA9IGxpbmUuY2hhckF0KGkrMSk7XG4gICAgICAgIHByZXZDaGFyID0gbGluZS5jaGFyQXQoaSk7XG5cbiAgICAgICAgaXNMYXN0RmllbGQgPSAoZmllbGRJZHggPT0gbnJPZkZpZWxkcy0xKTtcblxuICAgICAgICBpZiAoaXNMYXN0RmllbGQpIHtcbiAgICAgICAgICAgIGFkZFRvT2JqKGZpZWxkSWR4LCBzdGFydElkeCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpID49IDAgJiYgY3VyQ2hhciA9PSAnOicgJiYgcHJldkNoYXIgIT09ICdcXFxcJykge1xuICAgICAgICAgICAgYWRkVG9PYmooZmllbGRJZHgsIHN0YXJ0SWR4LCBpKzEpO1xuXG4gICAgICAgICAgICBzdGFydElkeCA9IGkrMjtcbiAgICAgICAgICAgIGZpZWxkSWR4ICs9IDE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvYmogPSAoIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSBuck9mRmllbGRzICkgPyBvYmogOiBudWxsO1xuXG4gICAgcmV0dXJuIG9iajtcbn07XG5cblxudmFyIGlzVmFsaWRFbnRyeSA9IG1vZHVsZS5leHBvcnRzLmlzVmFsaWRFbnRyeSA9IGZ1bmN0aW9uKGVudHJ5KXtcbiAgICB2YXIgcnVsZXMgPSB7XG4gICAgICAgIC8vIGhvc3RcbiAgICAgICAgMCA6IGZ1bmN0aW9uKHgpe1xuICAgICAgICAgICAgcmV0dXJuIHgubGVuZ3RoID4gMDtcbiAgICAgICAgfSAsXG4gICAgICAgIC8vIHBvcnRcbiAgICAgICAgMSA6IGZ1bmN0aW9uKHgpe1xuICAgICAgICAgICAgaWYgKHggPT09ICcqJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeCA9IE51bWJlcih4KTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgaXNGaW5pdGUoeCkgJiZcbiAgICAgICAgICAgICAgICAgIHggPiAwICYmXG4gICAgICAgICAgICAgICAgICB4IDwgOTAwNzE5OTI1NDc0MDk5MiAmJlxuICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcih4KSA9PT0geFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSAsXG4gICAgICAgIC8vIGRhdGFiYXNlXG4gICAgICAgIDIgOiBmdW5jdGlvbih4KXtcbiAgICAgICAgICAgIHJldHVybiB4Lmxlbmd0aCA+IDA7XG4gICAgICAgIH0gLFxuICAgICAgICAvLyB1c2VybmFtZVxuICAgICAgICAzIDogZnVuY3Rpb24oeCl7XG4gICAgICAgICAgICByZXR1cm4geC5sZW5ndGggPiAwO1xuICAgICAgICB9ICxcbiAgICAgICAgLy8gcGFzc3dvcmRcbiAgICAgICAgNCA6IGZ1bmN0aW9uKHgpe1xuICAgICAgICAgICAgcmV0dXJuIHgubGVuZ3RoID4gMDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmb3IgKHZhciBpZHggPSAwIDsgaWR4IDwgZmllbGROYW1lcy5sZW5ndGggOyBpZHggKz0gMSkge1xuICAgICAgICB2YXIgcnVsZSA9IHJ1bGVzW2lkeF07XG4gICAgICAgIHZhciB2YWx1ZSA9IGVudHJ5WyBmaWVsZE5hbWVzW2lkeF0gXSB8fCAnJztcblxuICAgICAgICB2YXIgcmVzID0gcnVsZSh2YWx1ZSk7XG4gICAgICAgIGlmICghcmVzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG4gICwgZnMgPSByZXF1aXJlKCdmcycpXG4gICwgaGVscGVyID0gcmVxdWlyZSgnLi9oZWxwZXIuanMnKVxuO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oY29ubkluZm8sIGNiKSB7XG4gICAgdmFyIGZpbGUgPSBoZWxwZXIuZ2V0RmlsZU5hbWUoKTtcbiAgICBcbiAgICBmcy5zdGF0KGZpbGUsIGZ1bmN0aW9uKGVyciwgc3RhdCl7XG4gICAgICAgIGlmIChlcnIgfHwgIWhlbHBlci51c2VQZ1Bhc3Moc3RhdCwgZmlsZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjYih1bmRlZmluZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0ID0gZnMuY3JlYXRlUmVhZFN0cmVhbShmaWxlKTtcblxuICAgICAgICBoZWxwZXIuZ2V0UGFzc3dvcmQoY29ubkluZm8sIHN0LCBjYik7XG4gICAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cy53YXJuVG8gPSBoZWxwZXIud2FyblRvO1xuIiwgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbmNvbnN0IHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpXG5jb25zdCBzYXNsID0gcmVxdWlyZSgnLi9jcnlwdG8vc2FzbCcpXG5jb25zdCBUeXBlT3ZlcnJpZGVzID0gcmVxdWlyZSgnLi90eXBlLW92ZXJyaWRlcycpXG5cbmNvbnN0IENvbm5lY3Rpb25QYXJhbWV0ZXJzID0gcmVxdWlyZSgnLi9jb25uZWN0aW9uLXBhcmFtZXRlcnMnKVxuY29uc3QgUXVlcnkgPSByZXF1aXJlKCcuL3F1ZXJ5JylcbmNvbnN0IGRlZmF1bHRzID0gcmVxdWlyZSgnLi9kZWZhdWx0cycpXG5jb25zdCBDb25uZWN0aW9uID0gcmVxdWlyZSgnLi9jb25uZWN0aW9uJylcbmNvbnN0IGNyeXB0byA9IHJlcXVpcmUoJy4vY3J5cHRvL3V0aWxzJylcblxuY2xhc3MgQ2xpZW50IGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgc3VwZXIoKVxuXG4gICAgdGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycyA9IG5ldyBDb25uZWN0aW9uUGFyYW1ldGVycyhjb25maWcpXG4gICAgdGhpcy51c2VyID0gdGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycy51c2VyXG4gICAgdGhpcy5kYXRhYmFzZSA9IHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMuZGF0YWJhc2VcbiAgICB0aGlzLnBvcnQgPSB0aGlzLmNvbm5lY3Rpb25QYXJhbWV0ZXJzLnBvcnRcbiAgICB0aGlzLmhvc3QgPSB0aGlzLmNvbm5lY3Rpb25QYXJhbWV0ZXJzLmhvc3RcblxuICAgIC8vIFwiaGlkaW5nXCIgdGhlIHBhc3N3b3JkIHNvIGl0IGRvZXNuJ3Qgc2hvdyB1cCBpbiBzdGFjayB0cmFjZXNcbiAgICAvLyBvciBpZiB0aGUgY2xpZW50IGlzIGNvbnNvbGUubG9nZ2VkXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdwYXNzd29yZCcsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogdGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycy5wYXNzd29yZCxcbiAgICB9KVxuXG4gICAgdGhpcy5yZXBsaWNhdGlvbiA9IHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMucmVwbGljYXRpb25cblxuICAgIGNvbnN0IGMgPSBjb25maWcgfHwge31cblxuICAgIHRoaXMuX1Byb21pc2UgPSBjLlByb21pc2UgfHwgZ2xvYmFsLlByb21pc2VcbiAgICB0aGlzLl90eXBlcyA9IG5ldyBUeXBlT3ZlcnJpZGVzKGMudHlwZXMpXG4gICAgdGhpcy5fZW5kaW5nID0gZmFsc2VcbiAgICB0aGlzLl9lbmRlZCA9IGZhbHNlXG4gICAgdGhpcy5fY29ubmVjdGluZyA9IGZhbHNlXG4gICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2VcbiAgICB0aGlzLl9jb25uZWN0aW9uRXJyb3IgPSBmYWxzZVxuICAgIHRoaXMuX3F1ZXJ5YWJsZSA9IHRydWVcblxuICAgIHRoaXMuZW5hYmxlQ2hhbm5lbEJpbmRpbmcgPSBCb29sZWFuKGMuZW5hYmxlQ2hhbm5lbEJpbmRpbmcpIC8vIHNldCB0cnVlIHRvIHVzZSBTQ1JBTS1TSEEtMjU2LVBMVVMgd2hlbiBvZmZlcmVkXG4gICAgdGhpcy5jb25uZWN0aW9uID1cbiAgICAgIGMuY29ubmVjdGlvbiB8fFxuICAgICAgbmV3IENvbm5lY3Rpb24oe1xuICAgICAgICBzdHJlYW06IGMuc3RyZWFtLFxuICAgICAgICBzc2w6IHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMuc3NsLFxuICAgICAgICBrZWVwQWxpdmU6IGMua2VlcEFsaXZlIHx8IGZhbHNlLFxuICAgICAgICBrZWVwQWxpdmVJbml0aWFsRGVsYXlNaWxsaXM6IGMua2VlcEFsaXZlSW5pdGlhbERlbGF5TWlsbGlzIHx8IDAsXG4gICAgICAgIGVuY29kaW5nOiB0aGlzLmNvbm5lY3Rpb25QYXJhbWV0ZXJzLmNsaWVudF9lbmNvZGluZyB8fCAndXRmOCcsXG4gICAgICB9KVxuICAgIHRoaXMucXVlcnlRdWV1ZSA9IFtdXG4gICAgdGhpcy5iaW5hcnkgPSBjLmJpbmFyeSB8fCBkZWZhdWx0cy5iaW5hcnlcbiAgICB0aGlzLnByb2Nlc3NJRCA9IG51bGxcbiAgICB0aGlzLnNlY3JldEtleSA9IG51bGxcbiAgICB0aGlzLnNzbCA9IHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMuc3NsIHx8IGZhbHNlXG4gICAgLy8gQXMgd2l0aCBQYXNzd29yZCwgbWFrZSBTU0wtPktleSAodGhlIHByaXZhdGUga2V5KSBub24tZW51bWVyYWJsZS5cbiAgICAvLyBJdCB3b24ndCBzaG93IHVwIGluIHN0YWNrIHRyYWNlc1xuICAgIC8vIG9yIGlmIHRoZSBjbGllbnQgaXMgY29uc29sZS5sb2dnZWRcbiAgICBpZiAodGhpcy5zc2wgJiYgdGhpcy5zc2wua2V5KSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5zc2wsICdrZXknLCB7XG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICB0aGlzLl9jb25uZWN0aW9uVGltZW91dE1pbGxpcyA9IGMuY29ubmVjdGlvblRpbWVvdXRNaWxsaXMgfHwgMFxuICB9XG5cbiAgX2Vycm9yQWxsUXVlcmllcyhlcnIpIHtcbiAgICBjb25zdCBlbnF1ZXVlRXJyb3IgPSAocXVlcnkpID0+IHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICBxdWVyeS5oYW5kbGVFcnJvcihlcnIsIHRoaXMuY29ubmVjdGlvbilcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYWN0aXZlUXVlcnkpIHtcbiAgICAgIGVucXVldWVFcnJvcih0aGlzLmFjdGl2ZVF1ZXJ5KVxuICAgICAgdGhpcy5hY3RpdmVRdWVyeSA9IG51bGxcbiAgICB9XG5cbiAgICB0aGlzLnF1ZXJ5UXVldWUuZm9yRWFjaChlbnF1ZXVlRXJyb3IpXG4gICAgdGhpcy5xdWVyeVF1ZXVlLmxlbmd0aCA9IDBcbiAgfVxuXG4gIF9jb25uZWN0KGNhbGxiYWNrKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXNcbiAgICBjb25zdCBjb24gPSB0aGlzLmNvbm5lY3Rpb25cbiAgICB0aGlzLl9jb25uZWN0aW9uQ2FsbGJhY2sgPSBjYWxsYmFja1xuXG4gICAgaWYgKHRoaXMuX2Nvbm5lY3RpbmcgfHwgdGhpcy5fY29ubmVjdGVkKSB7XG4gICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoJ0NsaWVudCBoYXMgYWxyZWFkeSBiZWVuIGNvbm5lY3RlZC4gWW91IGNhbm5vdCByZXVzZSBhIGNsaWVudC4nKVxuICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKGVycilcbiAgICAgIH0pXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgdGhpcy5fY29ubmVjdGluZyA9IHRydWVcblxuICAgIGlmICh0aGlzLl9jb25uZWN0aW9uVGltZW91dE1pbGxpcyA+IDApIHtcbiAgICAgIHRoaXMuY29ubmVjdGlvblRpbWVvdXRIYW5kbGUgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uLl9lbmRpbmcgPSB0cnVlXG4gICAgICAgIGNvbi5zdHJlYW0uZGVzdHJveShuZXcgRXJyb3IoJ3RpbWVvdXQgZXhwaXJlZCcpKVxuICAgICAgfSwgdGhpcy5fY29ubmVjdGlvblRpbWVvdXRNaWxsaXMpXG5cbiAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25UaW1lb3V0SGFuZGxlLnVucmVmKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvblRpbWVvdXRIYW5kbGUudW5yZWYoKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmhvc3QgJiYgdGhpcy5ob3N0LmluZGV4T2YoJy8nKSA9PT0gMCkge1xuICAgICAgY29uLmNvbm5lY3QodGhpcy5ob3N0ICsgJy8ucy5QR1NRTC4nICsgdGhpcy5wb3J0KVxuICAgIH0gZWxzZSB7XG4gICAgICBjb24uY29ubmVjdCh0aGlzLnBvcnQsIHRoaXMuaG9zdClcbiAgICB9XG5cbiAgICAvLyBvbmNlIGNvbm5lY3Rpb24gaXMgZXN0YWJsaXNoZWQgc2VuZCBzdGFydHVwIG1lc3NhZ2VcbiAgICBjb24ub24oJ2Nvbm5lY3QnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc2VsZi5zc2wpIHtcbiAgICAgICAgY29uLnJlcXVlc3RTc2woKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uLnN0YXJ0dXAoc2VsZi5nZXRTdGFydHVwQ29uZigpKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBjb24ub24oJ3NzbGNvbm5lY3QnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb24uc3RhcnR1cChzZWxmLmdldFN0YXJ0dXBDb25mKCkpXG4gICAgfSlcblxuICAgIHRoaXMuX2F0dGFjaExpc3RlbmVycyhjb24pXG5cbiAgICBjb24ub25jZSgnZW5kJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSB0aGlzLl9lbmRpbmcgPyBuZXcgRXJyb3IoJ0Nvbm5lY3Rpb24gdGVybWluYXRlZCcpIDogbmV3IEVycm9yKCdDb25uZWN0aW9uIHRlcm1pbmF0ZWQgdW5leHBlY3RlZGx5JylcblxuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvblRpbWVvdXRIYW5kbGUpXG4gICAgICB0aGlzLl9lcnJvckFsbFF1ZXJpZXMoZXJyb3IpXG4gICAgICB0aGlzLl9lbmRlZCA9IHRydWVcblxuICAgICAgaWYgKCF0aGlzLl9lbmRpbmcpIHtcbiAgICAgICAgLy8gaWYgdGhlIGNvbm5lY3Rpb24gaXMgZW5kZWQgd2l0aG91dCB1cyBjYWxsaW5nIC5lbmQoKVxuICAgICAgICAvLyBvbiB0aGlzIGNsaWVudCB0aGVuIHdlIGhhdmUgYW4gdW5leHBlY3RlZCBkaXNjb25uZWN0aW9uXG4gICAgICAgIC8vIHRyZWF0IHRoaXMgYXMgYW4gZXJyb3IgdW5sZXNzIHdlJ3ZlIGFscmVhZHkgZW1pdHRlZCBhbiBlcnJvclxuICAgICAgICAvLyBkdXJpbmcgY29ubmVjdGlvbi5cbiAgICAgICAgaWYgKHRoaXMuX2Nvbm5lY3RpbmcgJiYgIXRoaXMuX2Nvbm5lY3Rpb25FcnJvcikge1xuICAgICAgICAgIGlmICh0aGlzLl9jb25uZWN0aW9uQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25DYWxsYmFjayhlcnJvcilcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlRXJyb3JFdmVudChlcnJvcilcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2Nvbm5lY3Rpb25FcnJvcikge1xuICAgICAgICAgIHRoaXMuX2hhbmRsZUVycm9yRXZlbnQoZXJyb3IpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgIHRoaXMuZW1pdCgnZW5kJylcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIGNvbm5lY3QoY2FsbGJhY2spIHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX2Nvbm5lY3QoY2FsbGJhY2spXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IHRoaXMuX1Byb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5fY29ubmVjdCgoZXJyb3IpID0+IHtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KGVycm9yKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBfYXR0YWNoTGlzdGVuZXJzKGNvbikge1xuICAgIC8vIHBhc3N3b3JkIHJlcXVlc3QgaGFuZGxpbmdcbiAgICBjb24ub24oJ2F1dGhlbnRpY2F0aW9uQ2xlYXJ0ZXh0UGFzc3dvcmQnLCB0aGlzLl9oYW5kbGVBdXRoQ2xlYXJ0ZXh0UGFzc3dvcmQuYmluZCh0aGlzKSlcbiAgICAvLyBwYXNzd29yZCByZXF1ZXN0IGhhbmRsaW5nXG4gICAgY29uLm9uKCdhdXRoZW50aWNhdGlvbk1ENVBhc3N3b3JkJywgdGhpcy5faGFuZGxlQXV0aE1ENVBhc3N3b3JkLmJpbmQodGhpcykpXG4gICAgLy8gcGFzc3dvcmQgcmVxdWVzdCBoYW5kbGluZyAoU0FTTClcbiAgICBjb24ub24oJ2F1dGhlbnRpY2F0aW9uU0FTTCcsIHRoaXMuX2hhbmRsZUF1dGhTQVNMLmJpbmQodGhpcykpXG4gICAgY29uLm9uKCdhdXRoZW50aWNhdGlvblNBU0xDb250aW51ZScsIHRoaXMuX2hhbmRsZUF1dGhTQVNMQ29udGludWUuYmluZCh0aGlzKSlcbiAgICBjb24ub24oJ2F1dGhlbnRpY2F0aW9uU0FTTEZpbmFsJywgdGhpcy5faGFuZGxlQXV0aFNBU0xGaW5hbC5iaW5kKHRoaXMpKVxuICAgIGNvbi5vbignYmFja2VuZEtleURhdGEnLCB0aGlzLl9oYW5kbGVCYWNrZW5kS2V5RGF0YS5iaW5kKHRoaXMpKVxuICAgIGNvbi5vbignZXJyb3InLCB0aGlzLl9oYW5kbGVFcnJvckV2ZW50LmJpbmQodGhpcykpXG4gICAgY29uLm9uKCdlcnJvck1lc3NhZ2UnLCB0aGlzLl9oYW5kbGVFcnJvck1lc3NhZ2UuYmluZCh0aGlzKSlcbiAgICBjb24ub24oJ3JlYWR5Rm9yUXVlcnknLCB0aGlzLl9oYW5kbGVSZWFkeUZvclF1ZXJ5LmJpbmQodGhpcykpXG4gICAgY29uLm9uKCdub3RpY2UnLCB0aGlzLl9oYW5kbGVOb3RpY2UuYmluZCh0aGlzKSlcbiAgICBjb24ub24oJ3Jvd0Rlc2NyaXB0aW9uJywgdGhpcy5faGFuZGxlUm93RGVzY3JpcHRpb24uYmluZCh0aGlzKSlcbiAgICBjb24ub24oJ2RhdGFSb3cnLCB0aGlzLl9oYW5kbGVEYXRhUm93LmJpbmQodGhpcykpXG4gICAgY29uLm9uKCdwb3J0YWxTdXNwZW5kZWQnLCB0aGlzLl9oYW5kbGVQb3J0YWxTdXNwZW5kZWQuYmluZCh0aGlzKSlcbiAgICBjb24ub24oJ2VtcHR5UXVlcnknLCB0aGlzLl9oYW5kbGVFbXB0eVF1ZXJ5LmJpbmQodGhpcykpXG4gICAgY29uLm9uKCdjb21tYW5kQ29tcGxldGUnLCB0aGlzLl9oYW5kbGVDb21tYW5kQ29tcGxldGUuYmluZCh0aGlzKSlcbiAgICBjb24ub24oJ3BhcnNlQ29tcGxldGUnLCB0aGlzLl9oYW5kbGVQYXJzZUNvbXBsZXRlLmJpbmQodGhpcykpXG4gICAgY29uLm9uKCdjb3B5SW5SZXNwb25zZScsIHRoaXMuX2hhbmRsZUNvcHlJblJlc3BvbnNlLmJpbmQodGhpcykpXG4gICAgY29uLm9uKCdjb3B5RGF0YScsIHRoaXMuX2hhbmRsZUNvcHlEYXRhLmJpbmQodGhpcykpXG4gICAgY29uLm9uKCdub3RpZmljYXRpb24nLCB0aGlzLl9oYW5kbGVOb3RpZmljYXRpb24uYmluZCh0aGlzKSlcbiAgfVxuXG4gIC8vIFRPRE8oYm1jKTogZGVwcmVjYXRlIHBncGFzcyBcImJ1aWx0IGluXCIgaW50ZWdyYXRpb24gc2luY2UgdGhpcy5wYXNzd29yZCBjYW4gYmUgYSBmdW5jdGlvblxuICAvLyBpdCBjYW4gYmUgc3VwcGxpZWQgYnkgdGhlIHVzZXIgaWYgcmVxdWlyZWQgLSB0aGlzIGlzIGEgYnJlYWtpbmcgY2hhbmdlIVxuICBfY2hlY2tQZ1Bhc3MoY2IpIHtcbiAgICBjb25zdCBjb24gPSB0aGlzLmNvbm5lY3Rpb25cbiAgICBpZiAodHlwZW9mIHRoaXMucGFzc3dvcmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuX1Byb21pc2VcbiAgICAgICAgLnJlc29sdmUoKVxuICAgICAgICAudGhlbigoKSA9PiB0aGlzLnBhc3N3b3JkKCkpXG4gICAgICAgIC50aGVuKChwYXNzKSA9PiB7XG4gICAgICAgICAgaWYgKHBhc3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXNzICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb24uZW1pdCgnZXJyb3InLCBuZXcgVHlwZUVycm9yKCdQYXNzd29yZCBtdXN0IGJlIGEgc3RyaW5nJykpXG4gICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycy5wYXNzd29yZCA9IHRoaXMucGFzc3dvcmQgPSBwYXNzXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMucGFzc3dvcmQgPSB0aGlzLnBhc3N3b3JkID0gbnVsbFxuICAgICAgICAgIH1cbiAgICAgICAgICBjYigpXG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgY29uLmVtaXQoJ2Vycm9yJywgZXJyKVxuICAgICAgICB9KVxuICAgIH0gZWxzZSBpZiAodGhpcy5wYXNzd29yZCAhPT0gbnVsbCkge1xuICAgICAgY2IoKVxuICAgIH0gZWxzZSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwZ1Bhc3MgPSByZXF1aXJlKCdwZ3Bhc3MnKVxuICAgICAgICBwZ1Bhc3ModGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycywgKHBhc3MpID0+IHtcbiAgICAgICAgICBpZiAodW5kZWZpbmVkICE9PSBwYXNzKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25QYXJhbWV0ZXJzLnBhc3N3b3JkID0gdGhpcy5wYXNzd29yZCA9IHBhc3NcbiAgICAgICAgICB9XG4gICAgICAgICAgY2IoKVxuICAgICAgICB9KVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfaGFuZGxlQXV0aENsZWFydGV4dFBhc3N3b3JkKG1zZykge1xuICAgIHRoaXMuX2NoZWNrUGdQYXNzKCgpID0+IHtcbiAgICAgIHRoaXMuY29ubmVjdGlvbi5wYXNzd29yZCh0aGlzLnBhc3N3b3JkKVxuICAgIH0pXG4gIH1cblxuICBfaGFuZGxlQXV0aE1ENVBhc3N3b3JkKG1zZykge1xuICAgIHRoaXMuX2NoZWNrUGdQYXNzKGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgY3J5cHRvLnBvc3RncmVzTWQ1UGFzc3dvcmRIYXNoKHRoaXMudXNlciwgdGhpcy5wYXNzd29yZCwgbXNnLnNhbHQpXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbi5wYXNzd29yZChoYXNoZWRQYXNzd29yZClcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIGUpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIF9oYW5kbGVBdXRoU0FTTChtc2cpIHtcbiAgICB0aGlzLl9jaGVja1BnUGFzcygoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLnNhc2xTZXNzaW9uID0gc2FzbC5zdGFydFNlc3Npb24obXNnLm1lY2hhbmlzbXMsIHRoaXMuZW5hYmxlQ2hhbm5lbEJpbmRpbmcgJiYgdGhpcy5jb25uZWN0aW9uLnN0cmVhbSlcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uLnNlbmRTQVNMSW5pdGlhbFJlc3BvbnNlTWVzc2FnZSh0aGlzLnNhc2xTZXNzaW9uLm1lY2hhbmlzbSwgdGhpcy5zYXNsU2Vzc2lvbi5yZXNwb25zZSlcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb24uZW1pdCgnZXJyb3InLCBlcnIpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGFzeW5jIF9oYW5kbGVBdXRoU0FTTENvbnRpbnVlKG1zZykge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBzYXNsLmNvbnRpbnVlU2Vzc2lvbihcbiAgICAgICAgdGhpcy5zYXNsU2Vzc2lvbixcbiAgICAgICAgdGhpcy5wYXNzd29yZCxcbiAgICAgICAgbXNnLmRhdGEsXG4gICAgICAgIHRoaXMuZW5hYmxlQ2hhbm5lbEJpbmRpbmcgJiYgdGhpcy5jb25uZWN0aW9uLnN0cmVhbVxuICAgICAgKVxuICAgICAgdGhpcy5jb25uZWN0aW9uLnNlbmRTQ1JBTUNsaWVudEZpbmFsTWVzc2FnZSh0aGlzLnNhc2xTZXNzaW9uLnJlc3BvbnNlKVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy5jb25uZWN0aW9uLmVtaXQoJ2Vycm9yJywgZXJyKVxuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVBdXRoU0FTTEZpbmFsKG1zZykge1xuICAgIHRyeSB7XG4gICAgICBzYXNsLmZpbmFsaXplU2Vzc2lvbih0aGlzLnNhc2xTZXNzaW9uLCBtc2cuZGF0YSlcbiAgICAgIHRoaXMuc2FzbFNlc3Npb24gPSBudWxsXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLmNvbm5lY3Rpb24uZW1pdCgnZXJyb3InLCBlcnIpXG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUJhY2tlbmRLZXlEYXRhKG1zZykge1xuICAgIHRoaXMucHJvY2Vzc0lEID0gbXNnLnByb2Nlc3NJRFxuICAgIHRoaXMuc2VjcmV0S2V5ID0gbXNnLnNlY3JldEtleVxuICB9XG5cbiAgX2hhbmRsZVJlYWR5Rm9yUXVlcnkobXNnKSB7XG4gICAgaWYgKHRoaXMuX2Nvbm5lY3RpbmcpIHtcbiAgICAgIHRoaXMuX2Nvbm5lY3RpbmcgPSBmYWxzZVxuICAgICAgdGhpcy5fY29ubmVjdGVkID0gdHJ1ZVxuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvblRpbWVvdXRIYW5kbGUpXG5cbiAgICAgIC8vIHByb2Nlc3MgcG9zc2libGUgY2FsbGJhY2sgYXJndW1lbnQgdG8gQ2xpZW50I2Nvbm5lY3RcbiAgICAgIGlmICh0aGlzLl9jb25uZWN0aW9uQ2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fY29ubmVjdGlvbkNhbGxiYWNrKG51bGwsIHRoaXMpXG4gICAgICAgIC8vIHJlbW92ZSBjYWxsYmFjayBmb3IgcHJvcGVyIGVycm9yIGhhbmRsaW5nXG4gICAgICAgIC8vIGFmdGVyIHRoZSBjb25uZWN0IGV2ZW50XG4gICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25DYWxsYmFjayA9IG51bGxcbiAgICAgIH1cbiAgICAgIHRoaXMuZW1pdCgnY29ubmVjdCcpXG4gICAgfVxuICAgIGNvbnN0IHsgYWN0aXZlUXVlcnkgfSA9IHRoaXNcbiAgICB0aGlzLmFjdGl2ZVF1ZXJ5ID0gbnVsbFxuICAgIHRoaXMucmVhZHlGb3JRdWVyeSA9IHRydWVcbiAgICBpZiAoYWN0aXZlUXVlcnkpIHtcbiAgICAgIGFjdGl2ZVF1ZXJ5LmhhbmRsZVJlYWR5Rm9yUXVlcnkodGhpcy5jb25uZWN0aW9uKVxuICAgIH1cbiAgICB0aGlzLl9wdWxzZVF1ZXJ5UXVldWUoKVxuICB9XG5cbiAgLy8gaWYgd2UgcmVjZWl2ZSBhbiBlcnJvciBldmVudCBvciBlcnJvciBtZXNzYWdlXG4gIC8vIGR1cmluZyB0aGUgY29ubmVjdGlvbiBwcm9jZXNzIHdlIGhhbmRsZSBpdCBoZXJlXG4gIF9oYW5kbGVFcnJvcldoaWxlQ29ubmVjdGluZyhlcnIpIHtcbiAgICBpZiAodGhpcy5fY29ubmVjdGlvbkVycm9yKSB7XG4gICAgICAvLyBUT0RPKGJtYyk6IHRoaXMgaXMgc3dhbGxvd2luZyBlcnJvcnMgLSB3ZSBzaG91bGRuJ3QgZG8gdGhpc1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHRoaXMuX2Nvbm5lY3Rpb25FcnJvciA9IHRydWVcbiAgICBjbGVhclRpbWVvdXQodGhpcy5jb25uZWN0aW9uVGltZW91dEhhbmRsZSlcbiAgICBpZiAodGhpcy5fY29ubmVjdGlvbkNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY29ubmVjdGlvbkNhbGxiYWNrKGVycilcbiAgICB9XG4gICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycilcbiAgfVxuXG4gIC8vIGlmIHdlJ3JlIGNvbm5lY3RlZCBhbmQgd2UgcmVjZWl2ZSBhbiBlcnJvciBldmVudCBmcm9tIHRoZSBjb25uZWN0aW9uXG4gIC8vIHRoaXMgbWVhbnMgdGhlIHNvY2tldCBpcyBkZWFkIC0gZG8gYSBoYXJkIGFib3J0IG9mIGFsbCBxdWVyaWVzIGFuZCBlbWl0XG4gIC8vIHRoZSBzb2NrZXQgZXJyb3Igb24gdGhlIGNsaWVudCBhcyB3ZWxsXG4gIF9oYW5kbGVFcnJvckV2ZW50KGVycikge1xuICAgIGlmICh0aGlzLl9jb25uZWN0aW5nKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFuZGxlRXJyb3JXaGlsZUNvbm5lY3RpbmcoZXJyKVxuICAgIH1cbiAgICB0aGlzLl9xdWVyeWFibGUgPSBmYWxzZVxuICAgIHRoaXMuX2Vycm9yQWxsUXVlcmllcyhlcnIpXG4gICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycilcbiAgfVxuXG4gIC8vIGhhbmRsZSBlcnJvciBtZXNzYWdlcyBmcm9tIHRoZSBwb3N0Z3JlcyBiYWNrZW5kXG4gIF9oYW5kbGVFcnJvck1lc3NhZ2UobXNnKSB7XG4gICAgaWYgKHRoaXMuX2Nvbm5lY3RpbmcpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVFcnJvcldoaWxlQ29ubmVjdGluZyhtc2cpXG4gICAgfVxuICAgIGNvbnN0IGFjdGl2ZVF1ZXJ5ID0gdGhpcy5hY3RpdmVRdWVyeVxuXG4gICAgaWYgKCFhY3RpdmVRdWVyeSkge1xuICAgICAgdGhpcy5faGFuZGxlRXJyb3JFdmVudChtc2cpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLmFjdGl2ZVF1ZXJ5ID0gbnVsbFxuICAgIGFjdGl2ZVF1ZXJ5LmhhbmRsZUVycm9yKG1zZywgdGhpcy5jb25uZWN0aW9uKVxuICB9XG5cbiAgX2hhbmRsZVJvd0Rlc2NyaXB0aW9uKG1zZykge1xuICAgIC8vIGRlbGVnYXRlIHJvd0Rlc2NyaXB0aW9uIHRvIGFjdGl2ZSBxdWVyeVxuICAgIHRoaXMuYWN0aXZlUXVlcnkuaGFuZGxlUm93RGVzY3JpcHRpb24obXNnKVxuICB9XG5cbiAgX2hhbmRsZURhdGFSb3cobXNnKSB7XG4gICAgLy8gZGVsZWdhdGUgZGF0YVJvdyB0byBhY3RpdmUgcXVlcnlcbiAgICB0aGlzLmFjdGl2ZVF1ZXJ5LmhhbmRsZURhdGFSb3cobXNnKVxuICB9XG5cbiAgX2hhbmRsZVBvcnRhbFN1c3BlbmRlZChtc2cpIHtcbiAgICAvLyBkZWxlZ2F0ZSBwb3J0YWxTdXNwZW5kZWQgdG8gYWN0aXZlIHF1ZXJ5XG4gICAgdGhpcy5hY3RpdmVRdWVyeS5oYW5kbGVQb3J0YWxTdXNwZW5kZWQodGhpcy5jb25uZWN0aW9uKVxuICB9XG5cbiAgX2hhbmRsZUVtcHR5UXVlcnkobXNnKSB7XG4gICAgLy8gZGVsZWdhdGUgZW1wdHlRdWVyeSB0byBhY3RpdmUgcXVlcnlcbiAgICB0aGlzLmFjdGl2ZVF1ZXJ5LmhhbmRsZUVtcHR5UXVlcnkodGhpcy5jb25uZWN0aW9uKVxuICB9XG5cbiAgX2hhbmRsZUNvbW1hbmRDb21wbGV0ZShtc2cpIHtcbiAgICBpZiAodGhpcy5hY3RpdmVRdWVyeSA9PSBudWxsKSB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcignUmVjZWl2ZWQgdW5leHBlY3RlZCBjb21tYW5kQ29tcGxldGUgbWVzc2FnZSBmcm9tIGJhY2tlbmQuJylcbiAgICAgIHRoaXMuX2hhbmRsZUVycm9yRXZlbnQoZXJyb3IpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgLy8gZGVsZWdhdGUgY29tbWFuZENvbXBsZXRlIHRvIGFjdGl2ZSBxdWVyeVxuICAgIHRoaXMuYWN0aXZlUXVlcnkuaGFuZGxlQ29tbWFuZENvbXBsZXRlKG1zZywgdGhpcy5jb25uZWN0aW9uKVxuICB9XG5cbiAgX2hhbmRsZVBhcnNlQ29tcGxldGUoKSB7XG4gICAgaWYgKHRoaXMuYWN0aXZlUXVlcnkgPT0gbnVsbCkge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ1JlY2VpdmVkIHVuZXhwZWN0ZWQgcGFyc2VDb21wbGV0ZSBtZXNzYWdlIGZyb20gYmFja2VuZC4nKVxuICAgICAgdGhpcy5faGFuZGxlRXJyb3JFdmVudChlcnJvcilcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICAvLyBpZiBhIHByZXBhcmVkIHN0YXRlbWVudCBoYXMgYSBuYW1lIGFuZCBwcm9wZXJseSBwYXJzZXNcbiAgICAvLyB3ZSB0cmFjayB0aGF0IGl0cyBhbHJlYWR5IGJlZW4gZXhlY3V0ZWQgc28gd2UgZG9uJ3QgcGFyc2VcbiAgICAvLyBpdCBhZ2FpbiBvbiB0aGUgc2FtZSBjbGllbnRcbiAgICBpZiAodGhpcy5hY3RpdmVRdWVyeS5uYW1lKSB7XG4gICAgICB0aGlzLmNvbm5lY3Rpb24ucGFyc2VkU3RhdGVtZW50c1t0aGlzLmFjdGl2ZVF1ZXJ5Lm5hbWVdID0gdGhpcy5hY3RpdmVRdWVyeS50ZXh0XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUNvcHlJblJlc3BvbnNlKG1zZykge1xuICAgIHRoaXMuYWN0aXZlUXVlcnkuaGFuZGxlQ29weUluUmVzcG9uc2UodGhpcy5jb25uZWN0aW9uKVxuICB9XG5cbiAgX2hhbmRsZUNvcHlEYXRhKG1zZykge1xuICAgIHRoaXMuYWN0aXZlUXVlcnkuaGFuZGxlQ29weURhdGEobXNnLCB0aGlzLmNvbm5lY3Rpb24pXG4gIH1cblxuICBfaGFuZGxlTm90aWZpY2F0aW9uKG1zZykge1xuICAgIHRoaXMuZW1pdCgnbm90aWZpY2F0aW9uJywgbXNnKVxuICB9XG5cbiAgX2hhbmRsZU5vdGljZShtc2cpIHtcbiAgICB0aGlzLmVtaXQoJ25vdGljZScsIG1zZylcbiAgfVxuXG4gIGdldFN0YXJ0dXBDb25mKCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnNcblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICB1c2VyOiBwYXJhbXMudXNlcixcbiAgICAgIGRhdGFiYXNlOiBwYXJhbXMuZGF0YWJhc2UsXG4gICAgfVxuXG4gICAgY29uc3QgYXBwTmFtZSA9IHBhcmFtcy5hcHBsaWNhdGlvbl9uYW1lIHx8IHBhcmFtcy5mYWxsYmFja19hcHBsaWNhdGlvbl9uYW1lXG4gICAgaWYgKGFwcE5hbWUpIHtcbiAgICAgIGRhdGEuYXBwbGljYXRpb25fbmFtZSA9IGFwcE5hbWVcbiAgICB9XG4gICAgaWYgKHBhcmFtcy5yZXBsaWNhdGlvbikge1xuICAgICAgZGF0YS5yZXBsaWNhdGlvbiA9ICcnICsgcGFyYW1zLnJlcGxpY2F0aW9uXG4gICAgfVxuICAgIGlmIChwYXJhbXMuc3RhdGVtZW50X3RpbWVvdXQpIHtcbiAgICAgIGRhdGEuc3RhdGVtZW50X3RpbWVvdXQgPSBTdHJpbmcocGFyc2VJbnQocGFyYW1zLnN0YXRlbWVudF90aW1lb3V0LCAxMCkpXG4gICAgfVxuICAgIGlmIChwYXJhbXMubG9ja190aW1lb3V0KSB7XG4gICAgICBkYXRhLmxvY2tfdGltZW91dCA9IFN0cmluZyhwYXJzZUludChwYXJhbXMubG9ja190aW1lb3V0LCAxMCkpXG4gICAgfVxuICAgIGlmIChwYXJhbXMuaWRsZV9pbl90cmFuc2FjdGlvbl9zZXNzaW9uX3RpbWVvdXQpIHtcbiAgICAgIGRhdGEuaWRsZV9pbl90cmFuc2FjdGlvbl9zZXNzaW9uX3RpbWVvdXQgPSBTdHJpbmcocGFyc2VJbnQocGFyYW1zLmlkbGVfaW5fdHJhbnNhY3Rpb25fc2Vzc2lvbl90aW1lb3V0LCAxMCkpXG4gICAgfVxuICAgIGlmIChwYXJhbXMub3B0aW9ucykge1xuICAgICAgZGF0YS5vcHRpb25zID0gcGFyYW1zLm9wdGlvbnNcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YVxuICB9XG5cbiAgY2FuY2VsKGNsaWVudCwgcXVlcnkpIHtcbiAgICBpZiAoY2xpZW50LmFjdGl2ZVF1ZXJ5ID09PSBxdWVyeSkge1xuICAgICAgY29uc3QgY29uID0gdGhpcy5jb25uZWN0aW9uXG5cbiAgICAgIGlmICh0aGlzLmhvc3QgJiYgdGhpcy5ob3N0LmluZGV4T2YoJy8nKSA9PT0gMCkge1xuICAgICAgICBjb24uY29ubmVjdCh0aGlzLmhvc3QgKyAnLy5zLlBHU1FMLicgKyB0aGlzLnBvcnQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb24uY29ubmVjdCh0aGlzLnBvcnQsIHRoaXMuaG9zdClcbiAgICAgIH1cblxuICAgICAgLy8gb25jZSBjb25uZWN0aW9uIGlzIGVzdGFibGlzaGVkIHNlbmQgY2FuY2VsIG1lc3NhZ2VcbiAgICAgIGNvbi5vbignY29ubmVjdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uLmNhbmNlbChjbGllbnQucHJvY2Vzc0lELCBjbGllbnQuc2VjcmV0S2V5KVxuICAgICAgfSlcbiAgICB9IGVsc2UgaWYgKGNsaWVudC5xdWVyeVF1ZXVlLmluZGV4T2YocXVlcnkpICE9PSAtMSkge1xuICAgICAgY2xpZW50LnF1ZXJ5UXVldWUuc3BsaWNlKGNsaWVudC5xdWVyeVF1ZXVlLmluZGV4T2YocXVlcnkpLCAxKVxuICAgIH1cbiAgfVxuXG4gIHNldFR5cGVQYXJzZXIob2lkLCBmb3JtYXQsIHBhcnNlRm4pIHtcbiAgICByZXR1cm4gdGhpcy5fdHlwZXMuc2V0VHlwZVBhcnNlcihvaWQsIGZvcm1hdCwgcGFyc2VGbilcbiAgfVxuXG4gIGdldFR5cGVQYXJzZXIob2lkLCBmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5fdHlwZXMuZ2V0VHlwZVBhcnNlcihvaWQsIGZvcm1hdClcbiAgfVxuXG4gIC8vIGVzY2FwZUlkZW50aWZpZXIgYW5kIGVzY2FwZUxpdGVyYWwgbW92ZWQgdG8gdXRpbGl0eSBmdW5jdGlvbnMgJiBleHBvcnRlZFxuICAvLyBvbiBQR1xuICAvLyByZS1leHBvcnRlZCBoZXJlIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICBlc2NhcGVJZGVudGlmaWVyKHN0cikge1xuICAgIHJldHVybiB1dGlscy5lc2NhcGVJZGVudGlmaWVyKHN0cilcbiAgfVxuXG4gIGVzY2FwZUxpdGVyYWwoc3RyKSB7XG4gICAgcmV0dXJuIHV0aWxzLmVzY2FwZUxpdGVyYWwoc3RyKVxuICB9XG5cbiAgX3B1bHNlUXVlcnlRdWV1ZSgpIHtcbiAgICBpZiAodGhpcy5yZWFkeUZvclF1ZXJ5ID09PSB0cnVlKSB7XG4gICAgICB0aGlzLmFjdGl2ZVF1ZXJ5ID0gdGhpcy5xdWVyeVF1ZXVlLnNoaWZ0KClcbiAgICAgIGlmICh0aGlzLmFjdGl2ZVF1ZXJ5KSB7XG4gICAgICAgIHRoaXMucmVhZHlGb3JRdWVyeSA9IGZhbHNlXG4gICAgICAgIHRoaXMuaGFzRXhlY3V0ZWQgPSB0cnVlXG5cbiAgICAgICAgY29uc3QgcXVlcnlFcnJvciA9IHRoaXMuYWN0aXZlUXVlcnkuc3VibWl0KHRoaXMuY29ubmVjdGlvbilcbiAgICAgICAgaWYgKHF1ZXJ5RXJyb3IpIHtcbiAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlUXVlcnkuaGFuZGxlRXJyb3IocXVlcnlFcnJvciwgdGhpcy5jb25uZWN0aW9uKVxuICAgICAgICAgICAgdGhpcy5yZWFkeUZvclF1ZXJ5ID0gdHJ1ZVxuICAgICAgICAgICAgdGhpcy5fcHVsc2VRdWVyeVF1ZXVlKClcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaGFzRXhlY3V0ZWQpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVRdWVyeSA9IG51bGxcbiAgICAgICAgdGhpcy5lbWl0KCdkcmFpbicpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcXVlcnkoY29uZmlnLCB2YWx1ZXMsIGNhbGxiYWNrKSB7XG4gICAgLy8gY2FuIHRha2UgaW4gc3RyaW5ncywgY29uZmlnIG9iamVjdCBvciBxdWVyeSBvYmplY3RcbiAgICBsZXQgcXVlcnlcbiAgICBsZXQgcmVzdWx0XG4gICAgbGV0IHJlYWRUaW1lb3V0XG4gICAgbGV0IHJlYWRUaW1lb3V0VGltZXJcbiAgICBsZXQgcXVlcnlDYWxsYmFja1xuXG4gICAgaWYgKGNvbmZpZyA9PT0gbnVsbCB8fCBjb25maWcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2xpZW50IHdhcyBwYXNzZWQgYSBudWxsIG9yIHVuZGVmaW5lZCBxdWVyeScpXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnLnN1Ym1pdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmVhZFRpbWVvdXQgPSBjb25maWcucXVlcnlfdGltZW91dCB8fCB0aGlzLmNvbm5lY3Rpb25QYXJhbWV0ZXJzLnF1ZXJ5X3RpbWVvdXRcbiAgICAgIHJlc3VsdCA9IHF1ZXJ5ID0gY29uZmlnXG4gICAgICBpZiAodHlwZW9mIHZhbHVlcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBxdWVyeS5jYWxsYmFjayA9IHF1ZXJ5LmNhbGxiYWNrIHx8IHZhbHVlc1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZWFkVGltZW91dCA9IGNvbmZpZy5xdWVyeV90aW1lb3V0IHx8IHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMucXVlcnlfdGltZW91dFxuICAgICAgcXVlcnkgPSBuZXcgUXVlcnkoY29uZmlnLCB2YWx1ZXMsIGNhbGxiYWNrKVxuICAgICAgaWYgKCFxdWVyeS5jYWxsYmFjaykge1xuICAgICAgICByZXN1bHQgPSBuZXcgdGhpcy5fUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgcXVlcnkuY2FsbGJhY2sgPSAoZXJyLCByZXMpID0+IChlcnIgPyByZWplY3QoZXJyKSA6IHJlc29sdmUocmVzKSlcbiAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIC8vIHJlcGxhY2UgdGhlIHN0YWNrIHRyYWNlIHRoYXQgbGVhZHMgdG8gYFRDUC5vblN0cmVhbVJlYWRgIHdpdGggb25lIHRoYXQgbGVhZHMgYmFjayB0byB0aGVcbiAgICAgICAgICAvLyBhcHBsaWNhdGlvbiB0aGF0IGNyZWF0ZWQgdGhlIHF1ZXJ5XG4gICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZXJyKVxuICAgICAgICAgIHRocm93IGVyclxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyZWFkVGltZW91dCkge1xuICAgICAgcXVlcnlDYWxsYmFjayA9IHF1ZXJ5LmNhbGxiYWNrXG5cbiAgICAgIHJlYWRUaW1lb3V0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ1F1ZXJ5IHJlYWQgdGltZW91dCcpXG5cbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgcXVlcnkuaGFuZGxlRXJyb3IoZXJyb3IsIHRoaXMuY29ubmVjdGlvbilcbiAgICAgICAgfSlcblxuICAgICAgICBxdWVyeUNhbGxiYWNrKGVycm9yKVxuXG4gICAgICAgIC8vIHdlIGFscmVhZHkgcmV0dXJuZWQgYW4gZXJyb3IsXG4gICAgICAgIC8vIGp1c3QgZG8gbm90aGluZyBpZiBxdWVyeSBjb21wbGV0ZXNcbiAgICAgICAgcXVlcnkuY2FsbGJhY2sgPSAoKSA9PiB7fVxuXG4gICAgICAgIC8vIFJlbW92ZSBmcm9tIHF1ZXVlXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5xdWVyeVF1ZXVlLmluZGV4T2YocXVlcnkpXG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgdGhpcy5xdWVyeVF1ZXVlLnNwbGljZShpbmRleCwgMSlcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3B1bHNlUXVlcnlRdWV1ZSgpXG4gICAgICB9LCByZWFkVGltZW91dClcblxuICAgICAgcXVlcnkuY2FsbGJhY2sgPSAoZXJyLCByZXMpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHJlYWRUaW1lb3V0VGltZXIpXG4gICAgICAgIHF1ZXJ5Q2FsbGJhY2soZXJyLCByZXMpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYmluYXJ5ICYmICFxdWVyeS5iaW5hcnkpIHtcbiAgICAgIHF1ZXJ5LmJpbmFyeSA9IHRydWVcbiAgICB9XG5cbiAgICBpZiAocXVlcnkuX3Jlc3VsdCAmJiAhcXVlcnkuX3Jlc3VsdC5fdHlwZXMpIHtcbiAgICAgIHF1ZXJ5Ll9yZXN1bHQuX3R5cGVzID0gdGhpcy5fdHlwZXNcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX3F1ZXJ5YWJsZSkge1xuICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgIHF1ZXJ5LmhhbmRsZUVycm9yKG5ldyBFcnJvcignQ2xpZW50IGhhcyBlbmNvdW50ZXJlZCBhIGNvbm5lY3Rpb24gZXJyb3IgYW5kIGlzIG5vdCBxdWVyeWFibGUnKSwgdGhpcy5jb25uZWN0aW9uKVxuICAgICAgfSlcbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZW5kaW5nKSB7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgcXVlcnkuaGFuZGxlRXJyb3IobmV3IEVycm9yKCdDbGllbnQgd2FzIGNsb3NlZCBhbmQgaXMgbm90IHF1ZXJ5YWJsZScpLCB0aGlzLmNvbm5lY3Rpb24pXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH1cblxuICAgIHRoaXMucXVlcnlRdWV1ZS5wdXNoKHF1ZXJ5KVxuICAgIHRoaXMuX3B1bHNlUXVlcnlRdWV1ZSgpXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgcmVmKCkge1xuICAgIHRoaXMuY29ubmVjdGlvbi5yZWYoKVxuICB9XG5cbiAgdW5yZWYoKSB7XG4gICAgdGhpcy5jb25uZWN0aW9uLnVucmVmKClcbiAgfVxuXG4gIGVuZChjYikge1xuICAgIHRoaXMuX2VuZGluZyA9IHRydWVcblxuICAgIC8vIGlmIHdlIGhhdmUgbmV2ZXIgY29ubmVjdGVkLCB0aGVuIGVuZCBpcyBhIG5vb3AsIGNhbGxiYWNrIGltbWVkaWF0ZWx5XG4gICAgaWYgKCF0aGlzLmNvbm5lY3Rpb24uX2Nvbm5lY3RpbmcgfHwgdGhpcy5fZW5kZWQpIHtcbiAgICAgIGlmIChjYikge1xuICAgICAgICBjYigpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5fUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5hY3RpdmVRdWVyeSB8fCAhdGhpcy5fcXVlcnlhYmxlKSB7XG4gICAgICAvLyBpZiB3ZSBoYXZlIGFuIGFjdGl2ZSBxdWVyeSB3ZSBuZWVkIHRvIGZvcmNlIGEgZGlzY29ubmVjdFxuICAgICAgLy8gb24gdGhlIHNvY2tldCAtIG90aGVyd2lzZSBhIGh1bmcgcXVlcnkgY291bGQgYmxvY2sgZW5kIGZvcmV2ZXJcbiAgICAgIHRoaXMuY29ubmVjdGlvbi5zdHJlYW0uZGVzdHJveSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29ubmVjdGlvbi5lbmQoKVxuICAgIH1cblxuICAgIGlmIChjYikge1xuICAgICAgdGhpcy5jb25uZWN0aW9uLm9uY2UoJ2VuZCcsIGNiKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IHRoaXMuX1Byb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uLm9uY2UoJ2VuZCcsIHJlc29sdmUpXG4gICAgICB9KVxuICAgIH1cbiAgfVxufVxuXG4vLyBleHBvc2UgYSBRdWVyeSBjb25zdHJ1Y3RvclxuQ2xpZW50LlF1ZXJ5ID0gUXVlcnlcblxubW9kdWxlLmV4cG9ydHMgPSBDbGllbnRcbiIsICIndXNlIHN0cmljdCdcbmNvbnN0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlclxuXG5jb25zdCBOT09QID0gZnVuY3Rpb24gKCkge31cblxuY29uc3QgcmVtb3ZlV2hlcmUgPSAobGlzdCwgcHJlZGljYXRlKSA9PiB7XG4gIGNvbnN0IGkgPSBsaXN0LmZpbmRJbmRleChwcmVkaWNhdGUpXG5cbiAgcmV0dXJuIGkgPT09IC0xID8gdW5kZWZpbmVkIDogbGlzdC5zcGxpY2UoaSwgMSlbMF1cbn1cblxuY2xhc3MgSWRsZUl0ZW0ge1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGlkbGVMaXN0ZW5lciwgdGltZW91dElkKSB7XG4gICAgdGhpcy5jbGllbnQgPSBjbGllbnRcbiAgICB0aGlzLmlkbGVMaXN0ZW5lciA9IGlkbGVMaXN0ZW5lclxuICAgIHRoaXMudGltZW91dElkID0gdGltZW91dElkXG4gIH1cbn1cblxuY2xhc3MgUGVuZGluZ0l0ZW0ge1xuICBjb25zdHJ1Y3RvcihjYWxsYmFjaykge1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFja1xuICB9XG59XG5cbmZ1bmN0aW9uIHRocm93T25Eb3VibGVSZWxlYXNlKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ1JlbGVhc2UgY2FsbGVkIG9uIGNsaWVudCB3aGljaCBoYXMgYWxyZWFkeSBiZWVuIHJlbGVhc2VkIHRvIHRoZSBwb29sLicpXG59XG5cbmZ1bmN0aW9uIHByb21pc2lmeShQcm9taXNlLCBjYWxsYmFjaykge1xuICBpZiAoY2FsbGJhY2spIHtcbiAgICByZXR1cm4geyBjYWxsYmFjazogY2FsbGJhY2ssIHJlc3VsdDogdW5kZWZpbmVkIH1cbiAgfVxuICBsZXQgcmVqXG4gIGxldCByZXNcbiAgY29uc3QgY2IgPSBmdW5jdGlvbiAoZXJyLCBjbGllbnQpIHtcbiAgICBlcnIgPyByZWooZXJyKSA6IHJlcyhjbGllbnQpXG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJlcyA9IHJlc29sdmVcbiAgICByZWogPSByZWplY3RcbiAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgIC8vIHJlcGxhY2UgdGhlIHN0YWNrIHRyYWNlIHRoYXQgbGVhZHMgdG8gYFRDUC5vblN0cmVhbVJlYWRgIHdpdGggb25lIHRoYXQgbGVhZHMgYmFjayB0byB0aGVcbiAgICAvLyBhcHBsaWNhdGlvbiB0aGF0IGNyZWF0ZWQgdGhlIHF1ZXJ5XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZXJyKVxuICAgIHRocm93IGVyclxuICB9KVxuICByZXR1cm4geyBjYWxsYmFjazogY2IsIHJlc3VsdDogcmVzdWx0IH1cbn1cblxuZnVuY3Rpb24gbWFrZUlkbGVMaXN0ZW5lcihwb29sLCBjbGllbnQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGlkbGVMaXN0ZW5lcihlcnIpIHtcbiAgICBlcnIuY2xpZW50ID0gY2xpZW50XG5cbiAgICBjbGllbnQucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgaWRsZUxpc3RlbmVyKVxuICAgIGNsaWVudC5vbignZXJyb3InLCAoKSA9PiB7XG4gICAgICBwb29sLmxvZygnYWRkaXRpb25hbCBjbGllbnQgZXJyb3IgYWZ0ZXIgZGlzY29ubmVjdGlvbiBkdWUgdG8gZXJyb3InLCBlcnIpXG4gICAgfSlcbiAgICBwb29sLl9yZW1vdmUoY2xpZW50KVxuICAgIC8vIFRPRE8gLSBkb2N1bWVudCB0aGF0IG9uY2UgdGhlIHBvb2wgZW1pdHMgYW4gZXJyb3JcbiAgICAvLyB0aGUgY2xpZW50IGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkICYgcHVyZ2VkIGFuZCBpcyB1bnVzYWJsZVxuICAgIHBvb2wuZW1pdCgnZXJyb3InLCBlcnIsIGNsaWVudClcbiAgfVxufVxuXG5jbGFzcyBQb29sIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucywgQ2xpZW50KSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpXG5cbiAgICBpZiAob3B0aW9ucyAhPSBudWxsICYmICdwYXNzd29yZCcgaW4gb3B0aW9ucykge1xuICAgICAgLy8gXCJoaWRpbmdcIiB0aGUgcGFzc3dvcmQgc28gaXQgZG9lc24ndCBzaG93IHVwIGluIHN0YWNrIHRyYWNlc1xuICAgICAgLy8gb3IgaWYgdGhlIGNsaWVudCBpcyBjb25zb2xlLmxvZ2dlZFxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMub3B0aW9ucywgJ3Bhc3N3b3JkJywge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG9wdGlvbnMucGFzc3dvcmQsXG4gICAgICB9KVxuICAgIH1cbiAgICBpZiAob3B0aW9ucyAhPSBudWxsICYmIG9wdGlvbnMuc3NsICYmIG9wdGlvbnMuc3NsLmtleSkge1xuICAgICAgLy8gXCJoaWRpbmdcIiB0aGUgc3NsLT5rZXkgc28gaXQgZG9lc24ndCBzaG93IHVwIGluIHN0YWNrIHRyYWNlc1xuICAgICAgLy8gb3IgaWYgdGhlIGNsaWVudCBpcyBjb25zb2xlLmxvZ2dlZFxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMub3B0aW9ucy5zc2wsICdrZXknLCB7XG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMubWF4ID0gdGhpcy5vcHRpb25zLm1heCB8fCB0aGlzLm9wdGlvbnMucG9vbFNpemUgfHwgMTBcbiAgICB0aGlzLm9wdGlvbnMubWluID0gdGhpcy5vcHRpb25zLm1pbiB8fCAwXG4gICAgdGhpcy5vcHRpb25zLm1heFVzZXMgPSB0aGlzLm9wdGlvbnMubWF4VXNlcyB8fCBJbmZpbml0eVxuICAgIHRoaXMub3B0aW9ucy5hbGxvd0V4aXRPbklkbGUgPSB0aGlzLm9wdGlvbnMuYWxsb3dFeGl0T25JZGxlIHx8IGZhbHNlXG4gICAgdGhpcy5vcHRpb25zLm1heExpZmV0aW1lU2Vjb25kcyA9IHRoaXMub3B0aW9ucy5tYXhMaWZldGltZVNlY29uZHMgfHwgMFxuICAgIHRoaXMubG9nID0gdGhpcy5vcHRpb25zLmxvZyB8fCBmdW5jdGlvbiAoKSB7fVxuICAgIHRoaXMuQ2xpZW50ID0gdGhpcy5vcHRpb25zLkNsaWVudCB8fCBDbGllbnQgfHwgcmVxdWlyZSgncGcnKS5DbGllbnRcbiAgICB0aGlzLlByb21pc2UgPSB0aGlzLm9wdGlvbnMuUHJvbWlzZSB8fCBnbG9iYWwuUHJvbWlzZVxuXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuaWRsZVRpbWVvdXRNaWxsaXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuaWRsZVRpbWVvdXRNaWxsaXMgPSAxMDAwMFxuICAgIH1cblxuICAgIHRoaXMuX2NsaWVudHMgPSBbXVxuICAgIHRoaXMuX2lkbGUgPSBbXVxuICAgIHRoaXMuX2V4cGlyZWQgPSBuZXcgV2Vha1NldCgpXG4gICAgdGhpcy5fcGVuZGluZ1F1ZXVlID0gW11cbiAgICB0aGlzLl9lbmRDYWxsYmFjayA9IHVuZGVmaW5lZFxuICAgIHRoaXMuZW5kaW5nID0gZmFsc2VcbiAgICB0aGlzLmVuZGVkID0gZmFsc2VcbiAgfVxuXG4gIF9pc0Z1bGwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudHMubGVuZ3RoID49IHRoaXMub3B0aW9ucy5tYXhcbiAgfVxuXG4gIF9pc0Fib3ZlTWluKCkge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnRzLmxlbmd0aCA+IHRoaXMub3B0aW9ucy5taW5cbiAgfVxuXG4gIF9wdWxzZVF1ZXVlKCkge1xuICAgIHRoaXMubG9nKCdwdWxzZSBxdWV1ZScpXG4gICAgaWYgKHRoaXMuZW5kZWQpIHtcbiAgICAgIHRoaXMubG9nKCdwdWxzZSBxdWV1ZSBlbmRlZCcpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHRoaXMuZW5kaW5nKSB7XG4gICAgICB0aGlzLmxvZygncHVsc2UgcXVldWUgb24gZW5kaW5nJylcbiAgICAgIGlmICh0aGlzLl9pZGxlLmxlbmd0aCkge1xuICAgICAgICB0aGlzLl9pZGxlLnNsaWNlKCkubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgdGhpcy5fcmVtb3ZlKGl0ZW0uY2xpZW50KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLl9jbGllbnRzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLmVuZGVkID0gdHJ1ZVxuICAgICAgICB0aGlzLl9lbmRDYWxsYmFjaygpXG4gICAgICB9XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBpZiB3ZSBkb24ndCBoYXZlIGFueSB3YWl0aW5nLCBkbyBub3RoaW5nXG4gICAgaWYgKCF0aGlzLl9wZW5kaW5nUXVldWUubGVuZ3RoKSB7XG4gICAgICB0aGlzLmxvZygnbm8gcXVldWVkIHJlcXVlc3RzJylcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICAvLyBpZiB3ZSBkb24ndCBoYXZlIGFueSBpZGxlIGNsaWVudHMgYW5kIHdlIGhhdmUgbm8gbW9yZSByb29tIGRvIG5vdGhpbmdcbiAgICBpZiAoIXRoaXMuX2lkbGUubGVuZ3RoICYmIHRoaXMuX2lzRnVsbCgpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgcGVuZGluZ0l0ZW0gPSB0aGlzLl9wZW5kaW5nUXVldWUuc2hpZnQoKVxuICAgIGlmICh0aGlzLl9pZGxlLmxlbmd0aCkge1xuICAgICAgY29uc3QgaWRsZUl0ZW0gPSB0aGlzLl9pZGxlLnBvcCgpXG4gICAgICBjbGVhclRpbWVvdXQoaWRsZUl0ZW0udGltZW91dElkKVxuICAgICAgY29uc3QgY2xpZW50ID0gaWRsZUl0ZW0uY2xpZW50XG4gICAgICBjbGllbnQucmVmICYmIGNsaWVudC5yZWYoKVxuICAgICAgY29uc3QgaWRsZUxpc3RlbmVyID0gaWRsZUl0ZW0uaWRsZUxpc3RlbmVyXG5cbiAgICAgIHJldHVybiB0aGlzLl9hY3F1aXJlQ2xpZW50KGNsaWVudCwgcGVuZGluZ0l0ZW0sIGlkbGVMaXN0ZW5lciwgZmFsc2UpXG4gICAgfVxuICAgIGlmICghdGhpcy5faXNGdWxsKCkpIHtcbiAgICAgIHJldHVybiB0aGlzLm5ld0NsaWVudChwZW5kaW5nSXRlbSlcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1bmV4cGVjdGVkIGNvbmRpdGlvbicpXG4gIH1cblxuICBfcmVtb3ZlKGNsaWVudCwgY2FsbGJhY2spIHtcbiAgICBjb25zdCByZW1vdmVkID0gcmVtb3ZlV2hlcmUodGhpcy5faWRsZSwgKGl0ZW0pID0+IGl0ZW0uY2xpZW50ID09PSBjbGllbnQpXG5cbiAgICBpZiAocmVtb3ZlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbGVhclRpbWVvdXQocmVtb3ZlZC50aW1lb3V0SWQpXG4gICAgfVxuXG4gICAgdGhpcy5fY2xpZW50cyA9IHRoaXMuX2NsaWVudHMuZmlsdGVyKChjKSA9PiBjICE9PSBjbGllbnQpXG4gICAgY29uc3QgY29udGV4dCA9IHRoaXNcbiAgICBjbGllbnQuZW5kKCgpID0+IHtcbiAgICAgIGNvbnRleHQuZW1pdCgncmVtb3ZlJywgY2xpZW50KVxuXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNhbGxiYWNrKClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY29ubmVjdChjYikge1xuICAgIGlmICh0aGlzLmVuZGluZykge1xuICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKCdDYW5ub3QgdXNlIGEgcG9vbCBhZnRlciBjYWxsaW5nIGVuZCBvbiB0aGUgcG9vbCcpXG4gICAgICByZXR1cm4gY2IgPyBjYihlcnIpIDogdGhpcy5Qcm9taXNlLnJlamVjdChlcnIpXG4gICAgfVxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBwcm9taXNpZnkodGhpcy5Qcm9taXNlLCBjYilcbiAgICBjb25zdCByZXN1bHQgPSByZXNwb25zZS5yZXN1bHRcblxuICAgIC8vIGlmIHdlIGRvbid0IGhhdmUgdG8gY29ubmVjdCBhIG5ldyBjbGllbnQsIGRvbid0IGRvIHNvXG4gICAgaWYgKHRoaXMuX2lzRnVsbCgpIHx8IHRoaXMuX2lkbGUubGVuZ3RoKSB7XG4gICAgICAvLyBpZiB3ZSBoYXZlIGlkbGUgY2xpZW50cyBzY2hlZHVsZSBhIHB1bHNlIGltbWVkaWF0ZWx5XG4gICAgICBpZiAodGhpcy5faWRsZS5sZW5ndGgpIHtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB0aGlzLl9wdWxzZVF1ZXVlKCkpXG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5vcHRpb25zLmNvbm5lY3Rpb25UaW1lb3V0TWlsbGlzKSB7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdRdWV1ZS5wdXNoKG5ldyBQZW5kaW5nSXRlbShyZXNwb25zZS5jYWxsYmFjaykpXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgIH1cblxuICAgICAgY29uc3QgcXVldWVDYWxsYmFjayA9IChlcnIsIHJlcywgZG9uZSkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodGlkKVxuICAgICAgICByZXNwb25zZS5jYWxsYmFjayhlcnIsIHJlcywgZG9uZSlcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGVuZGluZ0l0ZW0gPSBuZXcgUGVuZGluZ0l0ZW0ocXVldWVDYWxsYmFjaylcblxuICAgICAgLy8gc2V0IGNvbm5lY3Rpb24gdGltZW91dCBvbiBjaGVja2luZyBvdXQgYW4gZXhpc3RpbmcgY2xpZW50XG4gICAgICBjb25zdCB0aWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBjYWxsYmFjayBmcm9tIHBlbmRpbmcgd2FpdGVycyBiZWNhdXNlXG4gICAgICAgIC8vIHdlJ3JlIGdvaW5nIHRvIGNhbGwgaXQgd2l0aCBhIHRpbWVvdXQgZXJyb3JcbiAgICAgICAgcmVtb3ZlV2hlcmUodGhpcy5fcGVuZGluZ1F1ZXVlLCAoaSkgPT4gaS5jYWxsYmFjayA9PT0gcXVldWVDYWxsYmFjaylcbiAgICAgICAgcGVuZGluZ0l0ZW0udGltZWRPdXQgPSB0cnVlXG4gICAgICAgIHJlc3BvbnNlLmNhbGxiYWNrKG5ldyBFcnJvcigndGltZW91dCBleGNlZWRlZCB3aGVuIHRyeWluZyB0byBjb25uZWN0JykpXG4gICAgICB9LCB0aGlzLm9wdGlvbnMuY29ubmVjdGlvblRpbWVvdXRNaWxsaXMpXG5cbiAgICAgIGlmICh0aWQudW5yZWYpIHtcbiAgICAgICAgdGlkLnVucmVmKClcbiAgICAgIH1cblxuICAgICAgdGhpcy5fcGVuZGluZ1F1ZXVlLnB1c2gocGVuZGluZ0l0ZW0pXG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxuXG4gICAgdGhpcy5uZXdDbGllbnQobmV3IFBlbmRpbmdJdGVtKHJlc3BvbnNlLmNhbGxiYWNrKSlcblxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIG5ld0NsaWVudChwZW5kaW5nSXRlbSkge1xuICAgIGNvbnN0IGNsaWVudCA9IG5ldyB0aGlzLkNsaWVudCh0aGlzLm9wdGlvbnMpXG4gICAgdGhpcy5fY2xpZW50cy5wdXNoKGNsaWVudClcbiAgICBjb25zdCBpZGxlTGlzdGVuZXIgPSBtYWtlSWRsZUxpc3RlbmVyKHRoaXMsIGNsaWVudClcblxuICAgIHRoaXMubG9nKCdjaGVja2luZyBjbGllbnQgdGltZW91dCcpXG5cbiAgICAvLyBjb25uZWN0aW9uIHRpbWVvdXQgbG9naWNcbiAgICBsZXQgdGlkXG4gICAgbGV0IHRpbWVvdXRIaXQgPSBmYWxzZVxuICAgIGlmICh0aGlzLm9wdGlvbnMuY29ubmVjdGlvblRpbWVvdXRNaWxsaXMpIHtcbiAgICAgIHRpZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmxvZygnZW5kaW5nIGNsaWVudCBkdWUgdG8gdGltZW91dCcpXG4gICAgICAgIHRpbWVvdXRIaXQgPSB0cnVlXG4gICAgICAgIC8vIGZvcmNlIGtpbGwgdGhlIG5vZGUgZHJpdmVyLCBhbmQgbGV0IGxpYnBxIGRvIGl0cyB0ZWFyZG93blxuICAgICAgICBjbGllbnQuY29ubmVjdGlvbiA/IGNsaWVudC5jb25uZWN0aW9uLnN0cmVhbS5kZXN0cm95KCkgOiBjbGllbnQuZW5kKClcbiAgICAgIH0sIHRoaXMub3B0aW9ucy5jb25uZWN0aW9uVGltZW91dE1pbGxpcylcbiAgICB9XG5cbiAgICB0aGlzLmxvZygnY29ubmVjdGluZyBuZXcgY2xpZW50JylcbiAgICBjbGllbnQuY29ubmVjdCgoZXJyKSA9PiB7XG4gICAgICBpZiAodGlkKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aWQpXG4gICAgICB9XG4gICAgICBjbGllbnQub24oJ2Vycm9yJywgaWRsZUxpc3RlbmVyKVxuICAgICAgaWYgKGVycikge1xuICAgICAgICB0aGlzLmxvZygnY2xpZW50IGZhaWxlZCB0byBjb25uZWN0JywgZXJyKVxuICAgICAgICAvLyByZW1vdmUgdGhlIGRlYWQgY2xpZW50IGZyb20gb3VyIGxpc3Qgb2YgY2xpZW50c1xuICAgICAgICB0aGlzLl9jbGllbnRzID0gdGhpcy5fY2xpZW50cy5maWx0ZXIoKGMpID0+IGMgIT09IGNsaWVudClcbiAgICAgICAgaWYgKHRpbWVvdXRIaXQpIHtcbiAgICAgICAgICBlcnIgPSBuZXcgRXJyb3IoJ0Nvbm5lY3Rpb24gdGVybWluYXRlZCBkdWUgdG8gY29ubmVjdGlvbiB0aW1lb3V0JywgeyBjYXVzZTogZXJyIH0pXG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGlzIGNsaWVudCB3b25cdTIwMTl0IGJlIHJlbGVhc2VkLCBzbyBtb3ZlIG9uIGltbWVkaWF0ZWx5XG4gICAgICAgIHRoaXMuX3B1bHNlUXVldWUoKVxuXG4gICAgICAgIGlmICghcGVuZGluZ0l0ZW0udGltZWRPdXQpIHtcbiAgICAgICAgICBwZW5kaW5nSXRlbS5jYWxsYmFjayhlcnIsIHVuZGVmaW5lZCwgTk9PUClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5sb2coJ25ldyBjbGllbnQgY29ubmVjdGVkJylcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm1heExpZmV0aW1lU2Vjb25kcyAhPT0gMCkge1xuICAgICAgICAgIGNvbnN0IG1heExpZmV0aW1lVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5sb2coJ2VuZGluZyBjbGllbnQgZHVlIHRvIGV4cGlyZWQgbGlmZXRpbWUnKVxuICAgICAgICAgICAgdGhpcy5fZXhwaXJlZC5hZGQoY2xpZW50KVxuICAgICAgICAgICAgY29uc3QgaWRsZUluZGV4ID0gdGhpcy5faWRsZS5maW5kSW5kZXgoKGlkbGVJdGVtKSA9PiBpZGxlSXRlbS5jbGllbnQgPT09IGNsaWVudClcbiAgICAgICAgICAgIGlmIChpZGxlSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgIHRoaXMuX2FjcXVpcmVDbGllbnQoXG4gICAgICAgICAgICAgICAgY2xpZW50LFxuICAgICAgICAgICAgICAgIG5ldyBQZW5kaW5nSXRlbSgoZXJyLCBjbGllbnQsIGNsaWVudFJlbGVhc2UpID0+IGNsaWVudFJlbGVhc2UoKSksXG4gICAgICAgICAgICAgICAgaWRsZUxpc3RlbmVyLFxuICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB0aGlzLm9wdGlvbnMubWF4TGlmZXRpbWVTZWNvbmRzICogMTAwMClcblxuICAgICAgICAgIG1heExpZmV0aW1lVGltZW91dC51bnJlZigpXG4gICAgICAgICAgY2xpZW50Lm9uY2UoJ2VuZCcsICgpID0+IGNsZWFyVGltZW91dChtYXhMaWZldGltZVRpbWVvdXQpKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjcXVpcmVDbGllbnQoY2xpZW50LCBwZW5kaW5nSXRlbSwgaWRsZUxpc3RlbmVyLCB0cnVlKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvLyBhY3F1aXJlIGEgY2xpZW50IGZvciBhIHBlbmRpbmcgd29yayBpdGVtXG4gIF9hY3F1aXJlQ2xpZW50KGNsaWVudCwgcGVuZGluZ0l0ZW0sIGlkbGVMaXN0ZW5lciwgaXNOZXcpIHtcbiAgICBpZiAoaXNOZXcpIHtcbiAgICAgIHRoaXMuZW1pdCgnY29ubmVjdCcsIGNsaWVudClcbiAgICB9XG5cbiAgICB0aGlzLmVtaXQoJ2FjcXVpcmUnLCBjbGllbnQpXG5cbiAgICBjbGllbnQucmVsZWFzZSA9IHRoaXMuX3JlbGVhc2VPbmNlKGNsaWVudCwgaWRsZUxpc3RlbmVyKVxuXG4gICAgY2xpZW50LnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGlkbGVMaXN0ZW5lcilcblxuICAgIGlmICghcGVuZGluZ0l0ZW0udGltZWRPdXQpIHtcbiAgICAgIGlmIChpc05ldyAmJiB0aGlzLm9wdGlvbnMudmVyaWZ5KSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy52ZXJpZnkoY2xpZW50LCAoZXJyKSA9PiB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgY2xpZW50LnJlbGVhc2UoZXJyKVxuICAgICAgICAgICAgcmV0dXJuIHBlbmRpbmdJdGVtLmNhbGxiYWNrKGVyciwgdW5kZWZpbmVkLCBOT09QKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHBlbmRpbmdJdGVtLmNhbGxiYWNrKHVuZGVmaW5lZCwgY2xpZW50LCBjbGllbnQucmVsZWFzZSlcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlbmRpbmdJdGVtLmNhbGxiYWNrKHVuZGVmaW5lZCwgY2xpZW50LCBjbGllbnQucmVsZWFzZSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzTmV3ICYmIHRoaXMub3B0aW9ucy52ZXJpZnkpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnZlcmlmeShjbGllbnQsIGNsaWVudC5yZWxlYXNlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xpZW50LnJlbGVhc2UoKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIF9yZWxlYXNlIGFuZCB0aHJvd3MgaWYgY2FsbGVkIG1vcmUgdGhhbiBvbmNlXG4gIF9yZWxlYXNlT25jZShjbGllbnQsIGlkbGVMaXN0ZW5lcikge1xuICAgIGxldCByZWxlYXNlZCA9IGZhbHNlXG5cbiAgICByZXR1cm4gKGVycikgPT4ge1xuICAgICAgaWYgKHJlbGVhc2VkKSB7XG4gICAgICAgIHRocm93T25Eb3VibGVSZWxlYXNlKClcbiAgICAgIH1cblxuICAgICAgcmVsZWFzZWQgPSB0cnVlXG4gICAgICB0aGlzLl9yZWxlYXNlKGNsaWVudCwgaWRsZUxpc3RlbmVyLCBlcnIpXG4gICAgfVxuICB9XG5cbiAgLy8gcmVsZWFzZSBhIGNsaWVudCBiYWNrIHRvIHRoZSBwb2xsLCBpbmNsdWRlIGFuIGVycm9yXG4gIC8vIHRvIHJlbW92ZSBpdCBmcm9tIHRoZSBwb29sXG4gIF9yZWxlYXNlKGNsaWVudCwgaWRsZUxpc3RlbmVyLCBlcnIpIHtcbiAgICBjbGllbnQub24oJ2Vycm9yJywgaWRsZUxpc3RlbmVyKVxuXG4gICAgY2xpZW50Ll9wb29sVXNlQ291bnQgPSAoY2xpZW50Ll9wb29sVXNlQ291bnQgfHwgMCkgKyAxXG5cbiAgICB0aGlzLmVtaXQoJ3JlbGVhc2UnLCBlcnIsIGNsaWVudClcblxuICAgIC8vIFRPRE8oYm1jKTogZXhwb3NlIGEgcHJvcGVyLCBwdWJsaWMgaW50ZXJmYWNlIF9xdWVyeWFibGUgYW5kIF9lbmRpbmdcbiAgICBpZiAoZXJyIHx8IHRoaXMuZW5kaW5nIHx8ICFjbGllbnQuX3F1ZXJ5YWJsZSB8fCBjbGllbnQuX2VuZGluZyB8fCBjbGllbnQuX3Bvb2xVc2VDb3VudCA+PSB0aGlzLm9wdGlvbnMubWF4VXNlcykge1xuICAgICAgaWYgKGNsaWVudC5fcG9vbFVzZUNvdW50ID49IHRoaXMub3B0aW9ucy5tYXhVc2VzKSB7XG4gICAgICAgIHRoaXMubG9nKCdyZW1vdmUgZXhwZW5kZWQgY2xpZW50JylcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX3JlbW92ZShjbGllbnQsIHRoaXMuX3B1bHNlUXVldWUuYmluZCh0aGlzKSlcbiAgICB9XG5cbiAgICBjb25zdCBpc0V4cGlyZWQgPSB0aGlzLl9leHBpcmVkLmhhcyhjbGllbnQpXG4gICAgaWYgKGlzRXhwaXJlZCkge1xuICAgICAgdGhpcy5sb2coJ3JlbW92ZSBleHBpcmVkIGNsaWVudCcpXG4gICAgICB0aGlzLl9leHBpcmVkLmRlbGV0ZShjbGllbnQpXG4gICAgICByZXR1cm4gdGhpcy5fcmVtb3ZlKGNsaWVudCwgdGhpcy5fcHVsc2VRdWV1ZS5iaW5kKHRoaXMpKVxuICAgIH1cblxuICAgIC8vIGlkbGUgdGltZW91dFxuICAgIGxldCB0aWRcbiAgICBpZiAodGhpcy5vcHRpb25zLmlkbGVUaW1lb3V0TWlsbGlzICYmIHRoaXMuX2lzQWJvdmVNaW4oKSkge1xuICAgICAgdGlkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMubG9nKCdyZW1vdmUgaWRsZSBjbGllbnQnKVxuICAgICAgICB0aGlzLl9yZW1vdmUoY2xpZW50LCB0aGlzLl9wdWxzZVF1ZXVlLmJpbmQodGhpcykpXG4gICAgICB9LCB0aGlzLm9wdGlvbnMuaWRsZVRpbWVvdXRNaWxsaXMpXG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuYWxsb3dFeGl0T25JZGxlKSB7XG4gICAgICAgIC8vIGFsbG93IE5vZGUgdG8gZXhpdCBpZiB0aGlzIGlzIGFsbCB0aGF0J3MgbGVmdFxuICAgICAgICB0aWQudW5yZWYoKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMuYWxsb3dFeGl0T25JZGxlKSB7XG4gICAgICBjbGllbnQudW5yZWYoKVxuICAgIH1cblxuICAgIHRoaXMuX2lkbGUucHVzaChuZXcgSWRsZUl0ZW0oY2xpZW50LCBpZGxlTGlzdGVuZXIsIHRpZCkpXG4gICAgdGhpcy5fcHVsc2VRdWV1ZSgpXG4gIH1cblxuICBxdWVyeSh0ZXh0LCB2YWx1ZXMsIGNiKSB7XG4gICAgLy8gZ3VhcmQgY2xhdXNlIGFnYWluc3QgcGFzc2luZyBhIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXJcbiAgICBpZiAodHlwZW9mIHRleHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gcHJvbWlzaWZ5KHRoaXMuUHJvbWlzZSwgdGV4dClcbiAgICAgIHNldEltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5jYWxsYmFjayhuZXcgRXJyb3IoJ1Bhc3NpbmcgYSBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyIHRvIHBvb2wucXVlcnkgaXMgbm90IHN1cHBvcnRlZCcpKVxuICAgICAgfSlcbiAgICAgIHJldHVybiByZXNwb25zZS5yZXN1bHRcbiAgICB9XG5cbiAgICAvLyBhbGxvdyBwbGFpbiB0ZXh0IHF1ZXJ5IHdpdGhvdXQgdmFsdWVzXG4gICAgaWYgKHR5cGVvZiB2YWx1ZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNiID0gdmFsdWVzXG4gICAgICB2YWx1ZXMgPSB1bmRlZmluZWRcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2UgPSBwcm9taXNpZnkodGhpcy5Qcm9taXNlLCBjYilcbiAgICBjYiA9IHJlc3BvbnNlLmNhbGxiYWNrXG5cbiAgICB0aGlzLmNvbm5lY3QoKGVyciwgY2xpZW50KSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYihlcnIpXG4gICAgICB9XG5cbiAgICAgIGxldCBjbGllbnRSZWxlYXNlZCA9IGZhbHNlXG4gICAgICBjb25zdCBvbkVycm9yID0gKGVycikgPT4ge1xuICAgICAgICBpZiAoY2xpZW50UmVsZWFzZWQpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBjbGllbnRSZWxlYXNlZCA9IHRydWVcbiAgICAgICAgY2xpZW50LnJlbGVhc2UoZXJyKVxuICAgICAgICBjYihlcnIpXG4gICAgICB9XG5cbiAgICAgIGNsaWVudC5vbmNlKCdlcnJvcicsIG9uRXJyb3IpXG4gICAgICB0aGlzLmxvZygnZGlzcGF0Y2hpbmcgcXVlcnknKVxuICAgICAgdHJ5IHtcbiAgICAgICAgY2xpZW50LnF1ZXJ5KHRleHQsIHZhbHVlcywgKGVyciwgcmVzKSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2coJ3F1ZXJ5IGRpc3BhdGNoZWQnKVxuICAgICAgICAgIGNsaWVudC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbkVycm9yKVxuICAgICAgICAgIGlmIChjbGllbnRSZWxlYXNlZCkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICAgIGNsaWVudFJlbGVhc2VkID0gdHJ1ZVxuICAgICAgICAgIGNsaWVudC5yZWxlYXNlKGVycilcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gY2IoZXJyKVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY2IodW5kZWZpbmVkLCByZXMpXG4gICAgICAgIH0pXG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY2xpZW50LnJlbGVhc2UoZXJyKVxuICAgICAgICByZXR1cm4gY2IoZXJyKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIHJlc3BvbnNlLnJlc3VsdFxuICB9XG5cbiAgZW5kKGNiKSB7XG4gICAgdGhpcy5sb2coJ2VuZGluZycpXG4gICAgaWYgKHRoaXMuZW5kaW5nKSB7XG4gICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoJ0NhbGxlZCBlbmQgb24gcG9vbCBtb3JlIHRoYW4gb25jZScpXG4gICAgICByZXR1cm4gY2IgPyBjYihlcnIpIDogdGhpcy5Qcm9taXNlLnJlamVjdChlcnIpXG4gICAgfVxuICAgIHRoaXMuZW5kaW5nID0gdHJ1ZVxuICAgIGNvbnN0IHByb21pc2VkID0gcHJvbWlzaWZ5KHRoaXMuUHJvbWlzZSwgY2IpXG4gICAgdGhpcy5fZW5kQ2FsbGJhY2sgPSBwcm9taXNlZC5jYWxsYmFja1xuICAgIHRoaXMuX3B1bHNlUXVldWUoKVxuICAgIHJldHVybiBwcm9taXNlZC5yZXN1bHRcbiAgfVxuXG4gIGdldCB3YWl0aW5nQ291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BlbmRpbmdRdWV1ZS5sZW5ndGhcbiAgfVxuXG4gIGdldCBpZGxlQ291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lkbGUubGVuZ3RoXG4gIH1cblxuICBnZXQgZXhwaXJlZENvdW50KCkge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnRzLnJlZHVjZSgoYWNjLCBjbGllbnQpID0+IGFjYyArICh0aGlzLl9leHBpcmVkLmhhcyhjbGllbnQpID8gMSA6IDApLCAwKVxuICB9XG5cbiAgZ2V0IHRvdGFsQ291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudHMubGVuZ3RoXG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gUG9vbFxuIiwgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbmNvbnN0IHV0aWwgPSByZXF1aXJlKCd1dGlsJylcbmNvbnN0IHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKVxuXG5jb25zdCBOYXRpdmVRdWVyeSA9IChtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjb25maWcsIHZhbHVlcywgY2FsbGJhY2spIHtcbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcylcbiAgY29uZmlnID0gdXRpbHMubm9ybWFsaXplUXVlcnlDb25maWcoY29uZmlnLCB2YWx1ZXMsIGNhbGxiYWNrKVxuICB0aGlzLnRleHQgPSBjb25maWcudGV4dFxuICB0aGlzLnZhbHVlcyA9IGNvbmZpZy52YWx1ZXNcbiAgdGhpcy5uYW1lID0gY29uZmlnLm5hbWVcbiAgdGhpcy5xdWVyeU1vZGUgPSBjb25maWcucXVlcnlNb2RlXG4gIHRoaXMuY2FsbGJhY2sgPSBjb25maWcuY2FsbGJhY2tcbiAgdGhpcy5zdGF0ZSA9ICduZXcnXG4gIHRoaXMuX2FycmF5TW9kZSA9IGNvbmZpZy5yb3dNb2RlID09PSAnYXJyYXknXG5cbiAgLy8gaWYgdGhlICdyb3cnIGV2ZW50IGlzIGxpc3RlbmVkIGZvclxuICAvLyB0aGVuIGVtaXQgdGhlbSBhcyB0aGV5IGNvbWUgaW5cbiAgLy8gd2l0aG91dCBzZXR0aW5nIHNpbmdsZVJvd01vZGUgdG8gdHJ1ZVxuICAvLyB0aGlzIGhhcyBhbG1vc3Qgbm8gbWVhbmluZyBiZWNhdXNlIGxpYnBxXG4gIC8vIHJlYWRzIGFsbCByb3dzIGludG8gbWVtb3J5IGJlZm9yZSByZXR1cm5pbmcgYW55XG4gIHRoaXMuX2VtaXRSb3dFdmVudHMgPSBmYWxzZVxuICB0aGlzLm9uKFxuICAgICduZXdMaXN0ZW5lcicsXG4gICAgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQgPT09ICdyb3cnKSB0aGlzLl9lbWl0Um93RXZlbnRzID0gdHJ1ZVxuICAgIH0uYmluZCh0aGlzKVxuICApXG59KVxuXG51dGlsLmluaGVyaXRzKE5hdGl2ZVF1ZXJ5LCBFdmVudEVtaXR0ZXIpXG5cbmNvbnN0IGVycm9yRmllbGRNYXAgPSB7XG4gIHNxbFN0YXRlOiAnY29kZScsXG4gIHN0YXRlbWVudFBvc2l0aW9uOiAncG9zaXRpb24nLFxuICBtZXNzYWdlUHJpbWFyeTogJ21lc3NhZ2UnLFxuICBjb250ZXh0OiAnd2hlcmUnLFxuICBzY2hlbWFOYW1lOiAnc2NoZW1hJyxcbiAgdGFibGVOYW1lOiAndGFibGUnLFxuICBjb2x1bW5OYW1lOiAnY29sdW1uJyxcbiAgZGF0YVR5cGVOYW1lOiAnZGF0YVR5cGUnLFxuICBjb25zdHJhaW50TmFtZTogJ2NvbnN0cmFpbnQnLFxuICBzb3VyY2VGaWxlOiAnZmlsZScsXG4gIHNvdXJjZUxpbmU6ICdsaW5lJyxcbiAgc291cmNlRnVuY3Rpb246ICdyb3V0aW5lJyxcbn1cblxuTmF0aXZlUXVlcnkucHJvdG90eXBlLmhhbmRsZUVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAvLyBjb3B5IHBxIGVycm9yIGZpZWxkcyBpbnRvIHRoZSBlcnJvciBvYmplY3RcbiAgY29uc3QgZmllbGRzID0gdGhpcy5uYXRpdmUucHEucmVzdWx0RXJyb3JGaWVsZHMoKVxuICBpZiAoZmllbGRzKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZmllbGRzKSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkRmllbGROYW1lID0gZXJyb3JGaWVsZE1hcFtrZXldIHx8IGtleVxuICAgICAgZXJyW25vcm1hbGl6ZWRGaWVsZE5hbWVdID0gZmllbGRzW2tleV1cbiAgICB9XG4gIH1cbiAgaWYgKHRoaXMuY2FsbGJhY2spIHtcbiAgICB0aGlzLmNhbGxiYWNrKGVycilcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKVxuICB9XG4gIHRoaXMuc3RhdGUgPSAnZXJyb3InXG59XG5cbk5hdGl2ZVF1ZXJ5LnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24gKG9uU3VjY2Vzcywgb25GYWlsdXJlKSB7XG4gIHJldHVybiB0aGlzLl9nZXRQcm9taXNlKCkudGhlbihvblN1Y2Nlc3MsIG9uRmFpbHVyZSlcbn1cblxuTmF0aXZlUXVlcnkucHJvdG90eXBlLmNhdGNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHJldHVybiB0aGlzLl9nZXRQcm9taXNlKCkuY2F0Y2goY2FsbGJhY2spXG59XG5cbk5hdGl2ZVF1ZXJ5LnByb3RvdHlwZS5fZ2V0UHJvbWlzZSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuX3Byb21pc2UpIHJldHVybiB0aGlzLl9wcm9taXNlXG4gIHRoaXMuX3Byb21pc2UgPSBuZXcgUHJvbWlzZShcbiAgICBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB0aGlzLl9vbmNlKCdlbmQnLCByZXNvbHZlKVxuICAgICAgdGhpcy5fb25jZSgnZXJyb3InLCByZWplY3QpXG4gICAgfS5iaW5kKHRoaXMpXG4gIClcbiAgcmV0dXJuIHRoaXMuX3Byb21pc2Vcbn1cblxuTmF0aXZlUXVlcnkucHJvdG90eXBlLnN1Ym1pdCA9IGZ1bmN0aW9uIChjbGllbnQpIHtcbiAgdGhpcy5zdGF0ZSA9ICdydW5uaW5nJ1xuICBjb25zdCBzZWxmID0gdGhpc1xuICB0aGlzLm5hdGl2ZSA9IGNsaWVudC5uYXRpdmVcbiAgY2xpZW50Lm5hdGl2ZS5hcnJheU1vZGUgPSB0aGlzLl9hcnJheU1vZGVcblxuICBsZXQgYWZ0ZXIgPSBmdW5jdGlvbiAoZXJyLCByb3dzLCByZXN1bHRzKSB7XG4gICAgY2xpZW50Lm5hdGl2ZS5hcnJheU1vZGUgPSBmYWxzZVxuICAgIHNldEltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICBzZWxmLmVtaXQoJ19kb25lJylcbiAgICB9KVxuXG4gICAgLy8gaGFuZGxlIHBvc3NpYmxlIHF1ZXJ5IGVycm9yXG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIHNlbGYuaGFuZGxlRXJyb3IoZXJyKVxuICAgIH1cblxuICAgIC8vIGVtaXQgcm93IGV2ZW50cyBmb3IgZWFjaCByb3cgaW4gdGhlIHJlc3VsdFxuICAgIGlmIChzZWxmLl9lbWl0Um93RXZlbnRzKSB7XG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHJvd3MuZm9yRWFjaCgocm93T2ZSb3dzLCBpKSA9PiB7XG4gICAgICAgICAgcm93T2ZSb3dzLmZvckVhY2goKHJvdykgPT4ge1xuICAgICAgICAgICAgc2VsZi5lbWl0KCdyb3cnLCByb3csIHJlc3VsdHNbaV0pXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgc2VsZi5lbWl0KCdyb3cnLCByb3csIHJlc3VsdHMpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gaGFuZGxlIHN1Y2Nlc3NmdWwgcmVzdWx0XG4gICAgc2VsZi5zdGF0ZSA9ICdlbmQnXG4gICAgc2VsZi5lbWl0KCdlbmQnLCByZXN1bHRzKVxuICAgIGlmIChzZWxmLmNhbGxiYWNrKSB7XG4gICAgICBzZWxmLmNhbGxiYWNrKG51bGwsIHJlc3VsdHMpXG4gICAgfVxuICB9XG5cbiAgaWYgKHByb2Nlc3MuZG9tYWluKSB7XG4gICAgYWZ0ZXIgPSBwcm9jZXNzLmRvbWFpbi5iaW5kKGFmdGVyKVxuICB9XG5cbiAgLy8gbmFtZWQgcXVlcnlcbiAgaWYgKHRoaXMubmFtZSkge1xuICAgIGlmICh0aGlzLm5hbWUubGVuZ3RoID4gNjMpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1dhcm5pbmchIFBvc3RncmVzIG9ubHkgc3VwcG9ydHMgNjMgY2hhcmFjdGVycyBmb3IgcXVlcnkgbmFtZXMuJylcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1lvdSBzdXBwbGllZCAlcyAoJXMpJywgdGhpcy5uYW1lLCB0aGlzLm5hbWUubGVuZ3RoKVxuICAgICAgY29uc29sZS5lcnJvcignVGhpcyBjYW4gY2F1c2UgY29uZmxpY3RzIGFuZCBzaWxlbnQgZXJyb3JzIGV4ZWN1dGluZyBxdWVyaWVzJylcbiAgICB9XG4gICAgY29uc3QgdmFsdWVzID0gKHRoaXMudmFsdWVzIHx8IFtdKS5tYXAodXRpbHMucHJlcGFyZVZhbHVlKVxuXG4gICAgLy8gY2hlY2sgaWYgdGhlIGNsaWVudCBoYXMgYWxyZWFkeSBleGVjdXRlZCB0aGlzIG5hbWVkIHF1ZXJ5XG4gICAgLy8gaWYgc28uLi5qdXN0IGV4ZWN1dGUgaXQgYWdhaW4gLSBza2lwIHRoZSBwbGFubmluZyBwaGFzZVxuICAgIGlmIChjbGllbnQubmFtZWRRdWVyaWVzW3RoaXMubmFtZV0pIHtcbiAgICAgIGlmICh0aGlzLnRleHQgJiYgY2xpZW50Lm5hbWVkUXVlcmllc1t0aGlzLm5hbWVdICE9PSB0aGlzLnRleHQpIHtcbiAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKGBQcmVwYXJlZCBzdGF0ZW1lbnRzIG11c3QgYmUgdW5pcXVlIC0gJyR7dGhpcy5uYW1lfScgd2FzIHVzZWQgZm9yIGEgZGlmZmVyZW50IHN0YXRlbWVudGApXG4gICAgICAgIHJldHVybiBhZnRlcihlcnIpXG4gICAgICB9XG4gICAgICByZXR1cm4gY2xpZW50Lm5hdGl2ZS5leGVjdXRlKHRoaXMubmFtZSwgdmFsdWVzLCBhZnRlcilcbiAgICB9XG4gICAgLy8gcGxhbiB0aGUgbmFtZWQgcXVlcnkgdGhlIGZpcnN0IHRpbWUsIHRoZW4gZXhlY3V0ZSBpdFxuICAgIHJldHVybiBjbGllbnQubmF0aXZlLnByZXBhcmUodGhpcy5uYW1lLCB0aGlzLnRleHQsIHZhbHVlcy5sZW5ndGgsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIpIHJldHVybiBhZnRlcihlcnIpXG4gICAgICBjbGllbnQubmFtZWRRdWVyaWVzW3NlbGYubmFtZV0gPSBzZWxmLnRleHRcbiAgICAgIHJldHVybiBzZWxmLm5hdGl2ZS5leGVjdXRlKHNlbGYubmFtZSwgdmFsdWVzLCBhZnRlcilcbiAgICB9KVxuICB9IGVsc2UgaWYgKHRoaXMudmFsdWVzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMudmFsdWVzKSkge1xuICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKCdRdWVyeSB2YWx1ZXMgbXVzdCBiZSBhbiBhcnJheScpXG4gICAgICByZXR1cm4gYWZ0ZXIoZXJyKVxuICAgIH1cbiAgICBjb25zdCB2YWxzID0gdGhpcy52YWx1ZXMubWFwKHV0aWxzLnByZXBhcmVWYWx1ZSlcbiAgICBjbGllbnQubmF0aXZlLnF1ZXJ5KHRoaXMudGV4dCwgdmFscywgYWZ0ZXIpXG4gIH0gZWxzZSBpZiAodGhpcy5xdWVyeU1vZGUgPT09ICdleHRlbmRlZCcpIHtcbiAgICBjbGllbnQubmF0aXZlLnF1ZXJ5KHRoaXMudGV4dCwgW10sIGFmdGVyKVxuICB9IGVsc2Uge1xuICAgIGNsaWVudC5uYXRpdmUucXVlcnkodGhpcy50ZXh0LCBhZnRlcilcbiAgfVxufVxuIiwgIid1c2Ugc3RyaWN0J1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbnZhciBOYXRpdmVcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWNhdGNoXG50cnkge1xuICAvLyBXcmFwIHRoaXMgYHJlcXVpcmUoKWAgaW4gYSB0cnktY2F0Y2ggdG8gYXZvaWQgdXBzdHJlYW0gYnVuZGxlcnMgZnJvbSBjb21wbGFpbmluZyB0aGF0IHRoaXMgbWlnaHQgbm90IGJlIGF2YWlsYWJsZSBzaW5jZSBpdCBpcyBhbiBvcHRpb25hbCBpbXBvcnRcbiAgTmF0aXZlID0gcmVxdWlyZSgncGctbmF0aXZlJylcbn0gY2F0Y2ggKGUpIHtcbiAgdGhyb3cgZVxufVxuY29uc3QgVHlwZU92ZXJyaWRlcyA9IHJlcXVpcmUoJy4uL3R5cGUtb3ZlcnJpZGVzJylcbmNvbnN0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlclxuY29uc3QgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKVxuY29uc3QgQ29ubmVjdGlvblBhcmFtZXRlcnMgPSByZXF1aXJlKCcuLi9jb25uZWN0aW9uLXBhcmFtZXRlcnMnKVxuXG5jb25zdCBOYXRpdmVRdWVyeSA9IHJlcXVpcmUoJy4vcXVlcnknKVxuXG5jb25zdCBDbGllbnQgPSAobW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpXG4gIGNvbmZpZyA9IGNvbmZpZyB8fCB7fVxuXG4gIHRoaXMuX1Byb21pc2UgPSBjb25maWcuUHJvbWlzZSB8fCBnbG9iYWwuUHJvbWlzZVxuICB0aGlzLl90eXBlcyA9IG5ldyBUeXBlT3ZlcnJpZGVzKGNvbmZpZy50eXBlcylcblxuICB0aGlzLm5hdGl2ZSA9IG5ldyBOYXRpdmUoe1xuICAgIHR5cGVzOiB0aGlzLl90eXBlcyxcbiAgfSlcblxuICB0aGlzLl9xdWVyeVF1ZXVlID0gW11cbiAgdGhpcy5fZW5kaW5nID0gZmFsc2VcbiAgdGhpcy5fY29ubmVjdGluZyA9IGZhbHNlXG4gIHRoaXMuX2Nvbm5lY3RlZCA9IGZhbHNlXG4gIHRoaXMuX3F1ZXJ5YWJsZSA9IHRydWVcblxuICAvLyBrZWVwIHRoZXNlIG9uIHRoZSBvYmplY3QgZm9yIGxlZ2FjeSByZWFzb25zXG4gIC8vIGZvciB0aGUgdGltZSBiZWluZy4gVE9ETzogZGVwcmVjYXRlIGFsbCB0aGlzIGphenpcbiAgY29uc3QgY3AgPSAodGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycyA9IG5ldyBDb25uZWN0aW9uUGFyYW1ldGVycyhjb25maWcpKVxuICBpZiAoY29uZmlnLm5hdGl2ZUNvbm5lY3Rpb25TdHJpbmcpIGNwLm5hdGl2ZUNvbm5lY3Rpb25TdHJpbmcgPSBjb25maWcubmF0aXZlQ29ubmVjdGlvblN0cmluZ1xuICB0aGlzLnVzZXIgPSBjcC51c2VyXG5cbiAgLy8gXCJoaWRpbmdcIiB0aGUgcGFzc3dvcmQgc28gaXQgZG9lc24ndCBzaG93IHVwIGluIHN0YWNrIHRyYWNlc1xuICAvLyBvciBpZiB0aGUgY2xpZW50IGlzIGNvbnNvbGUubG9nZ2VkXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncGFzc3dvcmQnLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgIHZhbHVlOiBjcC5wYXNzd29yZCxcbiAgfSlcbiAgdGhpcy5kYXRhYmFzZSA9IGNwLmRhdGFiYXNlXG4gIHRoaXMuaG9zdCA9IGNwLmhvc3RcbiAgdGhpcy5wb3J0ID0gY3AucG9ydFxuXG4gIC8vIGEgaGFzaCB0byBob2xkIG5hbWVkIHF1ZXJpZXNcbiAgdGhpcy5uYW1lZFF1ZXJpZXMgPSB7fVxufSlcblxuQ2xpZW50LlF1ZXJ5ID0gTmF0aXZlUXVlcnlcblxudXRpbC5pbmhlcml0cyhDbGllbnQsIEV2ZW50RW1pdHRlcilcblxuQ2xpZW50LnByb3RvdHlwZS5fZXJyb3JBbGxRdWVyaWVzID0gZnVuY3Rpb24gKGVycikge1xuICBjb25zdCBlbnF1ZXVlRXJyb3IgPSAocXVlcnkpID0+IHtcbiAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgIHF1ZXJ5Lm5hdGl2ZSA9IHRoaXMubmF0aXZlXG4gICAgICBxdWVyeS5oYW5kbGVFcnJvcihlcnIpXG4gICAgfSlcbiAgfVxuXG4gIGlmICh0aGlzLl9oYXNBY3RpdmVRdWVyeSgpKSB7XG4gICAgZW5xdWV1ZUVycm9yKHRoaXMuX2FjdGl2ZVF1ZXJ5KVxuICAgIHRoaXMuX2FjdGl2ZVF1ZXJ5ID0gbnVsbFxuICB9XG5cbiAgdGhpcy5fcXVlcnlRdWV1ZS5mb3JFYWNoKGVucXVldWVFcnJvcilcbiAgdGhpcy5fcXVlcnlRdWV1ZS5sZW5ndGggPSAwXG59XG5cbi8vIGNvbm5lY3QgdG8gdGhlIGJhY2tlbmRcbi8vIHBhc3MgYW4gb3B0aW9uYWwgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIG9uY2UgY29ubmVjdGVkXG4vLyBvciB3aXRoIGFuIGVycm9yIGlmIHRoZXJlIHdhcyBhIGNvbm5lY3Rpb24gZXJyb3JcbkNsaWVudC5wcm90b3R5cGUuX2Nvbm5lY3QgPSBmdW5jdGlvbiAoY2IpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXNcblxuICBpZiAodGhpcy5fY29ubmVjdGluZykge1xuICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4gY2IobmV3IEVycm9yKCdDbGllbnQgaGFzIGFscmVhZHkgYmVlbiBjb25uZWN0ZWQuIFlvdSBjYW5ub3QgcmV1c2UgYSBjbGllbnQuJykpKVxuICAgIHJldHVyblxuICB9XG5cbiAgdGhpcy5fY29ubmVjdGluZyA9IHRydWVcblxuICB0aGlzLmNvbm5lY3Rpb25QYXJhbWV0ZXJzLmdldExpYnBxQ29ubmVjdGlvblN0cmluZyhmdW5jdGlvbiAoZXJyLCBjb25TdHJpbmcpIHtcbiAgICBpZiAoc2VsZi5jb25uZWN0aW9uUGFyYW1ldGVycy5uYXRpdmVDb25uZWN0aW9uU3RyaW5nKSBjb25TdHJpbmcgPSBzZWxmLmNvbm5lY3Rpb25QYXJhbWV0ZXJzLm5hdGl2ZUNvbm5lY3Rpb25TdHJpbmdcbiAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKVxuICAgIHNlbGYubmF0aXZlLmNvbm5lY3QoY29uU3RyaW5nLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHNlbGYubmF0aXZlLmVuZCgpXG4gICAgICAgIHJldHVybiBjYihlcnIpXG4gICAgICB9XG5cbiAgICAgIC8vIHNldCBpbnRlcm5hbCBzdGF0ZXMgdG8gY29ubmVjdGVkXG4gICAgICBzZWxmLl9jb25uZWN0ZWQgPSB0cnVlXG5cbiAgICAgIC8vIGhhbmRsZSBjb25uZWN0aW9uIGVycm9ycyBmcm9tIHRoZSBuYXRpdmUgbGF5ZXJcbiAgICAgIHNlbGYubmF0aXZlLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgc2VsZi5fcXVlcnlhYmxlID0gZmFsc2VcbiAgICAgICAgc2VsZi5fZXJyb3JBbGxRdWVyaWVzKGVycilcbiAgICAgICAgc2VsZi5lbWl0KCdlcnJvcicsIGVycilcbiAgICAgIH0pXG5cbiAgICAgIHNlbGYubmF0aXZlLm9uKCdub3RpZmljYXRpb24nLCBmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgIHNlbGYuZW1pdCgnbm90aWZpY2F0aW9uJywge1xuICAgICAgICAgIGNoYW5uZWw6IG1zZy5yZWxuYW1lLFxuICAgICAgICAgIHBheWxvYWQ6IG1zZy5leHRyYSxcbiAgICAgICAgfSlcbiAgICAgIH0pXG5cbiAgICAgIC8vIHNpZ25hbCB3ZSBhcmUgY29ubmVjdGVkIG5vd1xuICAgICAgc2VsZi5lbWl0KCdjb25uZWN0JylcbiAgICAgIHNlbGYuX3B1bHNlUXVlcnlRdWV1ZSh0cnVlKVxuXG4gICAgICBjYigpXG4gICAgfSlcbiAgfSlcbn1cblxuQ2xpZW50LnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIGlmIChjYWxsYmFjaykge1xuICAgIHRoaXMuX2Nvbm5lY3QoY2FsbGJhY2spXG4gICAgcmV0dXJuXG4gIH1cblxuICByZXR1cm4gbmV3IHRoaXMuX1Byb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRoaXMuX2Nvbm5lY3QoKGVycm9yKSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZSgpXG4gICAgICB9XG4gICAgfSlcbiAgfSlcbn1cblxuLy8gc2VuZCBhIHF1ZXJ5IHRvIHRoZSBzZXJ2ZXJcbi8vIHRoaXMgbWV0aG9kIGlzIGhpZ2hseSBvdmVybG9hZGVkIHRvIHRha2Vcbi8vIDEpIHN0cmluZyBxdWVyeSwgb3B0aW9uYWwgYXJyYXkgb2YgcGFyYW1ldGVycywgb3B0aW9uYWwgZnVuY3Rpb24gY2FsbGJhY2tcbi8vIDIpIG9iamVjdCBxdWVyeSB3aXRoIHtcbi8vICAgIHN0cmluZyBxdWVyeVxuLy8gICAgb3B0aW9uYWwgYXJyYXkgdmFsdWVzLFxuLy8gICAgb3B0aW9uYWwgZnVuY3Rpb24gY2FsbGJhY2sgaW5zdGVhZCBvZiBhcyBhIHNlcGFyYXRlIHBhcmFtZXRlclxuLy8gICAgb3B0aW9uYWwgc3RyaW5nIG5hbWUgdG8gbmFtZSAmIGNhY2hlIHRoZSBxdWVyeSBwbGFuXG4vLyAgICBvcHRpb25hbCBzdHJpbmcgcm93TW9kZSA9ICdhcnJheScgZm9yIGFuIGFycmF5IG9mIHJlc3VsdHNcbi8vICB9XG5DbGllbnQucHJvdG90eXBlLnF1ZXJ5ID0gZnVuY3Rpb24gKGNvbmZpZywgdmFsdWVzLCBjYWxsYmFjaykge1xuICBsZXQgcXVlcnlcbiAgbGV0IHJlc3VsdFxuICBsZXQgcmVhZFRpbWVvdXRcbiAgbGV0IHJlYWRUaW1lb3V0VGltZXJcbiAgbGV0IHF1ZXJ5Q2FsbGJhY2tcblxuICBpZiAoY29uZmlnID09PSBudWxsIHx8IGNvbmZpZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2xpZW50IHdhcyBwYXNzZWQgYSBudWxsIG9yIHVuZGVmaW5lZCBxdWVyeScpXG4gIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZy5zdWJtaXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZWFkVGltZW91dCA9IGNvbmZpZy5xdWVyeV90aW1lb3V0IHx8IHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMucXVlcnlfdGltZW91dFxuICAgIHJlc3VsdCA9IHF1ZXJ5ID0gY29uZmlnXG4gICAgLy8gYWNjZXB0IHF1ZXJ5KG5ldyBRdWVyeSguLi4pLCAoZXJyLCByZXMpID0+IHsgfSkgc3R5bGVcbiAgICBpZiAodHlwZW9mIHZhbHVlcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29uZmlnLmNhbGxiYWNrID0gdmFsdWVzXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlYWRUaW1lb3V0ID0gY29uZmlnLnF1ZXJ5X3RpbWVvdXQgfHwgdGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycy5xdWVyeV90aW1lb3V0XG4gICAgcXVlcnkgPSBuZXcgTmF0aXZlUXVlcnkoY29uZmlnLCB2YWx1ZXMsIGNhbGxiYWNrKVxuICAgIGlmICghcXVlcnkuY2FsbGJhY2spIHtcbiAgICAgIGxldCByZXNvbHZlT3V0LCByZWplY3RPdXRcbiAgICAgIHJlc3VsdCA9IG5ldyB0aGlzLl9Qcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgcmVzb2x2ZU91dCA9IHJlc29sdmVcbiAgICAgICAgcmVqZWN0T3V0ID0gcmVqZWN0XG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKGVycilcbiAgICAgICAgdGhyb3cgZXJyXG4gICAgICB9KVxuICAgICAgcXVlcnkuY2FsbGJhY2sgPSAoZXJyLCByZXMpID0+IChlcnIgPyByZWplY3RPdXQoZXJyKSA6IHJlc29sdmVPdXQocmVzKSlcbiAgICB9XG4gIH1cblxuICBpZiAocmVhZFRpbWVvdXQpIHtcbiAgICBxdWVyeUNhbGxiYWNrID0gcXVlcnkuY2FsbGJhY2tcblxuICAgIHJlYWRUaW1lb3V0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdRdWVyeSByZWFkIHRpbWVvdXQnKVxuXG4gICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgcXVlcnkuaGFuZGxlRXJyb3IoZXJyb3IsIHRoaXMuY29ubmVjdGlvbilcbiAgICAgIH0pXG5cbiAgICAgIHF1ZXJ5Q2FsbGJhY2soZXJyb3IpXG5cbiAgICAgIC8vIHdlIGFscmVhZHkgcmV0dXJuZWQgYW4gZXJyb3IsXG4gICAgICAvLyBqdXN0IGRvIG5vdGhpbmcgaWYgcXVlcnkgY29tcGxldGVzXG4gICAgICBxdWVyeS5jYWxsYmFjayA9ICgpID0+IHt9XG5cbiAgICAgIC8vIFJlbW92ZSBmcm9tIHF1ZXVlXG4gICAgICBjb25zdCBpbmRleCA9IHRoaXMuX3F1ZXJ5UXVldWUuaW5kZXhPZihxdWVyeSlcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIHRoaXMuX3F1ZXJ5UXVldWUuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgfVxuXG4gICAgICB0aGlzLl9wdWxzZVF1ZXJ5UXVldWUoKVxuICAgIH0sIHJlYWRUaW1lb3V0KVxuXG4gICAgcXVlcnkuY2FsbGJhY2sgPSAoZXJyLCByZXMpID0+IHtcbiAgICAgIGNsZWFyVGltZW91dChyZWFkVGltZW91dFRpbWVyKVxuICAgICAgcXVlcnlDYWxsYmFjayhlcnIsIHJlcylcbiAgICB9XG4gIH1cblxuICBpZiAoIXRoaXMuX3F1ZXJ5YWJsZSkge1xuICAgIHF1ZXJ5Lm5hdGl2ZSA9IHRoaXMubmF0aXZlXG4gICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICBxdWVyeS5oYW5kbGVFcnJvcihuZXcgRXJyb3IoJ0NsaWVudCBoYXMgZW5jb3VudGVyZWQgYSBjb25uZWN0aW9uIGVycm9yIGFuZCBpcyBub3QgcXVlcnlhYmxlJykpXG4gICAgfSlcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBpZiAodGhpcy5fZW5kaW5nKSB7XG4gICAgcXVlcnkubmF0aXZlID0gdGhpcy5uYXRpdmVcbiAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgIHF1ZXJ5LmhhbmRsZUVycm9yKG5ldyBFcnJvcignQ2xpZW50IHdhcyBjbG9zZWQgYW5kIGlzIG5vdCBxdWVyeWFibGUnKSlcbiAgICB9KVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIHRoaXMuX3F1ZXJ5UXVldWUucHVzaChxdWVyeSlcbiAgdGhpcy5fcHVsc2VRdWVyeVF1ZXVlKClcbiAgcmV0dXJuIHJlc3VsdFxufVxuXG4vLyBkaXNjb25uZWN0IGZyb20gdGhlIGJhY2tlbmQgc2VydmVyXG5DbGllbnQucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChjYikge1xuICBjb25zdCBzZWxmID0gdGhpc1xuXG4gIHRoaXMuX2VuZGluZyA9IHRydWVcblxuICBpZiAoIXRoaXMuX2Nvbm5lY3RlZCkge1xuICAgIHRoaXMub25jZSgnY29ubmVjdCcsIHRoaXMuZW5kLmJpbmQodGhpcywgY2IpKVxuICB9XG4gIGxldCByZXN1bHRcbiAgaWYgKCFjYikge1xuICAgIHJlc3VsdCA9IG5ldyB0aGlzLl9Qcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGNiID0gKGVycikgPT4gKGVyciA/IHJlamVjdChlcnIpIDogcmVzb2x2ZSgpKVxuICAgIH0pXG4gIH1cbiAgdGhpcy5uYXRpdmUuZW5kKGZ1bmN0aW9uICgpIHtcbiAgICBzZWxmLl9lcnJvckFsbFF1ZXJpZXMobmV3IEVycm9yKCdDb25uZWN0aW9uIHRlcm1pbmF0ZWQnKSlcblxuICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgc2VsZi5lbWl0KCdlbmQnKVxuICAgICAgaWYgKGNiKSBjYigpXG4gICAgfSlcbiAgfSlcbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5DbGllbnQucHJvdG90eXBlLl9oYXNBY3RpdmVRdWVyeSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuX2FjdGl2ZVF1ZXJ5ICYmIHRoaXMuX2FjdGl2ZVF1ZXJ5LnN0YXRlICE9PSAnZXJyb3InICYmIHRoaXMuX2FjdGl2ZVF1ZXJ5LnN0YXRlICE9PSAnZW5kJ1xufVxuXG5DbGllbnQucHJvdG90eXBlLl9wdWxzZVF1ZXJ5UXVldWUgPSBmdW5jdGlvbiAoaW5pdGlhbENvbm5lY3Rpb24pIHtcbiAgaWYgKCF0aGlzLl9jb25uZWN0ZWQpIHtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAodGhpcy5faGFzQWN0aXZlUXVlcnkoKSkge1xuICAgIHJldHVyblxuICB9XG4gIGNvbnN0IHF1ZXJ5ID0gdGhpcy5fcXVlcnlRdWV1ZS5zaGlmdCgpXG4gIGlmICghcXVlcnkpIHtcbiAgICBpZiAoIWluaXRpYWxDb25uZWN0aW9uKSB7XG4gICAgICB0aGlzLmVtaXQoJ2RyYWluJylcbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cbiAgdGhpcy5fYWN0aXZlUXVlcnkgPSBxdWVyeVxuICBxdWVyeS5zdWJtaXQodGhpcylcbiAgY29uc3Qgc2VsZiA9IHRoaXNcbiAgcXVlcnkub25jZSgnX2RvbmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgc2VsZi5fcHVsc2VRdWVyeVF1ZXVlKClcbiAgfSlcbn1cblxuLy8gYXR0ZW1wdCB0byBjYW5jZWwgYW4gaW4tcHJvZ3Jlc3MgcXVlcnlcbkNsaWVudC5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gIGlmICh0aGlzLl9hY3RpdmVRdWVyeSA9PT0gcXVlcnkpIHtcbiAgICB0aGlzLm5hdGl2ZS5jYW5jZWwoZnVuY3Rpb24gKCkge30pXG4gIH0gZWxzZSBpZiAodGhpcy5fcXVlcnlRdWV1ZS5pbmRleE9mKHF1ZXJ5KSAhPT0gLTEpIHtcbiAgICB0aGlzLl9xdWVyeVF1ZXVlLnNwbGljZSh0aGlzLl9xdWVyeVF1ZXVlLmluZGV4T2YocXVlcnkpLCAxKVxuICB9XG59XG5cbkNsaWVudC5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24gKCkge31cbkNsaWVudC5wcm90b3R5cGUudW5yZWYgPSBmdW5jdGlvbiAoKSB7fVxuXG5DbGllbnQucHJvdG90eXBlLnNldFR5cGVQYXJzZXIgPSBmdW5jdGlvbiAob2lkLCBmb3JtYXQsIHBhcnNlRm4pIHtcbiAgcmV0dXJuIHRoaXMuX3R5cGVzLnNldFR5cGVQYXJzZXIob2lkLCBmb3JtYXQsIHBhcnNlRm4pXG59XG5cbkNsaWVudC5wcm90b3R5cGUuZ2V0VHlwZVBhcnNlciA9IGZ1bmN0aW9uIChvaWQsIGZvcm1hdCkge1xuICByZXR1cm4gdGhpcy5fdHlwZXMuZ2V0VHlwZVBhcnNlcihvaWQsIGZvcm1hdClcbn1cbiIsICIndXNlIHN0cmljdCdcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9jbGllbnQnKVxuIiwgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBDbGllbnQgPSByZXF1aXJlKCcuL2NsaWVudCcpXG5jb25zdCBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vZGVmYXVsdHMnKVxuY29uc3QgQ29ubmVjdGlvbiA9IHJlcXVpcmUoJy4vY29ubmVjdGlvbicpXG5jb25zdCBSZXN1bHQgPSByZXF1aXJlKCcuL3Jlc3VsdCcpXG5jb25zdCB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKVxuY29uc3QgUG9vbCA9IHJlcXVpcmUoJ3BnLXBvb2wnKVxuY29uc3QgVHlwZU92ZXJyaWRlcyA9IHJlcXVpcmUoJy4vdHlwZS1vdmVycmlkZXMnKVxuY29uc3QgeyBEYXRhYmFzZUVycm9yIH0gPSByZXF1aXJlKCdwZy1wcm90b2NvbCcpXG5jb25zdCB7IGVzY2FwZUlkZW50aWZpZXIsIGVzY2FwZUxpdGVyYWwgfSA9IHJlcXVpcmUoJy4vdXRpbHMnKVxuXG5jb25zdCBwb29sRmFjdG9yeSA9IChDbGllbnQpID0+IHtcbiAgcmV0dXJuIGNsYXNzIEJvdW5kUG9vbCBleHRlbmRzIFBvb2wge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgIHN1cGVyKG9wdGlvbnMsIENsaWVudClcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgUEcgPSBmdW5jdGlvbiAoY2xpZW50Q29uc3RydWN0b3IpIHtcbiAgdGhpcy5kZWZhdWx0cyA9IGRlZmF1bHRzXG4gIHRoaXMuQ2xpZW50ID0gY2xpZW50Q29uc3RydWN0b3JcbiAgdGhpcy5RdWVyeSA9IHRoaXMuQ2xpZW50LlF1ZXJ5XG4gIHRoaXMuUG9vbCA9IHBvb2xGYWN0b3J5KHRoaXMuQ2xpZW50KVxuICB0aGlzLl9wb29scyA9IFtdXG4gIHRoaXMuQ29ubmVjdGlvbiA9IENvbm5lY3Rpb25cbiAgdGhpcy50eXBlcyA9IHJlcXVpcmUoJ3BnLXR5cGVzJylcbiAgdGhpcy5EYXRhYmFzZUVycm9yID0gRGF0YWJhc2VFcnJvclxuICB0aGlzLlR5cGVPdmVycmlkZXMgPSBUeXBlT3ZlcnJpZGVzXG4gIHRoaXMuZXNjYXBlSWRlbnRpZmllciA9IGVzY2FwZUlkZW50aWZpZXJcbiAgdGhpcy5lc2NhcGVMaXRlcmFsID0gZXNjYXBlTGl0ZXJhbFxuICB0aGlzLlJlc3VsdCA9IFJlc3VsdFxuICB0aGlzLnV0aWxzID0gdXRpbHNcbn1cblxuaWYgKHR5cGVvZiBwcm9jZXNzLmVudi5OT0RFX1BHX0ZPUkNFX05BVElWRSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBuZXcgUEcocmVxdWlyZSgnLi9uYXRpdmUnKSlcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gbmV3IFBHKENsaWVudClcblxuICAvLyBsYXp5IHJlcXVpcmUgbmF0aXZlIG1vZHVsZS4uLnRoZSBuYXRpdmUgbW9kdWxlIG1heSBub3QgaGF2ZSBpbnN0YWxsZWRcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZS5leHBvcnRzLCAnbmF0aXZlJywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBnZXQoKSB7XG4gICAgICBsZXQgbmF0aXZlID0gbnVsbFxuICAgICAgdHJ5IHtcbiAgICAgICAgbmF0aXZlID0gbmV3IFBHKHJlcXVpcmUoJy4vbmF0aXZlJykpXG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKGVyci5jb2RlICE9PSAnTU9EVUxFX05PVF9GT1VORCcpIHtcbiAgICAgICAgICB0aHJvdyBlcnJcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBvdmVyd3JpdGUgbW9kdWxlLmV4cG9ydHMubmF0aXZlIHNvIHRoYXQgZ2V0dGVyIGlzIG5ldmVyIGNhbGxlZCBhZ2FpblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZS5leHBvcnRzLCAnbmF0aXZlJywge1xuICAgICAgICB2YWx1ZTogbmF0aXZlLFxuICAgICAgfSlcblxuICAgICAgcmV0dXJuIG5hdGl2ZVxuICAgIH0sXG4gIH0pXG59XG4iLCAiaW1wb3J0IHsgc3RyZWFtVGV4dCwgdG9vbCB9IGZyb20gXCJhaVwiO1xuaW1wb3J0ICogYXMgYmxpbmsgZnJvbSBcImJsaW5rXCI7XG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuaW1wb3J0IHsgY29udmVydFRvTW9kZWxNZXNzYWdlcyB9IGZyb20gXCJhaVwiO1xuaW1wb3J0IHsgZ2V0U2NoZW1hLCBydW5RdWVyeSB9IGZyb20gXCIuL2RiLmpzXCI7XG5pbXBvcnQgeyBidWlsZFN5c3RlbVByb21wdCB9IGZyb20gXCIuL3Byb21wdC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBibGluay5hZ2VudCh7XG4gIGRpc3BsYXlOYW1lOiBcImdoLXByb2plY3QtYWdlbnRcIixcblxuICBhc3luYyBzZW5kTWVzc2FnZXMoeyBtZXNzYWdlcyB9KSB7XG4gICAgcmV0dXJuIHN0cmVhbVRleHQoe1xuICAgICAgbW9kZWw6IFwib3BlbmFpL2dwdC1vc3MtMTIwYlwiLFxuICAgICAgc3lzdGVtOiBidWlsZFN5c3RlbVByb21wdCgpLFxuICAgICAgbWVzc2FnZXM6IGNvbnZlcnRUb01vZGVsTWVzc2FnZXMobWVzc2FnZXMpLFxuICAgICAgdG9vbHM6IHtcbiAgICAgICAgZGJfc2NoZW1hOiB0b29sKHtcbiAgICAgICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgICAgIFwiUmV0dXJuIHRoZSBzY2hlbWEgYW5kIHVzYWdlIG5vdGVzIGZvciB0aGUgTmVvbiBkYXRhYmFzZSBiYWNraW5nIEdpdEh1YiBQcm9qZWN0IGluc2lnaHRzLiBJbmNsdWRlcyB0YWJsZXMsIGNvbHVtbnMsIGluZGV4ZXMsIGFuZCBhIGNvbmNpc2UgZ3VpZGUgZm9yIGNvbW1vbiBxdWVyaWVzIHVzaW5nIHByb2plY3RfbmFtZS5cIixcbiAgICAgICAgICBpbnB1dFNjaGVtYTogei5vYmplY3Qoe30pLFxuICAgICAgICAgIGV4ZWN1dGU6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNjaGVtYSA9IGF3YWl0IGdldFNjaGVtYSgpO1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVtYTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICAgZGJfcXVlcnk6IHRvb2woe1xuICAgICAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAgICAgXCJFeGVjdXRlIGEgcmVhZC1vbmx5IFNRTCBTRUxFQ1QgYWdhaW5zdCB0aGUgTmVvbiBkYXRhYmFzZS4gVXNlIHByb2plY3RfbmFtZSBmb3Igc2NvcGluZzsgZGVmYXVsdCBsb29rYmFjayBpcyB0aGUgbGFzdCA3IGRheXMgZm9yICd3aGF0J3MgbmV3JyBxdWVyaWVzLiBSZXR1cm5zIHJvd3Mgd2l0aCBlbmZvcmNlZCBMSU1JVC9PRkZTRVQgKG1heCAyMDAwKS5cIixcbiAgICAgICAgICBpbnB1dFNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgc3FsOiB6XG4gICAgICAgICAgICAgIC5zdHJpbmcoKVxuICAgICAgICAgICAgICAuZGVzY3JpYmUoXCJBIHNpbmdsZSBTRUxFQ1QgKG9yIFdJVEggLi4uIFNFTEVDVCkgc3RhdGVtZW50LlwiKSxcbiAgICAgICAgICAgIHBhcmFtczogei5hcnJheSh6LmFueSgpKS5vcHRpb25hbCgpLmRlZmF1bHQoW10pLFxuICAgICAgICAgICAgbGltaXQ6IHoubnVtYmVyKCkuaW50KCkubWluKDEpLm1heCgyMDAwKS5vcHRpb25hbCgpLmRlZmF1bHQoMjAwKSxcbiAgICAgICAgICAgIG9mZnNldDogei5udW1iZXIoKS5pbnQoKS5taW4oMCkub3B0aW9uYWwoKS5kZWZhdWx0KDApLFxuICAgICAgICAgICAgdGltZW91dE1zOiB6XG4gICAgICAgICAgICAgIC5udW1iZXIoKVxuICAgICAgICAgICAgICAuaW50KClcbiAgICAgICAgICAgICAgLm1pbigxMDAwKVxuICAgICAgICAgICAgICAubWF4KDYwMDAwKVxuICAgICAgICAgICAgICAub3B0aW9uYWwoKVxuICAgICAgICAgICAgICAuZGVmYXVsdCgxNTAwMCksXG4gICAgICAgICAgfSksXG4gICAgICAgICAgZXhlY3V0ZTogYXN5bmMgKHsgc3FsLCBwYXJhbXMsIGxpbWl0LCBvZmZzZXQsIHRpbWVvdXRNcyB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBydW5RdWVyeSh7XG4gICAgICAgICAgICAgIHNxbCxcbiAgICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgICBsaW1pdCxcbiAgICAgICAgICAgICAgb2Zmc2V0LFxuICAgICAgICAgICAgICB0aW1lb3V0TXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICB9LFxuICAgIH0pO1xuICB9LFxufSk7XG4iLCAiLyoqXG4gKiBTeW1ib2wgdXNlZCBmb3IgaWRlbnRpZnlpbmcgQUkgU0RLIEVycm9yIGluc3RhbmNlcy5cbiAqIEVuYWJsZXMgY2hlY2tpbmcgaWYgYW4gZXJyb3IgaXMgYW4gaW5zdGFuY2Ugb2YgQUlTREtFcnJvciBhY3Jvc3MgcGFja2FnZSB2ZXJzaW9ucy5cbiAqL1xuY29uc3QgbWFya2VyID0gJ3ZlcmNlbC5haS5lcnJvcic7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbi8qKlxuICogQ3VzdG9tIGVycm9yIGNsYXNzIGZvciBBSSBTREsgcmVsYXRlZCBlcnJvcnMuXG4gKiBAZXh0ZW5kcyBFcnJvclxuICovXG5leHBvcnQgY2xhc3MgQUlTREtFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIC8qKlxuICAgKiBUaGUgdW5kZXJseWluZyBjYXVzZSBvZiB0aGUgZXJyb3IsIGlmIGFueS5cbiAgICovXG4gIHJlYWRvbmx5IGNhdXNlPzogdW5rbm93bjtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBBSSBTREsgRXJyb3IuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgY3JlYXRpbmcgdGhlIGVycm9yLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1zLm5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgZXJyb3IuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbXMubWVzc2FnZSAtIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKiBAcGFyYW0ge3Vua25vd259IFtwYXJhbXMuY2F1c2VdIC0gVGhlIHVuZGVybHlpbmcgY2F1c2Ugb2YgdGhlIGVycm9yLlxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIG5hbWUsXG4gICAgbWVzc2FnZSxcbiAgICBjYXVzZSxcbiAgfToge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgY2F1c2U/OiB1bmtub3duO1xuICB9KSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG5cbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuY2F1c2UgPSBjYXVzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGdpdmVuIGVycm9yIGlzIGFuIEFJIFNESyBFcnJvci5cbiAgICogQHBhcmFtIHt1bmtub3dufSBlcnJvciAtIFRoZSBlcnJvciB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGVycm9yIGlzIGFuIEFJIFNESyBFcnJvciwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBBSVNES0Vycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cblxuICBwcm90ZWN0ZWQgc3RhdGljIGhhc01hcmtlcihlcnJvcjogdW5rbm93biwgbWFya2VyOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCBtYXJrZXJTeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG4gICAgcmV0dXJuIChcbiAgICAgIGVycm9yICE9IG51bGwgJiZcbiAgICAgIHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiZcbiAgICAgIG1hcmtlclN5bWJvbCBpbiBlcnJvciAmJlxuICAgICAgdHlwZW9mIGVycm9yW21hcmtlclN5bWJvbF0gPT09ICdib29sZWFuJyAmJlxuICAgICAgZXJyb3JbbWFya2VyU3ltYm9sXSA9PT0gdHJ1ZVxuICAgICk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnLi9haS1zZGstZXJyb3InO1xuXG5jb25zdCBuYW1lID0gJ0FJX0FQSUNhbGxFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgQVBJQ2FsbEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSB1cmw6IHN0cmluZztcbiAgcmVhZG9ubHkgcmVxdWVzdEJvZHlWYWx1ZXM6IHVua25vd247XG4gIHJlYWRvbmx5IHN0YXR1c0NvZGU/OiBudW1iZXI7XG5cbiAgcmVhZG9ubHkgcmVzcG9uc2VIZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgcmVhZG9ubHkgcmVzcG9uc2VCb2R5Pzogc3RyaW5nO1xuXG4gIHJlYWRvbmx5IGlzUmV0cnlhYmxlOiBib29sZWFuO1xuICByZWFkb25seSBkYXRhPzogdW5rbm93bjtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSxcbiAgICB1cmwsXG4gICAgcmVxdWVzdEJvZHlWYWx1ZXMsXG4gICAgc3RhdHVzQ29kZSxcbiAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgcmVzcG9uc2VCb2R5LFxuICAgIGNhdXNlLFxuICAgIGlzUmV0cnlhYmxlID0gc3RhdHVzQ29kZSAhPSBudWxsICYmXG4gICAgICAoc3RhdHVzQ29kZSA9PT0gNDA4IHx8IC8vIHJlcXVlc3QgdGltZW91dFxuICAgICAgICBzdGF0dXNDb2RlID09PSA0MDkgfHwgLy8gY29uZmxpY3RcbiAgICAgICAgc3RhdHVzQ29kZSA9PT0gNDI5IHx8IC8vIHRvbyBtYW55IHJlcXVlc3RzXG4gICAgICAgIHN0YXR1c0NvZGUgPj0gNTAwKSwgLy8gc2VydmVyIGVycm9yXG4gICAgZGF0YSxcbiAgfToge1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICB1cmw6IHN0cmluZztcbiAgICByZXF1ZXN0Qm9keVZhbHVlczogdW5rbm93bjtcbiAgICBzdGF0dXNDb2RlPzogbnVtYmVyO1xuICAgIHJlc3BvbnNlSGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgcmVzcG9uc2VCb2R5Pzogc3RyaW5nO1xuICAgIGNhdXNlPzogdW5rbm93bjtcbiAgICBpc1JldHJ5YWJsZT86IGJvb2xlYW47XG4gICAgZGF0YT86IHVua25vd247XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UsIGNhdXNlIH0pO1xuXG4gICAgdGhpcy51cmwgPSB1cmw7XG4gICAgdGhpcy5yZXF1ZXN0Qm9keVZhbHVlcyA9IHJlcXVlc3RCb2R5VmFsdWVzO1xuICAgIHRoaXMuc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGU7XG4gICAgdGhpcy5yZXNwb25zZUhlYWRlcnMgPSByZXNwb25zZUhlYWRlcnM7XG4gICAgdGhpcy5yZXNwb25zZUJvZHkgPSByZXNwb25zZUJvZHk7XG4gICAgdGhpcy5pc1JldHJ5YWJsZSA9IGlzUmV0cnlhYmxlO1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEFQSUNhbGxFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJy4vYWktc2RrLWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdBSV9FbXB0eVJlc3BvbnNlQm9keUVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBFbXB0eVJlc3BvbnNlQm9keUVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UgPSAnRW1wdHkgcmVzcG9uc2UgYm9keScgfTogeyBtZXNzYWdlPzogc3RyaW5nIH0gPSB7fSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSB9KTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgRW1wdHlSZXNwb25zZUJvZHlFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZShlcnJvcjogdW5rbm93biB8IHVuZGVmaW5lZCkge1xuICBpZiAoZXJyb3IgPT0gbnVsbCkge1xuICAgIHJldHVybiAndW5rbm93biBlcnJvcic7XG4gIH1cblxuICBpZiAodHlwZW9mIGVycm9yID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuXG4gIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yLm1lc3NhZ2U7XG4gIH1cblxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZXJyb3IpO1xufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICcuL2FpLXNkay1lcnJvcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfSW52YWxpZEFyZ3VtZW50RXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuLyoqXG4gKiBBIGZ1bmN0aW9uIGFyZ3VtZW50IGlzIGludmFsaWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnZhbGlkQXJndW1lbnRFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgYXJndW1lbnQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSxcbiAgICBjYXVzZSxcbiAgICBhcmd1bWVudCxcbiAgfToge1xuICAgIGFyZ3VtZW50OiBzdHJpbmc7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIGNhdXNlPzogdW5rbm93bjtcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSwgY2F1c2UgfSk7XG5cbiAgICB0aGlzLmFyZ3VtZW50ID0gYXJndW1lbnQ7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEludmFsaWRBcmd1bWVudEVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnLi9haS1zZGstZXJyb3InO1xuXG5jb25zdCBuYW1lID0gJ0FJX0ludmFsaWRQcm9tcHRFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG4vKipcbiAqIEEgcHJvbXB0IGlzIGludmFsaWQuIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biBieSBwcm92aWRlcnMgd2hlbiB0aGV5IGNhbm5vdFxuICogcHJvY2VzcyBhIHByb21wdC5cbiAqL1xuZXhwb3J0IGNsYXNzIEludmFsaWRQcm9tcHRFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgcHJvbXB0OiB1bmtub3duO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBwcm9tcHQsXG4gICAgbWVzc2FnZSxcbiAgICBjYXVzZSxcbiAgfToge1xuICAgIHByb21wdDogdW5rbm93bjtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgY2F1c2U/OiB1bmtub3duO1xuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlOiBgSW52YWxpZCBwcm9tcHQ6ICR7bWVzc2FnZX1gLCBjYXVzZSB9KTtcblxuICAgIHRoaXMucHJvbXB0ID0gcHJvbXB0O1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBJbnZhbGlkUHJvbXB0RXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICcuL2FpLXNkay1lcnJvcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfSW52YWxpZFJlc3BvbnNlRGF0YUVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbi8qKlxuICogU2VydmVyIHJldHVybmVkIGEgcmVzcG9uc2Ugd2l0aCBpbnZhbGlkIGRhdGEgY29udGVudC5cbiAqIFRoaXMgc2hvdWxkIGJlIHRocm93biBieSBwcm92aWRlcnMgd2hlbiB0aGV5IGNhbm5vdCBwYXJzZSB0aGUgcmVzcG9uc2UgZnJvbSB0aGUgQVBJLlxuICovXG5leHBvcnQgY2xhc3MgSW52YWxpZFJlc3BvbnNlRGF0YUVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSBkYXRhOiB1bmtub3duO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBkYXRhLFxuICAgIG1lc3NhZ2UgPSBgSW52YWxpZCByZXNwb25zZSBkYXRhOiAke0pTT04uc3RyaW5naWZ5KGRhdGEpfS5gLFxuICB9OiB7XG4gICAgZGF0YTogdW5rbm93bjtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlIH0pO1xuXG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgSW52YWxpZFJlc3BvbnNlRGF0YUVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnLi9haS1zZGstZXJyb3InO1xuaW1wb3J0IHsgZ2V0RXJyb3JNZXNzYWdlIH0gZnJvbSAnLi9nZXQtZXJyb3ItbWVzc2FnZSc7XG5cbmNvbnN0IG5hbWUgPSAnQUlfSlNPTlBhcnNlRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuLy8gVE9ETyB2NTogcmVuYW1lIHRvIFBhcnNlRXJyb3JcbmV4cG9ydCBjbGFzcyBKU09OUGFyc2VFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgdGV4dDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHsgdGV4dCwgY2F1c2UgfTogeyB0ZXh0OiBzdHJpbmc7IGNhdXNlOiB1bmtub3duIH0pIHtcbiAgICBzdXBlcih7XG4gICAgICBuYW1lLFxuICAgICAgbWVzc2FnZTpcbiAgICAgICAgYEpTT04gcGFyc2luZyBmYWlsZWQ6IGAgK1xuICAgICAgICBgVGV4dDogJHt0ZXh0fS5cXG5gICtcbiAgICAgICAgYEVycm9yIG1lc3NhZ2U6ICR7Z2V0RXJyb3JNZXNzYWdlKGNhdXNlKX1gLFxuICAgICAgY2F1c2UsXG4gICAgfSk7XG5cbiAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBKU09OUGFyc2VFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJy4vYWktc2RrLWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdBSV9Mb2FkQVBJS2V5RXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGNsYXNzIExvYWRBUElLZXlFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgY29uc3RydWN0b3IoeyBtZXNzYWdlIH06IHsgbWVzc2FnZTogc3RyaW5nIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UgfSk7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIExvYWRBUElLZXlFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJy4vYWktc2RrLWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdBSV9Mb2FkU2V0dGluZ0Vycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBMb2FkU2V0dGluZ0Vycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UgfTogeyBtZXNzYWdlOiBzdHJpbmcgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSB9KTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgTG9hZFNldHRpbmdFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJy4vYWktc2RrLWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdBSV9Ob0NvbnRlbnRHZW5lcmF0ZWRFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG4vKipcblRocm93biB3aGVuIHRoZSBBSSBwcm92aWRlciBmYWlscyB0byBnZW5lcmF0ZSBhbnkgY29udGVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vQ29udGVudEdlbmVyYXRlZEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSA9ICdObyBjb250ZW50IGdlbmVyYXRlZC4nLFxuICB9OiB7IG1lc3NhZ2U/OiBzdHJpbmcgfSA9IHt9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlIH0pO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBOb0NvbnRlbnRHZW5lcmF0ZWRFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJy4vYWktc2RrLWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdBSV9Ob1N1Y2hNb2RlbEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBOb1N1Y2hNb2RlbEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSBtb2RlbElkOiBzdHJpbmc7XG4gIHJlYWRvbmx5IG1vZGVsVHlwZTpcbiAgICB8ICdsYW5ndWFnZU1vZGVsJ1xuICAgIHwgJ3RleHRFbWJlZGRpbmdNb2RlbCdcbiAgICB8ICdpbWFnZU1vZGVsJ1xuICAgIHwgJ3RyYW5zY3JpcHRpb25Nb2RlbCdcbiAgICB8ICdzcGVlY2hNb2RlbCc7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIGVycm9yTmFtZSA9IG5hbWUsXG4gICAgbW9kZWxJZCxcbiAgICBtb2RlbFR5cGUsXG4gICAgbWVzc2FnZSA9IGBObyBzdWNoICR7bW9kZWxUeXBlfTogJHttb2RlbElkfWAsXG4gIH06IHtcbiAgICBlcnJvck5hbWU/OiBzdHJpbmc7XG4gICAgbW9kZWxJZDogc3RyaW5nO1xuICAgIG1vZGVsVHlwZTpcbiAgICAgIHwgJ2xhbmd1YWdlTW9kZWwnXG4gICAgICB8ICd0ZXh0RW1iZWRkaW5nTW9kZWwnXG4gICAgICB8ICdpbWFnZU1vZGVsJ1xuICAgICAgfCAndHJhbnNjcmlwdGlvbk1vZGVsJ1xuICAgICAgfCAnc3BlZWNoTW9kZWwnO1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IGVycm9yTmFtZSwgbWVzc2FnZSB9KTtcblxuICAgIHRoaXMubW9kZWxJZCA9IG1vZGVsSWQ7XG4gICAgdGhpcy5tb2RlbFR5cGUgPSBtb2RlbFR5cGU7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIE5vU3VjaE1vZGVsRXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICcuL2FpLXNkay1lcnJvcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfVG9vTWFueUVtYmVkZGluZ1ZhbHVlc0ZvckNhbGxFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgVG9vTWFueUVtYmVkZGluZ1ZhbHVlc0ZvckNhbGxFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgcHJvdmlkZXI6IHN0cmluZztcbiAgcmVhZG9ubHkgbW9kZWxJZDogc3RyaW5nO1xuICByZWFkb25seSBtYXhFbWJlZGRpbmdzUGVyQ2FsbDogbnVtYmVyO1xuICByZWFkb25seSB2YWx1ZXM6IEFycmF5PHVua25vd24+O1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IHtcbiAgICBwcm92aWRlcjogc3RyaW5nO1xuICAgIG1vZGVsSWQ6IHN0cmluZztcbiAgICBtYXhFbWJlZGRpbmdzUGVyQ2FsbDogbnVtYmVyO1xuICAgIHZhbHVlczogQXJyYXk8dW5rbm93bj47XG4gIH0pIHtcbiAgICBzdXBlcih7XG4gICAgICBuYW1lLFxuICAgICAgbWVzc2FnZTpcbiAgICAgICAgYFRvbyBtYW55IHZhbHVlcyBmb3IgYSBzaW5nbGUgZW1iZWRkaW5nIGNhbGwuIGAgK1xuICAgICAgICBgVGhlICR7b3B0aW9ucy5wcm92aWRlcn0gbW9kZWwgXCIke29wdGlvbnMubW9kZWxJZH1cIiBjYW4gb25seSBlbWJlZCB1cCB0byBgICtcbiAgICAgICAgYCR7b3B0aW9ucy5tYXhFbWJlZGRpbmdzUGVyQ2FsbH0gdmFsdWVzIHBlciBjYWxsLCBidXQgJHtvcHRpb25zLnZhbHVlcy5sZW5ndGh9IHZhbHVlcyB3ZXJlIHByb3ZpZGVkLmAsXG4gICAgfSk7XG5cbiAgICB0aGlzLnByb3ZpZGVyID0gb3B0aW9ucy5wcm92aWRlcjtcbiAgICB0aGlzLm1vZGVsSWQgPSBvcHRpb25zLm1vZGVsSWQ7XG4gICAgdGhpcy5tYXhFbWJlZGRpbmdzUGVyQ2FsbCA9IG9wdGlvbnMubWF4RW1iZWRkaW5nc1BlckNhbGw7XG4gICAgdGhpcy52YWx1ZXMgPSBvcHRpb25zLnZhbHVlcztcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKFxuICAgIGVycm9yOiB1bmtub3duLFxuICApOiBlcnJvciBpcyBUb29NYW55RW1iZWRkaW5nVmFsdWVzRm9yQ2FsbEVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnLi9haS1zZGstZXJyb3InO1xuaW1wb3J0IHsgZ2V0RXJyb3JNZXNzYWdlIH0gZnJvbSAnLi9nZXQtZXJyb3ItbWVzc2FnZSc7XG5cbmNvbnN0IG5hbWUgPSAnQUlfVHlwZVZhbGlkYXRpb25FcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgVHlwZVZhbGlkYXRpb25FcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgdmFsdWU6IHVua25vd247XG5cbiAgY29uc3RydWN0b3IoeyB2YWx1ZSwgY2F1c2UgfTogeyB2YWx1ZTogdW5rbm93bjsgY2F1c2U6IHVua25vd24gfSkge1xuICAgIHN1cGVyKHtcbiAgICAgIG5hbWUsXG4gICAgICBtZXNzYWdlOlxuICAgICAgICBgVHlwZSB2YWxpZGF0aW9uIGZhaWxlZDogYCArXG4gICAgICAgIGBWYWx1ZTogJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9LlxcbmAgK1xuICAgICAgICBgRXJyb3IgbWVzc2FnZTogJHtnZXRFcnJvck1lc3NhZ2UoY2F1c2UpfWAsXG4gICAgICBjYXVzZSxcbiAgICB9KTtcblxuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgVHlwZVZhbGlkYXRpb25FcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdyYXBzIGFuIGVycm9yIGludG8gYSBUeXBlVmFsaWRhdGlvbkVycm9yLlxuICAgKiBJZiB0aGUgY2F1c2UgaXMgYWxyZWFkeSBhIFR5cGVWYWxpZGF0aW9uRXJyb3Igd2l0aCB0aGUgc2FtZSB2YWx1ZSwgaXQgcmV0dXJucyB0aGUgY2F1c2UuXG4gICAqIE90aGVyd2lzZSwgaXQgY3JlYXRlcyBhIG5ldyBUeXBlVmFsaWRhdGlvbkVycm9yLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIHdyYXBwaW5nIHRoZSBlcnJvci5cbiAgICogQHBhcmFtIHt1bmtub3dufSBwYXJhbXMudmFsdWUgLSBUaGUgdmFsdWUgdGhhdCBmYWlsZWQgdmFsaWRhdGlvbi5cbiAgICogQHBhcmFtIHt1bmtub3dufSBwYXJhbXMuY2F1c2UgLSBUaGUgb3JpZ2luYWwgZXJyb3Igb3IgY2F1c2Ugb2YgdGhlIHZhbGlkYXRpb24gZmFpbHVyZS5cbiAgICogQHJldHVybnMge1R5cGVWYWxpZGF0aW9uRXJyb3J9IEEgVHlwZVZhbGlkYXRpb25FcnJvciBpbnN0YW5jZS5cbiAgICovXG4gIHN0YXRpYyB3cmFwKHtcbiAgICB2YWx1ZSxcbiAgICBjYXVzZSxcbiAgfToge1xuICAgIHZhbHVlOiB1bmtub3duO1xuICAgIGNhdXNlOiB1bmtub3duO1xuICB9KTogVHlwZVZhbGlkYXRpb25FcnJvciB7XG4gICAgcmV0dXJuIFR5cGVWYWxpZGF0aW9uRXJyb3IuaXNJbnN0YW5jZShjYXVzZSkgJiYgY2F1c2UudmFsdWUgPT09IHZhbHVlXG4gICAgICA/IGNhdXNlXG4gICAgICA6IG5ldyBUeXBlVmFsaWRhdGlvbkVycm9yKHsgdmFsdWUsIGNhdXNlIH0pO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJy4vYWktc2RrLWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdBSV9VbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IGZ1bmN0aW9uYWxpdHk6IHN0cmluZztcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgZnVuY3Rpb25hbGl0eSxcbiAgICBtZXNzYWdlID0gYCcke2Z1bmN0aW9uYWxpdHl9JyBmdW5jdGlvbmFsaXR5IG5vdCBzdXBwb3J0ZWQuYCxcbiAgfToge1xuICAgIGZ1bmN0aW9uYWxpdHk6IHN0cmluZztcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlIH0pO1xuICAgIHRoaXMuZnVuY3Rpb25hbGl0eSA9IGZ1bmN0aW9uYWxpdHk7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBKU09OQXJyYXksIEpTT05PYmplY3QsIEpTT05WYWx1ZSB9IGZyb20gJy4vanNvbi12YWx1ZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0pTT05WYWx1ZSh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIEpTT05WYWx1ZSB7XG4gIGlmIChcbiAgICB2YWx1ZSA9PT0gbnVsbCB8fFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHxcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8XG4gICAgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbidcbiAgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWUuZXZlcnkoaXNKU09OVmFsdWUpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModmFsdWUpLmV2ZXJ5KFxuICAgICAgKFtrZXksIHZhbF0pID0+IHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnICYmIGlzSlNPTlZhbHVlKHZhbCksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSlNPTkFycmF5KHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgSlNPTkFycmF5IHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmV2ZXJ5KGlzSlNPTlZhbHVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSlNPTk9iamVjdCh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIEpTT05PYmplY3Qge1xuICByZXR1cm4gKFxuICAgIHZhbHVlICE9IG51bGwgJiZcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgT2JqZWN0LmVudHJpZXModmFsdWUpLmV2ZXJ5KFxuICAgICAgKFtrZXksIHZhbF0pID0+IHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnICYmIGlzSlNPTlZhbHVlKHZhbCksXG4gICAgKVxuICApO1xufVxuIiwgIi8qKlxuICogVGhlIHR5cGUgb2YgZXJyb3IgdGhhdCBvY2N1cnJlZC5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgRXJyb3JUeXBlID0gJ2ludmFsaWQtcmV0cnknIHwgJ3Vua25vd24tZmllbGQnXG5cbi8qKlxuICogRXJyb3IgdGhyb3duIHdoZW4gZW5jb3VudGVyaW5nIGFuIGlzc3VlIGR1cmluZyBwYXJzaW5nLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFBhcnNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBlcnJvciB0aGF0IG9jY3VycmVkLlxuICAgKi9cbiAgdHlwZTogRXJyb3JUeXBlXG5cbiAgLyoqXG4gICAqIEluIHRoZSBjYXNlIG9mIGFuIHVua25vd24gZmllbGQgZW5jb3VudGVyZWQgaW4gdGhlIHN0cmVhbSwgdGhpcyB3aWxsIGJlIHRoZSBmaWVsZCBuYW1lLlxuICAgKi9cbiAgZmllbGQ/OiBzdHJpbmcgfCB1bmRlZmluZWRcblxuICAvKipcbiAgICogSW4gdGhlIGNhc2Ugb2YgYW4gdW5rbm93biBmaWVsZCBlbmNvdW50ZXJlZCBpbiB0aGUgc3RyZWFtLCB0aGlzIHdpbGwgYmUgdGhlIHZhbHVlIG9mIHRoZSBmaWVsZC5cbiAgICovXG4gIHZhbHVlPzogc3RyaW5nIHwgdW5kZWZpbmVkXG5cbiAgLyoqXG4gICAqIFRoZSBsaW5lIHRoYXQgY2F1c2VkIHRoZSBlcnJvciwgaWYgYXZhaWxhYmxlLlxuICAgKi9cbiAgbGluZT86IHN0cmluZyB8IHVuZGVmaW5lZFxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIG1lc3NhZ2U6IHN0cmluZyxcbiAgICBvcHRpb25zOiB7dHlwZTogRXJyb3JUeXBlOyBmaWVsZD86IHN0cmluZzsgdmFsdWU/OiBzdHJpbmc7IGxpbmU/OiBzdHJpbmd9LFxuICApIHtcbiAgICBzdXBlcihtZXNzYWdlKVxuICAgIHRoaXMubmFtZSA9ICdQYXJzZUVycm9yJ1xuICAgIHRoaXMudHlwZSA9IG9wdGlvbnMudHlwZVxuICAgIHRoaXMuZmllbGQgPSBvcHRpb25zLmZpZWxkXG4gICAgdGhpcy52YWx1ZSA9IG9wdGlvbnMudmFsdWVcbiAgICB0aGlzLmxpbmUgPSBvcHRpb25zLmxpbmVcbiAgfVxufVxuIiwgIi8qKlxuICogRXZlbnRTb3VyY2UvU2VydmVyLVNlbnQgRXZlbnRzIHBhcnNlclxuICogQHNlZSBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zZXJ2ZXItc2VudC1ldmVudHMuaHRtbFxuICovXG5pbXBvcnQge1BhcnNlRXJyb3J9IGZyb20gJy4vZXJyb3JzLnRzJ1xuaW1wb3J0IHR5cGUge0V2ZW50U291cmNlUGFyc2VyLCBQYXJzZXJDYWxsYmFja3N9IGZyb20gJy4vdHlwZXMudHMnXG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbmZ1bmN0aW9uIG5vb3AoX2FyZzogdW5rbm93bikge1xuICAvLyBpbnRlbnRpb25hbCBub29wXG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBFdmVudFNvdXJjZSBwYXJzZXIuXG4gKlxuICogQHBhcmFtIGNhbGxiYWNrcyAtIENhbGxiYWNrcyB0byBpbnZva2Ugb24gZGlmZmVyZW50IHBhcnNpbmcgZXZlbnRzOlxuICogICAtIGBvbkV2ZW50YCB3aGVuIGEgbmV3IGV2ZW50IGlzIHBhcnNlZFxuICogICAtIGBvbkVycm9yYCB3aGVuIGFuIGVycm9yIG9jY3Vyc1xuICogICAtIGBvblJldHJ5YCB3aGVuIGEgbmV3IHJlY29ubmVjdGlvbiBpbnRlcnZhbCBoYXMgYmVlbiBzZW50IGZyb20gdGhlIHNlcnZlclxuICogICAtIGBvbkNvbW1lbnRgIHdoZW4gYSBjb21tZW50IGlzIGVuY291bnRlcmVkIGluIHRoZSBzdHJlYW1cbiAqXG4gKiBAcmV0dXJucyBBIG5ldyBFdmVudFNvdXJjZSBwYXJzZXIsIHdpdGggYHBhcnNlYCBhbmQgYHJlc2V0YCBtZXRob2RzLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGFyc2VyKGNhbGxiYWNrczogUGFyc2VyQ2FsbGJhY2tzKTogRXZlbnRTb3VyY2VQYXJzZXIge1xuICBpZiAodHlwZW9mIGNhbGxiYWNrcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnYGNhbGxiYWNrc2AgbXVzdCBiZSBhbiBvYmplY3QsIGdvdCBhIGZ1bmN0aW9uIGluc3RlYWQuIERpZCB5b3UgbWVhbiBge29uRXZlbnQ6IGZufWA/JyxcbiAgICApXG4gIH1cblxuICBjb25zdCB7b25FdmVudCA9IG5vb3AsIG9uRXJyb3IgPSBub29wLCBvblJldHJ5ID0gbm9vcCwgb25Db21tZW50fSA9IGNhbGxiYWNrc1xuXG4gIGxldCBpbmNvbXBsZXRlTGluZSA9ICcnXG5cbiAgbGV0IGlzRmlyc3RDaHVuayA9IHRydWVcbiAgbGV0IGlkOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgbGV0IGRhdGEgPSAnJ1xuICBsZXQgZXZlbnRUeXBlID0gJydcblxuICBmdW5jdGlvbiBmZWVkKG5ld0NodW5rOiBzdHJpbmcpIHtcbiAgICAvLyBTdHJpcCBhbnkgVVRGOCBieXRlIG9yZGVyIG1hcmsgKEJPTSkgYXQgdGhlIHN0YXJ0IG9mIHRoZSBzdHJlYW1cbiAgICBjb25zdCBjaHVuayA9IGlzRmlyc3RDaHVuayA/IG5ld0NodW5rLnJlcGxhY2UoL15cXHhFRlxceEJCXFx4QkYvLCAnJykgOiBuZXdDaHVua1xuXG4gICAgLy8gSWYgdGhlcmUgd2FzIGEgcHJldmlvdXMgaW5jb21wbGV0ZSBsaW5lLCBhcHBlbmQgaXQgdG8gdGhlIG5ldyBjaHVuayxcbiAgICAvLyBzbyB3ZSBtYXkgcHJvY2VzcyBpdCB0b2dldGhlciBhcyBhIG5ldyAoaG9wZWZ1bGx5IGNvbXBsZXRlKSBjaHVuay5cbiAgICBjb25zdCBbY29tcGxldGUsIGluY29tcGxldGVdID0gc3BsaXRMaW5lcyhgJHtpbmNvbXBsZXRlTGluZX0ke2NodW5rfWApXG5cbiAgICBmb3IgKGNvbnN0IGxpbmUgb2YgY29tcGxldGUpIHtcbiAgICAgIHBhcnNlTGluZShsaW5lKVxuICAgIH1cblxuICAgIGluY29tcGxldGVMaW5lID0gaW5jb21wbGV0ZVxuICAgIGlzRmlyc3RDaHVuayA9IGZhbHNlXG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUxpbmUobGluZTogc3RyaW5nKSB7XG4gICAgLy8gSWYgdGhlIGxpbmUgaXMgZW1wdHkgKGEgYmxhbmsgbGluZSksIGRpc3BhdGNoIHRoZSBldmVudFxuICAgIGlmIChsaW5lID09PSAnJykge1xuICAgICAgZGlzcGF0Y2hFdmVudCgpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgbGluZSBzdGFydHMgd2l0aCBhIFUrMDAzQSBDT0xPTiBjaGFyYWN0ZXIgKDopLCBpZ25vcmUgdGhlIGxpbmUuXG4gICAgaWYgKGxpbmUuc3RhcnRzV2l0aCgnOicpKSB7XG4gICAgICBpZiAob25Db21tZW50KSB7XG4gICAgICAgIG9uQ29tbWVudChsaW5lLnNsaWNlKGxpbmUuc3RhcnRzV2l0aCgnOiAnKSA/IDIgOiAxKSlcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIElmIHRoZSBsaW5lIGNvbnRhaW5zIGEgVSswMDNBIENPTE9OIGNoYXJhY3RlciAoOilcbiAgICBjb25zdCBmaWVsZFNlcGFyYXRvckluZGV4ID0gbGluZS5pbmRleE9mKCc6JylcbiAgICBpZiAoZmllbGRTZXBhcmF0b3JJbmRleCAhPT0gLTEpIHtcbiAgICAgIC8vIENvbGxlY3QgdGhlIGNoYXJhY3RlcnMgb24gdGhlIGxpbmUgYmVmb3JlIHRoZSBmaXJzdCBVKzAwM0EgQ09MT04gY2hhcmFjdGVyICg6KSxcbiAgICAgIC8vIGFuZCBsZXQgYGZpZWxkYCBiZSB0aGF0IHN0cmluZy5cbiAgICAgIGNvbnN0IGZpZWxkID0gbGluZS5zbGljZSgwLCBmaWVsZFNlcGFyYXRvckluZGV4KVxuXG4gICAgICAvLyBDb2xsZWN0IHRoZSBjaGFyYWN0ZXJzIG9uIHRoZSBsaW5lIGFmdGVyIHRoZSBmaXJzdCBVKzAwM0EgQ09MT04gY2hhcmFjdGVyICg6KSxcbiAgICAgIC8vIGFuZCBsZXQgYHZhbHVlYCBiZSB0aGF0IHN0cmluZy4gSWYgdmFsdWUgc3RhcnRzIHdpdGggYSBVKzAwMjAgU1BBQ0UgY2hhcmFjdGVyLFxuICAgICAgLy8gcmVtb3ZlIGl0IGZyb20gdmFsdWUuXG4gICAgICBjb25zdCBvZmZzZXQgPSBsaW5lW2ZpZWxkU2VwYXJhdG9ySW5kZXggKyAxXSA9PT0gJyAnID8gMiA6IDFcbiAgICAgIGNvbnN0IHZhbHVlID0gbGluZS5zbGljZShmaWVsZFNlcGFyYXRvckluZGV4ICsgb2Zmc2V0KVxuXG4gICAgICBwcm9jZXNzRmllbGQoZmllbGQsIHZhbHVlLCBsaW5lKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gT3RoZXJ3aXNlLCB0aGUgc3RyaW5nIGlzIG5vdCBlbXB0eSBidXQgZG9lcyBub3QgY29udGFpbiBhIFUrMDAzQSBDT0xPTiBjaGFyYWN0ZXIgKDopXG4gICAgLy8gUHJvY2VzcyB0aGUgZmllbGQgdXNpbmcgdGhlIHdob2xlIGxpbmUgYXMgdGhlIGZpZWxkIG5hbWUsIGFuZCBhbiBlbXB0eSBzdHJpbmcgYXMgdGhlIGZpZWxkIHZhbHVlLlxuICAgIC8vIPCfkYYgVGhpcyBpcyBhY2NvcmRpbmcgdG8gc3BlYy4gVGhhdCBtZWFucyB0aGF0IGEgbGluZSB0aGF0IGhhcyB0aGUgdmFsdWUgYGRhdGFgIHdpbGwgcmVzdWx0IGluXG4gICAgLy8gYSBuZXdsaW5lIGJlaW5nIGFkZGVkIHRvIHRoZSBjdXJyZW50IGBkYXRhYCBidWZmZXIsIGZvciBpbnN0YW5jZS5cbiAgICBwcm9jZXNzRmllbGQobGluZSwgJycsIGxpbmUpXG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzRmllbGQoZmllbGQ6IHN0cmluZywgdmFsdWU6IHN0cmluZywgbGluZTogc3RyaW5nKSB7XG4gICAgLy8gRmllbGQgbmFtZXMgbXVzdCBiZSBjb21wYXJlZCBsaXRlcmFsbHksIHdpdGggbm8gY2FzZSBmb2xkaW5nIHBlcmZvcm1lZC5cbiAgICBzd2l0Y2ggKGZpZWxkKSB7XG4gICAgICBjYXNlICdldmVudCc6XG4gICAgICAgIC8vIFNldCB0aGUgYGV2ZW50IHR5cGVgIGJ1ZmZlciB0byBmaWVsZCB2YWx1ZVxuICAgICAgICBldmVudFR5cGUgPSB2YWx1ZVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnZGF0YSc6XG4gICAgICAgIC8vIEFwcGVuZCB0aGUgZmllbGQgdmFsdWUgdG8gdGhlIGBkYXRhYCBidWZmZXIsIHRoZW4gYXBwZW5kIGEgc2luZ2xlIFUrMDAwQSBMSU5FIEZFRUQoTEYpXG4gICAgICAgIC8vIGNoYXJhY3RlciB0byB0aGUgYGRhdGFgIGJ1ZmZlci5cbiAgICAgICAgZGF0YSA9IGAke2RhdGF9JHt2YWx1ZX1cXG5gXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdpZCc6XG4gICAgICAgIC8vIElmIHRoZSBmaWVsZCB2YWx1ZSBkb2VzIG5vdCBjb250YWluIFUrMDAwMCBOVUxMLCB0aGVuIHNldCB0aGUgYElEYCBidWZmZXIgdG9cbiAgICAgICAgLy8gdGhlIGZpZWxkIHZhbHVlLiBPdGhlcndpc2UsIGlnbm9yZSB0aGUgZmllbGQuXG4gICAgICAgIGlkID0gdmFsdWUuaW5jbHVkZXMoJ1xcMCcpID8gdW5kZWZpbmVkIDogdmFsdWVcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3JldHJ5JzpcbiAgICAgICAgLy8gSWYgdGhlIGZpZWxkIHZhbHVlIGNvbnNpc3RzIG9mIG9ubHkgQVNDSUkgZGlnaXRzLCB0aGVuIGludGVycHJldCB0aGUgZmllbGQgdmFsdWUgYXMgYW5cbiAgICAgICAgLy8gaW50ZWdlciBpbiBiYXNlIHRlbiwgYW5kIHNldCB0aGUgZXZlbnQgc3RyZWFtJ3MgcmVjb25uZWN0aW9uIHRpbWUgdG8gdGhhdCBpbnRlZ2VyLlxuICAgICAgICAvLyBPdGhlcndpc2UsIGlnbm9yZSB0aGUgZmllbGQuXG4gICAgICAgIGlmICgvXlxcZCskLy50ZXN0KHZhbHVlKSkge1xuICAgICAgICAgIG9uUmV0cnkocGFyc2VJbnQodmFsdWUsIDEwKSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbkVycm9yKFxuICAgICAgICAgICAgbmV3IFBhcnNlRXJyb3IoYEludmFsaWQgXFxgcmV0cnlcXGAgdmFsdWU6IFwiJHt2YWx1ZX1cImAsIHtcbiAgICAgICAgICAgICAgdHlwZTogJ2ludmFsaWQtcmV0cnknLFxuICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgbGluZSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCB0aGUgZmllbGQgaXMgaWdub3JlZC5cbiAgICAgICAgb25FcnJvcihcbiAgICAgICAgICBuZXcgUGFyc2VFcnJvcihcbiAgICAgICAgICAgIGBVbmtub3duIGZpZWxkIFwiJHtmaWVsZC5sZW5ndGggPiAyMCA/IGAke2ZpZWxkLnNsaWNlKDAsIDIwKX3igKZgIDogZmllbGR9XCJgLFxuICAgICAgICAgICAge3R5cGU6ICd1bmtub3duLWZpZWxkJywgZmllbGQsIHZhbHVlLCBsaW5lfSxcbiAgICAgICAgICApLFxuICAgICAgICApXG4gICAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGlzcGF0Y2hFdmVudCgpIHtcbiAgICBjb25zdCBzaG91bGREaXNwYXRjaCA9IGRhdGEubGVuZ3RoID4gMFxuICAgIGlmIChzaG91bGREaXNwYXRjaCkge1xuICAgICAgb25FdmVudCh7XG4gICAgICAgIGlkLFxuICAgICAgICBldmVudDogZXZlbnRUeXBlIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgLy8gSWYgdGhlIGRhdGEgYnVmZmVyJ3MgbGFzdCBjaGFyYWN0ZXIgaXMgYSBVKzAwMEEgTElORSBGRUVEIChMRikgY2hhcmFjdGVyLFxuICAgICAgICAvLyB0aGVuIHJlbW92ZSB0aGUgbGFzdCBjaGFyYWN0ZXIgZnJvbSB0aGUgZGF0YSBidWZmZXIuXG4gICAgICAgIGRhdGE6IGRhdGEuZW5kc1dpdGgoJ1xcbicpID8gZGF0YS5zbGljZSgwLCAtMSkgOiBkYXRhLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBSZXNldCBmb3IgdGhlIG5leHQgZXZlbnRcbiAgICBpZCA9IHVuZGVmaW5lZFxuICAgIGRhdGEgPSAnJ1xuICAgIGV2ZW50VHlwZSA9ICcnXG4gIH1cblxuICBmdW5jdGlvbiByZXNldChvcHRpb25zOiB7Y29uc3VtZT86IGJvb2xlYW59ID0ge30pIHtcbiAgICBpZiAoaW5jb21wbGV0ZUxpbmUgJiYgb3B0aW9ucy5jb25zdW1lKSB7XG4gICAgICBwYXJzZUxpbmUoaW5jb21wbGV0ZUxpbmUpXG4gICAgfVxuXG4gICAgaXNGaXJzdENodW5rID0gdHJ1ZVxuICAgIGlkID0gdW5kZWZpbmVkXG4gICAgZGF0YSA9ICcnXG4gICAgZXZlbnRUeXBlID0gJydcbiAgICBpbmNvbXBsZXRlTGluZSA9ICcnXG4gIH1cblxuICByZXR1cm4ge2ZlZWQsIHJlc2V0fVxufVxuXG4vKipcbiAqIEZvciB0aGUgZ2l2ZW4gYGNodW5rYCwgc3BsaXQgaXQgaW50byBsaW5lcyBhY2NvcmRpbmcgdG8gc3BlYywgYW5kIHJldHVybiBhbnkgcmVtYWluaW5nIGluY29tcGxldGUgbGluZS5cbiAqXG4gKiBAcGFyYW0gY2h1bmsgLSBUaGUgY2h1bmsgdG8gc3BsaXQgaW50byBsaW5lc1xuICogQHJldHVybnMgQSB0dXBsZSBjb250YWluaW5nIGFuIGFycmF5IG9mIGNvbXBsZXRlIGxpbmVzLCBhbmQgYW55IHJlbWFpbmluZyBpbmNvbXBsZXRlIGxpbmVcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBzcGxpdExpbmVzKGNodW5rOiBzdHJpbmcpOiBbY29tcGxldGU6IEFycmF5PHN0cmluZz4sIGluY29tcGxldGU6IHN0cmluZ10ge1xuICAvKipcbiAgICogQWNjb3JkaW5nIHRvIHRoZSBzcGVjLCBhIGxpbmUgaXMgdGVybWluYXRlZCBieSBlaXRoZXI6XG4gICAqIC0gVSswMDBEIENBUlJJQUdFIFJFVFVSTiBVKzAwMEEgTElORSBGRUVEIChDUkxGKSBjaGFyYWN0ZXIgcGFpclxuICAgKiAtIGEgc2luZ2xlIFUrMDAwQSBMSU5FIEZFRUQoTEYpIGNoYXJhY3RlciBub3QgcHJlY2VkZWQgYnkgYSBVKzAwMEQgQ0FSUklBR0UgUkVUVVJOKENSKSBjaGFyYWN0ZXJcbiAgICogLSBhIHNpbmdsZSBVKzAwMEQgQ0FSUklBR0UgUkVUVVJOKENSKSBjaGFyYWN0ZXIgbm90IGZvbGxvd2VkIGJ5IGEgVSswMDBBIExJTkUgRkVFRChMRikgY2hhcmFjdGVyXG4gICAqL1xuICBjb25zdCBsaW5lczogQXJyYXk8c3RyaW5nPiA9IFtdXG4gIGxldCBpbmNvbXBsZXRlTGluZSA9ICcnXG4gIGxldCBzZWFyY2hJbmRleCA9IDBcblxuICB3aGlsZSAoc2VhcmNoSW5kZXggPCBjaHVuay5sZW5ndGgpIHtcbiAgICAvLyBGaW5kIG5leHQgbGluZSB0ZXJtaW5hdG9yXG4gICAgY29uc3QgY3JJbmRleCA9IGNodW5rLmluZGV4T2YoJ1xccicsIHNlYXJjaEluZGV4KVxuICAgIGNvbnN0IGxmSW5kZXggPSBjaHVuay5pbmRleE9mKCdcXG4nLCBzZWFyY2hJbmRleClcblxuICAgIC8vIERldGVybWluZSBsaW5lIGVuZFxuICAgIGxldCBsaW5lRW5kID0gLTFcbiAgICBpZiAoY3JJbmRleCAhPT0gLTEgJiYgbGZJbmRleCAhPT0gLTEpIHtcbiAgICAgIC8vIENSTEYgY2FzZVxuICAgICAgbGluZUVuZCA9IE1hdGgubWluKGNySW5kZXgsIGxmSW5kZXgpXG4gICAgfSBlbHNlIGlmIChjckluZGV4ICE9PSAtMSkge1xuICAgICAgLy8gQ1IgYXQgdGhlIGVuZCBvZiBhIGNodW5rIG1pZ2h0IGJlIHBhcnQgb2YgYSBDUkxGIHNlcXVlbmNlIHRoYXQgc3BhbnMgY2h1bmtzLFxuICAgICAgLy8gc28gd2Ugc2hvdWxkbid0IHRyZWF0IGl0IGFzIGEgbGluZSB0ZXJtaW5hdG9yICh5ZXQpXG4gICAgICBpZiAoY3JJbmRleCA9PT0gY2h1bmsubGVuZ3RoIC0gMSkge1xuICAgICAgICBsaW5lRW5kID0gLTFcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpbmVFbmQgPSBjckluZGV4XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChsZkluZGV4ICE9PSAtMSkge1xuICAgICAgbGluZUVuZCA9IGxmSW5kZXhcbiAgICB9XG5cbiAgICAvLyBFeHRyYWN0IGxpbmUgaWYgdGVybWluYXRvciBmb3VuZFxuICAgIGlmIChsaW5lRW5kID09PSAtMSkge1xuICAgICAgLy8gTm8gdGVybWluYXRvciBmb3VuZCwgcmVzdCBpcyBpbmNvbXBsZXRlXG4gICAgICBpbmNvbXBsZXRlTGluZSA9IGNodW5rLnNsaWNlKHNlYXJjaEluZGV4KVxuICAgICAgYnJlYWtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbGluZSA9IGNodW5rLnNsaWNlKHNlYXJjaEluZGV4LCBsaW5lRW5kKVxuICAgICAgbGluZXMucHVzaChsaW5lKVxuXG4gICAgICAvLyBNb3ZlIHBhc3QgbGluZSB0ZXJtaW5hdG9yXG4gICAgICBzZWFyY2hJbmRleCA9IGxpbmVFbmQgKyAxXG4gICAgICBpZiAoY2h1bmtbc2VhcmNoSW5kZXggLSAxXSA9PT0gJ1xccicgJiYgY2h1bmtbc2VhcmNoSW5kZXhdID09PSAnXFxuJykge1xuICAgICAgICBzZWFyY2hJbmRleCsrXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFtsaW5lcywgaW5jb21wbGV0ZUxpbmVdXG59XG4iLCAiaW1wb3J0IHtjcmVhdGVQYXJzZXJ9IGZyb20gJy4vcGFyc2UudHMnXG5pbXBvcnQgdHlwZSB7RXZlbnRTb3VyY2VNZXNzYWdlLCBFdmVudFNvdXJjZVBhcnNlcn0gZnJvbSAnLi90eXBlcy50cydcblxuLyoqXG4gKiBPcHRpb25zIGZvciB0aGUgRXZlbnRTb3VyY2VQYXJzZXJTdHJlYW0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0cmVhbU9wdGlvbnMge1xuICAvKipcbiAgICogQmVoYXZpb3Igd2hlbiBhIHBhcnNpbmcgZXJyb3Igb2NjdXJzLlxuICAgKlxuICAgKiAtIEEgY3VzdG9tIGZ1bmN0aW9uIGNhbiBiZSBwcm92aWRlZCB0byBoYW5kbGUgdGhlIGVycm9yLlxuICAgKiAtIGAndGVybWluYXRlJ2Agd2lsbCBlcnJvciB0aGUgc3RyZWFtIGFuZCBzdG9wIHBhcnNpbmcuXG4gICAqIC0gQW55IG90aGVyIHZhbHVlIHdpbGwgaWdub3JlIHRoZSBlcnJvciBhbmQgY29udGludWUgcGFyc2luZy5cbiAgICpcbiAgICogQGRlZmF1bHRWYWx1ZSBgdW5kZWZpbmVkYFxuICAgKi9cbiAgb25FcnJvcj86ICgndGVybWluYXRlJyB8ICgoZXJyb3I6IEVycm9yKSA9PiB2b2lkKSkgfCB1bmRlZmluZWRcblxuICAvKipcbiAgICogQ2FsbGJhY2sgZm9yIHdoZW4gYSByZWNvbm5lY3Rpb24gaW50ZXJ2YWwgaXMgc2VudCBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAqXG4gICAqIEBwYXJhbSByZXRyeSAtIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIHJlY29ubmVjdGluZy5cbiAgICovXG4gIG9uUmV0cnk/OiAoKHJldHJ5OiBudW1iZXIpID0+IHZvaWQpIHwgdW5kZWZpbmVkXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZvciB3aGVuIGEgY29tbWVudCBpcyBlbmNvdW50ZXJlZCBpbiB0aGUgc3RyZWFtLlxuICAgKlxuICAgKiBAcGFyYW0gY29tbWVudCAtIFRoZSBjb21tZW50IGVuY291bnRlcmVkIGluIHRoZSBzdHJlYW0uXG4gICAqL1xuICBvbkNvbW1lbnQ/OiAoKGNvbW1lbnQ6IHN0cmluZykgPT4gdm9pZCkgfCB1bmRlZmluZWRcbn1cblxuLyoqXG4gKiBBIFRyYW5zZm9ybVN0cmVhbSB0aGF0IGluZ2VzdHMgYSBzdHJlYW0gb2Ygc3RyaW5ncyBhbmQgcHJvZHVjZXMgYSBzdHJlYW0gb2YgYEV2ZW50U291cmNlTWVzc2FnZWAuXG4gKlxuICogQGV4YW1wbGUgQmFzaWMgdXNhZ2VcbiAqIGBgYFxuICogY29uc3QgZXZlbnRTdHJlYW0gPVxuICogICByZXNwb25zZS5ib2R5XG4gKiAgICAgLnBpcGVUaHJvdWdoKG5ldyBUZXh0RGVjb2RlclN0cmVhbSgpKVxuICogICAgIC5waXBlVGhyb3VnaChuZXcgRXZlbnRTb3VyY2VQYXJzZXJTdHJlYW0oKSlcbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlIFRlcm1pbmF0ZSBzdHJlYW0gb24gcGFyc2luZyBlcnJvcnNcbiAqIGBgYFxuICogY29uc3QgZXZlbnRTdHJlYW0gPVxuICogIHJlc3BvbnNlLmJvZHlcbiAqICAgLnBpcGVUaHJvdWdoKG5ldyBUZXh0RGVjb2RlclN0cmVhbSgpKVxuICogICAucGlwZVRocm91Z2gobmV3IEV2ZW50U291cmNlUGFyc2VyU3RyZWFtKHt0ZXJtaW5hdGVPbkVycm9yOiB0cnVlfSkpXG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBFdmVudFNvdXJjZVBhcnNlclN0cmVhbSBleHRlbmRzIFRyYW5zZm9ybVN0cmVhbTxzdHJpbmcsIEV2ZW50U291cmNlTWVzc2FnZT4ge1xuICBjb25zdHJ1Y3Rvcih7b25FcnJvciwgb25SZXRyeSwgb25Db21tZW50fTogU3RyZWFtT3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IHBhcnNlciE6IEV2ZW50U291cmNlUGFyc2VyXG5cbiAgICBzdXBlcih7XG4gICAgICBzdGFydChjb250cm9sbGVyKSB7XG4gICAgICAgIHBhcnNlciA9IGNyZWF0ZVBhcnNlcih7XG4gICAgICAgICAgb25FdmVudDogKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoZXZlbnQpXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkVycm9yKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAob25FcnJvciA9PT0gJ3Rlcm1pbmF0ZScpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lcnJvcihlcnJvcilcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9uRXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgb25FcnJvcihlcnJvcilcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWdub3JlIGJ5IGRlZmF1bHRcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uUmV0cnksXG4gICAgICAgICAgb25Db21tZW50LFxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHRyYW5zZm9ybShjaHVuaykge1xuICAgICAgICBwYXJzZXIuZmVlZChjaHVuaylcbiAgICAgIH0sXG4gICAgfSlcbiAgfVxufVxuXG5leHBvcnQge3R5cGUgRXJyb3JUeXBlLCBQYXJzZUVycm9yfSBmcm9tICcuL2Vycm9ycy50cydcbmV4cG9ydCB0eXBlIHtFdmVudFNvdXJjZU1lc3NhZ2V9IGZyb20gJy4vdHlwZXMudHMnXG4iLCAiZXhwb3J0ICogYXMgY29yZSBmcm9tIFwiLi4vY29yZS9pbmRleC5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vc2NoZW1hcy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vY2hlY2tzLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3BhcnNlLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wYXQuanNcIjtcbi8vIHpvZC1zcGVjaWZpZWRcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gXCIuLi9jb3JlL2luZGV4LmpzXCI7XG5pbXBvcnQgZW4gZnJvbSBcIi4uL2xvY2FsZXMvZW4uanNcIjtcbmNvbmZpZyhlbigpKTtcbmV4cG9ydCB7IGdsb2JhbFJlZ2lzdHJ5LCByZWdpc3RyeSwgY29uZmlnLCAkb3V0cHV0LCAkaW5wdXQsICRicmFuZCwgY2xvbmUsIHJlZ2V4ZXMsIHRyZWVpZnlFcnJvciwgcHJldHRpZnlFcnJvciwgZm9ybWF0RXJyb3IsIGZsYXR0ZW5FcnJvciwgdG9KU09OU2NoZW1hLCBUaW1lUHJlY2lzaW9uLCB1dGlsLCBORVZFUiwgfSBmcm9tIFwiLi4vY29yZS9pbmRleC5qc1wiO1xuZXhwb3J0ICogYXMgbG9jYWxlcyBmcm9tIFwiLi4vbG9jYWxlcy9pbmRleC5qc1wiO1xuLy8gaXNvXG4vLyBtdXN0IGJlIGV4cG9ydGVkIGZyb20gdG9wLWxldmVsXG4vLyBodHRwczovL2dpdGh1Yi5jb20vY29saW5oYWNrcy96b2QvaXNzdWVzLzQ0OTFcbmV4cG9ydCB7IFpvZElTT0RhdGVUaW1lLCBab2RJU09EYXRlLCBab2RJU09UaW1lLCBab2RJU09EdXJhdGlvbiB9IGZyb20gXCIuL2lzby5qc1wiO1xuZXhwb3J0ICogYXMgaXNvIGZyb20gXCIuL2lzby5qc1wiO1xuZXhwb3J0ICogYXMgY29lcmNlIGZyb20gXCIuL2NvZXJjZS5qc1wiO1xuIiwgImV4cG9ydCAqIGZyb20gXCIuL2NvcmUuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3BhcnNlLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3NjaGVtYXMuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NoZWNrcy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vdmVyc2lvbnMuanNcIjtcbmV4cG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4vdXRpbC5qc1wiO1xuZXhwb3J0ICogYXMgcmVnZXhlcyBmcm9tIFwiLi9yZWdleGVzLmpzXCI7XG5leHBvcnQgKiBhcyBsb2NhbGVzIGZyb20gXCIuLi9sb2NhbGVzL2luZGV4LmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9yZWdpc3RyaWVzLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9kb2MuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2FwaS5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vdG8tanNvbi1zY2hlbWEuanNcIjtcbmV4cG9ydCAqIGFzIEpTT05TY2hlbWEgZnJvbSBcIi4vanNvbi1zY2hlbWEuanNcIjtcbiIsICIvKiogQSBzcGVjaWFsIGNvbnN0YW50IHdpdGggdHlwZSBgbmV2ZXJgICovXG5leHBvcnQgY29uc3QgTkVWRVIgPSBPYmplY3QuZnJlZXplKHtcbiAgICBzdGF0dXM6IFwiYWJvcnRlZFwiLFxufSk7XG5leHBvcnQgLypAX19OT19TSURFX0VGRkVDVFNfXyovIGZ1bmN0aW9uICRjb25zdHJ1Y3RvcihuYW1lLCBpbml0aWFsaXplciwgcGFyYW1zKSB7XG4gICAgZnVuY3Rpb24gaW5pdChpbnN0LCBkZWYpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaW5zdCwgXCJfem9kXCIsIHtcbiAgICAgICAgICAgIHZhbHVlOiBpbnN0Ll96b2QgPz8ge30sXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICAgIChfYSA9IGluc3QuX3pvZCkudHJhaXRzID8/IChfYS50cmFpdHMgPSBuZXcgU2V0KCkpO1xuICAgICAgICBpbnN0Ll96b2QudHJhaXRzLmFkZChuYW1lKTtcbiAgICAgICAgaW5pdGlhbGl6ZXIoaW5zdCwgZGVmKTtcbiAgICAgICAgLy8gc3VwcG9ydCBwcm90b3R5cGUgbW9kaWZpY2F0aW9uc1xuICAgICAgICBmb3IgKGNvbnN0IGsgaW4gXy5wcm90b3R5cGUpIHtcbiAgICAgICAgICAgIGlmICghKGsgaW4gaW5zdCkpXG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGluc3QsIGssIHsgdmFsdWU6IF8ucHJvdG90eXBlW2tdLmJpbmQoaW5zdCkgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdC5fem9kLmNvbnN0ciA9IF87XG4gICAgICAgIGluc3QuX3pvZC5kZWYgPSBkZWY7XG4gICAgfVxuICAgIC8vIGRvZXNuJ3Qgd29yayBpZiBQYXJlbnQgaGFzIGEgY29uc3RydWN0b3Igd2l0aCBhcmd1bWVudHNcbiAgICBjb25zdCBQYXJlbnQgPSBwYXJhbXM/LlBhcmVudCA/PyBPYmplY3Q7XG4gICAgY2xhc3MgRGVmaW5pdGlvbiBleHRlbmRzIFBhcmVudCB7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWZpbml0aW9uLCBcIm5hbWVcIiwgeyB2YWx1ZTogbmFtZSB9KTtcbiAgICBmdW5jdGlvbiBfKGRlZikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGluc3QgPSBwYXJhbXM/LlBhcmVudCA/IG5ldyBEZWZpbml0aW9uKCkgOiB0aGlzO1xuICAgICAgICBpbml0KGluc3QsIGRlZik7XG4gICAgICAgIChfYSA9IGluc3QuX3pvZCkuZGVmZXJyZWQgPz8gKF9hLmRlZmVycmVkID0gW10pO1xuICAgICAgICBmb3IgKGNvbnN0IGZuIG9mIGluc3QuX3pvZC5kZWZlcnJlZCkge1xuICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5zdDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF8sIFwiaW5pdFwiLCB7IHZhbHVlOiBpbml0IH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfLCBTeW1ib2wuaGFzSW5zdGFuY2UsIHtcbiAgICAgICAgdmFsdWU6IChpbnN0KSA9PiB7XG4gICAgICAgICAgICBpZiAocGFyYW1zPy5QYXJlbnQgJiYgaW5zdCBpbnN0YW5jZW9mIHBhcmFtcy5QYXJlbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICByZXR1cm4gaW5zdD8uX3pvZD8udHJhaXRzPy5oYXMobmFtZSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF8sIFwibmFtZVwiLCB7IHZhbHVlOiBuYW1lIH0pO1xuICAgIHJldHVybiBfO1xufVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vICAgVVRJTElUSUVTICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5leHBvcnQgY29uc3QgJGJyYW5kID0gU3ltYm9sKFwiem9kX2JyYW5kXCIpO1xuZXhwb3J0IGNsYXNzICRab2RBc3luY0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihgRW5jb3VudGVyZWQgUHJvbWlzZSBkdXJpbmcgc3luY2hyb25vdXMgcGFyc2UuIFVzZSAucGFyc2VBc3luYygpIGluc3RlYWQuYCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzICRab2RFbmNvZGVFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHN1cGVyKGBFbmNvdW50ZXJlZCB1bmlkaXJlY3Rpb25hbCB0cmFuc2Zvcm0gZHVyaW5nIGVuY29kZTogJHtuYW1lfWApO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlpvZEVuY29kZUVycm9yXCI7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGdsb2JhbENvbmZpZyA9IHt9O1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmZpZyhuZXdDb25maWcpIHtcbiAgICBpZiAobmV3Q29uZmlnKVxuICAgICAgICBPYmplY3QuYXNzaWduKGdsb2JhbENvbmZpZywgbmV3Q29uZmlnKTtcbiAgICByZXR1cm4gZ2xvYmFsQ29uZmlnO1xufVxuIiwgIi8vIGZ1bmN0aW9uc1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEVxdWFsKHZhbCkge1xuICAgIHJldHVybiB2YWw7XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0Tm90RXF1YWwodmFsKSB7XG4gICAgcmV0dXJuIHZhbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRJcyhfYXJnKSB7IH1cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnROZXZlcihfeCkge1xuICAgIHRocm93IG5ldyBFcnJvcigpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydChfKSB7IH1cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnVtVmFsdWVzKGVudHJpZXMpIHtcbiAgICBjb25zdCBudW1lcmljVmFsdWVzID0gT2JqZWN0LnZhbHVlcyhlbnRyaWVzKS5maWx0ZXIoKHYpID0+IHR5cGVvZiB2ID09PSBcIm51bWJlclwiKTtcbiAgICBjb25zdCB2YWx1ZXMgPSBPYmplY3QuZW50cmllcyhlbnRyaWVzKVxuICAgICAgICAuZmlsdGVyKChbaywgX10pID0+IG51bWVyaWNWYWx1ZXMuaW5kZXhPZigraykgPT09IC0xKVxuICAgICAgICAubWFwKChbXywgdl0pID0+IHYpO1xuICAgIHJldHVybiB2YWx1ZXM7XG59XG5leHBvcnQgZnVuY3Rpb24gam9pblZhbHVlcyhhcnJheSwgc2VwYXJhdG9yID0gXCJ8XCIpIHtcbiAgICByZXR1cm4gYXJyYXkubWFwKCh2YWwpID0+IHN0cmluZ2lmeVByaW1pdGl2ZSh2YWwpKS5qb2luKHNlcGFyYXRvcik7XG59XG5leHBvcnQgZnVuY3Rpb24ganNvblN0cmluZ2lmeVJlcGxhY2VyKF8sIHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJiaWdpbnRcIilcbiAgICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNhY2hlZChnZXR0ZXIpIHtcbiAgICBjb25zdCBzZXQgPSBmYWxzZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgICAgICBpZiAoIXNldCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZ2V0dGVyKCk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidmFsdWVcIiwgeyB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYWNoZWQgdmFsdWUgYWxyZWFkeSBzZXRcIik7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBudWxsaXNoKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0ID09PSBudWxsIHx8IGlucHV0ID09PSB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gY2xlYW5SZWdleChzb3VyY2UpIHtcbiAgICBjb25zdCBzdGFydCA9IHNvdXJjZS5zdGFydHNXaXRoKFwiXlwiKSA/IDEgOiAwO1xuICAgIGNvbnN0IGVuZCA9IHNvdXJjZS5lbmRzV2l0aChcIiRcIikgPyBzb3VyY2UubGVuZ3RoIC0gMSA6IHNvdXJjZS5sZW5ndGg7XG4gICAgcmV0dXJuIHNvdXJjZS5zbGljZShzdGFydCwgZW5kKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmbG9hdFNhZmVSZW1haW5kZXIodmFsLCBzdGVwKSB7XG4gICAgY29uc3QgdmFsRGVjQ291bnQgPSAodmFsLnRvU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzFdIHx8IFwiXCIpLmxlbmd0aDtcbiAgICBjb25zdCBzdGVwU3RyaW5nID0gc3RlcC50b1N0cmluZygpO1xuICAgIGxldCBzdGVwRGVjQ291bnQgPSAoc3RlcFN0cmluZy5zcGxpdChcIi5cIilbMV0gfHwgXCJcIikubGVuZ3RoO1xuICAgIGlmIChzdGVwRGVjQ291bnQgPT09IDAgJiYgL1xcZD9lLVxcZD8vLnRlc3Qoc3RlcFN0cmluZykpIHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBzdGVwU3RyaW5nLm1hdGNoKC9cXGQ/ZS0oXFxkPykvKTtcbiAgICAgICAgaWYgKG1hdGNoPy5bMV0pIHtcbiAgICAgICAgICAgIHN0ZXBEZWNDb3VudCA9IE51bWJlci5wYXJzZUludChtYXRjaFsxXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZGVjQ291bnQgPSB2YWxEZWNDb3VudCA+IHN0ZXBEZWNDb3VudCA/IHZhbERlY0NvdW50IDogc3RlcERlY0NvdW50O1xuICAgIGNvbnN0IHZhbEludCA9IE51bWJlci5wYXJzZUludCh2YWwudG9GaXhlZChkZWNDb3VudCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgIGNvbnN0IHN0ZXBJbnQgPSBOdW1iZXIucGFyc2VJbnQoc3RlcC50b0ZpeGVkKGRlY0NvdW50KS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgcmV0dXJuICh2YWxJbnQgJSBzdGVwSW50KSAvIDEwICoqIGRlY0NvdW50O1xufVxuY29uc3QgRVZBTFVBVElORyA9IFN5bWJvbChcImV2YWx1YXRpbmdcIik7XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lTGF6eShvYmplY3QsIGtleSwgZ2V0dGVyKSB7XG4gICAgbGV0IHZhbHVlID0gdW5kZWZpbmVkO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsIGtleSwge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IEVWQUxVQVRJTkcpIHtcbiAgICAgICAgICAgICAgICAvLyBDaXJjdWxhciByZWZlcmVuY2UgZGV0ZWN0ZWQsIHJldHVybiB1bmRlZmluZWQgdG8gYnJlYWsgdGhlIGN5Y2xlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBFVkFMVUFUSU5HO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gZ2V0dGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCh2KSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdixcbiAgICAgICAgICAgICAgICAvLyBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIG9iamVjdFtrZXldID0gdjtcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdENsb25lKG9iaikge1xuICAgIHJldHVybiBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvYmopKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25Qcm9wKHRhcmdldCwgcHJvcCwgdmFsdWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wLCB7XG4gICAgICAgIHZhbHVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlRGVmcyguLi5kZWZzKSB7XG4gICAgY29uc3QgbWVyZ2VkRGVzY3JpcHRvcnMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGRlZiBvZiBkZWZzKSB7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoZGVmKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihtZXJnZWREZXNjcmlwdG9ycywgZGVzY3JpcHRvcnMpO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoe30sIG1lcmdlZERlc2NyaXB0b3JzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZURlZihzY2hlbWEpIHtcbiAgICByZXR1cm4gbWVyZ2VEZWZzKHNjaGVtYS5fem9kLmRlZik7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudEF0UGF0aChvYmosIHBhdGgpIHtcbiAgICBpZiAoIXBhdGgpXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgcmV0dXJuIHBhdGgucmVkdWNlKChhY2MsIGtleSkgPT4gYWNjPy5ba2V5XSwgb2JqKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwcm9taXNlQWxsT2JqZWN0KHByb21pc2VzT2JqKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHByb21pc2VzT2JqKTtcbiAgICBjb25zdCBwcm9taXNlcyA9IGtleXMubWFwKChrZXkpID0+IHByb21pc2VzT2JqW2tleV0pO1xuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigocmVzdWx0cykgPT4ge1xuICAgICAgICBjb25zdCByZXNvbHZlZE9iaiA9IHt9O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlc29sdmVkT2JqW2tleXNbaV1dID0gcmVzdWx0c1tpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzb2x2ZWRPYmo7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tU3RyaW5nKGxlbmd0aCA9IDEwKSB7XG4gICAgY29uc3QgY2hhcnMgPSBcImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCI7XG4gICAgbGV0IHN0ciA9IFwiXCI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBzdHIgKz0gY2hhcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcnMubGVuZ3RoKV07XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG59XG5leHBvcnQgZnVuY3Rpb24gZXNjKHN0cikge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShzdHIpO1xufVxuZXhwb3J0IGNvbnN0IGNhcHR1cmVTdGFja1RyYWNlID0gKFwiY2FwdHVyZVN0YWNrVHJhY2VcIiBpbiBFcnJvciA/IEVycm9yLmNhcHR1cmVTdGFja1RyYWNlIDogKC4uLl9hcmdzKSA9PiB7IH0pO1xuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KGRhdGEpIHtcbiAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCIgJiYgZGF0YSAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheShkYXRhKTtcbn1cbmV4cG9ydCBjb25zdCBhbGxvd3NFdmFsID0gY2FjaGVkKCgpID0+IHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiYgbmF2aWdhdG9yPy51c2VyQWdlbnQ/LmluY2x1ZGVzKFwiQ2xvdWRmbGFyZVwiKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IEYgPSBGdW5jdGlvbjtcbiAgICAgICAgbmV3IEYoXCJcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCAoXykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufSk7XG5leHBvcnQgZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvKSB7XG4gICAgaWYgKGlzT2JqZWN0KG8pID09PSBmYWxzZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIC8vIG1vZGlmaWVkIGNvbnN0cnVjdG9yXG4gICAgY29uc3QgY3RvciA9IG8uY29uc3RydWN0b3I7XG4gICAgaWYgKGN0b3IgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgLy8gbW9kaWZpZWQgcHJvdG90eXBlXG4gICAgY29uc3QgcHJvdCA9IGN0b3IucHJvdG90eXBlO1xuICAgIGlmIChpc09iamVjdChwcm90KSA9PT0gZmFsc2UpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAvLyBjdG9yIGRvZXNuJ3QgaGF2ZSBzdGF0aWMgYGlzUHJvdG90eXBlT2ZgXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm90LCBcImlzUHJvdG90eXBlT2ZcIikgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gc2hhbGxvd0Nsb25lKG8pIHtcbiAgICBpZiAoaXNQbGFpbk9iamVjdChvKSlcbiAgICAgICAgcmV0dXJuIHsgLi4ubyB9O1xuICAgIGlmIChBcnJheS5pc0FycmF5KG8pKVxuICAgICAgICByZXR1cm4gWy4uLm9dO1xuICAgIHJldHVybiBvO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG51bUtleXMoZGF0YSkge1xuICAgIGxldCBrZXlDb3VudCA9IDA7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkpIHtcbiAgICAgICAgICAgIGtleUNvdW50Kys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGtleUNvdW50O1xufVxuZXhwb3J0IGNvbnN0IGdldFBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgcmV0dXJuIFwidW5kZWZpbmVkXCI7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiBcInN0cmluZ1wiO1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJuYW5cIiA6IFwibnVtYmVyXCI7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJib29sZWFuXCI7XG4gICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIjtcbiAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiYmlnaW50XCI7XG4gICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgIHJldHVybiBcInN5bWJvbFwiO1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLnRoZW4gJiYgdHlwZW9mIGRhdGEudGhlbiA9PT0gXCJmdW5jdGlvblwiICYmIGRhdGEuY2F0Y2ggJiYgdHlwZW9mIGRhdGEuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBcInByb21pc2VcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgTWFwICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJtYXBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgU2V0ICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJzZXRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgRGF0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcImRhdGVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGlmICh0eXBlb2YgRmlsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgRmlsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcImZpbGVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBcIm9iamVjdFwiO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGRhdGEgdHlwZTogJHt0fWApO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgcHJvcGVydHlLZXlUeXBlcyA9IG5ldyBTZXQoW1wic3RyaW5nXCIsIFwibnVtYmVyXCIsIFwic3ltYm9sXCJdKTtcbmV4cG9ydCBjb25zdCBwcmltaXRpdmVUeXBlcyA9IG5ldyBTZXQoW1wic3RyaW5nXCIsIFwibnVtYmVyXCIsIFwiYmlnaW50XCIsIFwiYm9vbGVhblwiLCBcInN5bWJvbFwiLCBcInVuZGVmaW5lZFwiXSk7XG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlUmVnZXgoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgXCJcXFxcJCZcIik7XG59XG4vLyB6b2Qtc3BlY2lmaWMgdXRpbHNcbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShpbnN0LCBkZWYsIHBhcmFtcykge1xuICAgIGNvbnN0IGNsID0gbmV3IGluc3QuX3pvZC5jb25zdHIoZGVmID8/IGluc3QuX3pvZC5kZWYpO1xuICAgIGlmICghZGVmIHx8IHBhcmFtcz8ucGFyZW50KVxuICAgICAgICBjbC5fem9kLnBhcmVudCA9IGluc3Q7XG4gICAgcmV0dXJuIGNsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZVBhcmFtcyhfcGFyYW1zKSB7XG4gICAgY29uc3QgcGFyYW1zID0gX3BhcmFtcztcbiAgICBpZiAoIXBhcmFtcylcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIGlmICh0eXBlb2YgcGFyYW1zID09PSBcInN0cmluZ1wiKVxuICAgICAgICByZXR1cm4geyBlcnJvcjogKCkgPT4gcGFyYW1zIH07XG4gICAgaWYgKHBhcmFtcz8ubWVzc2FnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChwYXJhbXM/LmVycm9yICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgc3BlY2lmeSBib3RoIGBtZXNzYWdlYCBhbmQgYGVycm9yYCBwYXJhbXNcIik7XG4gICAgICAgIHBhcmFtcy5lcnJvciA9IHBhcmFtcy5tZXNzYWdlO1xuICAgIH1cbiAgICBkZWxldGUgcGFyYW1zLm1lc3NhZ2U7XG4gICAgaWYgKHR5cGVvZiBwYXJhbXMuZXJyb3IgPT09IFwic3RyaW5nXCIpXG4gICAgICAgIHJldHVybiB7IC4uLnBhcmFtcywgZXJyb3I6ICgpID0+IHBhcmFtcy5lcnJvciB9O1xuICAgIHJldHVybiBwYXJhbXM7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVHJhbnNwYXJlbnRQcm94eShnZXR0ZXIpIHtcbiAgICBsZXQgdGFyZ2V0O1xuICAgIHJldHVybiBuZXcgUHJveHkoe30sIHtcbiAgICAgICAgZ2V0KF8sIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAgICAgICB0YXJnZXQgPz8gKHRhcmdldCA9IGdldHRlcigpKTtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0KF8sIHByb3AsIHZhbHVlLCByZWNlaXZlcikge1xuICAgICAgICAgICAgdGFyZ2V0ID8/ICh0YXJnZXQgPSBnZXR0ZXIoKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5zZXQodGFyZ2V0LCBwcm9wLCB2YWx1ZSwgcmVjZWl2ZXIpO1xuICAgICAgICB9LFxuICAgICAgICBoYXMoXywgcHJvcCkge1xuICAgICAgICAgICAgdGFyZ2V0ID8/ICh0YXJnZXQgPSBnZXR0ZXIoKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5oYXModGFyZ2V0LCBwcm9wKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVsZXRlUHJvcGVydHkoXywgcHJvcCkge1xuICAgICAgICAgICAgdGFyZ2V0ID8/ICh0YXJnZXQgPSBnZXR0ZXIoKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5kZWxldGVQcm9wZXJ0eSh0YXJnZXQsIHByb3ApO1xuICAgICAgICB9LFxuICAgICAgICBvd25LZXlzKF8pIHtcbiAgICAgICAgICAgIHRhcmdldCA/PyAodGFyZ2V0ID0gZ2V0dGVyKCkpO1xuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXywgcHJvcCkge1xuICAgICAgICAgICAgdGFyZ2V0ID8/ICh0YXJnZXQgPSBnZXR0ZXIoKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBwcm9wKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVmaW5lUHJvcGVydHkoXywgcHJvcCwgZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgdGFyZ2V0ID8/ICh0YXJnZXQgPSBnZXR0ZXIoKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3AsIGRlc2NyaXB0b3IpO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ2lmeVByaW1pdGl2ZSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYmlnaW50XCIpXG4gICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpICsgXCJuXCI7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgcmV0dXJuIGBcIiR7dmFsdWV9XCJgO1xuICAgIHJldHVybiBgJHt2YWx1ZX1gO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9wdGlvbmFsS2V5cyhzaGFwZSkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhzaGFwZSkuZmlsdGVyKChrKSA9PiB7XG4gICAgICAgIHJldHVybiBzaGFwZVtrXS5fem9kLm9wdGluID09PSBcIm9wdGlvbmFsXCIgJiYgc2hhcGVba10uX3pvZC5vcHRvdXQgPT09IFwib3B0aW9uYWxcIjtcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBOVU1CRVJfRk9STUFUX1JBTkdFUyA9IHtcbiAgICBzYWZlaW50OiBbTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIsIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSXSxcbiAgICBpbnQzMjogWy0yMTQ3NDgzNjQ4LCAyMTQ3NDgzNjQ3XSxcbiAgICB1aW50MzI6IFswLCA0Mjk0OTY3Mjk1XSxcbiAgICBmbG9hdDMyOiBbLTMuNDAyODIzNDY2Mzg1Mjg4NmUzOCwgMy40MDI4MjM0NjYzODUyODg2ZTM4XSxcbiAgICBmbG9hdDY0OiBbLU51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUVdLFxufTtcbmV4cG9ydCBjb25zdCBCSUdJTlRfRk9STUFUX1JBTkdFUyA9IHtcbiAgICBpbnQ2NDogWy8qIEBfX1BVUkVfXyovIEJpZ0ludChcIi05MjIzMzcyMDM2ODU0Nzc1ODA4XCIpLCAvKiBAX19QVVJFX18qLyBCaWdJbnQoXCI5MjIzMzcyMDM2ODU0Nzc1ODA3XCIpXSxcbiAgICB1aW50NjQ6IFsvKiBAX19QVVJFX18qLyBCaWdJbnQoMCksIC8qIEBfX1BVUkVfXyovIEJpZ0ludChcIjE4NDQ2NzQ0MDczNzA5NTUxNjE1XCIpXSxcbn07XG5leHBvcnQgZnVuY3Rpb24gcGljayhzY2hlbWEsIG1hc2spIHtcbiAgICBjb25zdCBjdXJyRGVmID0gc2NoZW1hLl96b2QuZGVmO1xuICAgIGNvbnN0IGRlZiA9IG1lcmdlRGVmcyhzY2hlbWEuX3pvZC5kZWYsIHtcbiAgICAgICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG1hc2spIHtcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gY3VyckRlZi5zaGFwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQga2V5OiBcIiR7a2V5fVwiYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghbWFza1trZXldKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gY3VyckRlZi5zaGFwZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXNzaWduUHJvcCh0aGlzLCBcInNoYXBlXCIsIG5ld1NoYXBlKTsgLy8gc2VsZi1jYWNoaW5nXG4gICAgICAgICAgICByZXR1cm4gbmV3U2hhcGU7XG4gICAgICAgIH0sXG4gICAgICAgIGNoZWNrczogW10sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb25lKHNjaGVtYSwgZGVmKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBvbWl0KHNjaGVtYSwgbWFzaykge1xuICAgIGNvbnN0IGN1cnJEZWYgPSBzY2hlbWEuX3pvZC5kZWY7XG4gICAgY29uc3QgZGVmID0gbWVyZ2VEZWZzKHNjaGVtYS5fem9kLmRlZiwge1xuICAgICAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdTaGFwZSA9IHsgLi4uc2NoZW1hLl96b2QuZGVmLnNoYXBlIH07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBtYXNrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIGN1cnJEZWYuc2hhcGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkIGtleTogXCIke2tleX1cImApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIW1hc2tba2V5XSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG5ld1NoYXBlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3NpZ25Qcm9wKHRoaXMsIFwic2hhcGVcIiwgbmV3U2hhcGUpOyAvLyBzZWxmLWNhY2hpbmdcbiAgICAgICAgICAgIHJldHVybiBuZXdTaGFwZTtcbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY2xvbmUoc2NoZW1hLCBkZWYpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZChzY2hlbWEsIHNoYXBlKSB7XG4gICAgaWYgKCFpc1BsYWluT2JqZWN0KHNoYXBlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGlucHV0IHRvIGV4dGVuZDogZXhwZWN0ZWQgYSBwbGFpbiBvYmplY3RcIik7XG4gICAgfVxuICAgIGNvbnN0IGNoZWNrcyA9IHNjaGVtYS5fem9kLmRlZi5jaGVja3M7XG4gICAgY29uc3QgaGFzQ2hlY2tzID0gY2hlY2tzICYmIGNoZWNrcy5sZW5ndGggPiAwO1xuICAgIGlmIChoYXNDaGVja3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT2JqZWN0IHNjaGVtYXMgY29udGFpbmluZyByZWZpbmVtZW50cyBjYW5ub3QgYmUgZXh0ZW5kZWQuIFVzZSBgLnNhZmVFeHRlbmQoKWAgaW5zdGVhZC5cIik7XG4gICAgfVxuICAgIGNvbnN0IGRlZiA9IG1lcmdlRGVmcyhzY2hlbWEuX3pvZC5kZWYsIHtcbiAgICAgICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICAgICAgY29uc3QgX3NoYXBlID0geyAuLi5zY2hlbWEuX3pvZC5kZWYuc2hhcGUsIC4uLnNoYXBlIH07XG4gICAgICAgICAgICBhc3NpZ25Qcm9wKHRoaXMsIFwic2hhcGVcIiwgX3NoYXBlKTsgLy8gc2VsZi1jYWNoaW5nXG4gICAgICAgICAgICByZXR1cm4gX3NoYXBlO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja3M6IFtdLFxuICAgIH0pO1xuICAgIHJldHVybiBjbG9uZShzY2hlbWEsIGRlZik7XG59XG5leHBvcnQgZnVuY3Rpb24gc2FmZUV4dGVuZChzY2hlbWEsIHNoYXBlKSB7XG4gICAgaWYgKCFpc1BsYWluT2JqZWN0KHNoYXBlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGlucHV0IHRvIHNhZmVFeHRlbmQ6IGV4cGVjdGVkIGEgcGxhaW4gb2JqZWN0XCIpO1xuICAgIH1cbiAgICBjb25zdCBkZWYgPSB7XG4gICAgICAgIC4uLnNjaGVtYS5fem9kLmRlZixcbiAgICAgICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICAgICAgY29uc3QgX3NoYXBlID0geyAuLi5zY2hlbWEuX3pvZC5kZWYuc2hhcGUsIC4uLnNoYXBlIH07XG4gICAgICAgICAgICBhc3NpZ25Qcm9wKHRoaXMsIFwic2hhcGVcIiwgX3NoYXBlKTsgLy8gc2VsZi1jYWNoaW5nXG4gICAgICAgICAgICByZXR1cm4gX3NoYXBlO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja3M6IHNjaGVtYS5fem9kLmRlZi5jaGVja3MsXG4gICAgfTtcbiAgICByZXR1cm4gY2xvbmUoc2NoZW1hLCBkZWYpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlKGEsIGIpIHtcbiAgICBjb25zdCBkZWYgPSBtZXJnZURlZnMoYS5fem9kLmRlZiwge1xuICAgICAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgICAgICBjb25zdCBfc2hhcGUgPSB7IC4uLmEuX3pvZC5kZWYuc2hhcGUsIC4uLmIuX3pvZC5kZWYuc2hhcGUgfTtcbiAgICAgICAgICAgIGFzc2lnblByb3AodGhpcywgXCJzaGFwZVwiLCBfc2hhcGUpOyAvLyBzZWxmLWNhY2hpbmdcbiAgICAgICAgICAgIHJldHVybiBfc2hhcGU7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBjYXRjaGFsbCgpIHtcbiAgICAgICAgICAgIHJldHVybiBiLl96b2QuZGVmLmNhdGNoYWxsO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja3M6IFtdLCAvLyBkZWxldGUgZXhpc3RpbmcgY2hlY2tzXG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb25lKGEsIGRlZik7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFydGlhbChDbGFzcywgc2NoZW1hLCBtYXNrKSB7XG4gICAgY29uc3QgZGVmID0gbWVyZ2VEZWZzKHNjaGVtYS5fem9kLmRlZiwge1xuICAgICAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgICAgICBjb25zdCBvbGRTaGFwZSA9IHNjaGVtYS5fem9kLmRlZi5zaGFwZTtcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlID0geyAuLi5vbGRTaGFwZSB9O1xuICAgICAgICAgICAgaWYgKG1hc2spIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBtYXNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGtleSBpbiBvbGRTaGFwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkIGtleTogXCIke2tleX1cImApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghbWFza1trZXldKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIChvbGRTaGFwZVtrZXldIS5fem9kLm9wdGluID09PSBcIm9wdGlvbmFsXCIpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBzaGFwZVtrZXldID0gQ2xhc3NcbiAgICAgICAgICAgICAgICAgICAgICAgID8gbmV3IENsYXNzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvbmFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJUeXBlOiBvbGRTaGFwZVtrZXldLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogb2xkU2hhcGVba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvbGRTaGFwZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiAob2xkU2hhcGVba2V5XSEuX3pvZC5vcHRpbiA9PT0gXCJvcHRpb25hbFwiKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgc2hhcGVba2V5XSA9IENsYXNzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG5ldyBDbGFzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25hbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVHlwZTogb2xkU2hhcGVba2V5XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG9sZFNoYXBlW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXNzaWduUHJvcCh0aGlzLCBcInNoYXBlXCIsIHNoYXBlKTsgLy8gc2VsZi1jYWNoaW5nXG4gICAgICAgICAgICByZXR1cm4gc2hhcGU7XG4gICAgICAgIH0sXG4gICAgICAgIGNoZWNrczogW10sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb25lKHNjaGVtYSwgZGVmKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXF1aXJlZChDbGFzcywgc2NoZW1hLCBtYXNrKSB7XG4gICAgY29uc3QgZGVmID0gbWVyZ2VEZWZzKHNjaGVtYS5fem9kLmRlZiwge1xuICAgICAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgICAgICBjb25zdCBvbGRTaGFwZSA9IHNjaGVtYS5fem9kLmRlZi5zaGFwZTtcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlID0geyAuLi5vbGRTaGFwZSB9O1xuICAgICAgICAgICAgaWYgKG1hc2spIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBtYXNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGtleSBpbiBzaGFwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkIGtleTogXCIke2tleX1cImApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghbWFza1trZXldKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIG92ZXJ3cml0ZSB3aXRoIG5vbi1vcHRpb25hbFxuICAgICAgICAgICAgICAgICAgICBzaGFwZVtrZXldID0gbmV3IENsYXNzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibm9ub3B0aW9uYWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVHlwZTogb2xkU2hhcGVba2V5XSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2xkU2hhcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb3ZlcndyaXRlIHdpdGggbm9uLW9wdGlvbmFsXG4gICAgICAgICAgICAgICAgICAgIHNoYXBlW2tleV0gPSBuZXcgQ2xhc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJub25vcHRpb25hbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJUeXBlOiBvbGRTaGFwZVtrZXldLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3NpZ25Qcm9wKHRoaXMsIFwic2hhcGVcIiwgc2hhcGUpOyAvLyBzZWxmLWNhY2hpbmdcbiAgICAgICAgICAgIHJldHVybiBzaGFwZTtcbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY2xvbmUoc2NoZW1hLCBkZWYpO1xufVxuLy8gaW52YWxpZF90eXBlIHwgdG9vX2JpZyB8IHRvb19zbWFsbCB8IGludmFsaWRfZm9ybWF0IHwgbm90X211bHRpcGxlX29mIHwgdW5yZWNvZ25pemVkX2tleXMgfCBpbnZhbGlkX3VuaW9uIHwgaW52YWxpZF9rZXkgfCBpbnZhbGlkX2VsZW1lbnQgfCBpbnZhbGlkX3ZhbHVlIHwgY3VzdG9tXG5leHBvcnQgZnVuY3Rpb24gYWJvcnRlZCh4LCBzdGFydEluZGV4ID0gMCkge1xuICAgIGlmICh4LmFib3J0ZWQgPT09IHRydWUpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpIDwgeC5pc3N1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHguaXNzdWVzW2ldPy5jb250aW51ZSAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHByZWZpeElzc3VlcyhwYXRoLCBpc3N1ZXMpIHtcbiAgICByZXR1cm4gaXNzdWVzLm1hcCgoaXNzKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gaXNzKS5wYXRoID8/IChfYS5wYXRoID0gW10pO1xuICAgICAgICBpc3MucGF0aC51bnNoaWZ0KHBhdGgpO1xuICAgICAgICByZXR1cm4gaXNzO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVud3JhcE1lc3NhZ2UobWVzc2FnZSkge1xuICAgIHJldHVybiB0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiA/IG1lc3NhZ2UgOiBtZXNzYWdlPy5tZXNzYWdlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmFsaXplSXNzdWUoaXNzLCBjdHgsIGNvbmZpZykge1xuICAgIGNvbnN0IGZ1bGwgPSB7IC4uLmlzcywgcGF0aDogaXNzLnBhdGggPz8gW10gfTtcbiAgICAvLyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICBpZiAoIWlzcy5tZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB1bndyYXBNZXNzYWdlKGlzcy5pbnN0Py5fem9kLmRlZj8uZXJyb3I/Lihpc3MpKSA/P1xuICAgICAgICAgICAgdW53cmFwTWVzc2FnZShjdHg/LmVycm9yPy4oaXNzKSkgPz9cbiAgICAgICAgICAgIHVud3JhcE1lc3NhZ2UoY29uZmlnLmN1c3RvbUVycm9yPy4oaXNzKSkgPz9cbiAgICAgICAgICAgIHVud3JhcE1lc3NhZ2UoY29uZmlnLmxvY2FsZUVycm9yPy4oaXNzKSkgPz9cbiAgICAgICAgICAgIFwiSW52YWxpZCBpbnB1dFwiO1xuICAgICAgICBmdWxsLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIH1cbiAgICAvLyBkZWxldGUgKGZ1bGwgYXMgYW55KS5kZWY7XG4gICAgZGVsZXRlIGZ1bGwuaW5zdDtcbiAgICBkZWxldGUgZnVsbC5jb250aW51ZTtcbiAgICBpZiAoIWN0eD8ucmVwb3J0SW5wdXQpIHtcbiAgICAgICAgZGVsZXRlIGZ1bGwuaW5wdXQ7XG4gICAgfVxuICAgIHJldHVybiBmdWxsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFNpemFibGVPcmlnaW4oaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBTZXQpXG4gICAgICAgIHJldHVybiBcInNldFwiO1xuICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIE1hcClcbiAgICAgICAgcmV0dXJuIFwibWFwXCI7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIEZpbGUpXG4gICAgICAgIHJldHVybiBcImZpbGVcIjtcbiAgICByZXR1cm4gXCJ1bmtub3duXCI7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0TGVuZ3RoYWJsZU9yaWdpbihpbnB1dCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGlucHV0KSlcbiAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSBcInN0cmluZ1wiKVxuICAgICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICByZXR1cm4gXCJ1bmtub3duXCI7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNzdWUoLi4uYXJncykge1xuICAgIGNvbnN0IFtpc3MsIGlucHV0LCBpbnN0XSA9IGFyZ3M7XG4gICAgaWYgKHR5cGVvZiBpc3MgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGlzcyxcbiAgICAgICAgICAgIGNvZGU6IFwiY3VzdG9tXCIsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7IC4uLmlzcyB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFuRW51bShvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMob2JqKVxuICAgICAgICAuZmlsdGVyKChbaywgX10pID0+IHtcbiAgICAgICAgLy8gcmV0dXJuIHRydWUgaWYgTmFOLCBtZWFuaW5nIGl0J3Mgbm90IGEgbnVtYmVyLCB0aHVzIGEgc3RyaW5nIGtleVxuICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKE51bWJlci5wYXJzZUludChrLCAxMCkpO1xuICAgIH0pXG4gICAgICAgIC5tYXAoKGVsKSA9PiBlbFsxXSk7XG59XG4vLyBDb2RlYyB1dGlsaXR5IGZ1bmN0aW9uc1xuZXhwb3J0IGZ1bmN0aW9uIGJhc2U2NFRvVWludDhBcnJheShiYXNlNjQpIHtcbiAgICBjb25zdCBiaW5hcnlTdHJpbmcgPSBhdG9iKGJhc2U2NCk7XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShiaW5hcnlTdHJpbmcubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbmFyeVN0cmluZy5sZW5ndGg7IGkrKykge1xuICAgICAgICBieXRlc1tpXSA9IGJpbmFyeVN0cmluZy5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgICByZXR1cm4gYnl0ZXM7XG59XG5leHBvcnQgZnVuY3Rpb24gdWludDhBcnJheVRvQmFzZTY0KGJ5dGVzKSB7XG4gICAgbGV0IGJpbmFyeVN0cmluZyA9IFwiXCI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBiaW5hcnlTdHJpbmcgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSk7XG4gICAgfVxuICAgIHJldHVybiBidG9hKGJpbmFyeVN0cmluZyk7XG59XG5leHBvcnQgZnVuY3Rpb24gYmFzZTY0dXJsVG9VaW50OEFycmF5KGJhc2U2NHVybCkge1xuICAgIGNvbnN0IGJhc2U2NCA9IGJhc2U2NHVybC5yZXBsYWNlKC8tL2csIFwiK1wiKS5yZXBsYWNlKC9fL2csIFwiL1wiKTtcbiAgICBjb25zdCBwYWRkaW5nID0gXCI9XCIucmVwZWF0KCg0IC0gKGJhc2U2NC5sZW5ndGggJSA0KSkgJSA0KTtcbiAgICByZXR1cm4gYmFzZTY0VG9VaW50OEFycmF5KGJhc2U2NCArIHBhZGRpbmcpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVpbnQ4QXJyYXlUb0Jhc2U2NHVybChieXRlcykge1xuICAgIHJldHVybiB1aW50OEFycmF5VG9CYXNlNjQoYnl0ZXMpLnJlcGxhY2UoL1xcKy9nLCBcIi1cIikucmVwbGFjZSgvXFwvL2csIFwiX1wiKS5yZXBsYWNlKC89L2csIFwiXCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhleFRvVWludDhBcnJheShoZXgpIHtcbiAgICBjb25zdCBjbGVhbkhleCA9IGhleC5yZXBsYWNlKC9eMHgvLCBcIlwiKTtcbiAgICBpZiAoY2xlYW5IZXgubGVuZ3RoICUgMiAhPT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGhleCBzdHJpbmcgbGVuZ3RoXCIpO1xuICAgIH1cbiAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGNsZWFuSGV4Lmxlbmd0aCAvIDIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2xlYW5IZXgubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgYnl0ZXNbaSAvIDJdID0gTnVtYmVyLnBhcnNlSW50KGNsZWFuSGV4LnNsaWNlKGksIGkgKyAyKSwgMTYpO1xuICAgIH1cbiAgICByZXR1cm4gYnl0ZXM7XG59XG5leHBvcnQgZnVuY3Rpb24gdWludDhBcnJheVRvSGV4KGJ5dGVzKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oYnl0ZXMpXG4gICAgICAgIC5tYXAoKGIpID0+IGIudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKSlcbiAgICAgICAgLmpvaW4oXCJcIik7XG59XG4vLyBpbnN0YW5jZW9mXG5leHBvcnQgY2xhc3MgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKC4uLl9hcmdzKSB7IH1cbn1cbiIsICJpbXBvcnQgeyAkY29uc3RydWN0b3IgfSBmcm9tIFwiLi9jb3JlLmpzXCI7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuL3V0aWwuanNcIjtcbmNvbnN0IGluaXRpYWxpemVyID0gKGluc3QsIGRlZikgPT4ge1xuICAgIGluc3QubmFtZSA9IFwiJFpvZEVycm9yXCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGluc3QsIFwiX3pvZFwiLCB7XG4gICAgICAgIHZhbHVlOiBpbnN0Ll96b2QsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnN0LCBcImlzc3Vlc1wiLCB7XG4gICAgICAgIHZhbHVlOiBkZWYsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIH0pO1xuICAgIGluc3QubWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KGRlZiwgdXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIsIDIpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnN0LCBcInRvU3RyaW5nXCIsIHtcbiAgICAgICAgdmFsdWU6ICgpID0+IGluc3QubWVzc2FnZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0ICRab2RFcnJvciA9ICRjb25zdHJ1Y3RvcihcIiRab2RFcnJvclwiLCBpbml0aWFsaXplcik7XG5leHBvcnQgY29uc3QgJFpvZFJlYWxFcnJvciA9ICRjb25zdHJ1Y3RvcihcIiRab2RFcnJvclwiLCBpbml0aWFsaXplciwgeyBQYXJlbnQ6IEVycm9yIH0pO1xuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW5FcnJvcihlcnJvciwgbWFwcGVyID0gKGlzc3VlKSA9PiBpc3N1ZS5tZXNzYWdlKSB7XG4gICAgY29uc3QgZmllbGRFcnJvcnMgPSB7fTtcbiAgICBjb25zdCBmb3JtRXJyb3JzID0gW107XG4gICAgZm9yIChjb25zdCBzdWIgb2YgZXJyb3IuaXNzdWVzKSB7XG4gICAgICAgIGlmIChzdWIucGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmaWVsZEVycm9yc1tzdWIucGF0aFswXV0gPSBmaWVsZEVycm9yc1tzdWIucGF0aFswXV0gfHwgW107XG4gICAgICAgICAgICBmaWVsZEVycm9yc1tzdWIucGF0aFswXV0ucHVzaChtYXBwZXIoc3ViKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3JtRXJyb3JzLnB1c2gobWFwcGVyKHN1YikpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGZvcm1FcnJvcnMsIGZpZWxkRXJyb3JzIH07XG59XG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0RXJyb3IoZXJyb3IsIF9tYXBwZXIpIHtcbiAgICBjb25zdCBtYXBwZXIgPSBfbWFwcGVyIHx8XG4gICAgICAgIGZ1bmN0aW9uIChpc3N1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzc3VlLm1lc3NhZ2U7XG4gICAgICAgIH07XG4gICAgY29uc3QgZmllbGRFcnJvcnMgPSB7IF9lcnJvcnM6IFtdIH07XG4gICAgY29uc3QgcHJvY2Vzc0Vycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgaXNzdWUgb2YgZXJyb3IuaXNzdWVzKSB7XG4gICAgICAgICAgICBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX3VuaW9uXCIgJiYgaXNzdWUuZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlzc3VlLmVycm9ycy5tYXAoKGlzc3VlcykgPT4gcHJvY2Vzc0Vycm9yKHsgaXNzdWVzIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF9rZXlcIikge1xuICAgICAgICAgICAgICAgIHByb2Nlc3NFcnJvcih7IGlzc3VlczogaXNzdWUuaXNzdWVzIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX2VsZW1lbnRcIikge1xuICAgICAgICAgICAgICAgIHByb2Nlc3NFcnJvcih7IGlzc3VlczogaXNzdWUuaXNzdWVzIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUucGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBmaWVsZEVycm9ycy5fZXJyb3JzLnB1c2gobWFwcGVyKGlzc3VlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgY3VyciA9IGZpZWxkRXJyb3JzO1xuICAgICAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IGlzc3VlLnBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gaXNzdWUucGF0aFtpXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVybWluYWwgPSBpID09PSBpc3N1ZS5wYXRoLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgeyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXS5fZXJyb3JzLnB1c2gobWFwcGVyKGlzc3VlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3VyciA9IGN1cnJbZWxdO1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBwcm9jZXNzRXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiBmaWVsZEVycm9ycztcbn1cbmV4cG9ydCBmdW5jdGlvbiB0cmVlaWZ5RXJyb3IoZXJyb3IsIF9tYXBwZXIpIHtcbiAgICBjb25zdCBtYXBwZXIgPSBfbWFwcGVyIHx8XG4gICAgICAgIGZ1bmN0aW9uIChpc3N1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzc3VlLm1lc3NhZ2U7XG4gICAgICAgIH07XG4gICAgY29uc3QgcmVzdWx0ID0geyBlcnJvcnM6IFtdIH07XG4gICAgY29uc3QgcHJvY2Vzc0Vycm9yID0gKGVycm9yLCBwYXRoID0gW10pID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgZm9yIChjb25zdCBpc3N1ZSBvZiBlcnJvci5pc3N1ZXMpIHtcbiAgICAgICAgICAgIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfdW5pb25cIiAmJiBpc3N1ZS5lcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVndWxhciB1bmlvbiBlcnJvclxuICAgICAgICAgICAgICAgIGlzc3VlLmVycm9ycy5tYXAoKGlzc3VlcykgPT4gcHJvY2Vzc0Vycm9yKHsgaXNzdWVzIH0sIGlzc3VlLnBhdGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF9rZXlcIikge1xuICAgICAgICAgICAgICAgIHByb2Nlc3NFcnJvcih7IGlzc3VlczogaXNzdWUuaXNzdWVzIH0sIGlzc3VlLnBhdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX2VsZW1lbnRcIikge1xuICAgICAgICAgICAgICAgIHByb2Nlc3NFcnJvcih7IGlzc3VlczogaXNzdWUuaXNzdWVzIH0sIGlzc3VlLnBhdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZnVsbHBhdGggPSBbLi4ucGF0aCwgLi4uaXNzdWUucGF0aF07XG4gICAgICAgICAgICAgICAgaWYgKGZ1bGxwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuZXJyb3JzLnB1c2gobWFwcGVyKGlzc3VlKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgY3VyciA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGkgPCBmdWxscGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWwgPSBmdWxscGF0aFtpXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVybWluYWwgPSBpID09PSBmdWxscGF0aC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVsID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyLnByb3BlcnRpZXMgPz8gKGN1cnIucHJvcGVydGllcyA9IHt9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfYSA9IGN1cnIucHJvcGVydGllcylbZWxdID8/IChfYVtlbF0gPSB7IGVycm9yczogW10gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyID0gY3Vyci5wcm9wZXJ0aWVzW2VsXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnIuaXRlbXMgPz8gKGN1cnIuaXRlbXMgPSBbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2IgPSBjdXJyLml0ZW1zKVtlbF0gPz8gKF9iW2VsXSA9IHsgZXJyb3JzOiBbXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnIgPSBjdXJyLml0ZW1zW2VsXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnIuZXJyb3JzLnB1c2gobWFwcGVyKGlzc3VlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcHJvY2Vzc0Vycm9yKGVycm9yKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqIEZvcm1hdCBhIFpvZEVycm9yIGFzIGEgaHVtYW4tcmVhZGFibGUgc3RyaW5nIGluIHRoZSBmb2xsb3dpbmcgZm9ybS5cbiAqXG4gKiBGcm9tXG4gKlxuICogYGBgdHNcbiAqIFpvZEVycm9yIHtcbiAqICAgaXNzdWVzOiBbXG4gKiAgICAge1xuICogICAgICAgZXhwZWN0ZWQ6ICdzdHJpbmcnLFxuICogICAgICAgY29kZTogJ2ludmFsaWRfdHlwZScsXG4gKiAgICAgICBwYXRoOiBbICd1c2VybmFtZScgXSxcbiAqICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIGlucHV0OiBleHBlY3RlZCBzdHJpbmcnXG4gKiAgICAgfSxcbiAqICAgICB7XG4gKiAgICAgICBleHBlY3RlZDogJ251bWJlcicsXG4gKiAgICAgICBjb2RlOiAnaW52YWxpZF90eXBlJyxcbiAqICAgICAgIHBhdGg6IFsgJ2Zhdm9yaXRlTnVtYmVycycsIDEgXSxcbiAqICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIGlucHV0OiBleHBlY3RlZCBudW1iZXInXG4gKiAgICAgfVxuICogICBdO1xuICogfVxuICogYGBgXG4gKlxuICogdG9cbiAqXG4gKiBgYGBcbiAqIHVzZXJuYW1lXG4gKiAgIFx1MjcxNiBFeHBlY3RlZCBudW1iZXIsIHJlY2VpdmVkIHN0cmluZyBhdCBcInVzZXJuYW1lXG4gKiBmYXZvcml0ZU51bWJlcnNbMF1cbiAqICAgXHUyNzE2IEludmFsaWQgaW5wdXQ6IGV4cGVjdGVkIG51bWJlclxuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0RvdFBhdGgoX3BhdGgpIHtcbiAgICBjb25zdCBzZWdzID0gW107XG4gICAgY29uc3QgcGF0aCA9IF9wYXRoLm1hcCgoc2VnKSA9PiAodHlwZW9mIHNlZyA9PT0gXCJvYmplY3RcIiA/IHNlZy5rZXkgOiBzZWcpKTtcbiAgICBmb3IgKGNvbnN0IHNlZyBvZiBwYXRoKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2VnID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgc2Vncy5wdXNoKGBbJHtzZWd9XWApO1xuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygc2VnID09PSBcInN5bWJvbFwiKVxuICAgICAgICAgICAgc2Vncy5wdXNoKGBbJHtKU09OLnN0cmluZ2lmeShTdHJpbmcoc2VnKSl9XWApO1xuICAgICAgICBlbHNlIGlmICgvW15cXHckXS8udGVzdChzZWcpKVxuICAgICAgICAgICAgc2Vncy5wdXNoKGBbJHtKU09OLnN0cmluZ2lmeShzZWcpfV1gKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoc2Vncy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgc2Vncy5wdXNoKFwiLlwiKTtcbiAgICAgICAgICAgIHNlZ3MucHVzaChzZWcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzZWdzLmpvaW4oXCJcIik7XG59XG5leHBvcnQgZnVuY3Rpb24gcHJldHRpZnlFcnJvcihlcnJvcikge1xuICAgIGNvbnN0IGxpbmVzID0gW107XG4gICAgLy8gc29ydCBieSBwYXRoIGxlbmd0aFxuICAgIGNvbnN0IGlzc3VlcyA9IFsuLi5lcnJvci5pc3N1ZXNdLnNvcnQoKGEsIGIpID0+IChhLnBhdGggPz8gW10pLmxlbmd0aCAtIChiLnBhdGggPz8gW10pLmxlbmd0aCk7XG4gICAgLy8gUHJvY2VzcyBlYWNoIGlzc3VlXG4gICAgZm9yIChjb25zdCBpc3N1ZSBvZiBpc3N1ZXMpIHtcbiAgICAgICAgbGluZXMucHVzaChgXHUyNzE2ICR7aXNzdWUubWVzc2FnZX1gKTtcbiAgICAgICAgaWYgKGlzc3VlLnBhdGg/Lmxlbmd0aClcbiAgICAgICAgICAgIGxpbmVzLnB1c2goYCAgXHUyMTkyIGF0ICR7dG9Eb3RQYXRoKGlzc3VlLnBhdGgpfWApO1xuICAgIH1cbiAgICAvLyBDb252ZXJ0IE1hcCB0byBmb3JtYXR0ZWQgc3RyaW5nXG4gICAgcmV0dXJuIGxpbmVzLmpvaW4oXCJcXG5cIik7XG59XG4iLCAiaW1wb3J0ICogYXMgY29yZSBmcm9tIFwiLi9jb3JlLmpzXCI7XG5pbXBvcnQgKiBhcyBlcnJvcnMgZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuL3V0aWwuanNcIjtcbmV4cG9ydCBjb25zdCBfcGFyc2UgPSAoX0VycikgPT4gKHNjaGVtYSwgdmFsdWUsIF9jdHgsIF9wYXJhbXMpID0+IHtcbiAgICBjb25zdCBjdHggPSBfY3R4ID8gT2JqZWN0LmFzc2lnbihfY3R4LCB7IGFzeW5jOiBmYWxzZSB9KSA6IHsgYXN5bmM6IGZhbHNlIH07XG4gICAgY29uc3QgcmVzdWx0ID0gc2NoZW1hLl96b2QucnVuKHsgdmFsdWUsIGlzc3VlczogW10gfSwgY3R4KTtcbiAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICB0aHJvdyBuZXcgY29yZS4kWm9kQXN5bmNFcnJvcigpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgZSA9IG5ldyAoX3BhcmFtcz8uRXJyID8/IF9FcnIpKHJlc3VsdC5pc3N1ZXMubWFwKChpc3MpID0+IHV0aWwuZmluYWxpemVJc3N1ZShpc3MsIGN0eCwgY29yZS5jb25maWcoKSkpKTtcbiAgICAgICAgdXRpbC5jYXB0dXJlU3RhY2tUcmFjZShlLCBfcGFyYW1zPy5jYWxsZWUpO1xuICAgICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0LnZhbHVlO1xufTtcbmV4cG9ydCBjb25zdCBwYXJzZSA9IC8qIEBfX1BVUkVfXyovIF9wYXJzZShlcnJvcnMuJFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3QgX3BhcnNlQXN5bmMgPSAoX0VycikgPT4gYXN5bmMgKHNjaGVtYSwgdmFsdWUsIF9jdHgsIHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IGN0eCA9IF9jdHggPyBPYmplY3QuYXNzaWduKF9jdHgsIHsgYXN5bmM6IHRydWUgfSkgOiB7IGFzeW5jOiB0cnVlIH07XG4gICAgbGV0IHJlc3VsdCA9IHNjaGVtYS5fem9kLnJ1bih7IHZhbHVlLCBpc3N1ZXM6IFtdIH0sIGN0eCk7XG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpXG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IHJlc3VsdDtcbiAgICBpZiAocmVzdWx0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgZSA9IG5ldyAocGFyYW1zPy5FcnIgPz8gX0VycikocmVzdWx0Lmlzc3Vlcy5tYXAoKGlzcykgPT4gdXRpbC5maW5hbGl6ZUlzc3VlKGlzcywgY3R4LCBjb3JlLmNvbmZpZygpKSkpO1xuICAgICAgICB1dGlsLmNhcHR1cmVTdGFja1RyYWNlKGUsIHBhcmFtcz8uY2FsbGVlKTtcbiAgICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC52YWx1ZTtcbn07XG5leHBvcnQgY29uc3QgcGFyc2VBc3luYyA9IC8qIEBfX1BVUkVfXyovIF9wYXJzZUFzeW5jKGVycm9ycy4kWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBfc2FmZVBhcnNlID0gKF9FcnIpID0+IChzY2hlbWEsIHZhbHVlLCBfY3R4KSA9PiB7XG4gICAgY29uc3QgY3R4ID0gX2N0eCA/IHsgLi4uX2N0eCwgYXN5bmM6IGZhbHNlIH0gOiB7IGFzeW5jOiBmYWxzZSB9O1xuICAgIGNvbnN0IHJlc3VsdCA9IHNjaGVtYS5fem9kLnJ1bih7IHZhbHVlLCBpc3N1ZXM6IFtdIH0sIGN0eCk7XG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IGNvcmUuJFpvZEFzeW5jRXJyb3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC5pc3N1ZXMubGVuZ3RoXG4gICAgICAgID8ge1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcjogbmV3IChfRXJyID8/IGVycm9ycy4kWm9kRXJyb3IpKHJlc3VsdC5pc3N1ZXMubWFwKChpc3MpID0+IHV0aWwuZmluYWxpemVJc3N1ZShpc3MsIGN0eCwgY29yZS5jb25maWcoKSkpKSxcbiAgICAgICAgfVxuICAgICAgICA6IHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzdWx0LnZhbHVlIH07XG59O1xuZXhwb3J0IGNvbnN0IHNhZmVQYXJzZSA9IC8qIEBfX1BVUkVfXyovIF9zYWZlUGFyc2UoZXJyb3JzLiRab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IF9zYWZlUGFyc2VBc3luYyA9IChfRXJyKSA9PiBhc3luYyAoc2NoZW1hLCB2YWx1ZSwgX2N0eCkgPT4ge1xuICAgIGNvbnN0IGN0eCA9IF9jdHggPyBPYmplY3QuYXNzaWduKF9jdHgsIHsgYXN5bmM6IHRydWUgfSkgOiB7IGFzeW5jOiB0cnVlIH07XG4gICAgbGV0IHJlc3VsdCA9IHNjaGVtYS5fem9kLnJ1bih7IHZhbHVlLCBpc3N1ZXM6IFtdIH0sIGN0eCk7XG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpXG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IHJlc3VsdDtcbiAgICByZXR1cm4gcmVzdWx0Lmlzc3Vlcy5sZW5ndGhcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yOiBuZXcgX0VycihyZXN1bHQuaXNzdWVzLm1hcCgoaXNzKSA9PiB1dGlsLmZpbmFsaXplSXNzdWUoaXNzLCBjdHgsIGNvcmUuY29uZmlnKCkpKSksXG4gICAgICAgIH1cbiAgICAgICAgOiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3VsdC52YWx1ZSB9O1xufTtcbmV4cG9ydCBjb25zdCBzYWZlUGFyc2VBc3luYyA9IC8qIEBfX1BVUkVfXyovIF9zYWZlUGFyc2VBc3luYyhlcnJvcnMuJFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3QgX2VuY29kZSA9IChfRXJyKSA9PiAoc2NoZW1hLCB2YWx1ZSwgX2N0eCkgPT4ge1xuICAgIGNvbnN0IGN0eCA9IF9jdHggPyBPYmplY3QuYXNzaWduKF9jdHgsIHsgZGlyZWN0aW9uOiBcImJhY2t3YXJkXCIgfSkgOiB7IGRpcmVjdGlvbjogXCJiYWNrd2FyZFwiIH07XG4gICAgcmV0dXJuIF9wYXJzZShfRXJyKShzY2hlbWEsIHZhbHVlLCBjdHgpO1xufTtcbmV4cG9ydCBjb25zdCBlbmNvZGUgPSAvKiBAX19QVVJFX18qLyBfZW5jb2RlKGVycm9ycy4kWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBfZGVjb2RlID0gKF9FcnIpID0+IChzY2hlbWEsIHZhbHVlLCBfY3R4KSA9PiB7XG4gICAgcmV0dXJuIF9wYXJzZShfRXJyKShzY2hlbWEsIHZhbHVlLCBfY3R4KTtcbn07XG5leHBvcnQgY29uc3QgZGVjb2RlID0gLyogQF9fUFVSRV9fKi8gX2RlY29kZShlcnJvcnMuJFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3QgX2VuY29kZUFzeW5jID0gKF9FcnIpID0+IGFzeW5jIChzY2hlbWEsIHZhbHVlLCBfY3R4KSA9PiB7XG4gICAgY29uc3QgY3R4ID0gX2N0eCA/IE9iamVjdC5hc3NpZ24oX2N0eCwgeyBkaXJlY3Rpb246IFwiYmFja3dhcmRcIiB9KSA6IHsgZGlyZWN0aW9uOiBcImJhY2t3YXJkXCIgfTtcbiAgICByZXR1cm4gX3BhcnNlQXN5bmMoX0Vycikoc2NoZW1hLCB2YWx1ZSwgY3R4KTtcbn07XG5leHBvcnQgY29uc3QgZW5jb2RlQXN5bmMgPSAvKiBAX19QVVJFX18qLyBfZW5jb2RlQXN5bmMoZXJyb3JzLiRab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IF9kZWNvZGVBc3luYyA9IChfRXJyKSA9PiBhc3luYyAoc2NoZW1hLCB2YWx1ZSwgX2N0eCkgPT4ge1xuICAgIHJldHVybiBfcGFyc2VBc3luYyhfRXJyKShzY2hlbWEsIHZhbHVlLCBfY3R4KTtcbn07XG5leHBvcnQgY29uc3QgZGVjb2RlQXN5bmMgPSAvKiBAX19QVVJFX18qLyBfZGVjb2RlQXN5bmMoZXJyb3JzLiRab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IF9zYWZlRW5jb2RlID0gKF9FcnIpID0+IChzY2hlbWEsIHZhbHVlLCBfY3R4KSA9PiB7XG4gICAgY29uc3QgY3R4ID0gX2N0eCA/IE9iamVjdC5hc3NpZ24oX2N0eCwgeyBkaXJlY3Rpb246IFwiYmFja3dhcmRcIiB9KSA6IHsgZGlyZWN0aW9uOiBcImJhY2t3YXJkXCIgfTtcbiAgICByZXR1cm4gX3NhZmVQYXJzZShfRXJyKShzY2hlbWEsIHZhbHVlLCBjdHgpO1xufTtcbmV4cG9ydCBjb25zdCBzYWZlRW5jb2RlID0gLyogQF9fUFVSRV9fKi8gX3NhZmVFbmNvZGUoZXJyb3JzLiRab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IF9zYWZlRGVjb2RlID0gKF9FcnIpID0+IChzY2hlbWEsIHZhbHVlLCBfY3R4KSA9PiB7XG4gICAgcmV0dXJuIF9zYWZlUGFyc2UoX0Vycikoc2NoZW1hLCB2YWx1ZSwgX2N0eCk7XG59O1xuZXhwb3J0IGNvbnN0IHNhZmVEZWNvZGUgPSAvKiBAX19QVVJFX18qLyBfc2FmZURlY29kZShlcnJvcnMuJFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3QgX3NhZmVFbmNvZGVBc3luYyA9IChfRXJyKSA9PiBhc3luYyAoc2NoZW1hLCB2YWx1ZSwgX2N0eCkgPT4ge1xuICAgIGNvbnN0IGN0eCA9IF9jdHggPyBPYmplY3QuYXNzaWduKF9jdHgsIHsgZGlyZWN0aW9uOiBcImJhY2t3YXJkXCIgfSkgOiB7IGRpcmVjdGlvbjogXCJiYWNrd2FyZFwiIH07XG4gICAgcmV0dXJuIF9zYWZlUGFyc2VBc3luYyhfRXJyKShzY2hlbWEsIHZhbHVlLCBjdHgpO1xufTtcbmV4cG9ydCBjb25zdCBzYWZlRW5jb2RlQXN5bmMgPSAvKiBAX19QVVJFX18qLyBfc2FmZUVuY29kZUFzeW5jKGVycm9ycy4kWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBfc2FmZURlY29kZUFzeW5jID0gKF9FcnIpID0+IGFzeW5jIChzY2hlbWEsIHZhbHVlLCBfY3R4KSA9PiB7XG4gICAgcmV0dXJuIF9zYWZlUGFyc2VBc3luYyhfRXJyKShzY2hlbWEsIHZhbHVlLCBfY3R4KTtcbn07XG5leHBvcnQgY29uc3Qgc2FmZURlY29kZUFzeW5jID0gLyogQF9fUFVSRV9fKi8gX3NhZmVEZWNvZGVBc3luYyhlcnJvcnMuJFpvZFJlYWxFcnJvcik7XG4iLCAiZXhwb3J0IGNvbnN0IGN1aWQgPSAvXltjQ11bXlxccy1dezgsfSQvO1xuZXhwb3J0IGNvbnN0IGN1aWQyID0gL15bMC05YS16XSskLztcbmV4cG9ydCBjb25zdCB1bGlkID0gL15bMC05QS1ISktNTlAtVFYtWmEtaGprbW5wLXR2LXpdezI2fSQvO1xuZXhwb3J0IGNvbnN0IHhpZCA9IC9eWzAtOWEtdkEtVl17MjB9JC87XG5leHBvcnQgY29uc3Qga3N1aWQgPSAvXltBLVphLXowLTldezI3fSQvO1xuZXhwb3J0IGNvbnN0IG5hbm9pZCA9IC9eW2EtekEtWjAtOV8tXXsyMX0kLztcbi8qKiBJU08gODYwMS0xIGR1cmF0aW9uIHJlZ2V4LiBEb2VzIG5vdCBzdXBwb3J0IHRoZSA4NjAxLTIgZXh0ZW5zaW9ucyBsaWtlIG5lZ2F0aXZlIGR1cmF0aW9ucyBvciBmcmFjdGlvbmFsL25lZ2F0aXZlIGNvbXBvbmVudHMuICovXG5leHBvcnQgY29uc3QgZHVyYXRpb24gPSAvXlAoPzooXFxkK1cpfCg/IS4qVykoPz1cXGR8VFxcZCkoXFxkK1kpPyhcXGQrTSk/KFxcZCtEKT8oVCg/PVxcZCkoXFxkK0gpPyhcXGQrTSk/KFxcZCsoWy4sXVxcZCspP1MpPyk/KSQvO1xuLyoqIEltcGxlbWVudHMgSVNPIDg2MDEtMiBleHRlbnNpb25zIGxpa2UgZXhwbGljaXQgKy0gcHJlZml4ZXMsIG1peGluZyB3ZWVrcyB3aXRoIG90aGVyIHVuaXRzLCBhbmQgZnJhY3Rpb25hbC9uZWdhdGl2ZSBjb21wb25lbnRzLiAqL1xuZXhwb3J0IGNvbnN0IGV4dGVuZGVkRHVyYXRpb24gPSAvXlstK10/UCg/ISQpKD86KD86Wy0rXT9cXGQrWSl8KD86Wy0rXT9cXGQrWy4sXVxcZCtZJCkpPyg/Oig/OlstK10/XFxkK00pfCg/OlstK10/XFxkK1suLF1cXGQrTSQpKT8oPzooPzpbLStdP1xcZCtXKXwoPzpbLStdP1xcZCtbLixdXFxkK1ckKSk/KD86KD86Wy0rXT9cXGQrRCl8KD86Wy0rXT9cXGQrWy4sXVxcZCtEJCkpPyg/OlQoPz1bXFxkKy1dKSg/Oig/OlstK10/XFxkK0gpfCg/OlstK10/XFxkK1suLF1cXGQrSCQpKT8oPzooPzpbLStdP1xcZCtNKXwoPzpbLStdP1xcZCtbLixdXFxkK00kKSk/KD86Wy0rXT9cXGQrKD86Wy4sXVxcZCspP1MpPyk/PyQvO1xuLyoqIEEgcmVnZXggZm9yIGFueSBVVUlELWxpa2UgaWRlbnRpZmllcjogOC00LTQtNC0xMiBoZXggcGF0dGVybiAqL1xuZXhwb3J0IGNvbnN0IGd1aWQgPSAvXihbMC05YS1mQS1GXXs4fS1bMC05YS1mQS1GXXs0fS1bMC05YS1mQS1GXXs0fS1bMC05YS1mQS1GXXs0fS1bMC05YS1mQS1GXXsxMn0pJC87XG4vKiogUmV0dXJucyBhIHJlZ2V4IGZvciB2YWxpZGF0aW5nIGFuIFJGQyA5NTYyLzQxMjIgVVVJRC5cbiAqXG4gKiBAcGFyYW0gdmVyc2lvbiBPcHRpb25hbGx5IHNwZWNpZnkgYSB2ZXJzaW9uIDEtOC4gSWYgbm8gdmVyc2lvbiBpcyBzcGVjaWZpZWQsIGFsbCB2ZXJzaW9ucyBhcmUgc3VwcG9ydGVkLiAqL1xuZXhwb3J0IGNvbnN0IHV1aWQgPSAodmVyc2lvbikgPT4ge1xuICAgIGlmICghdmVyc2lvbilcbiAgICAgICAgcmV0dXJuIC9eKFswLTlhLWZBLUZdezh9LVswLTlhLWZBLUZdezR9LVsxLThdWzAtOWEtZkEtRl17M30tWzg5YWJBQl1bMC05YS1mQS1GXXszfS1bMC05YS1mQS1GXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwfGZmZmZmZmZmLWZmZmYtZmZmZi1mZmZmLWZmZmZmZmZmZmZmZikkLztcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXihbMC05YS1mQS1GXXs4fS1bMC05YS1mQS1GXXs0fS0ke3ZlcnNpb259WzAtOWEtZkEtRl17M30tWzg5YWJBQl1bMC05YS1mQS1GXXszfS1bMC05YS1mQS1GXXsxMn0pJGApO1xufTtcbmV4cG9ydCBjb25zdCB1dWlkNCA9IC8qQF9fUFVSRV9fKi8gdXVpZCg0KTtcbmV4cG9ydCBjb25zdCB1dWlkNiA9IC8qQF9fUFVSRV9fKi8gdXVpZCg2KTtcbmV4cG9ydCBjb25zdCB1dWlkNyA9IC8qQF9fUFVSRV9fKi8gdXVpZCg3KTtcbi8qKiBQcmFjdGljYWwgZW1haWwgdmFsaWRhdGlvbiAqL1xuZXhwb3J0IGNvbnN0IGVtYWlsID0gL14oPyFcXC4pKD8hLipcXC5cXC4pKFtBLVphLXowLTlfJytcXC1cXC5dKilbQS1aYS16MC05XystXUAoW0EtWmEtejAtOV1bQS1aYS16MC05XFwtXSpcXC4pK1tBLVphLXpdezIsfSQvO1xuLyoqIEVxdWl2YWxlbnQgdG8gdGhlIEhUTUw1IGlucHV0W3R5cGU9ZW1haWxdIHZhbGlkYXRpb24gaW1wbGVtZW50ZWQgYnkgYnJvd3NlcnMuIFNvdXJjZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9FbGVtZW50L2lucHV0L2VtYWlsICovXG5leHBvcnQgY29uc3QgaHRtbDVFbWFpbCA9IC9eW2EtekEtWjAtOS4hIyQlJicqKy89P15fYHt8fX4tXStAW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSokLztcbi8qKiBUaGUgY2xhc3NpYyBlbWFpbHJlZ2V4LmNvbSByZWdleCBmb3IgUkZDIDUzMjItY29tcGxpYW50IGVtYWlscyAqL1xuZXhwb3J0IGNvbnN0IHJmYzUzMjJFbWFpbCA9IC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuLyoqIEEgbG9vc2UgcmVnZXggdGhhdCBhbGxvd3MgVW5pY29kZSBjaGFyYWN0ZXJzLCBlbmZvcmNlcyBsZW5ndGggbGltaXRzLCBhbmQgdGhhdCdzIGFib3V0IGl0LiAqL1xuZXhwb3J0IGNvbnN0IHVuaWNvZGVFbWFpbCA9IC9eW15cXHNAXCJdezEsNjR9QFteXFxzQF17MSwyNTV9JC91O1xuZXhwb3J0IGNvbnN0IGlkbkVtYWlsID0gdW5pY29kZUVtYWlsO1xuZXhwb3J0IGNvbnN0IGJyb3dzZXJFbWFpbCA9IC9eW2EtekEtWjAtOS4hIyQlJicqKy89P15fYHt8fX4tXStAW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSokLztcbi8vIGZyb20gaHR0cHM6Ly90aGVrZXZpbnNjb3R0LmNvbS9lbW9qaXMtaW4tamF2YXNjcmlwdC8jd3JpdGluZy1hLXJlZ3VsYXItZXhwcmVzc2lvblxuY29uc3QgX2Vtb2ppID0gYF4oXFxcXHB7RXh0ZW5kZWRfUGljdG9ncmFwaGljfXxcXFxccHtFbW9qaV9Db21wb25lbnR9KSskYDtcbmV4cG9ydCBmdW5jdGlvbiBlbW9qaSgpIHtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChfZW1vamksIFwidVwiKTtcbn1cbmV4cG9ydCBjb25zdCBpcHY0ID0gL14oPzooPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSkkLztcbmV4cG9ydCBjb25zdCBpcHY2ID0gL14oKFswLTlhLWZBLUZdezEsNH06KXs3fVswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDd9OnwoWzAtOWEtZkEtRl17MSw0fTopezEsNn06WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsNX0oOlswLTlhLWZBLUZdezEsNH0pezEsMn18KFswLTlhLWZBLUZdezEsNH06KXsxLDR9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDN9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwzfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsMn0oOlswLTlhLWZBLUZdezEsNH0pezEsNX18WzAtOWEtZkEtRl17MSw0fTooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDZ9KXw6KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw3fXw6KSkkLztcbmV4cG9ydCBjb25zdCBjaWRydjQgPSAvXigoMjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oMjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLyhbMC05XXxbMS0yXVswLTldfDNbMC0yXSkkLztcbmV4cG9ydCBjb25zdCBjaWRydjYgPSAvXigoWzAtOWEtZkEtRl17MSw0fTopezd9WzAtOWEtZkEtRl17MSw0fXw6OnwoWzAtOWEtZkEtRl17MSw0fSk/OjooWzAtOWEtZkEtRl17MSw0fTo/KXswLDZ9KVxcLygxMlswLThdfDFbMDFdWzAtOV18WzEtOV0/WzAtOV0pJC87XG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODYwMzkyL2RldGVybWluZS1pZi1zdHJpbmctaXMtaW4tYmFzZTY0LXVzaW5nLWphdmFzY3JpcHRcbmV4cG9ydCBjb25zdCBiYXNlNjQgPSAvXiR8Xig/OlswLTlhLXpBLVorL117NH0pKig/Oig/OlswLTlhLXpBLVorL117Mn09PSl8KD86WzAtOWEtekEtWisvXXszfT0pKT8kLztcbmV4cG9ydCBjb25zdCBiYXNlNjR1cmwgPSAvXltBLVphLXowLTlfLV0qJC87XG4vLyBiYXNlZCBvbiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDYxNzkvcmVndWxhci1leHByZXNzaW9uLXRvLW1hdGNoLWRucy1ob3N0bmFtZS1vci1pcC1hZGRyZXNzXG4vLyBleHBvcnQgY29uc3QgaG9zdG5hbWU6IFJlZ0V4cCA9IC9eKFthLXpBLVowLTktXStcXC4pKlthLXpBLVowLTktXSskLztcbmV4cG9ydCBjb25zdCBob3N0bmFtZSA9IC9eKD89LnsxLDI1M31cXC4/JClbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlstMC05YS16QS1aXXswLDYxfVswLTlhLXpBLVpdKT8pKlxcLj8kLztcbmV4cG9ydCBjb25zdCBkb21haW4gPSAvXihbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT9cXC4pK1thLXpBLVpdezIsfSQvO1xuLy8gaHR0cHM6Ly9ibG9nLnN0ZXZlbmxldml0aGFuLmNvbS9hcmNoaXZlcy92YWxpZGF0ZS1waG9uZS1udW1iZXIjcjQtMyAocmVnZXggc2FucyBzcGFjZXMpXG5leHBvcnQgY29uc3QgZTE2NCA9IC9eXFwrKD86WzAtOV0pezYsMTR9WzAtOV0kLztcbi8vIGNvbnN0IGRhdGVTb3VyY2UgPSBgKChcXFxcZFxcXFxkWzI0NjhdWzA0OF18XFxcXGRcXFxcZFsxMzU3OV1bMjZdfFxcXFxkXFxcXGQwWzQ4XXxbMDI0NjhdWzA0OF0wMHxbMTM1NzldWzI2XTAwKS0wMi0yOXxcXFxcZHs0fS0oKDBbMTM1NzhdfDFbMDJdKS0oMFsxLTldfFsxMl1cXFxcZHwzWzAxXSl8KDBbNDY5XXwxMSktKDBbMS05XXxbMTJdXFxcXGR8MzApfCgwMiktKDBbMS05XXwxXFxcXGR8MlswLThdKSkpYDtcbmNvbnN0IGRhdGVTb3VyY2UgPSBgKD86KD86XFxcXGRcXFxcZFsyNDY4XVswNDhdfFxcXFxkXFxcXGRbMTM1NzldWzI2XXxcXFxcZFxcXFxkMFs0OF18WzAyNDY4XVswNDhdMDB8WzEzNTc5XVsyNl0wMCktMDItMjl8XFxcXGR7NH0tKD86KD86MFsxMzU3OF18MVswMl0pLSg/OjBbMS05XXxbMTJdXFxcXGR8M1swMV0pfCg/OjBbNDY5XXwxMSktKD86MFsxLTldfFsxMl1cXFxcZHwzMCl8KD86MDIpLSg/OjBbMS05XXwxXFxcXGR8MlswLThdKSkpYDtcbmV4cG9ydCBjb25zdCBkYXRlID0gLypAX19QVVJFX18qLyBuZXcgUmVnRXhwKGBeJHtkYXRlU291cmNlfSRgKTtcbmZ1bmN0aW9uIHRpbWVTb3VyY2UoYXJncykge1xuICAgIGNvbnN0IGhobW0gPSBgKD86WzAxXVxcXFxkfDJbMC0zXSk6WzAtNV1cXFxcZGA7XG4gICAgY29uc3QgcmVnZXggPSB0eXBlb2YgYXJncy5wcmVjaXNpb24gPT09IFwibnVtYmVyXCJcbiAgICAgICAgPyBhcmdzLnByZWNpc2lvbiA9PT0gLTFcbiAgICAgICAgICAgID8gYCR7aGhtbX1gXG4gICAgICAgICAgICA6IGFyZ3MucHJlY2lzaW9uID09PSAwXG4gICAgICAgICAgICAgICAgPyBgJHtoaG1tfTpbMC01XVxcXFxkYFxuICAgICAgICAgICAgICAgIDogYCR7aGhtbX06WzAtNV1cXFxcZFxcXFwuXFxcXGR7JHthcmdzLnByZWNpc2lvbn19YFxuICAgICAgICA6IGAke2hobW19KD86OlswLTVdXFxcXGQoPzpcXFxcLlxcXFxkKyk/KT9gO1xuICAgIHJldHVybiByZWdleDtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0aW1lKGFyZ3MpIHtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7dGltZVNvdXJjZShhcmdzKX0kYCk7XG59XG4vLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzMxNDMyMzFcbmV4cG9ydCBmdW5jdGlvbiBkYXRldGltZShhcmdzKSB7XG4gICAgY29uc3QgdGltZSA9IHRpbWVTb3VyY2UoeyBwcmVjaXNpb246IGFyZ3MucHJlY2lzaW9uIH0pO1xuICAgIGNvbnN0IG9wdHMgPSBbXCJaXCJdO1xuICAgIGlmIChhcmdzLmxvY2FsKVxuICAgICAgICBvcHRzLnB1c2goXCJcIik7XG4gICAgLy8gaWYgKGFyZ3Mub2Zmc2V0KSBvcHRzLnB1c2goYChbKy1dXFxcXGR7Mn06XFxcXGR7Mn0pYCk7XG4gICAgaWYgKGFyZ3Mub2Zmc2V0KVxuICAgICAgICBvcHRzLnB1c2goYChbKy1dKD86WzAxXVxcXFxkfDJbMC0zXSk6WzAtNV1cXFxcZClgKTtcbiAgICBjb25zdCB0aW1lUmVnZXggPSBgJHt0aW1lfSg/OiR7b3B0cy5qb2luKFwifFwiKX0pYDtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7ZGF0ZVNvdXJjZX1UKD86JHt0aW1lUmVnZXh9KSRgKTtcbn1cbmV4cG9ydCBjb25zdCBzdHJpbmcgPSAocGFyYW1zKSA9PiB7XG4gICAgY29uc3QgcmVnZXggPSBwYXJhbXMgPyBgW1xcXFxzXFxcXFNdeyR7cGFyYW1zPy5taW5pbXVtID8/IDB9LCR7cGFyYW1zPy5tYXhpbXVtID8/IFwiXCJ9fWAgOiBgW1xcXFxzXFxcXFNdKmA7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3JlZ2V4fSRgKTtcbn07XG5leHBvcnQgY29uc3QgYmlnaW50ID0gL14tP1xcZCtuPyQvO1xuZXhwb3J0IGNvbnN0IGludGVnZXIgPSAvXi0/XFxkKyQvO1xuZXhwb3J0IGNvbnN0IG51bWJlciA9IC9eLT9cXGQrKD86XFwuXFxkKyk/LztcbmV4cG9ydCBjb25zdCBib29sZWFuID0gL14oPzp0cnVlfGZhbHNlKSQvaTtcbmNvbnN0IF9udWxsID0gL15udWxsJC9pO1xuZXhwb3J0IHsgX251bGwgYXMgbnVsbCB9O1xuY29uc3QgX3VuZGVmaW5lZCA9IC9edW5kZWZpbmVkJC9pO1xuZXhwb3J0IHsgX3VuZGVmaW5lZCBhcyB1bmRlZmluZWQgfTtcbi8vIHJlZ2V4IGZvciBzdHJpbmcgd2l0aCBubyB1cHBlcmNhc2UgbGV0dGVyc1xuZXhwb3J0IGNvbnN0IGxvd2VyY2FzZSA9IC9eW15BLVpdKiQvO1xuLy8gcmVnZXggZm9yIHN0cmluZyB3aXRoIG5vIGxvd2VyY2FzZSBsZXR0ZXJzXG5leHBvcnQgY29uc3QgdXBwZXJjYXNlID0gL15bXmEtel0qJC87XG4vLyByZWdleCBmb3IgaGV4YWRlY2ltYWwgc3RyaW5ncyAoYW55IGxlbmd0aClcbmV4cG9ydCBjb25zdCBoZXggPSAvXlswLTlhLWZBLUZdKiQvO1xuLy8gSGFzaCByZWdleGVzIGZvciBkaWZmZXJlbnQgYWxnb3JpdGhtcyBhbmQgZW5jb2RpbmdzXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGJhc2U2NCByZWdleCB3aXRoIGV4YWN0IGxlbmd0aCBhbmQgcGFkZGluZ1xuZnVuY3Rpb24gZml4ZWRCYXNlNjQoYm9keUxlbmd0aCwgcGFkZGluZykge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeW0EtWmEtejAtOSsvXXske2JvZHlMZW5ndGh9fSR7cGFkZGluZ30kYCk7XG59XG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGJhc2U2NHVybCByZWdleCB3aXRoIGV4YWN0IGxlbmd0aCAobm8gcGFkZGluZylcbmZ1bmN0aW9uIGZpeGVkQmFzZTY0dXJsKGxlbmd0aCkge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeW0EtWmEtejAtOV8tXXske2xlbmd0aH19JGApO1xufVxuLy8gTUQ1ICgxNiBieXRlcyk6IGJhc2U2NCA9IDI0IGNoYXJzIHRvdGFsICgyMiArIFwiPT1cIilcbmV4cG9ydCBjb25zdCBtZDVfaGV4ID0gL15bMC05YS1mQS1GXXszMn0kLztcbmV4cG9ydCBjb25zdCBtZDVfYmFzZTY0ID0gLypAX19QVVJFX18qLyBmaXhlZEJhc2U2NCgyMiwgXCI9PVwiKTtcbmV4cG9ydCBjb25zdCBtZDVfYmFzZTY0dXJsID0gLypAX19QVVJFX18qLyBmaXhlZEJhc2U2NHVybCgyMik7XG4vLyBTSEExICgyMCBieXRlcyk6IGJhc2U2NCA9IDI4IGNoYXJzIHRvdGFsICgyNyArIFwiPVwiKVxuZXhwb3J0IGNvbnN0IHNoYTFfaGV4ID0gL15bMC05YS1mQS1GXXs0MH0kLztcbmV4cG9ydCBjb25zdCBzaGExX2Jhc2U2NCA9IC8qQF9fUFVSRV9fKi8gZml4ZWRCYXNlNjQoMjcsIFwiPVwiKTtcbmV4cG9ydCBjb25zdCBzaGExX2Jhc2U2NHVybCA9IC8qQF9fUFVSRV9fKi8gZml4ZWRCYXNlNjR1cmwoMjcpO1xuLy8gU0hBMjU2ICgzMiBieXRlcyk6IGJhc2U2NCA9IDQ0IGNoYXJzIHRvdGFsICg0MyArIFwiPVwiKVxuZXhwb3J0IGNvbnN0IHNoYTI1Nl9oZXggPSAvXlswLTlhLWZBLUZdezY0fSQvO1xuZXhwb3J0IGNvbnN0IHNoYTI1Nl9iYXNlNjQgPSAvKkBfX1BVUkVfXyovIGZpeGVkQmFzZTY0KDQzLCBcIj1cIik7XG5leHBvcnQgY29uc3Qgc2hhMjU2X2Jhc2U2NHVybCA9IC8qQF9fUFVSRV9fKi8gZml4ZWRCYXNlNjR1cmwoNDMpO1xuLy8gU0hBMzg0ICg0OCBieXRlcyk6IGJhc2U2NCA9IDY0IGNoYXJzIHRvdGFsIChubyBwYWRkaW5nKVxuZXhwb3J0IGNvbnN0IHNoYTM4NF9oZXggPSAvXlswLTlhLWZBLUZdezk2fSQvO1xuZXhwb3J0IGNvbnN0IHNoYTM4NF9iYXNlNjQgPSAvKkBfX1BVUkVfXyovIGZpeGVkQmFzZTY0KDY0LCBcIlwiKTtcbmV4cG9ydCBjb25zdCBzaGEzODRfYmFzZTY0dXJsID0gLypAX19QVVJFX18qLyBmaXhlZEJhc2U2NHVybCg2NCk7XG4vLyBTSEE1MTIgKDY0IGJ5dGVzKTogYmFzZTY0ID0gODggY2hhcnMgdG90YWwgKDg2ICsgXCI9PVwiKVxuZXhwb3J0IGNvbnN0IHNoYTUxMl9oZXggPSAvXlswLTlhLWZBLUZdezEyOH0kLztcbmV4cG9ydCBjb25zdCBzaGE1MTJfYmFzZTY0ID0gLypAX19QVVJFX18qLyBmaXhlZEJhc2U2NCg4NiwgXCI9PVwiKTtcbmV4cG9ydCBjb25zdCBzaGE1MTJfYmFzZTY0dXJsID0gLypAX19QVVJFX18qLyBmaXhlZEJhc2U2NHVybCg4Nik7XG4iLCAiLy8gaW1wb3J0IHsgJFpvZFR5cGUgfSBmcm9tIFwiLi9zY2hlbWFzLmpzXCI7XG5pbXBvcnQgKiBhcyBjb3JlIGZyb20gXCIuL2NvcmUuanNcIjtcbmltcG9ydCAqIGFzIHJlZ2V4ZXMgZnJvbSBcIi4vcmVnZXhlcy5qc1wiO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi91dGlsLmpzXCI7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja1wiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGluc3QuX3pvZCA/PyAoaW5zdC5fem9kID0ge30pO1xuICAgIGluc3QuX3pvZC5kZWYgPSBkZWY7XG4gICAgKF9hID0gaW5zdC5fem9kKS5vbmF0dGFjaCA/PyAoX2Eub25hdHRhY2ggPSBbXSk7XG59KTtcbmNvbnN0IG51bWVyaWNPcmlnaW5NYXAgPSB7XG4gICAgbnVtYmVyOiBcIm51bWJlclwiLFxuICAgIGJpZ2ludDogXCJiaWdpbnRcIixcbiAgICBvYmplY3Q6IFwiZGF0ZVwiLFxufTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tMZXNzVGhhbiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tMZXNzVGhhblwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb25zdCBvcmlnaW4gPSBudW1lcmljT3JpZ2luTWFwW3R5cGVvZiBkZWYudmFsdWVdO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGJhZyA9IGluc3QuX3pvZC5iYWc7XG4gICAgICAgIGNvbnN0IGN1cnIgPSAoZGVmLmluY2x1c2l2ZSA/IGJhZy5tYXhpbXVtIDogYmFnLmV4Y2x1c2l2ZU1heGltdW0pID8/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgaWYgKGRlZi52YWx1ZSA8IGN1cnIpIHtcbiAgICAgICAgICAgIGlmIChkZWYuaW5jbHVzaXZlKVxuICAgICAgICAgICAgICAgIGJhZy5tYXhpbXVtID0gZGVmLnZhbHVlO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGJhZy5leGNsdXNpdmVNYXhpbXVtID0gZGVmLnZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgaWYgKGRlZi5pbmNsdXNpdmUgPyBwYXlsb2FkLnZhbHVlIDw9IGRlZi52YWx1ZSA6IHBheWxvYWQudmFsdWUgPCBkZWYudmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIG9yaWdpbixcbiAgICAgICAgICAgIGNvZGU6IFwidG9vX2JpZ1wiLFxuICAgICAgICAgICAgbWF4aW11bTogZGVmLnZhbHVlLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGRlZi5pbmNsdXNpdmUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tHcmVhdGVyVGhhbiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tHcmVhdGVyVGhhblwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb25zdCBvcmlnaW4gPSBudW1lcmljT3JpZ2luTWFwW3R5cGVvZiBkZWYudmFsdWVdO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGJhZyA9IGluc3QuX3pvZC5iYWc7XG4gICAgICAgIGNvbnN0IGN1cnIgPSAoZGVmLmluY2x1c2l2ZSA/IGJhZy5taW5pbXVtIDogYmFnLmV4Y2x1c2l2ZU1pbmltdW0pID8/IE51bWJlci5ORUdBVElWRV9JTkZJTklUWTtcbiAgICAgICAgaWYgKGRlZi52YWx1ZSA+IGN1cnIpIHtcbiAgICAgICAgICAgIGlmIChkZWYuaW5jbHVzaXZlKVxuICAgICAgICAgICAgICAgIGJhZy5taW5pbXVtID0gZGVmLnZhbHVlO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGJhZy5leGNsdXNpdmVNaW5pbXVtID0gZGVmLnZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgaWYgKGRlZi5pbmNsdXNpdmUgPyBwYXlsb2FkLnZhbHVlID49IGRlZi52YWx1ZSA6IHBheWxvYWQudmFsdWUgPiBkZWYudmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIG9yaWdpbixcbiAgICAgICAgICAgIGNvZGU6IFwidG9vX3NtYWxsXCIsXG4gICAgICAgICAgICBtaW5pbXVtOiBkZWYudmFsdWUsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZGVmLmluY2x1c2l2ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja011bHRpcGxlT2YgPSBcbi8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tNdWx0aXBsZU9mXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gaW5zdC5fem9kLmJhZykubXVsdGlwbGVPZiA/PyAoX2EubXVsdGlwbGVPZiA9IGRlZi52YWx1ZSk7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXlsb2FkLnZhbHVlICE9PSB0eXBlb2YgZGVmLnZhbHVlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IG1peCBudW1iZXIgYW5kIGJpZ2ludCBpbiBtdWx0aXBsZV9vZiBjaGVjay5cIik7XG4gICAgICAgIGNvbnN0IGlzTXVsdGlwbGUgPSB0eXBlb2YgcGF5bG9hZC52YWx1ZSA9PT0gXCJiaWdpbnRcIlxuICAgICAgICAgICAgPyBwYXlsb2FkLnZhbHVlICUgZGVmLnZhbHVlID09PSBCaWdJbnQoMClcbiAgICAgICAgICAgIDogdXRpbC5mbG9hdFNhZmVSZW1haW5kZXIocGF5bG9hZC52YWx1ZSwgZGVmLnZhbHVlKSA9PT0gMDtcbiAgICAgICAgaWYgKGlzTXVsdGlwbGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luOiB0eXBlb2YgcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGNvZGU6IFwibm90X211bHRpcGxlX29mXCIsXG4gICAgICAgICAgICBkaXZpc29yOiBkZWYudmFsdWUsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja051bWJlckZvcm1hdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tOdW1iZXJGb3JtYXRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7IC8vIG5vIGZvcm1hdCBjaGVja3NcbiAgICBkZWYuZm9ybWF0ID0gZGVmLmZvcm1hdCB8fCBcImZsb2F0NjRcIjtcbiAgICBjb25zdCBpc0ludCA9IGRlZi5mb3JtYXQ/LmluY2x1ZGVzKFwiaW50XCIpO1xuICAgIGNvbnN0IG9yaWdpbiA9IGlzSW50ID8gXCJpbnRcIiA6IFwibnVtYmVyXCI7XG4gICAgY29uc3QgW21pbmltdW0sIG1heGltdW1dID0gdXRpbC5OVU1CRVJfRk9STUFUX1JBTkdFU1tkZWYuZm9ybWF0XTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBjb25zdCBiYWcgPSBpbnN0Ll96b2QuYmFnO1xuICAgICAgICBiYWcuZm9ybWF0ID0gZGVmLmZvcm1hdDtcbiAgICAgICAgYmFnLm1pbmltdW0gPSBtaW5pbXVtO1xuICAgICAgICBiYWcubWF4aW11bSA9IG1heGltdW07XG4gICAgICAgIGlmIChpc0ludClcbiAgICAgICAgICAgIGJhZy5wYXR0ZXJuID0gcmVnZXhlcy5pbnRlZ2VyO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKGlzSW50KSB7XG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc0ludGVnZXIoaW5wdXQpKSB7XG4gICAgICAgICAgICAgICAgLy8gaW52YWxpZF9mb3JtYXQgaXNzdWVcbiAgICAgICAgICAgICAgICAvLyBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAvLyAgIGV4cGVjdGVkOiBkZWYuZm9ybWF0LFxuICAgICAgICAgICAgICAgIC8vICAgZm9ybWF0OiBkZWYuZm9ybWF0LFxuICAgICAgICAgICAgICAgIC8vICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgICAgIC8vICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgLy8gICBpbnN0LFxuICAgICAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICAgICAgICAgIC8vIGludmFsaWRfdHlwZSBpc3N1ZVxuICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBleHBlY3RlZDogb3JpZ2luLFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IGRlZi5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIC8vIG5vdF9tdWx0aXBsZV9vZiBpc3N1ZVxuICAgICAgICAgICAgICAgIC8vIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIC8vICAgY29kZTogXCJub3RfbXVsdGlwbGVfb2ZcIixcbiAgICAgICAgICAgICAgICAvLyAgIG9yaWdpbjogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAvLyAgIGlucHV0LFxuICAgICAgICAgICAgICAgIC8vICAgaW5zdCxcbiAgICAgICAgICAgICAgICAvLyAgIGRpdmlzb3I6IDEsXG4gICAgICAgICAgICAgICAgLy8gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc1NhZmVJbnRlZ2VyKGlucHV0KSkge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdG9vX2JpZ1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogXCJ0b29fYmlnXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGU6IFwiSW50ZWdlcnMgbXVzdCBiZSB3aXRoaW4gdGhlIHNhZmUgaW50ZWdlciByYW5nZS5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyB0b29fc21hbGxcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFwidG9vX3NtYWxsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGU6IFwiSW50ZWdlcnMgbXVzdCBiZSB3aXRoaW4gdGhlIHNhZmUgaW50ZWdlciByYW5nZS5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5wdXQgPCBtaW5pbXVtKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBvcmlnaW46IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgY29kZTogXCJ0b29fc21hbGxcIixcbiAgICAgICAgICAgICAgICBtaW5pbXVtLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0ID4gbWF4aW11bSkge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgb3JpZ2luOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIGNvZGU6IFwidG9vX2JpZ1wiLFxuICAgICAgICAgICAgICAgIG1heGltdW0sXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja0JpZ0ludEZvcm1hdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tCaWdJbnRGb3JtYXRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7IC8vIG5vIGZvcm1hdCBjaGVja3NcbiAgICBjb25zdCBbbWluaW11bSwgbWF4aW11bV0gPSB1dGlsLkJJR0lOVF9GT1JNQVRfUkFOR0VTW2RlZi5mb3JtYXRdO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGJhZyA9IGluc3QuX3pvZC5iYWc7XG4gICAgICAgIGJhZy5mb3JtYXQgPSBkZWYuZm9ybWF0O1xuICAgICAgICBiYWcubWluaW11bSA9IG1pbmltdW07XG4gICAgICAgIGJhZy5tYXhpbXVtID0gbWF4aW11bTtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmIChpbnB1dCA8IG1pbmltdW0pIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIG9yaWdpbjogXCJiaWdpbnRcIixcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBjb2RlOiBcInRvb19zbWFsbFwiLFxuICAgICAgICAgICAgICAgIG1pbmltdW06IG1pbmltdW0sXG4gICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5wdXQgPiBtYXhpbXVtKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBvcmlnaW46IFwiYmlnaW50XCIsXG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgY29kZTogXCJ0b29fYmlnXCIsXG4gICAgICAgICAgICAgICAgbWF4aW11bSxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrTWF4U2l6ZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tNYXhTaXplXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICAoX2EgPSBpbnN0Ll96b2QuZGVmKS53aGVuID8/IChfYS53aGVuID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgY29uc3QgdmFsID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgcmV0dXJuICF1dGlsLm51bGxpc2godmFsKSAmJiB2YWwuc2l6ZSAhPT0gdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnIgPSAoaW5zdC5fem9kLmJhZy5tYXhpbXVtID8/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XG4gICAgICAgIGlmIChkZWYubWF4aW11bSA8IGN1cnIpXG4gICAgICAgICAgICBpbnN0Ll96b2QuYmFnLm1heGltdW0gPSBkZWYubWF4aW11bTtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGNvbnN0IHNpemUgPSBpbnB1dC5zaXplO1xuICAgICAgICBpZiAoc2l6ZSA8PSBkZWYubWF4aW11bSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBvcmlnaW46IHV0aWwuZ2V0U2l6YWJsZU9yaWdpbihpbnB1dCksXG4gICAgICAgICAgICBjb2RlOiBcInRvb19iaWdcIixcbiAgICAgICAgICAgIG1heGltdW06IGRlZi5tYXhpbXVtLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tNaW5TaXplID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja01pblNpemVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIHZhciBfYTtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgIChfYSA9IGluc3QuX3pvZC5kZWYpLndoZW4gPz8gKF9hLndoZW4gPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCB2YWwgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICByZXR1cm4gIXV0aWwubnVsbGlzaCh2YWwpICYmIHZhbC5zaXplICE9PSB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpID0+IHtcbiAgICAgICAgY29uc3QgY3VyciA9IChpbnN0Ll96b2QuYmFnLm1pbmltdW0gPz8gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKTtcbiAgICAgICAgaWYgKGRlZi5taW5pbXVtID4gY3VycilcbiAgICAgICAgICAgIGluc3QuX3pvZC5iYWcubWluaW11bSA9IGRlZi5taW5pbXVtO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IGlucHV0LnNpemU7XG4gICAgICAgIGlmIChzaXplID49IGRlZi5taW5pbXVtKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIG9yaWdpbjogdXRpbC5nZXRTaXphYmxlT3JpZ2luKGlucHV0KSxcbiAgICAgICAgICAgIGNvZGU6IFwidG9vX3NtYWxsXCIsXG4gICAgICAgICAgICBtaW5pbXVtOiBkZWYubWluaW11bSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrU2l6ZUVxdWFscyA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tTaXplRXF1YWxzXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICAoX2EgPSBpbnN0Ll96b2QuZGVmKS53aGVuID8/IChfYS53aGVuID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgY29uc3QgdmFsID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgcmV0dXJuICF1dGlsLm51bGxpc2godmFsKSAmJiB2YWwuc2l6ZSAhPT0gdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGJhZyA9IGluc3QuX3pvZC5iYWc7XG4gICAgICAgIGJhZy5taW5pbXVtID0gZGVmLnNpemU7XG4gICAgICAgIGJhZy5tYXhpbXVtID0gZGVmLnNpemU7XG4gICAgICAgIGJhZy5zaXplID0gZGVmLnNpemU7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBjb25zdCBzaXplID0gaW5wdXQuc2l6ZTtcbiAgICAgICAgaWYgKHNpemUgPT09IGRlZi5zaXplKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB0b29CaWcgPSBzaXplID4gZGVmLnNpemU7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luOiB1dGlsLmdldFNpemFibGVPcmlnaW4oaW5wdXQpLFxuICAgICAgICAgICAgLi4uKHRvb0JpZyA/IHsgY29kZTogXCJ0b29fYmlnXCIsIG1heGltdW06IGRlZi5zaXplIH0gOiB7IGNvZGU6IFwidG9vX3NtYWxsXCIsIG1pbmltdW06IGRlZi5zaXplIH0pLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja01heExlbmd0aCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tNYXhMZW5ndGhcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIHZhciBfYTtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgIChfYSA9IGluc3QuX3pvZC5kZWYpLndoZW4gPz8gKF9hLndoZW4gPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCB2YWwgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICByZXR1cm4gIXV0aWwubnVsbGlzaCh2YWwpICYmIHZhbC5sZW5ndGggIT09IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyID0gKGluc3QuX3pvZC5iYWcubWF4aW11bSA/PyBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO1xuICAgICAgICBpZiAoZGVmLm1heGltdW0gPCBjdXJyKVxuICAgICAgICAgICAgaW5zdC5fem9kLmJhZy5tYXhpbXVtID0gZGVmLm1heGltdW07XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gICAgICAgIGlmIChsZW5ndGggPD0gZGVmLm1heGltdW0pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IG9yaWdpbiA9IHV0aWwuZ2V0TGVuZ3RoYWJsZU9yaWdpbihpbnB1dCk7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luLFxuICAgICAgICAgICAgY29kZTogXCJ0b29fYmlnXCIsXG4gICAgICAgICAgICBtYXhpbXVtOiBkZWYubWF4aW11bSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrTWluTGVuZ3RoID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja01pbkxlbmd0aFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgKF9hID0gaW5zdC5fem9kLmRlZikud2hlbiA/PyAoX2Eud2hlbiA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIHJldHVybiAhdXRpbC5udWxsaXNoKHZhbCkgJiYgdmFsLmxlbmd0aCAhPT0gdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnIgPSAoaW5zdC5fem9kLmJhZy5taW5pbXVtID8/IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSk7XG4gICAgICAgIGlmIChkZWYubWluaW11bSA+IGN1cnIpXG4gICAgICAgICAgICBpbnN0Ll96b2QuYmFnLm1pbmltdW0gPSBkZWYubWluaW11bTtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGlucHV0Lmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA+PSBkZWYubWluaW11bSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgb3JpZ2luID0gdXRpbC5nZXRMZW5ndGhhYmxlT3JpZ2luKGlucHV0KTtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBvcmlnaW4sXG4gICAgICAgICAgICBjb2RlOiBcInRvb19zbWFsbFwiLFxuICAgICAgICAgICAgbWluaW11bTogZGVmLm1pbmltdW0sXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja0xlbmd0aEVxdWFscyA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tMZW5ndGhFcXVhbHNcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIHZhciBfYTtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgIChfYSA9IGluc3QuX3pvZC5kZWYpLndoZW4gPz8gKF9hLndoZW4gPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCB2YWwgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICByZXR1cm4gIXV0aWwubnVsbGlzaCh2YWwpICYmIHZhbC5sZW5ndGggIT09IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBjb25zdCBiYWcgPSBpbnN0Ll96b2QuYmFnO1xuICAgICAgICBiYWcubWluaW11bSA9IGRlZi5sZW5ndGg7XG4gICAgICAgIGJhZy5tYXhpbXVtID0gZGVmLmxlbmd0aDtcbiAgICAgICAgYmFnLmxlbmd0aCA9IGRlZi5sZW5ndGg7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gICAgICAgIGlmIChsZW5ndGggPT09IGRlZi5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IG9yaWdpbiA9IHV0aWwuZ2V0TGVuZ3RoYWJsZU9yaWdpbihpbnB1dCk7XG4gICAgICAgIGNvbnN0IHRvb0JpZyA9IGxlbmd0aCA+IGRlZi5sZW5ndGg7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luLFxuICAgICAgICAgICAgLi4uKHRvb0JpZyA/IHsgY29kZTogXCJ0b29fYmlnXCIsIG1heGltdW06IGRlZi5sZW5ndGggfSA6IHsgY29kZTogXCJ0b29fc21hbGxcIiwgbWluaW11bTogZGVmLmxlbmd0aCB9KSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tTdHJpbmdGb3JtYXQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrU3RyaW5nRm9ybWF0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpID0+IHtcbiAgICAgICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICAgICAgYmFnLmZvcm1hdCA9IGRlZi5mb3JtYXQ7XG4gICAgICAgIGlmIChkZWYucGF0dGVybikge1xuICAgICAgICAgICAgYmFnLnBhdHRlcm5zID8/IChiYWcucGF0dGVybnMgPSBuZXcgU2V0KCkpO1xuICAgICAgICAgICAgYmFnLnBhdHRlcm5zLmFkZChkZWYucGF0dGVybik7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoZGVmLnBhdHRlcm4pXG4gICAgICAgIChfYSA9IGluc3QuX3pvZCkuY2hlY2sgPz8gKF9hLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgIGRlZi5wYXR0ZXJuLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgICBpZiAoZGVmLnBhdHRlcm4udGVzdChwYXlsb2FkLnZhbHVlKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBvcmlnaW46IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgICAgIGZvcm1hdDogZGVmLmZvcm1hdCxcbiAgICAgICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgICAgICAuLi4oZGVmLnBhdHRlcm4gPyB7IHBhdHRlcm46IGRlZi5wYXR0ZXJuLnRvU3RyaW5nKCkgfSA6IHt9KSxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIGVsc2VcbiAgICAgICAgKF9iID0gaW5zdC5fem9kKS5jaGVjayA/PyAoX2IuY2hlY2sgPSAoKSA9PiB7IH0pO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrUmVnZXggPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrUmVnZXhcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RDaGVja1N0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgZGVmLnBhdHRlcm4ubGFzdEluZGV4ID0gMDtcbiAgICAgICAgaWYgKGRlZi5wYXR0ZXJuLnRlc3QocGF5bG9hZC52YWx1ZSkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgZm9ybWF0OiBcInJlZ2V4XCIsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIHBhdHRlcm46IGRlZi5wYXR0ZXJuLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tMb3dlckNhc2UgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrTG93ZXJDYXNlXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmxvd2VyY2FzZSk7XG4gICAgJFpvZENoZWNrU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja1VwcGVyQ2FzZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tVcHBlckNhc2VcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMudXBwZXJjYXNlKTtcbiAgICAkWm9kQ2hlY2tTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrSW5jbHVkZXMgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrSW5jbHVkZXNcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3QgZXNjYXBlZFJlZ2V4ID0gdXRpbC5lc2NhcGVSZWdleChkZWYuaW5jbHVkZXMpO1xuICAgIGNvbnN0IHBhdHRlcm4gPSBuZXcgUmVnRXhwKHR5cGVvZiBkZWYucG9zaXRpb24gPT09IFwibnVtYmVyXCIgPyBgXi57JHtkZWYucG9zaXRpb259fSR7ZXNjYXBlZFJlZ2V4fWAgOiBlc2NhcGVkUmVnZXgpO1xuICAgIGRlZi5wYXR0ZXJuID0gcGF0dGVybjtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBjb25zdCBiYWcgPSBpbnN0Ll96b2QuYmFnO1xuICAgICAgICBiYWcucGF0dGVybnMgPz8gKGJhZy5wYXR0ZXJucyA9IG5ldyBTZXQoKSk7XG4gICAgICAgIGJhZy5wYXR0ZXJucy5hZGQocGF0dGVybik7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgaWYgKHBheWxvYWQudmFsdWUuaW5jbHVkZXMoZGVmLmluY2x1ZGVzLCBkZWYucG9zaXRpb24pKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIG9yaWdpbjogXCJzdHJpbmdcIixcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgIGZvcm1hdDogXCJpbmNsdWRlc1wiLFxuICAgICAgICAgICAgaW5jbHVkZXM6IGRlZi5pbmNsdWRlcyxcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrU3RhcnRzV2l0aCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tTdGFydHNXaXRoXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvbnN0IHBhdHRlcm4gPSBuZXcgUmVnRXhwKGBeJHt1dGlsLmVzY2FwZVJlZ2V4KGRlZi5wcmVmaXgpfS4qYCk7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcGF0dGVybik7XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpID0+IHtcbiAgICAgICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICAgICAgYmFnLnBhdHRlcm5zID8/IChiYWcucGF0dGVybnMgPSBuZXcgU2V0KCkpO1xuICAgICAgICBiYWcucGF0dGVybnMuYWRkKHBhdHRlcm4pO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGlmIChwYXlsb2FkLnZhbHVlLnN0YXJ0c1dpdGgoZGVmLnByZWZpeCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgZm9ybWF0OiBcInN0YXJ0c193aXRoXCIsXG4gICAgICAgICAgICBwcmVmaXg6IGRlZi5wcmVmaXgsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja0VuZHNXaXRoID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja0VuZHNXaXRoXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvbnN0IHBhdHRlcm4gPSBuZXcgUmVnRXhwKGAuKiR7dXRpbC5lc2NhcGVSZWdleChkZWYuc3VmZml4KX0kYCk7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcGF0dGVybik7XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpID0+IHtcbiAgICAgICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICAgICAgYmFnLnBhdHRlcm5zID8/IChiYWcucGF0dGVybnMgPSBuZXcgU2V0KCkpO1xuICAgICAgICBiYWcucGF0dGVybnMuYWRkKHBhdHRlcm4pO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGlmIChwYXlsb2FkLnZhbHVlLmVuZHNXaXRoKGRlZi5zdWZmaXgpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIG9yaWdpbjogXCJzdHJpbmdcIixcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgIGZvcm1hdDogXCJlbmRzX3dpdGhcIixcbiAgICAgICAgICAgIHN1ZmZpeDogZGVmLnN1ZmZpeCxcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8gICAgJFpvZENoZWNrUHJvcGVydHkgICAgLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5mdW5jdGlvbiBoYW5kbGVDaGVja1Byb3BlcnR5UmVzdWx0KHJlc3VsdCwgcGF5bG9hZCwgcHJvcGVydHkpIHtcbiAgICBpZiAocmVzdWx0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCguLi51dGlsLnByZWZpeElzc3Vlcyhwcm9wZXJ0eSwgcmVzdWx0Lmlzc3VlcykpO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tQcm9wZXJ0eSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tQcm9wZXJ0eVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBkZWYuc2NoZW1hLl96b2QucnVuKHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXlsb2FkLnZhbHVlW2RlZi5wcm9wZXJ0eV0sXG4gICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICB9LCB7fSk7XG4gICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKHJlc3VsdCkgPT4gaGFuZGxlQ2hlY2tQcm9wZXJ0eVJlc3VsdChyZXN1bHQsIHBheWxvYWQsIGRlZi5wcm9wZXJ0eSkpO1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZUNoZWNrUHJvcGVydHlSZXN1bHQocmVzdWx0LCBwYXlsb2FkLCBkZWYucHJvcGVydHkpO1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja01pbWVUeXBlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja01pbWVUeXBlXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvbnN0IG1pbWVTZXQgPSBuZXcgU2V0KGRlZi5taW1lKTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBpbnN0Ll96b2QuYmFnLm1pbWUgPSBkZWYubWltZTtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBpZiAobWltZVNldC5oYXMocGF5bG9hZC52YWx1ZS50eXBlKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdmFsdWVcIixcbiAgICAgICAgICAgIHZhbHVlczogZGVmLm1pbWUsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZS50eXBlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrT3ZlcndyaXRlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja092ZXJ3cml0ZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBwYXlsb2FkLnZhbHVlID0gZGVmLnR4KHBheWxvYWQudmFsdWUpO1xuICAgIH07XG59KTtcbiIsICJleHBvcnQgY2xhc3MgRG9jIHtcbiAgICBjb25zdHJ1Y3RvcihhcmdzID0gW10pIHtcbiAgICAgICAgdGhpcy5jb250ZW50ID0gW107XG4gICAgICAgIHRoaXMuaW5kZW50ID0gMDtcbiAgICAgICAgaWYgKHRoaXMpXG4gICAgICAgICAgICB0aGlzLmFyZ3MgPSBhcmdzO1xuICAgIH1cbiAgICBpbmRlbnRlZChmbikge1xuICAgICAgICB0aGlzLmluZGVudCArPSAxO1xuICAgICAgICBmbih0aGlzKTtcbiAgICAgICAgdGhpcy5pbmRlbnQgLT0gMTtcbiAgICB9XG4gICAgd3JpdGUoYXJnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYXJnID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGFyZyh0aGlzLCB7IGV4ZWN1dGlvbjogXCJzeW5jXCIgfSk7XG4gICAgICAgICAgICBhcmcodGhpcywgeyBleGVjdXRpb246IFwiYXN5bmNcIiB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250ZW50ID0gYXJnO1xuICAgICAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoXCJcXG5cIikuZmlsdGVyKCh4KSA9PiB4KTtcbiAgICAgICAgY29uc3QgbWluSW5kZW50ID0gTWF0aC5taW4oLi4ubGluZXMubWFwKCh4KSA9PiB4Lmxlbmd0aCAtIHgudHJpbVN0YXJ0KCkubGVuZ3RoKSk7XG4gICAgICAgIGNvbnN0IGRlZGVudGVkID0gbGluZXMubWFwKCh4KSA9PiB4LnNsaWNlKG1pbkluZGVudCkpLm1hcCgoeCkgPT4gXCIgXCIucmVwZWF0KHRoaXMuaW5kZW50ICogMikgKyB4KTtcbiAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGRlZGVudGVkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQucHVzaChsaW5lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21waWxlKCkge1xuICAgICAgICBjb25zdCBGID0gRnVuY3Rpb247XG4gICAgICAgIGNvbnN0IGFyZ3MgPSB0aGlzPy5hcmdzO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcz8uY29udGVudCA/PyBbYGBdO1xuICAgICAgICBjb25zdCBsaW5lcyA9IFsuLi5jb250ZW50Lm1hcCgoeCkgPT4gYCAgJHt4fWApXTtcbiAgICAgICAgLy8gY29uc29sZS5sb2cobGluZXMuam9pbihcIlxcblwiKSk7XG4gICAgICAgIHJldHVybiBuZXcgRiguLi5hcmdzLCBsaW5lcy5qb2luKFwiXFxuXCIpKTtcbiAgICB9XG59XG4iLCAiZXhwb3J0IGNvbnN0IHZlcnNpb24gPSB7XG4gICAgbWFqb3I6IDQsXG4gICAgbWlub3I6IDEsXG4gICAgcGF0Y2g6IDgsXG59O1xuIiwgImltcG9ydCAqIGFzIGNoZWNrcyBmcm9tIFwiLi9jaGVja3MuanNcIjtcbmltcG9ydCAqIGFzIGNvcmUgZnJvbSBcIi4vY29yZS5qc1wiO1xuaW1wb3J0IHsgRG9jIH0gZnJvbSBcIi4vZG9jLmpzXCI7XG5pbXBvcnQgeyBwYXJzZSwgcGFyc2VBc3luYywgc2FmZVBhcnNlLCBzYWZlUGFyc2VBc3luYyB9IGZyb20gXCIuL3BhcnNlLmpzXCI7XG5pbXBvcnQgKiBhcyByZWdleGVzIGZyb20gXCIuL3JlZ2V4ZXMuanNcIjtcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4vdXRpbC5qc1wiO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gXCIuL3ZlcnNpb25zLmpzXCI7XG5leHBvcnQgY29uc3QgJFpvZFR5cGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFR5cGVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIHZhciBfYTtcbiAgICBpbnN0ID8/IChpbnN0ID0ge30pO1xuICAgIGluc3QuX3pvZC5kZWYgPSBkZWY7IC8vIHNldCBfZGVmIHByb3BlcnR5XG4gICAgaW5zdC5fem9kLmJhZyA9IGluc3QuX3pvZC5iYWcgfHwge307IC8vIGluaXRpYWxpemUgX2JhZyBvYmplY3RcbiAgICBpbnN0Ll96b2QudmVyc2lvbiA9IHZlcnNpb247XG4gICAgY29uc3QgY2hlY2tzID0gWy4uLihpbnN0Ll96b2QuZGVmLmNoZWNrcyA/PyBbXSldO1xuICAgIC8vIGlmIGluc3QgaXMgaXRzZWxmIGEgY2hlY2tzLiRab2RDaGVjaywgcnVuIGl0IGFzIGEgY2hlY2tcbiAgICBpZiAoaW5zdC5fem9kLnRyYWl0cy5oYXMoXCIkWm9kQ2hlY2tcIikpIHtcbiAgICAgICAgY2hlY2tzLnVuc2hpZnQoaW5zdCk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgY2ggb2YgY2hlY2tzKSB7XG4gICAgICAgIGZvciAoY29uc3QgZm4gb2YgY2guX3pvZC5vbmF0dGFjaCkge1xuICAgICAgICAgICAgZm4oaW5zdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNoZWNrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gZGVmZXJyZWQgaW5pdGlhbGl6ZXJcbiAgICAgICAgLy8gaW5zdC5fem9kLnBhcnNlIGlzIG5vdCB5ZXQgZGVmaW5lZFxuICAgICAgICAoX2EgPSBpbnN0Ll96b2QpLmRlZmVycmVkID8/IChfYS5kZWZlcnJlZCA9IFtdKTtcbiAgICAgICAgaW5zdC5fem9kLmRlZmVycmVkPy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgIGluc3QuX3pvZC5ydW4gPSBpbnN0Ll96b2QucGFyc2U7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgcnVuQ2hlY2tzID0gKHBheWxvYWQsIGNoZWNrcywgY3R4KSA9PiB7XG4gICAgICAgICAgICBsZXQgaXNBYm9ydGVkID0gdXRpbC5hYm9ydGVkKHBheWxvYWQpO1xuICAgICAgICAgICAgbGV0IGFzeW5jUmVzdWx0O1xuICAgICAgICAgICAgZm9yIChjb25zdCBjaCBvZiBjaGVja3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2guX3pvZC5kZWYud2hlbikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaG91bGRSdW4gPSBjaC5fem9kLmRlZi53aGVuKHBheWxvYWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3VsZFJ1bilcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0Fib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJMZW4gPSBwYXlsb2FkLmlzc3Vlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgY29uc3QgXyA9IGNoLl96b2QuY2hlY2socGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgaWYgKF8gaW5zdGFuY2VvZiBQcm9taXNlICYmIGN0eD8uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBjb3JlLiRab2RBc3luY0Vycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhc3luY1Jlc3VsdCB8fCBfIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICBhc3luY1Jlc3VsdCA9IChhc3luY1Jlc3VsdCA/PyBQcm9taXNlLnJlc29sdmUoKSkudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBfO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dExlbiA9IHBheWxvYWQuaXNzdWVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0TGVuID09PSBjdXJyTGVuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNBYm9ydGVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQWJvcnRlZCA9IHV0aWwuYWJvcnRlZChwYXlsb2FkLCBjdXJyTGVuKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0TGVuID0gcGF5bG9hZC5pc3N1ZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dExlbiA9PT0gY3VyckxlbilcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQWJvcnRlZClcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQWJvcnRlZCA9IHV0aWwuYWJvcnRlZChwYXlsb2FkLCBjdXJyTGVuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXN5bmNSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXN5bmNSZXN1bHQudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGNvbnN0IGhhbmRsZUNoZWNrc1Jlc3VsdCA9IChcbiAgICAgICAgLy8gICBjaGVja1Jlc3VsdDogUGFyc2VQYXlsb2FkLFxuICAgICAgICAvLyAgIG9yaWdpbmFsUmVzdWx0OiBQYXJzZVBheWxvYWQsXG4gICAgICAgIC8vICAgY3R4OiBQYXJzZUNvbnRleHRJbnRlcm5hbFxuICAgICAgICAvLyApOiB1dGlsLk1heWJlQXN5bmM8UGFyc2VQYXlsb2FkPiA9PiB7XG4gICAgICAgIC8vICAgLy8gaWYgdGhlIGNoZWNrcyBtdXRhdGVkIHRoZSB2YWx1ZSAmJiB0aGVyZSBhcmUgbm8gaXNzdWVzLCByZS1wYXJzZSB0aGUgcmVzdWx0XG4gICAgICAgIC8vICAgaWYgKGNoZWNrUmVzdWx0LnZhbHVlICE9PSBvcmlnaW5hbFJlc3VsdC52YWx1ZSAmJiAhY2hlY2tSZXN1bHQuaXNzdWVzLmxlbmd0aClcbiAgICAgICAgLy8gICAgIHJldHVybiBpbnN0Ll96b2QucGFyc2UoY2hlY2tSZXN1bHQsIGN0eCk7XG4gICAgICAgIC8vICAgcmV0dXJuIG9yaWdpbmFsUmVzdWx0O1xuICAgICAgICAvLyB9O1xuICAgICAgICBjb25zdCBoYW5kbGVDYW5hcnlSZXN1bHQgPSAoY2FuYXJ5LCBwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgICAgIC8vIGFib3J0IGlmIHRoZSBjYW5hcnkgaXMgYWJvcnRlZFxuICAgICAgICAgICAgaWYgKHV0aWwuYWJvcnRlZChjYW5hcnkpKSB7XG4gICAgICAgICAgICAgICAgY2FuYXJ5LmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBjYW5hcnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBydW4gY2hlY2tzIGZpcnN0LCB0aGVuXG4gICAgICAgICAgICBjb25zdCBjaGVja1Jlc3VsdCA9IHJ1bkNoZWNrcyhwYXlsb2FkLCBjaGVja3MsIGN0eCk7XG4gICAgICAgICAgICBpZiAoY2hlY2tSZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN0eC5hc3luYyA9PT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBjb3JlLiRab2RBc3luY0Vycm9yKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoZWNrUmVzdWx0LnRoZW4oKGNoZWNrUmVzdWx0KSA9PiBpbnN0Ll96b2QucGFyc2UoY2hlY2tSZXN1bHQsIGN0eCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGluc3QuX3pvZC5wYXJzZShjaGVja1Jlc3VsdCwgY3R4KTtcbiAgICAgICAgfTtcbiAgICAgICAgaW5zdC5fem9kLnJ1biA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgICAgIGlmIChjdHguc2tpcENoZWNrcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnN0Ll96b2QucGFyc2UocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjdHguZGlyZWN0aW9uID09PSBcImJhY2t3YXJkXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBydW4gY2FuYXJ5XG4gICAgICAgICAgICAgICAgLy8gaW5pdGlhbCBwYXNzIChubyBjaGVja3MpXG4gICAgICAgICAgICAgICAgY29uc3QgY2FuYXJ5ID0gaW5zdC5fem9kLnBhcnNlKHsgdmFsdWU6IHBheWxvYWQudmFsdWUsIGlzc3VlczogW10gfSwgeyAuLi5jdHgsIHNraXBDaGVja3M6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGNhbmFyeSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbmFyeS50aGVuKChjYW5hcnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVDYW5hcnlSZXN1bHQoY2FuYXJ5LCBwYXlsb2FkLCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUNhbmFyeVJlc3VsdChjYW5hcnksIHBheWxvYWQsIGN0eCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBmb3J3YXJkXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBpbnN0Ll96b2QucGFyc2UocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN0eC5hc3luYyA9PT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBjb3JlLiRab2RBc3luY0Vycm9yKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChyZXN1bHQpID0+IHJ1bkNoZWNrcyhyZXN1bHQsIGNoZWNrcywgY3R4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcnVuQ2hlY2tzKHJlc3VsdCwgY2hlY2tzLCBjdHgpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpbnN0W1wifnN0YW5kYXJkXCJdID0ge1xuICAgICAgICB2YWxpZGF0ZTogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBzYWZlUGFyc2UoaW5zdCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiByLnN1Y2Nlc3MgPyB7IHZhbHVlOiByLmRhdGEgfSA6IHsgaXNzdWVzOiByLmVycm9yPy5pc3N1ZXMgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNhZmVQYXJzZUFzeW5jKGluc3QsIHZhbHVlKS50aGVuKChyKSA9PiAoci5zdWNjZXNzID8geyB2YWx1ZTogci5kYXRhIH0gOiB7IGlzc3Vlczogci5lcnJvcj8uaXNzdWVzIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmVuZG9yOiBcInpvZFwiLFxuICAgICAgICB2ZXJzaW9uOiAxLFxuICAgIH07XG59KTtcbmV4cG9ydCB7IGNsb25lIH0gZnJvbSBcIi4vdXRpbC5qc1wiO1xuZXhwb3J0IGNvbnN0ICRab2RTdHJpbmcgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFN0cmluZ1wiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXR0ZXJuID0gWy4uLihpbnN0Py5fem9kLmJhZz8ucGF0dGVybnMgPz8gW10pXS5wb3AoKSA/PyByZWdleGVzLnN0cmluZyhpbnN0Ll96b2QuYmFnKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgXykgPT4ge1xuICAgICAgICBpZiAoZGVmLmNvZXJjZSlcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IFN0cmluZyhwYXlsb2FkLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfKSB7IH1cbiAgICAgICAgaWYgKHR5cGVvZiBwYXlsb2FkLnZhbHVlID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RTdHJpbmdGb3JtYXQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFN0cmluZ0Zvcm1hdFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gY2hlY2sgaW5pdGlhbGl6YXRpb24gbXVzdCBjb21lIGZpcnN0XG4gICAgY2hlY2tzLiRab2RDaGVja1N0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgJFpvZFN0cmluZy5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kR1VJRCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kR1VJRFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5ndWlkKTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RVVUlEID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RVVUlEXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBpZiAoZGVmLnZlcnNpb24pIHtcbiAgICAgICAgY29uc3QgdmVyc2lvbk1hcCA9IHtcbiAgICAgICAgICAgIHYxOiAxLFxuICAgICAgICAgICAgdjI6IDIsXG4gICAgICAgICAgICB2MzogMyxcbiAgICAgICAgICAgIHY0OiA0LFxuICAgICAgICAgICAgdjU6IDUsXG4gICAgICAgICAgICB2NjogNixcbiAgICAgICAgICAgIHY3OiA3LFxuICAgICAgICAgICAgdjg6IDgsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHYgPSB2ZXJzaW9uTWFwW2RlZi52ZXJzaW9uXTtcbiAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBVVUlEIHZlcnNpb246IFwiJHtkZWYudmVyc2lvbn1cImApO1xuICAgICAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLnV1aWQodikpO1xuICAgIH1cbiAgICBlbHNlXG4gICAgICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMudXVpZCgpKTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RFbWFpbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kRW1haWxcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMuZW1haWwpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZFVSTCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kVVJMXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gVHJpbSB3aGl0ZXNwYWNlIGZyb20gaW5wdXRcbiAgICAgICAgICAgIGNvbnN0IHRyaW1tZWQgPSBwYXlsb2FkLnZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodHJpbW1lZCk7XG4gICAgICAgICAgICBpZiAoZGVmLmhvc3RuYW1lKSB7XG4gICAgICAgICAgICAgICAgZGVmLmhvc3RuYW1lLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKCFkZWYuaG9zdG5hbWUudGVzdCh1cmwuaG9zdG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBcInVybFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbm90ZTogXCJJbnZhbGlkIGhvc3RuYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuOiByZWdleGVzLmhvc3RuYW1lLnNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGVmLnByb3RvY29sKSB7XG4gICAgICAgICAgICAgICAgZGVmLnByb3RvY29sLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKCFkZWYucHJvdG9jb2wudGVzdCh1cmwucHJvdG9jb2wuZW5kc1dpdGgoXCI6XCIpID8gdXJsLnByb3RvY29sLnNsaWNlKDAsIC0xKSA6IHVybC5wcm90b2NvbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IFwidXJsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBub3RlOiBcIkludmFsaWQgcHJvdG9jb2xcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm46IGRlZi5wcm90b2NvbC5zb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2V0IHRoZSBvdXRwdXQgdmFsdWUgYmFzZWQgb24gbm9ybWFsaXplIGZsYWdcbiAgICAgICAgICAgIGlmIChkZWYubm9ybWFsaXplKSB7XG4gICAgICAgICAgICAgICAgLy8gVXNlIG5vcm1hbGl6ZWQgVVJMXG4gICAgICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IHVybC5ocmVmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gUHJlc2VydmUgdGhlIG9yaWdpbmFsIGlucHV0ICh0cmltbWVkKVxuICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSB0cmltbWVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICAgICAgZm9ybWF0OiBcInVybFwiLFxuICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kRW1vamkgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEVtb2ppXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmVtb2ppKCkpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZE5hbm9JRCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kTmFub0lEXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLm5hbm9pZCk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ1VJRCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ1VJRFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5jdWlkKTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDVUlEMiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ1VJRDJcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMuY3VpZDIpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZFVMSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFVMSURcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMudWxpZCk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kWElEID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RYSURcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMueGlkKTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RLU1VJRCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kS1NVSURcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMua3N1aWQpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZElTT0RhdGVUaW1lID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RJU09EYXRlVGltZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5kYXRldGltZShkZWYpKTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RJU09EYXRlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RJU09EYXRlXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmRhdGUpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZElTT1RpbWUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZElTT1RpbWVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMudGltZShkZWYpKTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RJU09EdXJhdGlvbiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kSVNPRHVyYXRpb25cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMuZHVyYXRpb24pO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZElQdjQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZElQdjRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMuaXB2NCk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpID0+IHtcbiAgICAgICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICAgICAgYmFnLmZvcm1hdCA9IGBpcHY0YDtcbiAgICB9KTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RJUHY2ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RJUHY2XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmlwdjYpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGJhZyA9IGluc3QuX3pvZC5iYWc7XG4gICAgICAgIGJhZy5mb3JtYXQgPSBgaXB2NmA7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIG5ldyBVUkwoYGh0dHA6Ly9bJHtwYXlsb2FkLnZhbHVlfV1gKTtcbiAgICAgICAgICAgIC8vIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICAgICAgZm9ybWF0OiBcImlwdjZcIixcbiAgICAgICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENJRFJ2NCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ0lEUnY0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmNpZHJ2NCk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ0lEUnY2ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDSURSdjZcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMuY2lkcnY2KTsgLy8gbm90IHVzZWQgZm9yIHZhbGlkYXRpb25cbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHBheWxvYWQudmFsdWUuc3BsaXQoXCIvXCIpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCAhPT0gMilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgIGNvbnN0IFthZGRyZXNzLCBwcmVmaXhdID0gcGFydHM7XG4gICAgICAgICAgICBpZiAoIXByZWZpeClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgIGNvbnN0IHByZWZpeE51bSA9IE51bWJlcihwcmVmaXgpO1xuICAgICAgICAgICAgaWYgKGAke3ByZWZpeE51bX1gICE9PSBwcmVmaXgpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgICAgICBpZiAocHJlZml4TnVtIDwgMCB8fCBwcmVmaXhOdW0gPiAxMjgpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBuZXcgVVJMKGBodHRwOi8vWyR7YWRkcmVzc31dYCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgICAgIGZvcm1hdDogXCJjaWRydjZcIixcbiAgICAgICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufSk7XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gICBab2RCYXNlNjQgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkQmFzZTY0KGRhdGEpIHtcbiAgICBpZiAoZGF0YSA9PT0gXCJcIilcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKGRhdGEubGVuZ3RoICUgNCAhPT0gMClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgYXRvYihkYXRhKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCAkWm9kQmFzZTY0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RCYXNlNjRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMuYmFzZTY0KTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBpbnN0Ll96b2QuYmFnLmNvbnRlbnRFbmNvZGluZyA9IFwiYmFzZTY0XCI7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgaWYgKGlzVmFsaWRCYXNlNjQocGF5bG9hZC52YWx1ZSkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgZm9ybWF0OiBcImJhc2U2NFwiLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyAgIFpvZEJhc2U2NCAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRCYXNlNjRVUkwoZGF0YSkge1xuICAgIGlmICghcmVnZXhlcy5iYXNlNjR1cmwudGVzdChkYXRhKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IGJhc2U2NCA9IGRhdGEucmVwbGFjZSgvWy1fXS9nLCAoYykgPT4gKGMgPT09IFwiLVwiID8gXCIrXCIgOiBcIi9cIikpO1xuICAgIGNvbnN0IHBhZGRlZCA9IGJhc2U2NC5wYWRFbmQoTWF0aC5jZWlsKGJhc2U2NC5sZW5ndGggLyA0KSAqIDQsIFwiPVwiKTtcbiAgICByZXR1cm4gaXNWYWxpZEJhc2U2NChwYWRkZWQpO1xufVxuZXhwb3J0IGNvbnN0ICRab2RCYXNlNjRVUkwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEJhc2U2NFVSTFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5iYXNlNjR1cmwpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIGluc3QuX3pvZC5iYWcuY29udGVudEVuY29kaW5nID0gXCJiYXNlNjR1cmxcIjtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBpZiAoaXNWYWxpZEJhc2U2NFVSTChwYXlsb2FkLnZhbHVlKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICBmb3JtYXQ6IFwiYmFzZTY0dXJsXCIsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RFMTY0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RFMTY0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmUxNjQpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gICBab2RKV1QgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkSldUKHRva2VuLCBhbGdvcml0aG0gPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdG9rZW5zUGFydHMgPSB0b2tlbi5zcGxpdChcIi5cIik7XG4gICAgICAgIGlmICh0b2tlbnNQYXJ0cy5sZW5ndGggIT09IDMpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IFtoZWFkZXJdID0gdG9rZW5zUGFydHM7XG4gICAgICAgIGlmICghaGVhZGVyKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IHBhcnNlZEhlYWRlciA9IEpTT04ucGFyc2UoYXRvYihoZWFkZXIpKTtcbiAgICAgICAgaWYgKFwidHlwXCIgaW4gcGFyc2VkSGVhZGVyICYmIHBhcnNlZEhlYWRlcj8udHlwICE9PSBcIkpXVFwiKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIXBhcnNlZEhlYWRlci5hbGcpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChhbGdvcml0aG0gJiYgKCEoXCJhbGdcIiBpbiBwYXJzZWRIZWFkZXIpIHx8IHBhcnNlZEhlYWRlci5hbGcgIT09IGFsZ29yaXRobSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgJFpvZEpXVCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kSldUXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBpZiAoaXNWYWxpZEpXVChwYXlsb2FkLnZhbHVlLCBkZWYuYWxnKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICBmb3JtYXQ6IFwiand0XCIsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDdXN0b21TdHJpbmdGb3JtYXQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEN1c3RvbVN0cmluZ0Zvcm1hdFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgaWYgKGRlZi5mbihwYXlsb2FkLnZhbHVlKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICBmb3JtYXQ6IGRlZi5mb3JtYXQsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2ROdW1iZXIgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZE51bWJlclwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXR0ZXJuID0gaW5zdC5fem9kLmJhZy5wYXR0ZXJuID8/IHJlZ2V4ZXMubnVtYmVyO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KSA9PiB7XG4gICAgICAgIGlmIChkZWYuY29lcmNlKVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gTnVtYmVyKHBheWxvYWQudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF8pIHsgfVxuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09IFwibnVtYmVyXCIgJiYgIU51bWJlci5pc05hTihpbnB1dCkgJiYgTnVtYmVyLmlzRmluaXRlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVjZWl2ZWQgPSB0eXBlb2YgaW5wdXQgPT09IFwibnVtYmVyXCJcbiAgICAgICAgICAgID8gTnVtYmVyLmlzTmFOKGlucHV0KVxuICAgICAgICAgICAgICAgID8gXCJOYU5cIlxuICAgICAgICAgICAgICAgIDogIU51bWJlci5pc0Zpbml0ZShpbnB1dClcbiAgICAgICAgICAgICAgICAgICAgPyBcIkluZmluaXR5XCJcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWRcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGV4cGVjdGVkOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIC4uLihyZWNlaXZlZCA/IHsgcmVjZWl2ZWQgfSA6IHt9KSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kTnVtYmVyRm9ybWF0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2ROdW1iZXJcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNoZWNrcy4kWm9kQ2hlY2tOdW1iZXJGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgICRab2ROdW1iZXIuaW5pdChpbnN0LCBkZWYpOyAvLyBubyBmb3JtYXQgY2hlY2tzcFxufSk7XG5leHBvcnQgY29uc3QgJFpvZEJvb2xlYW4gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEJvb2xlYW5cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGF0dGVybiA9IHJlZ2V4ZXMuYm9vbGVhbjtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgX2N0eCkgPT4ge1xuICAgICAgICBpZiAoZGVmLmNvZXJjZSlcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IEJvb2xlYW4ocGF5bG9hZC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoXykgeyB9XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJib29sZWFuXCIpXG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBleHBlY3RlZDogXCJib29sZWFuXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RCaWdJbnQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEJpZ0ludFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXR0ZXJuID0gcmVnZXhlcy5iaWdpbnQ7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpID0+IHtcbiAgICAgICAgaWYgKGRlZi5jb2VyY2UpXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSBCaWdJbnQocGF5bG9hZC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoXykgeyB9XG4gICAgICAgIGlmICh0eXBlb2YgcGF5bG9hZC52YWx1ZSA9PT0gXCJiaWdpbnRcIilcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGV4cGVjdGVkOiBcImJpZ2ludFwiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQmlnSW50Rm9ybWF0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RCaWdJbnRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNoZWNrcy4kWm9kQ2hlY2tCaWdJbnRGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgICRab2RCaWdJbnQuaW5pdChpbnN0LCBkZWYpOyAvLyBubyBmb3JtYXQgY2hlY2tzXG59KTtcbmV4cG9ydCBjb25zdCAkWm9kU3ltYm9sID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RTeW1ib2xcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgX2N0eCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09IFwic3ltYm9sXCIpXG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBleHBlY3RlZDogXCJzeW1ib2xcIixcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZFVuZGVmaW5lZCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kVW5kZWZpbmVkXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhdHRlcm4gPSByZWdleGVzLnVuZGVmaW5lZDtcbiAgICBpbnN0Ll96b2QudmFsdWVzID0gbmV3IFNldChbdW5kZWZpbmVkXSk7XG4gICAgaW5zdC5fem9kLm9wdGluID0gXCJvcHRpb25hbFwiO1xuICAgIGluc3QuX3pvZC5vcHRvdXQgPSBcIm9wdGlvbmFsXCI7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IFwidW5kZWZpbmVkXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2ROdWxsID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2ROdWxsXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhdHRlcm4gPSByZWdleGVzLm51bGw7XG4gICAgaW5zdC5fem9kLnZhbHVlcyA9IG5ldyBTZXQoW251bGxdKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgX2N0eCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmIChpbnB1dCA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGV4cGVjdGVkOiBcIm51bGxcIixcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZEFueSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQW55XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQpID0+IHBheWxvYWQ7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kVW5rbm93biA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kVW5rbm93blwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkKSA9PiBwYXlsb2FkO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZE5ldmVyID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2ROZXZlclwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KSA9PiB7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IFwibmV2ZXJcIixcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZFZvaWQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFZvaWRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgX2N0eCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBleHBlY3RlZDogXCJ2b2lkXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2REYXRlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2REYXRlXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpID0+IHtcbiAgICAgICAgaWYgKGRlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IG5ldyBEYXRlKHBheWxvYWQudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF9lcnIpIHsgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgY29uc3QgaXNEYXRlID0gaW5wdXQgaW5zdGFuY2VvZiBEYXRlO1xuICAgICAgICBjb25zdCBpc1ZhbGlkRGF0ZSA9IGlzRGF0ZSAmJiAhTnVtYmVyLmlzTmFOKGlucHV0LmdldFRpbWUoKSk7XG4gICAgICAgIGlmIChpc1ZhbGlkRGF0ZSlcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGV4cGVjdGVkOiBcImRhdGVcIixcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIC4uLihpc0RhdGUgPyB7IHJlY2VpdmVkOiBcIkludmFsaWQgRGF0ZVwiIH0gOiB7fSksXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gaGFuZGxlQXJyYXlSZXN1bHQocmVzdWx0LCBmaW5hbCwgaW5kZXgpIHtcbiAgICBpZiAocmVzdWx0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgZmluYWwuaXNzdWVzLnB1c2goLi4udXRpbC5wcmVmaXhJc3N1ZXMoaW5kZXgsIHJlc3VsdC5pc3N1ZXMpKTtcbiAgICB9XG4gICAgZmluYWwudmFsdWVbaW5kZXhdID0gcmVzdWx0LnZhbHVlO1xufVxuZXhwb3J0IGNvbnN0ICRab2RBcnJheSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQXJyYXlcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGlucHV0KSkge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIHBheWxvYWQudmFsdWUgPSBBcnJheShpbnB1dC5sZW5ndGgpO1xuICAgICAgICBjb25zdCBwcm9tcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gaW5wdXRbaV07XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBkZWYuZWxlbWVudC5fem9kLnJ1bih7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0sXG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgIH0sIGN0eCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHByb21zLnB1c2gocmVzdWx0LnRoZW4oKHJlc3VsdCkgPT4gaGFuZGxlQXJyYXlSZXN1bHQocmVzdWx0LCBwYXlsb2FkLCBpKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlQXJyYXlSZXN1bHQocmVzdWx0LCBwYXlsb2FkLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbXMpLnRoZW4oKCkgPT4gcGF5bG9hZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7IC8vaGFuZGxlQXJyYXlSZXN1bHRzQXN5bmMocGFyc2VSZXN1bHRzLCBmaW5hbCk7XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gaGFuZGxlUHJvcGVydHlSZXN1bHQocmVzdWx0LCBmaW5hbCwga2V5LCBpbnB1dCkge1xuICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICBmaW5hbC5pc3N1ZXMucHVzaCguLi51dGlsLnByZWZpeElzc3VlcyhrZXksIHJlc3VsdC5pc3N1ZXMpKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChrZXkgaW4gaW5wdXQpIHtcbiAgICAgICAgICAgIGZpbmFsLnZhbHVlW2tleV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZpbmFsLnZhbHVlW2tleV0gPSByZXN1bHQudmFsdWU7XG4gICAgfVxufVxuZnVuY3Rpb24gbm9ybWFsaXplRGVmKGRlZikge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhkZWYuc2hhcGUpO1xuICAgIGZvciAoY29uc3QgayBvZiBrZXlzKSB7XG4gICAgICAgIGlmICghZGVmLnNoYXBlPy5ba10/Ll96b2Q/LnRyYWl0cz8uaGFzKFwiJFpvZFR5cGVcIikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBlbGVtZW50IGF0IGtleSBcIiR7a31cIjogZXhwZWN0ZWQgYSBab2Qgc2NoZW1hYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgb2tleXMgPSB1dGlsLm9wdGlvbmFsS2V5cyhkZWYuc2hhcGUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmRlZixcbiAgICAgICAga2V5cyxcbiAgICAgICAga2V5U2V0OiBuZXcgU2V0KGtleXMpLFxuICAgICAgICBudW1LZXlzOiBrZXlzLmxlbmd0aCxcbiAgICAgICAgb3B0aW9uYWxLZXlzOiBuZXcgU2V0KG9rZXlzKSxcbiAgICB9O1xufVxuZnVuY3Rpb24gaGFuZGxlQ2F0Y2hhbGwocHJvbXMsIGlucHV0LCBwYXlsb2FkLCBjdHgsIGRlZiwgaW5zdCkge1xuICAgIGNvbnN0IHVucmVjb2duaXplZCA9IFtdO1xuICAgIC8vIGl0ZXJhdGUgb3ZlciBpbnB1dCBrZXlzXG4gICAgY29uc3Qga2V5U2V0ID0gZGVmLmtleVNldDtcbiAgICBjb25zdCBfY2F0Y2hhbGwgPSBkZWYuY2F0Y2hhbGwuX3pvZDtcbiAgICBjb25zdCB0ID0gX2NhdGNoYWxsLmRlZi50eXBlO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGlucHV0KSkge1xuICAgICAgICBpZiAoa2V5U2V0LmhhcyhrZXkpKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGlmICh0ID09PSBcIm5ldmVyXCIpIHtcbiAgICAgICAgICAgIHVucmVjb2duaXplZC5wdXNoKGtleSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByID0gX2NhdGNoYWxsLnJ1bih7IHZhbHVlOiBpbnB1dFtrZXldLCBpc3N1ZXM6IFtdIH0sIGN0eCk7XG4gICAgICAgIGlmIChyIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcHJvbXMucHVzaChyLnRoZW4oKHIpID0+IGhhbmRsZVByb3BlcnR5UmVzdWx0KHIsIHBheWxvYWQsIGtleSwgaW5wdXQpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGVQcm9wZXJ0eVJlc3VsdChyLCBwYXlsb2FkLCBrZXksIGlucHV0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodW5yZWNvZ25pemVkLmxlbmd0aCkge1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvZGU6IFwidW5yZWNvZ25pemVkX2tleXNcIixcbiAgICAgICAgICAgIGtleXM6IHVucmVjb2duaXplZCxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghcHJvbXMubGVuZ3RoKVxuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbXMpLnRoZW4oKCkgPT4ge1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCAkWm9kT2JqZWN0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RPYmplY3RcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIHJlcXVpcmVzIGNhc3QgYmVjYXVzZSB0ZWNobmljYWxseSAkWm9kT2JqZWN0IGRvZXNuJ3QgZXh0ZW5kXG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvbnN0IF9ub3JtYWxpemVkID0gdXRpbC5jYWNoZWQoKCkgPT4gbm9ybWFsaXplRGVmKGRlZikpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwicHJvcFZhbHVlc1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0gZGVmLnNoYXBlO1xuICAgICAgICBjb25zdCBwcm9wVmFsdWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNoYXBlKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZCA9IHNoYXBlW2tleV0uX3pvZDtcbiAgICAgICAgICAgIGlmIChmaWVsZC52YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBwcm9wVmFsdWVzW2tleV0gPz8gKHByb3BWYWx1ZXNba2V5XSA9IG5ldyBTZXQoKSk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB2IG9mIGZpZWxkLnZhbHVlcylcbiAgICAgICAgICAgICAgICAgICAgcHJvcFZhbHVlc1trZXldLmFkZCh2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvcFZhbHVlcztcbiAgICB9KTtcbiAgICBjb25zdCBpc09iamVjdCA9IHV0aWwuaXNPYmplY3Q7XG4gICAgY29uc3QgY2F0Y2hhbGwgPSBkZWYuY2F0Y2hhbGw7XG4gICAgbGV0IHZhbHVlO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgdmFsdWUgPz8gKHZhbHVlID0gX25vcm1hbGl6ZWQudmFsdWUpO1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICghaXNPYmplY3QoaW5wdXQpKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJvYmplY3RcIixcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIHBheWxvYWQudmFsdWUgPSB7fTtcbiAgICAgICAgY29uc3QgcHJvbXMgPSBbXTtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSB2YWx1ZS5zaGFwZTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdmFsdWUua2V5cykge1xuICAgICAgICAgICAgY29uc3QgZWwgPSBzaGFwZVtrZXldO1xuICAgICAgICAgICAgY29uc3QgciA9IGVsLl96b2QucnVuKHsgdmFsdWU6IGlucHV0W2tleV0sIGlzc3VlczogW10gfSwgY3R4KTtcbiAgICAgICAgICAgIGlmIChyIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHByb21zLnB1c2goci50aGVuKChyKSA9PiBoYW5kbGVQcm9wZXJ0eVJlc3VsdChyLCBwYXlsb2FkLCBrZXksIGlucHV0KSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlUHJvcGVydHlSZXN1bHQociwgcGF5bG9hZCwga2V5LCBpbnB1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjYXRjaGFsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb21zLmxlbmd0aCA/IFByb21pc2UuYWxsKHByb21zKS50aGVuKCgpID0+IHBheWxvYWQpIDogcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFuZGxlQ2F0Y2hhbGwocHJvbXMsIGlucHV0LCBwYXlsb2FkLCBjdHgsIF9ub3JtYWxpemVkLnZhbHVlLCBpbnN0KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZE9iamVjdEpJVCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kT2JqZWN0SklUXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyByZXF1aXJlcyBjYXN0IGJlY2F1c2UgdGVjaG5pY2FsbHkgJFpvZE9iamVjdCBkb2Vzbid0IGV4dGVuZFxuICAgICRab2RPYmplY3QuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvbnN0IHN1cGVyUGFyc2UgPSBpbnN0Ll96b2QucGFyc2U7XG4gICAgY29uc3QgX25vcm1hbGl6ZWQgPSB1dGlsLmNhY2hlZCgoKSA9PiBub3JtYWxpemVEZWYoZGVmKSk7XG4gICAgY29uc3QgZ2VuZXJhdGVGYXN0cGFzcyA9IChzaGFwZSkgPT4ge1xuICAgICAgICBjb25zdCBkb2MgPSBuZXcgRG9jKFtcInNoYXBlXCIsIFwicGF5bG9hZFwiLCBcImN0eFwiXSk7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBfbm9ybWFsaXplZC52YWx1ZTtcbiAgICAgICAgY29uc3QgcGFyc2VTdHIgPSAoa2V5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBrID0gdXRpbC5lc2Moa2V5KTtcbiAgICAgICAgICAgIHJldHVybiBgc2hhcGVbJHtrfV0uX3pvZC5ydW4oeyB2YWx1ZTogaW5wdXRbJHtrfV0sIGlzc3VlczogW10gfSwgY3R4KWA7XG4gICAgICAgIH07XG4gICAgICAgIGRvYy53cml0ZShgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO2ApO1xuICAgICAgICBjb25zdCBpZHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBsZXQgY291bnRlciA9IDA7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIG5vcm1hbGl6ZWQua2V5cykge1xuICAgICAgICAgICAgaWRzW2tleV0gPSBga2V5XyR7Y291bnRlcisrfWA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQTogcHJlc2VydmUga2V5IG9yZGVyIHtcbiAgICAgICAgZG9jLndyaXRlKGBjb25zdCBuZXdSZXN1bHQgPSB7fTtgKTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygbm9ybWFsaXplZC5rZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IGlkc1trZXldO1xuICAgICAgICAgICAgY29uc3QgayA9IHV0aWwuZXNjKGtleSk7XG4gICAgICAgICAgICBkb2Mud3JpdGUoYGNvbnN0ICR7aWR9ID0gJHtwYXJzZVN0cihrZXkpfTtgKTtcbiAgICAgICAgICAgIGRvYy53cml0ZShgXG4gICAgICAgIGlmICgke2lkfS5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgcGF5bG9hZC5pc3N1ZXMgPSBwYXlsb2FkLmlzc3Vlcy5jb25jYXQoJHtpZH0uaXNzdWVzLm1hcChpc3MgPT4gKHtcbiAgICAgICAgICAgIC4uLmlzcyxcbiAgICAgICAgICAgIHBhdGg6IGlzcy5wYXRoID8gWyR7a30sIC4uLmlzcy5wYXRoXSA6IFske2t9XVxuICAgICAgICAgIH0pKSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBpZiAoJHtpZH0udmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgke2t9IGluIGlucHV0KSB7XG4gICAgICAgICAgICBuZXdSZXN1bHRbJHtrfV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld1Jlc3VsdFske2t9XSA9ICR7aWR9LnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgYCk7XG4gICAgICAgIH1cbiAgICAgICAgZG9jLndyaXRlKGBwYXlsb2FkLnZhbHVlID0gbmV3UmVzdWx0O2ApO1xuICAgICAgICBkb2Mud3JpdGUoYHJldHVybiBwYXlsb2FkO2ApO1xuICAgICAgICBjb25zdCBmbiA9IGRvYy5jb21waWxlKCk7XG4gICAgICAgIHJldHVybiAocGF5bG9hZCwgY3R4KSA9PiBmbihzaGFwZSwgcGF5bG9hZCwgY3R4KTtcbiAgICB9O1xuICAgIGxldCBmYXN0cGFzcztcbiAgICBjb25zdCBpc09iamVjdCA9IHV0aWwuaXNPYmplY3Q7XG4gICAgY29uc3Qgaml0ID0gIWNvcmUuZ2xvYmFsQ29uZmlnLmppdGxlc3M7XG4gICAgY29uc3QgYWxsb3dzRXZhbCA9IHV0aWwuYWxsb3dzRXZhbDtcbiAgICBjb25zdCBmYXN0RW5hYmxlZCA9IGppdCAmJiBhbGxvd3NFdmFsLnZhbHVlOyAvLyAmJiAhZGVmLmNhdGNoYWxsO1xuICAgIGNvbnN0IGNhdGNoYWxsID0gZGVmLmNhdGNoYWxsO1xuICAgIGxldCB2YWx1ZTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIHZhbHVlID8/ICh2YWx1ZSA9IF9ub3JtYWxpemVkLnZhbHVlKTtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAoIWlzT2JqZWN0KGlucHV0KSkge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaml0ICYmIGZhc3RFbmFibGVkICYmIGN0eD8uYXN5bmMgPT09IGZhbHNlICYmIGN0eC5qaXRsZXNzICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAvLyBhbHdheXMgc3luY2hyb25vdXNcbiAgICAgICAgICAgIGlmICghZmFzdHBhc3MpXG4gICAgICAgICAgICAgICAgZmFzdHBhc3MgPSBnZW5lcmF0ZUZhc3RwYXNzKGRlZi5zaGFwZSk7XG4gICAgICAgICAgICBwYXlsb2FkID0gZmFzdHBhc3MocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgICAgIGlmICghY2F0Y2hhbGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlQ2F0Y2hhbGwoW10sIGlucHV0LCBwYXlsb2FkLCBjdHgsIHZhbHVlLCBpbnN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwZXJQYXJzZShwYXlsb2FkLCBjdHgpO1xuICAgIH07XG59KTtcbmZ1bmN0aW9uIGhhbmRsZVVuaW9uUmVzdWx0cyhyZXN1bHRzLCBmaW5hbCwgaW5zdCwgY3R4KSB7XG4gICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgICAgICBpZiAocmVzdWx0Lmlzc3Vlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGZpbmFsLnZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIGZpbmFsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG5vbmFib3J0ZWQgPSByZXN1bHRzLmZpbHRlcigocikgPT4gIXV0aWwuYWJvcnRlZChyKSk7XG4gICAgaWYgKG5vbmFib3J0ZWQubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGZpbmFsLnZhbHVlID0gbm9uYWJvcnRlZFswXS52YWx1ZTtcbiAgICAgICAgcmV0dXJuIG5vbmFib3J0ZWRbMF07XG4gICAgfVxuICAgIGZpbmFsLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgY29kZTogXCJpbnZhbGlkX3VuaW9uXCIsXG4gICAgICAgIGlucHV0OiBmaW5hbC52YWx1ZSxcbiAgICAgICAgaW5zdCxcbiAgICAgICAgZXJyb3JzOiByZXN1bHRzLm1hcCgocmVzdWx0KSA9PiByZXN1bHQuaXNzdWVzLm1hcCgoaXNzKSA9PiB1dGlsLmZpbmFsaXplSXNzdWUoaXNzLCBjdHgsIGNvcmUuY29uZmlnKCkpKSksXG4gICAgfSk7XG4gICAgcmV0dXJuIGZpbmFsO1xufVxuZXhwb3J0IGNvbnN0ICRab2RVbmlvbiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kVW5pb25cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcIm9wdGluXCIsICgpID0+IGRlZi5vcHRpb25zLnNvbWUoKG8pID0+IG8uX3pvZC5vcHRpbiA9PT0gXCJvcHRpb25hbFwiKSA/IFwib3B0aW9uYWxcIiA6IHVuZGVmaW5lZCk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJvcHRvdXRcIiwgKCkgPT4gZGVmLm9wdGlvbnMuc29tZSgobykgPT4gby5fem9kLm9wdG91dCA9PT0gXCJvcHRpb25hbFwiKSA/IFwib3B0aW9uYWxcIiA6IHVuZGVmaW5lZCk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJ2YWx1ZXNcIiwgKCkgPT4ge1xuICAgICAgICBpZiAoZGVmLm9wdGlvbnMuZXZlcnkoKG8pID0+IG8uX3pvZC52YWx1ZXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNldChkZWYub3B0aW9ucy5mbGF0TWFwKChvcHRpb24pID0+IEFycmF5LmZyb20ob3B0aW9uLl96b2QudmFsdWVzKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJwYXR0ZXJuXCIsICgpID0+IHtcbiAgICAgICAgaWYgKGRlZi5vcHRpb25zLmV2ZXJ5KChvKSA9PiBvLl96b2QucGF0dGVybikpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm5zID0gZGVmLm9wdGlvbnMubWFwKChvKSA9PiBvLl96b2QucGF0dGVybik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgXigke3BhdHRlcm5zLm1hcCgocCkgPT4gdXRpbC5jbGVhblJlZ2V4KHAuc291cmNlKSkuam9pbihcInxcIil9KSRgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIGNvbnN0IHNpbmdsZSA9IGRlZi5vcHRpb25zLmxlbmd0aCA9PT0gMTtcbiAgICBjb25zdCBmaXJzdCA9IGRlZi5vcHRpb25zWzBdLl96b2QucnVuO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgaWYgKHNpbmdsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZpcnN0KHBheWxvYWQsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGFzeW5jID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBvcHRpb24gb2YgZGVmLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG9wdGlvbi5fem9kLnJ1bih7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgIH0sIGN0eCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgICAgIGFzeW5jID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gocmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFzeW5jKVxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVVuaW9uUmVzdWx0cyhyZXN1bHRzLCBwYXlsb2FkLCBpbnN0LCBjdHgpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocmVzdWx0cykudGhlbigocmVzdWx0cykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVVuaW9uUmVzdWx0cyhyZXN1bHRzLCBwYXlsb2FkLCBpbnN0LCBjdHgpO1xuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZERpc2NyaW1pbmF0ZWRVbmlvbiA9IFxuLypAX19QVVJFX18qL1xuY29yZS4kY29uc3RydWN0b3IoXCIkWm9kRGlzY3JpbWluYXRlZFVuaW9uXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVW5pb24uaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvbnN0IF9zdXBlciA9IGluc3QuX3pvZC5wYXJzZTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInByb3BWYWx1ZXNcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBwcm9wVmFsdWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIGRlZi5vcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBwdiA9IG9wdGlvbi5fem9kLnByb3BWYWx1ZXM7XG4gICAgICAgICAgICBpZiAoIXB2IHx8IE9iamVjdC5rZXlzKHB2KS5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGRpc2NyaW1pbmF0ZWQgdW5pb24gb3B0aW9uIGF0IGluZGV4IFwiJHtkZWYub3B0aW9ucy5pbmRleE9mKG9wdGlvbil9XCJgKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKHB2KSkge1xuICAgICAgICAgICAgICAgIGlmICghcHJvcFZhbHVlc1trXSlcbiAgICAgICAgICAgICAgICAgICAgcHJvcFZhbHVlc1trXSA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB2KSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BWYWx1ZXNba10uYWRkKHZhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9wVmFsdWVzO1xuICAgIH0pO1xuICAgIGNvbnN0IGRpc2MgPSB1dGlsLmNhY2hlZCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdHMgPSBkZWYub3B0aW9ucztcbiAgICAgICAgY29uc3QgbWFwID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IG8gb2Ygb3B0cykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gby5fem9kLnByb3BWYWx1ZXM/LltkZWYuZGlzY3JpbWluYXRvcl07XG4gICAgICAgICAgICBpZiAoIXZhbHVlcyB8fCB2YWx1ZXMuc2l6ZSA9PT0gMClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZGlzY3JpbWluYXRlZCB1bmlvbiBvcHRpb24gYXQgaW5kZXggXCIke2RlZi5vcHRpb25zLmluZGV4T2Yobyl9XCJgKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdiBvZiB2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAobWFwLmhhcyh2KSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYER1cGxpY2F0ZSBkaXNjcmltaW5hdG9yIHZhbHVlIFwiJHtTdHJpbmcodil9XCJgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWFwLnNldCh2LCBvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFwO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAoIXV0aWwuaXNPYmplY3QoaW5wdXQpKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wdCA9IGRpc2MudmFsdWUuZ2V0KGlucHV0Py5bZGVmLmRpc2NyaW1pbmF0b3JdKTtcbiAgICAgICAgaWYgKG9wdCkge1xuICAgICAgICAgICAgcmV0dXJuIG9wdC5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYudW5pb25GYWxsYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlcihwYXlsb2FkLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vIG1hdGNoaW5nIGRpc2NyaW1pbmF0b3JcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdW5pb25cIixcbiAgICAgICAgICAgIGVycm9yczogW10sXG4gICAgICAgICAgICBub3RlOiBcIk5vIG1hdGNoaW5nIGRpc2NyaW1pbmF0b3JcIixcbiAgICAgICAgICAgIGRpc2NyaW1pbmF0b3I6IGRlZi5kaXNjcmltaW5hdG9yLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBwYXRoOiBbZGVmLmRpc2NyaW1pbmF0b3JdLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kSW50ZXJzZWN0aW9uID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RJbnRlcnNlY3Rpb25cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgY29uc3QgbGVmdCA9IGRlZi5sZWZ0Ll96b2QucnVuKHsgdmFsdWU6IGlucHV0LCBpc3N1ZXM6IFtdIH0sIGN0eCk7XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gZGVmLnJpZ2h0Ll96b2QucnVuKHsgdmFsdWU6IGlucHV0LCBpc3N1ZXM6IFtdIH0sIGN0eCk7XG4gICAgICAgIGNvbnN0IGFzeW5jID0gbGVmdCBpbnN0YW5jZW9mIFByb21pc2UgfHwgcmlnaHQgaW5zdGFuY2VvZiBQcm9taXNlO1xuICAgICAgICBpZiAoYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbbGVmdCwgcmlnaHRdKS50aGVuKChbbGVmdCwgcmlnaHRdKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUludGVyc2VjdGlvblJlc3VsdHMocGF5bG9hZCwgbGVmdCwgcmlnaHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhbmRsZUludGVyc2VjdGlvblJlc3VsdHMocGF5bG9hZCwgbGVmdCwgcmlnaHQpO1xuICAgIH07XG59KTtcbmZ1bmN0aW9uIG1lcmdlVmFsdWVzKGEsIGIpIHtcbiAgICAvLyBjb25zdCBhVHlwZSA9IHBhcnNlLnQoYSk7XG4gICAgLy8gY29uc3QgYlR5cGUgPSBwYXJzZS50KGIpO1xuICAgIGlmIChhID09PSBiKSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBhIH07XG4gICAgfVxuICAgIGlmIChhIGluc3RhbmNlb2YgRGF0ZSAmJiBiIGluc3RhbmNlb2YgRGF0ZSAmJiArYSA9PT0gK2IpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IGEgfTtcbiAgICB9XG4gICAgaWYgKHV0aWwuaXNQbGFpbk9iamVjdChhKSAmJiB1dGlsLmlzUGxhaW5PYmplY3QoYikpIHtcbiAgICAgICAgY29uc3QgYktleXMgPSBPYmplY3Qua2V5cyhiKTtcbiAgICAgICAgY29uc3Qgc2hhcmVkS2V5cyA9IE9iamVjdC5rZXlzKGEpLmZpbHRlcigoa2V5KSA9PiBiS2V5cy5pbmRleE9mKGtleSkgIT09IC0xKTtcbiAgICAgICAgY29uc3QgbmV3T2JqID0geyAuLi5hLCAuLi5iIH07XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHNoYXJlZEtleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYXJlZFZhbHVlID0gbWVyZ2VWYWx1ZXMoYVtrZXldLCBiW2tleV0pO1xuICAgICAgICAgICAgaWYgKCFzaGFyZWRWYWx1ZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VFcnJvclBhdGg6IFtrZXksIC4uLnNoYXJlZFZhbHVlLm1lcmdlRXJyb3JQYXRoXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3T2JqW2tleV0gPSBzaGFyZWRWYWx1ZS5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBuZXdPYmogfTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYSkgJiYgQXJyYXkuaXNBcnJheShiKSkge1xuICAgICAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIG1lcmdlRXJyb3JQYXRoOiBbXSB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0FycmF5ID0gW107XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbUEgPSBhW2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1CID0gYltpbmRleF07XG4gICAgICAgICAgICBjb25zdCBzaGFyZWRWYWx1ZSA9IG1lcmdlVmFsdWVzKGl0ZW1BLCBpdGVtQik7XG4gICAgICAgICAgICBpZiAoIXNoYXJlZFZhbHVlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXJnZUVycm9yUGF0aDogW2luZGV4LCAuLi5zaGFyZWRWYWx1ZS5tZXJnZUVycm9yUGF0aF0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0FycmF5LnB1c2goc2hhcmVkVmFsdWUuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IG5ld0FycmF5IH07XG4gICAgfVxuICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgbWVyZ2VFcnJvclBhdGg6IFtdIH07XG59XG5mdW5jdGlvbiBoYW5kbGVJbnRlcnNlY3Rpb25SZXN1bHRzKHJlc3VsdCwgbGVmdCwgcmlnaHQpIHtcbiAgICBpZiAobGVmdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdC5pc3N1ZXMucHVzaCguLi5sZWZ0Lmlzc3Vlcyk7XG4gICAgfVxuICAgIGlmIChyaWdodC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdC5pc3N1ZXMucHVzaCguLi5yaWdodC5pc3N1ZXMpO1xuICAgIH1cbiAgICBpZiAodXRpbC5hYm9ydGVkKHJlc3VsdCkpXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgY29uc3QgbWVyZ2VkID0gbWVyZ2VWYWx1ZXMobGVmdC52YWx1ZSwgcmlnaHQudmFsdWUpO1xuICAgIGlmICghbWVyZ2VkLnZhbGlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5tZXJnYWJsZSBpbnRlcnNlY3Rpb24uIEVycm9yIHBhdGg6IGAgKyBgJHtKU09OLnN0cmluZ2lmeShtZXJnZWQubWVyZ2VFcnJvclBhdGgpfWApO1xuICAgIH1cbiAgICByZXN1bHQudmFsdWUgPSBtZXJnZWQuZGF0YTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGNvbnN0ICRab2RUdXBsZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kVHVwbGVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb25zdCBpdGVtcyA9IGRlZi5pdGVtcztcbiAgICBjb25zdCBvcHRTdGFydCA9IGl0ZW1zLmxlbmd0aCAtIFsuLi5pdGVtc10ucmV2ZXJzZSgpLmZpbmRJbmRleCgoaXRlbSkgPT4gaXRlbS5fem9kLm9wdGluICE9PSBcIm9wdGlvbmFsXCIpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcInR1cGxlXCIsXG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgcGF5bG9hZC52YWx1ZSA9IFtdO1xuICAgICAgICBjb25zdCBwcm9tcyA9IFtdO1xuICAgICAgICBpZiAoIWRlZi5yZXN0KSB7XG4gICAgICAgICAgICBjb25zdCB0b29CaWcgPSBpbnB1dC5sZW5ndGggPiBpdGVtcy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGlucHV0Lmxlbmd0aCA8IG9wdFN0YXJ0IC0gMTtcbiAgICAgICAgICAgIGlmICh0b29CaWcgfHwgdG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgLi4uKHRvb0JpZyA/IHsgY29kZTogXCJ0b29fYmlnXCIsIG1heGltdW06IGl0ZW1zLmxlbmd0aCB9IDogeyBjb2RlOiBcInRvb19zbWFsbFwiLCBtaW5pbXVtOiBpdGVtcy5sZW5ndGggfSksXG4gICAgICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW46IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgaSA9IC0xO1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIGlmIChpID49IGlucHV0Lmxlbmd0aClcbiAgICAgICAgICAgICAgICBpZiAoaSA+PSBvcHRTdGFydClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBpdGVtLl96b2QucnVuKHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogaW5wdXRbaV0sXG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgIH0sIGN0eCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHByb21zLnB1c2gocmVzdWx0LnRoZW4oKHJlc3VsdCkgPT4gaGFuZGxlVHVwbGVSZXN1bHQocmVzdWx0LCBwYXlsb2FkLCBpKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlVHVwbGVSZXN1bHQocmVzdWx0LCBwYXlsb2FkLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLnJlc3QpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3QgPSBpbnB1dC5zbGljZShpdGVtcy5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbCBvZiByZXN0KSB7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGRlZi5yZXN0Ll96b2QucnVuKHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGVsLFxuICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgIH0sIGN0eCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbXMucHVzaChyZXN1bHQudGhlbigocmVzdWx0KSA9PiBoYW5kbGVUdXBsZVJlc3VsdChyZXN1bHQsIHBheWxvYWQsIGkpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVUdXBsZVJlc3VsdChyZXN1bHQsIHBheWxvYWQsIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvbXMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21zKS50aGVuKCgpID0+IHBheWxvYWQpO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5mdW5jdGlvbiBoYW5kbGVUdXBsZVJlc3VsdChyZXN1bHQsIGZpbmFsLCBpbmRleCkge1xuICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICBmaW5hbC5pc3N1ZXMucHVzaCguLi51dGlsLnByZWZpeElzc3VlcyhpbmRleCwgcmVzdWx0Lmlzc3VlcykpO1xuICAgIH1cbiAgICBmaW5hbC52YWx1ZVtpbmRleF0gPSByZXN1bHQudmFsdWU7XG59XG5leHBvcnQgY29uc3QgJFpvZFJlY29yZCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kUmVjb3JkXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICghdXRpbC5pc1BsYWluT2JqZWN0KGlucHV0KSkge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwicmVjb3JkXCIsXG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9tcyA9IFtdO1xuICAgICAgICBpZiAoZGVmLmtleVR5cGUuX3pvZC52YWx1ZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGRlZi5rZXlUeXBlLl96b2QudmFsdWVzO1xuICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IHt9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIGtleSA9PT0gXCJudW1iZXJcIiB8fCB0eXBlb2Yga2V5ID09PSBcInN5bWJvbFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGRlZi52YWx1ZVR5cGUuX3pvZC5ydW4oeyB2YWx1ZTogaW5wdXRba2V5XSwgaXNzdWVzOiBbXSB9LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbXMucHVzaChyZXN1bHQudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goLi4udXRpbC5wcmVmaXhJc3N1ZXMoa2V5LCByZXN1bHQuaXNzdWVzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWVba2V5XSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goLi4udXRpbC5wcmVmaXhJc3N1ZXMoa2V5LCByZXN1bHQuaXNzdWVzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlW2tleV0gPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdW5yZWNvZ25pemVkO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaW5wdXQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlcy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICB1bnJlY29nbml6ZWQgPSB1bnJlY29nbml6ZWQgPz8gW107XG4gICAgICAgICAgICAgICAgICAgIHVucmVjb2duaXplZC5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVucmVjb2duaXplZCAmJiB1bnJlY29nbml6ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBcInVucmVjb2duaXplZF9rZXlzXCIsXG4gICAgICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgICAgICBrZXlzOiB1bnJlY29nbml6ZWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0ge307XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBSZWZsZWN0Lm93bktleXMoaW5wdXQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gXCJfX3Byb3RvX19cIilcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5UmVzdWx0ID0gZGVmLmtleVR5cGUuX3pvZC5ydW4oeyB2YWx1ZToga2V5LCBpc3N1ZXM6IFtdIH0sIGN0eCk7XG4gICAgICAgICAgICAgICAgaWYgKGtleVJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXN5bmMgc2NoZW1hcyBub3Qgc3VwcG9ydGVkIGluIG9iamVjdCBrZXlzIGN1cnJlbnRseVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGtleVJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2tleVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luOiBcInJlY29yZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiBrZXlSZXN1bHQuaXNzdWVzLm1hcCgoaXNzKSA9PiB1dGlsLmZpbmFsaXplSXNzdWUoaXNzLCBjdHgsIGNvcmUuY29uZmlnKCkpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBba2V5XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlW2tleVJlc3VsdC52YWx1ZV0gPSBrZXlSZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBkZWYudmFsdWVUeXBlLl96b2QucnVuKHsgdmFsdWU6IGlucHV0W2tleV0sIGlzc3VlczogW10gfSwgY3R4KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9tcy5wdXNoKHJlc3VsdC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goLi4udXRpbC5wcmVmaXhJc3N1ZXMoa2V5LCByZXN1bHQuaXNzdWVzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlW2tleVJlc3VsdC52YWx1ZV0gPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCguLi51dGlsLnByZWZpeElzc3VlcyhrZXksIHJlc3VsdC5pc3N1ZXMpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlW2tleVJlc3VsdC52YWx1ZV0gPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9tcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9tcykudGhlbigoKSA9PiBwYXlsb2FkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZE1hcCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kTWFwXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICghKGlucHV0IGluc3RhbmNlb2YgTWFwKSkge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwibWFwXCIsXG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9tcyA9IFtdO1xuICAgICAgICBwYXlsb2FkLnZhbHVlID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBpbnB1dCkge1xuICAgICAgICAgICAgY29uc3Qga2V5UmVzdWx0ID0gZGVmLmtleVR5cGUuX3pvZC5ydW4oeyB2YWx1ZToga2V5LCBpc3N1ZXM6IFtdIH0sIGN0eCk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZVJlc3VsdCA9IGRlZi52YWx1ZVR5cGUuX3pvZC5ydW4oeyB2YWx1ZTogdmFsdWUsIGlzc3VlczogW10gfSwgY3R4KTtcbiAgICAgICAgICAgIGlmIChrZXlSZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlIHx8IHZhbHVlUmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHByb21zLnB1c2goUHJvbWlzZS5hbGwoW2tleVJlc3VsdCwgdmFsdWVSZXN1bHRdKS50aGVuKChba2V5UmVzdWx0LCB2YWx1ZVJlc3VsdF0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlTWFwUmVzdWx0KGtleVJlc3VsdCwgdmFsdWVSZXN1bHQsIHBheWxvYWQsIGtleSwgaW5wdXQsIGluc3QsIGN0eCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlTWFwUmVzdWx0KGtleVJlc3VsdCwgdmFsdWVSZXN1bHQsIHBheWxvYWQsIGtleSwgaW5wdXQsIGluc3QsIGN0eCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb21zLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9tcykudGhlbigoKSA9PiBwYXlsb2FkKTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gaGFuZGxlTWFwUmVzdWx0KGtleVJlc3VsdCwgdmFsdWVSZXN1bHQsIGZpbmFsLCBrZXksIGlucHV0LCBpbnN0LCBjdHgpIHtcbiAgICBpZiAoa2V5UmVzdWx0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHV0aWwucHJvcGVydHlLZXlUeXBlcy5oYXModHlwZW9mIGtleSkpIHtcbiAgICAgICAgICAgIGZpbmFsLmlzc3Vlcy5wdXNoKC4uLnV0aWwucHJlZml4SXNzdWVzKGtleSwga2V5UmVzdWx0Lmlzc3VlcykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZmluYWwuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9rZXlcIixcbiAgICAgICAgICAgICAgICBvcmlnaW46IFwibWFwXCIsXG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IGtleVJlc3VsdC5pc3N1ZXMubWFwKChpc3MpID0+IHV0aWwuZmluYWxpemVJc3N1ZShpc3MsIGN0eCwgY29yZS5jb25maWcoKSkpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHZhbHVlUmVzdWx0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHV0aWwucHJvcGVydHlLZXlUeXBlcy5oYXModHlwZW9mIGtleSkpIHtcbiAgICAgICAgICAgIGZpbmFsLmlzc3Vlcy5wdXNoKC4uLnV0aWwucHJlZml4SXNzdWVzKGtleSwgdmFsdWVSZXN1bHQuaXNzdWVzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmaW5hbC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgb3JpZ2luOiBcIm1hcFwiLFxuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9lbGVtZW50XCIsXG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IHZhbHVlUmVzdWx0Lmlzc3Vlcy5tYXAoKGlzcykgPT4gdXRpbC5maW5hbGl6ZUlzc3VlKGlzcywgY3R4LCBjb3JlLmNvbmZpZygpKSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmaW5hbC52YWx1ZS5zZXQoa2V5UmVzdWx0LnZhbHVlLCB2YWx1ZVJlc3VsdC52YWx1ZSk7XG59XG5leHBvcnQgY29uc3QgJFpvZFNldCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kU2V0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICghKGlucHV0IGluc3RhbmNlb2YgU2V0KSkge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJzZXRcIixcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9tcyA9IFtdO1xuICAgICAgICBwYXlsb2FkLnZhbHVlID0gbmV3IFNldCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaW5wdXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGRlZi52YWx1ZVR5cGUuX3pvZC5ydW4oeyB2YWx1ZTogaXRlbSwgaXNzdWVzOiBbXSB9LCBjdHgpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBwcm9tcy5wdXNoKHJlc3VsdC50aGVuKChyZXN1bHQpID0+IGhhbmRsZVNldFJlc3VsdChyZXN1bHQsIHBheWxvYWQpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgaGFuZGxlU2V0UmVzdWx0KHJlc3VsdCwgcGF5bG9hZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb21zLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9tcykudGhlbigoKSA9PiBwYXlsb2FkKTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gaGFuZGxlU2V0UmVzdWx0KHJlc3VsdCwgZmluYWwpIHtcbiAgICBpZiAocmVzdWx0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgZmluYWwuaXNzdWVzLnB1c2goLi4ucmVzdWx0Lmlzc3Vlcyk7XG4gICAgfVxuICAgIGZpbmFsLnZhbHVlLmFkZChyZXN1bHQudmFsdWUpO1xufVxuZXhwb3J0IGNvbnN0ICRab2RFbnVtID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RFbnVtXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3QgdmFsdWVzID0gdXRpbC5nZXRFbnVtVmFsdWVzKGRlZi5lbnRyaWVzKTtcbiAgICBjb25zdCB2YWx1ZXNTZXQgPSBuZXcgU2V0KHZhbHVlcyk7XG4gICAgaW5zdC5fem9kLnZhbHVlcyA9IHZhbHVlc1NldDtcbiAgICBpbnN0Ll96b2QucGF0dGVybiA9IG5ldyBSZWdFeHAoYF4oJHt2YWx1ZXNcbiAgICAgICAgLmZpbHRlcigoaykgPT4gdXRpbC5wcm9wZXJ0eUtleVR5cGVzLmhhcyh0eXBlb2YgaykpXG4gICAgICAgIC5tYXAoKG8pID0+ICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIiA/IHV0aWwuZXNjYXBlUmVnZXgobykgOiBvLnRvU3RyaW5nKCkpKVxuICAgICAgICAuam9pbihcInxcIil9KSRgKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgX2N0eCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZXNTZXQuaGFzKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdmFsdWVcIixcbiAgICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kTGl0ZXJhbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kTGl0ZXJhbFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGlmIChkZWYudmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY3JlYXRlIGxpdGVyYWwgc2NoZW1hIHdpdGggbm8gdmFsaWQgdmFsdWVzXCIpO1xuICAgIH1cbiAgICBpbnN0Ll96b2QudmFsdWVzID0gbmV3IFNldChkZWYudmFsdWVzKTtcbiAgICBpbnN0Ll96b2QucGF0dGVybiA9IG5ldyBSZWdFeHAoYF4oJHtkZWYudmFsdWVzXG4gICAgICAgIC5tYXAoKG8pID0+ICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIiA/IHV0aWwuZXNjYXBlUmVnZXgobykgOiBvID8gdXRpbC5lc2NhcGVSZWdleChvLnRvU3RyaW5nKCkpIDogU3RyaW5nKG8pKSlcbiAgICAgICAgLmpvaW4oXCJ8XCIpfSkkYCk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAoaW5zdC5fem9kLnZhbHVlcy5oYXMoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF92YWx1ZVwiLFxuICAgICAgICAgICAgdmFsdWVzOiBkZWYudmFsdWVzLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RGaWxlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RGaWxlXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIEZpbGUpXG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBleHBlY3RlZDogXCJmaWxlXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RUcmFuc2Zvcm0gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFRyYW5zZm9ybVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgaWYgKGN0eC5kaXJlY3Rpb24gPT09IFwiYmFja3dhcmRcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGNvcmUuJFpvZEVuY29kZUVycm9yKGluc3QuY29uc3RydWN0b3IubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgX291dCA9IGRlZi50cmFuc2Zvcm0ocGF5bG9hZC52YWx1ZSwgcGF5bG9hZCk7XG4gICAgICAgIGlmIChjdHguYXN5bmMpIHtcbiAgICAgICAgICAgIGNvbnN0IG91dHB1dCA9IF9vdXQgaW5zdGFuY2VvZiBQcm9taXNlID8gX291dCA6IFByb21pc2UucmVzb2x2ZShfb3V0KTtcbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQudGhlbigob3V0cHV0KSA9PiB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IG91dHB1dDtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfb3V0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGNvcmUuJFpvZEFzeW5jRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBwYXlsb2FkLnZhbHVlID0gX291dDtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gaGFuZGxlT3B0aW9uYWxSZXN1bHQocmVzdWx0LCBpbnB1dCkge1xuICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCAmJiBpbnB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB7IGlzc3VlczogW10sIHZhbHVlOiB1bmRlZmluZWQgfTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBjb25zdCAkWm9kT3B0aW9uYWwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZE9wdGlvbmFsXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLm9wdGluID0gXCJvcHRpb25hbFwiO1xuICAgIGluc3QuX3pvZC5vcHRvdXQgPSBcIm9wdGlvbmFsXCI7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJ2YWx1ZXNcIiwgKCkgPT4ge1xuICAgICAgICByZXR1cm4gZGVmLmlubmVyVHlwZS5fem9kLnZhbHVlcyA/IG5ldyBTZXQoWy4uLmRlZi5pbm5lclR5cGUuX3pvZC52YWx1ZXMsIHVuZGVmaW5lZF0pIDogdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwicGF0dGVyblwiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSBkZWYuaW5uZXJUeXBlLl96b2QucGF0dGVybjtcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4gPyBuZXcgUmVnRXhwKGBeKCR7dXRpbC5jbGVhblJlZ2V4KHBhdHRlcm4uc291cmNlKX0pPyRgKSA6IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGlmIChkZWYuaW5uZXJUeXBlLl96b2Qub3B0aW4gPT09IFwib3B0aW9uYWxcIikge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVmLmlubmVyVHlwZS5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChyKSA9PiBoYW5kbGVPcHRpb25hbFJlc3VsdChyLCBwYXlsb2FkLnZhbHVlKSk7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlT3B0aW9uYWxSZXN1bHQocmVzdWx0LCBwYXlsb2FkLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF5bG9hZC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmLmlubmVyVHlwZS5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kTnVsbGFibGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZE51bGxhYmxlXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJvcHRpblwiLCAoKSA9PiBkZWYuaW5uZXJUeXBlLl96b2Qub3B0aW4pO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwib3B0b3V0XCIsICgpID0+IGRlZi5pbm5lclR5cGUuX3pvZC5vcHRvdXQpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwicGF0dGVyblwiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSBkZWYuaW5uZXJUeXBlLl96b2QucGF0dGVybjtcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4gPyBuZXcgUmVnRXhwKGBeKCR7dXRpbC5jbGVhblJlZ2V4KHBhdHRlcm4uc291cmNlKX18bnVsbCkkYCkgOiB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJ2YWx1ZXNcIiwgKCkgPT4ge1xuICAgICAgICByZXR1cm4gZGVmLmlubmVyVHlwZS5fem9kLnZhbHVlcyA/IG5ldyBTZXQoWy4uLmRlZi5pbm5lclR5cGUuX3pvZC52YWx1ZXMsIG51bGxdKSA6IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIC8vIEZvcndhcmQgZGlyZWN0aW9uIChkZWNvZGUpOiBhbGxvdyBudWxsIHRvIHBhc3MgdGhyb3VnaFxuICAgICAgICBpZiAocGF5bG9hZC52YWx1ZSA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICByZXR1cm4gZGVmLmlubmVyVHlwZS5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kRGVmYXVsdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kRGVmYXVsdFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIC8vIGluc3QuX3pvZC5xaW4gPSBcInRydWVcIjtcbiAgICBpbnN0Ll96b2Qub3B0aW4gPSBcIm9wdGlvbmFsXCI7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJ2YWx1ZXNcIiwgKCkgPT4gZGVmLmlubmVyVHlwZS5fem9kLnZhbHVlcyk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBpZiAoY3R4LmRpcmVjdGlvbiA9PT0gXCJiYWNrd2FyZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmLmlubmVyVHlwZS5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZvcndhcmQgZGlyZWN0aW9uIChkZWNvZGUpOiBhcHBseSBkZWZhdWx0cyBmb3IgdW5kZWZpbmVkIGlucHV0XG4gICAgICAgIGlmIChwYXlsb2FkLnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSBkZWYuZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiAkWm9kRGVmYXVsdCByZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlIGltbWVkaWF0ZWx5IGluIGZvcndhcmQgZGlyZWN0aW9uLlxuICAgICAgICAgICAgICogSXQgZG9lc24ndCBwYXNzIHRoZSBkZWZhdWx0IHZhbHVlIGludG8gdGhlIHZhbGlkYXRvciAoXCJwcmVmYXVsdFwiKS4gVGhlcmUncyBubyByZWFzb24gdG8gcGFzcyB0aGUgZGVmYXVsdCB2YWx1ZSB0aHJvdWdoIHZhbGlkYXRpb24uIFRoZSB2YWxpZGl0eSBvZiB0aGUgZGVmYXVsdCBpcyBlbmZvcmNlZCBieSBUeXBlU2NyaXB0IHN0YXRpY2FsbHkuIE90aGVyd2lzZSwgaXQncyB0aGUgcmVzcG9uc2liaWxpdHkgb2YgdGhlIHVzZXIgdG8gZW5zdXJlIHRoZSBkZWZhdWx0IGlzIHZhbGlkLiBJbiB0aGUgY2FzZSBvZiBwaXBlcyB3aXRoIGRpdmVyZ2VudCBpbi9vdXQgdHlwZXMsIHlvdSBjYW4gc3BlY2lmeSB0aGUgZGVmYXVsdCBvbiB0aGUgYGluYCBzY2hlbWEgb2YgeW91ciBab2RQaXBlIHRvIHNldCBhIFwicHJlZmF1bHRcIiBmb3IgdGhlIHBpcGUuICAgKi9cbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZvcndhcmQgZGlyZWN0aW9uOiBjb250aW51ZSB3aXRoIGRlZmF1bHQgaGFuZGxpbmdcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVmLmlubmVyVHlwZS5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChyZXN1bHQpID0+IGhhbmRsZURlZmF1bHRSZXN1bHQocmVzdWx0LCBkZWYpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFuZGxlRGVmYXVsdFJlc3VsdChyZXN1bHQsIGRlZik7XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gaGFuZGxlRGVmYXVsdFJlc3VsdChwYXlsb2FkLCBkZWYpIHtcbiAgICBpZiAocGF5bG9hZC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBheWxvYWQudmFsdWUgPSBkZWYuZGVmYXVsdFZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcGF5bG9hZDtcbn1cbmV4cG9ydCBjb25zdCAkWm9kUHJlZmF1bHQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFByZWZhdWx0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLm9wdGluID0gXCJvcHRpb25hbFwiO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwidmFsdWVzXCIsICgpID0+IGRlZi5pbm5lclR5cGUuX3pvZC52YWx1ZXMpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgaWYgKGN0eC5kaXJlY3Rpb24gPT09IFwiYmFja3dhcmRcIikge1xuICAgICAgICAgICAgcmV0dXJuIGRlZi5pbm5lclR5cGUuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGb3J3YXJkIGRpcmVjdGlvbiAoZGVjb2RlKTogYXBwbHkgcHJlZmF1bHQgZm9yIHVuZGVmaW5lZCBpbnB1dFxuICAgICAgICBpZiAocGF5bG9hZC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gZGVmLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmLmlubmVyVHlwZS5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kTm9uT3B0aW9uYWwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZE5vbk9wdGlvbmFsXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJ2YWx1ZXNcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCB2ID0gZGVmLmlubmVyVHlwZS5fem9kLnZhbHVlcztcbiAgICAgICAgcmV0dXJuIHYgPyBuZXcgU2V0KFsuLi52XS5maWx0ZXIoKHgpID0+IHggIT09IHVuZGVmaW5lZCkpIDogdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVmLmlubmVyVHlwZS5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChyZXN1bHQpID0+IGhhbmRsZU5vbk9wdGlvbmFsUmVzdWx0KHJlc3VsdCwgaW5zdCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYW5kbGVOb25PcHRpb25hbFJlc3VsdChyZXN1bHQsIGluc3QpO1xuICAgIH07XG59KTtcbmZ1bmN0aW9uIGhhbmRsZU5vbk9wdGlvbmFsUmVzdWx0KHBheWxvYWQsIGluc3QpIHtcbiAgICBpZiAoIXBheWxvYWQuaXNzdWVzLmxlbmd0aCAmJiBwYXlsb2FkLnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgZXhwZWN0ZWQ6IFwibm9ub3B0aW9uYWxcIixcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBwYXlsb2FkO1xufVxuZXhwb3J0IGNvbnN0ICRab2RTdWNjZXNzID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RTdWNjZXNzXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBpZiAoY3R4LmRpcmVjdGlvbiA9PT0gXCJiYWNrd2FyZFwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgY29yZS4kWm9kRW5jb2RlRXJyb3IoXCJab2RTdWNjZXNzXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGRlZi5pbm5lclR5cGUuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IHJlc3VsdC5pc3N1ZXMubGVuZ3RoID09PSAwO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcGF5bG9hZC52YWx1ZSA9IHJlc3VsdC5pc3N1ZXMubGVuZ3RoID09PSAwO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENhdGNoID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDYXRjaFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwib3B0aW5cIiwgKCkgPT4gZGVmLmlubmVyVHlwZS5fem9kLm9wdGluKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcIm9wdG91dFwiLCAoKSA9PiBkZWYuaW5uZXJUeXBlLl96b2Qub3B0b3V0KTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInZhbHVlc1wiLCAoKSA9PiBkZWYuaW5uZXJUeXBlLl96b2QudmFsdWVzKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGlmIChjdHguZGlyZWN0aW9uID09PSBcImJhY2t3YXJkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWYuaW5uZXJUeXBlLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yd2FyZCBkaXJlY3Rpb24gKGRlY29kZSk6IGFwcGx5IGNhdGNoIGxvZ2ljXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGRlZi5pbm5lclR5cGUuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IGRlZi5jYXRjaFZhbHVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBheWxvYWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzc3VlczogcmVzdWx0Lmlzc3Vlcy5tYXAoKGlzcykgPT4gdXRpbC5maW5hbGl6ZUlzc3VlKGlzcywgY3R4LCBjb3JlLmNvbmZpZygpKSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3VlcyA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHBheWxvYWQudmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IGRlZi5jYXRjaFZhbHVlKHtcbiAgICAgICAgICAgICAgICAuLi5wYXlsb2FkLFxuICAgICAgICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICAgICAgICAgIGlzc3VlczogcmVzdWx0Lmlzc3Vlcy5tYXAoKGlzcykgPT4gdXRpbC5maW5hbGl6ZUlzc3VlKGlzcywgY3R4LCBjb3JlLmNvbmZpZygpKSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZE5hTiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kTmFOXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXlsb2FkLnZhbHVlICE9PSBcIm51bWJlclwiIHx8ICFOdW1iZXIuaXNOYU4ocGF5bG9hZC52YWx1ZSkpIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwibmFuXCIsXG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RQaXBlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RQaXBlXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJ2YWx1ZXNcIiwgKCkgPT4gZGVmLmluLl96b2QudmFsdWVzKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcIm9wdGluXCIsICgpID0+IGRlZi5pbi5fem9kLm9wdGluKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcIm9wdG91dFwiLCAoKSA9PiBkZWYub3V0Ll96b2Qub3B0b3V0KTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInByb3BWYWx1ZXNcIiwgKCkgPT4gZGVmLmluLl96b2QucHJvcFZhbHVlcyk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBpZiAoY3R4LmRpcmVjdGlvbiA9PT0gXCJiYWNrd2FyZFwiKSB7XG4gICAgICAgICAgICBjb25zdCByaWdodCA9IGRlZi5vdXQuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgICAgIGlmIChyaWdodCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmlnaHQudGhlbigocmlnaHQpID0+IGhhbmRsZVBpcGVSZXN1bHQocmlnaHQsIGRlZi5pbiwgY3R4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlUGlwZVJlc3VsdChyaWdodCwgZGVmLmluLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxlZnQgPSBkZWYuaW4uX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgaWYgKGxlZnQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gbGVmdC50aGVuKChsZWZ0KSA9PiBoYW5kbGVQaXBlUmVzdWx0KGxlZnQsIGRlZi5vdXQsIGN0eCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYW5kbGVQaXBlUmVzdWx0KGxlZnQsIGRlZi5vdXQsIGN0eCk7XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gaGFuZGxlUGlwZVJlc3VsdChsZWZ0LCBuZXh0LCBjdHgpIHtcbiAgICBpZiAobGVmdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgIC8vIHByZXZlbnQgZnVydGhlciBjaGVja3NcbiAgICAgICAgbGVmdC5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGxlZnQ7XG4gICAgfVxuICAgIHJldHVybiBuZXh0Ll96b2QucnVuKHsgdmFsdWU6IGxlZnQudmFsdWUsIGlzc3VlczogbGVmdC5pc3N1ZXMgfSwgY3R4KTtcbn1cbmV4cG9ydCBjb25zdCAkWm9kQ29kZWMgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENvZGVjXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJ2YWx1ZXNcIiwgKCkgPT4gZGVmLmluLl96b2QudmFsdWVzKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcIm9wdGluXCIsICgpID0+IGRlZi5pbi5fem9kLm9wdGluKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcIm9wdG91dFwiLCAoKSA9PiBkZWYub3V0Ll96b2Qub3B0b3V0KTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInByb3BWYWx1ZXNcIiwgKCkgPT4gZGVmLmluLl96b2QucHJvcFZhbHVlcyk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBjdHguZGlyZWN0aW9uIHx8IFwiZm9yd2FyZFwiO1xuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBcImZvcndhcmRcIikge1xuICAgICAgICAgICAgY29uc3QgbGVmdCA9IGRlZi5pbi5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgICAgICAgICAgaWYgKGxlZnQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlZnQudGhlbigobGVmdCkgPT4gaGFuZGxlQ29kZWNBUmVzdWx0KGxlZnQsIGRlZiwgY3R4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlQ29kZWNBUmVzdWx0KGxlZnQsIGRlZiwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0ID0gZGVmLm91dC5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgICAgICAgICAgaWYgKHJpZ2h0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByaWdodC50aGVuKChyaWdodCkgPT4gaGFuZGxlQ29kZWNBUmVzdWx0KHJpZ2h0LCBkZWYsIGN0eCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUNvZGVjQVJlc3VsdChyaWdodCwgZGVmLCBjdHgpO1xuICAgICAgICB9XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gaGFuZGxlQ29kZWNBUmVzdWx0KHJlc3VsdCwgZGVmLCBjdHgpIHtcbiAgICBpZiAocmVzdWx0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gcHJldmVudCBmdXJ0aGVyIGNoZWNrc1xuICAgICAgICByZXN1bHQuYWJvcnRlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGNvbnN0IGRpcmVjdGlvbiA9IGN0eC5kaXJlY3Rpb24gfHwgXCJmb3J3YXJkXCI7XG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJmb3J3YXJkXCIpIHtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZWQgPSBkZWYudHJhbnNmb3JtKHJlc3VsdC52YWx1ZSwgcmVzdWx0KTtcbiAgICAgICAgaWYgKHRyYW5zZm9ybWVkIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWVkLnRoZW4oKHZhbHVlKSA9PiBoYW5kbGVDb2RlY1R4UmVzdWx0KHJlc3VsdCwgdmFsdWUsIGRlZi5vdXQsIGN0eCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYW5kbGVDb2RlY1R4UmVzdWx0KHJlc3VsdCwgdHJhbnNmb3JtZWQsIGRlZi5vdXQsIGN0eCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm1lZCA9IGRlZi5yZXZlcnNlVHJhbnNmb3JtKHJlc3VsdC52YWx1ZSwgcmVzdWx0KTtcbiAgICAgICAgaWYgKHRyYW5zZm9ybWVkIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWVkLnRoZW4oKHZhbHVlKSA9PiBoYW5kbGVDb2RlY1R4UmVzdWx0KHJlc3VsdCwgdmFsdWUsIGRlZi5pbiwgY3R4KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhbmRsZUNvZGVjVHhSZXN1bHQocmVzdWx0LCB0cmFuc2Zvcm1lZCwgZGVmLmluLCBjdHgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGhhbmRsZUNvZGVjVHhSZXN1bHQobGVmdCwgdmFsdWUsIG5leHRTY2hlbWEsIGN0eCkge1xuICAgIC8vIENoZWNrIGlmIHRyYW5zZm9ybSBhZGRlZCBhbnkgaXNzdWVzXG4gICAgaWYgKGxlZnQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICBsZWZ0LmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gbGVmdDtcbiAgICB9XG4gICAgcmV0dXJuIG5leHRTY2hlbWEuX3pvZC5ydW4oeyB2YWx1ZSwgaXNzdWVzOiBsZWZ0Lmlzc3VlcyB9LCBjdHgpO1xufVxuZXhwb3J0IGNvbnN0ICRab2RSZWFkb25seSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kUmVhZG9ubHlcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInByb3BWYWx1ZXNcIiwgKCkgPT4gZGVmLmlubmVyVHlwZS5fem9kLnByb3BWYWx1ZXMpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwidmFsdWVzXCIsICgpID0+IGRlZi5pbm5lclR5cGUuX3pvZC52YWx1ZXMpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwib3B0aW5cIiwgKCkgPT4gZGVmLmlubmVyVHlwZS5fem9kLm9wdGluKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcIm9wdG91dFwiLCAoKSA9PiBkZWYuaW5uZXJUeXBlLl96b2Qub3B0b3V0KTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGlmIChjdHguZGlyZWN0aW9uID09PSBcImJhY2t3YXJkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWYuaW5uZXJUeXBlLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVmLmlubmVyVHlwZS5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKGhhbmRsZVJlYWRvbmx5UmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFuZGxlUmVhZG9ubHlSZXN1bHQocmVzdWx0KTtcbiAgICB9O1xufSk7XG5mdW5jdGlvbiBoYW5kbGVSZWFkb25seVJlc3VsdChwYXlsb2FkKSB7XG4gICAgcGF5bG9hZC52YWx1ZSA9IE9iamVjdC5mcmVlemUocGF5bG9hZC52YWx1ZSk7XG4gICAgcmV0dXJuIHBheWxvYWQ7XG59XG5leHBvcnQgY29uc3QgJFpvZFRlbXBsYXRlTGl0ZXJhbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kVGVtcGxhdGVMaXRlcmFsXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3QgcmVnZXhQYXJ0cyA9IFtdO1xuICAgIGZvciAoY29uc3QgcGFydCBvZiBkZWYucGFydHMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJ0ID09PSBcIm9iamVjdFwiICYmIHBhcnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGlzIFpvZCBzY2hlbWFcbiAgICAgICAgICAgIGlmICghcGFydC5fem9kLnBhdHRlcm4pIHtcbiAgICAgICAgICAgICAgICAvLyBpZiAoIXNvdXJjZSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdGVtcGxhdGUgbGl0ZXJhbCBwYXJ0LCBubyBwYXR0ZXJuIGZvdW5kOiAke1suLi5wYXJ0Ll96b2QudHJhaXRzXS5zaGlmdCgpfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gcGFydC5fem9kLnBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHAgPyBwYXJ0Ll96b2QucGF0dGVybi5zb3VyY2UgOiBwYXJ0Ll96b2QucGF0dGVybjtcbiAgICAgICAgICAgIGlmICghc291cmNlKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0ZW1wbGF0ZSBsaXRlcmFsIHBhcnQ6ICR7cGFydC5fem9kLnRyYWl0c31gKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gc291cmNlLnN0YXJ0c1dpdGgoXCJeXCIpID8gMSA6IDA7XG4gICAgICAgICAgICBjb25zdCBlbmQgPSBzb3VyY2UuZW5kc1dpdGgoXCIkXCIpID8gc291cmNlLmxlbmd0aCAtIDEgOiBzb3VyY2UubGVuZ3RoO1xuICAgICAgICAgICAgcmVnZXhQYXJ0cy5wdXNoKHNvdXJjZS5zbGljZShzdGFydCwgZW5kKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFydCA9PT0gbnVsbCB8fCB1dGlsLnByaW1pdGl2ZVR5cGVzLmhhcyh0eXBlb2YgcGFydCkpIHtcbiAgICAgICAgICAgIHJlZ2V4UGFydHMucHVzaCh1dGlsLmVzY2FwZVJlZ2V4KGAke3BhcnR9YCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRlbXBsYXRlIGxpdGVyYWwgcGFydDogJHtwYXJ0fWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGluc3QuX3pvZC5wYXR0ZXJuID0gbmV3IFJlZ0V4cChgXiR7cmVnZXhQYXJ0cy5qb2luKFwiXCIpfSRgKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgX2N0eCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHBheWxvYWQudmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwidGVtcGxhdGVfbGl0ZXJhbFwiLFxuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIGluc3QuX3pvZC5wYXR0ZXJuLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIGlmICghaW5zdC5fem9kLnBhdHRlcm4udGVzdChwYXlsb2FkLnZhbHVlKSkge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICAgICAgZm9ybWF0OiBkZWYuZm9ybWF0ID8/IFwidGVtcGxhdGVfbGl0ZXJhbFwiLFxuICAgICAgICAgICAgICAgIHBhdHRlcm46IGluc3QuX3pvZC5wYXR0ZXJuLnNvdXJjZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RGdW5jdGlvbiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kRnVuY3Rpb25cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll9kZWYgPSBkZWY7XG4gICAgaW5zdC5fem9kLmRlZiA9IGRlZjtcbiAgICBpbnN0LmltcGxlbWVudCA9IChmdW5jKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbXBsZW1lbnQoKSBtdXN0IGJlIGNhbGxlZCB3aXRoIGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRBcmdzID0gaW5zdC5fZGVmLmlucHV0ID8gcGFyc2UoaW5zdC5fZGVmLmlucHV0LCBhcmdzKSA6IGFyZ3M7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LmFwcGx5KGZ1bmMsIHRoaXMsIHBhcnNlZEFyZ3MpO1xuICAgICAgICAgICAgaWYgKGluc3QuX2RlZi5vdXRwdXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2UoaW5zdC5fZGVmLm91dHB1dCwgcmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBpbnN0LmltcGxlbWVudEFzeW5jID0gKGZ1bmMpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImltcGxlbWVudEFzeW5jKCkgbXVzdCBiZSBjYWxsZWQgd2l0aCBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhc3luYyBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkQXJncyA9IGluc3QuX2RlZi5pbnB1dCA/IGF3YWl0IHBhcnNlQXN5bmMoaW5zdC5fZGVmLmlucHV0LCBhcmdzKSA6IGFyZ3M7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBSZWZsZWN0LmFwcGx5KGZ1bmMsIHRoaXMsIHBhcnNlZEFyZ3MpO1xuICAgICAgICAgICAgaWYgKGluc3QuX2RlZi5vdXRwdXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgcGFyc2VBc3luYyhpbnN0Ll9kZWYub3V0cHV0LCByZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgcGF5bG9hZC52YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgaWYgb3V0cHV0IGlzIGEgcHJvbWlzZSB0eXBlIHRvIGRldGVybWluZSBpZiB3ZSBzaG91bGQgdXNlIGFzeW5jIGltcGxlbWVudGF0aW9uXG4gICAgICAgIGNvbnN0IGhhc1Byb21pc2VPdXRwdXQgPSBpbnN0Ll9kZWYub3V0cHV0ICYmIGluc3QuX2RlZi5vdXRwdXQuX3pvZC5kZWYudHlwZSA9PT0gXCJwcm9taXNlXCI7XG4gICAgICAgIGlmIChoYXNQcm9taXNlT3V0cHV0KSB7XG4gICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gaW5zdC5pbXBsZW1lbnRBc3luYyhwYXlsb2FkLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSBpbnN0LmltcGxlbWVudChwYXlsb2FkLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xuICAgIGluc3QuaW5wdXQgPSAoLi4uYXJncykgPT4ge1xuICAgICAgICBjb25zdCBGID0gaW5zdC5jb25zdHJ1Y3RvcjtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJnc1swXSkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRih7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgICAgIGlucHV0OiBuZXcgJFpvZFR1cGxlKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ0dXBsZVwiLFxuICAgICAgICAgICAgICAgICAgICBpdGVtczogYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgcmVzdDogYXJnc1sxXSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBvdXRwdXQ6IGluc3QuX2RlZi5vdXRwdXQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEYoe1xuICAgICAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgaW5wdXQ6IGFyZ3NbMF0sXG4gICAgICAgICAgICBvdXRwdXQ6IGluc3QuX2RlZi5vdXRwdXQsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgaW5zdC5vdXRwdXQgPSAob3V0cHV0KSA9PiB7XG4gICAgICAgIGNvbnN0IEYgPSBpbnN0LmNvbnN0cnVjdG9yO1xuICAgICAgICByZXR1cm4gbmV3IEYoe1xuICAgICAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgaW5wdXQ6IGluc3QuX2RlZi5pbnB1dCxcbiAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gaW5zdDtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RQcm9taXNlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RQcm9taXNlXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHBheWxvYWQudmFsdWUpLnRoZW4oKGlubmVyKSA9PiBkZWYuaW5uZXJUeXBlLl96b2QucnVuKHsgdmFsdWU6IGlubmVyLCBpc3N1ZXM6IFtdIH0sIGN0eCkpO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kTGF6eSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kTGF6eVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIC8vIGxldCBfaW5uZXJUeXBlITogYW55O1xuICAgIC8vIHV0aWwuZGVmaW5lTGF6eShkZWYsIFwiZ2V0dGVyXCIsICgpID0+IHtcbiAgICAvLyAgIGlmICghX2lubmVyVHlwZSkge1xuICAgIC8vICAgICBfaW5uZXJUeXBlID0gZGVmLmdldHRlcigpO1xuICAgIC8vICAgfVxuICAgIC8vICAgcmV0dXJuICgpID0+IF9pbm5lclR5cGU7XG4gICAgLy8gfSk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJpbm5lclR5cGVcIiwgKCkgPT4gZGVmLmdldHRlcigpKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInBhdHRlcm5cIiwgKCkgPT4gaW5zdC5fem9kLmlubmVyVHlwZS5fem9kLnBhdHRlcm4pO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwicHJvcFZhbHVlc1wiLCAoKSA9PiBpbnN0Ll96b2QuaW5uZXJUeXBlLl96b2QucHJvcFZhbHVlcyk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJvcHRpblwiLCAoKSA9PiBpbnN0Ll96b2QuaW5uZXJUeXBlLl96b2Qub3B0aW4gPz8gdW5kZWZpbmVkKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcIm9wdG91dFwiLCAoKSA9PiBpbnN0Ll96b2QuaW5uZXJUeXBlLl96b2Qub3B0b3V0ID8/IHVuZGVmaW5lZCk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBjb25zdCBpbm5lciA9IGluc3QuX3pvZC5pbm5lclR5cGU7XG4gICAgICAgIHJldHVybiBpbm5lci5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ3VzdG9tID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDdXN0b21cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNoZWNrcy4kWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgXykgPT4ge1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgY29uc3QgciA9IGRlZi5mbihpbnB1dCk7XG4gICAgICAgIGlmIChyIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHIudGhlbigocikgPT4gaGFuZGxlUmVmaW5lUmVzdWx0KHIsIHBheWxvYWQsIGlucHV0LCBpbnN0KSk7XG4gICAgICAgIH1cbiAgICAgICAgaGFuZGxlUmVmaW5lUmVzdWx0KHIsIHBheWxvYWQsIGlucHV0LCBpbnN0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG59KTtcbmZ1bmN0aW9uIGhhbmRsZVJlZmluZVJlc3VsdChyZXN1bHQsIHBheWxvYWQsIGlucHV0LCBpbnN0KSB7XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgY29uc3QgX2lzcyA9IHtcbiAgICAgICAgICAgIGNvZGU6IFwiY3VzdG9tXCIsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGluc3QsIC8vIGluY29ycG9yYXRlcyBwYXJhbXMuZXJyb3IgaW50byBpc3N1ZSByZXBvcnRpbmdcbiAgICAgICAgICAgIHBhdGg6IFsuLi4oaW5zdC5fem9kLmRlZi5wYXRoID8/IFtdKV0sIC8vIGluY29ycG9yYXRlcyBwYXJhbXMuZXJyb3IgaW50byBpc3N1ZSByZXBvcnRpbmdcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhaW5zdC5fem9kLmRlZi5hYm9ydCxcbiAgICAgICAgICAgIC8vIHBhcmFtczogaW5zdC5fem9kLmRlZi5wYXJhbXMsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChpbnN0Ll96b2QuZGVmLnBhcmFtcylcbiAgICAgICAgICAgIF9pc3MucGFyYW1zID0gaW5zdC5fem9kLmRlZi5wYXJhbXM7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2godXRpbC5pc3N1ZShfaXNzKSk7XG4gICAgfVxufVxuIiwgImV4cG9ydCB7IGRlZmF1bHQgYXMgYXIgfSBmcm9tIFwiLi9hci5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBheiB9IGZyb20gXCIuL2F6LmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGJlIH0gZnJvbSBcIi4vYmUuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgY2EgfSBmcm9tIFwiLi9jYS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBjcyB9IGZyb20gXCIuL2NzLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGRhIH0gZnJvbSBcIi4vZGEuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZGUgfSBmcm9tIFwiLi9kZS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBlbiB9IGZyb20gXCIuL2VuLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGVvIH0gZnJvbSBcIi4vZW8uanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZXMgfSBmcm9tIFwiLi9lcy5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBmYSB9IGZyb20gXCIuL2ZhLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGZpIH0gZnJvbSBcIi4vZmkuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZnIgfSBmcm9tIFwiLi9mci5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBmckNBIH0gZnJvbSBcIi4vZnItQ0EuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaGUgfSBmcm9tIFwiLi9oZS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBodSB9IGZyb20gXCIuL2h1LmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGlkIH0gZnJvbSBcIi4vaWQuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaXMgfSBmcm9tIFwiLi9pcy5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBpdCB9IGZyb20gXCIuL2l0LmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGphIH0gZnJvbSBcIi4vamEuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMga2EgfSBmcm9tIFwiLi9rYS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBraCB9IGZyb20gXCIuL2toLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGttIH0gZnJvbSBcIi4va20uanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMga28gfSBmcm9tIFwiLi9rby5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBsdCB9IGZyb20gXCIuL2x0LmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIG1rIH0gZnJvbSBcIi4vbWsuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgbXMgfSBmcm9tIFwiLi9tcy5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBubCB9IGZyb20gXCIuL25sLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIG5vIH0gZnJvbSBcIi4vbm8uanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgb3RhIH0gZnJvbSBcIi4vb3RhLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHBzIH0gZnJvbSBcIi4vcHMuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgcGwgfSBmcm9tIFwiLi9wbC5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBwdCB9IGZyb20gXCIuL3B0LmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHJ1IH0gZnJvbSBcIi4vcnUuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgc2wgfSBmcm9tIFwiLi9zbC5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBzdiB9IGZyb20gXCIuL3N2LmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHRhIH0gZnJvbSBcIi4vdGEuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdGggfSBmcm9tIFwiLi90aC5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB0ciB9IGZyb20gXCIuL3RyLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVhIH0gZnJvbSBcIi4vdWEuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdWsgfSBmcm9tIFwiLi91ay5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB1ciB9IGZyb20gXCIuL3VyLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHZpIH0gZnJvbSBcIi4vdmkuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgemhDTiB9IGZyb20gXCIuL3poLUNOLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHpoVFcgfSBmcm9tIFwiLi96aC1UVy5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB5byB9IGZyb20gXCIuL3lvLmpzXCI7XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJcdTA2MkRcdTA2MzFcdTA2NDFcIiwgdmVyYjogXCJcdTA2MjNcdTA2NDYgXHUwNjRBXHUwNjJEXHUwNjQ4XHUwNjRBXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcIlx1MDYyOFx1MDYyN1x1MDY0QVx1MDYyQVwiLCB2ZXJiOiBcIlx1MDYyM1x1MDY0NiBcdTA2NEFcdTA2MkRcdTA2NDhcdTA2NEFcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcIlx1MDYzOVx1MDY0Nlx1MDYzNVx1MDYzMVwiLCB2ZXJiOiBcIlx1MDYyM1x1MDY0NiBcdTA2NEFcdTA2MkRcdTA2NDhcdTA2NEFcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJcdTA2MzlcdTA2NDZcdTA2MzVcdTA2MzFcIiwgdmVyYjogXCJcdTA2MjNcdTA2NDYgXHUwNjRBXHUwNjJEXHUwNjQ4XHUwNjRBXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJudW1iZXJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1MDY0NVx1MDYyRlx1MDYyRVx1MDY0NFwiLFxuICAgICAgICBlbWFpbDogXCJcdTA2MjhcdTA2MzFcdTA2NEFcdTA2MkYgXHUwNjI1XHUwNjQ0XHUwNjQzXHUwNjJBXHUwNjMxXHUwNjQ4XHUwNjQ2XHUwNjRBXCIsXG4gICAgICAgIHVybDogXCJcdTA2MzFcdTA2MjdcdTA2MjhcdTA2MzdcIixcbiAgICAgICAgZW1vamk6IFwiXHUwNjI1XHUwNjRBXHUwNjQ1XHUwNjQ4XHUwNjJDXHUwNjRBXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIlx1MDYyQVx1MDYyN1x1MDYzMVx1MDY0QVx1MDYyRSBcdTA2NDhcdTA2NDhcdTA2NDJcdTA2MkEgXHUwNjI4XHUwNjQ1XHUwNjM5XHUwNjRBXHUwNjI3XHUwNjMxIElTT1wiLFxuICAgICAgICBkYXRlOiBcIlx1MDYyQVx1MDYyN1x1MDYzMVx1MDY0QVx1MDYyRSBcdTA2MjhcdTA2NDVcdTA2MzlcdTA2NEFcdTA2MjdcdTA2MzEgSVNPXCIsXG4gICAgICAgIHRpbWU6IFwiXHUwNjQ4XHUwNjQyXHUwNjJBIFx1MDYyOFx1MDY0NVx1MDYzOVx1MDY0QVx1MDYyN1x1MDYzMSBJU09cIixcbiAgICAgICAgZHVyYXRpb246IFwiXHUwNjQ1XHUwNjJGXHUwNjI5IFx1MDYyOFx1MDY0NVx1MDYzOVx1MDY0QVx1MDYyN1x1MDYzMSBJU09cIixcbiAgICAgICAgaXB2NDogXCJcdTA2MzlcdTA2NDZcdTA2NDhcdTA2MjdcdTA2NDYgSVB2NFwiLFxuICAgICAgICBpcHY2OiBcIlx1MDYzOVx1MDY0Nlx1MDY0OFx1MDYyN1x1MDY0NiBJUHY2XCIsXG4gICAgICAgIGNpZHJ2NDogXCJcdTA2NDVcdTA2MkZcdTA2NDkgXHUwNjM5XHUwNjQ2XHUwNjI3XHUwNjQ4XHUwNjRBXHUwNjQ2IFx1MDYyOFx1MDYzNVx1MDY0QVx1MDYzQVx1MDYyOSBJUHY0XCIsXG4gICAgICAgIGNpZHJ2NjogXCJcdTA2NDVcdTA2MkZcdTA2NDkgXHUwNjM5XHUwNjQ2XHUwNjI3XHUwNjQ4XHUwNjRBXHUwNjQ2IFx1MDYyOFx1MDYzNVx1MDY0QVx1MDYzQVx1MDYyOSBJUHY2XCIsXG4gICAgICAgIGJhc2U2NDogXCJcdTA2NDZcdTA2NEVcdTA2MzUgXHUwNjI4XHUwNjJBXHUwNjMxXHUwNjQ1XHUwNjRBXHUwNjMyIGJhc2U2NC1lbmNvZGVkXCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJcdTA2NDZcdTA2NEVcdTA2MzUgXHUwNjI4XHUwNjJBXHUwNjMxXHUwNjQ1XHUwNjRBXHUwNjMyIGJhc2U2NHVybC1lbmNvZGVkXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIlx1MDY0Nlx1MDY0RVx1MDYzNSBcdTA2MzlcdTA2NDRcdTA2NDkgXHUwNjQ3XHUwNjRBXHUwNjI2XHUwNjI5IEpTT05cIixcbiAgICAgICAgZTE2NDogXCJcdTA2MzFcdTA2NDJcdTA2NDUgXHUwNjQ3XHUwNjI3XHUwNjJBXHUwNjQxIFx1MDYyOFx1MDY0NVx1MDYzOVx1MDY0QVx1MDYyN1x1MDYzMSBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHUwNjQ1XHUwNjJGXHUwNjJFXHUwNjQ0XCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ1XHUwNjJGXHUwNjJFXHUwNjQ0XHUwNjI3XHUwNjJBIFx1MDYzQVx1MDY0QVx1MDYzMSBcdTA2NDVcdTA2NDJcdTA2MjhcdTA2NDhcdTA2NDRcdTA2Mjk6IFx1MDY0QVx1MDY0MVx1MDYyQVx1MDYzMVx1MDYzNiBcdTA2MjVcdTA2MkZcdTA2MkVcdTA2MjdcdTA2NDQgJHtpc3N1ZS5leHBlY3RlZH1cdTA2MEMgXHUwNjQ4XHUwNjQ0XHUwNjQzXHUwNjQ2IFx1MDYyQVx1MDY0NSBcdTA2MjVcdTA2MkZcdTA2MkVcdTA2MjdcdTA2NDQgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDVcdTA2MkZcdTA2MkVcdTA2NDRcdTA2MjdcdTA2MkEgXHUwNjNBXHUwNjRBXHUwNjMxIFx1MDY0NVx1MDY0Mlx1MDYyOFx1MDY0OFx1MDY0NFx1MDYyOTogXHUwNjRBXHUwNjQxXHUwNjJBXHUwNjMxXHUwNjM2IFx1MDYyNVx1MDYyRlx1MDYyRVx1MDYyN1x1MDY0NCAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYyN1x1MDYyRVx1MDYyQVx1MDY0QVx1MDYyN1x1MDYzMSBcdTA2M0FcdTA2NEFcdTA2MzEgXHUwNjQ1XHUwNjQyXHUwNjI4XHUwNjQ4XHUwNjQ0OiBcdTA2NEFcdTA2MkFcdTA2NDhcdTA2NDJcdTA2MzkgXHUwNjI3XHUwNjQ2XHUwNjJBXHUwNjQyXHUwNjI3XHUwNjIxIFx1MDYyM1x1MDYyRFx1MDYyRiBcdTA2NDdcdTA2MzBcdTA2NDcgXHUwNjI3XHUwNjQ0XHUwNjJFXHUwNjRBXHUwNjI3XHUwNjMxXHUwNjI3XHUwNjJBOiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgIFx1MDYyM1x1MDY0M1x1MDYyOFx1MDYzMSBcdTA2NDVcdTA2NDYgXHUwNjI3XHUwNjQ0XHUwNjQ0XHUwNjI3XHUwNjMyXHUwNjQ1OiBcdTA2NEFcdTA2NDFcdTA2MkFcdTA2MzFcdTA2MzYgXHUwNjIzXHUwNjQ2IFx1MDYyQVx1MDY0M1x1MDY0OFx1MDY0NiAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MDYyN1x1MDY0NFx1MDY0Mlx1MDY0QVx1MDY0NVx1MDYyOVwifSAke2Fkan0gJHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJcdTA2MzlcdTA2NDZcdTA2MzVcdTA2MzFcIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjIzXHUwNjQzXHUwNjI4XHUwNjMxIFx1MDY0NVx1MDY0NiBcdTA2MjdcdTA2NDRcdTA2NDRcdTA2MjdcdTA2MzJcdTA2NDU6IFx1MDY0QVx1MDY0MVx1MDYyQVx1MDYzMVx1MDYzNiBcdTA2MjNcdTA2NDYgXHUwNjJBXHUwNjQzXHUwNjQ4XHUwNjQ2ICR7aXNzdWUub3JpZ2luID8/IFwiXHUwNjI3XHUwNjQ0XHUwNjQyXHUwNjRBXHUwNjQ1XHUwNjI5XCJ9ICR7YWRqfSAke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYyM1x1MDYzNVx1MDYzQVx1MDYzMSBcdTA2NDVcdTA2NDYgXHUwNjI3XHUwNjQ0XHUwNjQ0XHUwNjI3XHUwNjMyXHUwNjQ1OiBcdTA2NEFcdTA2NDFcdTA2MkFcdTA2MzFcdTA2MzYgXHUwNjQ0XHUwNjQwICR7aXNzdWUub3JpZ2lufSBcdTA2MjNcdTA2NDYgXHUwNjRBXHUwNjQzXHUwNjQ4XHUwNjQ2ICR7YWRqfSAke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYyM1x1MDYzNVx1MDYzQVx1MDYzMSBcdTA2NDVcdTA2NDYgXHUwNjI3XHUwNjQ0XHUwNjQ0XHUwNjI3XHUwNjMyXHUwNjQ1OiBcdTA2NEFcdTA2NDFcdTA2MkFcdTA2MzFcdTA2MzYgXHUwNjQ0XHUwNjQwICR7aXNzdWUub3JpZ2lufSBcdTA2MjNcdTA2NDYgXHUwNjRBXHUwNjQzXHUwNjQ4XHUwNjQ2ICR7YWRqfSAke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0Nlx1MDY0RVx1MDYzNSBcdTA2M0FcdTA2NEFcdTA2MzEgXHUwNjQ1XHUwNjQyXHUwNjI4XHUwNjQ4XHUwNjQ0OiBcdTA2NEFcdTA2MkNcdTA2MjggXHUwNjIzXHUwNjQ2IFx1MDY0QVx1MDYyOFx1MDYyRlx1MDYyMyBcdTA2MjhcdTA2NDAgXCIke2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ2XHUwNjRFXHUwNjM1IFx1MDYzQVx1MDY0QVx1MDYzMSBcdTA2NDVcdTA2NDJcdTA2MjhcdTA2NDhcdTA2NDQ6IFx1MDY0QVx1MDYyQ1x1MDYyOCBcdTA2MjNcdTA2NDYgXHUwNjRBXHUwNjQ2XHUwNjJBXHUwNjQ3XHUwNjRBIFx1MDYyOFx1MDY0MCBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDZcdTA2NEVcdTA2MzUgXHUwNjNBXHUwNjRBXHUwNjMxIFx1MDY0NVx1MDY0Mlx1MDYyOFx1MDY0OFx1MDY0NDogXHUwNjRBXHUwNjJDXHUwNjI4IFx1MDYyM1x1MDY0NiBcdTA2NEFcdTA2MkFcdTA2MzZcdTA2NDVcdTA2NTFcdTA2NEVcdTA2NDYgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDZcdTA2NEVcdTA2MzUgXHUwNjNBXHUwNjRBXHUwNjMxIFx1MDY0NVx1MDY0Mlx1MDYyOFx1MDY0OFx1MDY0NDogXHUwNjRBXHUwNjJDXHUwNjI4IFx1MDYyM1x1MDY0NiBcdTA2NEFcdTA2MzdcdTA2MjdcdTA2MjhcdTA2NDIgXHUwNjI3XHUwNjQ0XHUwNjQ2XHUwNjQ1XHUwNjM3ICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fSBcdTA2M0FcdTA2NEFcdTA2MzEgXHUwNjQ1XHUwNjQyXHUwNjI4XHUwNjQ4XHUwNjQ0YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYzMVx1MDY0Mlx1MDY0NSBcdTA2M0FcdTA2NEFcdTA2MzEgXHUwNjQ1XHUwNjQyXHUwNjI4XHUwNjQ4XHUwNjQ0OiBcdTA2NEFcdTA2MkNcdTA2MjggXHUwNjIzXHUwNjQ2IFx1MDY0QVx1MDY0M1x1MDY0OFx1MDY0NiBcdTA2NDVcdTA2NDYgXHUwNjQ1XHUwNjM2XHUwNjI3XHUwNjM5XHUwNjQxXHUwNjI3XHUwNjJBICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDVcdTA2MzlcdTA2MzFcdTA2NDEke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiXHUwNjI3XHUwNjJBXCIgOiBcIlwifSBcdTA2M0FcdTA2MzFcdTA2NEFcdTA2Mjgke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiXHUwNjI5XCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCJcdTA2MEMgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0NVx1MDYzOVx1MDYzMVx1MDY0MSBcdTA2M0FcdTA2NEFcdTA2MzEgXHUwNjQ1XHUwNjQyXHUwNjI4XHUwNjQ4XHUwNjQ0IFx1MDY0MVx1MDY0QSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTA2NDVcdTA2MkZcdTA2MkVcdTA2NDQgXHUwNjNBXHUwNjRBXHUwNjMxIFx1MDY0NVx1MDY0Mlx1MDYyOFx1MDY0OFx1MDY0NFwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ1XHUwNjJGXHUwNjJFXHUwNjQ0IFx1MDYzQVx1MDY0QVx1MDYzMSBcdTA2NDVcdTA2NDJcdTA2MjhcdTA2NDhcdTA2NDQgXHUwNjQxXHUwNjRBICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDY0NVx1MDYyRlx1MDYyRVx1MDY0NCBcdTA2M0FcdTA2NEFcdTA2MzEgXHUwNjQ1XHUwNjQyXHUwNjI4XHUwNjQ4XHUwNjQ0XCI7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwic2ltdm9sXCIsIHZlcmI6IFwib2xtYWxcdTAxMzFkXHUwMTMxclwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJiYXl0XCIsIHZlcmI6IFwib2xtYWxcdTAxMzFkXHUwMTMxclwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiZWxlbWVudFwiLCB2ZXJiOiBcIm9sbWFsXHUwMTMxZFx1MDEzMXJcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJlbGVtZW50XCIsIHZlcmI6IFwib2xtYWxcdTAxMzFkXHUwMTMxclwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibnVtYmVyXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJpbnB1dFwiLFxuICAgICAgICBlbWFpbDogXCJlbWFpbCBhZGRyZXNzXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPIGRhdGV0aW1lXCIsXG4gICAgICAgIGRhdGU6IFwiSVNPIGRhdGVcIixcbiAgICAgICAgdGltZTogXCJJU08gdGltZVwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08gZHVyYXRpb25cIixcbiAgICAgICAgaXB2NDogXCJJUHY0IGFkZHJlc3NcIixcbiAgICAgICAgaXB2NjogXCJJUHY2IGFkZHJlc3NcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQgcmFuZ2VcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYgcmFuZ2VcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NC1lbmNvZGVkIHN0cmluZ1wiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsLWVuY29kZWQgc3RyaW5nXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gc3RyaW5nXCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQgbnVtYmVyXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJpbnB1dFwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFlhbmxcdTAxMzFcdTAxNUYgZFx1MDI1OXlcdTAyNTlyOiBnXHUwMEY2emxcdTAyNTluaWxcdTAyNTluICR7aXNzdWUuZXhwZWN0ZWR9LCBkYXhpbCBvbGFuICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgWWFubFx1MDEzMVx1MDE1RiBkXHUwMjU5eVx1MDI1OXI6IGdcdTAwRjZ6bFx1MDI1OW5pbFx1MDI1OW4gJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBZYW5sXHUwMTMxXHUwMTVGIHNlXHUwMEU3aW06IGFcdTAxNUZhXHUwMTFGXHUwMTMxZGFrXHUwMTMxbGFyZGFuIGJpcmkgb2xtYWxcdTAxMzFkXHUwMTMxcjogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDN294IGJcdTAwRjZ5XHUwMEZDazogZ1x1MDBGNnpsXHUwMjU5bmlsXHUwMjU5biAke2lzc3VlLm9yaWdpbiA/PyBcImRcdTAyNTl5XHUwMjU5clwifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRcIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEM3b3ggYlx1MDBGNnlcdTAwRkNrOiBnXHUwMEY2emxcdTAyNTluaWxcdTAyNTluICR7aXNzdWUub3JpZ2luID8/IFwiZFx1MDI1OXlcdTAyNTlyXCJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDN294IGtpXHUwMEU3aWs6IGdcdTAwRjZ6bFx1MDI1OW5pbFx1MDI1OW4gJHtpc3N1ZS5vcmlnaW59ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzdveCBraVx1MDBFN2lrOiBnXHUwMEY2emxcdTAyNTluaWxcdTAyNTluICR7aXNzdWUub3JpZ2lufSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFlhbmxcdTAxMzFcdTAxNUYgbVx1MDI1OXRuOiBcIiR7X2lzc3VlLnByZWZpeH1cIiBpbFx1MDI1OSBiYVx1MDE1RmxhbWFsXHUwMTMxZFx1MDEzMXJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFlhbmxcdTAxMzFcdTAxNUYgbVx1MDI1OXRuOiBcIiR7X2lzc3VlLnN1ZmZpeH1cIiBpbFx1MDI1OSBiaXRtXHUwMjU5bGlkaXJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgWWFubFx1MDEzMVx1MDE1RiBtXHUwMjU5dG46IFwiJHtfaXNzdWUuaW5jbHVkZXN9XCIgZGF4aWwgb2xtYWxcdTAxMzFkXHUwMTMxcmA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBZYW5sXHUwMTMxXHUwMTVGIG1cdTAyNTl0bjogJHtfaXNzdWUucGF0dGVybn0gXHUwMTVGYWJsb251bmEgdXlcdTAxMUZ1biBvbG1hbFx1MDEzMWRcdTAxMzFyYDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFlhbmxcdTAxMzFcdTAxNUYgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFlhbmxcdTAxMzFcdTAxNUYgXHUwMjU5ZFx1MDI1OWQ6ICR7aXNzdWUuZGl2aXNvcn0gaWxcdTAyNTkgYlx1MDBGNmxcdTAwRkNuXHUwMjU5IGJpbFx1MDI1OW4gb2xtYWxcdTAxMzFkXHUwMTMxcmA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFRhblx1MDEzMW5tYXlhbiBhXHUwMEU3YXIke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwibGFyXCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbn0gZGF4aWxpbmRcdTAyNTkgeWFubFx1MDEzMVx1MDE1RiBhXHUwMEU3YXJgO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJZYW5sXHUwMTMxXHUwMTVGIGRcdTAyNTl5XHUwMjU5clwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW59IGRheGlsaW5kXHUwMjU5IHlhbmxcdTAxMzFcdTAxNUYgZFx1MDI1OXlcdTAyNTlyYDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBZYW5sXHUwMTMxXHUwMTVGIGRcdTAyNTl5XHUwMjU5cmA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuZnVuY3Rpb24gZ2V0QmVsYXJ1c2lhblBsdXJhbChjb3VudCwgb25lLCBmZXcsIG1hbnkpIHtcbiAgICBjb25zdCBhYnNDb3VudCA9IE1hdGguYWJzKGNvdW50KTtcbiAgICBjb25zdCBsYXN0RGlnaXQgPSBhYnNDb3VudCAlIDEwO1xuICAgIGNvbnN0IGxhc3RUd29EaWdpdHMgPSBhYnNDb3VudCAlIDEwMDtcbiAgICBpZiAobGFzdFR3b0RpZ2l0cyA+PSAxMSAmJiBsYXN0VHdvRGlnaXRzIDw9IDE5KSB7XG4gICAgICAgIHJldHVybiBtYW55O1xuICAgIH1cbiAgICBpZiAobGFzdERpZ2l0ID09PSAxKSB7XG4gICAgICAgIHJldHVybiBvbmU7XG4gICAgfVxuICAgIGlmIChsYXN0RGlnaXQgPj0gMiAmJiBsYXN0RGlnaXQgPD0gNCkge1xuICAgICAgICByZXR1cm4gZmV3O1xuICAgIH1cbiAgICByZXR1cm4gbWFueTtcbn1cbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzoge1xuICAgICAgICAgICAgdW5pdDoge1xuICAgICAgICAgICAgICAgIG9uZTogXCJcdTA0NDFcdTA0NTZcdTA0M0NcdTA0MzJcdTA0MzBcdTA0M0JcIixcbiAgICAgICAgICAgICAgICBmZXc6IFwiXHUwNDQxXHUwNDU2XHUwNDNDXHUwNDMyXHUwNDMwXHUwNDNCXHUwNDRCXCIsXG4gICAgICAgICAgICAgICAgbWFueTogXCJcdTA0NDFcdTA0NTZcdTA0M0NcdTA0MzJcdTA0MzBcdTA0M0JcdTA0MzBcdTA0NUVcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MDQzQ1x1MDQzNVx1MDQ0Nlx1MDQ0Q1wiLFxuICAgICAgICB9LFxuICAgICAgICBhcnJheToge1xuICAgICAgICAgICAgdW5pdDoge1xuICAgICAgICAgICAgICAgIG9uZTogXCJcdTA0NERcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcIixcbiAgICAgICAgICAgICAgICBmZXc6IFwiXHUwNDREXHUwNDNCXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDQyXHUwNDRCXCIsXG4gICAgICAgICAgICAgICAgbWFueTogXCJcdTA0NERcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcdTA0MzBcdTA0NUVcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MDQzQ1x1MDQzNVx1MDQ0Nlx1MDQ0Q1wiLFxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IHtcbiAgICAgICAgICAgIHVuaXQ6IHtcbiAgICAgICAgICAgICAgICBvbmU6IFwiXHUwNDREXHUwNDNCXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDQyXCIsXG4gICAgICAgICAgICAgICAgZmV3OiBcIlx1MDQ0RFx1MDQzQlx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0Mlx1MDQ0QlwiLFxuICAgICAgICAgICAgICAgIG1hbnk6IFwiXHUwNDREXHUwNDNCXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDQyXHUwNDMwXHUwNDVFXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmVyYjogXCJcdTA0M0NcdTA0MzVcdTA0NDZcdTA0NENcIixcbiAgICAgICAgfSxcbiAgICAgICAgZmlsZToge1xuICAgICAgICAgICAgdW5pdDoge1xuICAgICAgICAgICAgICAgIG9uZTogXCJcdTA0MzFcdTA0MzBcdTA0MzlcdTA0NDJcIixcbiAgICAgICAgICAgICAgICBmZXc6IFwiXHUwNDMxXHUwNDMwXHUwNDM5XHUwNDQyXHUwNDRCXCIsXG4gICAgICAgICAgICAgICAgbWFueTogXCJcdTA0MzFcdTA0MzBcdTA0MzlcdTA0NDJcdTA0MzBcdTA0NUVcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MDQzQ1x1MDQzNVx1MDQ0Nlx1MDQ0Q1wiLFxuICAgICAgICB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIlx1MDQzQlx1MDQ1Nlx1MDQzQVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwNDNDXHUwNDMwXHUwNDQxXHUwNDU2XHUwNDVFXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1MDQ0M1x1MDQzMlx1MDQzRVx1MDQzNFwiLFxuICAgICAgICBlbWFpbDogXCJlbWFpbCBcdTA0MzBcdTA0MzRcdTA0NDBcdTA0MzBcdTA0NDFcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJcdTA0NERcdTA0M0NcdTA0M0VcdTA0MzRcdTA0MzdcdTA0NTZcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPIFx1MDQzNFx1MDQzMFx1MDQ0Mlx1MDQzMCBcdTA0NTYgXHUwNDQ3XHUwNDMwXHUwNDQxXCIsXG4gICAgICAgIGRhdGU6IFwiSVNPIFx1MDQzNFx1MDQzMFx1MDQ0Mlx1MDQzMFwiLFxuICAgICAgICB0aW1lOiBcIklTTyBcdTA0NDdcdTA0MzBcdTA0NDFcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPIFx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQ0Nlx1MDQ0Rlx1MDQzM1x1MDQzQlx1MDQzMFx1MDQ0MVx1MDQ0Nlx1MDQ0Q1wiLFxuICAgICAgICBpcHY0OiBcIklQdjQgXHUwNDMwXHUwNDM0XHUwNDQwXHUwNDMwXHUwNDQxXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2NiBcdTA0MzBcdTA0MzRcdTA0NDBcdTA0MzBcdTA0NDFcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQgXHUwNDM0XHUwNDRCXHUwNDRGXHUwNDNGXHUwNDMwXHUwNDM3XHUwNDNFXHUwNDNEXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2IFx1MDQzNFx1MDQ0Qlx1MDQ0Rlx1MDQzRlx1MDQzMFx1MDQzN1x1MDQzRVx1MDQzRFwiLFxuICAgICAgICBiYXNlNjQ6IFwiXHUwNDQwXHUwNDMwXHUwNDM0XHUwNDNFXHUwNDNBIFx1MDQ0MyBcdTA0NDRcdTA0MzBcdTA0NDBcdTA0M0NcdTA0MzBcdTA0NDZcdTA0MzUgYmFzZTY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJcdTA0NDBcdTA0MzBcdTA0MzRcdTA0M0VcdTA0M0EgXHUwNDQzIFx1MDQ0NFx1MDQzMFx1MDQ0MFx1MDQzQ1x1MDQzMFx1MDQ0Nlx1MDQzNSBiYXNlNjR1cmxcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTiBcdTA0NDBcdTA0MzBcdTA0MzRcdTA0M0VcdTA0M0FcIixcbiAgICAgICAgZTE2NDogXCJcdTA0M0RcdTA0NDNcdTA0M0NcdTA0MzBcdTA0NDAgRS4xNjRcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1MDQ0M1x1MDQzMlx1MDQzRVx1MDQzNFwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQ0Rlx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ0QiBcdTA0NUVcdTA0MzJcdTA0M0VcdTA0MzQ6IFx1MDQ0N1x1MDQzMFx1MDQzQVx1MDQzMFx1MDQ1RVx1MDQ0MVx1MDQ0RiAke2lzc3VlLmV4cGVjdGVkfSwgXHUwNDMwXHUwNDQyXHUwNDQwXHUwNDRCXHUwNDNDXHUwNDMwXHUwNDNEXHUwNDMwICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDRGXHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDRCIFx1MDQ1RVx1MDQzMlx1MDQzRVx1MDQzNDogXHUwNDQ3XHUwNDMwXHUwNDNBXHUwNDMwXHUwNDNCXHUwNDMwXHUwNDQxXHUwNDRGICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDRGXHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDRCIFx1MDQzMlx1MDQzMFx1MDQ0MFx1MDQ0Qlx1MDQ0Rlx1MDQzRFx1MDQ0MjogXHUwNDQ3XHUwNDMwXHUwNDNBXHUwNDMwXHUwNDVFXHUwNDQxXHUwNDRGIFx1MDQzMFx1MDQzNFx1MDQzN1x1MDQ1Nlx1MDQzRCBcdTA0MzcgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heFZhbHVlID0gTnVtYmVyKGlzc3VlLm1heGltdW0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1bml0ID0gZ2V0QmVsYXJ1c2lhblBsdXJhbChtYXhWYWx1ZSwgc2l6aW5nLnVuaXQub25lLCBzaXppbmcudW5pdC5mZXcsIHNpemluZy51bml0Lm1hbnkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxN1x1MDQzMFx1MDQzRFx1MDQzMFx1MDQzNFx1MDQ0Mlx1MDQzMCBcdTA0MzJcdTA0NEZcdTA0M0JcdTA0NTZcdTA0M0FcdTA0NTY6IFx1MDQ0N1x1MDQzMFx1MDQzQVx1MDQzMFx1MDQzQlx1MDQzMFx1MDQ0MVx1MDQ0RiwgXHUwNDQ4XHUwNDQyXHUwNDNFICR7aXNzdWUub3JpZ2luID8/IFwiXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDQ3XHUwNDREXHUwNDNEXHUwNDNEXHUwNDM1XCJ9IFx1MDQzRlx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzRFx1MDQzRFx1MDQzMCAke3NpemluZy52ZXJifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHt1bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDE3XHUwNDMwXHUwNDNEXHUwNDMwXHUwNDM0XHUwNDQyXHUwNDMwIFx1MDQzMlx1MDQ0Rlx1MDQzQlx1MDQ1Nlx1MDQzQVx1MDQ1NjogXHUwNDQ3XHUwNDMwXHUwNDNBXHUwNDMwXHUwNDNCXHUwNDMwXHUwNDQxXHUwNDRGLCBcdTA0NDhcdTA0NDJcdTA0M0UgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTA0MzdcdTA0M0RcdTA0MzBcdTA0NDdcdTA0NERcdTA0M0RcdTA0M0RcdTA0MzVcIn0gXHUwNDNGXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNEXHUwNDNEXHUwNDMwIFx1MDQzMVx1MDQ0Qlx1MDQ0Nlx1MDQ0QyAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtaW5WYWx1ZSA9IE51bWJlcihpc3N1ZS5taW5pbXVtKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdW5pdCA9IGdldEJlbGFydXNpYW5QbHVyYWwobWluVmFsdWUsIHNpemluZy51bml0Lm9uZSwgc2l6aW5nLnVuaXQuZmV3LCBzaXppbmcudW5pdC5tYW55KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MTdcdTA0MzBcdTA0M0RcdTA0MzBcdTA0MzRcdTA0NDJcdTA0MzAgXHUwNDNDXHUwNDMwXHUwNDNCXHUwNDRCOiBcdTA0NDdcdTA0MzBcdTA0M0FcdTA0MzBcdTA0M0JcdTA0MzBcdTA0NDFcdTA0NEYsIFx1MDQ0OFx1MDQ0Mlx1MDQzRSAke2lzc3VlLm9yaWdpbn0gXHUwNDNGXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNEXHUwNDNEXHUwNDMwICR7c2l6aW5nLnZlcmJ9ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3VuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MTdcdTA0MzBcdTA0M0RcdTA0MzBcdTA0MzRcdTA0NDJcdTA0MzAgXHUwNDNDXHUwNDMwXHUwNDNCXHUwNDRCOiBcdTA0NDdcdTA0MzBcdTA0M0FcdTA0MzBcdTA0M0JcdTA0MzBcdTA0NDFcdTA0NEYsIFx1MDQ0OFx1MDQ0Mlx1MDQzRSAke2lzc3VlLm9yaWdpbn0gXHUwNDNGXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNEXHUwNDNEXHUwNDMwIFx1MDQzMVx1MDQ0Qlx1MDQ0Nlx1MDQ0QyAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQ0Rlx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ0QiBcdTA0NDBcdTA0MzBcdTA0MzRcdTA0M0VcdTA0M0E6IFx1MDQzRlx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzRFx1MDQzNVx1MDQzRCBcdTA0M0ZcdTA0MzBcdTA0NDdcdTA0NEJcdTA0M0RcdTA0MzBcdTA0NDZcdTA0NDZcdTA0MzAgXHUwNDM3IFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0NEZcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0JcdTA0NENcdTA0M0RcdTA0NEIgXHUwNDQwXHUwNDMwXHUwNDM0XHUwNDNFXHUwNDNBOiBcdTA0M0ZcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0RcdTA0MzVcdTA0M0QgXHUwNDM3XHUwNDMwXHUwNDNBXHUwNDMwXHUwNDNEXHUwNDQ3XHUwNDMyXHUwNDMwXHUwNDQ2XHUwNDQ2XHUwNDMwIFx1MDQzRFx1MDQzMCBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0NEZcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0JcdTA0NENcdTA0M0RcdTA0NEIgXHUwNDQwXHUwNDMwXHUwNDM0XHUwNDNFXHUwNDNBOiBcdTA0M0ZcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0RcdTA0MzVcdTA0M0QgXHUwNDM3XHUwNDNDXHUwNDRGXHUwNDQ4XHUwNDQ3XHUwNDMwXHUwNDQ2XHUwNDRDIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDRGXHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDRCIFx1MDQ0MFx1MDQzMFx1MDQzNFx1MDQzRVx1MDQzQTogXHUwNDNGXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNEXHUwNDM1XHUwNDNEIFx1MDQzMFx1MDQzNFx1MDQzRlx1MDQzMFx1MDQzMlx1MDQ0Rlx1MDQzNFx1MDQzMFx1MDQ0Nlx1MDQ0QyBcdTA0NDhcdTA0MzBcdTA0MzFcdTA0M0JcdTA0M0VcdTA0M0RcdTA0NDMgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDRGXHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDRCICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0NEZcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0JcdTA0NENcdTA0M0RcdTA0NEIgXHUwNDNCXHUwNDU2XHUwNDNBOiBcdTA0M0ZcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0RcdTA0MzVcdTA0M0QgXHUwNDMxXHUwNDRCXHUwNDQ2XHUwNDRDIFx1MDQzQVx1MDQ0MFx1MDQzMFx1MDQ0Mlx1MDQzRFx1MDQ0Qlx1MDQzQyAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDQwXHUwNDMwXHUwNDQxXHUwNDNGXHUwNDMwXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDNEXHUwNDRCICR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJcdTA0M0FcdTA0M0JcdTA0NEVcdTA0NDdcdTA0NEJcIiA6IFwiXHUwNDNBXHUwNDNCXHUwNDRFXHUwNDQ3XCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQ0Rlx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ0QiBcdTA0M0FcdTA0M0JcdTA0NEVcdTA0NDcgXHUwNDQzICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDQxRFx1MDQ0Rlx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ0QiBcdTA0NUVcdTA0MzJcdTA0M0VcdTA0MzRcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQ0Rlx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzMFx1MDQzNSBcdTA0MzdcdTA0M0RcdTA0MzBcdTA0NDdcdTA0NERcdTA0M0RcdTA0M0RcdTA0MzUgXHUwNDVFICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDRGXHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDRCIFx1MDQ1RVx1MDQzMlx1MDQzRVx1MDQzNGA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiY2FyXHUwMEUwY3RlcnNcIiwgdmVyYjogXCJjb250ZW5pclwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJieXRlc1wiLCB2ZXJiOiBcImNvbnRlbmlyXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJlbGVtZW50c1wiLCB2ZXJiOiBcImNvbnRlbmlyXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiZWxlbWVudHNcIiwgdmVyYjogXCJjb250ZW5pclwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibnVtYmVyXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJlbnRyYWRhXCIsXG4gICAgICAgIGVtYWlsOiBcImFkcmVcdTAwRTdhIGVsZWN0clx1MDBGMm5pY2FcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJkYXRhIGkgaG9yYSBJU09cIixcbiAgICAgICAgZGF0ZTogXCJkYXRhIElTT1wiLFxuICAgICAgICB0aW1lOiBcImhvcmEgSVNPXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcImR1cmFkYSBJU09cIixcbiAgICAgICAgaXB2NDogXCJhZHJlXHUwMEU3YSBJUHY0XCIsXG4gICAgICAgIGlwdjY6IFwiYWRyZVx1MDBFN2EgSVB2NlwiLFxuICAgICAgICBjaWRydjQ6IFwicmFuZyBJUHY0XCIsXG4gICAgICAgIGNpZHJ2NjogXCJyYW5nIElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcImNhZGVuYSBjb2RpZmljYWRhIGVuIGJhc2U2NFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiY2FkZW5hIGNvZGlmaWNhZGEgZW4gYmFzZTY0dXJsXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcImNhZGVuYSBKU09OXCIsXG4gICAgICAgIGUxNjQ6IFwiblx1MDBGQW1lcm8gRS4xNjRcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcImVudHJhZGFcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUaXB1cyBpbnZcdTAwRTBsaWQ6IHMnZXNwZXJhdmEgJHtpc3N1ZS5leHBlY3RlZH0sIHMnaGEgcmVidXQgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgLy8gcmV0dXJuIGBUaXB1cyBpbnZcdTAwRTBsaWQ6IHMnZXNwZXJhdmEgJHtpc3N1ZS5leHBlY3RlZH0sIHMnaGEgcmVidXQgJHt1dGlsLmdldFBhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFZhbG9yIGludlx1MDBFMGxpZDogcydlc3BlcmF2YSAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9wY2lcdTAwRjMgaW52XHUwMEUwbGlkYTogcydlc3BlcmF2YSB1bmEgZGUgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcIiBvIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiY29tIGEgbVx1MDBFMHhpbVwiIDogXCJtZW55cyBkZVwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTWFzc2EgZ3Jhbjogcydlc3BlcmF2YSBxdWUgJHtpc3N1ZS5vcmlnaW4gPz8gXCJlbCB2YWxvclwifSBjb250aW5ndVx1MDBFOXMgJHthZGp9ICR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVudHNcIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgTWFzc2EgZ3Jhbjogcydlc3BlcmF2YSBxdWUgJHtpc3N1ZS5vcmlnaW4gPz8gXCJlbCB2YWxvclwifSBmb3MgJHthZGp9ICR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcImNvbSBhIG1cdTAwRURuaW1cIiA6IFwibVx1MDBFOXMgZGVcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTWFzc2EgcGV0aXQ6IHMnZXNwZXJhdmEgcXVlICR7aXNzdWUub3JpZ2lufSBjb250aW5ndVx1MDBFOXMgJHthZGp9ICR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgTWFzc2EgcGV0aXQ6IHMnZXNwZXJhdmEgcXVlICR7aXNzdWUub3JpZ2lufSBmb3MgJHthZGp9ICR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBGb3JtYXQgaW52XHUwMEUwbGlkOiBoYSBkZSBjb21lblx1MDBFN2FyIGFtYiBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEZvcm1hdCBpbnZcdTAwRTBsaWQ6IGhhIGQnYWNhYmFyIGFtYiBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBGb3JtYXQgaW52XHUwMEUwbGlkOiBoYSBkJ2luY2xvdXJlIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRm9ybWF0IGludlx1MDBFMGxpZDogaGEgZGUgY29pbmNpZGlyIGFtYiBlbCBwYXRyXHUwMEYzICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYEZvcm1hdCBpbnZcdTAwRTBsaWQgcGVyIGEgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5cdTAwRkFtZXJvIGludlx1MDBFMGxpZDogaGEgZGUgc2VyIG1cdTAwRkFsdGlwbGUgZGUgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYENsYXUke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwic1wiIDogXCJcIn0gbm8gcmVjb25lZ3VkYSR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJzXCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBDbGF1IGludlx1MDBFMGxpZGEgYSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJFbnRyYWRhIGludlx1MDBFMGxpZGFcIjsgLy8gQ291bGQgYWxzbyBiZSBcIlRpcHVzIGQndW5pXHUwMEYzIGludlx1MDBFMGxpZFwiIGJ1dCBcIkVudHJhZGEgaW52XHUwMEUwbGlkYVwiIGlzIG1vcmUgZ2VuZXJhbFxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgRWxlbWVudCBpbnZcdTAwRTBsaWQgYSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEVudHJhZGEgaW52XHUwMEUwbGlkYWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiem5ha1x1MDE2RlwiLCB2ZXJiOiBcIm1cdTAwRUR0XCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcImJhanRcdTAxNkZcIiwgdmVyYjogXCJtXHUwMEVEdFwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwicHJ2a1x1MDE2RlwiLCB2ZXJiOiBcIm1cdTAwRUR0XCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwicHJ2a1x1MDE2RlwiLCB2ZXJiOiBcIm1cdTAwRUR0XCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJcdTAxMERcdTAwRURzbG9cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDE1OWV0XHUwMTFCemVjXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiYm9vbGVhblwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImJpZ2ludFwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiYmlnaW50XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBcImZ1bmtjZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInN5bWJvbFwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwic3ltYm9sXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJ1bmRlZmluZWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcInBvbGVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwicmVndWxcdTAwRTFyblx1MDBFRCB2XHUwMEZEcmF6XCIsXG4gICAgICAgIGVtYWlsOiBcImUtbWFpbG92XHUwMEUxIGFkcmVzYVwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcImRhdHVtIGEgXHUwMTBEYXMgdmUgZm9ybVx1MDBFMXR1IElTT1wiLFxuICAgICAgICBkYXRlOiBcImRhdHVtIHZlIGZvcm1cdTAwRTF0dSBJU09cIixcbiAgICAgICAgdGltZTogXCJcdTAxMERhcyB2ZSBmb3JtXHUwMEUxdHUgSVNPXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcImRvYmEgdHJ2XHUwMEUxblx1MDBFRCBJU09cIixcbiAgICAgICAgaXB2NDogXCJJUHY0IGFkcmVzYVwiLFxuICAgICAgICBpcHY2OiBcIklQdjYgYWRyZXNhXCIsXG4gICAgICAgIGNpZHJ2NDogXCJyb3pzYWggSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwicm96c2FoIElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcIlx1MDE1OWV0XHUwMTFCemVjIHpha1x1MDBGM2RvdmFuXHUwMEZEIHZlIGZvcm1cdTAwRTF0dSBiYXNlNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcIlx1MDE1OWV0XHUwMTFCemVjIHpha1x1MDBGM2RvdmFuXHUwMEZEIHZlIGZvcm1cdTAwRTF0dSBiYXNlNjR1cmxcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiXHUwMTU5ZXRcdTAxMUJ6ZWMgdmUgZm9ybVx1MDBFMXR1IEpTT05cIixcbiAgICAgICAgZTE2NDogXCJcdTAxMERcdTAwRURzbG8gRS4xNjRcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcInZzdHVwXCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmVwbGF0blx1MDBGRCB2c3R1cDogb1x1MDEwRGVrXHUwMEUxdlx1MDBFMW5vICR7aXNzdWUuZXhwZWN0ZWR9LCBvYmRyXHUwMTdFZW5vICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTmVwbGF0blx1MDBGRCB2c3R1cDogb1x1MDEwRGVrXHUwMEUxdlx1MDBFMW5vICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgTmVwbGF0blx1MDBFMSBtb1x1MDE3RW5vc3Q6IG9cdTAxMERla1x1MDBFMXZcdTAwRTFuYSBqZWRuYSB6IGhvZG5vdCAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBIb2Rub3RhIGplIHBcdTAxNTlcdTAwRURsaVx1MDE2MSB2ZWxrXHUwMEUxOiAke2lzc3VlLm9yaWdpbiA/PyBcImhvZG5vdGFcIn0gbXVzXHUwMEVEIG1cdTAwRUR0ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwicHJ2a1x1MDE2RlwifWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgSG9kbm90YSBqZSBwXHUwMTU5XHUwMEVEbGlcdTAxNjEgdmVsa1x1MDBFMTogJHtpc3N1ZS5vcmlnaW4gPz8gXCJob2Rub3RhXCJ9IG11c1x1MDBFRCBiXHUwMEZEdCAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEhvZG5vdGEgamUgcFx1MDE1OVx1MDBFRGxpXHUwMTYxIG1hbFx1MDBFMTogJHtpc3N1ZS5vcmlnaW4gPz8gXCJob2Rub3RhXCJ9IG11c1x1MDBFRCBtXHUwMEVEdCAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcInBydmtcdTAxNkZcIn1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYEhvZG5vdGEgamUgcFx1MDE1OVx1MDBFRGxpXHUwMTYxIG1hbFx1MDBFMTogJHtpc3N1ZS5vcmlnaW4gPz8gXCJob2Rub3RhXCJ9IG11c1x1MDBFRCBiXHUwMEZEdCAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE5lcGxhdG5cdTAwRkQgXHUwMTU5ZXRcdTAxMUJ6ZWM6IG11c1x1MDBFRCB6YVx1MDEwRFx1MDBFRG5hdCBuYSBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTmVwbGF0blx1MDBGRCBcdTAxNTlldFx1MDExQnplYzogbXVzXHUwMEVEIGtvblx1MDEwRGl0IG5hIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE5lcGxhdG5cdTAwRkQgXHUwMTU5ZXRcdTAxMUJ6ZWM6IG11c1x1MDBFRCBvYnNhaG92YXQgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBOZXBsYXRuXHUwMEZEIFx1MDE1OWV0XHUwMTFCemVjOiBtdXNcdTAwRUQgb2Rwb3ZcdTAwRURkYXQgdnpvcnUgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgTmVwbGF0blx1MDBGRCBmb3JtXHUwMEUxdCAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmVwbGF0blx1MDBFOSBcdTAxMERcdTAwRURzbG86IG11c1x1MDBFRCBiXHUwMEZEdCBuXHUwMEUxc29ia2VtICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXpuXHUwMEUxbVx1MDBFOSBrbFx1MDBFRFx1MDEwRGU6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmVwbGF0blx1MDBGRCBrbFx1MDBFRFx1MDEwRCB2ICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIk5lcGxhdG5cdTAwRkQgdnN0dXBcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5lcGxhdG5cdTAwRTEgaG9kbm90YSB2ICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmVwbGF0blx1MDBGRCB2c3R1cGA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwidGVnblwiLCB2ZXJiOiBcImhhdmRlXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcImJ5dGVzXCIsIHZlcmI6IFwiaGF2ZGVcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcImVsZW1lbnRlclwiLCB2ZXJiOiBcImluZGVob2xkdFwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcImVsZW1lbnRlclwiLCB2ZXJiOiBcImluZGVob2xkdFwiIH0sXG4gICAgfTtcbiAgICBjb25zdCBUeXBlTmFtZXMgPSB7XG4gICAgICAgIHN0cmluZzogXCJzdHJlbmdcIixcbiAgICAgICAgbnVtYmVyOiBcInRhbFwiLFxuICAgICAgICBib29sZWFuOiBcImJvb2xlYW5cIixcbiAgICAgICAgYXJyYXk6IFwibGlzdGVcIixcbiAgICAgICAgb2JqZWN0OiBcIm9iamVrdFwiLFxuICAgICAgICBzZXQ6IFwic1x1MDBFNnRcIixcbiAgICAgICAgZmlsZTogXCJmaWxcIixcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRUeXBlTmFtZSh0eXBlKSB7XG4gICAgICAgIHJldHVybiBUeXBlTmFtZXNbdHlwZV0gPz8gdHlwZTtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwidGFsXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsaXN0ZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmpla3RcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJpbnB1dFwiLFxuICAgICAgICBlbWFpbDogXCJlLW1haWxhZHJlc3NlXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPIGRhdG8tIG9nIGtsb2trZXNsXHUwMEU2dFwiLFxuICAgICAgICBkYXRlOiBcIklTTy1kYXRvXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPLWtsb2trZXNsXHUwMEU2dFwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08tdmFyaWdoZWRcIixcbiAgICAgICAgaXB2NDogXCJJUHY0LW9tclx1MDBFNWRlXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2Ni1vbXJcdTAwRTVkZVwiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NC1zcGVrdHJ1bVwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2Ni1zcGVrdHJ1bVwiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0LWtvZGV0IHN0cmVuZ1wiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsLWtvZGV0IHN0cmVuZ1wiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OLXN0cmVuZ1wiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0LW51bW1lclwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiaW5wdXRcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlndCBpbnB1dDogZm9ydmVudGVkZSAke2dldFR5cGVOYW1lKGlzc3VlLmV4cGVjdGVkKX0sIGZpayAke2dldFR5cGVOYW1lKHBhcnNlZFR5cGUoaXNzdWUuaW5wdXQpKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlnIHZcdTAwRTZyZGk6IGZvcnZlbnRlZGUgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlndCB2YWxnOiBmb3J2ZW50ZWRlIGVuIGFmIGZcdTAwRjhsZ2VuZGUgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW4gPSBnZXRUeXBlTmFtZShpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRm9yIHN0b3I6IGZvcnZlbnRlZGUgJHtvcmlnaW4gPz8gXCJ2YWx1ZVwifSAke3NpemluZy52ZXJifSAke2Fkan0gJHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW50ZXJcIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgRm9yIHN0b3I6IGZvcnZlbnRlZGUgJHtvcmlnaW4gPz8gXCJ2YWx1ZVwifSBoYXZkZSAke2Fkan0gJHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbiA9IGdldFR5cGVOYW1lKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEZvciBsaWxsZTogZm9ydmVudGVkZSAke29yaWdpbn0gJHtzaXppbmcudmVyYn0gJHthZGp9ICR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgRm9yIGxpbGxlOiBmb3J2ZW50ZWRlICR7b3JpZ2lufSBoYXZkZSAke2Fkan0gJHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlnIHN0cmVuZzogc2thbCBzdGFydGUgbWVkIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlnIHN0cmVuZzogc2thbCBlbmRlIG1lZCBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlnIHN0cmVuZzogc2thbCBpbmRlaG9sZGUgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlnIHN0cmVuZzogc2thbCBtYXRjaGUgbVx1MDBGOG5zdGVyZXQgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZ3QgdGFsOiBza2FsIHZcdTAwRTZyZSBkZWxlbGlndCBtZWQgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJVa2VuZHRlIG5cdTAwRjhnbGVyXCIgOiBcIlVrZW5kdCBuXHUwMEY4Z2xlXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWcgblx1MDBGOGdsZSBpICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlVneWxkaWd0IGlucHV0OiBtYXRjaGVyIGluZ2VuIGFmIGRlIHRpbGxhZHRlIHR5cGVyXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlnIHZcdTAwRTZyZGkgaSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWd0IGlucHV0YDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJaZWljaGVuXCIsIHZlcmI6IFwienUgaGFiZW5cIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiQnl0ZXNcIiwgdmVyYjogXCJ6dSBoYWJlblwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiRWxlbWVudGVcIiwgdmVyYjogXCJ6dSBoYWJlblwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcIkVsZW1lbnRlXCIsIHZlcmI6IFwienUgaGFiZW5cIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIlphaGxcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkFycmF5XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIkVpbmdhYmVcIixcbiAgICAgICAgZW1haWw6IFwiRS1NYWlsLUFkcmVzc2VcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJFbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08tRGF0dW0gdW5kIC1VaHJ6ZWl0XCIsXG4gICAgICAgIGRhdGU6IFwiSVNPLURhdHVtXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPLVVocnplaXRcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPLURhdWVyXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NC1BZHJlc3NlXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2Ni1BZHJlc3NlXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0LUJlcmVpY2hcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYtQmVyZWljaFwiLFxuICAgICAgICBiYXNlNjQ6IFwiQmFzZTY0LWNvZGllcnRlciBTdHJpbmdcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcIkJhc2U2NC1VUkwtY29kaWVydGVyIFN0cmluZ1wiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OLVN0cmluZ1wiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0LU51bW1lclwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiRWluZ2FiZVwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVuZ1x1MDBGQ2x0aWdlIEVpbmdhYmU6IGVyd2FydGV0ICR7aXNzdWUuZXhwZWN0ZWR9LCBlcmhhbHRlbiAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFVuZ1x1MDBGQ2x0aWdlIEVpbmdhYmU6IGVyd2FydGV0ICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgVW5nXHUwMEZDbHRpZ2UgT3B0aW9uOiBlcndhcnRldCBlaW5lIHZvbiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgWnUgZ3JvXHUwMERGOiBlcndhcnRldCwgZGFzcyAke2lzc3VlLm9yaWdpbiA/PyBcIldlcnRcIn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJFbGVtZW50ZVwifSBoYXRgO1xuICAgICAgICAgICAgICAgIHJldHVybiBgWnUgZ3JvXHUwMERGOiBlcndhcnRldCwgZGFzcyAke2lzc3VlLm9yaWdpbiA/PyBcIldlcnRcIn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9IGlzdGA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgWnUga2xlaW46IGVyd2FydGV0LCBkYXNzICR7aXNzdWUub3JpZ2lufSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH0gaGF0YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBadSBrbGVpbjogZXJ3YXJ0ZXQsIGRhc3MgJHtpc3N1ZS5vcmlnaW59ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSBpc3RgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFVuZ1x1MDBGQ2x0aWdlciBTdHJpbmc6IG11c3MgbWl0IFwiJHtfaXNzdWUucHJlZml4fVwiIGJlZ2lubmVuYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBVbmdcdTAwRkNsdGlnZXIgU3RyaW5nOiBtdXNzIG1pdCBcIiR7X2lzc3VlLnN1ZmZpeH1cIiBlbmRlbmA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBVbmdcdTAwRkNsdGlnZXIgU3RyaW5nOiBtdXNzIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCIgZW50aGFsdGVuYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFVuZ1x1MDBGQ2x0aWdlciBTdHJpbmc6IG11c3MgZGVtIE11c3RlciAke19pc3N1ZS5wYXR0ZXJufSBlbnRzcHJlY2hlbmA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVbmdcdTAwRkNsdGlnOiAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVW5nXHUwMEZDbHRpZ2UgWmFobDogbXVzcyBlaW4gVmllbGZhY2hlcyB2b24gJHtpc3N1ZS5kaXZpc29yfSBzZWluYDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlVuYmVrYW5udGUgU2NobFx1MDBGQ3NzZWxcIiA6IFwiVW5iZWthbm50ZXIgU2NobFx1MDBGQ3NzZWxcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVW5nXHUwMEZDbHRpZ2VyIFNjaGxcdTAwRkNzc2VsIGluICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlVuZ1x1MDBGQ2x0aWdlIEVpbmdhYmVcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVuZ1x1MDBGQ2x0aWdlciBXZXJ0IGluICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgVW5nXHUwMEZDbHRpZ2UgRWluZ2FiZWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuZXhwb3J0IGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibnVtYmVyXCI7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiY2hhcmFjdGVyc1wiLCB2ZXJiOiBcInRvIGhhdmVcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiYnl0ZXNcIiwgdmVyYjogXCJ0byBoYXZlXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJpdGVtc1wiLCB2ZXJiOiBcInRvIGhhdmVcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJpdGVtc1wiLCB2ZXJiOiBcInRvIGhhdmVcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJpbnB1dFwiLFxuICAgICAgICBlbWFpbDogXCJlbWFpbCBhZGRyZXNzXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPIGRhdGV0aW1lXCIsXG4gICAgICAgIGRhdGU6IFwiSVNPIGRhdGVcIixcbiAgICAgICAgdGltZTogXCJJU08gdGltZVwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08gZHVyYXRpb25cIixcbiAgICAgICAgaXB2NDogXCJJUHY0IGFkZHJlc3NcIixcbiAgICAgICAgaXB2NjogXCJJUHY2IGFkZHJlc3NcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQgcmFuZ2VcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYgcmFuZ2VcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NC1lbmNvZGVkIHN0cmluZ1wiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsLWVuY29kZWQgc3RyaW5nXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gc3RyaW5nXCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQgbnVtYmVyXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJpbnB1dFwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEludmFsaWQgaW5wdXQ6IGV4cGVjdGVkICR7aXNzdWUuZXhwZWN0ZWR9LCByZWNlaXZlZCAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEludmFsaWQgaW5wdXQ6IGV4cGVjdGVkICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgSW52YWxpZCBvcHRpb246IGV4cGVjdGVkIG9uZSBvZiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVG9vIGJpZzogZXhwZWN0ZWQgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2YWx1ZVwifSB0byBoYXZlICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVudHNcIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgVG9vIGJpZzogZXhwZWN0ZWQgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2YWx1ZVwifSB0byBiZSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRvbyBzbWFsbDogZXhwZWN0ZWQgJHtpc3N1ZS5vcmlnaW59IHRvIGhhdmUgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUb28gc21hbGw6IGV4cGVjdGVkICR7aXNzdWUub3JpZ2lufSB0byBiZSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgSW52YWxpZCBzdHJpbmc6IG11c3Qgc3RhcnQgd2l0aCBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEludmFsaWQgc3RyaW5nOiBtdXN0IGVuZCB3aXRoIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEludmFsaWQgc3RyaW5nOiBtdXN0IGluY2x1ZGUgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBJbnZhbGlkIHN0cmluZzogbXVzdCBtYXRjaCBwYXR0ZXJuICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYEludmFsaWQgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEludmFsaWQgbnVtYmVyOiBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVucmVjb2duaXplZCBrZXkke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwic1wiIDogXCJcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgSW52YWxpZCBrZXkgaW4gJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiSW52YWxpZCBpbnB1dFwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgSW52YWxpZCB2YWx1ZSBpbiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEludmFsaWQgaW5wdXRgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmV4cG9ydCBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgc3dpdGNoICh0KSB7XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIm5vbWJyb1wiO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJ0YWJlbG9cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwic2VudmFsb3JhXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0O1xufTtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcImthcmFrdHJvam5cIiwgdmVyYjogXCJoYXZpXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcImJhanRvam5cIiwgdmVyYjogXCJoYXZpXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJlbGVtZW50b2puXCIsIHZlcmI6IFwiaGF2aVwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcImVsZW1lbnRvam5cIiwgdmVyYjogXCJoYXZpXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiZW5pZ29cIixcbiAgICAgICAgZW1haWw6IFwicmV0YWRyZXNvXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vXHUwMTFEaW9cIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPLWRhdG90ZW1wb1wiLFxuICAgICAgICBkYXRlOiBcIklTTy1kYXRvXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPLXRlbXBvXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTy1kYVx1MDE2RHJvXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NC1hZHJlc29cIixcbiAgICAgICAgaXB2NjogXCJJUHY2LWFkcmVzb1wiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NC1yYW5nb1wiLFxuICAgICAgICBjaWRydjY6IFwiSVB2Ni1yYW5nb1wiLFxuICAgICAgICBiYXNlNjQ6IFwiNjQtdW1lIGtvZGl0YSBrYXJha3RyYXJvXCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJVUkwtNjQtdW1lIGtvZGl0YSBrYXJha3RyYXJvXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04ta2FyYWt0cmFyb1wiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0LW5vbWJyb1wiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiZW5pZ29cIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZhbGlkYSBlbmlnbzogYXRlbmRpXHUwMTFEaXMgJHtpc3N1ZS5leHBlY3RlZH0sIHJpY2V2aVx1MDExRGlzICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTmV2YWxpZGEgZW5pZ286IGF0ZW5kaVx1MDExRGlzICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgTmV2YWxpZGEgb3BjaW86IGF0ZW5kaVx1MDExRGlzIHVudSBlbCAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVHJvIGdyYW5kYTogYXRlbmRpXHUwMTFEaXMga2UgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2YWxvcm9cIn0gaGF2dSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRvam5cIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgVHJvIGdyYW5kYTogYXRlbmRpXHUwMTFEaXMga2UgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2YWxvcm9cIn0gaGF2dSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRybyBtYWxncmFuZGE6IGF0ZW5kaVx1MDExRGlzIGtlICR7aXNzdWUub3JpZ2lufSBoYXZ1ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgVHJvIG1hbGdyYW5kYTogYXRlbmRpXHUwMTFEaXMga2UgJHtpc3N1ZS5vcmlnaW59IGVzdHUgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZhbGlkYSBrYXJha3RyYXJvOiBkZXZhcyBrb21lbmNpXHUwMTFEaSBwZXIgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmFsaWRhIGthcmFrdHJhcm86IGRldmFzIGZpbmlcdTAxMURpIHBlciBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZhbGlkYSBrYXJha3RyYXJvOiBkZXZhcyBpbmtsdXppdmkgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZhbGlkYSBrYXJha3RyYXJvOiBkZXZhcyBrb25ncnVpIGt1biBsYSBtb2RlbG8gJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgTmV2YWxpZGEgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmFsaWRhIG5vbWJybzogZGV2YXMgZXN0aSBvYmxvIGRlICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZWtvbmF0YSR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJqXCIgOiBcIlwifSBcdTAxNURsb3NpbG8ke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwialwiIDogXCJcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmV2YWxpZGEgXHUwMTVEbG9zaWxvIGVuICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIk5ldmFsaWRhIGVuaWdvXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZhbGlkYSB2YWxvcm8gZW4gJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZhbGlkYSBlbmlnb2A7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiY2FyYWN0ZXJlc1wiLCB2ZXJiOiBcInRlbmVyXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcImJ5dGVzXCIsIHZlcmI6IFwidGVuZXJcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcImVsZW1lbnRvc1wiLCB2ZXJiOiBcInRlbmVyXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiZWxlbWVudG9zXCIsIHZlcmI6IFwidGVuZXJcIiB9LFxuICAgIH07XG4gICAgY29uc3QgVHlwZU5hbWVzID0ge1xuICAgICAgICBzdHJpbmc6IFwidGV4dG9cIixcbiAgICAgICAgbnVtYmVyOiBcIm5cdTAwRkFtZXJvXCIsXG4gICAgICAgIGJvb2xlYW46IFwiYm9vbGVhbm9cIixcbiAgICAgICAgYXJyYXk6IFwiYXJyZWdsb1wiLFxuICAgICAgICBvYmplY3Q6IFwib2JqZXRvXCIsXG4gICAgICAgIHNldDogXCJjb25qdW50b1wiLFxuICAgICAgICBmaWxlOiBcImFyY2hpdm9cIixcbiAgICAgICAgZGF0ZTogXCJmZWNoYVwiLFxuICAgICAgICBiaWdpbnQ6IFwiblx1MDBGQW1lcm8gZ3JhbmRlXCIsXG4gICAgICAgIHN5bWJvbDogXCJzXHUwMEVEbWJvbG9cIixcbiAgICAgICAgdW5kZWZpbmVkOiBcImluZGVmaW5pZG9cIixcbiAgICAgICAgbnVsbDogXCJudWxvXCIsXG4gICAgICAgIGZ1bmN0aW9uOiBcImZ1bmNpXHUwMEYzblwiLFxuICAgICAgICBtYXA6IFwibWFwYVwiLFxuICAgICAgICByZWNvcmQ6IFwicmVnaXN0cm9cIixcbiAgICAgICAgdHVwbGU6IFwidHVwbGFcIixcbiAgICAgICAgZW51bTogXCJlbnVtZXJhY2lcdTAwRjNuXCIsXG4gICAgICAgIHVuaW9uOiBcInVuaVx1MDBGM25cIixcbiAgICAgICAgbGl0ZXJhbDogXCJsaXRlcmFsXCIsXG4gICAgICAgIHByb21pc2U6IFwicHJvbWVzYVwiLFxuICAgICAgICB2b2lkOiBcInZhY1x1MDBFRG9cIixcbiAgICAgICAgbmV2ZXI6IFwibnVuY2FcIixcbiAgICAgICAgdW5rbm93bjogXCJkZXNjb25vY2lkb1wiLFxuICAgICAgICBhbnk6IFwiY3VhbHF1aWVyYVwiLFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFR5cGVOYW1lKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIFR5cGVOYW1lc1t0eXBlXSA/PyB0eXBlO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJudW1iZXJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmplY3RcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJlbnRyYWRhXCIsXG4gICAgICAgIGVtYWlsOiBcImRpcmVjY2lcdTAwRjNuIGRlIGNvcnJlbyBlbGVjdHJcdTAwRjNuaWNvXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiZmVjaGEgeSBob3JhIElTT1wiLFxuICAgICAgICBkYXRlOiBcImZlY2hhIElTT1wiLFxuICAgICAgICB0aW1lOiBcImhvcmEgSVNPXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcImR1cmFjaVx1MDBGM24gSVNPXCIsXG4gICAgICAgIGlwdjQ6IFwiZGlyZWNjaVx1MDBGM24gSVB2NFwiLFxuICAgICAgICBpcHY2OiBcImRpcmVjY2lcdTAwRjNuIElQdjZcIixcbiAgICAgICAgY2lkcnY0OiBcInJhbmdvIElQdjRcIixcbiAgICAgICAgY2lkcnY2OiBcInJhbmdvIElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcImNhZGVuYSBjb2RpZmljYWRhIGVuIGJhc2U2NFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiVVJMIGNvZGlmaWNhZGEgZW4gYmFzZTY0XCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcImNhZGVuYSBKU09OXCIsXG4gICAgICAgIGUxNjQ6IFwiblx1MDBGQW1lcm8gRS4xNjRcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcImVudHJhZGFcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBFbnRyYWRhIGludlx1MDBFMWxpZGE6IHNlIGVzcGVyYWJhICR7Z2V0VHlwZU5hbWUoaXNzdWUuZXhwZWN0ZWQpfSwgcmVjaWJpZG8gJHtnZXRUeXBlTmFtZShwYXJzZWRUeXBlKGlzc3VlLmlucHV0KSl9YDtcbiAgICAgICAgICAgIC8vIHJldHVybiBgRW50cmFkYSBpbnZcdTAwRTFsaWRhOiBzZSBlc3BlcmFiYSAke2lzc3VlLmV4cGVjdGVkfSwgcmVjaWJpZG8gJHt1dGlsLmdldFBhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEVudHJhZGEgaW52XHUwMEUxbGlkYTogc2UgZXNwZXJhYmEgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPcGNpXHUwMEYzbiBpbnZcdTAwRTFsaWRhOiBzZSBlc3BlcmFiYSB1bmEgZGUgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW4gPSBnZXRUeXBlTmFtZShpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRGVtYXNpYWRvIGdyYW5kZTogc2UgZXNwZXJhYmEgcXVlICR7b3JpZ2luID8/IFwidmFsb3JcIn0gdHV2aWVyYSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRvc1wifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBEZW1hc2lhZG8gZ3JhbmRlOiBzZSBlc3BlcmFiYSBxdWUgJHtvcmlnaW4gPz8gXCJ2YWxvclwifSBmdWVyYSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luID0gZ2V0VHlwZU5hbWUoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRGVtYXNpYWRvIHBlcXVlXHUwMEYxbzogc2UgZXNwZXJhYmEgcXVlICR7b3JpZ2lufSB0dXZpZXJhICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgRGVtYXNpYWRvIHBlcXVlXHUwMEYxbzogc2UgZXNwZXJhYmEgcXVlICR7b3JpZ2lufSBmdWVyYSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYENhZGVuYSBpbnZcdTAwRTFsaWRhOiBkZWJlIGNvbWVuemFyIGNvbiBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgQ2FkZW5hIGludlx1MDBFMWxpZGE6IGRlYmUgdGVybWluYXIgZW4gXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgQ2FkZW5hIGludlx1MDBFMWxpZGE6IGRlYmUgaW5jbHVpciBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYENhZGVuYSBpbnZcdTAwRTFsaWRhOiBkZWJlIGNvaW5jaWRpciBjb24gZWwgcGF0clx1MDBGM24gJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgSW52XHUwMEUxbGlkbyAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTlx1MDBGQW1lcm8gaW52XHUwMEUxbGlkbzogZGViZSBzZXIgbVx1MDBGQWx0aXBsbyBkZSAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTGxhdmUke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwic1wiIDogXCJcIn0gZGVzY29ub2NpZGEke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwic1wiIDogXCJcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTGxhdmUgaW52XHUwMEUxbGlkYSBlbiAke2dldFR5cGVOYW1lKGlzc3VlLm9yaWdpbil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiRW50cmFkYSBpbnZcdTAwRTFsaWRhXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBWYWxvciBpbnZcdTAwRTFsaWRvIGVuICR7Z2V0VHlwZU5hbWUoaXNzdWUub3JpZ2luKX1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEVudHJhZGEgaW52XHUwMEUxbGlkYWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiXHUwNkE5XHUwNjI3XHUwNjMxXHUwNjI3XHUwNkE5XHUwNjJBXHUwNjMxXCIsIHZlcmI6IFwiXHUwNjJGXHUwNjI3XHUwNjM0XHUwNjJBXHUwNjQ3IFx1MDYyOFx1MDYyN1x1MDYzNFx1MDYyRlwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkFcIiwgdmVyYjogXCJcdTA2MkZcdTA2MjdcdTA2MzRcdTA2MkFcdTA2NDcgXHUwNjI4XHUwNjI3XHUwNjM0XHUwNjJGXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJcdTA2MjJcdTA2Q0NcdTA2MkFcdTA2NDVcIiwgdmVyYjogXCJcdTA2MkZcdTA2MjdcdTA2MzRcdTA2MkFcdTA2NDcgXHUwNjI4XHUwNjI3XHUwNjM0XHUwNjJGXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiXHUwNjIyXHUwNkNDXHUwNjJBXHUwNjQ1XCIsIHZlcmI6IFwiXHUwNjJGXHUwNjI3XHUwNjM0XHUwNjJBXHUwNjQ3IFx1MDYyOFx1MDYyN1x1MDYzNFx1MDYyRlwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwiXHUwNjM5XHUwNjJGXHUwNjJGXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTA2MjJcdTA2MzFcdTA2MjdcdTA2Q0NcdTA2NDdcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHUwNjQ4XHUwNjMxXHUwNjQ4XHUwNjJGXHUwNkNDXCIsXG4gICAgICAgIGVtYWlsOiBcIlx1MDYyMlx1MDYyRlx1MDYzMVx1MDYzMyBcdTA2MjdcdTA2Q0NcdTA2NDVcdTA2Q0NcdTA2NDRcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJcdTA2MjdcdTA2Q0NcdTA2NDVcdTA2NDhcdTA2MkNcdTA2Q0NcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiXHUwNjJBXHUwNjI3XHUwNjMxXHUwNkNDXHUwNjJFIFx1MDY0OCBcdTA2MzJcdTA2NDVcdTA2MjdcdTA2NDYgXHUwNjI3XHUwNkNDXHUwNjMyXHUwNjQ4XCIsXG4gICAgICAgIGRhdGU6IFwiXHUwNjJBXHUwNjI3XHUwNjMxXHUwNkNDXHUwNjJFIFx1MDYyN1x1MDZDQ1x1MDYzMlx1MDY0OFwiLFxuICAgICAgICB0aW1lOiBcIlx1MDYzMlx1MDY0NVx1MDYyN1x1MDY0NiBcdTA2MjdcdTA2Q0NcdTA2MzJcdTA2NDhcIixcbiAgICAgICAgZHVyYXRpb246IFwiXHUwNjQ1XHUwNjJGXHUwNjJBIFx1MDYzMlx1MDY0NVx1MDYyN1x1MDY0NiBcdTA2MjdcdTA2Q0NcdTA2MzJcdTA2NDhcIixcbiAgICAgICAgaXB2NDogXCJJUHY0IFx1MDYyMlx1MDYyRlx1MDYzMVx1MDYzM1wiLFxuICAgICAgICBpcHY2OiBcIklQdjYgXHUwNjIyXHUwNjJGXHUwNjMxXHUwNjMzXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0IFx1MDYyRlx1MDYyN1x1MDY0NVx1MDY0Nlx1MDY0N1wiLFxuICAgICAgICBjaWRydjY6IFwiSVB2NiBcdTA2MkZcdTA2MjdcdTA2NDVcdTA2NDZcdTA2NDdcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NC1lbmNvZGVkIFx1MDYzMVx1MDYzNFx1MDYyQVx1MDY0N1wiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsLWVuY29kZWQgXHUwNjMxXHUwNjM0XHUwNjJBXHUwNjQ3XCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gXHUwNjMxXHUwNjM0XHUwNjJBXHUwNjQ3XCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQgXHUwNjM5XHUwNjJGXHUwNjJGXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdTA2NDhcdTA2MzFcdTA2NDhcdTA2MkZcdTA2Q0NcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDhcdTA2MzFcdTA2NDhcdTA2MkZcdTA2Q0MgXHUwNjQ2XHUwNjI3XHUwNjQ1XHUwNjM5XHUwNjJBXHUwNjI4XHUwNjMxOiBcdTA2NDVcdTA2Q0NcdTIwMENcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MzNcdTA2MkEgJHtpc3N1ZS5leHBlY3RlZH0gXHUwNjQ1XHUwNkNDXHUyMDBDXHUwNjI4XHUwNjQ4XHUwNjJGXHUwNjBDICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9IFx1MDYyRlx1MDYzMVx1MDZDQ1x1MDYyN1x1MDY0MVx1MDYyQSBcdTA2MzRcdTA2MkZgO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0OFx1MDYzMVx1MDY0OFx1MDYyRlx1MDZDQyBcdTA2NDZcdTA2MjdcdTA2NDVcdTA2MzlcdTA2MkFcdTA2MjhcdTA2MzE6IFx1MDY0NVx1MDZDQ1x1MjAwQ1x1MDYyOFx1MDYyN1x1MDZDQ1x1MDYzM1x1MDYyQSAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9IFx1MDY0NVx1MDZDQ1x1MjAwQ1x1MDYyOFx1MDY0OFx1MDYyRmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNkFGXHUwNjMyXHUwNkNDXHUwNjQ2XHUwNjQ3IFx1MDY0Nlx1MDYyN1x1MDY0NVx1MDYzOVx1MDYyQVx1MDYyOFx1MDYzMTogXHUwNjQ1XHUwNkNDXHUyMDBDXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjMzXHUwNjJBIFx1MDZDQ1x1MDZBOVx1MDZDQyBcdTA2MjdcdTA2MzIgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9IFx1MDY0NVx1MDZDQ1x1MjAwQ1x1MDYyOFx1MDY0OFx1MDYyRmA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYyRVx1MDZDQ1x1MDY0NFx1MDZDQyBcdTA2MjhcdTA2MzJcdTA2MzFcdTA2QUY6ICR7aXNzdWUub3JpZ2luID8/IFwiXHUwNjQ1XHUwNjQyXHUwNjJGXHUwNjI3XHUwNjMxXCJ9IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcIlx1MDYzOVx1MDY0Nlx1MDYzNVx1MDYzMVwifSBcdTA2MjhcdTA2MjdcdTA2MzRcdTA2MkZgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYyRVx1MDZDQ1x1MDY0NFx1MDZDQyBcdTA2MjhcdTA2MzJcdTA2MzFcdTA2QUY6ICR7aXNzdWUub3JpZ2luID8/IFwiXHUwNjQ1XHUwNjQyXHUwNjJGXHUwNjI3XHUwNjMxXCJ9IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gXHUwNjI4XHUwNjI3XHUwNjM0XHUwNjJGYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2MkVcdTA2Q0NcdTA2NDRcdTA2Q0MgXHUwNkE5XHUwNjQ4XHUwNjg2XHUwNkE5OiAke2lzc3VlLm9yaWdpbn0gXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fSBcdTA2MjhcdTA2MjdcdTA2MzRcdTA2MkZgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYyRVx1MDZDQ1x1MDY0NFx1MDZDQyBcdTA2QTlcdTA2NDhcdTA2ODZcdTA2QTk6ICR7aXNzdWUub3JpZ2lufSBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9IFx1MDYyOFx1MDYyN1x1MDYzNFx1MDYyRmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2MzFcdTA2MzRcdTA2MkFcdTA2NDcgXHUwNjQ2XHUwNjI3XHUwNjQ1XHUwNjM5XHUwNjJBXHUwNjI4XHUwNjMxOiBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgXHUwNjI4XHUwNjI3IFwiJHtfaXNzdWUucHJlZml4fVwiIFx1MDYzNFx1MDYzMVx1MDY0OFx1MDYzOSBcdTA2MzRcdTA2NDhcdTA2MkZgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYzMVx1MDYzNFx1MDYyQVx1MDY0NyBcdTA2NDZcdTA2MjdcdTA2NDVcdTA2MzlcdTA2MkFcdTA2MjhcdTA2MzE6IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiBcdTA2MjhcdTA2MjcgXCIke19pc3N1ZS5zdWZmaXh9XCIgXHUwNjJBXHUwNjQ1XHUwNjI3XHUwNjQ1IFx1MDYzNFx1MDY0OFx1MDYyRmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2MzFcdTA2MzRcdTA2MkFcdTA2NDcgXHUwNjQ2XHUwNjI3XHUwNjQ1XHUwNjM5XHUwNjJBXHUwNjI4XHUwNjMxOiBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgXHUwNjM0XHUwNjI3XHUwNjQ1XHUwNjQ0IFwiJHtfaXNzdWUuaW5jbHVkZXN9XCIgXHUwNjI4XHUwNjI3XHUwNjM0XHUwNjJGYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYzMVx1MDYzNFx1MDYyQVx1MDY0NyBcdTA2NDZcdTA2MjdcdTA2NDVcdTA2MzlcdTA2MkFcdTA2MjhcdTA2MzE6IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiBcdTA2MjhcdTA2MjcgXHUwNjI3XHUwNjQ0XHUwNkFGXHUwNjQ4XHUwNkNDICR7X2lzc3VlLnBhdHRlcm59IFx1MDY0NVx1MDYzN1x1MDYyN1x1MDYyOFx1MDY0Mlx1MDYyQSBcdTA2MkZcdTA2MjdcdTA2MzRcdTA2MkFcdTA2NDcgXHUwNjI4XHUwNjI3XHUwNjM0XHUwNjJGYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH0gXHUwNjQ2XHUwNjI3XHUwNjQ1XHUwNjM5XHUwNjJBXHUwNjI4XHUwNjMxYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYzOVx1MDYyRlx1MDYyRiBcdTA2NDZcdTA2MjdcdTA2NDVcdTA2MzlcdTA2MkFcdTA2MjhcdTA2MzE6IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiBcdTA2NDVcdTA2MzZcdTA2MzFcdTA2MjggJHtpc3N1ZS5kaXZpc29yfSBcdTA2MjhcdTA2MjdcdTA2MzRcdTA2MkZgO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2QTlcdTA2NDRcdTA2Q0NcdTA2MkYke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiXHUwNjQ3XHUwNjI3XHUwNkNDXCIgOiBcIlwifSBcdTA2NDZcdTA2MjdcdTA2MzRcdTA2NDZcdTA2MjdcdTA2MzM6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNkE5XHUwNjQ0XHUwNkNDXHUwNjJGIFx1MDY0Nlx1MDYyN1x1MDYzNFx1MDY0Nlx1MDYyN1x1MDYzMyBcdTA2MkZcdTA2MzEgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDhcdTA2MzFcdTA2NDhcdTA2MkZcdTA2Q0MgXHUwNjQ2XHUwNjI3XHUwNjQ1XHUwNjM5XHUwNjJBXHUwNjI4XHUwNjMxYDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0NVx1MDY0Mlx1MDYyRlx1MDYyN1x1MDYzMSBcdTA2NDZcdTA2MjdcdTA2NDVcdTA2MzlcdTA2MkFcdTA2MjhcdTA2MzEgXHUwNjJGXHUwNjMxICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ4XHUwNjMxXHUwNjQ4XHUwNjJGXHUwNkNDIFx1MDY0Nlx1MDYyN1x1MDY0NVx1MDYzOVx1MDYyQVx1MDYyOFx1MDYzMWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwibWVya2tpXHUwMEU0XCIsIHN1YmplY3Q6IFwibWVya2tpam9ub25cIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwidGF2dWFcIiwgc3ViamVjdDogXCJ0aWVkb3N0b25cIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcImFsa2lvdGFcIiwgc3ViamVjdDogXCJsaXN0YW5cIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJhbGtpb3RhXCIsIHN1YmplY3Q6IFwiam91a29uXCIgfSxcbiAgICAgICAgbnVtYmVyOiB7IHVuaXQ6IFwiXCIsIHN1YmplY3Q6IFwibHV2dW5cIiB9LFxuICAgICAgICBiaWdpbnQ6IHsgdW5pdDogXCJcIiwgc3ViamVjdDogXCJzdXVyZW4ga29rb25haXNsdXZ1blwiIH0sXG4gICAgICAgIGludDogeyB1bml0OiBcIlwiLCBzdWJqZWN0OiBcImtva29uYWlzbHV2dW5cIiB9LFxuICAgICAgICBkYXRlOiB7IHVuaXQ6IFwiXCIsIHN1YmplY3Q6IFwicFx1MDBFNGl2XHUwMEU0bVx1MDBFNFx1MDBFNHJcdTAwRTRuXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJudW1iZXJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcInNcdTAwRTRcdTAwRTRublx1MDBGNmxsaW5lbiBsYXVzZWtlXCIsXG4gICAgICAgIGVtYWlsOiBcInNcdTAwRTRoa1x1MDBGNnBvc3Rpb3NvaXRlXCIsXG4gICAgICAgIHVybDogXCJVUkwtb3NvaXRlXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTy1haWthbGVpbWFcIixcbiAgICAgICAgZGF0ZTogXCJJU08tcFx1MDBFNGl2XHUwMEU0bVx1MDBFNFx1MDBFNHJcdTAwRTRcIixcbiAgICAgICAgdGltZTogXCJJU08tYWlrYVwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08ta2VzdG9cIixcbiAgICAgICAgaXB2NDogXCJJUHY0LW9zb2l0ZVwiLFxuICAgICAgICBpcHY2OiBcIklQdjYtb3NvaXRlXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0LWFsdWVcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYtYWx1ZVwiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0LWtvb2RhdHR1IG1lcmtraWpvbm9cIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybC1rb29kYXR0dSBtZXJra2lqb25vXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04tbWVya2tpam9ub1wiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0LWx1a3VcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcInRlbXBsYWF0dGltZXJra2lqb25vXCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVmlyaGVlbGxpbmVuIHR5eXBwaTogb2RvdGV0dGlpbiAke2lzc3VlLmV4cGVjdGVkfSwgb2xpICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVmlyaGVlbGxpbmVuIHN5XHUwMEY2dGU6IHRcdTAwRTR5dHl5IG9sbGEgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBWaXJoZWVsbGluZW4gdmFsaW50YTogdFx1MDBFNHl0eXkgb2xsYSB5a3NpIHNldXJhYXZpc3RhOiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBMaWlhbiBzdXVyaTogJHtzaXppbmcuc3ViamVjdH0gdFx1MDBFNHl0eXkgb2xsYSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gLnRyaW0oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBMaWlhbiBzdXVyaTogYXJ2b24gdFx1MDBFNHl0eXkgb2xsYSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYExpaWFuIHBpZW5pOiAke3NpemluZy5zdWJqZWN0fSB0XHUwMEU0eXR5eSBvbGxhICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWAudHJpbSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYExpaWFuIHBpZW5pOiBhcnZvbiB0XHUwMEU0eXR5eSBvbGxhICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVmlyaGVlbGxpbmVuIHN5XHUwMEY2dGU6IHRcdTAwRTR5dHl5IGFsa2FhIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBWaXJoZWVsbGluZW4gc3lcdTAwRjZ0ZTogdFx1MDBFNHl0eXkgbG9wcHVhIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFZpcmhlZWxsaW5lbiBzeVx1MDBGNnRlOiB0XHUwMEU0eXR5eSBzaXNcdTAwRTRsdFx1MDBFNFx1MDBFNCBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVmlyaGVlbGxpbmVuIHN5XHUwMEY2dGU6IHRcdTAwRTR5dHl5IHZhc3RhdGEgc1x1MDBFNFx1MDBFNG5uXHUwMEY2bGxpc3RcdTAwRTQgbGF1c2VrZXR0YSAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgVmlyaGVlbGxpbmVuICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBWaXJoZWVsbGluZW4gbHVrdTogdFx1MDBFNHl0eXkgb2xsYSBsdXZ1biAke2lzc3VlLmRpdmlzb3J9IG1vbmlrZXJ0YWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJUdW50ZW1hdHRvbWF0IGF2YWltZXRcIiA6IFwiVHVudGVtYXRvbiBhdmFpblwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiVmlyaGVlbGxpbmVuIGF2YWluIHRpZXR1ZWVzc2FcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiVmlyaGVlbGxpbmVuIHVuaW9uaVwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlZpcmhlZWxsaW5lbiBhcnZvIGpvdWtvc3NhXCI7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgVmlyaGVlbGxpbmVuIHN5XHUwMEY2dGVgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcImNhcmFjdFx1MDBFOHJlc1wiLCB2ZXJiOiBcImF2b2lyXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcIm9jdGV0c1wiLCB2ZXJiOiBcImF2b2lyXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJcdTAwRTlsXHUwMEU5bWVudHNcIiwgdmVyYjogXCJhdm9pclwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcIlx1MDBFOWxcdTAwRTltZW50c1wiLCB2ZXJiOiBcImF2b2lyXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJub21icmVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRhYmxlYXVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiZW50clx1MDBFOWVcIixcbiAgICAgICAgZW1haWw6IFwiYWRyZXNzZSBlLW1haWxcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJkYXRlIGV0IGhldXJlIElTT1wiLFxuICAgICAgICBkYXRlOiBcImRhdGUgSVNPXCIsXG4gICAgICAgIHRpbWU6IFwiaGV1cmUgSVNPXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcImR1clx1MDBFOWUgSVNPXCIsXG4gICAgICAgIGlwdjQ6IFwiYWRyZXNzZSBJUHY0XCIsXG4gICAgICAgIGlwdjY6IFwiYWRyZXNzZSBJUHY2XCIsXG4gICAgICAgIGNpZHJ2NDogXCJwbGFnZSBJUHY0XCIsXG4gICAgICAgIGNpZHJ2NjogXCJwbGFnZSBJUHY2XCIsXG4gICAgICAgIGJhc2U2NDogXCJjaGFcdTAwRUVuZSBlbmNvZFx1MDBFOWUgZW4gYmFzZTY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJjaGFcdTAwRUVuZSBlbmNvZFx1MDBFOWUgZW4gYmFzZTY0dXJsXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcImNoYVx1MDBFRW5lIEpTT05cIixcbiAgICAgICAgZTE2NDogXCJudW1cdTAwRTlybyBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiZW50clx1MDBFOWVcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBFbnRyXHUwMEU5ZSBpbnZhbGlkZSA6ICR7aXNzdWUuZXhwZWN0ZWR9IGF0dGVuZHUsICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9IHJlXHUwMEU3dWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEVudHJcdTAwRTllIGludmFsaWRlIDogJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfSBhdHRlbmR1YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9wdGlvbiBpbnZhbGlkZSA6IHVuZSB2YWxldXIgcGFybWkgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9IGF0dGVuZHVlYDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRyb3AgZ3JhbmQgOiAke2lzc3VlLm9yaWdpbiA/PyBcInZhbGV1clwifSBkb2l0ICR7c2l6aW5nLnZlcmJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiXHUwMEU5bFx1MDBFOW1lbnQocylcIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgVHJvcCBncmFuZCA6ICR7aXNzdWUub3JpZ2luID8/IFwidmFsZXVyXCJ9IGRvaXQgXHUwMEVBdHJlICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVHJvcCBwZXRpdCA6ICR7aXNzdWUub3JpZ2lufSBkb2l0ICR7c2l6aW5nLnZlcmJ9ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgVHJvcCBwZXRpdCA6ICR7aXNzdWUub3JpZ2lufSBkb2l0IFx1MDBFQXRyZSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYENoYVx1MDBFRW5lIGludmFsaWRlIDogZG9pdCBjb21tZW5jZXIgcGFyIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBDaGFcdTAwRUVuZSBpbnZhbGlkZSA6IGRvaXQgc2UgdGVybWluZXIgcGFyIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYENoYVx1MDBFRW5lIGludmFsaWRlIDogZG9pdCBpbmNsdXJlIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgQ2hhXHUwMEVFbmUgaW52YWxpZGUgOiBkb2l0IGNvcnJlc3BvbmRyZSBhdSBtb2RcdTAwRThsZSAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH0gaW52YWxpZGVgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTm9tYnJlIGludmFsaWRlIDogZG9pdCBcdTAwRUF0cmUgdW4gbXVsdGlwbGUgZGUgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYENsXHUwMEU5JHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcInNcIiA6IFwiXCJ9IG5vbiByZWNvbm51ZSR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJzXCIgOiBcIlwifSA6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgQ2xcdTAwRTkgaW52YWxpZGUgZGFucyAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJFbnRyXHUwMEU5ZSBpbnZhbGlkZVwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVmFsZXVyIGludmFsaWRlIGRhbnMgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBFbnRyXHUwMEU5ZSBpbnZhbGlkZWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiY2FyYWN0XHUwMEU4cmVzXCIsIHZlcmI6IFwiYXZvaXJcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwib2N0ZXRzXCIsIHZlcmI6IFwiYXZvaXJcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcIlx1MDBFOWxcdTAwRTltZW50c1wiLCB2ZXJiOiBcImF2b2lyXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiXHUwMEU5bFx1MDBFOW1lbnRzXCIsIHZlcmI6IFwiYXZvaXJcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIm51bWJlclwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiZW50clx1MDBFOWVcIixcbiAgICAgICAgZW1haWw6IFwiYWRyZXNzZSBjb3VycmllbFwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcImRhdGUtaGV1cmUgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwiZGF0ZSBJU09cIixcbiAgICAgICAgdGltZTogXCJoZXVyZSBJU09cIixcbiAgICAgICAgZHVyYXRpb246IFwiZHVyXHUwMEU5ZSBJU09cIixcbiAgICAgICAgaXB2NDogXCJhZHJlc3NlIElQdjRcIixcbiAgICAgICAgaXB2NjogXCJhZHJlc3NlIElQdjZcIixcbiAgICAgICAgY2lkcnY0OiBcInBsYWdlIElQdjRcIixcbiAgICAgICAgY2lkcnY2OiBcInBsYWdlIElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcImNoYVx1MDBFRW5lIGVuY29kXHUwMEU5ZSBlbiBiYXNlNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImNoYVx1MDBFRW5lIGVuY29kXHUwMEU5ZSBlbiBiYXNlNjR1cmxcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiY2hhXHUwMEVFbmUgSlNPTlwiLFxuICAgICAgICBlMTY0OiBcIm51bVx1MDBFOXJvIEUuMTY0XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJlbnRyXHUwMEU5ZVwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEVudHJcdTAwRTllIGludmFsaWRlIDogYXR0ZW5kdSAke2lzc3VlLmV4cGVjdGVkfSwgcmVcdTAwRTd1ICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRW50clx1MDBFOWUgaW52YWxpZGUgOiBhdHRlbmR1ICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgT3B0aW9uIGludmFsaWRlIDogYXR0ZW5kdSBsJ3VuZSBkZXMgdmFsZXVycyBzdWl2YW50ZXMgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIlx1MjI2NFwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUcm9wIGdyYW5kIDogYXR0ZW5kdSBxdWUgJHtpc3N1ZS5vcmlnaW4gPz8gXCJsYSB2YWxldXJcIn0gYWl0ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUcm9wIGdyYW5kIDogYXR0ZW5kdSBxdWUgJHtpc3N1ZS5vcmlnaW4gPz8gXCJsYSB2YWxldXJcIn0gc29pdCAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCJcdTIyNjVcIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUcm9wIHBldGl0IDogYXR0ZW5kdSBxdWUgJHtpc3N1ZS5vcmlnaW59IGFpdCAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFRyb3AgcGV0aXQgOiBhdHRlbmR1IHF1ZSAke2lzc3VlLm9yaWdpbn0gc29pdCAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgQ2hhXHUwMEVFbmUgaW52YWxpZGUgOiBkb2l0IGNvbW1lbmNlciBwYXIgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBDaGFcdTAwRUVuZSBpbnZhbGlkZSA6IGRvaXQgc2UgdGVybWluZXIgcGFyIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYENoYVx1MDBFRW5lIGludmFsaWRlIDogZG9pdCBpbmNsdXJlIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgQ2hhXHUwMEVFbmUgaW52YWxpZGUgOiBkb2l0IGNvcnJlc3BvbmRyZSBhdSBtb3RpZiAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH0gaW52YWxpZGVgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTm9tYnJlIGludmFsaWRlIDogZG9pdCBcdTAwRUF0cmUgdW4gbXVsdGlwbGUgZGUgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYENsXHUwMEU5JHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcInNcIiA6IFwiXCJ9IG5vbiByZWNvbm51ZSR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJzXCIgOiBcIlwifSA6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgQ2xcdTAwRTkgaW52YWxpZGUgZGFucyAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJFbnRyXHUwMEU5ZSBpbnZhbGlkZVwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVmFsZXVyIGludmFsaWRlIGRhbnMgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBFbnRyXHUwMEU5ZSBpbnZhbGlkZWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiXHUwNUQwXHUwNUQ1XHUwNUVBXHUwNUQ5XHUwNUQ1XHUwNUVBXCIsIHZlcmI6IFwiXHUwNURDXHUwNURCXHUwNURDXHUwNUQ1XHUwNURDXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcIlx1MDVEMVx1MDVEOVx1MDVEOVx1MDVEOFx1MDVEOVx1MDVERFwiLCB2ZXJiOiBcIlx1MDVEQ1x1MDVEQlx1MDVEQ1x1MDVENVx1MDVEQ1wiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiXHUwNUU0XHUwNUU4XHUwNUQ5XHUwNUQ4XHUwNUQ5XHUwNUREXCIsIHZlcmI6IFwiXHUwNURDXHUwNURCXHUwNURDXHUwNUQ1XHUwNURDXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiXHUwNUU0XHUwNUU4XHUwNUQ5XHUwNUQ4XHUwNUQ5XHUwNUREXCIsIHZlcmI6IFwiXHUwNURDXHUwNURCXHUwNURDXHUwNUQ1XHUwNURDXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJudW1iZXJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1MDVFN1x1MDVEQ1x1MDVEOFwiLFxuICAgICAgICBlbWFpbDogXCJcdTA1REJcdTA1RUFcdTA1RDVcdTA1RDFcdTA1RUEgXHUwNUQwXHUwNUQ5XHUwNURFXHUwNUQ5XHUwNUQ5XHUwNURDXCIsXG4gICAgICAgIHVybDogXCJcdTA1REJcdTA1RUFcdTA1RDVcdTA1RDFcdTA1RUEgXHUwNUU4XHUwNUU5XHUwNUVBXCIsXG4gICAgICAgIGVtb2ppOiBcIlx1MDVEMFx1MDVEOVx1MDVERVx1MDVENVx1MDVEMidcdTA1RDlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiXHUwNUVBXHUwNUQwXHUwNUU4XHUwNUQ5XHUwNURBIFx1MDVENVx1MDVENlx1MDVERVx1MDVERiBJU09cIixcbiAgICAgICAgZGF0ZTogXCJcdTA1RUFcdTA1RDBcdTA1RThcdTA1RDlcdTA1REEgSVNPXCIsXG4gICAgICAgIHRpbWU6IFwiXHUwNUQ2XHUwNURFXHUwNURGIElTT1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJcdTA1REVcdTA1RTlcdTA1REEgXHUwNUQ2XHUwNURFXHUwNURGIElTT1wiLFxuICAgICAgICBpcHY0OiBcIlx1MDVEQlx1MDVFQVx1MDVENVx1MDVEMVx1MDVFQSBJUHY0XCIsXG4gICAgICAgIGlwdjY6IFwiXHUwNURCXHUwNUVBXHUwNUQ1XHUwNUQxXHUwNUVBIElQdjZcIixcbiAgICAgICAgY2lkcnY0OiBcIlx1MDVEOFx1MDVENVx1MDVENVx1MDVENyBJUHY0XCIsXG4gICAgICAgIGNpZHJ2NjogXCJcdTA1RDhcdTA1RDVcdTA1RDVcdTA1RDcgSVB2NlwiLFxuICAgICAgICBiYXNlNjQ6IFwiXHUwNURFXHUwNUQ3XHUwNUU4XHUwNUQ1XHUwNUQ2XHUwNUVBIFx1MDVEMVx1MDVEMVx1MDVFMVx1MDVEOVx1MDVFMSA2NFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiXHUwNURFXHUwNUQ3XHUwNUU4XHUwNUQ1XHUwNUQ2XHUwNUVBIFx1MDVEMVx1MDVEMVx1MDVFMVx1MDVEOVx1MDVFMSA2NCBcdTA1RENcdTA1REJcdTA1RUFcdTA1RDVcdTA1RDFcdTA1RDVcdTA1RUEgXHUwNUU4XHUwNUU5XHUwNUVBXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIlx1MDVERVx1MDVEN1x1MDVFOFx1MDVENVx1MDVENlx1MDVFQSBKU09OXCIsXG4gICAgICAgIGUxNjQ6IFwiXHUwNURFXHUwNUUxXHUwNUU0XHUwNUU4IEUuMTY0XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdTA1RTdcdTA1RENcdTA1RDhcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA1RTdcdTA1RENcdTA1RDggXHUwNURDXHUwNUQwIFx1MDVFQVx1MDVFN1x1MDVEOVx1MDVERjogXHUwNUU2XHUwNUU4XHUwNUQ5XHUwNURBICR7aXNzdWUuZXhwZWN0ZWR9LCBcdTA1RDRcdTA1RUFcdTA1RTdcdTA1RDFcdTA1REMgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgLy8gcmV0dXJuIGBJbnZhbGlkIGlucHV0OiBleHBlY3RlZCAke2lzc3VlLmV4cGVjdGVkfSwgcmVjZWl2ZWQgJHt1dGlsLmdldFBhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDVFN1x1MDVEQ1x1MDVEOCBcdTA1RENcdTA1RDAgXHUwNUVBXHUwNUU3XHUwNUQ5XHUwNURGOiBcdTA1RTZcdTA1RThcdTA1RDlcdTA1REEgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA1RTdcdTA1RENcdTA1RDggXHUwNURDXHUwNUQwIFx1MDVFQVx1MDVFN1x1MDVEOVx1MDVERjogXHUwNUU2XHUwNUU4XHUwNUQ5XHUwNURBIFx1MDVEMFx1MDVEN1x1MDVFQSBcdTA1REVcdTA1RDRcdTA1RDBcdTA1RTRcdTA1RTlcdTA1RThcdTA1RDVcdTA1RDlcdTA1RDVcdTA1RUEgICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA1RDJcdTA1RDNcdTA1RDVcdTA1REMgXHUwNURFXHUwNUQzXHUwNUQ5OiAke2lzc3VlLm9yaWdpbiA/PyBcInZhbHVlXCJ9IFx1MDVFNlx1MDVFOFx1MDVEOVx1MDVEQSBcdTA1RENcdTA1RDRcdTA1RDlcdTA1RDVcdTA1RUEgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW50c1wifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA1RDJcdTA1RDNcdTA1RDVcdTA1REMgXHUwNURFXHUwNUQzXHUwNUQ5OiAke2lzc3VlLm9yaWdpbiA/PyBcInZhbHVlXCJ9IFx1MDVFNlx1MDVFOFx1MDVEOVx1MDVEQSBcdTA1RENcdTA1RDRcdTA1RDlcdTA1RDVcdTA1RUEgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA1RTdcdTA1RDhcdTA1REYgXHUwNURFXHUwNUQzXHUwNUQ5OiAke2lzc3VlLm9yaWdpbn0gXHUwNUU2XHUwNUU4XHUwNUQ5XHUwNURBIFx1MDVEQ1x1MDVENFx1MDVEOVx1MDVENVx1MDVFQSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDVFN1x1MDVEOFx1MDVERiBcdTA1REVcdTA1RDNcdTA1RDk6ICR7aXNzdWUub3JpZ2lufSBcdTA1RTZcdTA1RThcdTA1RDlcdTA1REEgXHUwNURDXHUwNUQ0XHUwNUQ5XHUwNUQ1XHUwNUVBICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNURFXHUwNUQ3XHUwNUU4XHUwNUQ1XHUwNUQ2XHUwNUVBIFx1MDVEQ1x1MDVEMCBcdTA1RUFcdTA1RTdcdTA1RDlcdTA1RTBcdTA1RDQ6IFx1MDVEN1x1MDVEOVx1MDVEOVx1MDVEMVx1MDVFQSBcdTA1RENcdTA1RDRcdTA1RUFcdTA1RDdcdTA1RDlcdTA1REMgXHUwNUQxXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDVERVx1MDVEN1x1MDVFOFx1MDVENVx1MDVENlx1MDVFQSBcdTA1RENcdTA1RDAgXHUwNUVBXHUwNUU3XHUwNUQ5XHUwNUUwXHUwNUQ0OiBcdTA1RDdcdTA1RDlcdTA1RDlcdTA1RDFcdTA1RUEgXHUwNURDXHUwNUQ0XHUwNUUxXHUwNUVBXHUwNUQ5XHUwNUQ5XHUwNUREIFx1MDVEMSBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA1REVcdTA1RDdcdTA1RThcdTA1RDVcdTA1RDZcdTA1RUEgXHUwNURDXHUwNUQwIFx1MDVFQVx1MDVFN1x1MDVEOVx1MDVFMFx1MDVENDogXHUwNUQ3XHUwNUQ5XHUwNUQ5XHUwNUQxXHUwNUVBIFx1MDVEQ1x1MDVEQlx1MDVEQ1x1MDVENVx1MDVEQyBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDVERVx1MDVEN1x1MDVFOFx1MDVENVx1MDVENlx1MDVFQSBcdTA1RENcdTA1RDAgXHUwNUVBXHUwNUU3XHUwNUQ5XHUwNUUwXHUwNUQ0OiBcdTA1RDdcdTA1RDlcdTA1RDlcdTA1RDFcdTA1RUEgXHUwNURDXHUwNUQ0XHUwNUVBXHUwNUQwXHUwNUQ5XHUwNUREIFx1MDVEQ1x1MDVFQVx1MDVEMVx1MDVFMFx1MDVEOVx1MDVFQSAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH0gXHUwNURDXHUwNUQwIFx1MDVFQVx1MDVFN1x1MDVEOVx1MDVERmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA1REVcdTA1RTFcdTA1RTRcdTA1RTggXHUwNURDXHUwNUQwIFx1MDVFQVx1MDVFN1x1MDVEOVx1MDVERjogXHUwNUQ3XHUwNUQ5XHUwNUQ5XHUwNUQxIFx1MDVEQ1x1MDVENFx1MDVEOVx1MDVENVx1MDVFQSBcdTA1REVcdTA1REJcdTA1RTRcdTA1RENcdTA1RDQgXHUwNUU5XHUwNURDICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA1REVcdTA1RTRcdTA1RUFcdTA1RDcke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiXHUwNUQ1XHUwNUVBXCIgOiBcIlwifSBcdTA1RENcdTA1RDAgXHUwNURFXHUwNUQ2XHUwNUQ1XHUwNUQ0JHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlx1MDVEOVx1MDVERFwiIDogXCJcdTA1RDRcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNURFXHUwNUU0XHUwNUVBXHUwNUQ3IFx1MDVEQ1x1MDVEMCBcdTA1RUFcdTA1RTdcdTA1RDlcdTA1REYgXHUwNUQxJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwNUU3XHUwNURDXHUwNUQ4IFx1MDVEQ1x1MDVEMCBcdTA1RUFcdTA1RTdcdTA1RDlcdTA1REZcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDVFMlx1MDVFOFx1MDVEQSBcdTA1RENcdTA1RDAgXHUwNUVBXHUwNUU3XHUwNUQ5XHUwNURGIFx1MDVEMSR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNUU3XHUwNURDXHUwNUQ4IFx1MDVEQ1x1MDVEMCBcdTA1RUFcdTA1RTdcdTA1RDlcdTA1REZgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcImthcmFrdGVyXCIsIHZlcmI6IFwibGVneWVuXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcImJ5dGVcIiwgdmVyYjogXCJsZWd5ZW5cIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcImVsZW1cIiwgdmVyYjogXCJsZWd5ZW5cIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJlbGVtXCIsIHZlcmI6IFwibGVneWVuXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJzelx1MDBFMW1cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRcdTAwRjZtYlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJiZW1lbmV0XCIsXG4gICAgICAgIGVtYWlsOiBcImVtYWlsIGNcdTAwRURtXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPIGlkXHUwMTUxYlx1MDBFOWx5ZWdcIixcbiAgICAgICAgZGF0ZTogXCJJU08gZFx1MDBFMXR1bVwiLFxuICAgICAgICB0aW1lOiBcIklTTyBpZFx1MDE1MVwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08gaWRcdTAxNTFpbnRlcnZhbGx1bVwiLFxuICAgICAgICBpcHY0OiBcIklQdjQgY1x1MDBFRG1cIixcbiAgICAgICAgaXB2NjogXCJJUHY2IGNcdTAwRURtXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0IHRhcnRvbVx1MDBFMW55XCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2IHRhcnRvbVx1MDBFMW55XCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQta1x1MDBGM2RvbHQgc3RyaW5nXCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJiYXNlNjR1cmwta1x1MDBGM2RvbHQgc3RyaW5nXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gc3RyaW5nXCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQgc3pcdTAwRTFtXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJiZW1lbmV0XCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEM5cnZcdTAwRTlueXRlbGVuIGJlbWVuZXQ6IGEgdlx1MDBFMXJ0IFx1MDBFOXJ0XHUwMEU5ayAke2lzc3VlLmV4cGVjdGVkfSwgYSBrYXBvdHQgXHUwMEU5cnRcdTAwRTlrICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIC8vIHJldHVybiBgSW52YWxpZCBpbnB1dDogZXhwZWN0ZWQgJHtpc3N1ZS5leHBlY3RlZH0sIHJlY2VpdmVkICR7dXRpbC5nZXRQYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzlydlx1MDBFOW55dGVsZW4gYmVtZW5ldDogYSB2XHUwMEUxcnQgXHUwMEU5cnRcdTAwRTlrICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEM5cnZcdTAwRTlueXRlbGVuIG9wY2lcdTAwRjM6IHZhbGFtZWx5aWsgXHUwMEU5cnRcdTAwRTlrIHZcdTAwRTFydCAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVFx1MDBGQWwgbmFneTogJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTAwRTlydFx1MDBFOWtcIn0gbVx1MDBFOXJldGUgdFx1MDBGQWwgbmFneSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1cIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgVFx1MDBGQWwgbmFneTogYSBiZW1lbmV0aSBcdTAwRTlydFx1MDBFOWsgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTAwRTlydFx1MDBFOWtcIn0gdFx1MDBGQWwgbmFneTogJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUXHUwMEZBbCBraWNzaTogYSBiZW1lbmV0aSBcdTAwRTlydFx1MDBFOWsgJHtpc3N1ZS5vcmlnaW59IG1cdTAwRTlyZXRlIHRcdTAwRkFsIGtpY3NpICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgVFx1MDBGQWwga2ljc2k6IGEgYmVtZW5ldGkgXHUwMEU5cnRcdTAwRTlrICR7aXNzdWUub3JpZ2lufSB0XHUwMEZBbCBraWNzaSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDOXJ2XHUwMEU5bnl0ZWxlbiBzdHJpbmc6IFwiJHtfaXNzdWUucHJlZml4fVwiIFx1MDBFOXJ0XHUwMEU5a2tlbCBrZWxsIGtlemRcdTAxNTFkbmllYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzlydlx1MDBFOW55dGVsZW4gc3RyaW5nOiBcIiR7X2lzc3VlLnN1ZmZpeH1cIiBcdTAwRTlydFx1MDBFOWtrZWwga2VsbCB2XHUwMEU5Z3pcdTAxNTFkbmllYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDOXJ2XHUwMEU5bnl0ZWxlbiBzdHJpbmc6IFwiJHtfaXNzdWUuaW5jbHVkZXN9XCIgXHUwMEU5cnRcdTAwRTlrZXQga2VsbCB0YXJ0YWxtYXpuaWFgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEM5cnZcdTAwRTlueXRlbGVuIHN0cmluZzogJHtfaXNzdWUucGF0dGVybn0gbWludFx1MDBFMW5hayBrZWxsIG1lZ2ZlbGVsbmllYDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDOXJ2XHUwMEU5bnl0ZWxlbiAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEM5cnZcdTAwRTlueXRlbGVuIHN6XHUwMEUxbTogJHtpc3N1ZS5kaXZpc29yfSB0XHUwMEY2YmJzelx1MDBGNnJcdTAwRjZzXHUwMEU5bmVrIGtlbGwgbGVubmllYDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgSXNtZXJldGxlbiBrdWxjcyR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJzXCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzlydlx1MDBFOW55dGVsZW4ga3VsY3MgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwMEM5cnZcdTAwRTlueXRlbGVuIGJlbWVuZXRcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDOXJ2XHUwMEU5bnl0ZWxlbiBcdTAwRTlydFx1MDBFOWs6ICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEM5cnZcdTAwRTlueXRlbGVuIGJlbWVuZXRgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcImthcmFrdGVyXCIsIHZlcmI6IFwibWVtaWxpa2lcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiYnl0ZVwiLCB2ZXJiOiBcIm1lbWlsaWtpXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJpdGVtXCIsIHZlcmI6IFwibWVtaWxpa2lcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJpdGVtXCIsIHZlcmI6IFwibWVtaWxpa2lcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIm51bWJlclwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiaW5wdXRcIixcbiAgICAgICAgZW1haWw6IFwiYWxhbWF0IGVtYWlsXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwidGFuZ2dhbCBkYW4gd2FrdHUgZm9ybWF0IElTT1wiLFxuICAgICAgICBkYXRlOiBcInRhbmdnYWwgZm9ybWF0IElTT1wiLFxuICAgICAgICB0aW1lOiBcImphbSBmb3JtYXQgSVNPXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcImR1cmFzaSBmb3JtYXQgSVNPXCIsXG4gICAgICAgIGlwdjQ6IFwiYWxhbWF0IElQdjRcIixcbiAgICAgICAgaXB2NjogXCJhbGFtYXQgSVB2NlwiLFxuICAgICAgICBjaWRydjQ6IFwicmVudGFuZyBhbGFtYXQgSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwicmVudGFuZyBhbGFtYXQgSVB2NlwiLFxuICAgICAgICBiYXNlNjQ6IFwic3RyaW5nIGRlbmdhbiBlbmtvZGUgYmFzZTY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJzdHJpbmcgZGVuZ2FuIGVua29kZSBiYXNlNjR1cmxcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwic3RyaW5nIEpTT05cIixcbiAgICAgICAgZTE2NDogXCJhbmdrYSBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiaW5wdXRcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBJbnB1dCB0aWRhayB2YWxpZDogZGloYXJhcGthbiAke2lzc3VlLmV4cGVjdGVkfSwgZGl0ZXJpbWEgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBJbnB1dCB0aWRhayB2YWxpZDogZGloYXJhcGthbiAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFBpbGloYW4gdGlkYWsgdmFsaWQ6IGRpaGFyYXBrYW4gc2FsYWggc2F0dSBkYXJpICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUZXJsYWx1IGJlc2FyOiBkaWhhcmFwa2FuICR7aXNzdWUub3JpZ2luID8/IFwidmFsdWVcIn0gbWVtaWxpa2kgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW5cIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgVGVybGFsdSBiZXNhcjogZGloYXJhcGthbiAke2lzc3VlLm9yaWdpbiA/PyBcInZhbHVlXCJ9IG1lbmphZGkgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUZXJsYWx1IGtlY2lsOiBkaWhhcmFwa2FuICR7aXNzdWUub3JpZ2lufSBtZW1pbGlraSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFRlcmxhbHUga2VjaWw6IGRpaGFyYXBrYW4gJHtpc3N1ZS5vcmlnaW59IG1lbmphZGkgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBTdHJpbmcgdGlkYWsgdmFsaWQ6IGhhcnVzIGRpbXVsYWkgZGVuZ2FuIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBTdHJpbmcgdGlkYWsgdmFsaWQ6IGhhcnVzIGJlcmFraGlyIGRlbmdhbiBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBTdHJpbmcgdGlkYWsgdmFsaWQ6IGhhcnVzIG1lbnllcnRha2FuIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgU3RyaW5nIHRpZGFrIHZhbGlkOiBoYXJ1cyBzZXN1YWkgcG9sYSAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH0gdGlkYWsgdmFsaWRgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgQW5na2EgdGlkYWsgdmFsaWQ6IGhhcnVzIGtlbGlwYXRhbiBkYXJpICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBLdW5jaSB0aWRhayBkaWtlbmFsaSAke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwic1wiIDogXCJcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgS3VuY2kgdGlkYWsgdmFsaWQgZGkgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiSW5wdXQgdGlkYWsgdmFsaWRcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5pbGFpIHRpZGFrIHZhbGlkIGRpICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgSW5wdXQgdGlkYWsgdmFsaWRgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmV4cG9ydCBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgc3dpdGNoICh0KSB7XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIm5cdTAwRkFtZXJcIjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiZnlsa2lcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJzdGFmaVwiLCB2ZXJiOiBcImFcdTAwRjAgaGFmYVwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJiXHUwMEU2dGlcIiwgdmVyYjogXCJhXHUwMEYwIGhhZmFcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcImhsdXRpXCIsIHZlcmI6IFwiYVx1MDBGMCBoYWZhXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiaGx1dGlcIiwgdmVyYjogXCJhXHUwMEYwIGhhZmFcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJnaWxkaVwiLFxuICAgICAgICBlbWFpbDogXCJuZXRmYW5nXCIsXG4gICAgICAgIHVybDogXCJ2ZWZzbFx1MDBGM1x1MDBGMFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08gZGFnc2V0bmluZyBvZyB0XHUwMEVEbWlcIixcbiAgICAgICAgZGF0ZTogXCJJU08gZGFnc2V0bmluZ1wiLFxuICAgICAgICB0aW1lOiBcIklTTyB0XHUwMEVEbWlcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPIHRcdTAwRURtYWxlbmdkXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NCBhZGRyZXNzXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2NiBhZGRyZXNzXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0IHJhbmdlXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2IHJhbmdlXCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQtZW5jb2RlZCBzdHJlbmd1clwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsLWVuY29kZWQgc3RyZW5ndXJcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTiBzdHJlbmd1clwiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0IHRcdTAwRjZsdWdpbGRpXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJnaWxkaVwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFJhbmd0IGdpbGRpOiBcdTAwREVcdTAwRkEgc2xcdTAwRjNzdCBpbm4gJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX0gXHUwMEZFYXIgc2VtIFx1MDBFMSBhXHUwMEYwIHZlcmEgJHtpc3N1ZS5leHBlY3RlZH1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBSYW5ndCBnaWxkaTogZ2VydCByXHUwMEUxXHUwMEYwIGZ5cmlyICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEQzZ2lsdCB2YWw6IG1cdTAwRTEgdmVyYSBlaXR0IGFmIGVmdGlyZmFyYW5kaSAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgT2Ygc3RcdTAwRjNydDogZ2VydCBlciByXHUwMEUxXHUwMEYwIGZ5cmlyIGFcdTAwRjAgJHtpc3N1ZS5vcmlnaW4gPz8gXCJnaWxkaVwifSBoYWZpICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiaGx1dGlcIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgT2Ygc3RcdTAwRjNydDogZ2VydCBlciByXHUwMEUxXHUwMEYwIGZ5cmlyIGFcdTAwRjAgJHtpc3N1ZS5vcmlnaW4gPz8gXCJnaWxkaVwifSBzXHUwMEU5ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgT2YgbFx1MDBFRHRpXHUwMEYwOiBnZXJ0IGVyIHJcdTAwRTFcdTAwRjAgZnlyaXIgYVx1MDBGMCAke2lzc3VlLm9yaWdpbn0gaGFmaSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYE9mIGxcdTAwRUR0aVx1MDBGMDogZ2VydCBlciByXHUwMEUxXHUwMEYwIGZ5cmlyIGFcdTAwRjAgJHtpc3N1ZS5vcmlnaW59IHNcdTAwRTkgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBEM2dpbGR1ciBzdHJlbmd1cjogdmVyXHUwMEYwdXIgYVx1MDBGMCBieXJqYSBcdTAwRTEgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwRDNnaWxkdXIgc3RyZW5ndXI6IHZlclx1MDBGMHVyIGFcdTAwRjAgZW5kYSBcdTAwRTEgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEQzZ2lsZHVyIHN0cmVuZ3VyOiB2ZXJcdTAwRjB1ciBhXHUwMEYwIGlubmloYWxkYSBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBEM2dpbGR1ciBzdHJlbmd1cjogdmVyXHUwMEYwdXIgYVx1MDBGMCBmeWxnamEgbXluc3RyaSAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBSYW5ndCAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgUlx1MDBGNm5nIHRhbGE6IHZlclx1MDBGMHVyIGFcdTAwRjAgdmVyYSBtYXJnZmVsZGkgYWYgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBEM1x1MDBGRWVra3QgJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcImlyIGx5a2xhclwiIDogXCJ1ciBseWtpbGxcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgUmFuZ3VyIGx5a2lsbCBcdTAwRUQgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiUmFuZ3QgZ2lsZGlcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFJhbmd0IGdpbGRpIFx1MDBFRCAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFJhbmd0IGdpbGRpYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJjYXJhdHRlcmlcIiwgdmVyYjogXCJhdmVyZVwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJieXRlXCIsIHZlcmI6IFwiYXZlcmVcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcImVsZW1lbnRpXCIsIHZlcmI6IFwiYXZlcmVcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJlbGVtZW50aVwiLCB2ZXJiOiBcImF2ZXJlXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJudW1lcm9cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcInZldHRvcmVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiaW5wdXRcIixcbiAgICAgICAgZW1haWw6IFwiaW5kaXJpenpvIGVtYWlsXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiZGF0YSBlIG9yYSBJU09cIixcbiAgICAgICAgZGF0ZTogXCJkYXRhIElTT1wiLFxuICAgICAgICB0aW1lOiBcIm9yYSBJU09cIixcbiAgICAgICAgZHVyYXRpb246IFwiZHVyYXRhIElTT1wiLFxuICAgICAgICBpcHY0OiBcImluZGlyaXp6byBJUHY0XCIsXG4gICAgICAgIGlwdjY6IFwiaW5kaXJpenpvIElQdjZcIixcbiAgICAgICAgY2lkcnY0OiBcImludGVydmFsbG8gSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwiaW50ZXJ2YWxsbyBJUHY2XCIsXG4gICAgICAgIGJhc2U2NDogXCJzdHJpbmdhIGNvZGlmaWNhdGEgaW4gYmFzZTY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJVUkwgY29kaWZpY2F0YSBpbiBiYXNlNjRcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwic3RyaW5nYSBKU09OXCIsXG4gICAgICAgIGUxNjQ6IFwibnVtZXJvIEUuMTY0XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJpbnB1dFwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYElucHV0IG5vbiB2YWxpZG86IGF0dGVzbyAke2lzc3VlLmV4cGVjdGVkfSwgcmljZXZ1dG8gJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgLy8gcmV0dXJuIGBJbnB1dCBub24gdmFsaWRvOiBhdHRlc28gJHtpc3N1ZS5leHBlY3RlZH0sIHJpY2V2dXRvICR7dXRpbC5nZXRQYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBJbnB1dCBub24gdmFsaWRvOiBhdHRlc28gJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPcHppb25lIG5vbiB2YWxpZGE6IGF0dGVzbyB1bm8gdHJhICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUcm9wcG8gZ3JhbmRlOiAke2lzc3VlLm9yaWdpbiA/PyBcInZhbG9yZVwifSBkZXZlIGF2ZXJlICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVudGlcIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgVHJvcHBvIGdyYW5kZTogJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2YWxvcmVcIn0gZGV2ZSBlc3NlcmUgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUcm9wcG8gcGljY29sbzogJHtpc3N1ZS5vcmlnaW59IGRldmUgYXZlcmUgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUcm9wcG8gcGljY29sbzogJHtpc3N1ZS5vcmlnaW59IGRldmUgZXNzZXJlICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgU3RyaW5nYSBub24gdmFsaWRhOiBkZXZlIGluaXppYXJlIGNvbiBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgU3RyaW5nYSBub24gdmFsaWRhOiBkZXZlIHRlcm1pbmFyZSBjb24gXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgU3RyaW5nYSBub24gdmFsaWRhOiBkZXZlIGluY2x1ZGVyZSBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFN0cmluZ2Egbm9uIHZhbGlkYTogZGV2ZSBjb3JyaXNwb25kZXJlIGFsIHBhdHRlcm4gJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgSW52YWxpZCAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTnVtZXJvIG5vbiB2YWxpZG86IGRldmUgZXNzZXJlIHVuIG11bHRpcGxvIGRpICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBDaGlhdiR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJpXCIgOiBcImVcIn0gbm9uIHJpY29ub3NjaXV0JHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcImVcIiA6IFwiYVwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBDaGlhdmUgbm9uIHZhbGlkYSBpbiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJJbnB1dCBub24gdmFsaWRvXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBWYWxvcmUgbm9uIHZhbGlkbyBpbiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYElucHV0IG5vbiB2YWxpZG9gO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcIlx1NjU4N1x1NUI1N1wiLCB2ZXJiOiBcIlx1MzA2N1x1MzA0Mlx1MzA4QlwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJcdTMwRDBcdTMwQTRcdTMwQzhcIiwgdmVyYjogXCJcdTMwNjdcdTMwNDJcdTMwOEJcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcIlx1ODk4MVx1N0QyMFwiLCB2ZXJiOiBcIlx1MzA2N1x1MzA0Mlx1MzA4QlwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcIlx1ODk4MVx1N0QyMFwiLCB2ZXJiOiBcIlx1MzA2N1x1MzA0Mlx1MzA4QlwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwiXHU2NTcwXHU1MDI0XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTkxNERcdTUyMTdcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHU1MTY1XHU1MjlCXHU1MDI0XCIsXG4gICAgICAgIGVtYWlsOiBcIlx1MzBFMVx1MzBGQ1x1MzBFQlx1MzBBMlx1MzBDOVx1MzBFQ1x1MzBCOVwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcIlx1N0Q3NVx1NjU4N1x1NUI1N1wiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU09cdTY1RTVcdTY2NDJcIixcbiAgICAgICAgZGF0ZTogXCJJU09cdTY1RTVcdTRFRDhcIixcbiAgICAgICAgdGltZTogXCJJU09cdTY2NDJcdTUyM0JcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPXHU2NzFGXHU5NTkzXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NFx1MzBBMlx1MzBDOVx1MzBFQ1x1MzBCOVwiLFxuICAgICAgICBpcHY2OiBcIklQdjZcdTMwQTJcdTMwQzlcdTMwRUNcdTMwQjlcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjRcdTdCQzRcdTU2RjJcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjZcdTdCQzRcdTU2RjJcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NFx1MzBBOFx1MzBGM1x1MzBCM1x1MzBGQ1x1MzBDOVx1NjU4N1x1NUI1N1x1NTIxN1wiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsXHUzMEE4XHUzMEYzXHUzMEIzXHUzMEZDXHUzMEM5XHU2NTg3XHU1QjU3XHU1MjE3XCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT05cdTY1ODdcdTVCNTdcdTUyMTdcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NFx1NzU2QVx1NTNGN1wiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHU1MTY1XHU1MjlCXHU1MDI0XCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU1MkI5XHUzMDZBXHU1MTY1XHU1MjlCOiAke2lzc3VlLmV4cGVjdGVkfVx1MzA0Q1x1NjcxRlx1NUY4NVx1MzA1NVx1MzA4Q1x1MzA3RVx1MzA1N1x1MzA1Rlx1MzA0Q1x1MzAwMSR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9XHUzMDRDXHU1MTY1XHU1MjlCXHUzMDU1XHUzMDhDXHUzMDdFXHUzMDU3XHUzMDVGYDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU1MkI5XHUzMDZBXHU1MTY1XHU1MjlCOiAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9XHUzMDRDXHU2NzFGXHU1Rjg1XHUzMDU1XHUzMDhDXHUzMDdFXHUzMDU3XHUzMDVGYDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NTJCOVx1MzA2QVx1OTA3OFx1NjI5RTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcIlx1MzAwMVwiKX1cdTMwNkVcdTMwNDRcdTMwNUFcdTMwOENcdTMwNEJcdTMwNjdcdTMwNDJcdTMwOEJcdTVGQzVcdTg5ODFcdTMwNENcdTMwNDJcdTMwOEFcdTMwN0VcdTMwNTlgO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiXHU0RUU1XHU0RTBCXHUzMDY3XHUzMDQyXHUzMDhCXCIgOiBcIlx1MzA4OFx1MzA4QVx1NUMwRlx1MzA1NVx1MzA0NFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHU1OTI3XHUzMDREXHUzMDU5XHUzMDRFXHUzMDhCXHU1MDI0OiAke2lzc3VlLm9yaWdpbiA/PyBcIlx1NTAyNFwifVx1MzA2RiR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSR7c2l6aW5nLnVuaXQgPz8gXCJcdTg5ODFcdTdEMjBcIn0ke2Fkan1cdTVGQzVcdTg5ODFcdTMwNENcdTMwNDJcdTMwOEFcdTMwN0VcdTMwNTlgO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHU1OTI3XHUzMDREXHUzMDU5XHUzMDRFXHUzMDhCXHU1MDI0OiAke2lzc3VlLm9yaWdpbiA/PyBcIlx1NTAyNFwifVx1MzA2RiR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSR7YWRqfVx1NUZDNVx1ODk4MVx1MzA0Q1x1MzA0Mlx1MzA4QVx1MzA3RVx1MzA1OWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIlx1NEVFNVx1NEUwQVx1MzA2N1x1MzA0Mlx1MzA4QlwiIDogXCJcdTMwODhcdTMwOEFcdTU5MjdcdTMwNERcdTMwNDRcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NUMwRlx1MzA1NVx1MzA1OVx1MzA0RVx1MzA4Qlx1NTAyNDogJHtpc3N1ZS5vcmlnaW59XHUzMDZGJHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9JHtzaXppbmcudW5pdH0ke2Fkan1cdTVGQzVcdTg5ODFcdTMwNENcdTMwNDJcdTMwOEFcdTMwN0VcdTMwNTlgO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHU1QzBGXHUzMDU1XHUzMDU5XHUzMDRFXHUzMDhCXHU1MDI0OiAke2lzc3VlLm9yaWdpbn1cdTMwNkYke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0ke2Fkan1cdTVGQzVcdTg5ODFcdTMwNENcdTMwNDJcdTMwOEFcdTMwN0VcdTMwNTlgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NTJCOVx1MzA2QVx1NjU4N1x1NUI1N1x1NTIxNzogXCIke19pc3N1ZS5wcmVmaXh9XCJcdTMwNjdcdTU5Q0JcdTMwN0VcdTMwOEJcdTVGQzVcdTg5ODFcdTMwNENcdTMwNDJcdTMwOEFcdTMwN0VcdTMwNTlgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NTJCOVx1MzA2QVx1NjU4N1x1NUI1N1x1NTIxNzogXCIke19pc3N1ZS5zdWZmaXh9XCJcdTMwNjdcdTdENDJcdTMwOEZcdTMwOEJcdTVGQzVcdTg5ODFcdTMwNENcdTMwNDJcdTMwOEFcdTMwN0VcdTMwNTlgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU1MkI5XHUzMDZBXHU2NTg3XHU1QjU3XHU1MjE3OiBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiXHUzMDkyXHU1NDJCXHUzMDgwXHU1RkM1XHU4OTgxXHUzMDRDXHUzMDQyXHUzMDhBXHUzMDdFXHUzMDU5YDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NTJCOVx1MzA2QVx1NjU4N1x1NUI1N1x1NTIxNzogXHUzMEQxXHUzMEJGXHUzMEZDXHUzMEYzJHtfaXNzdWUucGF0dGVybn1cdTMwNkJcdTRFMDBcdTgxRjRcdTMwNTlcdTMwOEJcdTVGQzVcdTg5ODFcdTMwNENcdTMwNDJcdTMwOEFcdTMwN0VcdTMwNTlgO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU1MkI5XHUzMDZBJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NTJCOVx1MzA2QVx1NjU3MFx1NTAyNDogJHtpc3N1ZS5kaXZpc29yfVx1MzA2RVx1NTAwRFx1NjU3MFx1MzA2N1x1MzA0Mlx1MzA4Qlx1NUZDNVx1ODk4MVx1MzA0Q1x1MzA0Mlx1MzA4QVx1MzA3RVx1MzA1OWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1OEE4RFx1OEI1OFx1MzA1NVx1MzA4Q1x1MzA2Nlx1MzA0NFx1MzA2QVx1MzA0NFx1MzBBRFx1MzBGQyR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJcdTdGQTRcIiA6IFwiXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIlx1MzAwMVwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbn1cdTUxODVcdTMwNkVcdTcxMjFcdTUyQjlcdTMwNkFcdTMwQURcdTMwRkNgO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTcxMjFcdTUyQjlcdTMwNkFcdTUxNjVcdTUyOUJcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUub3JpZ2lufVx1NTE4NVx1MzA2RVx1NzEyMVx1NTJCOVx1MzA2QVx1NTAyNGA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU1MkI5XHUzMDZBXHU1MTY1XHU1MjlCYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5leHBvcnQgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgIHN3aXRjaCAodCkge1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJcdTEwRTBcdTEwRDhcdTEwRUFcdTEwRUVcdTEwRDVcdTEwRDhcIjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUxMERCXHUxMEQwXHUxMEUxXHUxMEQ4XHUxMEQ1XHUxMEQ4XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdHlwZU1hcCA9IHtcbiAgICAgICAgc3RyaW5nOiBcIlx1MTBFMVx1MTBFMlx1MTBFMFx1MTBEOFx1MTBEQ1x1MTBEMlx1MTBEOFwiLFxuICAgICAgICBib29sZWFuOiBcIlx1MTBEMVx1MTBFM1x1MTBEQVx1MTBENFx1MTBEMFx1MTBEQ1x1MTBEOFwiLFxuICAgICAgICB1bmRlZmluZWQ6IFwidW5kZWZpbmVkXCIsXG4gICAgICAgIGJpZ2ludDogXCJiaWdpbnRcIixcbiAgICAgICAgc3ltYm9sOiBcInN5bWJvbFwiLFxuICAgICAgICBmdW5jdGlvbjogXCJcdTEwRTRcdTEwRTNcdTEwRENcdTEwRTVcdTEwRUFcdTEwRDhcdTEwRDBcIixcbiAgICB9O1xuICAgIHJldHVybiB0eXBlTWFwW3RdID8/IHQ7XG59O1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiXHUxMEUxXHUxMEQ4XHUxMERCXHUxMEQxXHUxMEREXHUxMERBXHUxMEREXCIsIHZlcmI6IFwiXHUxMEUzXHUxMERDXHUxMEQzXHUxMEQwIFx1MTBFOFx1MTBENFx1MTBEOFx1MTBFQVx1MTBEMFx1MTBENVx1MTBEM1x1MTBENFx1MTBFMVwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJcdTEwRDFcdTEwRDBcdTEwRDhcdTEwRTJcdTEwRDhcIiwgdmVyYjogXCJcdTEwRTNcdTEwRENcdTEwRDNcdTEwRDAgXHUxMEU4XHUxMEQ0XHUxMEQ4XHUxMEVBXHUxMEQwXHUxMEQ1XHUxMEQzXHUxMEQ0XHUxMEUxXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJcdTEwRDRcdTEwREFcdTEwRDRcdTEwREJcdTEwRDRcdTEwRENcdTEwRTJcdTEwRDhcIiwgdmVyYjogXCJcdTEwRTNcdTEwRENcdTEwRDNcdTEwRDAgXHUxMEU4XHUxMEQ0XHUxMEQ4XHUxMEVBXHUxMEQwXHUxMEQ1XHUxMEQzXHUxMEQ0XHUxMEUxXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiXHUxMEQ0XHUxMERBXHUxMEQ0XHUxMERCXHUxMEQ0XHUxMERDXHUxMEUyXHUxMEQ4XCIsIHZlcmI6IFwiXHUxMEUzXHUxMERDXHUxMEQzXHUxMEQwIFx1MTBFOFx1MTBENFx1MTBEOFx1MTBFQVx1MTBEMFx1MTBENVx1MTBEM1x1MTBENFx1MTBFMVwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1MTBFOFx1MTBENFx1MTBFN1x1MTBENVx1MTBEMFx1MTBEQ1x1MTBEMFwiLFxuICAgICAgICBlbWFpbDogXCJcdTEwRDRcdTEwREEtXHUxMEU0XHUxMEREXHUxMEUxXHUxMEUyXHUxMEQ4XHUxMEUxIFx1MTBEQlx1MTBEOFx1MTBFMVx1MTBEMFx1MTBEQlx1MTBEMFx1MTBFMFx1MTBEN1x1MTBEOFwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcIlx1MTBENFx1MTBEQlx1MTBERFx1MTBFRlx1MTBEOFwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJcdTEwRDdcdTEwRDBcdTEwRTBcdTEwRDhcdTEwRTZcdTEwRDgtXHUxMEQzXHUxMEUwXHUxMEREXCIsXG4gICAgICAgIGRhdGU6IFwiXHUxMEQ3XHUxMEQwXHUxMEUwXHUxMEQ4XHUxMEU2XHUxMEQ4XCIsXG4gICAgICAgIHRpbWU6IFwiXHUxMEQzXHUxMEUwXHUxMEREXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIlx1MTBFRVx1MTBEMFx1MTBEQ1x1MTBEMlx1MTBFMFx1MTBFQlx1MTBEQVx1MTBEOFx1MTBENVx1MTBERFx1MTBEMVx1MTBEMFwiLFxuICAgICAgICBpcHY0OiBcIklQdjQgXHUxMERCXHUxMEQ4XHUxMEUxXHUxMEQwXHUxMERCXHUxMEQwXHUxMEUwXHUxMEQ3XHUxMEQ4XCIsXG4gICAgICAgIGlwdjY6IFwiSVB2NiBcdTEwREJcdTEwRDhcdTEwRTFcdTEwRDBcdTEwREJcdTEwRDBcdTEwRTBcdTEwRDdcdTEwRDhcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQgXHUxMEQzXHUxMEQ4XHUxMEQwXHUxMERFXHUxMEQwXHUxMEQ2XHUxMEREXHUxMERDXHUxMEQ4XCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2IFx1MTBEM1x1MTBEOFx1MTBEMFx1MTBERVx1MTBEMFx1MTBENlx1MTBERFx1MTBEQ1x1MTBEOFwiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0LVx1MTBEOVx1MTBERFx1MTBEM1x1MTBEOFx1MTBFMFx1MTBENFx1MTBEMVx1MTBFM1x1MTBEQVx1MTBEOCBcdTEwRTFcdTEwRTJcdTEwRTBcdTEwRDhcdTEwRENcdTEwRDJcdTEwRDhcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybC1cdTEwRDlcdTEwRERcdTEwRDNcdTEwRDhcdTEwRTBcdTEwRDRcdTEwRDFcdTEwRTNcdTEwREFcdTEwRDggXHUxMEUxXHUxMEUyXHUxMEUwXHUxMEQ4XHUxMERDXHUxMEQyXHUxMEQ4XCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gXHUxMEUxXHUxMEUyXHUxMEUwXHUxMEQ4XHUxMERDXHUxMEQyXHUxMEQ4XCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQgXHUxMERDXHUxMEREXHUxMERCXHUxMEQ0XHUxMEUwXHUxMEQ4XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdTEwRThcdTEwRDRcdTEwRTdcdTEwRDVcdTEwRDBcdTEwRENcdTEwRDBcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTEwRDBcdTEwRTBcdTEwRDBcdTEwRTFcdTEwRUNcdTEwRERcdTEwRTBcdTEwRDggXHUxMEU4XHUxMEQ0XHUxMEU3XHUxMEQ1XHUxMEQwXHUxMERDXHUxMEQwOiBcdTEwREJcdTEwRERcdTEwRTFcdTEwRDBcdTEwREFcdTEwRERcdTEwRDNcdTEwRENcdTEwRDRcdTEwREFcdTEwRDggJHtpc3N1ZS5leHBlY3RlZH0sIFx1MTBEQlx1MTBEOFx1MTBFNlx1MTBENFx1MTBEMVx1MTBFM1x1MTBEQVx1MTBEOCAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTBEMFx1MTBFMFx1MTBEMFx1MTBFMVx1MTBFQ1x1MTBERFx1MTBFMFx1MTBEOCBcdTEwRThcdTEwRDRcdTEwRTdcdTEwRDVcdTEwRDBcdTEwRENcdTEwRDA6IFx1MTBEQlx1MTBERFx1MTBFMVx1MTBEMFx1MTBEQVx1MTBERFx1MTBEM1x1MTBEQ1x1MTBENFx1MTBEQVx1MTBEOCAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTBEMFx1MTBFMFx1MTBEMFx1MTBFMVx1MTBFQ1x1MTBERFx1MTBFMFx1MTBEOCBcdTEwRDVcdTEwRDBcdTEwRTBcdTEwRDhcdTEwRDBcdTEwRENcdTEwRTJcdTEwRDg6IFx1MTBEQlx1MTBERFx1MTBFMVx1MTBEMFx1MTBEQVx1MTBERFx1MTBEM1x1MTBEQ1x1MTBENFx1MTBEQVx1MTBEOFx1MTBEMCBcdTEwRDRcdTEwRTBcdTEwRDctXHUxMEQ0XHUxMEUwXHUxMEQ3XHUxMEQ4ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfS1cdTEwRDNcdTEwRDBcdTEwRENgO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUxMEQ2XHUxMEQ0XHUxMEQzXHUxMERCXHUxMEQ0XHUxMEUyXHUxMEQwXHUxMEQzIFx1MTBEM1x1MTBEOFx1MTBEM1x1MTBEODogXHUxMERCXHUxMEREXHUxMEUxXHUxMEQwXHUxMERBXHUxMEREXHUxMEQzXHUxMERDXHUxMEQ0XHUxMERBXHUxMEQ4ICR7aXNzdWUub3JpZ2luID8/IFwiXHUxMERCXHUxMERDXHUxMEQ4XHUxMEU4XHUxMEQ1XHUxMERDXHUxMEQ0XHUxMERBXHUxMEREXHUxMEQxXHUxMEQwXCJ9ICR7c2l6aW5nLnZlcmJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTEwRDZcdTEwRDRcdTEwRDNcdTEwREJcdTEwRDRcdTEwRTJcdTEwRDBcdTEwRDMgXHUxMEQzXHUxMEQ4XHUxMEQzXHUxMEQ4OiBcdTEwREJcdTEwRERcdTEwRTFcdTEwRDBcdTEwREFcdTEwRERcdTEwRDNcdTEwRENcdTEwRDRcdTEwREFcdTEwRDggJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTEwREJcdTEwRENcdTEwRDhcdTEwRThcdTEwRDVcdTEwRENcdTEwRDRcdTEwREFcdTEwRERcdTEwRDFcdTEwRDBcIn0gXHUxMEQ4XHUxMEU3XHUxMEREXHUxMEUxICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUxMEQ2XHUxMEQ0XHUxMEQzXHUxMERCXHUxMEQ0XHUxMEUyXHUxMEQwXHUxMEQzIFx1MTBERVx1MTBEMFx1MTBFMlx1MTBEMFx1MTBFMFx1MTBEMDogXHUxMERCXHUxMEREXHUxMEUxXHUxMEQwXHUxMERBXHUxMEREXHUxMEQzXHUxMERDXHUxMEQ0XHUxMERBXHUxMEQ4ICR7aXNzdWUub3JpZ2lufSAke3NpemluZy52ZXJifSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTBENlx1MTBENFx1MTBEM1x1MTBEQlx1MTBENFx1MTBFMlx1MTBEMFx1MTBEMyBcdTEwREVcdTEwRDBcdTEwRTJcdTEwRDBcdTEwRTBcdTEwRDA6IFx1MTBEQlx1MTBERFx1MTBFMVx1MTBEMFx1MTBEQVx1MTBERFx1MTBEM1x1MTBEQ1x1MTBENFx1MTBEQVx1MTBEOCAke2lzc3VlLm9yaWdpbn0gXHUxMEQ4XHUxMEU3XHUxMEREXHUxMEUxICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTEwRDBcdTEwRTBcdTEwRDBcdTEwRTFcdTEwRUNcdTEwRERcdTEwRTBcdTEwRDggXHUxMEUxXHUxMEUyXHUxMEUwXHUxMEQ4XHUxMERDXHUxMEQyXHUxMEQ4OiBcdTEwRTNcdTEwRENcdTEwRDNcdTEwRDAgXHUxMEQ4XHUxMEVDXHUxMEU3XHUxMEQ0XHUxMEQxXHUxMEREXHUxMEQzXHUxMEQ0XHUxMEUxIFwiJHtfaXNzdWUucHJlZml4fVwiLVx1MTBEOFx1MTBEN2A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTBEMFx1MTBFMFx1MTBEMFx1MTBFMVx1MTBFQ1x1MTBERFx1MTBFMFx1MTBEOCBcdTEwRTFcdTEwRTJcdTEwRTBcdTEwRDhcdTEwRENcdTEwRDJcdTEwRDg6IFx1MTBFM1x1MTBEQ1x1MTBEM1x1MTBEMCBcdTEwREJcdTEwRDdcdTEwRDBcdTEwRDVcdTEwRTBcdTEwRDNcdTEwRDRcdTEwRDFcdTEwRERcdTEwRDNcdTEwRDRcdTEwRTEgXCIke19pc3N1ZS5zdWZmaXh9XCItXHUxMEQ4XHUxMEQ3YDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTBEMFx1MTBFMFx1MTBEMFx1MTBFMVx1MTBFQ1x1MTBERFx1MTBFMFx1MTBEOCBcdTEwRTFcdTEwRTJcdTEwRTBcdTEwRDhcdTEwRENcdTEwRDJcdTEwRDg6IFx1MTBFM1x1MTBEQ1x1MTBEM1x1MTBEMCBcdTEwRThcdTEwRDRcdTEwRDhcdTEwRUFcdTEwRDBcdTEwRDVcdTEwRDNcdTEwRDRcdTEwRTEgXCIke19pc3N1ZS5pbmNsdWRlc31cIi1cdTEwRTFgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUxMEQwXHUxMEUwXHUxMEQwXHUxMEUxXHUxMEVDXHUxMEREXHUxMEUwXHUxMEQ4IFx1MTBFMVx1MTBFMlx1MTBFMFx1MTBEOFx1MTBEQ1x1MTBEMlx1MTBEODogXHUxMEUzXHUxMERDXHUxMEQzXHUxMEQwIFx1MTBFOFx1MTBENFx1MTBENFx1MTBFMVx1MTBEMFx1MTBEMVx1MTBEMFx1MTBEQlx1MTBENFx1MTBEMVx1MTBERFx1MTBEM1x1MTBENFx1MTBFMSBcdTEwRThcdTEwRDBcdTEwRDFcdTEwREFcdTEwRERcdTEwRENcdTEwRTEgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxMEQwXHUxMEUwXHUxMEQwXHUxMEUxXHUxMEVDXHUxMEREXHUxMEUwXHUxMEQ4ICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTEwRDBcdTEwRTBcdTEwRDBcdTEwRTFcdTEwRUNcdTEwRERcdTEwRTBcdTEwRDggXHUxMEUwXHUxMEQ4XHUxMEVBXHUxMEVFXHUxMEQ1XHUxMEQ4OiBcdTEwRTNcdTEwRENcdTEwRDNcdTEwRDAgXHUxMEQ4XHUxMEU3XHUxMEREXHUxMEUxICR7aXNzdWUuZGl2aXNvcn0tXHUxMEQ4XHUxMEUxIFx1MTBFRlx1MTBENFx1MTBFMFx1MTBEMFx1MTBEM1x1MTBEOGA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTBFM1x1MTBFQVx1MTBEQ1x1MTBERFx1MTBEMVx1MTBEOCBcdTEwRDJcdTEwRDBcdTEwRTFcdTEwRDBcdTEwRTZcdTEwRDRcdTEwRDEke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiXHUxMEQ0XHUxMEQxXHUxMEQ4XCIgOiBcIlx1MTBEOFwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTEwRDBcdTEwRTBcdTEwRDBcdTEwRTFcdTEwRUNcdTEwRERcdTEwRTBcdTEwRDggXHUxMEQyXHUxMEQwXHUxMEUxXHUxMEQwXHUxMEU2XHUxMEQ0XHUxMEQxXHUxMEQ4ICR7aXNzdWUub3JpZ2lufS1cdTEwRThcdTEwRDhgO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTEwRDBcdTEwRTBcdTEwRDBcdTEwRTFcdTEwRUNcdTEwRERcdTEwRTBcdTEwRDggXHUxMEU4XHUxMEQ0XHUxMEU3XHUxMEQ1XHUxMEQwXHUxMERDXHUxMEQwXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTEwRDBcdTEwRTBcdTEwRDBcdTEwRTFcdTEwRUNcdTEwRERcdTEwRTBcdTEwRDggXHUxMERCXHUxMERDXHUxMEQ4XHUxMEU4XHUxMEQ1XHUxMERDXHUxMEQ0XHUxMERBXHUxMEREXHUxMEQxXHUxMEQwICR7aXNzdWUub3JpZ2lufS1cdTEwRThcdTEwRDhgO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTBEMFx1MTBFMFx1MTBEMFx1MTBFMVx1MTBFQ1x1MTBERFx1MTBFMFx1MTBEOCBcdTEwRThcdTEwRDRcdTEwRTdcdTEwRDVcdTEwRDBcdTEwRENcdTEwRDBgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcIlx1MTc4Rlx1MTdCRFx1MTdBMlx1MTc4MFx1MTdEMlx1MTc5Rlx1MTc5QVwiLCB2ZXJiOiBcIlx1MTc4Mlx1MTdCRFx1MTc5QVx1MTc5OFx1MTdCNlx1MTc5M1wiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJcdTE3OTRcdTE3QzNcIiwgdmVyYjogXCJcdTE3ODJcdTE3QkRcdTE3OUFcdTE3OThcdTE3QjZcdTE3OTNcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcIlx1MTc5Mlx1MTdCNlx1MTc4Rlx1MTdCQlwiLCB2ZXJiOiBcIlx1MTc4Mlx1MTdCRFx1MTc5QVx1MTc5OFx1MTdCNlx1MTc5M1wiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcIlx1MTc5Mlx1MTdCNlx1MTc4Rlx1MTdCQlwiLCB2ZXJiOiBcIlx1MTc4Mlx1MTdCRFx1MTc5QVx1MTc5OFx1MTdCNlx1MTc5M1wiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJcdTE3OThcdTE3QjdcdTE3OTNcdTE3OThcdTE3QzJcdTE3OTNcdTE3ODdcdTE3QjZcdTE3OUJcdTE3QzFcdTE3ODEgKE5hTilcIiA6IFwiXHUxNzlCXHUxN0MxXHUxNzgxXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTE3QTJcdTE3QjZcdTE3OUFcdTE3QzEgKEFycmF5KVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTE3ODJcdTE3RDJcdTE3OThcdTE3QjZcdTE3OTNcdTE3OEZcdTE3OThcdTE3RDJcdTE3OUJcdTE3QzMgKG51bGwpXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdTE3OTFcdTE3QjdcdTE3OTNcdTE3RDJcdTE3OTNcdTE3OTNcdTE3RDBcdTE3OTlcdTE3OTRcdTE3ODlcdTE3RDJcdTE3ODVcdTE3QkNcdTE3OUJcIixcbiAgICAgICAgZW1haWw6IFwiXHUxN0EyXHUxN0I2XHUxNzlGXHUxNzk5XHUxNzhBXHUxN0QyXHUxNzhCXHUxN0I2XHUxNzkzXHUxN0EyXHUxN0NBXHUxN0I4XHUxNzk4XHUxN0MyXHUxNzlCXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiXHUxNzlGXHUxNzg5XHUxN0QyXHUxNzg5XHUxN0I2XHUxN0EyXHUxN0I2XHUxNzlBXHUxNzk4XHUxN0QyXHUxNzk4XHUxNzhFXHUxN0NEXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIlx1MTc4MFx1MTdCNlx1MTc5Qlx1MTc5NFx1MTc5QVx1MTdCN1x1MTc4NVx1MTdEMlx1MTc4Nlx1MTdDMVx1MTc5MSBcdTE3OTNcdTE3QjdcdTE3ODRcdTE3OThcdTE3QzlcdTE3QzRcdTE3ODQgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwiXHUxNzgwXHUxN0I2XHUxNzlCXHUxNzk0XHUxNzlBXHUxN0I3XHUxNzg1XHUxN0QyXHUxNzg2XHUxN0MxXHUxNzkxIElTT1wiLFxuICAgICAgICB0aW1lOiBcIlx1MTc5OFx1MTdDOVx1MTdDNFx1MTc4NCBJU09cIixcbiAgICAgICAgZHVyYXRpb246IFwiXHUxNzlBXHUxNzk5XHUxN0M4XHUxNzk2XHUxN0MxXHUxNzlCIElTT1wiLFxuICAgICAgICBpcHY0OiBcIlx1MTdBMlx1MTdCNlx1MTc5Rlx1MTc5OVx1MTc4QVx1MTdEMlx1MTc4Qlx1MTdCNlx1MTc5MyBJUHY0XCIsXG4gICAgICAgIGlwdjY6IFwiXHUxN0EyXHUxN0I2XHUxNzlGXHUxNzk5XHUxNzhBXHUxN0QyXHUxNzhCXHUxN0I2XHUxNzkzIElQdjZcIixcbiAgICAgICAgY2lkcnY0OiBcIlx1MTc4QVx1MTdDMlx1MTc5M1x1MTdBMlx1MTdCNlx1MTc5Rlx1MTc5OVx1MTc4QVx1MTdEMlx1MTc4Qlx1MTdCNlx1MTc5MyBJUHY0XCIsXG4gICAgICAgIGNpZHJ2NjogXCJcdTE3OEFcdTE3QzJcdTE3OTNcdTE3QTJcdTE3QjZcdTE3OUZcdTE3OTlcdTE3OEFcdTE3RDJcdTE3OEJcdTE3QjZcdTE3OTMgSVB2NlwiLFxuICAgICAgICBiYXNlNjQ6IFwiXHUxNzgxXHUxN0QyXHUxNzlGXHUxN0MyXHUxN0EyXHUxNzgwXHUxN0QyXHUxNzlGXHUxNzlBXHUxN0EyXHUxN0NBXHUxN0I3XHUxNzgwXHUxN0JDXHUxNzhBIGJhc2U2NFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiXHUxNzgxXHUxN0QyXHUxNzlGXHUxN0MyXHUxN0EyXHUxNzgwXHUxN0QyXHUxNzlGXHUxNzlBXHUxN0EyXHUxN0NBXHUxN0I3XHUxNzgwXHUxN0JDXHUxNzhBIGJhc2U2NHVybFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJcdTE3ODFcdTE3RDJcdTE3OUZcdTE3QzJcdTE3QTJcdTE3ODBcdTE3RDJcdTE3OUZcdTE3OUEgSlNPTlwiLFxuICAgICAgICBlMTY0OiBcIlx1MTc5Qlx1MTdDMVx1MTc4MSBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHUxNzkxXHUxN0I3XHUxNzkzXHUxN0QyXHUxNzkzXHUxNzkzXHUxN0QwXHUxNzk5XHUxNzk0XHUxNzg5XHUxN0QyXHUxNzg1XHUxN0JDXHUxNzlCXCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxNzkxXHUxN0I3XHUxNzkzXHUxN0QyXHUxNzkzXHUxNzkzXHUxN0QwXHUxNzk5XHUxNzk0XHUxNzg5XHUxN0QyXHUxNzg1XHUxN0JDXHUxNzlCXHUxNzk4XHUxN0I3XHUxNzkzXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0I5XHUxNzk4XHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxN0Q2IFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTc4MFx1MTdCNlx1MTc5QSAke2lzc3VlLmV4cGVjdGVkfSBcdTE3OTRcdTE3QzlcdTE3QkJcdTE3OTNcdTE3RDJcdTE3OEZcdTE3QzJcdTE3OTFcdTE3OTFcdTE3QkRcdTE3OUJcdTE3OTRcdTE3QjZcdTE3OTMgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3OTFcdTE3QjdcdTE3OTNcdTE3RDJcdTE3OTNcdTE3OTNcdTE3RDBcdTE3OTlcdTE3OTRcdTE3ODlcdTE3RDJcdTE3ODVcdTE3QkNcdTE3OUJcdTE3OThcdTE3QjdcdTE3OTNcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QjlcdTE3OThcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3RDYgXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxNzgwXHUxN0I2XHUxNzlBICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxNzg3XHUxNzk4XHUxN0QyXHUxNzlBXHUxN0JFXHUxNzlGXHUxNzk4XHUxN0I3XHUxNzkzXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0I5XHUxNzk4XHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxN0Q2IFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTc4N1x1MTdCNlx1MTc5OFx1MTdCRFx1MTc5OVx1MTc4MFx1MTdEMlx1MTc5M1x1MTdCQlx1MTc4NFx1MTc4NVx1MTdDNlx1MTc4RVx1MTdDNFx1MTc5OCAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUxNzkyXHUxN0M2XHUxNzk2XHUxN0MxXHUxNzgwXHUxN0Q2IFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTc4MFx1MTdCNlx1MTc5QSAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MTc4Rlx1MTc5OFx1MTdEMlx1MTc5Qlx1MTdDM1wifSAke2Fkan0gJHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJcdTE3OTJcdTE3QjZcdTE3OEZcdTE3QkJcIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxNzkyXHUxN0M2XHUxNzk2XHUxN0MxXHUxNzgwXHUxN0Q2IFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTc4MFx1MTdCNlx1MTc5QSAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MTc4Rlx1MTc5OFx1MTdEMlx1MTc5Qlx1MTdDM1wifSAke2Fkan0gJHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3OEZcdTE3QkNcdTE3ODVcdTE3OTZcdTE3QzFcdTE3ODBcdTE3RDYgXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxNzgwXHUxN0I2XHUxNzlBICR7aXNzdWUub3JpZ2lufSAke2Fkan0gJHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3OEZcdTE3QkNcdTE3ODVcdTE3OTZcdTE3QzFcdTE3ODBcdTE3RDYgXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxNzgwXHUxN0I2XHUxNzlBICR7aXNzdWUub3JpZ2lufSAke2Fkan0gJHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTc4MVx1MTdEMlx1MTc5Rlx1MTdDMlx1MTdBMlx1MTc4MFx1MTdEMlx1MTc5Rlx1MTc5QVx1MTc5OFx1MTdCN1x1MTc5M1x1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCOVx1MTc5OFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTdENiBcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3ODVcdTE3QjZcdTE3OTRcdTE3Q0JcdTE3OTVcdTE3RDJcdTE3OEZcdTE3QkVcdTE3OThcdTE3OEFcdTE3QzRcdTE3OTkgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3ODFcdTE3RDJcdTE3OUZcdTE3QzJcdTE3QTJcdTE3ODBcdTE3RDJcdTE3OUZcdTE3OUFcdTE3OThcdTE3QjdcdTE3OTNcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QjlcdTE3OThcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3RDYgXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxNzk0XHUxNzg5XHUxN0QyXHUxNzg1XHUxNzk0XHUxN0NCXHUxNzhBXHUxN0M0XHUxNzk5IFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTc4MVx1MTdEMlx1MTc5Rlx1MTdDMlx1MTdBMlx1MTc4MFx1MTdEMlx1MTc5Rlx1MTc5QVx1MTc5OFx1MTdCN1x1MTc5M1x1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCOVx1MTc5OFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTdENiBcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3OThcdTE3QjZcdTE3OTMgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3ODFcdTE3RDJcdTE3OUZcdTE3QzJcdTE3QTJcdTE3ODBcdTE3RDJcdTE3OUZcdTE3OUFcdTE3OThcdTE3QjdcdTE3OTNcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QjlcdTE3OThcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3RDYgXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxNzhGXHUxN0MyXHUxNzk1XHUxN0QyXHUxNzgyXHUxN0JDXHUxNzk1XHUxN0QyXHUxNzgyXHUxNzg0XHUxNzkzXHUxN0I5XHUxNzg0XHUxNzkxXHUxNzk4XHUxN0QyXHUxNzlBXHUxNzg0XHUxN0NCXHUxNzhBXHUxN0MyXHUxNzlCXHUxNzk0XHUxN0I2XHUxNzkzXHUxNzgwXHUxN0M2XHUxNzhFXHUxNzhGXHUxN0NCICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTc5OFx1MTdCN1x1MTc5M1x1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCOVx1MTc5OFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTdENiAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxNzlCXHUxN0MxXHUxNzgxXHUxNzk4XHUxN0I3XHUxNzkzXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0I5XHUxNzk4XHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxN0Q2IFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTc4Rlx1MTdDMlx1MTc4N1x1MTdCNlx1MTc5Nlx1MTdBMFx1MTdCQlx1MTc4Mlx1MTdCQlx1MTc4RVx1MTc5M1x1MTdDMyAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxNzlBXHUxNzgwXHUxNzgzXHUxN0JFXHUxNzg5XHUxNzlGXHUxN0M0XHUxNzk4XHUxN0I3XHUxNzkzXHUxNzlGXHUxN0QyXHUxNzgyXHUxN0I2XHUxNzlCXHUxN0NCXHUxN0Q2ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxNzlGXHUxN0M0XHUxNzk4XHUxN0I3XHUxNzkzXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0I5XHUxNzk4XHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxNzkzXHUxN0M1XHUxNzgwXHUxN0QyXHUxNzkzXHUxN0JCXHUxNzg0ICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxNzkxXHUxN0I3XHUxNzkzXHUxN0QyXHUxNzkzXHUxNzkzXHUxN0QwXHUxNzk5XHUxNzk4XHUxN0I3XHUxNzkzXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0I5XHUxNzk4XHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDYDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTc5MVx1MTdCN1x1MTc5M1x1MTdEMlx1MTc5M1x1MTc5M1x1MTdEMFx1MTc5OVx1MTc5OFx1MTdCN1x1MTc5M1x1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCOVx1MTc5OFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTc5M1x1MTdDNVx1MTc4MFx1MTdEMlx1MTc5M1x1MTdCQlx1MTc4NCAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTc5MVx1MTdCN1x1MTc5M1x1MTdEMlx1MTc5M1x1MTc5M1x1MTdEMFx1MTc5OVx1MTc5OFx1MTdCN1x1MTc5M1x1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCOVx1MTc5OFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q2A7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCBrbSBmcm9tIFwiLi9rbS5qc1wiO1xuLyoqIEBkZXByZWNhdGVkIFVzZSBga21gIGluc3RlYWQuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGttKCk7XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJcdUJCMzhcdUM3OTBcIiwgdmVyYjogXCJ0byBoYXZlXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcIlx1QkMxNFx1Qzc3NFx1RDJCOFwiLCB2ZXJiOiBcInRvIGhhdmVcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcIlx1QUMxQ1wiLCB2ZXJiOiBcInRvIGhhdmVcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJcdUFDMUNcIiwgdmVyYjogXCJ0byBoYXZlXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJudW1iZXJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1Qzc4NVx1QjgyNVwiLFxuICAgICAgICBlbWFpbDogXCJcdUM3NzRcdUJBNTRcdUM3N0MgXHVDOEZDXHVDMThDXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiXHVDNzc0XHVCQUE4XHVDOUMwXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyBcdUIwQTBcdUM5RENcdUMyRENcdUFDMDRcIixcbiAgICAgICAgZGF0ZTogXCJJU08gXHVCMEEwXHVDOURDXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPIFx1QzJEQ1x1QUMwNFwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08gXHVBRTMwXHVBQzA0XCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NCBcdUM4RkNcdUMxOENcIixcbiAgICAgICAgaXB2NjogXCJJUHY2IFx1QzhGQ1x1QzE4Q1wiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NCBcdUJDOTRcdUM3MDRcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYgXHVCQzk0XHVDNzA0XCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQgXHVDNzc4XHVDRjU0XHVCNTI5IFx1QkIzOFx1Qzc5MFx1QzVGNFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsIFx1Qzc3OFx1Q0Y1NFx1QjUyOSBcdUJCMzhcdUM3OTBcdUM1RjRcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTiBcdUJCMzhcdUM3OTBcdUM1RjRcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NCBcdUJDODhcdUQ2MzhcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1Qzc4NVx1QjgyNVwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1Qzc5OFx1QkFCQlx1QjQxQyBcdUM3ODVcdUI4MjU6IFx1QzYwOFx1QzBDMSBcdUQwQzBcdUM3ODVcdUM3NDAgJHtpc3N1ZS5leHBlY3RlZH0sIFx1QkMxQlx1Qzc0MCBcdUQwQzBcdUM3ODVcdUM3NDAgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1cdUM3ODVcdUIyQzhcdUIyRTRgO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdUM3OThcdUJBQkJcdUI0MUMgXHVDNzg1XHVCODI1OiBcdUFDMTJcdUM3NDAgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfSBcdUM3NzRcdUM1QjRcdUM1N0MgXHVENTY5XHVCMkM4XHVCMkU0YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1Qzc5OFx1QkFCQlx1QjQxQyBcdUM2MzVcdUMxNTg6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJcdUI2MTBcdUIyOTQgXCIpfSBcdUM5MTEgXHVENTU4XHVCMDk4XHVDNUVDXHVDNTdDIFx1RDU2OVx1QjJDOFx1QjJFNGA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCJcdUM3NzRcdUQ1NThcIiA6IFwiXHVCQkY4XHVCOUNDXCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3VmZml4ID0gYWRqID09PSBcIlx1QkJGOFx1QjlDQ1wiID8gXCJcdUM3NzRcdUM1QjRcdUM1N0MgXHVENTY5XHVCMkM4XHVCMkU0XCIgOiBcIlx1QzVFQ1x1QzU3QyBcdUQ1NjlcdUIyQzhcdUIyRTRcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1bml0ID0gc2l6aW5nPy51bml0ID8/IFwiXHVDNjk0XHVDMThDXCI7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbiA/PyBcIlx1QUMxMlwifVx1Qzc3NCBcdUIxMDhcdUJCMzQgXHVEMDdEXHVCMkM4XHVCMkU0OiAke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0ke3VuaXR9ICR7YWRqfSR7c3VmZml4fWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbiA/PyBcIlx1QUMxMlwifVx1Qzc3NCBcdUIxMDhcdUJCMzQgXHVEMDdEXHVCMkM4XHVCMkU0OiAke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHthZGp9JHtzdWZmaXh9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiXHVDNzc0XHVDMEMxXCIgOiBcIlx1Q0QwOFx1QUNGQ1wiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1ZmZpeCA9IGFkaiA9PT0gXCJcdUM3NzRcdUMwQzFcIiA/IFwiXHVDNzc0XHVDNUI0XHVDNTdDIFx1RDU2OVx1QjJDOFx1QjJFNFwiIDogXCJcdUM1RUNcdUM1N0MgXHVENTY5XHVCMkM4XHVCMkU0XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgY29uc3QgdW5pdCA9IHNpemluZz8udW5pdCA/PyBcIlx1QzY5NFx1QzE4Q1wiO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbiA/PyBcIlx1QUMxMlwifVx1Qzc3NCBcdUIxMDhcdUJCMzQgXHVDNzkxXHVDMkI1XHVCMkM4XHVCMkU0OiAke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0ke3VuaXR9ICR7YWRqfSR7c3VmZml4fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdUFDMTJcIn1cdUM3NzQgXHVCMTA4XHVCQjM0IFx1Qzc5MVx1QzJCNVx1QjJDOFx1QjJFNDogJHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7YWRqfSR7c3VmZml4fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdUM3OThcdUJBQkJcdUI0MUMgXHVCQjM4XHVDNzkwXHVDNUY0OiBcIiR7X2lzc3VlLnByZWZpeH1cIihcdUM3M0MpXHVCODVDIFx1QzJEQ1x1Qzc5MVx1RDU3NFx1QzU3QyBcdUQ1NjlcdUIyQzhcdUIyRTRgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdUM3OThcdUJBQkJcdUI0MUMgXHVCQjM4XHVDNzkwXHVDNUY0OiBcIiR7X2lzc3VlLnN1ZmZpeH1cIihcdUM3M0MpXHVCODVDIFx1QjA1RFx1QjA5OFx1QzU3QyBcdUQ1NjlcdUIyQzhcdUIyRTRgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHVDNzk4XHVCQUJCXHVCNDFDIFx1QkIzOFx1Qzc5MFx1QzVGNDogXCIke19pc3N1ZS5pbmNsdWRlc31cIlx1Qzc0NChcdUI5N0MpIFx1RDNFQ1x1RDU2OFx1RDU3NFx1QzU3QyBcdUQ1NjlcdUIyQzhcdUIyRTRgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHVDNzk4XHVCQUJCXHVCNDFDIFx1QkIzOFx1Qzc5MFx1QzVGNDogXHVDODE1XHVBRERDXHVDMkREICR7X2lzc3VlLnBhdHRlcm59IFx1RDMyOFx1RDEzNFx1QUNGQyBcdUM3N0NcdUNFNThcdUQ1NzRcdUM1N0MgXHVENTY5XHVCMkM4XHVCMkU0YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1Qzc5OFx1QkFCQlx1QjQxQyAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHVDNzk4XHVCQUJCXHVCNDFDIFx1QzIyQlx1Qzc5MDogJHtpc3N1ZS5kaXZpc29yfVx1Qzc1OCBcdUJDMzBcdUMyMThcdUM1RUNcdUM1N0MgXHVENTY5XHVCMkM4XHVCMkU0YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHVDNzc4XHVDMkREXHVENTYwIFx1QzIxOCBcdUM1QzZcdUIyOTQgXHVEMEE0OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1Qzc5OFx1QkFCQlx1QjQxQyBcdUQwQTQ6ICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHVDNzk4XHVCQUJCXHVCNDFDIFx1Qzc4NVx1QjgyNWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdUM3OThcdUJBQkJcdUI0MUMgXHVBQzEyOiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1Qzc5OFx1QkFCQlx1QjQxQyBcdUM3ODVcdUI4MjVgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmV4cG9ydCBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgcmV0dXJuIHBhcnNlZFR5cGVGcm9tVHlwZSh0LCBkYXRhKTtcbn07XG5jb25zdCBwYXJzZWRUeXBlRnJvbVR5cGUgPSAodCwgZGF0YSA9IHVuZGVmaW5lZCkgPT4ge1xuICAgIHN3aXRjaCAodCkge1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJza2FpXHUwMTBEaXVzXCI7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcImJpZ2ludFwiOiB7XG4gICAgICAgICAgICByZXR1cm4gXCJzdmVpa2FzaXMgc2thaVx1MDEwRGl1c1wiO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjoge1xuICAgICAgICAgICAgcmV0dXJuIFwiZWlsdXRcdTAxMTdcIjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiYm9vbGVhblwiOiB7XG4gICAgICAgICAgICByZXR1cm4gXCJsb2dpblx1MDExNyByZWlrXHUwMTYxbVx1MDExN1wiO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgY2FzZSBcInZvaWRcIjoge1xuICAgICAgICAgICAgcmV0dXJuIFwibmVhcGliclx1MDExN1x1MDE3RXRhIHJlaWtcdTAxNjFtXHUwMTE3XCI7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBcImZ1bmtjaWphXCI7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInN5bWJvbFwiOiB7XG4gICAgICAgICAgICByZXR1cm4gXCJzaW1ib2xpc1wiO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJuZVx1MDE3RWlub21hcyBvYmpla3Rhc1wiO1xuICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsaW5cdTAxMTcgcmVpa1x1MDE2MW1cdTAxMTdcIjtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKVxuICAgICAgICAgICAgICAgIHJldHVybiBcIm1hc3l2YXNcIjtcbiAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gXCJvYmpla3Rhc1wiO1xuICAgICAgICB9XG4gICAgICAgIC8vWm9kIHR5cGVzIGJlbG93XG4gICAgICAgIGNhc2UgXCJudWxsXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBcIm51bGluXHUwMTE3IHJlaWtcdTAxNjFtXHUwMTE3XCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuY29uc3QgY2FwaXRhbGl6ZUZpcnN0Q2hhcmFjdGVyID0gKHRleHQpID0+IHtcbiAgICByZXR1cm4gdGV4dC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHRleHQuc2xpY2UoMSk7XG59O1xuZnVuY3Rpb24gZ2V0VW5pdFR5cGVGcm9tTnVtYmVyKG51bWJlcikge1xuICAgIGNvbnN0IGFicyA9IE1hdGguYWJzKG51bWJlcik7XG4gICAgY29uc3QgbGFzdCA9IGFicyAlIDEwO1xuICAgIGNvbnN0IGxhc3QyID0gYWJzICUgMTAwO1xuICAgIGlmICgobGFzdDIgPj0gMTEgJiYgbGFzdDIgPD0gMTkpIHx8IGxhc3QgPT09IDApXG4gICAgICAgIHJldHVybiBcIm1hbnlcIjtcbiAgICBpZiAobGFzdCA9PT0gMSlcbiAgICAgICAgcmV0dXJuIFwib25lXCI7XG4gICAgcmV0dXJuIFwiZmV3XCI7XG59XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHtcbiAgICAgICAgICAgIHVuaXQ6IHtcbiAgICAgICAgICAgICAgICBvbmU6IFwic2ltYm9saXNcIixcbiAgICAgICAgICAgICAgICBmZXc6IFwic2ltYm9saWFpXCIsXG4gICAgICAgICAgICAgICAgbWFueTogXCJzaW1ib2xpXHUwMTczXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmVyYjoge1xuICAgICAgICAgICAgICAgIHNtYWxsZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBcInR1cmkgYlx1MDE2QnRpIG5lIGlsZ2Vzblx1MDExNyBrYWlwXCIsXG4gICAgICAgICAgICAgICAgICAgIG5vdEluY2x1c2l2ZTogXCJ0dXJpIGJcdTAxNkJ0aSB0cnVtcGVzblx1MDExNyBrYWlwXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBiaWdnZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBcInR1cmkgYlx1MDE2QnRpIG5lIHRydW1wZXNuXHUwMTE3IGthaXBcIixcbiAgICAgICAgICAgICAgICAgICAgbm90SW5jbHVzaXZlOiBcInR1cmkgYlx1MDE2QnRpIGlsZ2Vzblx1MDExNyBrYWlwXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgIHVuaXQ6IHtcbiAgICAgICAgICAgICAgICBvbmU6IFwiYmFpdGFzXCIsXG4gICAgICAgICAgICAgICAgZmV3OiBcImJhaXRhaVwiLFxuICAgICAgICAgICAgICAgIG1hbnk6IFwiYmFpdFx1MDE3M1wiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZlcmI6IHtcbiAgICAgICAgICAgICAgICBzbWFsbGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogXCJ0dXJpIGJcdTAxNkJ0aSBuZSBkaWRlc25pcyBrYWlwXCIsXG4gICAgICAgICAgICAgICAgICAgIG5vdEluY2x1c2l2ZTogXCJ0dXJpIGJcdTAxNkJ0aSBtYVx1MDE3RWVzbmlzIGthaXBcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJpZ2dlcjoge1xuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IFwidHVyaSBiXHUwMTZCdGkgbmUgbWFcdTAxN0Vlc25pcyBrYWlwXCIsXG4gICAgICAgICAgICAgICAgICAgIG5vdEluY2x1c2l2ZTogXCJ0dXJpIGJcdTAxNkJ0aSBkaWRlc25pcyBrYWlwXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGFycmF5OiB7XG4gICAgICAgICAgICB1bml0OiB7XG4gICAgICAgICAgICAgICAgb25lOiBcImVsZW1lbnRcdTAxMDVcIixcbiAgICAgICAgICAgICAgICBmZXc6IFwiZWxlbWVudHVzXCIsXG4gICAgICAgICAgICAgICAgbWFueTogXCJlbGVtZW50XHUwMTczXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmVyYjoge1xuICAgICAgICAgICAgICAgIHNtYWxsZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBcInR1cmkgdHVyXHUwMTE3dGkgbmUgZGF1Z2lhdSBrYWlwXCIsXG4gICAgICAgICAgICAgICAgICAgIG5vdEluY2x1c2l2ZTogXCJ0dXJpIHR1clx1MDExN3RpIG1hXHUwMTdFaWF1IGthaXBcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJpZ2dlcjoge1xuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IFwidHVyaSB0dXJcdTAxMTd0aSBuZSBtYVx1MDE3RWlhdSBrYWlwXCIsXG4gICAgICAgICAgICAgICAgICAgIG5vdEluY2x1c2l2ZTogXCJ0dXJpIHR1clx1MDExN3RpIGRhdWdpYXUga2FpcFwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IHtcbiAgICAgICAgICAgIHVuaXQ6IHtcbiAgICAgICAgICAgICAgICBvbmU6IFwiZWxlbWVudFx1MDEwNVwiLFxuICAgICAgICAgICAgICAgIGZldzogXCJlbGVtZW50dXNcIixcbiAgICAgICAgICAgICAgICBtYW55OiBcImVsZW1lbnRcdTAxNzNcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2ZXJiOiB7XG4gICAgICAgICAgICAgICAgc21hbGxlcjoge1xuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IFwidHVyaSB0dXJcdTAxMTd0aSBuZSBkYXVnaWF1IGthaXBcIixcbiAgICAgICAgICAgICAgICAgICAgbm90SW5jbHVzaXZlOiBcInR1cmkgdHVyXHUwMTE3dGkgbWFcdTAxN0VpYXUga2FpcFwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYmlnZ2VyOiB7XG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogXCJ0dXJpIHR1clx1MDExN3RpIG5lIG1hXHUwMTdFaWF1IGthaXBcIixcbiAgICAgICAgICAgICAgICAgICAgbm90SW5jbHVzaXZlOiBcInR1cmkgdHVyXHUwMTE3dGkgZGF1Z2lhdSBrYWlwXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luLCB1bml0VHlwZSwgaW5jbHVzaXZlLCB0YXJnZXRTaG91bGRCZSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1bml0OiByZXN1bHQudW5pdFt1bml0VHlwZV0sXG4gICAgICAgICAgICB2ZXJiOiByZXN1bHQudmVyYlt0YXJnZXRTaG91bGRCZV1baW5jbHVzaXZlID8gXCJpbmNsdXNpdmVcIiA6IFwibm90SW5jbHVzaXZlXCJdLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHUwMTJGdmVzdGlzXCIsXG4gICAgICAgIGVtYWlsOiBcImVsLiBwYVx1MDE2MXRvIGFkcmVzYXNcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJqYXVzdHVrYXNcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPIGRhdGEgaXIgbGFpa2FzXCIsXG4gICAgICAgIGRhdGU6IFwiSVNPIGRhdGFcIixcbiAgICAgICAgdGltZTogXCJJU08gbGFpa2FzXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTyB0cnVrbVx1MDExN1wiLFxuICAgICAgICBpcHY0OiBcIklQdjQgYWRyZXNhc1wiLFxuICAgICAgICBpcHY2OiBcIklQdjYgYWRyZXNhc1wiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NCB0aW5rbG8gcHJlZmlrc2FzIChDSURSKVwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2NiB0aW5rbG8gcHJlZmlrc2FzIChDSURSKVwiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0IHVcdTAxN0Vrb2R1b3RhIGVpbHV0XHUwMTE3XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJiYXNlNjR1cmwgdVx1MDE3RWtvZHVvdGEgZWlsdXRcdTAxMTdcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTiBlaWx1dFx1MDExN1wiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0IG51bWVyaXNcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1MDEyRnZlc3Rpc1wiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEdhdXRhcyB0aXBhcyAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfSwgbyB0aWtcdTAxMTd0YXNpIC0gJHtwYXJzZWRUeXBlRnJvbVR5cGUoaXNzdWUuZXhwZWN0ZWQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFByaXZhbG8gYlx1MDE2QnRpICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgUHJpdmFsbyBiXHUwMTZCdGkgdmllbmFzIGlcdTAxNjEgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9IHBhc2lyaW5raW1cdTAxNzNgO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbiA9IHBhcnNlZFR5cGVGcm9tVHlwZShpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4sIGdldFVuaXRUeXBlRnJvbU51bWJlcihOdW1iZXIoaXNzdWUubWF4aW11bSkpLCBpc3N1ZS5pbmNsdXNpdmUgPz8gZmFsc2UsIFwic21hbGxlclwiKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nPy52ZXJiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7Y2FwaXRhbGl6ZUZpcnN0Q2hhcmFjdGVyKG9yaWdpbiA/PyBpc3N1ZS5vcmlnaW4gPz8gXCJyZWlrXHUwMTYxbVx1MDExN1wiKX0gJHtzaXppbmcudmVyYn0gJHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW50XHUwMTczXCJ9YDtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIm5lIGRpZGVzbmlzIGthaXBcIiA6IFwibWFcdTAxN0Vlc25pcyBrYWlwXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2NhcGl0YWxpemVGaXJzdENoYXJhY3RlcihvcmlnaW4gPz8gaXNzdWUub3JpZ2luID8/IFwicmVpa1x1MDE2MW1cdTAxMTdcIil9IHR1cmkgYlx1MDE2QnRpICR7YWRqfSAke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmc/LnVuaXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbiA9IHBhcnNlZFR5cGVGcm9tVHlwZShpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4sIGdldFVuaXRUeXBlRnJvbU51bWJlcihOdW1iZXIoaXNzdWUubWluaW11bSkpLCBpc3N1ZS5pbmNsdXNpdmUgPz8gZmFsc2UsIFwiYmlnZ2VyXCIpO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmc/LnZlcmIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHtjYXBpdGFsaXplRmlyc3RDaGFyYWN0ZXIob3JpZ2luID8/IGlzc3VlLm9yaWdpbiA/PyBcInJlaWtcdTAxNjFtXHUwMTE3XCIpfSAke3NpemluZy52ZXJifSAke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRcdTAxNzNcIn1gO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwibmUgbWFcdTAxN0Vlc25pcyBrYWlwXCIgOiBcImRpZGVzbmlzIGthaXBcIjtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7Y2FwaXRhbGl6ZUZpcnN0Q2hhcmFjdGVyKG9yaWdpbiA/PyBpc3N1ZS5vcmlnaW4gPz8gXCJyZWlrXHUwMTYxbVx1MDExN1wiKX0gdHVyaSBiXHUwMTZCdGkgJHthZGp9ICR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZz8udW5pdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRWlsdXRcdTAxMTcgcHJpdmFsbyBwcmFzaWRcdTAxMTd0aSBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEVpbHV0XHUwMTE3IHByaXZhbG8gcGFzaWJhaWd0aSBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBFaWx1dFx1MDExNyBwcml2YWxvIFx1MDEyRnRyYXVrdGkgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBFaWx1dFx1MDExNyBwcml2YWxvIGF0aXRpa3RpICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5ldGVpc2luZ2FzICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBTa2FpXHUwMTBEaXVzIHByaXZhbG8gYlx1MDE2QnRpICR7aXNzdWUuZGl2aXNvcn0ga2FydG90aW5pcy5gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZWF0cGFcdTAxN0VpbnQke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiaVwiIDogXCJhc1wifSByYWt0JHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcImFpXCIgOiBcImFzXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJSYXN0YXMga2xhaWRpbmdhcyByYWt0YXNcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiS2xhaWRpbmdhIFx1MDEyRnZlc3Rpc1wiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luID0gcGFyc2VkVHlwZUZyb21UeXBlKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2NhcGl0YWxpemVGaXJzdENoYXJhY3RlcihvcmlnaW4gPz8gaXNzdWUub3JpZ2luID8/IFwicmVpa1x1MDE2MW1cdTAxMTdcIil9IHR1cmkga2xhaWRpbmdcdTAxMDUgXHUwMTJGdmVzdFx1MDEyRmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBcIktsYWlkaW5nYSBcdTAxMkZ2ZXN0aXNcIjtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJcdTA0MzdcdTA0M0RcdTA0MzBcdTA0NDZcdTA0MzhcIiwgdmVyYjogXCJcdTA0MzRcdTA0MzAgXHUwNDM4XHUwNDNDXHUwNDMwXHUwNDMwXHUwNDQyXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcIlx1MDQzMVx1MDQzMFx1MDQ1OFx1MDQ0Mlx1MDQzOFwiLCB2ZXJiOiBcIlx1MDQzNFx1MDQzMCBcdTA0MzhcdTA0M0NcdTA0MzBcdTA0MzBcdTA0NDJcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcIlx1MDQ0MVx1MDQ0Mlx1MDQzMFx1MDQzMlx1MDQzQVx1MDQzOFwiLCB2ZXJiOiBcIlx1MDQzNFx1MDQzMCBcdTA0MzhcdTA0M0NcdTA0MzBcdTA0MzBcdTA0NDJcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJcdTA0NDFcdTA0NDJcdTA0MzBcdTA0MzJcdTA0M0FcdTA0MzhcIiwgdmVyYjogXCJcdTA0MzRcdTA0MzAgXHUwNDM4XHUwNDNDXHUwNDMwXHUwNDMwXHUwNDQyXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJcdTA0MzFcdTA0NDBcdTA0M0VcdTA0NThcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDQzRFx1MDQzOFx1MDQzN1x1MDQzMFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdTA0MzJcdTA0M0RcdTA0MzVcdTA0NDFcIixcbiAgICAgICAgZW1haWw6IFwiXHUwNDMwXHUwNDM0XHUwNDQwXHUwNDM1XHUwNDQxXHUwNDMwIFx1MDQzRFx1MDQzMCBcdTA0MzUtXHUwNDNGXHUwNDNFXHUwNDQ4XHUwNDQyXHUwNDMwXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiXHUwNDM1XHUwNDNDXHUwNDNFXHUwNDVGXHUwNDM4XCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyBcdTA0MzRcdTA0MzBcdTA0NDJcdTA0NDNcdTA0M0MgXHUwNDM4IFx1MDQzMlx1MDQ0MFx1MDQzNVx1MDQzQ1x1MDQzNVwiLFxuICAgICAgICBkYXRlOiBcIklTTyBcdTA0MzRcdTA0MzBcdTA0NDJcdTA0NDNcdTA0M0NcIixcbiAgICAgICAgdGltZTogXCJJU08gXHUwNDMyXHUwNDQwXHUwNDM1XHUwNDNDXHUwNDM1XCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTyBcdTA0MzJcdTA0NDBcdTA0MzVcdTA0M0NcdTA0MzVcdTA0NDJcdTA0NDBcdTA0MzBcdTA0MzVcdTA0NUFcdTA0MzVcIixcbiAgICAgICAgaXB2NDogXCJJUHY0IFx1MDQzMFx1MDQzNFx1MDQ0MFx1MDQzNVx1MDQ0MVx1MDQzMFwiLFxuICAgICAgICBpcHY2OiBcIklQdjYgXHUwNDMwXHUwNDM0XHUwNDQwXHUwNDM1XHUwNDQxXHUwNDMwXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0IFx1MDQzRVx1MDQzRlx1MDQ0MVx1MDQzNVx1MDQzM1wiLFxuICAgICAgICBjaWRydjY6IFwiSVB2NiBcdTA0M0VcdTA0M0ZcdTA0NDFcdTA0MzVcdTA0MzNcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NC1cdTA0MzVcdTA0M0RcdTA0M0FcdTA0M0VcdTA0MzRcdTA0MzhcdTA0NDBcdTA0MzBcdTA0M0RcdTA0MzAgXHUwNDNEXHUwNDM4XHUwNDM3XHUwNDMwXCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJiYXNlNjR1cmwtXHUwNDM1XHUwNDNEXHUwNDNBXHUwNDNFXHUwNDM0XHUwNDM4XHUwNDQwXHUwNDMwXHUwNDNEXHUwNDMwIFx1MDQzRFx1MDQzOFx1MDQzN1x1MDQzMFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OIFx1MDQzRFx1MDQzOFx1MDQzN1x1MDQzMFwiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0IFx1MDQzMVx1MDQ0MFx1MDQzRVx1MDQ1OFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHUwNDMyXHUwNDNEXHUwNDM1XHUwNDQxXCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDEzXHUwNDQwXHUwNDM1XHUwNDQ4XHUwNDM1XHUwNDNEIFx1MDQzMlx1MDQzRFx1MDQzNVx1MDQ0MTogXHUwNDQxXHUwNDM1IFx1MDQzRVx1MDQ0N1x1MDQzNVx1MDQzQVx1MDQ0M1x1MDQzMlx1MDQzMCAke2lzc3VlLmV4cGVjdGVkfSwgXHUwNDNGXHUwNDQwXHUwNDM4XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDNFICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIC8vIHJldHVybiBgSW52YWxpZCBpbnB1dDogZXhwZWN0ZWQgJHtpc3N1ZS5leHBlY3RlZH0sIHJlY2VpdmVkICR7dXRpbC5nZXRQYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBJbnZhbGlkIGlucHV0OiBleHBlY3RlZCAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxM1x1MDQ0MFx1MDQzNVx1MDQ0OFx1MDQzMFx1MDQzRFx1MDQzMCBcdTA0M0VcdTA0M0ZcdTA0NDZcdTA0MzhcdTA0NThcdTA0MzA6IFx1MDQ0MVx1MDQzNSBcdTA0M0VcdTA0NDdcdTA0MzVcdTA0M0FcdTA0NDNcdTA0MzJcdTA0MzAgXHUwNDM1XHUwNDM0XHUwNDNEXHUwNDMwICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MUZcdTA0NDBcdTA0MzVcdTA0M0NcdTA0M0RcdTA0M0VcdTA0MzNcdTA0NDMgXHUwNDMzXHUwNDNFXHUwNDNCXHUwNDM1XHUwNDNDOiBcdTA0NDFcdTA0MzUgXHUwNDNFXHUwNDQ3XHUwNDM1XHUwNDNBXHUwNDQzXHUwNDMyXHUwNDMwICR7aXNzdWUub3JpZ2luID8/IFwiXHUwNDMyXHUwNDQwXHUwNDM1XHUwNDM0XHUwNDNEXHUwNDNFXHUwNDQxXHUwNDQyXHUwNDMwXCJ9IFx1MDQzNFx1MDQzMCBcdTA0MzhcdTA0M0NcdTA0MzAgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJcdTA0MzVcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcdTA0MzhcIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFGXHUwNDQwXHUwNDM1XHUwNDNDXHUwNDNEXHUwNDNFXHUwNDMzXHUwNDQzIFx1MDQzM1x1MDQzRVx1MDQzQlx1MDQzNVx1MDQzQzogXHUwNDQxXHUwNDM1IFx1MDQzRVx1MDQ0N1x1MDQzNVx1MDQzQVx1MDQ0M1x1MDQzMlx1MDQzMCAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MDQzMlx1MDQ0MFx1MDQzNVx1MDQzNFx1MDQzRFx1MDQzRVx1MDQ0MVx1MDQ0Mlx1MDQzMFwifSBcdTA0MzRcdTA0MzAgXHUwNDMxXHUwNDM4XHUwNDM0XHUwNDM1ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFGXHUwNDQwXHUwNDM1XHUwNDNDXHUwNDNEXHUwNDNFXHUwNDMzXHUwNDQzIFx1MDQzQ1x1MDQzMFx1MDQzQjogXHUwNDQxXHUwNDM1IFx1MDQzRVx1MDQ0N1x1MDQzNVx1MDQzQVx1MDQ0M1x1MDQzMlx1MDQzMCAke2lzc3VlLm9yaWdpbn0gXHUwNDM0XHUwNDMwIFx1MDQzOFx1MDQzQ1x1MDQzMCAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRlx1MDQ0MFx1MDQzNVx1MDQzQ1x1MDQzRFx1MDQzRVx1MDQzM1x1MDQ0MyBcdTA0M0NcdTA0MzBcdTA0M0I6IFx1MDQ0MVx1MDQzNSBcdTA0M0VcdTA0NDdcdTA0MzVcdTA0M0FcdTA0NDNcdTA0MzJcdTA0MzAgJHtpc3N1ZS5vcmlnaW59IFx1MDQzNFx1MDQzMCBcdTA0MzFcdTA0MzhcdTA0MzRcdTA0MzUgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzMlx1MDQzMFx1MDQzNlx1MDQzNVx1MDQ0N1x1MDQzQVx1MDQzMCBcdTA0M0RcdTA0MzhcdTA0MzdcdTA0MzA6IFx1MDQzQ1x1MDQzRVx1MDQ0MFx1MDQzMCBcdTA0MzRcdTA0MzAgXHUwNDM3XHUwNDMwXHUwNDNGXHUwNDNFXHUwNDQ3XHUwNDNEXHUwNDQzXHUwNDMyXHUwNDMwIFx1MDQ0MVx1MDQzRSBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzMlx1MDQzMFx1MDQzNlx1MDQzNVx1MDQ0N1x1MDQzQVx1MDQzMCBcdTA0M0RcdTA0MzhcdTA0MzdcdTA0MzA6IFx1MDQzQ1x1MDQzRVx1MDQ0MFx1MDQzMCBcdTA0MzRcdTA0MzAgXHUwNDM3XHUwNDMwXHUwNDMyXHUwNDQwXHUwNDQ4XHUwNDQzXHUwNDMyXHUwNDMwIFx1MDQ0MVx1MDQzRSBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0MzJcdTA0MzBcdTA0MzZcdTA0MzVcdTA0NDdcdTA0M0FcdTA0MzAgXHUwNDNEXHUwNDM4XHUwNDM3XHUwNDMwOiBcdTA0M0NcdTA0M0VcdTA0NDBcdTA0MzAgXHUwNDM0XHUwNDMwIFx1MDQzMlx1MDQzQVx1MDQzQlx1MDQ0M1x1MDQ0N1x1MDQ0M1x1MDQzMlx1MDQzMCBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzMlx1MDQzMFx1MDQzNlx1MDQzNVx1MDQ0N1x1MDQzQVx1MDQzMCBcdTA0M0RcdTA0MzhcdTA0MzdcdTA0MzA6IFx1MDQzQ1x1MDQzRVx1MDQ0MFx1MDQzMCBcdTA0MzRcdTA0MzAgXHUwNDNFXHUwNDM0XHUwNDMzXHUwNDNFXHUwNDMwXHUwNDQwXHUwNDMwIFx1MDQzRFx1MDQzMCBcdTA0M0ZcdTA0MzBcdTA0NDJcdTA0MzVcdTA0NDBcdTA0M0RcdTA0M0VcdTA0NDIgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgSW52YWxpZCAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDEzXHUwNDQwXHUwNDM1XHUwNDQ4XHUwNDM1XHUwNDNEIFx1MDQzMVx1MDQ0MFx1MDQzRVx1MDQ1ODogXHUwNDNDXHUwNDNFXHUwNDQwXHUwNDMwIFx1MDQzNFx1MDQzMCBcdTA0MzFcdTA0MzhcdTA0MzRcdTA0MzUgXHUwNDM0XHUwNDM1XHUwNDNCXHUwNDM4XHUwNDMyIFx1MDQ0MVx1MDQzRSAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlx1MDQxRFx1MDQzNVx1MDQzRlx1MDQ0MFx1MDQzNVx1MDQzRlx1MDQzRVx1MDQzN1x1MDQzRFx1MDQzMFx1MDQzNVx1MDQzRFx1MDQzOCBcdTA0M0FcdTA0M0JcdTA0NDNcdTA0NDdcdTA0MzVcdTA0MzJcdTA0MzhcIiA6IFwiXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDM1XHUwNDNGXHUwNDNFXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDM1XHUwNDNEIFx1MDQzQVx1MDQzQlx1MDQ0M1x1MDQ0N1wifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MTNcdTA0NDBcdTA0MzVcdTA0NDhcdTA0MzVcdTA0M0QgXHUwNDNBXHUwNDNCXHUwNDQzXHUwNDQ3IFx1MDQzMlx1MDQzRSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTA0MTNcdTA0NDBcdTA0MzVcdTA0NDhcdTA0MzVcdTA0M0QgXHUwNDMyXHUwNDNEXHUwNDM1XHUwNDQxXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MTNcdTA0NDBcdTA0MzVcdTA0NDhcdTA0M0RcdTA0MzAgXHUwNDMyXHUwNDQwXHUwNDM1XHUwNDM0XHUwNDNEXHUwNDNFXHUwNDQxXHUwNDQyIFx1MDQzMlx1MDQzRSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxM1x1MDQ0MFx1MDQzNVx1MDQ0OFx1MDQzNVx1MDQzRCBcdTA0MzJcdTA0M0RcdTA0MzVcdTA0NDFgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcImFrc2FyYVwiLCB2ZXJiOiBcIm1lbXB1bnlhaVwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJiYWl0XCIsIHZlcmI6IFwibWVtcHVueWFpXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJlbGVtZW5cIiwgdmVyYjogXCJtZW1wdW55YWlcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJlbGVtZW5cIiwgdmVyYjogXCJtZW1wdW55YWlcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIm5vbWJvclwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiaW5wdXRcIixcbiAgICAgICAgZW1haWw6IFwiYWxhbWF0IGUtbWVsXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwidGFyaWtoIG1hc2EgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwidGFyaWtoIElTT1wiLFxuICAgICAgICB0aW1lOiBcIm1hc2EgSVNPXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcInRlbXBvaCBJU09cIixcbiAgICAgICAgaXB2NDogXCJhbGFtYXQgSVB2NFwiLFxuICAgICAgICBpcHY2OiBcImFsYW1hdCBJUHY2XCIsXG4gICAgICAgIGNpZHJ2NDogXCJqdWxhdCBJUHY0XCIsXG4gICAgICAgIGNpZHJ2NjogXCJqdWxhdCBJUHY2XCIsXG4gICAgICAgIGJhc2U2NDogXCJzdHJpbmcgZGlrb2RrYW4gYmFzZTY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJzdHJpbmcgZGlrb2RrYW4gYmFzZTY0dXJsXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcInN0cmluZyBKU09OXCIsXG4gICAgICAgIGUxNjQ6IFwibm9tYm9yIEUuMTY0XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJpbnB1dFwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYElucHV0IHRpZGFrIHNhaDogZGlqYW5na2EgJHtpc3N1ZS5leHBlY3RlZH0sIGRpdGVyaW1hICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgSW5wdXQgdGlkYWsgc2FoOiBkaWphbmdrYSAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFBpbGloYW4gdGlkYWsgc2FoOiBkaWphbmdrYSBzYWxhaCBzYXR1IGRhcmlwYWRhICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUZXJsYWx1IGJlc2FyOiBkaWphbmdrYSAke2lzc3VlLm9yaWdpbiA/PyBcIm5pbGFpXCJ9ICR7c2l6aW5nLnZlcmJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVuXCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFRlcmxhbHUgYmVzYXI6IGRpamFuZ2thICR7aXNzdWUub3JpZ2luID8/IFwibmlsYWlcIn0gYWRhbGFoICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVGVybGFsdSBrZWNpbDogZGlqYW5na2EgJHtpc3N1ZS5vcmlnaW59ICR7c2l6aW5nLnZlcmJ9ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgVGVybGFsdSBrZWNpbDogZGlqYW5na2EgJHtpc3N1ZS5vcmlnaW59IGFkYWxhaCAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFN0cmluZyB0aWRhayBzYWg6IG1lc3RpIGJlcm11bGEgZGVuZ2FuIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBTdHJpbmcgdGlkYWsgc2FoOiBtZXN0aSBiZXJha2hpciBkZW5nYW4gXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgU3RyaW5nIHRpZGFrIHNhaDogbWVzdGkgbWVuZ2FuZHVuZ2kgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBTdHJpbmcgdGlkYWsgc2FoOiBtZXN0aSBzZXBhZGFuIGRlbmdhbiBjb3JhayAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH0gdGlkYWsgc2FoYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5vbWJvciB0aWRhayBzYWg6IHBlcmx1IGdhbmRhYW4gJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEt1bmNpIHRpZGFrIGRpa2VuYWxpOiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEt1bmNpIHRpZGFrIHNhaCBkYWxhbSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJJbnB1dCB0aWRhayBzYWhcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5pbGFpIHRpZGFrIHNhaCBkYWxhbSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYElucHV0IHRpZGFrIHNhaGA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwidGVrZW5zXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcImJ5dGVzXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJlbGVtZW50ZW5cIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJlbGVtZW50ZW5cIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcImdldGFsXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJpbnZvZXJcIixcbiAgICAgICAgZW1haWw6IFwiZW1haWxhZHJlc1wiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyBkYXR1bSBlbiB0aWpkXCIsXG4gICAgICAgIGRhdGU6IFwiSVNPIGRhdHVtXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPIHRpamRcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPIGR1dXJcIixcbiAgICAgICAgaXB2NDogXCJJUHY0LWFkcmVzXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2Ni1hZHJlc1wiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NC1iZXJlaWtcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYtYmVyZWlrXCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQtZ2Vjb2RlZXJkZSB0ZWtzdFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0IFVSTC1nZWNvZGVlcmRlIHRla3N0XCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gc3RyaW5nXCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQtbnVtbWVyXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJpbnZvZXJcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPbmdlbGRpZ2UgaW52b2VyOiB2ZXJ3YWNodCAke2lzc3VlLmV4cGVjdGVkfSwgb250dmluZyAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE9uZ2VsZGlnZSBpbnZvZXI6IHZlcndhY2h0ICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgT25nZWxkaWdlIG9wdGllOiB2ZXJ3YWNodCBcdTAwRTlcdTAwRTluIHZhbiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVGUgbGFuZzogdmVyd2FjaHQgZGF0ICR7aXNzdWUub3JpZ2luID8/IFwid2FhcmRlXCJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVudGVuXCJ9IGJldmF0YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFRlIGxhbmc6IHZlcndhY2h0IGRhdCAke2lzc3VlLm9yaWdpbiA/PyBcIndhYXJkZVwifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gaXNgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRlIGtvcnQ6IHZlcndhY2h0IGRhdCAke2lzc3VlLm9yaWdpbn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9IGJldmF0YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUZSBrb3J0OiB2ZXJ3YWNodCBkYXQgJHtpc3N1ZS5vcmlnaW59ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSBpc2A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBPbmdlbGRpZ2UgdGVrc3Q6IG1vZXQgbWV0IFwiJHtfaXNzdWUucHJlZml4fVwiIGJlZ2lubmVuYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgT25nZWxkaWdlIHRla3N0OiBtb2V0IG9wIFwiJHtfaXNzdWUuc3VmZml4fVwiIGVpbmRpZ2VuYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE9uZ2VsZGlnZSB0ZWtzdDogbW9ldCBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiIGJldmF0dGVuYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE9uZ2VsZGlnZSB0ZWtzdDogbW9ldCBvdmVyZWVua29tZW4gbWV0IHBhdHJvb24gJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgT25nZWxkaWc6ICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPbmdlbGRpZyBnZXRhbDogbW9ldCBlZW4gdmVlbHZvdWQgdmFuICR7aXNzdWUuZGl2aXNvcn0gemlqbmA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9uYmVrZW5kZSBrZXkke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwic1wiIDogXCJcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgT25nZWxkaWdlIGtleSBpbiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJPbmdlbGRpZ2UgaW52b2VyXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPbmdlbGRpZ2Ugd2FhcmRlIGluICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgT25nZWxkaWdlIGludm9lcmA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwidGVnblwiLCB2ZXJiOiBcIlx1MDBFNSBoYVwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJieXRlc1wiLCB2ZXJiOiBcIlx1MDBFNSBoYVwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiZWxlbWVudGVyXCIsIHZlcmI6IFwiXHUwMEU1IGlubmVob2xkZVwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcImVsZW1lbnRlclwiLCB2ZXJiOiBcIlx1MDBFNSBpbm5laG9sZGVcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcInRhbGxcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImxpc3RlXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcImlucHV0XCIsXG4gICAgICAgIGVtYWlsOiBcImUtcG9zdGFkcmVzc2VcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08gZGF0by0gb2cga2xva2tlc2xldHRcIixcbiAgICAgICAgZGF0ZTogXCJJU08tZGF0b1wiLFxuICAgICAgICB0aW1lOiBcIklTTy1rbG9ra2VzbGV0dFwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08tdmFyaWdoZXRcIixcbiAgICAgICAgaXB2NDogXCJJUHY0LW9tclx1MDBFNWRlXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2Ni1vbXJcdTAwRTVkZVwiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NC1zcGVrdGVyXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2LXNwZWt0ZXJcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NC1lbmtvZGV0IHN0cmVuZ1wiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsLWVua29kZXQgc3RyZW5nXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04tc3RyZW5nXCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQtbnVtbWVyXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJpbnB1dFwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWcgaW5wdXQ6IGZvcnZlbnRldCAke2lzc3VlLmV4cGVjdGVkfSwgZmlrayAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWcgdmVyZGk6IGZvcnZlbnRldCAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWcgdmFsZzogZm9ydmVudGV0IGVuIGF2ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBGb3Igc3Rvcih0KTogZm9ydmVudGV0ICR7aXNzdWUub3JpZ2luID8/IFwidmFsdWVcIn0gdGlsIFx1MDBFNSBoYSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRlclwifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBGb3Igc3Rvcih0KTogZm9ydmVudGV0ICR7aXNzdWUub3JpZ2luID8/IFwidmFsdWVcIn0gdGlsIFx1MDBFNSBoYSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEZvciBsaXRlKG4pOiBmb3J2ZW50ZXQgJHtpc3N1ZS5vcmlnaW59IHRpbCBcdTAwRTUgaGEgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBGb3IgbGl0ZShuKTogZm9ydmVudGV0ICR7aXNzdWUub3JpZ2lufSB0aWwgXHUwMEU1IGhhICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyBzdHJlbmc6IG1cdTAwRTUgc3RhcnRlIG1lZCBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyBzdHJlbmc6IG1cdTAwRTUgZW5kZSBtZWQgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyBzdHJlbmc6IG1cdTAwRTUgaW5uZWhvbGRlIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyBzdHJlbmc6IG1cdTAwRTUgbWF0Y2hlIG1cdTAwRjhuc3RlcmV0ICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWcgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWcgdGFsbDogbVx1MDBFNSB2XHUwMEU2cmUgZXQgbXVsdGlwbHVtIGF2ICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiVWtqZW50ZSBuXHUwMEY4a2xlclwiIDogXCJVa2plbnQgblx1MDBGOGtrZWxcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyBuXHUwMEY4a2tlbCBpICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlVneWxkaWcgaW5wdXRcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWcgdmVyZGkgaSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWcgaW5wdXRgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcImhhcmZcIiwgdmVyYjogXCJvbG1hbFx1MDEzMWRcdTAxMzFyXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcImJheXRcIiwgdmVyYjogXCJvbG1hbFx1MDEzMWRcdTAxMzFyXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJ1bnN1clwiLCB2ZXJiOiBcIm9sbWFsXHUwMTMxZFx1MDEzMXJcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJ1bnN1clwiLCB2ZXJiOiBcIm9sbWFsXHUwMTMxZFx1MDEzMXJcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIm51bWFyYVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwic2FmXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImdheWJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcImdpcmVuXCIsXG4gICAgICAgIGVtYWlsOiBcImVwb3N0YWdcdTAwRTJoXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPIGhlbmdcdTAwRTJtXHUwMTMxXCIsXG4gICAgICAgIGRhdGU6IFwiSVNPIHRhcmloaVwiLFxuICAgICAgICB0aW1lOiBcIklTTyB6YW1hblx1MDEzMVwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08gbVx1MDBGQ2RkZXRpXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NCBuaVx1MDE1Rlx1MDBFMm5cdTAxMzFcIixcbiAgICAgICAgaXB2NjogXCJJUHY2IG5pXHUwMTVGXHUwMEUyblx1MDEzMVwiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NCBtZW56aWxpXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2IG1lbnppbGlcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NC1cdTAxNUZpZnJlbGkgbWV0aW5cIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybC1cdTAxNUZpZnJlbGkgbWV0aW5cIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTiBtZXRpblwiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0IHNheVx1MDEzMXNcdTAxMzFcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcImdpcmVuXCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgRlx1MDBFMnNpdCBnaXJlbjogdW11bGFuICR7aXNzdWUuZXhwZWN0ZWR9LCBhbFx1MDEzMW5hbiAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICAvLyByZXR1cm4gYEZcdTAwRTJzaXQgZ2lyZW46IHVtdWxhbiAke2lzc3VlLmV4cGVjdGVkfSwgYWxcdTAxMzFuYW4gJHt1dGlsLmdldFBhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEZcdTAwRTJzaXQgZ2lyZW46IHVtdWxhbiAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYEZcdTAwRTJzaXQgdGVyY2loOiBtXHUwMEZCdGViZXJsZXIgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEZhemxhIGJcdTAwRkN5XHUwMEZDazogJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2YWx1ZVwifSwgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW50c1wifSBzYWhpcCBvbG1hbFx1MDEzMXlkXHUwMTMxLmA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBGYXpsYSBiXHUwMEZDeVx1MDBGQ2s6ICR7aXNzdWUub3JpZ2luID8/IFwidmFsdWVcIn0sICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSBvbG1hbFx1MDEzMXlkXHUwMTMxLmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRmF6bGEga1x1MDBGQ1x1MDBFN1x1MDBGQ2s6ICR7aXNzdWUub3JpZ2lufSwgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9IHNhaGlwIG9sbWFsXHUwMTMxeWRcdTAxMzEuYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBGYXpsYSBrXHUwMEZDXHUwMEU3XHUwMEZDazogJHtpc3N1ZS5vcmlnaW59LCAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gb2xtYWxcdTAxMzF5ZFx1MDEzMS5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEZcdTAwRTJzaXQgbWV0aW46IFwiJHtfaXNzdWUucHJlZml4fVwiIGlsZSBiYVx1MDE1RmxhbWFsXHUwMTMxLmA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRlx1MDBFMnNpdCBtZXRpbjogXCIke19pc3N1ZS5zdWZmaXh9XCIgaWxlIGJpdG1lbGkuYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEZcdTAwRTJzaXQgbWV0aW46IFwiJHtfaXNzdWUuaW5jbHVkZXN9XCIgaWh0aXZcdTAwRTIgZXRtZWxpLmA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBGXHUwMEUyc2l0IG1ldGluOiAke19pc3N1ZS5wYXR0ZXJufSBuYWtcdTAxNUZcdTAxMzFuYSB1eW1hbFx1MDEzMS5gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgRlx1MDBFMnNpdCAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgRlx1MDBFMnNpdCBzYXlcdTAxMzE6ICR7aXNzdWUuZGl2aXNvcn0ga2F0XHUwMTMxIG9sbWFsXHUwMTMxeWRcdTAxMzEuYDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVGFuXHUwMTMxbm1heWFuIGFuYWh0YXIgJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcInNcIiA6IFwiXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUub3JpZ2lufSBpXHUwMEU3aW4gdGFuXHUwMTMxbm1heWFuIGFuYWh0YXIgdmFyLmA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIkdpcmVuIHRhblx1MDEzMW5hbWFkXHUwMTMxLlwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW59IGlcdTAwRTdpbiB0YW5cdTAxMzFubWF5YW4ga1x1MDEzMXltZXQgdmFyLmA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgS1x1MDEzMXltZXQgdGFuXHUwMTMxbmFtYWRcdTAxMzEuYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJcdTA2MkFcdTA2NDhcdTA2QTlcdTA2NEFcIiwgdmVyYjogXCJcdTA2NDhcdTA2NDRcdTA2MzFcdTA2NEFcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjdDXHUwNjMzXCIsIHZlcmI6IFwiXHUwNjQ4XHUwNjQ0XHUwNjMxXHUwNjRBXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJcdTA2MkFcdTA2NDhcdTA2QTlcdTA2NEFcIiwgdmVyYjogXCJcdTA2NDhcdTA2NDRcdTA2MzFcdTA2NEFcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJcdTA2MkFcdTA2NDhcdTA2QTlcdTA2NEFcIiwgdmVyYjogXCJcdTA2NDhcdTA2NDRcdTA2MzFcdTA2NEFcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIlx1MDYzOVx1MDYyRlx1MDYyRlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwNjI3XHUwNjMxXHUwNkQwXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1MDY0OFx1MDYzMVx1MDY0OFx1MDYyRlx1MDY0QVwiLFxuICAgICAgICBlbWFpbDogXCJcdTA2MjhcdTA2MzFcdTA2Q0NcdTA2OUFcdTA2NDZcdTA2MjdcdTA2NDRcdTA2Q0NcdTA2QTlcIixcbiAgICAgICAgdXJsOiBcIlx1MDZDQ1x1MDY0OCBcdTA2MjJcdTA2MzEgXHUwNjI3XHUwNjQ0XCIsXG4gICAgICAgIGVtb2ppOiBcIlx1MDYyN1x1MDZDQ1x1MDY0NVx1MDY0OFx1MDYyQ1x1MDY0QVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJcdTA2NDZcdTA2Q0NcdTA2N0NcdTA2NDcgXHUwNjI3XHUwNjQ4IFx1MDY0OFx1MDYyRVx1MDYyQVwiLFxuICAgICAgICBkYXRlOiBcIlx1MDY0Nlx1MDZEMFx1MDY3Q1x1MDY0N1wiLFxuICAgICAgICB0aW1lOiBcIlx1MDY0OFx1MDYyRVx1MDYyQVwiLFxuICAgICAgICBkdXJhdGlvbjogXCJcdTA2NDVcdTA2NDhcdTA2MkZcdTA2NDdcIixcbiAgICAgICAgaXB2NDogXCJcdTA2MkYgSVB2NCBcdTA2N0VcdTA2MkFcdTA2NDdcIixcbiAgICAgICAgaXB2NjogXCJcdTA2MkYgSVB2NiBcdTA2N0VcdTA2MkFcdTA2NDdcIixcbiAgICAgICAgY2lkcnY0OiBcIlx1MDYyRiBJUHY0IFx1MDYzM1x1MDYyN1x1MDYyRFx1MDY0N1wiLFxuICAgICAgICBjaWRydjY6IFwiXHUwNjJGIElQdjYgXHUwNjMzXHUwNjI3XHUwNjJEXHUwNjQ3XCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQtZW5jb2RlZCBcdTA2NDVcdTA2MkFcdTA2NDZcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybC1lbmNvZGVkIFx1MDY0NVx1MDYyQVx1MDY0NlwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OIFx1MDY0NVx1MDYyQVx1MDY0NlwiLFxuICAgICAgICBlMTY0OiBcIlx1MDYyRiBFLjE2NCBcdTA2MzRcdTA2NDVcdTA2RDBcdTA2MzFcdTA2NDdcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1MDY0OFx1MDYzMVx1MDY0OFx1MDYyRlx1MDY0QVwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0Nlx1MDYyN1x1MDYzM1x1MDY0NSBcdTA2NDhcdTA2MzFcdTA2NDhcdTA2MkZcdTA2NEE6IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiAke2lzc3VlLmV4cGVjdGVkfSBcdTA2NDhcdTA2MjdcdTA2Q0MsIFx1MDY0NVx1MDZBQlx1MDYzMSAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfSBcdTA2MkFcdTA2MzFcdTA2NDRcdTA2MjdcdTA2MzNcdTA2NDcgXHUwNjM0XHUwNjQ4YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDZcdTA2MjdcdTA2MzNcdTA2NDUgXHUwNjQ4XHUwNjMxXHUwNjQ4XHUwNjJGXHUwNjRBOiBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfSBcdTA2NDhcdTA2MjdcdTA2Q0NgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0Nlx1MDYyN1x1MDYzM1x1MDY0NSBcdTA2MjdcdTA2NDZcdTA2MkFcdTA2MkVcdTA2MjdcdTA2Mjg6IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiBcdTA2Q0NcdTA2NDggXHUwNjQ0XHUwNjQ3ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfSBcdTA2ODVcdTA2MkVcdTA2NDcgXHUwNjQ4XHUwNjI3XHUwNkNDYDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjg5XHUwNkNDXHUwNjMxIFx1MDY0NFx1MDY0OFx1MDZDQzogJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTA2MjdcdTA2MzFcdTA2MzJcdTA2OUFcdTA2MkFcIn0gXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiXHUwNjM5XHUwNjQ2XHUwNjM1XHUwNjMxXHUwNjQ4XHUwNjQ2XHUwNjQ3XCJ9IFx1MDY0OFx1MDY0NFx1MDYzMVx1MDY0QWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjg5XHUwNkNDXHUwNjMxIFx1MDY0NFx1MDY0OFx1MDZDQzogJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTA2MjdcdTA2MzFcdTA2MzJcdTA2OUFcdTA2MkFcIn0gXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSBcdTA2NDhcdTA2NEFgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY4OVx1MDZDQ1x1MDYzMSBcdTA2QTlcdTA2NDhcdTA2ODZcdTA2NDZcdTA2Q0M6ICR7aXNzdWUub3JpZ2lufSBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9IFx1MDY0OFx1MDY0NFx1MDYzMVx1MDY0QWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjg5XHUwNkNDXHUwNjMxIFx1MDZBOVx1MDY0OFx1MDY4Nlx1MDY0Nlx1MDZDQzogJHtpc3N1ZS5vcmlnaW59IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gXHUwNjQ4XHUwNjRBYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0Nlx1MDYyN1x1MDYzM1x1MDY0NSBcdTA2NDVcdTA2MkFcdTA2NDY6IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiBcdTA2MkYgXCIke19pc3N1ZS5wcmVmaXh9XCIgXHUwNjMzXHUwNjMxXHUwNjQ3IFx1MDY3RVx1MDZDQ1x1MDY0NCBcdTA2MzRcdTA2NEFgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0Nlx1MDYyN1x1MDYzM1x1MDY0NSBcdTA2NDVcdTA2MkFcdTA2NDY6IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiBcdTA2MkYgXCIke19pc3N1ZS5zdWZmaXh9XCIgXHUwNjMzXHUwNjMxXHUwNjQ3IFx1MDY3RVx1MDYyN1x1MDZDQyBcdTA2MkFcdTA2NDcgXHUwNjQ4XHUwNjMxXHUwNjMzXHUwNjRBXHUwNjk2XHUwNjRBYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0Nlx1MDYyN1x1MDYzM1x1MDY0NSBcdTA2NDVcdTA2MkFcdTA2NDY6IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiIFx1MDY0OFx1MDY0NFx1MDYzMVx1MDY0QWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDZcdTA2MjdcdTA2MzNcdTA2NDUgXHUwNjQ1XHUwNjJBXHUwNjQ2OiBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgXHUwNjJGICR7X2lzc3VlLnBhdHRlcm59IFx1MDYzM1x1MDYzMVx1MDY0NyBcdTA2NDVcdTA2MzdcdTA2MjdcdTA2MjhcdTA2NDJcdTA2MkEgXHUwNjQ4XHUwNjQ0XHUwNjMxXHUwNjRBYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH0gXHUwNjQ2XHUwNjI3XHUwNjMzXHUwNjQ1IFx1MDYyRlx1MDZDQ2A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDZcdTA2MjdcdTA2MzNcdTA2NDUgXHUwNjM5XHUwNjJGXHUwNjJGOiBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgXHUwNjJGICR7aXNzdWUuZGl2aXNvcn0gXHUwNjQ1XHUwNjM2XHUwNjMxXHUwNjI4IFx1MDY0OFx1MDY0QWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0Nlx1MDYyN1x1MDYzM1x1MDY0NSAke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiXHUwNkE5XHUwNjQ0XHUwNkNDXHUwNjg5XHUwNjQ4XHUwNjQ2XHUwNjQ3XCIgOiBcIlx1MDZBOVx1MDY0NFx1MDZDQ1x1MDY4OVwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDZcdTA2MjdcdTA2MzNcdTA2NDUgXHUwNkE5XHUwNjQ0XHUwNkNDXHUwNjg5IFx1MDY3RVx1MDY0NyAke2lzc3VlLm9yaWdpbn0gXHUwNkE5XHUwNkQwYDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDZcdTA2MjdcdTA2MzNcdTA2NDVcdTA2NDcgXHUwNjQ4XHUwNjMxXHUwNjQ4XHUwNjJGXHUwNjRBYDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0Nlx1MDYyN1x1MDYzM1x1MDY0NSBcdTA2MzlcdTA2NDZcdTA2MzVcdTA2MzEgXHUwNjdFXHUwNjQ3ICR7aXNzdWUub3JpZ2lufSBcdTA2QTlcdTA2RDBgO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0Nlx1MDYyN1x1MDYzM1x1MDY0NVx1MDY0NyBcdTA2NDhcdTA2MzFcdTA2NDhcdTA2MkZcdTA2NEFgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcInpuYWtcdTAwRjN3XCIsIHZlcmI6IFwibWllXHUwMTA3XCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcImJhanRcdTAwRjN3XCIsIHZlcmI6IFwibWllXHUwMTA3XCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJlbGVtZW50XHUwMEYzd1wiLCB2ZXJiOiBcIm1pZVx1MDEwN1wiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcImVsZW1lbnRcdTAwRjN3XCIsIHZlcmI6IFwibWllXHUwMTA3XCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJsaWN6YmFcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRhYmxpY2FcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwid3lyYVx1MDE3Q2VuaWVcIixcbiAgICAgICAgZW1haWw6IFwiYWRyZXMgZW1haWxcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJkYXRhIGkgZ29kemluYSB3IGZvcm1hY2llIElTT1wiLFxuICAgICAgICBkYXRlOiBcImRhdGEgdyBmb3JtYWNpZSBJU09cIixcbiAgICAgICAgdGltZTogXCJnb2R6aW5hIHcgZm9ybWFjaWUgSVNPXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcImN6YXMgdHJ3YW5pYSBJU09cIixcbiAgICAgICAgaXB2NDogXCJhZHJlcyBJUHY0XCIsXG4gICAgICAgIGlwdjY6IFwiYWRyZXMgSVB2NlwiLFxuICAgICAgICBjaWRydjQ6IFwiemFrcmVzIElQdjRcIixcbiAgICAgICAgY2lkcnY2OiBcInpha3JlcyBJUHY2XCIsXG4gICAgICAgIGJhc2U2NDogXCJjaVx1MDEwNWcgem5ha1x1MDBGM3cgemFrb2Rvd2FueSB3IGZvcm1hY2llIGJhc2U2NFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiY2lcdTAxMDVnIHpuYWtcdTAwRjN3IHpha29kb3dhbnkgdyBmb3JtYWNpZSBiYXNlNjR1cmxcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiY2lcdTAxMDVnIHpuYWtcdTAwRjN3IHcgZm9ybWFjaWUgSlNPTlwiLFxuICAgICAgICBlMTY0OiBcImxpY3piYSBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwid2VqXHUwMTVCY2llXCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmllcHJhd2lkXHUwMTQyb3dlIGRhbmUgd2VqXHUwMTVCY2lvd2U6IG9jemVraXdhbm8gJHtpc3N1ZS5leHBlY3RlZH0sIG90cnp5bWFubyAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE5pZXByYXdpZFx1MDE0Mm93ZSBkYW5lIHdlalx1MDE1QmNpb3dlOiBvY3pla2l3YW5vICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgTmllcHJhd2lkXHUwMTQyb3dhIG9wY2phOiBvY3pla2l3YW5vIGplZG5laiB6IHdhcnRvXHUwMTVCY2kgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgWmEgZHVcdTAxN0NhIHdhcnRvXHUwMTVCXHUwMTA3OiBvY3pla2l3YW5vLCBcdTAxN0NlICR7aXNzdWUub3JpZ2luID8/IFwid2FydG9cdTAxNUJcdTAxMDdcIn0gYlx1MDExOWR6aWUgbWllXHUwMTA3ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVudFx1MDBGM3dcIn1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFpieXQgZHVcdTAxN0MoeS9hL2UpOiBvY3pla2l3YW5vLCBcdTAxN0NlICR7aXNzdWUub3JpZ2luID8/IFwid2FydG9cdTAxNUJcdTAxMDdcIn0gYlx1MDExOWR6aWUgd3lub3NpXHUwMTA3ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgWmEgbWFcdTAxNDJhIHdhcnRvXHUwMTVCXHUwMTA3OiBvY3pla2l3YW5vLCBcdTAxN0NlICR7aXNzdWUub3JpZ2luID8/IFwid2FydG9cdTAxNUJcdTAxMDdcIn0gYlx1MDExOWR6aWUgbWllXHUwMTA3ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVudFx1MDBGM3dcIn1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFpieXQgbWFcdTAxNDIoeS9hL2UpOiBvY3pla2l3YW5vLCBcdTAxN0NlICR7aXNzdWUub3JpZ2luID8/IFwid2FydG9cdTAxNUJcdTAxMDdcIn0gYlx1MDExOWR6aWUgd3lub3NpXHUwMTA3ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTmllcHJhd2lkXHUwMTQyb3d5IGNpXHUwMTA1ZyB6bmFrXHUwMEYzdzogbXVzaSB6YWN6eW5hXHUwMTA3IHNpXHUwMTE5IG9kIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBOaWVwcmF3aWRcdTAxNDJvd3kgY2lcdTAxMDVnIHpuYWtcdTAwRjN3OiBtdXNpIGtvXHUwMTQ0Y3p5XHUwMTA3IHNpXHUwMTE5IG5hIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE5pZXByYXdpZFx1MDE0Mm93eSBjaVx1MDEwNWcgem5ha1x1MDBGM3c6IG11c2kgemF3aWVyYVx1MDEwNyBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE5pZXByYXdpZFx1MDE0Mm93eSBjaVx1MDEwNWcgem5ha1x1MDBGM3c6IG11c2kgb2Rwb3dpYWRhXHUwMTA3IHd6b3Jjb3dpICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5pZXByYXdpZFx1MDE0Mm93KHkvYS9lKSAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmllcHJhd2lkXHUwMTQyb3dhIGxpY3piYTogbXVzaSBieVx1MDEwNyB3aWVsb2tyb3Rub1x1MDE1QmNpXHUwMTA1ICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOaWVyb3pwb3puYW5lIGtsdWN6ZSR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJzXCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOaWVwcmF3aWRcdTAxNDJvd3kga2x1Y3ogdyAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJOaWVwcmF3aWRcdTAxNDJvd2UgZGFuZSB3ZWpcdTAxNUJjaW93ZVwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmllcHJhd2lkXHUwMTQyb3dhIHdhcnRvXHUwMTVCXHUwMTA3IHcgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOaWVwcmF3aWRcdTAxNDJvd2UgZGFuZSB3ZWpcdTAxNUJjaW93ZWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiY2FyYWN0ZXJlc1wiLCB2ZXJiOiBcInRlclwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJieXRlc1wiLCB2ZXJiOiBcInRlclwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiaXRlbnNcIiwgdmVyYjogXCJ0ZXJcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJpdGVuc1wiLCB2ZXJiOiBcInRlclwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwiblx1MDBGQW1lcm9cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bG9cIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcInBhZHJcdTAwRTNvXCIsXG4gICAgICAgIGVtYWlsOiBcImVuZGVyZVx1MDBFN28gZGUgZS1tYWlsXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiZGF0YSBlIGhvcmEgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwiZGF0YSBJU09cIixcbiAgICAgICAgdGltZTogXCJob3JhIElTT1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJkdXJhXHUwMEU3XHUwMEUzbyBJU09cIixcbiAgICAgICAgaXB2NDogXCJlbmRlcmVcdTAwRTdvIElQdjRcIixcbiAgICAgICAgaXB2NjogXCJlbmRlcmVcdTAwRTdvIElQdjZcIixcbiAgICAgICAgY2lkcnY0OiBcImZhaXhhIGRlIElQdjRcIixcbiAgICAgICAgY2lkcnY2OiBcImZhaXhhIGRlIElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcInRleHRvIGNvZGlmaWNhZG8gZW0gYmFzZTY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJVUkwgY29kaWZpY2FkYSBlbSBiYXNlNjRcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwidGV4dG8gSlNPTlwiLFxuICAgICAgICBlMTY0OiBcIm5cdTAwRkFtZXJvIEUuMTY0XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJlbnRyYWRhXCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVGlwbyBpbnZcdTAwRTFsaWRvOiBlc3BlcmFkbyAke2lzc3VlLmV4cGVjdGVkfSwgcmVjZWJpZG8gJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBFbnRyYWRhIGludlx1MDBFMWxpZGE6IGVzcGVyYWRvICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgT3BcdTAwRTdcdTAwRTNvIGludlx1MDBFMWxpZGE6IGVzcGVyYWRhIHVtYSBkYXMgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE11aXRvIGdyYW5kZTogZXNwZXJhZG8gcXVlICR7aXNzdWUub3JpZ2luID8/IFwidmFsb3JcIn0gdGl2ZXNzZSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRvc1wifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBNdWl0byBncmFuZGU6IGVzcGVyYWRvIHF1ZSAke2lzc3VlLm9yaWdpbiA/PyBcInZhbG9yXCJ9IGZvc3NlICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTXVpdG8gcGVxdWVubzogZXNwZXJhZG8gcXVlICR7aXNzdWUub3JpZ2lufSB0aXZlc3NlICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgTXVpdG8gcGVxdWVubzogZXNwZXJhZG8gcXVlICR7aXNzdWUub3JpZ2lufSBmb3NzZSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRleHRvIGludlx1MDBFMWxpZG86IGRldmUgY29tZVx1MDBFN2FyIGNvbSBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVGV4dG8gaW52XHUwMEUxbGlkbzogZGV2ZSB0ZXJtaW5hciBjb20gXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVGV4dG8gaW52XHUwMEUxbGlkbzogZGV2ZSBpbmNsdWlyIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVGV4dG8gaW52XHUwMEUxbGlkbzogZGV2ZSBjb3JyZXNwb25kZXIgYW8gcGFkclx1MDBFM28gJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9IGludlx1MDBFMWxpZG9gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTlx1MDBGQW1lcm8gaW52XHUwMEUxbGlkbzogZGV2ZSBzZXIgbVx1MDBGQWx0aXBsbyBkZSAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgQ2hhdmUke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwic1wiIDogXCJcIn0gZGVzY29uaGVjaWRhJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcInNcIiA6IFwiXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYENoYXZlIGludlx1MDBFMWxpZGEgZW0gJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiRW50cmFkYSBpbnZcdTAwRTFsaWRhXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBWYWxvciBpbnZcdTAwRTFsaWRvIGVtICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgQ2FtcG8gaW52XHUwMEUxbGlkb2A7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuZnVuY3Rpb24gZ2V0UnVzc2lhblBsdXJhbChjb3VudCwgb25lLCBmZXcsIG1hbnkpIHtcbiAgICBjb25zdCBhYnNDb3VudCA9IE1hdGguYWJzKGNvdW50KTtcbiAgICBjb25zdCBsYXN0RGlnaXQgPSBhYnNDb3VudCAlIDEwO1xuICAgIGNvbnN0IGxhc3RUd29EaWdpdHMgPSBhYnNDb3VudCAlIDEwMDtcbiAgICBpZiAobGFzdFR3b0RpZ2l0cyA+PSAxMSAmJiBsYXN0VHdvRGlnaXRzIDw9IDE5KSB7XG4gICAgICAgIHJldHVybiBtYW55O1xuICAgIH1cbiAgICBpZiAobGFzdERpZ2l0ID09PSAxKSB7XG4gICAgICAgIHJldHVybiBvbmU7XG4gICAgfVxuICAgIGlmIChsYXN0RGlnaXQgPj0gMiAmJiBsYXN0RGlnaXQgPD0gNCkge1xuICAgICAgICByZXR1cm4gZmV3O1xuICAgIH1cbiAgICByZXR1cm4gbWFueTtcbn1cbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzoge1xuICAgICAgICAgICAgdW5pdDoge1xuICAgICAgICAgICAgICAgIG9uZTogXCJcdTA0NDFcdTA0MzhcdTA0M0NcdTA0MzJcdTA0M0VcdTA0M0JcIixcbiAgICAgICAgICAgICAgICBmZXc6IFwiXHUwNDQxXHUwNDM4XHUwNDNDXHUwNDMyXHUwNDNFXHUwNDNCXHUwNDMwXCIsXG4gICAgICAgICAgICAgICAgbWFueTogXCJcdTA0NDFcdTA0MzhcdTA0M0NcdTA0MzJcdTA0M0VcdTA0M0JcdTA0M0VcdTA0MzJcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MDQzOFx1MDQzQ1x1MDQzNVx1MDQ0Mlx1MDQ0Q1wiLFxuICAgICAgICB9LFxuICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgICB1bml0OiB7XG4gICAgICAgICAgICAgICAgb25lOiBcIlx1MDQzMVx1MDQzMFx1MDQzOVx1MDQ0MlwiLFxuICAgICAgICAgICAgICAgIGZldzogXCJcdTA0MzFcdTA0MzBcdTA0MzlcdTA0NDJcdTA0MzBcIixcbiAgICAgICAgICAgICAgICBtYW55OiBcIlx1MDQzMVx1MDQzMFx1MDQzOVx1MDQ0MlwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZlcmI6IFwiXHUwNDM4XHUwNDNDXHUwNDM1XHUwNDQyXHUwNDRDXCIsXG4gICAgICAgIH0sXG4gICAgICAgIGFycmF5OiB7XG4gICAgICAgICAgICB1bml0OiB7XG4gICAgICAgICAgICAgICAgb25lOiBcIlx1MDQ0RFx1MDQzQlx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0MlwiLFxuICAgICAgICAgICAgICAgIGZldzogXCJcdTA0NERcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcdTA0MzBcIixcbiAgICAgICAgICAgICAgICBtYW55OiBcIlx1MDQ0RFx1MDQzQlx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0Mlx1MDQzRVx1MDQzMlwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZlcmI6IFwiXHUwNDM4XHUwNDNDXHUwNDM1XHUwNDQyXHUwNDRDXCIsXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgICAgdW5pdDoge1xuICAgICAgICAgICAgICAgIG9uZTogXCJcdTA0NERcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcIixcbiAgICAgICAgICAgICAgICBmZXc6IFwiXHUwNDREXHUwNDNCXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDQyXHUwNDMwXCIsXG4gICAgICAgICAgICAgICAgbWFueTogXCJcdTA0NERcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcdTA0M0VcdTA0MzJcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MDQzOFx1MDQzQ1x1MDQzNVx1MDQ0Mlx1MDQ0Q1wiLFxuICAgICAgICB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIlx1MDQ0N1x1MDQzOFx1MDQ0MVx1MDQzQlx1MDQzRVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwNDNDXHUwNDMwXHUwNDQxXHUwNDQxXHUwNDM4XHUwNDMyXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1MDQzMlx1MDQzMlx1MDQzRVx1MDQzNFwiLFxuICAgICAgICBlbWFpbDogXCJlbWFpbCBcdTA0MzBcdTA0MzRcdTA0NDBcdTA0MzVcdTA0NDFcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJcdTA0NERcdTA0M0NcdTA0M0VcdTA0MzRcdTA0MzdcdTA0MzhcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPIFx1MDQzNFx1MDQzMFx1MDQ0Mlx1MDQzMCBcdTA0MzggXHUwNDMyXHUwNDQwXHUwNDM1XHUwNDNDXHUwNDRGXCIsXG4gICAgICAgIGRhdGU6IFwiSVNPIFx1MDQzNFx1MDQzMFx1MDQ0Mlx1MDQzMFwiLFxuICAgICAgICB0aW1lOiBcIklTTyBcdTA0MzJcdTA0NDBcdTA0MzVcdTA0M0NcdTA0NEZcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPIFx1MDQzNFx1MDQzQlx1MDQzOFx1MDQ0Mlx1MDQzNVx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzRVx1MDQ0MVx1MDQ0Mlx1MDQ0Q1wiLFxuICAgICAgICBpcHY0OiBcIklQdjQgXHUwNDMwXHUwNDM0XHUwNDQwXHUwNDM1XHUwNDQxXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2NiBcdTA0MzBcdTA0MzRcdTA0NDBcdTA0MzVcdTA0NDFcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQgXHUwNDM0XHUwNDM4XHUwNDMwXHUwNDNGXHUwNDMwXHUwNDM3XHUwNDNFXHUwNDNEXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2IFx1MDQzNFx1MDQzOFx1MDQzMFx1MDQzRlx1MDQzMFx1MDQzN1x1MDQzRVx1MDQzRFwiLFxuICAgICAgICBiYXNlNjQ6IFwiXHUwNDQxXHUwNDQyXHUwNDQwXHUwNDNFXHUwNDNBXHUwNDMwIFx1MDQzMiBcdTA0NDRcdTA0M0VcdTA0NDBcdTA0M0NcdTA0MzBcdTA0NDJcdTA0MzUgYmFzZTY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJcdTA0NDFcdTA0NDJcdTA0NDBcdTA0M0VcdTA0M0FcdTA0MzAgXHUwNDMyIFx1MDQ0NFx1MDQzRVx1MDQ0MFx1MDQzQ1x1MDQzMFx1MDQ0Mlx1MDQzNSBiYXNlNjR1cmxcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTiBcdTA0NDFcdTA0NDJcdTA0NDBcdTA0M0VcdTA0M0FcdTA0MzBcIixcbiAgICAgICAgZTE2NDogXCJcdTA0M0RcdTA0M0VcdTA0M0NcdTA0MzVcdTA0NDAgRS4xNjRcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1MDQzMlx1MDQzMlx1MDQzRVx1MDQzNFwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQzRFx1MDQ0Qlx1MDQzOSBcdTA0MzJcdTA0MzJcdTA0M0VcdTA0MzQ6IFx1MDQzRVx1MDQzNlx1MDQzOFx1MDQzNFx1MDQzMFx1MDQzQlx1MDQzRVx1MDQ0MVx1MDQ0QyAke2lzc3VlLmV4cGVjdGVkfSwgXHUwNDNGXHUwNDNFXHUwNDNCXHUwNDQzXHUwNDQ3XHUwNDM1XHUwNDNEXHUwNDNFICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDMyXHUwNDM1XHUwNDQwXHUwNDNEXHUwNDRCXHUwNDM5IFx1MDQzMlx1MDQzMlx1MDQzRVx1MDQzNDogXHUwNDNFXHUwNDM2XHUwNDM4XHUwNDM0XHUwNDMwXHUwNDNCXHUwNDNFXHUwNDQxXHUwNDRDICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDMyXHUwNDM1XHUwNDQwXHUwNDNEXHUwNDRCXHUwNDM5IFx1MDQzMlx1MDQzMFx1MDQ0MFx1MDQzOFx1MDQzMFx1MDQzRFx1MDQ0MjogXHUwNDNFXHUwNDM2XHUwNDM4XHUwNDM0XHUwNDMwXHUwNDNCXHUwNDNFXHUwNDQxXHUwNDRDIFx1MDQzRVx1MDQzNFx1MDQzRFx1MDQzRSBcdTA0MzhcdTA0MzcgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heFZhbHVlID0gTnVtYmVyKGlzc3VlLm1heGltdW0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1bml0ID0gZ2V0UnVzc2lhblBsdXJhbChtYXhWYWx1ZSwgc2l6aW5nLnVuaXQub25lLCBzaXppbmcudW5pdC5mZXcsIHNpemluZy51bml0Lm1hbnkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQyMVx1MDQzQlx1MDQzOFx1MDQ0OFx1MDQzQVx1MDQzRVx1MDQzQyBcdTA0MzFcdTA0M0VcdTA0M0JcdTA0NENcdTA0NDhcdTA0M0VcdTA0MzUgXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDQ3XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1OiBcdTA0M0VcdTA0MzZcdTA0MzhcdTA0MzRcdTA0MzBcdTA0M0JcdTA0M0VcdTA0NDFcdTA0NEMsIFx1MDQ0N1x1MDQ0Mlx1MDQzRSAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MDQzN1x1MDQzRFx1MDQzMFx1MDQ0N1x1MDQzNVx1MDQzRFx1MDQzOFx1MDQzNVwifSBcdTA0MzFcdTA0NDNcdTA0MzRcdTA0MzVcdTA0NDIgXHUwNDM4XHUwNDNDXHUwNDM1XHUwNDQyXHUwNDRDICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3VuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MjFcdTA0M0JcdTA0MzhcdTA0NDhcdTA0M0FcdTA0M0VcdTA0M0MgXHUwNDMxXHUwNDNFXHUwNDNCXHUwNDRDXHUwNDQ4XHUwNDNFXHUwNDM1IFx1MDQzN1x1MDQzRFx1MDQzMFx1MDQ0N1x1MDQzNVx1MDQzRFx1MDQzOFx1MDQzNTogXHUwNDNFXHUwNDM2XHUwNDM4XHUwNDM0XHUwNDMwXHUwNDNCXHUwNDNFXHUwNDQxXHUwNDRDLCBcdTA0NDdcdTA0NDJcdTA0M0UgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTA0MzdcdTA0M0RcdTA0MzBcdTA0NDdcdTA0MzVcdTA0M0RcdTA0MzhcdTA0MzVcIn0gXHUwNDMxXHUwNDQzXHUwNDM0XHUwNDM1XHUwNDQyICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pblZhbHVlID0gTnVtYmVyKGlzc3VlLm1pbmltdW0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1bml0ID0gZ2V0UnVzc2lhblBsdXJhbChtaW5WYWx1ZSwgc2l6aW5nLnVuaXQub25lLCBzaXppbmcudW5pdC5mZXcsIHNpemluZy51bml0Lm1hbnkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQyMVx1MDQzQlx1MDQzOFx1MDQ0OFx1MDQzQVx1MDQzRVx1MDQzQyBcdTA0M0NcdTA0MzBcdTA0M0JcdTA0MzVcdTA0M0RcdTA0NENcdTA0M0FcdTA0M0VcdTA0MzUgXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDQ3XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1OiBcdTA0M0VcdTA0MzZcdTA0MzhcdTA0MzRcdTA0MzBcdTA0M0JcdTA0M0VcdTA0NDFcdTA0NEMsIFx1MDQ0N1x1MDQ0Mlx1MDQzRSAke2lzc3VlLm9yaWdpbn0gXHUwNDMxXHUwNDQzXHUwNDM0XHUwNDM1XHUwNDQyIFx1MDQzOFx1MDQzQ1x1MDQzNVx1MDQ0Mlx1MDQ0QyAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHt1bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDIxXHUwNDNCXHUwNDM4XHUwNDQ4XHUwNDNBXHUwNDNFXHUwNDNDIFx1MDQzQ1x1MDQzMFx1MDQzQlx1MDQzNVx1MDQzRFx1MDQ0Q1x1MDQzQVx1MDQzRVx1MDQzNSBcdTA0MzdcdTA0M0RcdTA0MzBcdTA0NDdcdTA0MzVcdTA0M0RcdTA0MzhcdTA0MzU6IFx1MDQzRVx1MDQzNlx1MDQzOFx1MDQzNFx1MDQzMFx1MDQzQlx1MDQzRVx1MDQ0MVx1MDQ0QywgXHUwNDQ3XHUwNDQyXHUwNDNFICR7aXNzdWUub3JpZ2lufSBcdTA0MzFcdTA0NDNcdTA0MzRcdTA0MzVcdTA0NDIgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0MzJcdTA0MzVcdTA0NDBcdTA0M0RcdTA0MzBcdTA0NEYgXHUwNDQxXHUwNDQyXHUwNDQwXHUwNDNFXHUwNDNBXHUwNDMwOiBcdTA0MzRcdTA0M0VcdTA0M0JcdTA0MzZcdTA0M0RcdTA0MzAgXHUwNDNEXHUwNDMwXHUwNDQ3XHUwNDM4XHUwNDNEXHUwNDMwXHUwNDQyXHUwNDRDXHUwNDQxXHUwNDRGIFx1MDQ0MSBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDMyXHUwNDM1XHUwNDQwXHUwNDNEXHUwNDMwXHUwNDRGIFx1MDQ0MVx1MDQ0Mlx1MDQ0MFx1MDQzRVx1MDQzQVx1MDQzMDogXHUwNDM0XHUwNDNFXHUwNDNCXHUwNDM2XHUwNDNEXHUwNDMwIFx1MDQzN1x1MDQzMFx1MDQzQVx1MDQzMFx1MDQzRFx1MDQ0N1x1MDQzOFx1MDQzMlx1MDQzMFx1MDQ0Mlx1MDQ0Q1x1MDQ0MVx1MDQ0RiBcdTA0M0RcdTA0MzAgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDMyXHUwNDM1XHUwNDQwXHUwNDNEXHUwNDMwXHUwNDRGIFx1MDQ0MVx1MDQ0Mlx1MDQ0MFx1MDQzRVx1MDQzQVx1MDQzMDogXHUwNDM0XHUwNDNFXHUwNDNCXHUwNDM2XHUwNDNEXHUwNDMwIFx1MDQ0MVx1MDQzRVx1MDQzNFx1MDQzNVx1MDQ0MFx1MDQzNlx1MDQzMFx1MDQ0Mlx1MDQ0QyBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQzRFx1MDQzMFx1MDQ0RiBcdTA0NDFcdTA0NDJcdTA0NDBcdTA0M0VcdTA0M0FcdTA0MzA6IFx1MDQzNFx1MDQzRVx1MDQzQlx1MDQzNlx1MDQzRFx1MDQzMCBcdTA0NDFcdTA0M0VcdTA0M0VcdTA0NDJcdTA0MzJcdTA0MzVcdTA0NDJcdTA0NDFcdTA0NDJcdTA0MzJcdTA0M0VcdTA0MzJcdTA0MzBcdTA0NDJcdTA0NEMgXHUwNDQ4XHUwNDMwXHUwNDMxXHUwNDNCXHUwNDNFXHUwNDNEXHUwNDQzICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQzRFx1MDQ0Qlx1MDQzOSAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDMyXHUwNDM1XHUwNDQwXHUwNDNEXHUwNDNFXHUwNDM1IFx1MDQ0N1x1MDQzOFx1MDQ0MVx1MDQzQlx1MDQzRTogXHUwNDM0XHUwNDNFXHUwNDNCXHUwNDM2XHUwNDNEXHUwNDNFIFx1MDQzMVx1MDQ0Qlx1MDQ0Mlx1MDQ0QyBcdTA0M0FcdTA0NDBcdTA0MzBcdTA0NDJcdTA0M0RcdTA0NEJcdTA0M0MgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQ0MFx1MDQzMFx1MDQ0MVx1MDQzRlx1MDQzRVx1MDQzN1x1MDQzRFx1MDQzMFx1MDQzRFx1MDQzRCR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJcdTA0NEJcdTA0MzVcIiA6IFwiXHUwNDRCXHUwNDM5XCJ9IFx1MDQzQVx1MDQzQlx1MDQ0RVx1MDQ0NyR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJcdTA0MzhcIiA6IFwiXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQzRFx1MDQ0Qlx1MDQzOSBcdTA0M0FcdTA0M0JcdTA0NEVcdTA0NDcgXHUwNDMyICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDQxRFx1MDQzNVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQzRFx1MDQ0Qlx1MDQzNSBcdTA0MzJcdTA0NDVcdTA0M0VcdTA0MzRcdTA0M0RcdTA0NEJcdTA0MzUgXHUwNDM0XHUwNDMwXHUwNDNEXHUwNDNEXHUwNDRCXHUwNDM1XCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0MzJcdTA0MzVcdTA0NDBcdTA0M0RcdTA0M0VcdTA0MzUgXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDQ3XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1IFx1MDQzMiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQzRFx1MDQ0Qlx1MDQzNSBcdTA0MzJcdTA0NDVcdTA0M0VcdTA0MzRcdTA0M0RcdTA0NEJcdTA0MzUgXHUwNDM0XHUwNDMwXHUwNDNEXHUwNDNEXHUwNDRCXHUwNDM1YDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJ6bmFrb3ZcIiwgdmVyYjogXCJpbWV0aVwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJiYWp0b3ZcIiwgdmVyYjogXCJpbWV0aVwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiZWxlbWVudG92XCIsIHZlcmI6IFwiaW1ldGlcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJlbGVtZW50b3ZcIiwgdmVyYjogXCJpbWV0aVwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwiXHUwMTYxdGV2aWxvXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0YWJlbGFcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwidm5vc1wiLFxuICAgICAgICBlbWFpbDogXCJlLXBvXHUwMTYxdG5pIG5hc2xvdlwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyBkYXR1bSBpbiBcdTAxMERhc1wiLFxuICAgICAgICBkYXRlOiBcIklTTyBkYXR1bVwiLFxuICAgICAgICB0aW1lOiBcIklTTyBcdTAxMERhc1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08gdHJhamFuamVcIixcbiAgICAgICAgaXB2NDogXCJJUHY0IG5hc2xvdlwiLFxuICAgICAgICBpcHY2OiBcIklQdjYgbmFzbG92XCIsXG4gICAgICAgIGNpZHJ2NDogXCJvYnNlZyBJUHY0XCIsXG4gICAgICAgIGNpZHJ2NjogXCJvYnNlZyBJUHY2XCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQga29kaXJhbiBuaXpcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybCBrb2RpcmFuIG5pelwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OIG5pelwiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0IFx1MDE2MXRldmlsa2FcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcInZub3NcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZlbGphdmVuIHZub3M6IHByaVx1MDEwRGFrb3Zhbm8gJHtpc3N1ZS5leHBlY3RlZH0sIHByZWpldG8gJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZlbGphdmVuIHZub3M6IHByaVx1MDEwRGFrb3Zhbm8gJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZlbGphdm5hIG1vXHUwMTdFbm9zdDogcHJpXHUwMTBEYWtvdmFubyBlbm8gaXptZWQgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFByZXZlbGlrbzogcHJpXHUwMTBEYWtvdmFubywgZGEgYm8gJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2cmVkbm9zdFwifSBpbWVsbyAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRvdlwifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBQcmV2ZWxpa286IHByaVx1MDEwRGFrb3Zhbm8sIGRhIGJvICR7aXNzdWUub3JpZ2luID8/IFwidnJlZG5vc3RcIn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBQcmVtYWpobm86IHByaVx1MDEwRGFrb3Zhbm8sIGRhIGJvICR7aXNzdWUub3JpZ2lufSBpbWVsbyAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFByZW1hamhubzogcHJpXHUwMTBEYWtvdmFubywgZGEgYm8gJHtpc3N1ZS5vcmlnaW59ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZlbGphdmVuIG5pejogbW9yYSBzZSB6YVx1MDEwRGV0aSB6IFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTmV2ZWxqYXZlbiBuaXo6IG1vcmEgc2Uga29uXHUwMTBEYXRpIHogXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTmV2ZWxqYXZlbiBuaXo6IG1vcmEgdnNlYm92YXRpIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTmV2ZWxqYXZlbiBuaXo6IG1vcmEgdXN0cmV6YXRpIHZ6b3JjdSAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZlbGphdmVuICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZlbGphdm5vIFx1MDE2MXRldmlsbzogbW9yYSBiaXRpIHZlXHUwMTBEa3JhdG5payAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmVwcmVwb3puYW4ke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiaSBrbGp1XHUwMTBEaVwiIDogXCIga2xqdVx1MDEwRFwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZlbGphdmVuIGtsanVcdTAxMEQgdiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJOZXZlbGphdmVuIHZub3NcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmVsamF2bmEgdnJlZG5vc3QgdiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJOZXZlbGphdmVuIHZub3NcIjtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJ0ZWNrZW5cIiwgdmVyYjogXCJhdHQgaGFcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiYnl0ZXNcIiwgdmVyYjogXCJhdHQgaGFcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcIm9iamVrdFwiLCB2ZXJiOiBcImF0dCBpbm5laFx1MDBFNWxsYVwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcIm9iamVrdFwiLCB2ZXJiOiBcImF0dCBpbm5laFx1MDBFNWxsYVwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwiYW50YWxcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImxpc3RhXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcInJlZ3Vsalx1MDBFNHJ0IHV0dHJ5Y2tcIixcbiAgICAgICAgZW1haWw6IFwiZS1wb3N0YWRyZXNzXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPLWRhdHVtIG9jaCB0aWRcIixcbiAgICAgICAgZGF0ZTogXCJJU08tZGF0dW1cIixcbiAgICAgICAgdGltZTogXCJJU08tdGlkXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTy12YXJha3RpZ2hldFwiLFxuICAgICAgICBpcHY0OiBcIklQdjQtaW50ZXJ2YWxsXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2Ni1pbnRlcnZhbGxcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQtc3Bla3RydW1cIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYtc3Bla3RydW1cIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NC1rb2RhZCBzdHJcdTAwRTRuZ1wiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsLWtvZGFkIHN0clx1MDBFNG5nXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04tc3RyXHUwMEU0bmdcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NC1udW1tZXJcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIm1hbGwtbGl0ZXJhbFwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9naWx0aWcgaW5tYXRuaW5nOiBmXHUwMEY2cnZcdTAwRTRudGF0ICR7aXNzdWUuZXhwZWN0ZWR9LCBmaWNrICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgT2dpbHRpZyBpbm1hdG5pbmc6IGZcdTAwRjZydlx1MDBFNG50YXQgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPZ2lsdGlndCB2YWw6IGZcdTAwRjZydlx1MDBFNG50YWRlIGVuIGF2ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEZcdTAwRjZyIHN0b3IodCk6IGZcdTAwRjZydlx1MDBFNG50YWRlICR7aXNzdWUub3JpZ2luID8/IFwidlx1MDBFNHJkZXRcIn0gYXR0IGhhICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVudFwifWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgRlx1MDBGNnIgc3Rvcih0KTogZlx1MDBGNnJ2XHUwMEU0bnRhdCAke2lzc3VlLm9yaWdpbiA/PyBcInZcdTAwRTRyZGV0XCJ9IGF0dCBoYSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEZcdTAwRjZyIGxpdGUodCk6IGZcdTAwRjZydlx1MDBFNG50YWRlICR7aXNzdWUub3JpZ2luID8/IFwidlx1MDBFNHJkZXRcIn0gYXR0IGhhICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgRlx1MDBGNnIgbGl0ZSh0KTogZlx1MDBGNnJ2XHUwMEU0bnRhZGUgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2XHUwMEU0cmRldFwifSBhdHQgaGEgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE9naWx0aWcgc3RyXHUwMEU0bmc6IG1cdTAwRTVzdGUgYlx1MDBGNnJqYSBtZWQgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBPZ2lsdGlnIHN0clx1MDBFNG5nOiBtXHUwMEU1c3RlIHNsdXRhIG1lZCBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBPZ2lsdGlnIHN0clx1MDBFNG5nOiBtXHUwMEU1c3RlIGlubmVoXHUwMEU1bGxhIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgT2dpbHRpZyBzdHJcdTAwRTRuZzogbVx1MDBFNXN0ZSBtYXRjaGEgbVx1MDBGNm5zdHJldCBcIiR7X2lzc3VlLnBhdHRlcm59XCJgO1xuICAgICAgICAgICAgICAgIHJldHVybiBgT2dpbHRpZyh0KSAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgT2dpbHRpZ3QgdGFsOiBtXHUwMEU1c3RlIHZhcmEgZW4gbXVsdGlwZWwgYXYgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJPa1x1MDBFNG5kYSBueWNrbGFyXCIgOiBcIk9rXHUwMEU0bmQgbnlja2VsXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9naWx0aWcgbnlja2VsIGkgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2XHUwMEU0cmRldFwifWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIk9naWx0aWcgaW5wdXRcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9naWx0aWd0IHZcdTAwRTRyZGUgaSAke2lzc3VlLm9yaWdpbiA/PyBcInZcdTAwRTRyZGV0XCJ9YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPZ2lsdGlnIGlucHV0YDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJcdTBCOEVcdTBCQjRcdTBCQzFcdTBCQTRcdTBCQ0RcdTBCQTRcdTBCQzFcdTBCOTVcdTBCQ0RcdTBCOTVcdTBCQjNcdTBCQ0RcIiwgdmVyYjogXCJcdTBCOTVcdTBCQ0FcdTBCQTNcdTBCQ0RcdTBCOUZcdTBCQkZcdTBCQjBcdTBCQzFcdTBCOTVcdTBCQ0RcdTBCOTUgXHUwQkI1XHUwQkM3XHUwQkEzXHUwQkNEXHUwQjlGXHUwQkMxXHUwQkFFXHUwQkNEXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcIlx1MEJBQVx1MEJDOFx1MEI5Rlx1MEJDRFx1MEI5Rlx1MEJDMVx1MEI5NVx1MEJCM1x1MEJDRFwiLCB2ZXJiOiBcIlx1MEI5NVx1MEJDQVx1MEJBM1x1MEJDRFx1MEI5Rlx1MEJCRlx1MEJCMFx1MEJDMVx1MEI5NVx1MEJDRFx1MEI5NSBcdTBCQjVcdTBCQzdcdTBCQTNcdTBCQ0RcdTBCOUZcdTBCQzFcdTBCQUVcdTBCQ0RcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcIlx1MEI4OVx1MEJCMVx1MEJDMVx1MEJBQVx1MEJDRFx1MEJBQVx1MEJDMVx1MEI5NVx1MEJCM1x1MEJDRFwiLCB2ZXJiOiBcIlx1MEI5NVx1MEJDQVx1MEJBM1x1MEJDRFx1MEI5Rlx1MEJCRlx1MEJCMFx1MEJDMVx1MEI5NVx1MEJDRFx1MEI5NSBcdTBCQjVcdTBCQzdcdTBCQTNcdTBCQ0RcdTBCOUZcdTBCQzFcdTBCQUVcdTBCQ0RcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJcdTBCODlcdTBCQjFcdTBCQzFcdTBCQUFcdTBCQ0RcdTBCQUFcdTBCQzFcdTBCOTVcdTBCQjNcdTBCQ0RcIiwgdmVyYjogXCJcdTBCOTVcdTBCQ0FcdTBCQTNcdTBCQ0RcdTBCOUZcdTBCQkZcdTBCQjBcdTBCQzFcdTBCOTVcdTBCQ0RcdTBCOTUgXHUwQkI1XHUwQkM3XHUwQkEzXHUwQkNEXHUwQjlGXHUwQkMxXHUwQkFFXHUwQkNEXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIlx1MEI4RVx1MEJBM1x1MEJDRCBcdTBCODVcdTBCQjJcdTBCQ0RcdTBCQjJcdTBCQkVcdTBCQTRcdTBCQTRcdTBCQzFcIiA6IFwiXHUwQjhFXHUwQkEzXHUwQkNEXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTBCODVcdTBCQTNcdTBCQkZcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwQkI1XHUwQkM2XHUwQkIxXHUwQkMxXHUwQkFFXHUwQkM4XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdTBCODlcdTBCQjNcdTBCQ0RcdTBCQjNcdTBCQzBcdTBCOUZcdTBCQzFcIixcbiAgICAgICAgZW1haWw6IFwiXHUwQkFFXHUwQkJGXHUwQkE5XHUwQkNEXHUwQkE5XHUwQjlFXHUwQkNEXHUwQjlBXHUwQkIyXHUwQkNEIFx1MEJBRVx1MEJDMVx1MEI5NVx1MEJCNVx1MEJCMFx1MEJCRlwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyBcdTBCQTRcdTBCQzdcdTBCQTRcdTBCQkYgXHUwQkE4XHUwQkM3XHUwQkIwXHUwQkFFXHUwQkNEXCIsXG4gICAgICAgIGRhdGU6IFwiSVNPIFx1MEJBNFx1MEJDN1x1MEJBNFx1MEJCRlwiLFxuICAgICAgICB0aW1lOiBcIklTTyBcdTBCQThcdTBCQzdcdTBCQjBcdTBCQUVcdTBCQ0RcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPIFx1MEI5NVx1MEJCRVx1MEJCMiBcdTBCODVcdTBCQjNcdTBCQjVcdTBCQzFcIixcbiAgICAgICAgaXB2NDogXCJJUHY0IFx1MEJBRVx1MEJDMVx1MEI5NVx1MEJCNVx1MEJCMFx1MEJCRlwiLFxuICAgICAgICBpcHY2OiBcIklQdjYgXHUwQkFFXHUwQkMxXHUwQjk1XHUwQkI1XHUwQkIwXHUwQkJGXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0IFx1MEJCNVx1MEJCMFx1MEJBRVx1MEJDRFx1MEJBQVx1MEJDMVwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2NiBcdTBCQjVcdTBCQjBcdTBCQUVcdTBCQ0RcdTBCQUFcdTBCQzFcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NC1lbmNvZGVkIFx1MEI5QVx1MEJCMFx1MEJBRVx1MEJDRFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsLWVuY29kZWQgXHUwQjlBXHUwQkIwXHUwQkFFXHUwQkNEXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gXHUwQjlBXHUwQkIwXHUwQkFFXHUwQkNEXCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQgXHUwQjhFXHUwQkEzXHUwQkNEXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJpbnB1dFwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEJBNFx1MEJCNVx1MEJCMVx1MEJCRVx1MEJBOSBcdTBCODlcdTBCQjNcdTBCQ0RcdTBCQjNcdTBCQzBcdTBCOUZcdTBCQzE6IFx1MEI4RVx1MEJBNFx1MEJCRlx1MEJCMFx1MEJDRFx1MEJBQVx1MEJCRVx1MEJCMFx1MEJDRFx1MEI5NVx1MEJDRFx1MEI5NVx1MEJBQVx1MEJDRFx1MEJBQVx1MEI5Rlx1MEJDRFx1MEI5Rlx1MEJBNFx1MEJDMSAke2lzc3VlLmV4cGVjdGVkfSwgXHUwQkFBXHUwQkM2XHUwQkIxXHUwQkFBXHUwQkNEXHUwQkFBXHUwQjlGXHUwQkNEXHUwQjlGXHUwQkE0XHUwQkMxICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwQkE0XHUwQkI1XHUwQkIxXHUwQkJFXHUwQkE5IFx1MEI4OVx1MEJCM1x1MEJDRFx1MEJCM1x1MEJDMFx1MEI5Rlx1MEJDMTogXHUwQjhFXHUwQkE0XHUwQkJGXHUwQkIwXHUwQkNEXHUwQkFBXHUwQkJFXHUwQkIwXHUwQkNEXHUwQjk1XHUwQkNEXHUwQjk1XHUwQkFBXHUwQkNEXHUwQkFBXHUwQjlGXHUwQkNEXHUwQjlGXHUwQkE0XHUwQkMxICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwQkE0XHUwQkI1XHUwQkIxXHUwQkJFXHUwQkE5IFx1MEJCNVx1MEJCRlx1MEJCMFx1MEJDMVx1MEJBQVx1MEJDRFx1MEJBQVx1MEJBRVx1MEJDRDogXHUwQjhFXHUwQkE0XHUwQkJGXHUwQkIwXHUwQkNEXHUwQkFBXHUwQkJFXHUwQkIwXHUwQkNEXHUwQjk1XHUwQkNEXHUwQjk1XHUwQkFBXHUwQkNEXHUwQkFBXHUwQjlGXHUwQkNEXHUwQjlGXHUwQkE0XHUwQkMxICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfSBcdTBCODdcdTBCQjJcdTBCQ0QgXHUwQjkyXHUwQkE5XHUwQkNEXHUwQkIxXHUwQkMxYDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwQkFFXHUwQkJGXHUwQjk1IFx1MEJBQVx1MEJDNlx1MEJCMFx1MEJCRlx1MEJBRlx1MEJBNFx1MEJDMTogXHUwQjhFXHUwQkE0XHUwQkJGXHUwQkIwXHUwQkNEXHUwQkFBXHUwQkJFXHUwQkIwXHUwQkNEXHUwQjk1XHUwQkNEXHUwQjk1XHUwQkFBXHUwQkNEXHUwQkFBXHUwQjlGXHUwQkNEXHUwQjlGXHUwQkE0XHUwQkMxICR7aXNzdWUub3JpZ2luID8/IFwiXHUwQkFFXHUwQkE0XHUwQkJGXHUwQkFBXHUwQkNEXHUwQkFBXHUwQkMxXCJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiXHUwQjg5XHUwQkIxXHUwQkMxXHUwQkFBXHUwQkNEXHUwQkFBXHUwQkMxXHUwQjk1XHUwQkIzXHUwQkNEXCJ9IFx1MEI4Nlx1MEI5NSBcdTBCODdcdTBCQjBcdTBCQzFcdTBCOTVcdTBCQ0RcdTBCOTUgXHUwQkI1XHUwQkM3XHUwQkEzXHUwQkNEXHUwQjlGXHUwQkMxXHUwQkFFXHUwQkNEYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBCQUVcdTBCQkZcdTBCOTUgXHUwQkFBXHUwQkM2XHUwQkIwXHUwQkJGXHUwQkFGXHUwQkE0XHUwQkMxOiBcdTBCOEVcdTBCQTRcdTBCQkZcdTBCQjBcdTBCQ0RcdTBCQUFcdTBCQkVcdTBCQjBcdTBCQ0RcdTBCOTVcdTBCQ0RcdTBCOTVcdTBCQUFcdTBCQ0RcdTBCQUFcdTBCOUZcdTBCQ0RcdTBCOUZcdTBCQTRcdTBCQzEgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTBCQUVcdTBCQTRcdTBCQkZcdTBCQUFcdTBCQ0RcdTBCQUFcdTBCQzFcIn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9IFx1MEI4Nlx1MEI5NSBcdTBCODdcdTBCQjBcdTBCQzFcdTBCOTVcdTBCQ0RcdTBCOTUgXHUwQkI1XHUwQkM3XHUwQkEzXHUwQkNEXHUwQjlGXHUwQkMxXHUwQkFFXHUwQkNEYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBCQUVcdTBCQkZcdTBCOTVcdTBCOUFcdTBCQ0QgXHUwQjlBXHUwQkJGXHUwQkIxXHUwQkJGXHUwQkFGXHUwQkE0XHUwQkMxOiBcdTBCOEVcdTBCQTRcdTBCQkZcdTBCQjBcdTBCQ0RcdTBCQUFcdTBCQkVcdTBCQjBcdTBCQ0RcdTBCOTVcdTBCQ0RcdTBCOTVcdTBCQUFcdTBCQ0RcdTBCQUFcdTBCOUZcdTBCQ0RcdTBCOUZcdTBCQTRcdTBCQzEgJHtpc3N1ZS5vcmlnaW59ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fSBcdTBCODZcdTBCOTUgXHUwQjg3XHUwQkIwXHUwQkMxXHUwQjk1XHUwQkNEXHUwQjk1IFx1MEJCNVx1MEJDN1x1MEJBM1x1MEJDRFx1MEI5Rlx1MEJDMVx1MEJBRVx1MEJDRGA7IC8vXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwQkFFXHUwQkJGXHUwQjk1XHUwQjlBXHUwQkNEIFx1MEI5QVx1MEJCRlx1MEJCMVx1MEJCRlx1MEJBRlx1MEJBNFx1MEJDMTogXHUwQjhFXHUwQkE0XHUwQkJGXHUwQkIwXHUwQkNEXHUwQkFBXHUwQkJFXHUwQkIwXHUwQkNEXHUwQjk1XHUwQkNEXHUwQjk1XHUwQkFBXHUwQkNEXHUwQkFBXHUwQjlGXHUwQkNEXHUwQjlGXHUwQkE0XHUwQkMxICR7aXNzdWUub3JpZ2lufSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gXHUwQjg2XHUwQjk1IFx1MEI4N1x1MEJCMFx1MEJDMVx1MEI5NVx1MEJDRFx1MEI5NSBcdTBCQjVcdTBCQzdcdTBCQTNcdTBCQ0RcdTBCOUZcdTBCQzFcdTBCQUVcdTBCQ0RgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEJBNFx1MEJCNVx1MEJCMVx1MEJCRVx1MEJBOSBcdTBCOUFcdTBCQjBcdTBCQUVcdTBCQ0Q6IFwiJHtfaXNzdWUucHJlZml4fVwiIFx1MEI4N1x1MEJCMlx1MEJDRCBcdTBCQTRcdTBCQ0FcdTBCOUZcdTBCOTlcdTBCQ0RcdTBCOTUgXHUwQkI1XHUwQkM3XHUwQkEzXHUwQkNEXHUwQjlGXHUwQkMxXHUwQkFFXHUwQkNEYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBCQTRcdTBCQjVcdTBCQjFcdTBCQkVcdTBCQTkgXHUwQjlBXHUwQkIwXHUwQkFFXHUwQkNEOiBcIiR7X2lzc3VlLnN1ZmZpeH1cIiBcdTBCODdcdTBCQjJcdTBCQ0QgXHUwQkFFXHUwQkMxXHUwQjlGXHUwQkJGXHUwQkI1XHUwQjlGXHUwQkM4XHUwQkFGIFx1MEJCNVx1MEJDN1x1MEJBM1x1MEJDRFx1MEI5Rlx1MEJDMVx1MEJBRVx1MEJDRGA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBCQTRcdTBCQjVcdTBCQjFcdTBCQkVcdTBCQTkgXHUwQjlBXHUwQkIwXHUwQkFFXHUwQkNEOiBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiIFx1MEI5MCBcdTBCODlcdTBCQjNcdTBCQ0RcdTBCQjNcdTBCOUZcdTBCOTVcdTBCQ0RcdTBCOTUgXHUwQkI1XHUwQkM3XHUwQkEzXHUwQkNEXHUwQjlGXHUwQkMxXHUwQkFFXHUwQkNEYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEJBNFx1MEJCNVx1MEJCMVx1MEJCRVx1MEJBOSBcdTBCOUFcdTBCQjBcdTBCQUVcdTBCQ0Q6ICR7X2lzc3VlLnBhdHRlcm59IFx1MEJBRVx1MEJDMVx1MEJCMVx1MEJDOFx1MEJBQVx1MEJCRVx1MEI5Rlx1MEJDRFx1MEI5Rlx1MEJDMVx1MEI5Rlx1MEJBOVx1MEJDRCBcdTBCQUFcdTBCQ0FcdTBCQjBcdTBCQzFcdTBCQThcdTBCQ0RcdTBCQTQgXHUwQkI1XHUwQkM3XHUwQkEzXHUwQkNEXHUwQjlGXHUwQkMxXHUwQkFFXHUwQkNEYDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEJBNFx1MEJCNVx1MEJCMVx1MEJCRVx1MEJBOSAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwQkE0XHUwQkI1XHUwQkIxXHUwQkJFXHUwQkE5IFx1MEI4RVx1MEJBM1x1MEJDRDogJHtpc3N1ZS5kaXZpc29yfSBcdTBCODdcdTBCQTlcdTBCQ0QgXHUwQkFBXHUwQkIyXHUwQkFFXHUwQkJFXHUwQjk1IFx1MEI4N1x1MEJCMFx1MEJDMVx1MEI5NVx1MEJDRFx1MEI5NSBcdTBCQjVcdTBCQzdcdTBCQTNcdTBCQ0RcdTBCOUZcdTBCQzFcdTBCQUVcdTBCQ0RgO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBCODVcdTBCOUZcdTBCQzhcdTBCQUZcdTBCQkVcdTBCQjNcdTBCQUVcdTBCQ0QgXHUwQkE0XHUwQkM2XHUwQkIwXHUwQkJGXHUwQkFGXHUwQkJFXHUwQkE0IFx1MEJCNVx1MEJCRlx1MEI5QVx1MEJDOCR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJcdTBCOTVcdTBCQjNcdTBCQ0RcIiA6IFwiXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUub3JpZ2lufSBcdTBCODdcdTBCQjJcdTBCQ0QgXHUwQkE0XHUwQkI1XHUwQkIxXHUwQkJFXHUwQkE5IFx1MEJCNVx1MEJCRlx1MEI5QVx1MEJDOGA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MEJBNFx1MEJCNVx1MEJCMVx1MEJCRVx1MEJBOSBcdTBCODlcdTBCQjNcdTBCQ0RcdTBCQjNcdTBCQzBcdTBCOUZcdTBCQzFcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUub3JpZ2lufSBcdTBCODdcdTBCQjJcdTBCQ0QgXHUwQkE0XHUwQkI1XHUwQkIxXHUwQkJFXHUwQkE5IFx1MEJBRVx1MEJBNFx1MEJCRlx1MEJBQVx1MEJDRFx1MEJBQVx1MEJDMWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwQkE0XHUwQkI1XHUwQkIxXHUwQkJFXHUwQkE5IFx1MEI4OVx1MEJCM1x1MEJDRFx1MEJCM1x1MEJDMFx1MEI5Rlx1MEJDMWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiXHUwRTE1XHUwRTMxXHUwRTI3XHUwRTJEXHUwRTMxXHUwRTAxXHUwRTI5XHUwRTIzXCIsIHZlcmI6IFwiXHUwRTA0XHUwRTI3XHUwRTIzXHUwRTIxXHUwRTM1XCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcIlx1MEU0NFx1MEUxQVx1MEUxNVx1MEU0Q1wiLCB2ZXJiOiBcIlx1MEUwNFx1MEUyN1x1MEUyM1x1MEUyMVx1MEUzNVwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiXHUwRTIzXHUwRTMyXHUwRTIyXHUwRTAxXHUwRTMyXHUwRTIzXCIsIHZlcmI6IFwiXHUwRTA0XHUwRTI3XHUwRTIzXHUwRTIxXHUwRTM1XCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiXHUwRTIzXHUwRTMyXHUwRTIyXHUwRTAxXHUwRTMyXHUwRTIzXCIsIHZlcmI6IFwiXHUwRTA0XHUwRTI3XHUwRTIzXHUwRTIxXHUwRTM1XCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIlx1MEU0NFx1MEUyMVx1MEU0OFx1MEU0M1x1MEUwQVx1MEU0OFx1MEUxNVx1MEUzMVx1MEUyN1x1MEU0MFx1MEUyNVx1MEUwMiAoTmFOKVwiIDogXCJcdTBFMTVcdTBFMzFcdTBFMjdcdTBFNDBcdTBFMjVcdTBFMDJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MEUyRFx1MEUzMlx1MEUyM1x1MEU0Q1x1MEU0MFx1MEUyM1x1MEUyMlx1MEU0QyAoQXJyYXkpXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MEU0NFx1MEUyMVx1MEU0OFx1MEUyMVx1MEUzNVx1MEUwNFx1MEU0OFx1MEUzMiAobnVsbClcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1MEUwMlx1MEU0OVx1MEUyRFx1MEUyMVx1MEUzOVx1MEUyNVx1MEUxN1x1MEUzNVx1MEU0OFx1MEUxQlx1MEU0OVx1MEUyRFx1MEUxOVwiLFxuICAgICAgICBlbWFpbDogXCJcdTBFMTdcdTBFMzVcdTBFNDhcdTBFMkRcdTBFMjJcdTBFMzlcdTBFNDhcdTBFMkRcdTBFMzVcdTBFNDBcdTBFMjFcdTBFMjVcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJcdTBFMkRcdTBFMzRcdTBFNDJcdTBFMjFcdTBFMDhcdTBFMzRcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiXHUwRTI3XHUwRTMxXHUwRTE5XHUwRTE3XHUwRTM1XHUwRTQ4XHUwRTQwXHUwRTI3XHUwRTI1XHUwRTMyXHUwRTQxXHUwRTFBXHUwRTFBIElTT1wiLFxuICAgICAgICBkYXRlOiBcIlx1MEUyN1x1MEUzMVx1MEUxOVx1MEUxN1x1MEUzNVx1MEU0OFx1MEU0MVx1MEUxQVx1MEUxQSBJU09cIixcbiAgICAgICAgdGltZTogXCJcdTBFNDBcdTBFMjdcdTBFMjVcdTBFMzJcdTBFNDFcdTBFMUFcdTBFMUEgSVNPXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIlx1MEUwQVx1MEU0OFx1MEUyN1x1MEUwN1x1MEU0MFx1MEUyN1x1MEUyNVx1MEUzMlx1MEU0MVx1MEUxQVx1MEUxQSBJU09cIixcbiAgICAgICAgaXB2NDogXCJcdTBFMTdcdTBFMzVcdTBFNDhcdTBFMkRcdTBFMjJcdTBFMzlcdTBFNDggSVB2NFwiLFxuICAgICAgICBpcHY2OiBcIlx1MEUxN1x1MEUzNVx1MEU0OFx1MEUyRFx1MEUyMlx1MEUzOVx1MEU0OCBJUHY2XCIsXG4gICAgICAgIGNpZHJ2NDogXCJcdTBFMEFcdTBFNDhcdTBFMjdcdTBFMDcgSVAgXHUwRTQxXHUwRTFBXHUwRTFBIElQdjRcIixcbiAgICAgICAgY2lkcnY2OiBcIlx1MEUwQVx1MEU0OFx1MEUyN1x1MEUwNyBJUCBcdTBFNDFcdTBFMUFcdTBFMUEgSVB2NlwiLFxuICAgICAgICBiYXNlNjQ6IFwiXHUwRTAyXHUwRTQ5XHUwRTJEXHUwRTA0XHUwRTI3XHUwRTMyXHUwRTIxXHUwRTQxXHUwRTFBXHUwRTFBIEJhc2U2NFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiXHUwRTAyXHUwRTQ5XHUwRTJEXHUwRTA0XHUwRTI3XHUwRTMyXHUwRTIxXHUwRTQxXHUwRTFBXHUwRTFBIEJhc2U2NCBcdTBFMkFcdTBFMzNcdTBFMkJcdTBFMjNcdTBFMzFcdTBFMUEgVVJMXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIlx1MEUwMlx1MEU0OVx1MEUyRFx1MEUwNFx1MEUyN1x1MEUzMlx1MEUyMVx1MEU0MVx1MEUxQVx1MEUxQSBKU09OXCIsXG4gICAgICAgIGUxNjQ6IFwiXHUwRTQwXHUwRTFBXHUwRTJEXHUwRTIzXHUwRTRDXHUwRTQyXHUwRTE3XHUwRTIzXHUwRTI4XHUwRTMxXHUwRTFFXHUwRTE3XHUwRTRDXHUwRTIzXHUwRTMwXHUwRTJCXHUwRTI3XHUwRTQ4XHUwRTMyXHUwRTA3XHUwRTFCXHUwRTIzXHUwRTMwXHUwRTQwXHUwRTE3XHUwRTI4IChFLjE2NClcIixcbiAgICAgICAgand0OiBcIlx1MEU0Mlx1MEUxN1x1MEU0MFx1MEUwNFx1MEUxOSBKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdTBFMDJcdTBFNDlcdTBFMkRcdTBFMjFcdTBFMzlcdTBFMjVcdTBFMTdcdTBFMzVcdTBFNDhcdTBFMUJcdTBFNDlcdTBFMkRcdTBFMTlcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBFMUJcdTBFMjNcdTBFMzBcdTBFNDBcdTBFMjBcdTBFMTdcdTBFMDJcdTBFNDlcdTBFMkRcdTBFMjFcdTBFMzlcdTBFMjVcdTBFNDRcdTBFMjFcdTBFNDhcdTBFMTZcdTBFMzlcdTBFMDFcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDc6IFx1MEUwNFx1MEUyN1x1MEUyM1x1MEU0MFx1MEUxQlx1MEU0N1x1MEUxOSAke2lzc3VlLmV4cGVjdGVkfSBcdTBFNDFcdTBFMTVcdTBFNDhcdTBFNDRcdTBFMTRcdTBFNDlcdTBFMjNcdTBFMzFcdTBFMUEgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBFMDRcdTBFNDhcdTBFMzJcdTBFNDRcdTBFMjFcdTBFNDhcdTBFMTZcdTBFMzlcdTBFMDFcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDc6IFx1MEUwNFx1MEUyN1x1MEUyM1x1MEU0MFx1MEUxQlx1MEU0N1x1MEUxOSAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEUxNVx1MEUzMVx1MEUyN1x1MEU0MFx1MEUyNVx1MEUzN1x1MEUyRFx1MEUwMVx1MEU0NFx1MEUyMVx1MEU0OFx1MEUxNlx1MEUzOVx1MEUwMVx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwNzogXHUwRTA0XHUwRTI3XHUwRTIzXHUwRTQwXHUwRTFCXHUwRTQ3XHUwRTE5XHUwRTJCXHUwRTE5XHUwRTM2XHUwRTQ4XHUwRTA3XHUwRTQzXHUwRTE5ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCJcdTBFNDRcdTBFMjFcdTBFNDhcdTBFNDBcdTBFMDFcdTBFMzRcdTBFMTlcIiA6IFwiXHUwRTE5XHUwRTQ5XHUwRTJEXHUwRTIyXHUwRTAxXHUwRTI3XHUwRTQ4XHUwRTMyXCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBFNDBcdTBFMDFcdTBFMzRcdTBFMTlcdTBFMDFcdTBFMzNcdTBFMkJcdTBFMTlcdTBFMTQ6ICR7aXNzdWUub3JpZ2luID8/IFwiXHUwRTA0XHUwRTQ4XHUwRTMyXCJ9IFx1MEUwNFx1MEUyN1x1MEUyM1x1MEUyMVx1MEUzNSR7YWRqfSAke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcIlx1MEUyM1x1MEUzMlx1MEUyMlx1MEUwMVx1MEUzMlx1MEUyM1wifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBFNDBcdTBFMDFcdTBFMzRcdTBFMTlcdTBFMDFcdTBFMzNcdTBFMkJcdTBFMTlcdTBFMTQ6ICR7aXNzdWUub3JpZ2luID8/IFwiXHUwRTA0XHUwRTQ4XHUwRTMyXCJ9IFx1MEUwNFx1MEUyN1x1MEUyM1x1MEUyMVx1MEUzNSR7YWRqfSAke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCJcdTBFMkRcdTBFMjJcdTBFNDhcdTBFMzJcdTBFMDdcdTBFMTlcdTBFNDlcdTBFMkRcdTBFMjJcIiA6IFwiXHUwRTIxXHUwRTMyXHUwRTAxXHUwRTAxXHUwRTI3XHUwRTQ4XHUwRTMyXCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEUxOVx1MEU0OVx1MEUyRFx1MEUyMlx1MEUwMVx1MEUyN1x1MEU0OFx1MEUzMlx1MEUwMVx1MEUzM1x1MEUyQlx1MEUxOVx1MEUxNDogJHtpc3N1ZS5vcmlnaW59IFx1MEUwNFx1MEUyN1x1MEUyM1x1MEUyMVx1MEUzNSR7YWRqfSAke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEUxOVx1MEU0OVx1MEUyRFx1MEUyMlx1MEUwMVx1MEUyN1x1MEU0OFx1MEUzMlx1MEUwMVx1MEUzM1x1MEUyQlx1MEUxOVx1MEUxNDogJHtpc3N1ZS5vcmlnaW59IFx1MEUwNFx1MEUyN1x1MEUyM1x1MEUyMVx1MEUzNSR7YWRqfSAke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwRTIzXHUwRTM5XHUwRTFCXHUwRTQxXHUwRTFBXHUwRTFBXHUwRTQ0XHUwRTIxXHUwRTQ4XHUwRTE2XHUwRTM5XHUwRTAxXHUwRTE1XHUwRTQ5XHUwRTJEXHUwRTA3OiBcdTBFMDJcdTBFNDlcdTBFMkRcdTBFMDRcdTBFMjdcdTBFMzJcdTBFMjFcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDdcdTBFMDJcdTBFMzZcdTBFNDlcdTBFMTlcdTBFMTVcdTBFNDlcdTBFMTlcdTBFMTRcdTBFNDlcdTBFMjdcdTBFMjIgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBFMjNcdTBFMzlcdTBFMUJcdTBFNDFcdTBFMUFcdTBFMUFcdTBFNDRcdTBFMjFcdTBFNDhcdTBFMTZcdTBFMzlcdTBFMDFcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDc6IFx1MEUwMlx1MEU0OVx1MEUyRFx1MEUwNFx1MEUyN1x1MEUzMlx1MEUyMVx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwN1x1MEUyNVx1MEUwN1x1MEUxN1x1MEU0OVx1MEUzMlx1MEUyMlx1MEUxNFx1MEU0OVx1MEUyN1x1MEUyMiBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBFMjNcdTBFMzlcdTBFMUJcdTBFNDFcdTBFMUFcdTBFMUFcdTBFNDRcdTBFMjFcdTBFNDhcdTBFMTZcdTBFMzlcdTBFMDFcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDc6IFx1MEUwMlx1MEU0OVx1MEUyRFx1MEUwNFx1MEUyN1x1MEUzMlx1MEUyMVx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwN1x1MEUyMVx1MEUzNSBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiIFx1MEUyRFx1MEUyMlx1MEUzOVx1MEU0OFx1MEU0M1x1MEUxOVx1MEUwMlx1MEU0OVx1MEUyRFx1MEUwNFx1MEUyN1x1MEUzMlx1MEUyMWA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBFMjNcdTBFMzlcdTBFMUJcdTBFNDFcdTBFMUFcdTBFMUFcdTBFNDRcdTBFMjFcdTBFNDhcdTBFMTZcdTBFMzlcdTBFMDFcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDc6IFx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwN1x1MEUxNVx1MEUyM1x1MEUwN1x1MEUwMVx1MEUzMVx1MEUxQVx1MEUyM1x1MEUzOVx1MEUxQlx1MEU0MVx1MEUxQVx1MEUxQVx1MEUxN1x1MEUzNVx1MEU0OFx1MEUwMVx1MEUzM1x1MEUyQlx1MEUxOVx1MEUxNCAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBFMjNcdTBFMzlcdTBFMUJcdTBFNDFcdTBFMUFcdTBFMUFcdTBFNDRcdTBFMjFcdTBFNDhcdTBFMTZcdTBFMzlcdTBFMDFcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDc6ICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBFMTVcdTBFMzFcdTBFMjdcdTBFNDBcdTBFMjVcdTBFMDJcdTBFNDRcdTBFMjFcdTBFNDhcdTBFMTZcdTBFMzlcdTBFMDFcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDc6IFx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwN1x1MEU0MFx1MEUxQlx1MEU0N1x1MEUxOVx1MEUwOFx1MEUzM1x1MEUxOVx1MEUyN1x1MEUxOVx1MEUxN1x1MEUzNVx1MEU0OFx1MEUyQlx1MEUzMlx1MEUyM1x1MEUxNFx1MEU0OVx1MEUyN1x1MEUyMiAke2lzc3VlLmRpdmlzb3J9IFx1MEU0NFx1MEUxNFx1MEU0OVx1MEUyNVx1MEUwN1x1MEUxNVx1MEUzMVx1MEUyN2A7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEUxRVx1MEUxQVx1MEUwNFx1MEUzNVx1MEUyMlx1MEU0Q1x1MEUxN1x1MEUzNVx1MEU0OFx1MEU0NFx1MEUyMVx1MEU0OFx1MEUyM1x1MEUzOVx1MEU0OVx1MEUwOFx1MEUzMVx1MEUwMTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBFMDRcdTBFMzVcdTBFMjJcdTBFNENcdTBFNDRcdTBFMjFcdTBFNDhcdTBFMTZcdTBFMzlcdTBFMDFcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDdcdTBFNDNcdTBFMTkgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwRTAyXHUwRTQ5XHUwRTJEXHUwRTIxXHUwRTM5XHUwRTI1XHUwRTQ0XHUwRTIxXHUwRTQ4XHUwRTE2XHUwRTM5XHUwRTAxXHUwRTE1XHUwRTQ5XHUwRTJEXHUwRTA3OiBcdTBFNDRcdTBFMjFcdTBFNDhcdTBFMTVcdTBFMjNcdTBFMDdcdTBFMDFcdTBFMzFcdTBFMUFcdTBFMjNcdTBFMzlcdTBFMUJcdTBFNDFcdTBFMUFcdTBFMUFcdTBFMjJcdTBFMzlcdTBFNDBcdTBFMTlcdTBFMzVcdTBFMjJcdTBFMTlcdTBFMTdcdTBFMzVcdTBFNDhcdTBFMDFcdTBFMzNcdTBFMkJcdTBFMTlcdTBFMTRcdTBFNDRcdTBFMjdcdTBFNDlcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEUwMlx1MEU0OVx1MEUyRFx1MEUyMVx1MEUzOVx1MEUyNVx1MEU0NFx1MEUyMVx1MEU0OFx1MEUxNlx1MEUzOVx1MEUwMVx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwN1x1MEU0M1x1MEUxOSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEUwMlx1MEU0OVx1MEUyRFx1MEUyMVx1MEUzOVx1MEUyNVx1MEU0NFx1MEUyMVx1MEU0OFx1MEUxNlx1MEUzOVx1MEUwMVx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwN2A7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuZXhwb3J0IGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibnVtYmVyXCI7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwia2FyYWt0ZXJcIiwgdmVyYjogXCJvbG1hbFx1MDEzMVwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJiYXl0XCIsIHZlcmI6IFwib2xtYWxcdTAxMzFcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcIlx1MDBGNlx1MDExRmVcIiwgdmVyYjogXCJvbG1hbFx1MDEzMVwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcIlx1MDBGNlx1MDExRmVcIiwgdmVyYjogXCJvbG1hbFx1MDEzMVwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcImdpcmRpXCIsXG4gICAgICAgIGVtYWlsOiBcImUtcG9zdGEgYWRyZXNpXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPIHRhcmloIHZlIHNhYXRcIixcbiAgICAgICAgZGF0ZTogXCJJU08gdGFyaWhcIixcbiAgICAgICAgdGltZTogXCJJU08gc2FhdFwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08gc1x1MDBGQ3JlXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NCBhZHJlc2lcIixcbiAgICAgICAgaXB2NjogXCJJUHY2IGFkcmVzaVwiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NCBhcmFsXHUwMTMxXHUwMTFGXHUwMTMxXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2IGFyYWxcdTAxMzFcdTAxMUZcdTAxMzFcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NCBpbGUgXHUwMTVGaWZyZWxlbm1pXHUwMTVGIG1ldGluXCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJiYXNlNjR1cmwgaWxlIFx1MDE1RmlmcmVsZW5taVx1MDE1RiBtZXRpblwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OIGRpemVzaVwiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0IHNheVx1MDEzMXNcdTAxMzFcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1MDE1RWFibG9uIGRpemVzaVwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEdlXHUwMEU3ZXJzaXogZGVcdTAxMUZlcjogYmVrbGVuZW4gJHtpc3N1ZS5leHBlY3RlZH0sIGFsXHUwMTMxbmFuICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgR2VcdTAwRTdlcnNpeiBkZVx1MDExRmVyOiBiZWtsZW5lbiAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYEdlXHUwMEU3ZXJzaXogc2VcdTAwRTdlbmVrOiBhXHUwMTVGYVx1MDExRlx1MDEzMWRha2lsZXJkZW4gYmlyaSBvbG1hbFx1MDEzMTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDN29rIGJcdTAwRkN5XHUwMEZDazogYmVrbGVuZW4gJHtpc3N1ZS5vcmlnaW4gPz8gXCJkZVx1MDExRmVyXCJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiXHUwMEY2XHUwMTFGZVwifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzdvayBiXHUwMEZDeVx1MDBGQ2s6IGJla2xlbmVuICR7aXNzdWUub3JpZ2luID8/IFwiZGVcdTAxMUZlclwifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzdvayBrXHUwMEZDXHUwMEU3XHUwMEZDazogYmVrbGVuZW4gJHtpc3N1ZS5vcmlnaW59ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzdvayBrXHUwMEZDXHUwMEU3XHUwMEZDazogYmVrbGVuZW4gJHtpc3N1ZS5vcmlnaW59ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgR2VcdTAwRTdlcnNpeiBtZXRpbjogXCIke19pc3N1ZS5wcmVmaXh9XCIgaWxlIGJhXHUwMTVGbGFtYWxcdTAxMzFgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEdlXHUwMEU3ZXJzaXogbWV0aW46IFwiJHtfaXNzdWUuc3VmZml4fVwiIGlsZSBiaXRtZWxpYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEdlXHUwMEU3ZXJzaXogbWV0aW46IFwiJHtfaXNzdWUuaW5jbHVkZXN9XCIgaVx1MDBFN2VybWVsaWA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBHZVx1MDBFN2Vyc2l6IG1ldGluOiAke19pc3N1ZS5wYXR0ZXJufSBkZXNlbmluZSB1eW1hbFx1MDEzMWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBHZVx1MDBFN2Vyc2l6ICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBHZVx1MDBFN2Vyc2l6IHNheVx1MDEzMTogJHtpc3N1ZS5kaXZpc29yfSBpbGUgdGFtIGJcdTAwRjZsXHUwMEZDbmViaWxtZWxpYDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVGFuXHUwMTMxbm1heWFuIGFuYWh0YXIke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwibGFyXCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbn0gaVx1MDBFN2luZGUgZ2VcdTAwRTdlcnNpeiBhbmFodGFyYDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiR2VcdTAwRTdlcnNpeiBkZVx1MDExRmVyXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbn0gaVx1MDBFN2luZGUgZ2VcdTAwRTdlcnNpeiBkZVx1MDExRmVyYDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBHZVx1MDBFN2Vyc2l6IGRlXHUwMTFGZXJgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcIlx1MDQ0MVx1MDQzOFx1MDQzQ1x1MDQzMlx1MDQzRVx1MDQzQlx1MDQ1Nlx1MDQzMlwiLCB2ZXJiOiBcIlx1MDQzQ1x1MDQzMFx1MDQ0Mlx1MDQzOFx1MDQzQ1x1MDQzNVwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJcdTA0MzFcdTA0MzBcdTA0MzlcdTA0NDJcdTA0NTZcdTA0MzJcIiwgdmVyYjogXCJcdTA0M0NcdTA0MzBcdTA0NDJcdTA0MzhcdTA0M0NcdTA0MzVcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcIlx1MDQzNVx1MDQzQlx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0Mlx1MDQ1Nlx1MDQzMlwiLCB2ZXJiOiBcIlx1MDQzQ1x1MDQzMFx1MDQ0Mlx1MDQzOFx1MDQzQ1x1MDQzNVwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcIlx1MDQzNVx1MDQzQlx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0Mlx1MDQ1Nlx1MDQzMlwiLCB2ZXJiOiBcIlx1MDQzQ1x1MDQzMFx1MDQ0Mlx1MDQzOFx1MDQzQ1x1MDQzNVwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwiXHUwNDQ3XHUwNDM4XHUwNDQxXHUwNDNCXHUwNDNFXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTA0M0NcdTA0MzBcdTA0NDFcdTA0MzhcdTA0MzJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHUwNDMyXHUwNDQ1XHUwNDU2XHUwNDM0XHUwNDNEXHUwNDU2IFx1MDQzNFx1MDQzMFx1MDQzRFx1MDQ1NlwiLFxuICAgICAgICBlbWFpbDogXCJcdTA0MzBcdTA0MzRcdTA0NDBcdTA0MzVcdTA0NDFcdTA0MzAgXHUwNDM1XHUwNDNCXHUwNDM1XHUwNDNBXHUwNDQyXHUwNDQwXHUwNDNFXHUwNDNEXHUwNDNEXHUwNDNFXHUwNDU3IFx1MDQzRlx1MDQzRVx1MDQ0OFx1MDQ0Mlx1MDQzOFwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcIlx1MDQzNVx1MDQzQ1x1MDQzRVx1MDQzNFx1MDQzN1x1MDQ1NlwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJcdTA0MzRcdTA0MzBcdTA0NDJcdTA0MzAgXHUwNDQyXHUwNDMwIFx1MDQ0N1x1MDQzMFx1MDQ0MSBJU09cIixcbiAgICAgICAgZGF0ZTogXCJcdTA0MzRcdTA0MzBcdTA0NDJcdTA0MzAgSVNPXCIsXG4gICAgICAgIHRpbWU6IFwiXHUwNDQ3XHUwNDMwXHUwNDQxIElTT1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJcdTA0NDJcdTA0NDBcdTA0MzhcdTA0MzJcdTA0MzBcdTA0M0JcdTA0NTZcdTA0NDFcdTA0NDJcdTA0NEMgSVNPXCIsXG4gICAgICAgIGlwdjQ6IFwiXHUwNDMwXHUwNDM0XHUwNDQwXHUwNDM1XHUwNDQxXHUwNDMwIElQdjRcIixcbiAgICAgICAgaXB2NjogXCJcdTA0MzBcdTA0MzRcdTA0NDBcdTA0MzVcdTA0NDFcdTA0MzAgSVB2NlwiLFxuICAgICAgICBjaWRydjQ6IFwiXHUwNDM0XHUwNDU2XHUwNDMwXHUwNDNGXHUwNDMwXHUwNDM3XHUwNDNFXHUwNDNEIElQdjRcIixcbiAgICAgICAgY2lkcnY2OiBcIlx1MDQzNFx1MDQ1Nlx1MDQzMFx1MDQzRlx1MDQzMFx1MDQzN1x1MDQzRVx1MDQzRCBJUHY2XCIsXG4gICAgICAgIGJhc2U2NDogXCJcdTA0NDBcdTA0NEZcdTA0MzRcdTA0M0VcdTA0M0EgXHUwNDQzIFx1MDQzQVx1MDQzRVx1MDQzNFx1MDQ0M1x1MDQzMlx1MDQzMFx1MDQzRFx1MDQzRFx1MDQ1NiBiYXNlNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcIlx1MDQ0MFx1MDQ0Rlx1MDQzNFx1MDQzRVx1MDQzQSBcdTA0NDMgXHUwNDNBXHUwNDNFXHUwNDM0XHUwNDQzXHUwNDMyXHUwNDMwXHUwNDNEXHUwNDNEXHUwNDU2IGJhc2U2NHVybFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJcdTA0NDBcdTA0NEZcdTA0MzRcdTA0M0VcdTA0M0EgSlNPTlwiLFxuICAgICAgICBlMTY0OiBcIlx1MDQzRFx1MDQzRVx1MDQzQ1x1MDQzNVx1MDQ0MCBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHUwNDMyXHUwNDQ1XHUwNDU2XHUwNDM0XHUwNDNEXHUwNDU2IFx1MDQzNFx1MDQzMFx1MDQzRFx1MDQ1NlwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQzOFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ1NiBcdTA0MzJcdTA0NDVcdTA0NTZcdTA0MzRcdTA0M0RcdTA0NTYgXHUwNDM0XHUwNDMwXHUwNDNEXHUwNDU2OiBcdTA0M0VcdTA0NDdcdTA0NTZcdTA0M0FcdTA0NDNcdTA0NTRcdTA0NDJcdTA0NENcdTA0NDFcdTA0NEYgJHtpc3N1ZS5leHBlY3RlZH0sIFx1MDQzRVx1MDQ0Mlx1MDQ0MFx1MDQzOFx1MDQzQ1x1MDQzMFx1MDQzRFx1MDQzRSAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICAvLyByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQzOFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ1NiBcdTA0MzJcdTA0NDVcdTA0NTZcdTA0MzRcdTA0M0RcdTA0NTYgXHUwNDM0XHUwNDMwXHUwNDNEXHUwNDU2OiBcdTA0M0VcdTA0NDdcdTA0NTZcdTA0M0FcdTA0NDNcdTA0NTRcdTA0NDJcdTA0NENcdTA0NDFcdTA0NEYgJHtpc3N1ZS5leHBlY3RlZH0sIFx1MDQzRVx1MDQ0Mlx1MDQ0MFx1MDQzOFx1MDQzQ1x1MDQzMFx1MDQzRFx1MDQzRSAke3V0aWwuZ2V0UGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDU2IFx1MDQzMlx1MDQ0NVx1MDQ1Nlx1MDQzNFx1MDQzRFx1MDQ1NiBcdTA0MzRcdTA0MzBcdTA0M0RcdTA0NTY6IFx1MDQzRVx1MDQ0N1x1MDQ1Nlx1MDQzQVx1MDQ0M1x1MDQ1NFx1MDQ0Mlx1MDQ0Q1x1MDQ0MVx1MDQ0RiAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQzOFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzMCBcdTA0M0VcdTA0M0ZcdTA0NDZcdTA0NTZcdTA0NEY6IFx1MDQzRVx1MDQ0N1x1MDQ1Nlx1MDQzQVx1MDQ0M1x1MDQ1NFx1MDQ0Mlx1MDQ0Q1x1MDQ0MVx1MDQ0RiBcdTA0M0VcdTA0MzRcdTA0M0RcdTA0MzUgXHUwNDM3ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MTdcdTA0MzBcdTA0M0RcdTA0MzBcdTA0MzRcdTA0NDJcdTA0M0UgXHUwNDMyXHUwNDM1XHUwNDNCXHUwNDM4XHUwNDNBXHUwNDM1OiBcdTA0M0VcdTA0NDdcdTA0NTZcdTA0M0FcdTA0NDNcdTA0NTRcdTA0NDJcdTA0NENcdTA0NDFcdTA0NEYsIFx1MDQ0OVx1MDQzRSAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MDQzN1x1MDQzRFx1MDQzMFx1MDQ0N1x1MDQzNVx1MDQzRFx1MDQzRFx1MDQ0RlwifSAke3NpemluZy52ZXJifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcIlx1MDQzNVx1MDQzQlx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0Mlx1MDQ1Nlx1MDQzMlwifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MTdcdTA0MzBcdTA0M0RcdTA0MzBcdTA0MzRcdTA0NDJcdTA0M0UgXHUwNDMyXHUwNDM1XHUwNDNCXHUwNDM4XHUwNDNBXHUwNDM1OiBcdTA0M0VcdTA0NDdcdTA0NTZcdTA0M0FcdTA0NDNcdTA0NTRcdTA0NDJcdTA0NENcdTA0NDFcdTA0NEYsIFx1MDQ0OVx1MDQzRSAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MDQzN1x1MDQzRFx1MDQzMFx1MDQ0N1x1MDQzNVx1MDQzRFx1MDQzRFx1MDQ0RlwifSBcdTA0MzFcdTA0NDNcdTA0MzRcdTA0MzUgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MTdcdTA0MzBcdTA0M0RcdTA0MzBcdTA0MzRcdTA0NDJcdTA0M0UgXHUwNDNDXHUwNDMwXHUwNDNCXHUwNDM1OiBcdTA0M0VcdTA0NDdcdTA0NTZcdTA0M0FcdTA0NDNcdTA0NTRcdTA0NDJcdTA0NENcdTA0NDFcdTA0NEYsIFx1MDQ0OVx1MDQzRSAke2lzc3VlLm9yaWdpbn0gJHtzaXppbmcudmVyYn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MTdcdTA0MzBcdTA0M0RcdTA0MzBcdTA0MzRcdTA0NDJcdTA0M0UgXHUwNDNDXHUwNDMwXHUwNDNCXHUwNDM1OiBcdTA0M0VcdTA0NDdcdTA0NTZcdTA0M0FcdTA0NDNcdTA0NTRcdTA0NDJcdTA0NENcdTA0NDFcdTA0NEYsIFx1MDQ0OVx1MDQzRSAke2lzc3VlLm9yaWdpbn0gXHUwNDMxXHUwNDQzXHUwNDM0XHUwNDM1ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDM4XHUwNDM5IFx1MDQ0MFx1MDQ0Rlx1MDQzNFx1MDQzRVx1MDQzQTogXHUwNDNGXHUwNDNFXHUwNDMyXHUwNDM4XHUwNDNEXHUwNDM1XHUwNDNEIFx1MDQzRlx1MDQzRVx1MDQ0N1x1MDQzOFx1MDQzRFx1MDQzMFx1MDQ0Mlx1MDQzOFx1MDQ0MVx1MDQ0RiBcdTA0MzcgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQzOFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzOFx1MDQzOSBcdTA0NDBcdTA0NEZcdTA0MzRcdTA0M0VcdTA0M0E6IFx1MDQzRlx1MDQzRVx1MDQzMlx1MDQzOFx1MDQzRFx1MDQzNVx1MDQzRCBcdTA0MzdcdTA0MzBcdTA0M0FcdTA0NTZcdTA0M0RcdTA0NDdcdTA0NDNcdTA0MzJcdTA0MzBcdTA0NDJcdTA0MzhcdTA0NDFcdTA0NEYgXHUwNDNEXHUwNDMwIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQzOFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzOFx1MDQzOSBcdTA0NDBcdTA0NEZcdTA0MzRcdTA0M0VcdTA0M0E6IFx1MDQzRlx1MDQzRVx1MDQzMlx1MDQzOFx1MDQzRFx1MDQzNVx1MDQzRCBcdTA0M0NcdTA0NTZcdTA0NDFcdTA0NDJcdTA0MzhcdTA0NDJcdTA0MzggXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0MzhcdTA0M0JcdTA0NENcdTA0M0RcdTA0MzhcdTA0MzkgXHUwNDQwXHUwNDRGXHUwNDM0XHUwNDNFXHUwNDNBOiBcdTA0M0ZcdTA0M0VcdTA0MzJcdTA0MzhcdTA0M0RcdTA0MzVcdTA0M0QgXHUwNDMyXHUwNDU2XHUwNDM0XHUwNDNGXHUwNDNFXHUwNDMyXHUwNDU2XHUwNDM0XHUwNDMwXHUwNDQyXHUwNDM4IFx1MDQ0OFx1MDQzMFx1MDQzMVx1MDQzQlx1MDQzRVx1MDQzRFx1MDQ0MyAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0MzhcdTA0M0JcdTA0NENcdTA0M0RcdTA0MzhcdTA0MzkgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQzOFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzNSBcdTA0NDdcdTA0MzhcdTA0NDFcdTA0M0JcdTA0M0U6IFx1MDQzRlx1MDQzRVx1MDQzMlx1MDQzOFx1MDQzRFx1MDQzRFx1MDQzRSBcdTA0MzFcdTA0NDNcdTA0NDJcdTA0MzggXHUwNDNBXHUwNDQwXHUwNDMwXHUwNDQyXHUwNDNEXHUwNDM4XHUwNDNDICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0NDBcdTA0M0VcdTA0MzdcdTA0M0ZcdTA0NTZcdTA0MzdcdTA0M0RcdTA0MzBcdTA0M0RcdTA0MzhcdTA0MzkgXHUwNDNBXHUwNDNCXHUwNDRFXHUwNDQ3JHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlx1MDQ1NlwiIDogXCJcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDM4XHUwNDM5IFx1MDQzQVx1MDQzQlx1MDQ0RVx1MDQ0NyBcdTA0NDMgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDU2IFx1MDQzMlx1MDQ0NVx1MDQ1Nlx1MDQzNFx1MDQzRFx1MDQ1NiBcdTA0MzRcdTA0MzBcdTA0M0RcdTA0NTZcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQzOFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzNSBcdTA0MzdcdTA0M0RcdTA0MzBcdTA0NDdcdTA0MzVcdTA0M0RcdTA0M0RcdTA0NEYgXHUwNDQzICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDU2IFx1MDQzMlx1MDQ0NVx1MDQ1Nlx1MDQzNFx1MDQzRFx1MDQ1NiBcdTA0MzRcdTA0MzBcdTA0M0RcdTA0NTZgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgdWsgZnJvbSBcIi4vdWsuanNcIjtcbi8qKiBAZGVwcmVjYXRlZCBVc2UgYHVrYCBpbnN0ZWFkLiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB1aygpO1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiXHUwNjJEXHUwNjMxXHUwNjQ4XHUwNjQxXCIsIHZlcmI6IFwiXHUwNkMxXHUwNjQ4XHUwNjQ2XHUwNjI3XCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcIlx1MDYyOFx1MDYyN1x1MDYyNlx1MDY3OVx1MDYzM1wiLCB2ZXJiOiBcIlx1MDZDMVx1MDY0OFx1MDY0Nlx1MDYyN1wiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiXHUwNjIyXHUwNjI2XHUwNjc5XHUwNjQ1XHUwNjMyXCIsIHZlcmI6IFwiXHUwNkMxXHUwNjQ4XHUwNjQ2XHUwNjI3XCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiXHUwNjIyXHUwNjI2XHUwNjc5XHUwNjQ1XHUwNjMyXCIsIHZlcmI6IFwiXHUwNkMxXHUwNjQ4XHUwNjQ2XHUwNjI3XCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJcdTA2NDZcdTA2NDVcdTA2MjhcdTA2MzFcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDYyMlx1MDYzMVx1MDZEMlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTA2NDZcdTA2NDRcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1MDYyN1x1MDY0NiBcdTA2N0VcdTA2NzlcIixcbiAgICAgICAgZW1haWw6IFwiXHUwNjI3XHUwNkNDIFx1MDY0NVx1MDZDQ1x1MDY0NCBcdTA2MjdcdTA2Q0NcdTA2ODhcdTA2MzFcdTA2Q0NcdTA2MzNcIixcbiAgICAgICAgdXJsOiBcIlx1MDZDQ1x1MDY0OCBcdTA2MjJcdTA2MzEgXHUwNjI3XHUwNkNDXHUwNjQ0XCIsXG4gICAgICAgIGVtb2ppOiBcIlx1MDYyN1x1MDZDQ1x1MDY0NVx1MDY0OFx1MDYyQ1x1MDZDQ1wiLFxuICAgICAgICB1dWlkOiBcIlx1MDZDQ1x1MDY0OCBcdTA2Q0NcdTA2NDggXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDY4OFx1MDZDQ1wiLFxuICAgICAgICB1dWlkdjQ6IFwiXHUwNkNDXHUwNjQ4IFx1MDZDQ1x1MDY0OCBcdTA2MjJcdTA2MjZcdTA2Q0MgXHUwNjg4XHUwNkNDIFx1MDY0OFx1MDZDQyA0XCIsXG4gICAgICAgIHV1aWR2NjogXCJcdTA2Q0NcdTA2NDggXHUwNkNDXHUwNjQ4IFx1MDYyMlx1MDYyNlx1MDZDQyBcdTA2ODhcdTA2Q0MgXHUwNjQ4XHUwNkNDIDZcIixcbiAgICAgICAgbmFub2lkOiBcIlx1MDY0Nlx1MDZDQ1x1MDY0Nlx1MDY0OCBcdTA2MjJcdTA2MjZcdTA2Q0MgXHUwNjg4XHUwNkNDXCIsXG4gICAgICAgIGd1aWQ6IFwiXHUwNjJDXHUwNkNDIFx1MDZDQ1x1MDY0OCBcdTA2MjJcdTA2MjZcdTA2Q0MgXHUwNjg4XHUwNkNDXCIsXG4gICAgICAgIGN1aWQ6IFwiXHUwNjMzXHUwNkNDIFx1MDZDQ1x1MDY0OCBcdTA2MjJcdTA2MjZcdTA2Q0MgXHUwNjg4XHUwNkNDXCIsXG4gICAgICAgIGN1aWQyOiBcIlx1MDYzM1x1MDZDQyBcdTA2Q0NcdTA2NDggXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDY4OFx1MDZDQyAyXCIsXG4gICAgICAgIHVsaWQ6IFwiXHUwNkNDXHUwNjQ4IFx1MDYyN1x1MDZDQ1x1MDY0NCBcdTA2MjJcdTA2MjZcdTA2Q0MgXHUwNjg4XHUwNkNDXCIsXG4gICAgICAgIHhpZDogXCJcdTA2MjdcdTA2Q0NcdTA2QTlcdTA2MzMgXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDY4OFx1MDZDQ1wiLFxuICAgICAgICBrc3VpZDogXCJcdTA2QTlcdTA2RDIgXHUwNjI3XHUwNkNDXHUwNjMzIFx1MDZDQ1x1MDY0OCBcdTA2MjJcdTA2MjZcdTA2Q0MgXHUwNjg4XHUwNkNDXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIlx1MDYyMlx1MDYyNlx1MDZDQyBcdTA2MjdcdTA2Q0NcdTA2MzMgXHUwNjI3XHUwNjQ4IFx1MDY4OFx1MDZDQ1x1MDY3OSBcdTA2NzlcdTA2MjdcdTA2MjZcdTA2NDVcIixcbiAgICAgICAgZGF0ZTogXCJcdTA2MjJcdTA2MjZcdTA2Q0MgXHUwNjI3XHUwNkNDXHUwNjMzIFx1MDYyN1x1MDY0OCBcdTA2MkFcdTA2MjdcdTA2MzFcdTA2Q0NcdTA2MkVcIixcbiAgICAgICAgdGltZTogXCJcdTA2MjJcdTA2MjZcdTA2Q0MgXHUwNjI3XHUwNkNDXHUwNjMzIFx1MDYyN1x1MDY0OCBcdTA2NDhcdTA2NDJcdTA2MkFcIixcbiAgICAgICAgZHVyYXRpb246IFwiXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDYyN1x1MDZDQ1x1MDYzMyBcdTA2MjdcdTA2NDggXHUwNjQ1XHUwNjJGXHUwNjJBXCIsXG4gICAgICAgIGlwdjQ6IFwiXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDY3RVx1MDZDQyBcdTA2NDhcdTA2Q0MgNCBcdTA2MjdcdTA2Q0NcdTA2ODhcdTA2MzFcdTA2Q0NcdTA2MzNcIixcbiAgICAgICAgaXB2NjogXCJcdTA2MjJcdTA2MjZcdTA2Q0MgXHUwNjdFXHUwNkNDIFx1MDY0OFx1MDZDQyA2IFx1MDYyN1x1MDZDQ1x1MDY4OFx1MDYzMVx1MDZDQ1x1MDYzM1wiLFxuICAgICAgICBjaWRydjQ6IFwiXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDY3RVx1MDZDQyBcdTA2NDhcdTA2Q0MgNCBcdTA2MzFcdTA2Q0NcdTA2NDZcdTA2MkNcIixcbiAgICAgICAgY2lkcnY2OiBcIlx1MDYyMlx1MDYyNlx1MDZDQyBcdTA2N0VcdTA2Q0MgXHUwNjQ4XHUwNkNDIDYgXHUwNjMxXHUwNkNDXHUwNjQ2XHUwNjJDXCIsXG4gICAgICAgIGJhc2U2NDogXCJcdTA2MjhcdTA2Q0NcdTA2MzMgNjQgXHUwNjI3XHUwNjQ2IFx1MDZBOVx1MDY0OFx1MDY4OFx1MDY4OCBcdTA2MzNcdTA2NzlcdTA2MzFcdTA2NDZcdTA2QUZcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcIlx1MDYyOFx1MDZDQ1x1MDYzMyA2NCBcdTA2Q0NcdTA2NDggXHUwNjIyXHUwNjMxIFx1MDYyN1x1MDZDQ1x1MDY0NCBcdTA2MjdcdTA2NDYgXHUwNkE5XHUwNjQ4XHUwNjg4XHUwNjg4IFx1MDYzM1x1MDY3OVx1MDYzMVx1MDY0Nlx1MDZBRlwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJcdTA2MkNcdTA2RDIgXHUwNjI3XHUwNkNDXHUwNjMzIFx1MDYyN1x1MDY0OCBcdTA2MjdcdTA2Q0NcdTA2NDYgXHUwNjMzXHUwNjc5XHUwNjMxXHUwNjQ2XHUwNkFGXCIsXG4gICAgICAgIGUxNjQ6IFwiXHUwNjI3XHUwNkNDIDE2NCBcdTA2NDZcdTA2NDVcdTA2MjhcdTA2MzFcIixcbiAgICAgICAgand0OiBcIlx1MDYyQ1x1MDZEMiBcdTA2ODhcdTA2MjhcdTA2NDRcdTA2Q0NcdTA2NDggXHUwNjc5XHUwNkNDXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHUwNjI3XHUwNjQ2IFx1MDY3RVx1MDY3OVwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYzQVx1MDY0NFx1MDYzNyBcdTA2MjdcdTA2NDYgXHUwNjdFXHUwNjc5OiAke2lzc3VlLmV4cGVjdGVkfSBcdTA2NDVcdTA2MkFcdTA2NDhcdTA2NDJcdTA2MzkgXHUwNjJBXHUwNkJFXHUwNjI3XHUwNjBDICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9IFx1MDY0NVx1MDY0OFx1MDYzNVx1MDY0OFx1MDY0NCBcdTA2QzFcdTA2NDhcdTA2MjdgO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2M0FcdTA2NDRcdTA2MzcgXHUwNjI3XHUwNjQ2IFx1MDY3RVx1MDY3OTogJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfSBcdTA2NDVcdTA2MkFcdTA2NDhcdTA2NDJcdTA2MzkgXHUwNjJBXHUwNkJFXHUwNjI3YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYzQVx1MDY0NFx1MDYzNyBcdTA2MjJcdTA2N0VcdTA2MzRcdTA2NDY6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfSBcdTA2NDVcdTA2Q0NcdTA2QkEgXHUwNjMzXHUwNkQyIFx1MDYyN1x1MDZDQ1x1MDZBOSBcdTA2NDVcdTA2MkFcdTA2NDhcdTA2NDJcdTA2MzkgXHUwNjJBXHUwNkJFXHUwNjI3YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYyOFx1MDZDMVx1MDYyQSBcdTA2MjhcdTA2OTFcdTA2Mjc6ICR7aXNzdWUub3JpZ2luID8/IFwiXHUwNjQ4XHUwNkNDXHUwNjQ0XHUwNkNDXHUwNjQ4XCJ9IFx1MDZBOVx1MDZEMiAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcIlx1MDYzOVx1MDY0Nlx1MDYyN1x1MDYzNVx1MDYzMVwifSBcdTA2QzFcdTA2NDhcdTA2NDZcdTA2RDIgXHUwNjQ1XHUwNjJBXHUwNjQ4XHUwNjQyXHUwNjM5IFx1MDYyQVx1MDZCRVx1MDZEMmA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2MjhcdTA2QzFcdTA2MkEgXHUwNjI4XHUwNjkxXHUwNjI3OiAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MDY0OFx1MDZDQ1x1MDY0NFx1MDZDQ1x1MDY0OFwifSBcdTA2QTlcdTA2MjcgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9IFx1MDZDMVx1MDY0OFx1MDY0Nlx1MDYyNyBcdTA2NDVcdTA2MkFcdTA2NDhcdTA2NDJcdTA2MzkgXHUwNjJBXHUwNkJFXHUwNjI3YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2MjhcdTA2QzFcdTA2MkEgXHUwNjg2XHUwNkJFXHUwNjQ4XHUwNjc5XHUwNjI3OiAke2lzc3VlLm9yaWdpbn0gXHUwNkE5XHUwNkQyICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fSBcdTA2QzFcdTA2NDhcdTA2NDZcdTA2RDIgXHUwNjQ1XHUwNjJBXHUwNjQ4XHUwNjQyXHUwNjM5IFx1MDYyQVx1MDZCRVx1MDZEMmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjI4XHUwNkMxXHUwNjJBIFx1MDY4Nlx1MDZCRVx1MDY0OFx1MDY3OVx1MDYyNzogJHtpc3N1ZS5vcmlnaW59IFx1MDZBOVx1MDYyNyAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gXHUwNkMxXHUwNjQ4XHUwNjQ2XHUwNjI3IFx1MDY0NVx1MDYyQVx1MDY0OFx1MDY0Mlx1MDYzOSBcdTA2MkFcdTA2QkVcdTA2MjdgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjNBXHUwNjQ0XHUwNjM3IFx1MDYzM1x1MDY3OVx1MDYzMVx1MDY0Nlx1MDZBRjogXCIke19pc3N1ZS5wcmVmaXh9XCIgXHUwNjMzXHUwNkQyIFx1MDYzNFx1MDYzMVx1MDY0OFx1MDYzOSBcdTA2QzFcdTA2NDhcdTA2NDZcdTA2MjcgXHUwNjg2XHUwNjI3XHUwNkMxXHUwNkNDXHUwNkQyYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjNBXHUwNjQ0XHUwNjM3IFx1MDYzM1x1MDY3OVx1MDYzMVx1MDY0Nlx1MDZBRjogXCIke19pc3N1ZS5zdWZmaXh9XCIgXHUwNjdFXHUwNjMxIFx1MDYyRVx1MDYyQVx1MDY0NSBcdTA2QzFcdTA2NDhcdTA2NDZcdTA2MjcgXHUwNjg2XHUwNjI3XHUwNkMxXHUwNkNDXHUwNkQyYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYzQVx1MDY0NFx1MDYzNyBcdTA2MzNcdTA2NzlcdTA2MzFcdTA2NDZcdTA2QUY6IFwiJHtfaXNzdWUuaW5jbHVkZXN9XCIgXHUwNjM0XHUwNjI3XHUwNjQ1XHUwNjQ0IFx1MDZDMVx1MDY0OFx1MDY0Nlx1MDYyNyBcdTA2ODZcdTA2MjdcdTA2QzFcdTA2Q0NcdTA2RDJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjNBXHUwNjQ0XHUwNjM3IFx1MDYzM1x1MDY3OVx1MDYzMVx1MDY0Nlx1MDZBRjogXHUwNjdFXHUwNkNDXHUwNjc5XHUwNjMxXHUwNjQ2ICR7X2lzc3VlLnBhdHRlcm59IFx1MDYzM1x1MDZEMiBcdTA2NDVcdTA2Q0NcdTA2ODYgXHUwNkMxXHUwNjQ4XHUwNjQ2XHUwNjI3IFx1MDY4Nlx1MDYyN1x1MDZDMVx1MDZDQ1x1MDZEMmA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2M0FcdTA2NDRcdTA2MzcgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYzQVx1MDY0NFx1MDYzNyBcdTA2NDZcdTA2NDVcdTA2MjhcdTA2MzE6ICR7aXNzdWUuZGl2aXNvcn0gXHUwNkE5XHUwNjI3IFx1MDY0NVx1MDYzNlx1MDYyN1x1MDYzOVx1MDY0MSBcdTA2QzFcdTA2NDhcdTA2NDZcdTA2MjcgXHUwNjg2XHUwNjI3XHUwNkMxXHUwNkNDXHUwNkQyYDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjNBXHUwNkNDXHUwNjMxIFx1MDYyQVx1MDYzM1x1MDY0NFx1MDZDQ1x1MDY0NSBcdTA2MzRcdTA2MkZcdTA2QzEgXHUwNkE5XHUwNkNDJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlx1MDYzMlwiIDogXCJcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiXHUwNjBDIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbn0gXHUwNjQ1XHUwNkNDXHUwNkJBIFx1MDYzQVx1MDY0NFx1MDYzNyBcdTA2QTlcdTA2Q0NgO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTA2M0FcdTA2NDRcdTA2MzcgXHUwNjI3XHUwNjQ2IFx1MDY3RVx1MDY3OVwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW59IFx1MDY0NVx1MDZDQ1x1MDZCQSBcdTA2M0FcdTA2NDRcdTA2MzcgXHUwNjQ4XHUwNkNDXHUwNjQ0XHUwNkNDXHUwNjQ4YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2M0FcdTA2NDRcdTA2MzcgXHUwNjI3XHUwNjQ2IFx1MDY3RVx1MDY3OWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwia1x1MDBGRCB0XHUxRUYxXCIsIHZlcmI6IFwiY1x1MDBGM1wiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJieXRlXCIsIHZlcmI6IFwiY1x1MDBGM1wiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwicGhcdTFFQTduIHRcdTFFRURcIiwgdmVyYjogXCJjXHUwMEYzXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwicGhcdTFFQTduIHRcdTFFRURcIiwgdmVyYjogXCJjXHUwMEYzXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJzXHUxRUQxXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJtXHUxRUEzbmdcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHUwMTExXHUxRUE3dSB2XHUwMEUwb1wiLFxuICAgICAgICBlbWFpbDogXCJcdTAxMTFcdTFFQ0JhIGNoXHUxRUM5IGVtYWlsXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwibmdcdTAwRTB5IGdpXHUxRUREIElTT1wiLFxuICAgICAgICBkYXRlOiBcIm5nXHUwMEUweSBJU09cIixcbiAgICAgICAgdGltZTogXCJnaVx1MUVERCBJU09cIixcbiAgICAgICAgZHVyYXRpb246IFwia2hvXHUxRUEzbmcgdGhcdTFFRERpIGdpYW4gSVNPXCIsXG4gICAgICAgIGlwdjQ6IFwiXHUwMTExXHUxRUNCYSBjaFx1MUVDOSBJUHY0XCIsXG4gICAgICAgIGlwdjY6IFwiXHUwMTExXHUxRUNCYSBjaFx1MUVDOSBJUHY2XCIsXG4gICAgICAgIGNpZHJ2NDogXCJkXHUxRUEzaSBJUHY0XCIsXG4gICAgICAgIGNpZHJ2NjogXCJkXHUxRUEzaSBJUHY2XCIsXG4gICAgICAgIGJhc2U2NDogXCJjaHVcdTFFRDdpIG1cdTAwRTMgaFx1MDBGM2EgYmFzZTY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJjaHVcdTFFRDdpIG1cdTAwRTMgaFx1MDBGM2EgYmFzZTY0dXJsXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcImNodVx1MUVEN2kgSlNPTlwiLFxuICAgICAgICBlMTY0OiBcInNcdTFFRDEgRS4xNjRcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1MDExMVx1MUVBN3Ugdlx1MDBFMG9cIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAxMTBcdTFFQTd1IHZcdTAwRTBvIGtoXHUwMEY0bmcgaFx1MUVFM3AgbFx1MUVDNzogbW9uZyBcdTAxMTFcdTFFRTNpICR7aXNzdWUuZXhwZWN0ZWR9LCBuaFx1MUVBRG4gXHUwMTExXHUwMUIwXHUxRUUzYyAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDExMFx1MUVBN3Ugdlx1MDBFMG8ga2hcdTAwRjRuZyBoXHUxRUUzcCBsXHUxRUM3OiBtb25nIFx1MDExMVx1MUVFM2kgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUXHUwMEY5eSBjaFx1MUVDRG4ga2hcdTAwRjRuZyBoXHUxRUUzcCBsXHUxRUM3OiBtb25nIFx1MDExMVx1MUVFM2kgbVx1MUVEOXQgdHJvbmcgY1x1MDBFMWMgZ2lcdTAwRTEgdHJcdTFFQ0IgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFF1XHUwMEUxIGxcdTFFREJuOiBtb25nIFx1MDExMVx1MUVFM2kgJHtpc3N1ZS5vcmlnaW4gPz8gXCJnaVx1MDBFMSB0clx1MUVDQlwifSAke3NpemluZy52ZXJifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcInBoXHUxRUE3biB0XHUxRUVEXCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFF1XHUwMEUxIGxcdTFFREJuOiBtb25nIFx1MDExMVx1MUVFM2kgJHtpc3N1ZS5vcmlnaW4gPz8gXCJnaVx1MDBFMSB0clx1MUVDQlwifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFF1XHUwMEUxIG5oXHUxRUNGOiBtb25nIFx1MDExMVx1MUVFM2kgJHtpc3N1ZS5vcmlnaW59ICR7c2l6aW5nLnZlcmJ9ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgUXVcdTAwRTEgbmhcdTFFQ0Y6IG1vbmcgXHUwMTExXHUxRUUzaSAke2lzc3VlLm9yaWdpbn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBDaHVcdTFFRDdpIGtoXHUwMEY0bmcgaFx1MUVFM3AgbFx1MUVDNzogcGhcdTFFQTNpIGJcdTFFQUZ0IFx1MDExMVx1MUVBN3UgYlx1MUVCMW5nIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBDaHVcdTFFRDdpIGtoXHUwMEY0bmcgaFx1MUVFM3AgbFx1MUVDNzogcGhcdTFFQTNpIGtcdTFFQkZ0IHRoXHUwMEZBYyBiXHUxRUIxbmcgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgQ2h1XHUxRUQ3aSBraFx1MDBGNG5nIGhcdTFFRTNwIGxcdTFFQzc6IHBoXHUxRUEzaSBiYW8gZ1x1MUVEM20gXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBDaHVcdTFFRDdpIGtoXHUwMEY0bmcgaFx1MUVFM3AgbFx1MUVDNzogcGhcdTFFQTNpIGtoXHUxRURCcCB2XHUxRURCaSBtXHUxRUFCdSAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH0ga2hcdTAwRjRuZyBoXHUxRUUzcCBsXHUxRUM3YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFNcdTFFRDEga2hcdTAwRjRuZyBoXHUxRUUzcCBsXHUxRUM3OiBwaFx1MUVBM2kgbFx1MDBFMCBiXHUxRUQ5aSBzXHUxRUQxIGNcdTFFRTdhICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBLaFx1MDBGM2Ega2hcdTAwRjRuZyBcdTAxMTFcdTAxQjBcdTFFRTNjIG5oXHUxRUFEbiBkXHUxRUExbmc6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgS2hcdTAwRjNhIGtoXHUwMEY0bmcgaFx1MUVFM3AgbFx1MUVDNyB0cm9uZyAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTAxMTBcdTFFQTd1IHZcdTAwRTBvIGtoXHUwMEY0bmcgaFx1MUVFM3AgbFx1MUVDN1wiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgR2lcdTAwRTEgdHJcdTFFQ0Iga2hcdTAwRjRuZyBoXHUxRUUzcCBsXHUxRUM3IHRyb25nICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMTEwXHUxRUE3dSB2XHUwMEUwbyBraFx1MDBGNG5nIGhcdTFFRTNwIGxcdTFFQzdgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcIlx1NUI1N1x1N0IyNlwiLCB2ZXJiOiBcIlx1NTMwNVx1NTQyQlwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJcdTVCNTdcdTgyODJcIiwgdmVyYjogXCJcdTUzMDVcdTU0MkJcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcIlx1OTg3OVwiLCB2ZXJiOiBcIlx1NTMwNVx1NTQyQlwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcIlx1OTg3OVwiLCB2ZXJiOiBcIlx1NTMwNVx1NTQyQlwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJcdTk3NUVcdTY1NzBcdTVCNTcoTmFOKVwiIDogXCJcdTY1NzBcdTVCNTdcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1NjU3MFx1N0VDNFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTdBN0FcdTUwM0MobnVsbClcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1OEY5M1x1NTE2NVwiLFxuICAgICAgICBlbWFpbDogXCJcdTc1MzVcdTVCNTBcdTkwQUVcdTRFRjZcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJcdTg4NjhcdTYwQzVcdTdCMjZcdTUzRjdcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPXHU2NUU1XHU2NzFGXHU2NUY2XHU5NUY0XCIsXG4gICAgICAgIGRhdGU6IFwiSVNPXHU2NUU1XHU2NzFGXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPXHU2NUY2XHU5NUY0XCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTT1x1NjVGNlx1OTU3RlwiLFxuICAgICAgICBpcHY0OiBcIklQdjRcdTU3MzBcdTU3NDBcIixcbiAgICAgICAgaXB2NjogXCJJUHY2XHU1NzMwXHU1NzQwXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0XHU3RjUxXHU2QkI1XCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2XHU3RjUxXHU2QkI1XCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjRcdTdGMTZcdTc4MDFcdTVCNTdcdTdCMjZcdTRFMzJcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybFx1N0YxNlx1NzgwMVx1NUI1N1x1N0IyNlx1NEUzMlwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OXHU1QjU3XHU3QjI2XHU0RTMyXCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjRcdTUzRjdcdTc4MDFcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1OEY5M1x1NTE2NVwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NjVFMFx1NjU0OFx1OEY5M1x1NTE2NVx1RkYxQVx1NjcxRlx1NjcxQiAke2lzc3VlLmV4cGVjdGVkfVx1RkYwQ1x1NUI5RVx1OTY0NVx1NjNBNVx1NjUzNiAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NjVFMFx1NjU0OFx1OEY5M1x1NTE2NVx1RkYxQVx1NjcxRlx1NjcxQiAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NjVFMFx1NjU0OFx1OTAwOVx1OTg3OVx1RkYxQVx1NjcxRlx1NjcxQlx1NEVFNVx1NEUwQlx1NEU0Qlx1NEUwMCAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHU2NTcwXHU1MDNDXHU4RkM3XHU1OTI3XHVGRjFBXHU2NzFGXHU2NzFCICR7aXNzdWUub3JpZ2luID8/IFwiXHU1MDNDXCJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiXHU0RTJBXHU1MTQzXHU3RDIwXCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NjU3MFx1NTAzQ1x1OEZDN1x1NTkyN1x1RkYxQVx1NjcxRlx1NjcxQiAke2lzc3VlLm9yaWdpbiA/PyBcIlx1NTAzQ1wifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NjU3MFx1NTAzQ1x1OEZDN1x1NUMwRlx1RkYxQVx1NjcxRlx1NjcxQiAke2lzc3VlLm9yaWdpbn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTY1NzBcdTUwM0NcdThGQzdcdTVDMEZcdUZGMUFcdTY3MUZcdTY3MUIgJHtpc3N1ZS5vcmlnaW59ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHU2NUUwXHU2NTQ4XHU1QjU3XHU3QjI2XHU0RTMyXHVGRjFBXHU1RkM1XHU5ODdCXHU0RUU1IFwiJHtfaXNzdWUucHJlZml4fVwiIFx1NUYwMFx1NTkzNGA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHU2NUUwXHU2NTQ4XHU1QjU3XHU3QjI2XHU0RTMyXHVGRjFBXHU1RkM1XHU5ODdCXHU0RUU1IFwiJHtfaXNzdWUuc3VmZml4fVwiIFx1N0VEM1x1NUMzRWA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTY1RTBcdTY1NDhcdTVCNTdcdTdCMjZcdTRFMzJcdUZGMUFcdTVGQzVcdTk4N0JcdTUzMDVcdTU0MkIgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTY1RTBcdTY1NDhcdTVCNTdcdTdCMjZcdTRFMzJcdUZGMUFcdTVGQzVcdTk4N0JcdTZFRTFcdThEQjNcdTZCNjNcdTUyMTlcdTg4NjhcdThGQkVcdTVGMEYgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHU2NUUwXHU2NTQ4JHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NjVFMFx1NjU0OFx1NjU3MFx1NUI1N1x1RkYxQVx1NUZDNVx1OTg3Qlx1NjYyRiAke2lzc3VlLmRpdmlzb3J9IFx1NzY4NFx1NTAwRFx1NjU3MGA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NTFGQVx1NzNCMFx1NjcyQVx1NzdFNVx1NzY4NFx1OTUyRShrZXkpOiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUub3JpZ2lufSBcdTRFMkRcdTc2ODRcdTk1MkUoa2V5KVx1NjVFMFx1NjU0OGA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1NjVFMFx1NjU0OFx1OEY5M1x1NTE2NVwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW59IFx1NEUyRFx1NTMwNVx1NTQyQlx1NjVFMFx1NjU0OFx1NTAzQyh2YWx1ZSlgO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NjVFMFx1NjU0OFx1OEY5M1x1NTE2NWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiXHU1QjU3XHU1MTQzXCIsIHZlcmI6IFwiXHU2NEMxXHU2NzA5XCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcIlx1NEY0RFx1NTE0M1x1N0Q0NFwiLCB2ZXJiOiBcIlx1NjRDMVx1NjcwOVwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiXHU5ODA1XHU3NkVFXCIsIHZlcmI6IFwiXHU2NEMxXHU2NzA5XCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiXHU5ODA1XHU3NkVFXCIsIHZlcmI6IFwiXHU2NEMxXHU2NzA5XCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJudW1iZXJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1OEYzOFx1NTE2NVwiLFxuICAgICAgICBlbWFpbDogXCJcdTkwRjVcdTRFRjZcdTU3MzBcdTU3NDBcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08gXHU2NUU1XHU2NzFGXHU2NjQyXHU5NTkzXCIsXG4gICAgICAgIGRhdGU6IFwiSVNPIFx1NjVFNVx1NjcxRlwiLFxuICAgICAgICB0aW1lOiBcIklTTyBcdTY2NDJcdTk1OTNcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPIFx1NjcxRlx1OTU5M1wiLFxuICAgICAgICBpcHY0OiBcIklQdjQgXHU0RjREXHU1NzQwXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2NiBcdTRGNERcdTU3NDBcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQgXHU3QkM0XHU1NzBEXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2IFx1N0JDNFx1NTcwRFwiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0IFx1N0RFOFx1NzhCQ1x1NUI1N1x1NEUzMlwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsIFx1N0RFOFx1NzhCQ1x1NUI1N1x1NEUzMlwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OIFx1NUI1N1x1NEUzMlwiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0IFx1NjU3OFx1NTAzQ1wiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHU4RjM4XHU1MTY1XCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU2NTQ4XHU3Njg0XHU4RjM4XHU1MTY1XHU1MDNDXHVGRjFBXHU5ODEwXHU2NzFGXHU3MEJBICR7aXNzdWUuZXhwZWN0ZWR9XHVGRjBDXHU0RjQ2XHU2NTM2XHU1MjMwICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU2NTQ4XHU3Njg0XHU4RjM4XHU1MTY1XHU1MDNDXHVGRjFBXHU5ODEwXHU2NzFGXHU3MEJBICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU2NTQ4XHU3Njg0XHU5MDc4XHU5ODA1XHVGRjFBXHU5ODEwXHU2NzFGXHU3MEJBXHU0RUU1XHU0RTBCXHU1MTc2XHU0RTJEXHU0RTRCXHU0RTAwICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTY1NzhcdTUwM0NcdTkwNEVcdTU5MjdcdUZGMUFcdTk4MTBcdTY3MUYgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTUwM0NcIn0gXHU2MUM5XHU3MEJBICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiXHU1MDBCXHU1MTQzXHU3RDIwXCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NjU3OFx1NTAzQ1x1OTA0RVx1NTkyN1x1RkYxQVx1OTgxMFx1NjcxRiAke2lzc3VlLm9yaWdpbiA/PyBcIlx1NTAzQ1wifSBcdTYxQzlcdTcwQkEgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTY1NzhcdTUwM0NcdTkwNEVcdTVDMEZcdUZGMUFcdTk4MTBcdTY3MUYgJHtpc3N1ZS5vcmlnaW59IFx1NjFDOVx1NzBCQSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NjU3OFx1NTAzQ1x1OTA0RVx1NUMwRlx1RkYxQVx1OTgxMFx1NjcxRiAke2lzc3VlLm9yaWdpbn0gXHU2MUM5XHU3MEJBICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTcxMjFcdTY1NDhcdTc2ODRcdTVCNTdcdTRFMzJcdUZGMUFcdTVGQzVcdTk4MDhcdTRFRTUgXCIke19pc3N1ZS5wcmVmaXh9XCIgXHU5NThCXHU5ODJEYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU2NTQ4XHU3Njg0XHU1QjU3XHU0RTMyXHVGRjFBXHU1RkM1XHU5ODA4XHU0RUU1IFwiJHtfaXNzdWUuc3VmZml4fVwiIFx1N0Q1MFx1NUMzRWA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTcxMjFcdTY1NDhcdTc2ODRcdTVCNTdcdTRFMzJcdUZGMUFcdTVGQzVcdTk4MDhcdTUzMDVcdTU0MkIgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTcxMjFcdTY1NDhcdTc2ODRcdTVCNTdcdTRFMzJcdUZGMUFcdTVGQzVcdTk4MDhcdTdCMjZcdTU0MDhcdTY4M0NcdTVGMEYgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU2NTQ4XHU3Njg0ICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTcxMjFcdTY1NDhcdTc2ODRcdTY1NzhcdTVCNTdcdUZGMUFcdTVGQzVcdTk4MDhcdTcwQkEgJHtpc3N1ZS5kaXZpc29yfSBcdTc2ODRcdTUwMERcdTY1NzhgO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTcxMjFcdTZDRDVcdThCNThcdTUyMjVcdTc2ODRcdTkzNzVcdTUwM0Mke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiXHU1MDExXCIgOiBcIlwifVx1RkYxQSR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiXHUzMDAxXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUub3JpZ2lufSBcdTRFMkRcdTY3MDlcdTcxMjFcdTY1NDhcdTc2ODRcdTkzNzVcdTUwM0NgO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTcxMjFcdTY1NDhcdTc2ODRcdThGMzhcdTUxNjVcdTUwM0NcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUub3JpZ2lufSBcdTRFMkRcdTY3MDlcdTcxMjFcdTY1NDhcdTc2ODRcdTUwM0NgO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NjU0OFx1NzY4NFx1OEYzOFx1NTE2NVx1NTAzQ2A7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiXHUwMEUwbWlcIiwgdmVyYjogXCJuXHUwMEVEXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcImJ5dGVzXCIsIHZlcmI6IFwiblx1MDBFRFwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwibmthblwiLCB2ZXJiOiBcIm5cdTAwRURcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJua2FuXCIsIHZlcmI6IFwiblx1MDBFRFwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwiblx1MUVDRFx1MDMwMW1iXHUwMEUwXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJha29wXHUxRUNEXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1MUVCOVx1MDMwMHJcdTFFQ0QgXHUwMEVDYlx1MDBFMXdcdTFFQ0RsXHUwMEU5XCIsXG4gICAgICAgIGVtYWlsOiBcIlx1MDBFMGRcdTAwRURyXHUxRUI5XHUwMzAxc1x1MDBFQyBcdTAwRUNtXHUxRUI5XHUwMzAxbFx1MDBFQ1wiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIlx1MDBFMGtcdTAwRjNrXHUwMEYyIElTT1wiLFxuICAgICAgICBkYXRlOiBcIlx1MUVDRGpcdTFFQ0RcdTAzMDEgSVNPXCIsXG4gICAgICAgIHRpbWU6IFwiXHUwMEUwa1x1MDBGM2tcdTAwRjIgSVNPXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIlx1MDBFMGtcdTAwRjNrXHUwMEYyIHRcdTAwRjMgcFx1MDBFOSBJU09cIixcbiAgICAgICAgaXB2NDogXCJcdTAwRTBkXHUwMEVEclx1MUVCOVx1MDMwMXNcdTAwRUMgSVB2NFwiLFxuICAgICAgICBpcHY2OiBcIlx1MDBFMGRcdTAwRURyXHUxRUI5XHUwMzAxc1x1MDBFQyBJUHY2XCIsXG4gICAgICAgIGNpZHJ2NDogXCJcdTAwRTBnYlx1MDBFOGdiXHUwMEU4IElQdjRcIixcbiAgICAgICAgY2lkcnY2OiBcIlx1MDBFMGdiXHUwMEU4Z2JcdTAwRTggSVB2NlwiLFxuICAgICAgICBiYXNlNjQ6IFwiXHUxRUNEXHUwMzAwclx1MUVDRFx1MDMwMCB0XHUwMEVEIGEga1x1MUVDRFx1MDMwMSBuXHUwMEVEIGJhc2U2NFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiXHUxRUNEXHUwMzAwclx1MUVDRFx1MDMwMCBiYXNlNjR1cmxcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiXHUxRUNEXHUwMzAwclx1MUVDRFx1MDMwMCBKU09OXCIsXG4gICAgICAgIGUxNjQ6IFwiblx1MUVDRFx1MDMwMW1iXHUwMEUwIEUuMTY0XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdTFFQjlcdTAzMDByXHUxRUNEIFx1MDBFQ2JcdTAwRTF3XHUxRUNEbFx1MDBFOVwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDQ2JcdTAwRTF3XHUxRUNEbFx1MDBFOSBhXHUxRTYzXHUwMEVDXHUxRTYzZTogYSBuXHUwMEVEIGxcdTAwRTF0aSBmaSAke2lzc3VlLmV4cGVjdGVkfSwgXHUwMEUwbVx1MUVDRFx1MDMwMCBhIHJcdTAwRUQgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQ0NiXHUwMEUxd1x1MUVDRGxcdTAwRTkgYVx1MUU2M1x1MDBFQ1x1MUU2M2U6IGEgblx1MDBFRCBsXHUwMEUxdGkgZmkgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzBcdTFFNjNcdTAwRTB5XHUwMEUwbiBhXHUxRTYzXHUwMEVDXHUxRTYzZTogeWFuIFx1MUVDRFx1MDMwMGthbiBsXHUwMEUxcmEgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRcdTAwRjMgcFx1MUVDRFx1MDMwMCBqXHUwMEY5OiBhIG5cdTAwRUQgbFx1MDBFMXRpIGpcdTFFQjlcdTAzMDEgcFx1MDBFOSAke2lzc3VlLm9yaWdpbiA/PyBcIml5ZVwifSAke3NpemluZy52ZXJifSAke2Fkan0ke2lzc3VlLm1heGltdW19ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFRcdTAwRjMgcFx1MUVDRFx1MDMwMCBqXHUwMEY5OiBhIG5cdTAwRUQgbFx1MDBFMXRpIGpcdTFFQjlcdTAzMDEgJHthZGp9JHtpc3N1ZS5tYXhpbXVtfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEtcdTAwRTlyXHUwMEU5IGp1OiBhIG5cdTAwRUQgbFx1MDBFMXRpIGpcdTFFQjlcdTAzMDEgcFx1MDBFOSAke2lzc3VlLm9yaWdpbn0gJHtzaXppbmcudmVyYn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBLXHUwMEU5clx1MDBFOSBqdTogYSBuXHUwMEVEIGxcdTAwRTF0aSBqXHUxRUI5XHUwMzAxICR7YWRqfSR7aXNzdWUubWluaW11bX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MUVDQ1x1MDMwMHJcdTFFQ0RcdTAzMDAgYVx1MUU2M1x1MDBFQ1x1MUU2M2U6IGdiXHUxRUNEXHUwMzAxZFx1MUVDRFx1MDMwMCBiXHUxRUI5XHUwMzAwclx1MUVCOVx1MDMwMCBwXHUxRUI5XHUwMzAwbFx1MDBGQSBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUxRUNDXHUwMzAwclx1MUVDRFx1MDMwMCBhXHUxRTYzXHUwMEVDXHUxRTYzZTogZ2JcdTFFQ0RcdTAzMDFkXHUxRUNEXHUwMzAwIHBhclx1MDBFRCBwXHUxRUI5XHUwMzAwbFx1MDBGQSBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTFFQ0NcdTAzMDByXHUxRUNEXHUwMzAwIGFcdTFFNjNcdTAwRUNcdTFFNjNlOiBnYlx1MUVDRFx1MDMwMWRcdTFFQ0RcdTAzMDAgblx1MDBFRCBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MUVDQ1x1MDMwMHJcdTFFQ0RcdTAzMDAgYVx1MUU2M1x1MDBFQ1x1MUU2M2U6IGdiXHUxRUNEXHUwMzAxZFx1MUVDRFx1MDMwMCBiXHUwMEUxIFx1MDBFMHBcdTFFQjlcdTFFQjlyXHUxRUI5IG11ICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYEFcdTFFNjNcdTAwRUNcdTFFNjNlOiAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTlx1MUVDRFx1MDMwMW1iXHUwMEUwIGFcdTFFNjNcdTAwRUNcdTFFNjNlOiBnYlx1MUVDRFx1MDMwMWRcdTFFQ0RcdTAzMDAgalx1MUVCOVx1MDMwMSBcdTAwRTh5XHUwMEUwIHBcdTAwRURwXHUwMEVEbiB0aSAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgQlx1MUVDRHRcdTAwRUNuXHUwMEVDIFx1MDBFMFx1MDBFQ21cdTFFQ0RcdTAzMDA6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgQlx1MUVDRHRcdTAwRUNuXHUwMEVDIGFcdTFFNjNcdTAwRUNcdTFFNjNlIG5cdTAwRURuXHUwMEZBICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDBDQ2JcdTAwRTF3XHUxRUNEbFx1MDBFOSBhXHUxRTYzXHUwMEVDXHUxRTYzZVwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgSXllIGFcdTFFNjNcdTAwRUNcdTFFNjNlIG5cdTAwRURuXHUwMEZBICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDBDQ2JcdTAwRTF3XHUxRUNEbFx1MDBFOSBhXHUxRTYzXHUwMEVDXHUxRTYzZVwiO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJleHBvcnQgY29uc3QgJG91dHB1dCA9IFN5bWJvbChcIlpvZE91dHB1dFwiKTtcbmV4cG9ydCBjb25zdCAkaW5wdXQgPSBTeW1ib2woXCJab2RJbnB1dFwiKTtcbmV4cG9ydCBjbGFzcyAkWm9kUmVnaXN0cnkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9tYXAgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICB0aGlzLl9pZG1hcCA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgYWRkKHNjaGVtYSwgLi4uX21ldGEpIHtcbiAgICAgICAgY29uc3QgbWV0YSA9IF9tZXRhWzBdO1xuICAgICAgICB0aGlzLl9tYXAuc2V0KHNjaGVtYSwgbWV0YSk7XG4gICAgICAgIGlmIChtZXRhICYmIHR5cGVvZiBtZXRhID09PSBcIm9iamVjdFwiICYmIFwiaWRcIiBpbiBtZXRhKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faWRtYXAuaGFzKG1ldGEuaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJRCAke21ldGEuaWR9IGFscmVhZHkgZXhpc3RzIGluIHRoZSByZWdpc3RyeWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faWRtYXAuc2V0KG1ldGEuaWQsIHNjaGVtYSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9tYXAgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICB0aGlzLl9pZG1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJlbW92ZShzY2hlbWEpIHtcbiAgICAgICAgY29uc3QgbWV0YSA9IHRoaXMuX21hcC5nZXQoc2NoZW1hKTtcbiAgICAgICAgaWYgKG1ldGEgJiYgdHlwZW9mIG1ldGEgPT09IFwib2JqZWN0XCIgJiYgXCJpZFwiIGluIG1ldGEpIHtcbiAgICAgICAgICAgIHRoaXMuX2lkbWFwLmRlbGV0ZShtZXRhLmlkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXAuZGVsZXRlKHNjaGVtYSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXQoc2NoZW1hKSB7XG4gICAgICAgIC8vIHJldHVybiB0aGlzLl9tYXAuZ2V0KHNjaGVtYSkgYXMgYW55O1xuICAgICAgICAvLyBpbmhlcml0IG1ldGFkYXRhXG4gICAgICAgIGNvbnN0IHAgPSBzY2hlbWEuX3pvZC5wYXJlbnQ7XG4gICAgICAgIGlmIChwKSB7XG4gICAgICAgICAgICBjb25zdCBwbSA9IHsgLi4uKHRoaXMuZ2V0KHApID8/IHt9KSB9O1xuICAgICAgICAgICAgZGVsZXRlIHBtLmlkOyAvLyBkbyBub3QgaW5oZXJpdCBpZFxuICAgICAgICAgICAgY29uc3QgZiA9IHsgLi4ucG0sIC4uLnRoaXMuX21hcC5nZXQoc2NoZW1hKSB9O1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGYpLmxlbmd0aCA/IGYgOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5nZXQoc2NoZW1hKTtcbiAgICB9XG4gICAgaGFzKHNjaGVtYSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwLmhhcyhzY2hlbWEpO1xuICAgIH1cbn1cbi8vIHJlZ2lzdHJpZXNcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RyeSgpIHtcbiAgICByZXR1cm4gbmV3ICRab2RSZWdpc3RyeSgpO1xufVxuZXhwb3J0IGNvbnN0IGdsb2JhbFJlZ2lzdHJ5ID0gLypAX19QVVJFX18qLyByZWdpc3RyeSgpO1xuIiwgImltcG9ydCAqIGFzIGNoZWNrcyBmcm9tIFwiLi9jaGVja3MuanNcIjtcbmltcG9ydCAqIGFzIHNjaGVtYXMgZnJvbSBcIi4vc2NoZW1hcy5qc1wiO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi91dGlsLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gX3N0cmluZyhDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2NvZXJjZWRTdHJpbmcoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBjb2VyY2U6IHRydWUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2VtYWlsKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImVtYWlsXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9ndWlkKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImd1aWRcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3V1aWQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwidXVpZFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfdXVpZHY0KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcInV1aWRcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIHZlcnNpb246IFwidjRcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfdXVpZHY2KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcInV1aWRcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIHZlcnNpb246IFwidjZcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfdXVpZHY3KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcInV1aWRcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIHZlcnNpb246IFwidjdcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfdXJsKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcInVybFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfZW1vamkoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiZW1vamlcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX25hbm9pZChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJuYW5vaWRcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2N1aWQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiY3VpZFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfY3VpZDIoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiY3VpZDJcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3VsaWQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwidWxpZFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfeGlkKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcInhpZFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfa3N1aWQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwia3N1aWRcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2lwdjQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiaXB2NFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfaXB2NihDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJpcHY2XCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9jaWRydjQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiY2lkcnY0XCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9jaWRydjYoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiY2lkcnY2XCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9iYXNlNjQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiYmFzZTY0XCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9iYXNlNjR1cmwoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiYmFzZTY0dXJsXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9lMTY0KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImUxNjRcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2p3dChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJqd3RcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgVGltZVByZWNpc2lvbiA9IHtcbiAgICBBbnk6IG51bGwsXG4gICAgTWludXRlOiAtMSxcbiAgICBTZWNvbmQ6IDAsXG4gICAgTWlsbGlzZWNvbmQ6IDMsXG4gICAgTWljcm9zZWNvbmQ6IDYsXG59O1xuZXhwb3J0IGZ1bmN0aW9uIF9pc29EYXRlVGltZShDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJkYXRldGltZVwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIG9mZnNldDogZmFsc2UsXG4gICAgICAgIGxvY2FsOiBmYWxzZSxcbiAgICAgICAgcHJlY2lzaW9uOiBudWxsLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9pc29EYXRlKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImRhdGVcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9pc29UaW1lKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcInRpbWVcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBwcmVjaXNpb246IG51bGwsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2lzb0R1cmF0aW9uKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImR1cmF0aW9uXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfbnVtYmVyKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfY29lcmNlZE51bWJlcihDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgIGNvZXJjZTogdHJ1ZSxcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfaW50KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgY2hlY2s6IFwibnVtYmVyX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIGZvcm1hdDogXCJzYWZlaW50XCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2Zsb2F0MzIoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICBjaGVjazogXCJudW1iZXJfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgZm9ybWF0OiBcImZsb2F0MzJcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfZmxvYXQ2NChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgIGNoZWNrOiBcIm51bWJlcl9mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICBmb3JtYXQ6IFwiZmxvYXQ2NFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9pbnQzMihDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgIGNoZWNrOiBcIm51bWJlcl9mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICBmb3JtYXQ6IFwiaW50MzJcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfdWludDMyKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgY2hlY2s6IFwibnVtYmVyX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIGZvcm1hdDogXCJ1aW50MzJcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfYm9vbGVhbihDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiYm9vbGVhblwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9jb2VyY2VkQm9vbGVhbihDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiYm9vbGVhblwiLFxuICAgICAgICBjb2VyY2U6IHRydWUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2JpZ2ludChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiYmlnaW50XCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2NvZXJjZWRCaWdpbnQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImJpZ2ludFwiLFxuICAgICAgICBjb2VyY2U6IHRydWUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2ludDY0KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJiaWdpbnRcIixcbiAgICAgICAgY2hlY2s6IFwiYmlnaW50X2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIGZvcm1hdDogXCJpbnQ2NFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF91aW50NjQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImJpZ2ludFwiLFxuICAgICAgICBjaGVjazogXCJiaWdpbnRfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgZm9ybWF0OiBcInVpbnQ2NFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9zeW1ib2woQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN5bWJvbFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF91bmRlZmluZWQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInVuZGVmaW5lZFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9udWxsKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJudWxsXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2FueShDbGFzcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImFueVwiLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF91bmtub3duKENsYXNzKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwidW5rbm93blwiLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9uZXZlcihDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwibmV2ZXJcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfdm9pZChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwidm9pZFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9kYXRlKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJkYXRlXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2NvZXJjZWREYXRlKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJkYXRlXCIsXG4gICAgICAgIGNvZXJjZTogdHJ1ZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfbmFuKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJuYW5cIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfbHQodmFsdWUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja0xlc3NUaGFuKHtcbiAgICAgICAgY2hlY2s6IFwibGVzc190aGFuXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9sdGUodmFsdWUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja0xlc3NUaGFuKHtcbiAgICAgICAgY2hlY2s6IFwibGVzc190aGFuXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgfSk7XG59XG5leHBvcnQgeyBcbi8qKiBAZGVwcmVjYXRlZCBVc2UgYHoubHRlKClgIGluc3RlYWQuICovXG5fbHRlIGFzIF9tYXgsIH07XG5leHBvcnQgZnVuY3Rpb24gX2d0KHZhbHVlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tHcmVhdGVyVGhhbih7XG4gICAgICAgIGNoZWNrOiBcImdyZWF0ZXJfdGhhblwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfZ3RlKHZhbHVlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tHcmVhdGVyVGhhbih7XG4gICAgICAgIGNoZWNrOiBcImdyZWF0ZXJfdGhhblwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgIH0pO1xufVxuZXhwb3J0IHsgXG4vKiogQGRlcHJlY2F0ZWQgVXNlIGB6Lmd0ZSgpYCBpbnN0ZWFkLiAqL1xuX2d0ZSBhcyBfbWluLCB9O1xuZXhwb3J0IGZ1bmN0aW9uIF9wb3NpdGl2ZShwYXJhbXMpIHtcbiAgICByZXR1cm4gX2d0KDAsIHBhcmFtcyk7XG59XG4vLyBuZWdhdGl2ZVxuZXhwb3J0IGZ1bmN0aW9uIF9uZWdhdGl2ZShwYXJhbXMpIHtcbiAgICByZXR1cm4gX2x0KDAsIHBhcmFtcyk7XG59XG4vLyBub25wb3NpdGl2ZVxuZXhwb3J0IGZ1bmN0aW9uIF9ub25wb3NpdGl2ZShwYXJhbXMpIHtcbiAgICByZXR1cm4gX2x0ZSgwLCBwYXJhbXMpO1xufVxuLy8gbm9ubmVnYXRpdmVcbmV4cG9ydCBmdW5jdGlvbiBfbm9ubmVnYXRpdmUocGFyYW1zKSB7XG4gICAgcmV0dXJuIF9ndGUoMCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfbXVsdGlwbGVPZih2YWx1ZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrTXVsdGlwbGVPZih7XG4gICAgICAgIGNoZWNrOiBcIm11bHRpcGxlX29mXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIHZhbHVlLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9tYXhTaXplKG1heGltdW0sIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja01heFNpemUoe1xuICAgICAgICBjaGVjazogXCJtYXhfc2l6ZVwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICBtYXhpbXVtLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9taW5TaXplKG1pbmltdW0sIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja01pblNpemUoe1xuICAgICAgICBjaGVjazogXCJtaW5fc2l6ZVwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICBtaW5pbXVtLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9zaXplKHNpemUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja1NpemVFcXVhbHMoe1xuICAgICAgICBjaGVjazogXCJzaXplX2VxdWFsc1wiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICBzaXplLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9tYXhMZW5ndGgobWF4aW11bSwgcGFyYW1zKSB7XG4gICAgY29uc3QgY2ggPSBuZXcgY2hlY2tzLiRab2RDaGVja01heExlbmd0aCh7XG4gICAgICAgIGNoZWNrOiBcIm1heF9sZW5ndGhcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgbWF4aW11bSxcbiAgICB9KTtcbiAgICByZXR1cm4gY2g7XG59XG5leHBvcnQgZnVuY3Rpb24gX21pbkxlbmd0aChtaW5pbXVtLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tNaW5MZW5ndGgoe1xuICAgICAgICBjaGVjazogXCJtaW5fbGVuZ3RoXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIG1pbmltdW0sXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2xlbmd0aChsZW5ndGgsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja0xlbmd0aEVxdWFscyh7XG4gICAgICAgIGNoZWNrOiBcImxlbmd0aF9lcXVhbHNcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgbGVuZ3RoLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9yZWdleChwYXR0ZXJuLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tSZWdleCh7XG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgZm9ybWF0OiBcInJlZ2V4XCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIHBhdHRlcm4sXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2xvd2VyY2FzZShwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tMb3dlckNhc2Uoe1xuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGZvcm1hdDogXCJsb3dlcmNhc2VcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfdXBwZXJjYXNlKHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja1VwcGVyQ2FzZSh7XG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgZm9ybWF0OiBcInVwcGVyY2FzZVwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9pbmNsdWRlcyhpbmNsdWRlcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrSW5jbHVkZXMoe1xuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGZvcm1hdDogXCJpbmNsdWRlc1wiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICBpbmNsdWRlcyxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfc3RhcnRzV2l0aChwcmVmaXgsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja1N0YXJ0c1dpdGgoe1xuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGZvcm1hdDogXCJzdGFydHNfd2l0aFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICBwcmVmaXgsXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2VuZHNXaXRoKHN1ZmZpeCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrRW5kc1dpdGgoe1xuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGZvcm1hdDogXCJlbmRzX3dpdGhcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgc3VmZml4LFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9wcm9wZXJ0eShwcm9wZXJ0eSwgc2NoZW1hLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tQcm9wZXJ0eSh7XG4gICAgICAgIGNoZWNrOiBcInByb3BlcnR5XCIsXG4gICAgICAgIHByb3BlcnR5LFxuICAgICAgICBzY2hlbWEsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX21pbWUodHlwZXMsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja01pbWVUeXBlKHtcbiAgICAgICAgY2hlY2s6IFwibWltZV90eXBlXCIsXG4gICAgICAgIG1pbWU6IHR5cGVzLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9vdmVyd3JpdGUodHgpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tPdmVyd3JpdGUoe1xuICAgICAgICBjaGVjazogXCJvdmVyd3JpdGVcIixcbiAgICAgICAgdHgsXG4gICAgfSk7XG59XG4vLyBub3JtYWxpemVcbmV4cG9ydCBmdW5jdGlvbiBfbm9ybWFsaXplKGZvcm0pIHtcbiAgICByZXR1cm4gX292ZXJ3cml0ZSgoaW5wdXQpID0+IGlucHV0Lm5vcm1hbGl6ZShmb3JtKSk7XG59XG4vLyB0cmltXG5leHBvcnQgZnVuY3Rpb24gX3RyaW0oKSB7XG4gICAgcmV0dXJuIF9vdmVyd3JpdGUoKGlucHV0KSA9PiBpbnB1dC50cmltKCkpO1xufVxuLy8gdG9Mb3dlckNhc2VcbmV4cG9ydCBmdW5jdGlvbiBfdG9Mb3dlckNhc2UoKSB7XG4gICAgcmV0dXJuIF9vdmVyd3JpdGUoKGlucHV0KSA9PiBpbnB1dC50b0xvd2VyQ2FzZSgpKTtcbn1cbi8vIHRvVXBwZXJDYXNlXG5leHBvcnQgZnVuY3Rpb24gX3RvVXBwZXJDYXNlKCkge1xuICAgIHJldHVybiBfb3ZlcndyaXRlKChpbnB1dCkgPT4gaW5wdXQudG9VcHBlckNhc2UoKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2FycmF5KENsYXNzLCBlbGVtZW50LCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICAvLyBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgLy8gICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgLy8gfSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfdW5pb24oQ2xhc3MsIG9wdGlvbnMsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInVuaW9uXCIsXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2Rpc2NyaW1pbmF0ZWRVbmlvbihDbGFzcywgZGlzY3JpbWluYXRvciwgb3B0aW9ucywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwidW5pb25cIixcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgZGlzY3JpbWluYXRvcixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfaW50ZXJzZWN0aW9uKENsYXNzLCBsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImludGVyc2VjdGlvblwiLFxuICAgICAgICBsZWZ0LFxuICAgICAgICByaWdodCxcbiAgICB9KTtcbn1cbi8vIGV4cG9ydCBmdW5jdGlvbiBfdHVwbGUoXG4vLyAgIENsYXNzOiB1dGlsLlNjaGVtYUNsYXNzPHNjaGVtYXMuJFpvZFR1cGxlPixcbi8vICAgaXRlbXM6IFtdLFxuLy8gICBwYXJhbXM/OiBzdHJpbmcgfCAkWm9kVHVwbGVQYXJhbXNcbi8vICk6IHNjaGVtYXMuJFpvZFR1cGxlPFtdLCBudWxsPjtcbmV4cG9ydCBmdW5jdGlvbiBfdHVwbGUoQ2xhc3MsIGl0ZW1zLCBfcGFyYW1zT3JSZXN0LCBfcGFyYW1zKSB7XG4gICAgY29uc3QgaGFzUmVzdCA9IF9wYXJhbXNPclJlc3QgaW5zdGFuY2VvZiBzY2hlbWFzLiRab2RUeXBlO1xuICAgIGNvbnN0IHBhcmFtcyA9IGhhc1Jlc3QgPyBfcGFyYW1zIDogX3BhcmFtc09yUmVzdDtcbiAgICBjb25zdCByZXN0ID0gaGFzUmVzdCA/IF9wYXJhbXNPclJlc3QgOiBudWxsO1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInR1cGxlXCIsXG4gICAgICAgIGl0ZW1zLFxuICAgICAgICByZXN0LFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9yZWNvcmQoQ2xhc3MsIGtleVR5cGUsIHZhbHVlVHlwZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwicmVjb3JkXCIsXG4gICAgICAgIGtleVR5cGUsXG4gICAgICAgIHZhbHVlVHlwZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfbWFwKENsYXNzLCBrZXlUeXBlLCB2YWx1ZVR5cGUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm1hcFwiLFxuICAgICAgICBrZXlUeXBlLFxuICAgICAgICB2YWx1ZVR5cGUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3NldChDbGFzcywgdmFsdWVUeXBlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgdmFsdWVUeXBlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9lbnVtKENsYXNzLCB2YWx1ZXMsIHBhcmFtcykge1xuICAgIGNvbnN0IGVudHJpZXMgPSBBcnJheS5pc0FycmF5KHZhbHVlcykgPyBPYmplY3QuZnJvbUVudHJpZXModmFsdWVzLm1hcCgodikgPT4gW3YsIHZdKSkgOiB2YWx1ZXM7XG4gICAgLy8gaWYgKEFycmF5LmlzQXJyYXkodmFsdWVzKSkge1xuICAgIC8vICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAvLyAgICAgZW50cmllc1t2YWx1ZV0gPSB2YWx1ZTtcbiAgICAvLyAgIH1cbiAgICAvLyB9IGVsc2Uge1xuICAgIC8vICAgT2JqZWN0LmFzc2lnbihlbnRyaWVzLCB2YWx1ZXMpO1xuICAgIC8vIH1cbiAgICAvLyBjb25zdCBlbnRyaWVzOiB1dGlsLkVudW1MaWtlID0ge307XG4gICAgLy8gZm9yIChjb25zdCB2YWwgb2YgdmFsdWVzKSB7XG4gICAgLy8gICBlbnRyaWVzW3ZhbF0gPSB2YWw7XG4gICAgLy8gfVxuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImVudW1cIixcbiAgICAgICAgZW50cmllcyxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbi8qKiBAZGVwcmVjYXRlZCBUaGlzIEFQSSBoYXMgYmVlbiBtZXJnZWQgaW50byBgei5lbnVtKClgLiBVc2UgYHouZW51bSgpYCBpbnN0ZWFkLlxuICpcbiAqIGBgYHRzXG4gKiBlbnVtIENvbG9ycyB7IHJlZCwgZ3JlZW4sIGJsdWUgfVxuICogei5lbnVtKENvbG9ycyk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9uYXRpdmVFbnVtKENsYXNzLCBlbnRyaWVzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJlbnVtXCIsXG4gICAgICAgIGVudHJpZXMsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2xpdGVyYWwoQ2xhc3MsIHZhbHVlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJsaXRlcmFsXCIsXG4gICAgICAgIHZhbHVlczogQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV0sXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2ZpbGUoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImZpbGVcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfdHJhbnNmb3JtKENsYXNzLCBmbikge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInRyYW5zZm9ybVwiLFxuICAgICAgICB0cmFuc2Zvcm06IGZuLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9vcHRpb25hbChDbGFzcywgaW5uZXJUeXBlKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwib3B0aW9uYWxcIixcbiAgICAgICAgaW5uZXJUeXBlLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9udWxsYWJsZShDbGFzcywgaW5uZXJUeXBlKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwibnVsbGFibGVcIixcbiAgICAgICAgaW5uZXJUeXBlLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9kZWZhdWx0KENsYXNzLCBpbm5lclR5cGUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImRlZmF1bHRcIixcbiAgICAgICAgaW5uZXJUeXBlLFxuICAgICAgICBnZXQgZGVmYXVsdFZhbHVlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBkZWZhdWx0VmFsdWUgPT09IFwiZnVuY3Rpb25cIiA/IGRlZmF1bHRWYWx1ZSgpIDogdXRpbC5zaGFsbG93Q2xvbmUoZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfbm9ub3B0aW9uYWwoQ2xhc3MsIGlubmVyVHlwZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwibm9ub3B0aW9uYWxcIixcbiAgICAgICAgaW5uZXJUeXBlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9zdWNjZXNzKENsYXNzLCBpbm5lclR5cGUpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdWNjZXNzXCIsXG4gICAgICAgIGlubmVyVHlwZSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfY2F0Y2goQ2xhc3MsIGlubmVyVHlwZSwgY2F0Y2hWYWx1ZSkge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImNhdGNoXCIsXG4gICAgICAgIGlubmVyVHlwZSxcbiAgICAgICAgY2F0Y2hWYWx1ZTogKHR5cGVvZiBjYXRjaFZhbHVlID09PSBcImZ1bmN0aW9uXCIgPyBjYXRjaFZhbHVlIDogKCkgPT4gY2F0Y2hWYWx1ZSksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3BpcGUoQ2xhc3MsIGluXywgb3V0KSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwicGlwZVwiLFxuICAgICAgICBpbjogaW5fLFxuICAgICAgICBvdXQsXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3JlYWRvbmx5KENsYXNzLCBpbm5lclR5cGUpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJyZWFkb25seVwiLFxuICAgICAgICBpbm5lclR5cGUsXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3RlbXBsYXRlTGl0ZXJhbChDbGFzcywgcGFydHMsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInRlbXBsYXRlX2xpdGVyYWxcIixcbiAgICAgICAgcGFydHMsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2xhenkoQ2xhc3MsIGdldHRlcikge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImxhenlcIixcbiAgICAgICAgZ2V0dGVyLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9wcm9taXNlKENsYXNzLCBpbm5lclR5cGUpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJwcm9taXNlXCIsXG4gICAgICAgIGlubmVyVHlwZSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfY3VzdG9tKENsYXNzLCBmbiwgX3BhcmFtcykge1xuICAgIGNvbnN0IG5vcm0gPSB1dGlsLm5vcm1hbGl6ZVBhcmFtcyhfcGFyYW1zKTtcbiAgICBub3JtLmFib3J0ID8/IChub3JtLmFib3J0ID0gdHJ1ZSk7IC8vIGRlZmF1bHQgdG8gYWJvcnQ6ZmFsc2VcbiAgICBjb25zdCBzY2hlbWEgPSBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImN1c3RvbVwiLFxuICAgICAgICBjaGVjazogXCJjdXN0b21cIixcbiAgICAgICAgZm46IGZuLFxuICAgICAgICAuLi5ub3JtLFxuICAgIH0pO1xuICAgIHJldHVybiBzY2hlbWE7XG59XG4vLyBzYW1lIGFzIF9jdXN0b20gYnV0IGRlZmF1bHRzIHRvIGFib3J0OmZhbHNlXG5leHBvcnQgZnVuY3Rpb24gX3JlZmluZShDbGFzcywgZm4sIF9wYXJhbXMpIHtcbiAgICBjb25zdCBzY2hlbWEgPSBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImN1c3RvbVwiLFxuICAgICAgICBjaGVjazogXCJjdXN0b21cIixcbiAgICAgICAgZm46IGZuLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhfcGFyYW1zKSxcbiAgICB9KTtcbiAgICByZXR1cm4gc2NoZW1hO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9zdXBlclJlZmluZShmbikge1xuICAgIGNvbnN0IGNoID0gX2NoZWNrKChwYXlsb2FkKSA9PiB7XG4gICAgICAgIHBheWxvYWQuYWRkSXNzdWUgPSAoaXNzdWUpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXNzdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHV0aWwuaXNzdWUoaXNzdWUsIHBheWxvYWQudmFsdWUsIGNoLl96b2QuZGVmKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBmb3IgWm9kIDMgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZhdGFsKVxuICAgICAgICAgICAgICAgICAgICBfaXNzdWUuY29udGludWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfaXNzdWUuY29kZSA/PyAoX2lzc3VlLmNvZGUgPSBcImN1c3RvbVwiKTtcbiAgICAgICAgICAgICAgICBfaXNzdWUuaW5wdXQgPz8gKF9pc3N1ZS5pbnB1dCA9IHBheWxvYWQudmFsdWUpO1xuICAgICAgICAgICAgICAgIF9pc3N1ZS5pbnN0ID8/IChfaXNzdWUuaW5zdCA9IGNoKTtcbiAgICAgICAgICAgICAgICBfaXNzdWUuY29udGludWUgPz8gKF9pc3N1ZS5jb250aW51ZSA9ICFjaC5fem9kLmRlZi5hYm9ydCk7IC8vIGFib3J0IGlzIGFsd2F5cyB1bmRlZmluZWQsIHNvIHRoaXMgaXMgYWx3YXlzIHRydWUuLi5cbiAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHV0aWwuaXNzdWUoX2lzc3VlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBmbihwYXlsb2FkLnZhbHVlLCBwYXlsb2FkKTtcbiAgICB9KTtcbiAgICByZXR1cm4gY2g7XG59XG5leHBvcnQgZnVuY3Rpb24gX2NoZWNrKGZuLCBwYXJhbXMpIHtcbiAgICBjb25zdCBjaCA9IG5ldyBjaGVja3MuJFpvZENoZWNrKHtcbiAgICAgICAgY2hlY2s6IFwiY3VzdG9tXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG4gICAgY2guX3pvZC5jaGVjayA9IGZuO1xuICAgIHJldHVybiBjaDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfc3RyaW5nYm9vbChDbGFzc2VzLCBfcGFyYW1zKSB7XG4gICAgY29uc3QgcGFyYW1zID0gdXRpbC5ub3JtYWxpemVQYXJhbXMoX3BhcmFtcyk7XG4gICAgbGV0IHRydXRoeUFycmF5ID0gcGFyYW1zLnRydXRoeSA/PyBbXCJ0cnVlXCIsIFwiMVwiLCBcInllc1wiLCBcIm9uXCIsIFwieVwiLCBcImVuYWJsZWRcIl07XG4gICAgbGV0IGZhbHN5QXJyYXkgPSBwYXJhbXMuZmFsc3kgPz8gW1wiZmFsc2VcIiwgXCIwXCIsIFwibm9cIiwgXCJvZmZcIiwgXCJuXCIsIFwiZGlzYWJsZWRcIl07XG4gICAgaWYgKHBhcmFtcy5jYXNlICE9PSBcInNlbnNpdGl2ZVwiKSB7XG4gICAgICAgIHRydXRoeUFycmF5ID0gdHJ1dGh5QXJyYXkubWFwKCh2KSA9PiAodHlwZW9mIHYgPT09IFwic3RyaW5nXCIgPyB2LnRvTG93ZXJDYXNlKCkgOiB2KSk7XG4gICAgICAgIGZhbHN5QXJyYXkgPSBmYWxzeUFycmF5Lm1hcCgodikgPT4gKHR5cGVvZiB2ID09PSBcInN0cmluZ1wiID8gdi50b0xvd2VyQ2FzZSgpIDogdikpO1xuICAgIH1cbiAgICBjb25zdCB0cnV0aHlTZXQgPSBuZXcgU2V0KHRydXRoeUFycmF5KTtcbiAgICBjb25zdCBmYWxzeVNldCA9IG5ldyBTZXQoZmFsc3lBcnJheSk7XG4gICAgY29uc3QgX0NvZGVjID0gQ2xhc3Nlcy5Db2RlYyA/PyBzY2hlbWFzLiRab2RDb2RlYztcbiAgICBjb25zdCBfQm9vbGVhbiA9IENsYXNzZXMuQm9vbGVhbiA/PyBzY2hlbWFzLiRab2RCb29sZWFuO1xuICAgIGNvbnN0IF9TdHJpbmcgPSBDbGFzc2VzLlN0cmluZyA/PyBzY2hlbWFzLiRab2RTdHJpbmc7XG4gICAgY29uc3Qgc3RyaW5nU2NoZW1hID0gbmV3IF9TdHJpbmcoeyB0eXBlOiBcInN0cmluZ1wiLCBlcnJvcjogcGFyYW1zLmVycm9yIH0pO1xuICAgIGNvbnN0IGJvb2xlYW5TY2hlbWEgPSBuZXcgX0Jvb2xlYW4oeyB0eXBlOiBcImJvb2xlYW5cIiwgZXJyb3I6IHBhcmFtcy5lcnJvciB9KTtcbiAgICBjb25zdCBjb2RlYyA9IG5ldyBfQ29kZWMoe1xuICAgICAgICB0eXBlOiBcInBpcGVcIixcbiAgICAgICAgaW46IHN0cmluZ1NjaGVtYSxcbiAgICAgICAgb3V0OiBib29sZWFuU2NoZW1hLFxuICAgICAgICB0cmFuc2Zvcm06ICgoaW5wdXQsIHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgIGxldCBkYXRhID0gaW5wdXQ7XG4gICAgICAgICAgICBpZiAocGFyYW1zLmNhc2UgIT09IFwic2Vuc2l0aXZlXCIpXG4gICAgICAgICAgICAgICAgZGF0YSA9IGRhdGEudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGlmICh0cnV0aHlTZXQuaGFzKGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmYWxzeVNldC5oYXMoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3ZhbHVlXCIsXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcInN0cmluZ2Jvb2xcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiBbLi4udHJ1dGh5U2V0LCAuLi5mYWxzeVNldF0sXG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBpbnN0OiBjb2RlYyxcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIHJldmVyc2VUcmFuc2Zvcm06ICgoaW5wdXQsIF9wYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICBpZiAoaW5wdXQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1dGh5QXJyYXlbMF0gfHwgXCJ0cnVlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc3lBcnJheVswXSB8fCBcImZhbHNlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICBlcnJvcjogcGFyYW1zLmVycm9yLFxuICAgIH0pO1xuICAgIHJldHVybiBjb2RlYztcbn1cbmV4cG9ydCBmdW5jdGlvbiBfc3RyaW5nRm9ybWF0KENsYXNzLCBmb3JtYXQsIGZuT3JSZWdleCwgX3BhcmFtcyA9IHt9KSB7XG4gICAgY29uc3QgcGFyYW1zID0gdXRpbC5ub3JtYWxpemVQYXJhbXMoX3BhcmFtcyk7XG4gICAgY29uc3QgZGVmID0ge1xuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhfcGFyYW1zKSxcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQsXG4gICAgICAgIGZuOiB0eXBlb2YgZm5PclJlZ2V4ID09PSBcImZ1bmN0aW9uXCIgPyBmbk9yUmVnZXggOiAodmFsKSA9PiBmbk9yUmVnZXgudGVzdCh2YWwpLFxuICAgICAgICAuLi5wYXJhbXMsXG4gICAgfTtcbiAgICBpZiAoZm5PclJlZ2V4IGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgIGRlZi5wYXR0ZXJuID0gZm5PclJlZ2V4O1xuICAgIH1cbiAgICBjb25zdCBpbnN0ID0gbmV3IENsYXNzKGRlZik7XG4gICAgcmV0dXJuIGluc3Q7XG59XG4iLCAiaW1wb3J0IHsgJFpvZFJlZ2lzdHJ5LCBnbG9iYWxSZWdpc3RyeSB9IGZyb20gXCIuL3JlZ2lzdHJpZXMuanNcIjtcbmltcG9ydCB7IGdldEVudW1WYWx1ZXMgfSBmcm9tIFwiLi91dGlsLmpzXCI7XG5leHBvcnQgY2xhc3MgSlNPTlNjaGVtYUdlbmVyYXRvciB7XG4gICAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgICAgIHRoaXMuY291bnRlciA9IDA7XG4gICAgICAgIHRoaXMubWV0YWRhdGFSZWdpc3RyeSA9IHBhcmFtcz8ubWV0YWRhdGEgPz8gZ2xvYmFsUmVnaXN0cnk7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gcGFyYW1zPy50YXJnZXQgPz8gXCJkcmFmdC0yMDIwLTEyXCI7XG4gICAgICAgIHRoaXMudW5yZXByZXNlbnRhYmxlID0gcGFyYW1zPy51bnJlcHJlc2VudGFibGUgPz8gXCJ0aHJvd1wiO1xuICAgICAgICB0aGlzLm92ZXJyaWRlID0gcGFyYW1zPy5vdmVycmlkZSA/PyAoKCkgPT4geyB9KTtcbiAgICAgICAgdGhpcy5pbyA9IHBhcmFtcz8uaW8gPz8gXCJvdXRwdXRcIjtcbiAgICAgICAgdGhpcy5zZWVuID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBwcm9jZXNzKHNjaGVtYSwgX3BhcmFtcyA9IHsgcGF0aDogW10sIHNjaGVtYVBhdGg6IFtdIH0pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBkZWYgPSBzY2hlbWEuX3pvZC5kZWY7XG4gICAgICAgIGNvbnN0IGZvcm1hdE1hcCA9IHtcbiAgICAgICAgICAgIGd1aWQ6IFwidXVpZFwiLFxuICAgICAgICAgICAgdXJsOiBcInVyaVwiLFxuICAgICAgICAgICAgZGF0ZXRpbWU6IFwiZGF0ZS10aW1lXCIsXG4gICAgICAgICAgICBqc29uX3N0cmluZzogXCJqc29uLXN0cmluZ1wiLFxuICAgICAgICAgICAgcmVnZXg6IFwiXCIsIC8vIGRvIG5vdCBzZXRcbiAgICAgICAgfTtcbiAgICAgICAgLy8gY2hlY2sgZm9yIHNjaGVtYSBpbiBzZWVuc1xuICAgICAgICBjb25zdCBzZWVuID0gdGhpcy5zZWVuLmdldChzY2hlbWEpO1xuICAgICAgICBpZiAoc2Vlbikge1xuICAgICAgICAgICAgc2Vlbi5jb3VudCsrO1xuICAgICAgICAgICAgLy8gY2hlY2sgaWYgY3ljbGVcbiAgICAgICAgICAgIGNvbnN0IGlzQ3ljbGUgPSBfcGFyYW1zLnNjaGVtYVBhdGguaW5jbHVkZXMoc2NoZW1hKTtcbiAgICAgICAgICAgIGlmIChpc0N5Y2xlKSB7XG4gICAgICAgICAgICAgICAgc2Vlbi5jeWNsZSA9IF9wYXJhbXMucGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzZWVuLnNjaGVtYTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbml0aWFsaXplXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHsgc2NoZW1hOiB7fSwgY291bnQ6IDEsIGN5Y2xlOiB1bmRlZmluZWQsIHBhdGg6IF9wYXJhbXMucGF0aCB9O1xuICAgICAgICB0aGlzLnNlZW4uc2V0KHNjaGVtYSwgcmVzdWx0KTtcbiAgICAgICAgLy8gY3VzdG9tIG1ldGhvZCBvdmVycmlkZXMgZGVmYXVsdCBiZWhhdmlvclxuICAgICAgICBjb25zdCBvdmVycmlkZVNjaGVtYSA9IHNjaGVtYS5fem9kLnRvSlNPTlNjaGVtYT8uKCk7XG4gICAgICAgIGlmIChvdmVycmlkZVNjaGVtYSkge1xuICAgICAgICAgICAgcmVzdWx0LnNjaGVtYSA9IG92ZXJyaWRlU2NoZW1hO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIC4uLl9wYXJhbXMsXG4gICAgICAgICAgICAgICAgc2NoZW1hUGF0aDogWy4uLl9wYXJhbXMuc2NoZW1hUGF0aCwgc2NoZW1hXSxcbiAgICAgICAgICAgICAgICBwYXRoOiBfcGFyYW1zLnBhdGgsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gc2NoZW1hLl96b2QucGFyZW50O1xuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICAgIC8vIHNjaGVtYSB3YXMgY2xvbmVkIGZyb20gYW5vdGhlciBzY2hlbWFcbiAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gcGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2VzcyhwYXJlbnQsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWVuLmdldChwYXJlbnQpLmlzUGFyZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9qc29uID0gcmVzdWx0LnNjaGVtYTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRlZi50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbWluaW11bSwgbWF4aW11bSwgZm9ybWF0LCBwYXR0ZXJucywgY29udGVudEVuY29kaW5nIH0gPSBzY2hlbWEuX3pvZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5iYWc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1pbmltdW0gPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5taW5MZW5ndGggPSBtaW5pbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtYXhpbXVtID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ubWF4TGVuZ3RoID0gbWF4aW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGN1c3RvbSBwYXR0ZXJuIG92ZXJyaWRlcyBmb3JtYXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JtYXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmZvcm1hdCA9IGZvcm1hdE1hcFtmb3JtYXRdID8/IGZvcm1hdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvbi5mb3JtYXQgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBqc29uLmZvcm1hdDsgLy8gZW1wdHkgZm9ybWF0IGlzIG5vdCB2YWxpZFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRFbmNvZGluZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmNvbnRlbnRFbmNvZGluZyA9IGNvbnRlbnRFbmNvZGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXR0ZXJucyAmJiBwYXR0ZXJucy5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2V4ZXMgPSBbLi4ucGF0dGVybnNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWdleGVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5wYXR0ZXJuID0gcmVnZXhlc1swXS5zb3VyY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVnZXhlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zY2hlbWEuYWxsT2YgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5yZWdleGVzLm1hcCgocmVnZXgpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKHRoaXMudGFyZ2V0ID09PSBcImRyYWZ0LTdcIiB8fCB0aGlzLnRhcmdldCA9PT0gXCJkcmFmdC00XCIgfHwgdGhpcy50YXJnZXQgPT09IFwib3BlbmFwaS0zLjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHsgdHlwZTogXCJzdHJpbmdcIiB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm46IHJlZ2V4LnNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBfanNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbWluaW11bSwgbWF4aW11bSwgZm9ybWF0LCBtdWx0aXBsZU9mLCBleGNsdXNpdmVNYXhpbXVtLCBleGNsdXNpdmVNaW5pbXVtIH0gPSBzY2hlbWEuX3pvZC5iYWc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZvcm1hdCA9PT0gXCJzdHJpbmdcIiAmJiBmb3JtYXQuaW5jbHVkZXMoXCJpbnRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJpbnRlZ2VyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXhjbHVzaXZlTWluaW11bSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCA9PT0gXCJkcmFmdC00XCIgfHwgdGhpcy50YXJnZXQgPT09IFwib3BlbmFwaS0zLjBcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm1pbmltdW0gPSBleGNsdXNpdmVNaW5pbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmV4Y2x1c2l2ZU1pbmltdW0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5leGNsdXNpdmVNaW5pbXVtID0gZXhjbHVzaXZlTWluaW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1pbmltdW0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm1pbmltdW0gPSBtaW5pbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXhjbHVzaXZlTWluaW11bSA9PT0gXCJudW1iZXJcIiAmJiB0aGlzLnRhcmdldCAhPT0gXCJkcmFmdC00XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4Y2x1c2l2ZU1pbmltdW0gPj0gbWluaW11bSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBqc29uLm1pbmltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBqc29uLmV4Y2x1c2l2ZU1pbmltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBleGNsdXNpdmVNYXhpbXVtID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0ID09PSBcImRyYWZ0LTRcIiB8fCB0aGlzLnRhcmdldCA9PT0gXCJvcGVuYXBpLTMuMFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ubWF4aW11bSA9IGV4Y2x1c2l2ZU1heGltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uZXhjbHVzaXZlTWF4aW11bSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmV4Y2x1c2l2ZU1heGltdW0gPSBleGNsdXNpdmVNYXhpbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWF4aW11bSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ubWF4aW11bSA9IG1heGltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBleGNsdXNpdmVNYXhpbXVtID09PSBcIm51bWJlclwiICYmIHRoaXMudGFyZ2V0ICE9PSBcImRyYWZ0LTRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhjbHVzaXZlTWF4aW11bSA8PSBtYXhpbXVtKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGpzb24ubWF4aW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGpzb24uZXhjbHVzaXZlTWF4aW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG11bHRpcGxlT2YgPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5tdWx0aXBsZU9mID0gbXVsdGlwbGVPZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBfanNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwiYm9vbGVhblwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJpZ2ludFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkJpZ0ludCBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3ltYm9scyBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibnVsbFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50YXJnZXQgPT09IFwib3BlbmFwaS0zLjBcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9qc29uLnR5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9qc29uLm51bGxhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfanNvbi5lbnVtID0gW251bGxdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9qc29uLnR5cGUgPSBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbnlcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVua25vd25cIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuZGVmaW5lZCBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidm9pZFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlZvaWQgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5ldmVyXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9qc29uLm5vdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRhdGVcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEYXRlIGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhcnJheVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG1pbmltdW0sIG1heGltdW0gfSA9IHNjaGVtYS5fem9kLmJhZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWluaW11bSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm1pbkl0ZW1zID0gbWluaW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWF4aW11bSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm1heEl0ZW1zID0gbWF4aW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwiYXJyYXlcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uaXRlbXMgPSB0aGlzLnByb2Nlc3MoZGVmLmVsZW1lbnQsIHsgLi4ucGFyYW1zLCBwYXRoOiBbLi4ucGFyYW1zLnBhdGgsIFwiaXRlbXNcIl0gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBfanNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwib2JqZWN0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLnByb3BlcnRpZXMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNoYXBlID0gZGVmLnNoYXBlOyAvLyBwYXJhbXMuc2hhcGVDYWNoZS5nZXQoc2NoZW1hKSE7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzaGFwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ucHJvcGVydGllc1trZXldID0gdGhpcy5wcm9jZXNzKHNoYXBlW2tleV0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBbLi4ucGFyYW1zLnBhdGgsIFwicHJvcGVydGllc1wiLCBrZXldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWlyZWQga2V5c1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsS2V5cyA9IG5ldyBTZXQoT2JqZWN0LmtleXMoc2hhcGUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IG9wdGlvbmFsS2V5cyA9IG5ldyBTZXQoZGVmLm9wdGlvbmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVpcmVkS2V5cyA9IG5ldyBTZXQoWy4uLmFsbEtleXNdLmZpbHRlcigoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdiA9IGRlZi5zaGFwZVtrZXldLl96b2Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW8gPT09IFwiaW5wdXRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdi5vcHRpbiA9PT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHYub3B0b3V0ID09PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcXVpcmVkS2V5cy5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ucmVxdWlyZWQgPSBBcnJheS5mcm9tKHJlcXVpcmVkS2V5cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjYXRjaGFsbFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZi5jYXRjaGFsbD8uX3pvZC5kZWYudHlwZSA9PT0gXCJuZXZlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RyaWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5hZGRpdGlvbmFsUHJvcGVydGllcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIWRlZi5jYXRjaGFsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlZ3VsYXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbyA9PT0gXCJvdXRwdXRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5hZGRpdGlvbmFsUHJvcGVydGllcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZGVmLmNhdGNoYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5hZGRpdGlvbmFsUHJvcGVydGllcyA9IHRoaXMucHJvY2VzcyhkZWYuY2F0Y2hhbGwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBbLi4ucGFyYW1zLnBhdGgsIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidW5pb25cIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGRlZi5vcHRpb25zLm1hcCgoeCwgaSkgPT4gdGhpcy5wcm9jZXNzKHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogWy4uLnBhcmFtcy5wYXRoLCBcImFueU9mXCIsIGldLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbi5hbnlPZiA9IG9wdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW50ZXJzZWN0aW9uXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBfanNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGEgPSB0aGlzLnByb2Nlc3MoZGVmLmxlZnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogWy4uLnBhcmFtcy5wYXRoLCBcImFsbE9mXCIsIDBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiID0gdGhpcy5wcm9jZXNzKGRlZi5yaWdodCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBbLi4ucGFyYW1zLnBhdGgsIFwiYWxsT2ZcIiwgMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzU2ltcGxlSW50ZXJzZWN0aW9uID0gKHZhbCkgPT4gXCJhbGxPZlwiIGluIHZhbCAmJiBPYmplY3Qua2V5cyh2YWwpLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbE9mID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLihpc1NpbXBsZUludGVyc2VjdGlvbihhKSA/IGEuYWxsT2YgOiBbYV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLihpc1NpbXBsZUludGVyc2VjdGlvbihiKSA/IGIuYWxsT2YgOiBbYl0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uYWxsT2YgPSBhbGxPZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0dXBsZVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcImFycmF5XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmVmaXhQYXRoID0gdGhpcy50YXJnZXQgPT09IFwiZHJhZnQtMjAyMC0xMlwiID8gXCJwcmVmaXhJdGVtc1wiIDogXCJpdGVtc1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdFBhdGggPSB0aGlzLnRhcmdldCA9PT0gXCJkcmFmdC0yMDIwLTEyXCIgPyBcIml0ZW1zXCIgOiB0aGlzLnRhcmdldCA9PT0gXCJvcGVuYXBpLTMuMFwiID8gXCJpdGVtc1wiIDogXCJhZGRpdGlvbmFsSXRlbXNcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZWZpeEl0ZW1zID0gZGVmLml0ZW1zLm1hcCgoeCwgaSkgPT4gdGhpcy5wcm9jZXNzKHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogWy4uLnBhcmFtcy5wYXRoLCBwcmVmaXhQYXRoLCBpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3QgPSBkZWYucmVzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5wcm9jZXNzKGRlZi5yZXN0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogWy4uLnBhcmFtcy5wYXRoLCByZXN0UGF0aCwgLi4uKHRoaXMudGFyZ2V0ID09PSBcIm9wZW5hcGktMy4wXCIgPyBbZGVmLml0ZW1zLmxlbmd0aF0gOiBbXSldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0ID09PSBcImRyYWZ0LTIwMjAtMTJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ucHJlZml4SXRlbXMgPSBwcmVmaXhJdGVtcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLml0ZW1zID0gcmVzdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnRhcmdldCA9PT0gXCJvcGVuYXBpLTMuMFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5pdGVtcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW55T2Y6IHByZWZpeEl0ZW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5pdGVtcy5hbnlPZi5wdXNoKHJlc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm1pbkl0ZW1zID0gcHJlZml4SXRlbXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm1heEl0ZW1zID0gcHJlZml4SXRlbXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uaXRlbXMgPSBwcmVmaXhJdGVtcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmFkZGl0aW9uYWxJdGVtcyA9IHJlc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG1pbmltdW0sIG1heGltdW0gfSA9IHNjaGVtYS5fem9kLmJhZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWluaW11bSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm1pbkl0ZW1zID0gbWluaW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWF4aW11bSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm1heEl0ZW1zID0gbWF4aW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJyZWNvcmRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJvYmplY3RcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCA9PT0gXCJkcmFmdC03XCIgfHwgdGhpcy50YXJnZXQgPT09IFwiZHJhZnQtMjAyMC0xMlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5wcm9wZXJ0eU5hbWVzID0gdGhpcy5wcm9jZXNzKGRlZi5rZXlUeXBlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogWy4uLnBhcmFtcy5wYXRoLCBcInByb3BlcnR5TmFtZXNcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gdGhpcy5wcm9jZXNzKGRlZi52YWx1ZVR5cGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogWy4uLnBhcmFtcy5wYXRoLCBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibWFwXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWFwIGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzZXRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZXQgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImVudW1cIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gZ2V0RW51bVZhbHVlcyhkZWYuZW50cmllcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOdW1iZXIgZW51bXMgY2FuIGhhdmUgYm90aCBzdHJpbmcgYW5kIG51bWJlciB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMuZXZlcnkoKHYpID0+IHR5cGVvZiB2ID09PSBcIm51bWJlclwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlcy5ldmVyeSgodikgPT4gdHlwZW9mIHYgPT09IFwic3RyaW5nXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwic3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLmVudW0gPSB2YWx1ZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibGl0ZXJhbFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWxzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiBkZWYudmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMaXRlcmFsIGB1bmRlZmluZWRgIGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdCBhZGQgdG8gdmFsc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09IFwiYmlnaW50XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkJpZ0ludCBsaXRlcmFscyBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxzLnB1c2goTnVtYmVyKHZhbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxzLnB1c2godmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkbyBub3RoaW5nIChhbiB1bmRlZmluZWQgbGl0ZXJhbCB3YXMgc3RyaXBwZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWxzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IHZhbHNbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gdmFsID09PSBudWxsID8gXCJudWxsXCIgOiB0eXBlb2YgdmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCA9PT0gXCJkcmFmdC00XCIgfHwgdGhpcy50YXJnZXQgPT09IFwib3BlbmFwaS0zLjBcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmVudW0gPSBbdmFsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uY29uc3QgPSB2YWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHMuZXZlcnkoKHYpID0+IHR5cGVvZiB2ID09PSBcIm51bWJlclwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFscy5ldmVyeSgodikgPT4gdHlwZW9mIHYgPT09IFwic3RyaW5nXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxzLmV2ZXJ5KCh2KSA9PiB0eXBlb2YgdiA9PT0gXCJib29sZWFuXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxzLmV2ZXJ5KCh2KSA9PiB2ID09PSBudWxsKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5lbnVtID0gdmFscztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJmaWxlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBfanNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IFwiYmluYXJ5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudEVuY29kaW5nOiBcImJpbmFyeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbWluaW11bSwgbWF4aW11bSwgbWltZSB9ID0gc2NoZW1hLl96b2QuYmFnO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1pbmltdW0gIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlLm1pbkxlbmd0aCA9IG1pbmltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF4aW11bSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUubWF4TGVuZ3RoID0gbWF4aW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1pbWUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUuY29udGVudE1lZGlhVHlwZSA9IG1pbWVbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oanNvbiwgZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmFueU9mID0gbWltZS5tYXAoKG0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1GaWxlID0geyAuLi5maWxlLCBjb250ZW50TWVkaWFUeXBlOiBtIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbUZpbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oanNvbiwgZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICB0aHJvdyBuZXcgRXJyb3IoXCJGaWxlIGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0cmFuc2Zvcm1cIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2Zvcm1zIGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJudWxsYWJsZVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbm5lciA9IHRoaXMucHJvY2VzcyhkZWYuaW5uZXJUeXBlLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0ID09PSBcIm9wZW5hcGktMy4wXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfanNvbi5udWxsYWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfanNvbi5hbnlPZiA9IFtpbm5lciwgeyB0eXBlOiBcIm51bGxcIiB9XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJub25vcHRpb25hbFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3MoZGVmLmlubmVyVHlwZSwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5yZWYgPSBkZWYuaW5uZXJUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN1Y2Nlc3NcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJib29sZWFuXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3MoZGVmLmlubmVyVHlwZSwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5yZWYgPSBkZWYuaW5uZXJUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2pzb24uZGVmYXVsdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZGVmLmRlZmF1bHRWYWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInByZWZhdWx0XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2VzcyhkZWYuaW5uZXJUeXBlLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlZiA9IGRlZi5pbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbyA9PT0gXCJpbnB1dFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9qc29uLl9wcmVmYXVsdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZGVmLmRlZmF1bHRWYWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNhdGNoXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVzZSBjb25kaXRpb25hbHNcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2VzcyhkZWYuaW5uZXJUeXBlLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlZiA9IGRlZi5pbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2F0Y2hWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2hWYWx1ZSA9IGRlZi5jYXRjaFZhbHVlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRHluYW1pYyBjYXRjaCB2YWx1ZXMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfanNvbi5kZWZhdWx0ID0gY2F0Y2hWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJuYW5cIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOYU4gY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInRlbXBsYXRlX2xpdGVyYWxcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0dGVybiA9IHNjaGVtYS5fem9kLnBhdHRlcm47XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBhdHRlcm4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGF0dGVybiBub3QgZm91bmQgaW4gdGVtcGxhdGUgbGl0ZXJhbFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwic3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLnBhdHRlcm4gPSBwYXR0ZXJuLnNvdXJjZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJwaXBlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlubmVyVHlwZSA9IHRoaXMuaW8gPT09IFwiaW5wdXRcIiA/IChkZWYuaW4uX3pvZC5kZWYudHlwZSA9PT0gXCJ0cmFuc2Zvcm1cIiA/IGRlZi5vdXQgOiBkZWYuaW4pIDogZGVmLm91dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzcyhpbm5lclR5cGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gaW5uZXJUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJlYWRvbmx5XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2VzcyhkZWYuaW5uZXJUeXBlLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlZiA9IGRlZi5pbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfanNvbi5yZWFkT25seSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBwYXNzdGhyb3VnaCB0eXBlc1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicHJvbWlzZVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3MoZGVmLmlubmVyVHlwZSwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5yZWYgPSBkZWYuaW5uZXJUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm9wdGlvbmFsXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2VzcyhkZWYuaW5uZXJUeXBlLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlZiA9IGRlZi5pbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibGF6eVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbm5lclR5cGUgPSBzY2hlbWEuX3pvZC5pbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3MoaW5uZXJUeXBlLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlZiA9IGlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjdXN0b21cIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDdXN0b20gdHlwZXMgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRnVuY3Rpb24gdHlwZXMgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIG1ldGFkYXRhXG4gICAgICAgIGNvbnN0IG1ldGEgPSB0aGlzLm1ldGFkYXRhUmVnaXN0cnkuZ2V0KHNjaGVtYSk7XG4gICAgICAgIGlmIChtZXRhKVxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihyZXN1bHQuc2NoZW1hLCBtZXRhKTtcbiAgICAgICAgaWYgKHRoaXMuaW8gPT09IFwiaW5wdXRcIiAmJiBpc1RyYW5zZm9ybWluZyhzY2hlbWEpKSB7XG4gICAgICAgICAgICAvLyBleGFtcGxlcy9kZWZhdWx0cyBvbmx5IGFwcGx5IHRvIG91dHB1dCB0eXBlIG9mIHBpcGVcbiAgICAgICAgICAgIGRlbGV0ZSByZXN1bHQuc2NoZW1hLmV4YW1wbGVzO1xuICAgICAgICAgICAgZGVsZXRlIHJlc3VsdC5zY2hlbWEuZGVmYXVsdDtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgcHJlZmF1bHQgYXMgZGVmYXVsdFxuICAgICAgICBpZiAodGhpcy5pbyA9PT0gXCJpbnB1dFwiICYmIHJlc3VsdC5zY2hlbWEuX3ByZWZhdWx0KVxuICAgICAgICAgICAgKF9hID0gcmVzdWx0LnNjaGVtYSkuZGVmYXVsdCA/PyAoX2EuZGVmYXVsdCA9IHJlc3VsdC5zY2hlbWEuX3ByZWZhdWx0KTtcbiAgICAgICAgZGVsZXRlIHJlc3VsdC5zY2hlbWEuX3ByZWZhdWx0O1xuICAgICAgICAvLyBwdWxsaW5nIGZyZXNoIGZyb20gdGhpcy5zZWVuIGluIGNhc2UgaXQgd2FzIG92ZXJ3cml0dGVuXG4gICAgICAgIGNvbnN0IF9yZXN1bHQgPSB0aGlzLnNlZW4uZ2V0KHNjaGVtYSk7XG4gICAgICAgIHJldHVybiBfcmVzdWx0LnNjaGVtYTtcbiAgICB9XG4gICAgZW1pdChzY2hlbWEsIF9wYXJhbXMpIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgY3ljbGVzOiBfcGFyYW1zPy5jeWNsZXMgPz8gXCJyZWZcIixcbiAgICAgICAgICAgIHJldXNlZDogX3BhcmFtcz8ucmV1c2VkID8/IFwiaW5saW5lXCIsXG4gICAgICAgICAgICAvLyB1bnJlcHJlc2VudGFibGU6IF9wYXJhbXM/LnVucmVwcmVzZW50YWJsZSA/PyBcInRocm93XCIsXG4gICAgICAgICAgICAvLyB1cmk6IF9wYXJhbXM/LnVyaSA/PyAoKGlkKSA9PiBgJHtpZH1gKSxcbiAgICAgICAgICAgIGV4dGVybmFsOiBfcGFyYW1zPy5leHRlcm5hbCA/PyB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgICAgIC8vIGl0ZXJhdGUgb3ZlciBzZWVuIG1hcDtcbiAgICAgICAgY29uc3Qgcm9vdCA9IHRoaXMuc2Vlbi5nZXQoc2NoZW1hKTtcbiAgICAgICAgaWYgKCFyb290KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5wcm9jZXNzZWQgc2NoZW1hLiBUaGlzIGlzIGEgYnVnIGluIFpvZC5cIik7XG4gICAgICAgIC8vIGluaXRpYWxpemUgcmVzdWx0IHdpdGggcm9vdCBzY2hlbWEgZmllbGRzXG4gICAgICAgIC8vIE9iamVjdC5hc3NpZ24ocmVzdWx0LCBzZWVuLmNhY2hlZCk7XG4gICAgICAgIC8vIHJldHVybnMgYSByZWYgdG8gdGhlIHNjaGVtYVxuICAgICAgICAvLyBkZWZJZCB3aWxsIGJlIGVtcHR5IGlmIHRoZSByZWYgcG9pbnRzIHRvIGFuIGV4dGVybmFsIHNjaGVtYSAob3IgIylcbiAgICAgICAgY29uc3QgbWFrZVVSSSA9IChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgLy8gY29tcGFyaW5nIHRoZSBzZWVuIG9iamVjdHMgYmVjYXVzZSBzb21ldGltZXNcbiAgICAgICAgICAgIC8vIG11bHRpcGxlIHNjaGVtYXMgbWFwIHRvIHRoZSBzYW1lIHNlZW4gb2JqZWN0LlxuICAgICAgICAgICAgLy8gZS5nLiBsYXp5XG4gICAgICAgICAgICAvLyBleHRlcm5hbCBpcyBjb25maWd1cmVkXG4gICAgICAgICAgICBjb25zdCBkZWZzU2VnbWVudCA9IHRoaXMudGFyZ2V0ID09PSBcImRyYWZ0LTIwMjAtMTJcIiA/IFwiJGRlZnNcIiA6IFwiZGVmaW5pdGlvbnNcIjtcbiAgICAgICAgICAgIGlmIChwYXJhbXMuZXh0ZXJuYWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleHRlcm5hbElkID0gcGFyYW1zLmV4dGVybmFsLnJlZ2lzdHJ5LmdldChlbnRyeVswXSk/LmlkOyAvLyA/PyBcIl9fc2hhcmVkXCI7Ly8gYF9fc2NoZW1hJHt0aGlzLmNvdW50ZXIrK31gO1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHNjaGVtYSBpcyBpbiB0aGUgZXh0ZXJuYWwgcmVnaXN0cnlcbiAgICAgICAgICAgICAgICBjb25zdCB1cmlHZW5lcmF0b3IgPSBwYXJhbXMuZXh0ZXJuYWwudXJpID8/ICgoaWQpID0+IGlkKTtcbiAgICAgICAgICAgICAgICBpZiAoZXh0ZXJuYWxJZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyByZWY6IHVyaUdlbmVyYXRvcihleHRlcm5hbElkKSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UsIGFkZCB0byBfX3NoYXJlZFxuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gZW50cnlbMV0uZGVmSWQgPz8gZW50cnlbMV0uc2NoZW1hLmlkID8/IGBzY2hlbWEke3RoaXMuY291bnRlcisrfWA7XG4gICAgICAgICAgICAgICAgZW50cnlbMV0uZGVmSWQgPSBpZDsgLy8gc2V0IGRlZklkIHNvIGl0IHdpbGwgYmUgcmV1c2VkIGlmIG5lZWRlZFxuICAgICAgICAgICAgICAgIHJldHVybiB7IGRlZklkOiBpZCwgcmVmOiBgJHt1cmlHZW5lcmF0b3IoXCJfX3NoYXJlZFwiKX0jLyR7ZGVmc1NlZ21lbnR9LyR7aWR9YCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVudHJ5WzFdID09PSByb290KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgcmVmOiBcIiNcIiB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc2VsZi1jb250YWluZWQgc2NoZW1hXG4gICAgICAgICAgICBjb25zdCB1cmlQcmVmaXggPSBgI2A7XG4gICAgICAgICAgICBjb25zdCBkZWZVcmlQcmVmaXggPSBgJHt1cmlQcmVmaXh9LyR7ZGVmc1NlZ21lbnR9L2A7XG4gICAgICAgICAgICBjb25zdCBkZWZJZCA9IGVudHJ5WzFdLnNjaGVtYS5pZCA/PyBgX19zY2hlbWEke3RoaXMuY291bnRlcisrfWA7XG4gICAgICAgICAgICByZXR1cm4geyBkZWZJZCwgcmVmOiBkZWZVcmlQcmVmaXggKyBkZWZJZCB9O1xuICAgICAgICB9O1xuICAgICAgICAvLyBzdG9yZWQgY2FjaGVkIHZlcnNpb24gaW4gYGRlZmAgcHJvcGVydHlcbiAgICAgICAgLy8gcmVtb3ZlIGFsbCBwcm9wZXJ0aWVzLCBzZXQgJHJlZlxuICAgICAgICBjb25zdCBleHRyYWN0VG9EZWYgPSAoZW50cnkpID0+IHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBzY2hlbWEgaXMgYWxyZWFkeSBhIHJlZmVyZW5jZSwgZG8gbm90IGV4dHJhY3QgaXRcbiAgICAgICAgICAgIGlmIChlbnRyeVsxXS5zY2hlbWEuJHJlZikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNlZW4gPSBlbnRyeVsxXTtcbiAgICAgICAgICAgIGNvbnN0IHsgcmVmLCBkZWZJZCB9ID0gbWFrZVVSSShlbnRyeSk7XG4gICAgICAgICAgICBzZWVuLmRlZiA9IHsgLi4uc2Vlbi5zY2hlbWEgfTtcbiAgICAgICAgICAgIC8vIGRlZklkIHdvbid0IGJlIHNldCBpZiB0aGUgc2NoZW1hIGlzIGEgcmVmZXJlbmNlIHRvIGFuIGV4dGVybmFsIHNjaGVtYVxuICAgICAgICAgICAgaWYgKGRlZklkKVxuICAgICAgICAgICAgICAgIHNlZW4uZGVmSWQgPSBkZWZJZDtcbiAgICAgICAgICAgIC8vIHdpcGUgYXdheSBhbGwgcHJvcGVydGllcyBleGNlcHQgJHJlZlxuICAgICAgICAgICAgY29uc3Qgc2NoZW1hID0gc2Vlbi5zY2hlbWE7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzY2hlbWEpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgc2NoZW1hW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzY2hlbWEuJHJlZiA9IHJlZjtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gdGhyb3cgb24gY3ljbGVzXG4gICAgICAgIC8vIGJyZWFrIGN5Y2xlc1xuICAgICAgICBpZiAocGFyYW1zLmN5Y2xlcyA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHRoaXMuc2Vlbi5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWVuID0gZW50cnlbMV07XG4gICAgICAgICAgICAgICAgaWYgKHNlZW4uY3ljbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ3ljbGUgZGV0ZWN0ZWQ6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGAjLyR7c2Vlbi5jeWNsZT8uam9pbihcIi9cIil9Lzxyb290PmAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcblxcblNldCB0aGUgYGN5Y2xlc2AgcGFyYW1ldGVyIHRvIGBcInJlZlwiYCB0byByZXNvbHZlIGN5Y2xpY2FsIHNjaGVtYXMgd2l0aCBkZWZzLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBleHRyYWN0IHNjaGVtYXMgaW50byAkZGVmc1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHRoaXMuc2Vlbi5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlZW4gPSBlbnRyeVsxXTtcbiAgICAgICAgICAgIC8vIGNvbnZlcnQgcm9vdCBzY2hlbWEgdG8gIyAkcmVmXG4gICAgICAgICAgICBpZiAoc2NoZW1hID09PSBlbnRyeVswXSkge1xuICAgICAgICAgICAgICAgIGV4dHJhY3RUb0RlZihlbnRyeSk7IC8vIHRoaXMgaGFzIHNwZWNpYWwgaGFuZGxpbmcgZm9yIHRoZSByb290IHNjaGVtYVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXh0cmFjdCBzY2hlbWFzIHRoYXQgYXJlIGluIHRoZSBleHRlcm5hbCByZWdpc3RyeVxuICAgICAgICAgICAgaWYgKHBhcmFtcy5leHRlcm5hbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4dCA9IHBhcmFtcy5leHRlcm5hbC5yZWdpc3RyeS5nZXQoZW50cnlbMF0pPy5pZDtcbiAgICAgICAgICAgICAgICBpZiAoc2NoZW1hICE9PSBlbnRyeVswXSAmJiBleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFjdFRvRGVmKGVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXh0cmFjdCBzY2hlbWFzIHdpdGggYGlkYCBtZXRhXG4gICAgICAgICAgICBjb25zdCBpZCA9IHRoaXMubWV0YWRhdGFSZWdpc3RyeS5nZXQoZW50cnlbMF0pPy5pZDtcbiAgICAgICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgICAgIGV4dHJhY3RUb0RlZihlbnRyeSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBicmVhayBjeWNsZXNcbiAgICAgICAgICAgIGlmIChzZWVuLmN5Y2xlKSB7XG4gICAgICAgICAgICAgICAgLy8gYW55XG4gICAgICAgICAgICAgICAgZXh0cmFjdFRvRGVmKGVudHJ5KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGV4dHJhY3QgcmV1c2VkIHNjaGVtYXNcbiAgICAgICAgICAgIGlmIChzZWVuLmNvdW50ID4gMSkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMucmV1c2VkID09PSBcInJlZlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhY3RUb0RlZihlbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJpb21lLWlnbm9yZSBsaW50OlxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZmxhdHRlbiBfcmVmc1xuICAgICAgICBjb25zdCBmbGF0dGVuUmVmID0gKHpvZFNjaGVtYSwgcGFyYW1zKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWVuID0gdGhpcy5zZWVuLmdldCh6b2RTY2hlbWEpO1xuICAgICAgICAgICAgY29uc3Qgc2NoZW1hID0gc2Vlbi5kZWYgPz8gc2Vlbi5zY2hlbWE7XG4gICAgICAgICAgICBjb25zdCBfY2FjaGVkID0geyAuLi5zY2hlbWEgfTtcbiAgICAgICAgICAgIC8vIGFscmVhZHkgc2VlblxuICAgICAgICAgICAgaWYgKHNlZW4ucmVmID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZmxhdHRlbiByZWYgaWYgZGVmaW5lZFxuICAgICAgICAgICAgY29uc3QgcmVmID0gc2Vlbi5yZWY7XG4gICAgICAgICAgICBzZWVuLnJlZiA9IG51bGw7IC8vIHByZXZlbnQgcmVjdXJzaW9uXG4gICAgICAgICAgICBpZiAocmVmKSB7XG4gICAgICAgICAgICAgICAgZmxhdHRlblJlZihyZWYsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgLy8gbWVyZ2UgcmVmZXJlbmNlZCBzY2hlbWEgaW50byBjdXJyZW50XG4gICAgICAgICAgICAgICAgY29uc3QgcmVmU2NoZW1hID0gdGhpcy5zZWVuLmdldChyZWYpLnNjaGVtYTtcbiAgICAgICAgICAgICAgICBpZiAocmVmU2NoZW1hLiRyZWYgJiZcbiAgICAgICAgICAgICAgICAgICAgKHBhcmFtcy50YXJnZXQgPT09IFwiZHJhZnQtN1wiIHx8IHBhcmFtcy50YXJnZXQgPT09IFwiZHJhZnQtNFwiIHx8IHBhcmFtcy50YXJnZXQgPT09IFwib3BlbmFwaS0zLjBcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hLmFsbE9mID0gc2NoZW1hLmFsbE9mID8/IFtdO1xuICAgICAgICAgICAgICAgICAgICBzY2hlbWEuYWxsT2YucHVzaChyZWZTY2hlbWEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihzY2hlbWEsIHJlZlNjaGVtYSk7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oc2NoZW1hLCBfY2FjaGVkKTsgLy8gcHJldmVudCBvdmVyd3JpdGluZyBhbnkgZmllbGRzIGluIHRoZSBvcmlnaW5hbCBzY2hlbWFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBleGVjdXRlIG92ZXJyaWRlc1xuICAgICAgICAgICAgaWYgKCFzZWVuLmlzUGFyZW50KVxuICAgICAgICAgICAgICAgIHRoaXMub3ZlcnJpZGUoe1xuICAgICAgICAgICAgICAgICAgICB6b2RTY2hlbWE6IHpvZFNjaGVtYSxcbiAgICAgICAgICAgICAgICAgICAganNvblNjaGVtYTogc2NoZW1hLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBzZWVuLnBhdGggPz8gW10sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgWy4uLnRoaXMuc2Vlbi5lbnRyaWVzKCldLnJldmVyc2UoKSkge1xuICAgICAgICAgICAgZmxhdHRlblJlZihlbnRyeVswXSwgeyB0YXJnZXQ6IHRoaXMudGFyZ2V0IH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgICAgICBpZiAodGhpcy50YXJnZXQgPT09IFwiZHJhZnQtMjAyMC0xMlwiKSB7XG4gICAgICAgICAgICByZXN1bHQuJHNjaGVtYSA9IFwiaHR0cHM6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQvMjAyMC0xMi9zY2hlbWFcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnRhcmdldCA9PT0gXCJkcmFmdC03XCIpIHtcbiAgICAgICAgICAgIHJlc3VsdC4kc2NoZW1hID0gXCJodHRwOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LTA3L3NjaGVtYSNcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnRhcmdldCA9PT0gXCJkcmFmdC00XCIpIHtcbiAgICAgICAgICAgIHJlc3VsdC4kc2NoZW1hID0gXCJodHRwOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LTA0L3NjaGVtYSNcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnRhcmdldCA9PT0gXCJvcGVuYXBpLTMuMFwiKSB7XG4gICAgICAgICAgICAvLyBPcGVuQVBJIDMuMCBzY2hlbWEgb2JqZWN0cyBzaG91bGQgbm90IGluY2x1ZGUgYSAkc2NoZW1hIHByb3BlcnR5XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYEludmFsaWQgdGFyZ2V0OiAke3RoaXMudGFyZ2V0fWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJhbXMuZXh0ZXJuYWw/LnVyaSkge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBwYXJhbXMuZXh0ZXJuYWwucmVnaXN0cnkuZ2V0KHNjaGVtYSk/LmlkO1xuICAgICAgICAgICAgaWYgKCFpZClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTY2hlbWEgaXMgbWlzc2luZyBhbiBgaWRgIHByb3BlcnR5XCIpO1xuICAgICAgICAgICAgcmVzdWx0LiRpZCA9IHBhcmFtcy5leHRlcm5hbC51cmkoaWQpO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5hc3NpZ24ocmVzdWx0LCByb290LmRlZik7XG4gICAgICAgIC8vIGJ1aWxkIGRlZnMgb2JqZWN0XG4gICAgICAgIGNvbnN0IGRlZnMgPSBwYXJhbXMuZXh0ZXJuYWw/LmRlZnMgPz8ge307XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5zZWVuLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgY29uc3Qgc2VlbiA9IGVudHJ5WzFdO1xuICAgICAgICAgICAgaWYgKHNlZW4uZGVmICYmIHNlZW4uZGVmSWQpIHtcbiAgICAgICAgICAgICAgICBkZWZzW3NlZW4uZGVmSWRdID0gc2Vlbi5kZWY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IGRlZmluaXRpb25zIGluIHJlc3VsdFxuICAgICAgICBpZiAocGFyYW1zLmV4dGVybmFsKSB7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoZGVmcykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCA9PT0gXCJkcmFmdC0yMDIwLTEyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LiRkZWZzID0gZGVmcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5kZWZpbml0aW9ucyA9IGRlZnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyB0aGlzIFwiZmluYWxpemVzXCIgdGhpcyBzY2hlbWEgYW5kIGVuc3VyZXMgYWxsIGN5Y2xlcyBhcmUgcmVtb3ZlZFxuICAgICAgICAgICAgLy8gZWFjaCBjYWxsIHRvIC5lbWl0KCkgaXMgZnVuY3Rpb25hbGx5IGluZGVwZW5kZW50XG4gICAgICAgICAgICAvLyB0aG91Z2ggdGhlIHNlZW4gbWFwIGlzIHNoYXJlZFxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF9lcnIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yIGNvbnZlcnRpbmcgc2NoZW1hIHRvIEpTT04uXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHRvSlNPTlNjaGVtYShpbnB1dCwgX3BhcmFtcykge1xuICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mICRab2RSZWdpc3RyeSkge1xuICAgICAgICBjb25zdCBnZW4gPSBuZXcgSlNPTlNjaGVtYUdlbmVyYXRvcihfcGFyYW1zKTtcbiAgICAgICAgY29uc3QgZGVmcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0Ll9pZG1hcC5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IFtfLCBzY2hlbWFdID0gZW50cnk7XG4gICAgICAgICAgICBnZW4ucHJvY2VzcyhzY2hlbWEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNjaGVtYXMgPSB7fTtcbiAgICAgICAgY29uc3QgZXh0ZXJuYWwgPSB7XG4gICAgICAgICAgICByZWdpc3RyeTogaW5wdXQsXG4gICAgICAgICAgICB1cmk6IF9wYXJhbXM/LnVyaSxcbiAgICAgICAgICAgIGRlZnMsXG4gICAgICAgIH07XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQuX2lkbWFwLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgY29uc3QgW2tleSwgc2NoZW1hXSA9IGVudHJ5O1xuICAgICAgICAgICAgc2NoZW1hc1trZXldID0gZ2VuLmVtaXQoc2NoZW1hLCB7XG4gICAgICAgICAgICAgICAgLi4uX3BhcmFtcyxcbiAgICAgICAgICAgICAgICBleHRlcm5hbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhkZWZzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBkZWZzU2VnbWVudCA9IGdlbi50YXJnZXQgPT09IFwiZHJhZnQtMjAyMC0xMlwiID8gXCIkZGVmc1wiIDogXCJkZWZpbml0aW9uc1wiO1xuICAgICAgICAgICAgc2NoZW1hcy5fX3NoYXJlZCA9IHtcbiAgICAgICAgICAgICAgICBbZGVmc1NlZ21lbnRdOiBkZWZzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzY2hlbWFzIH07XG4gICAgfVxuICAgIGNvbnN0IGdlbiA9IG5ldyBKU09OU2NoZW1hR2VuZXJhdG9yKF9wYXJhbXMpO1xuICAgIGdlbi5wcm9jZXNzKGlucHV0KTtcbiAgICByZXR1cm4gZ2VuLmVtaXQoaW5wdXQsIF9wYXJhbXMpO1xufVxuZnVuY3Rpb24gaXNUcmFuc2Zvcm1pbmcoX3NjaGVtYSwgX2N0eCkge1xuICAgIGNvbnN0IGN0eCA9IF9jdHggPz8geyBzZWVuOiBuZXcgU2V0KCkgfTtcbiAgICBpZiAoY3R4LnNlZW4uaGFzKF9zY2hlbWEpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgY3R4LnNlZW4uYWRkKF9zY2hlbWEpO1xuICAgIGNvbnN0IHNjaGVtYSA9IF9zY2hlbWE7XG4gICAgY29uc3QgZGVmID0gc2NoZW1hLl96b2QuZGVmO1xuICAgIHN3aXRjaCAoZGVmLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgY2FzZSBcImRhdGVcIjpcbiAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgIGNhc2UgXCJudWxsXCI6XG4gICAgICAgIGNhc2UgXCJhbnlcIjpcbiAgICAgICAgY2FzZSBcInVua25vd25cIjpcbiAgICAgICAgY2FzZSBcIm5ldmVyXCI6XG4gICAgICAgIGNhc2UgXCJ2b2lkXCI6XG4gICAgICAgIGNhc2UgXCJsaXRlcmFsXCI6XG4gICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgIGNhc2UgXCJuYW5cIjpcbiAgICAgICAgY2FzZSBcImZpbGVcIjpcbiAgICAgICAgY2FzZSBcInRlbXBsYXRlX2xpdGVyYWxcIjpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY2FzZSBcImFycmF5XCI6IHtcbiAgICAgICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYuZWxlbWVudCwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRlZi5zaGFwZSkge1xuICAgICAgICAgICAgICAgIGlmIChpc1RyYW5zZm9ybWluZyhkZWYuc2hhcGVba2V5XSwgY3R4KSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInVuaW9uXCI6IHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIGRlZi5vcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzVHJhbnNmb3JtaW5nKG9wdGlvbiwgY3R4KSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcImludGVyc2VjdGlvblwiOiB7XG4gICAgICAgICAgICByZXR1cm4gaXNUcmFuc2Zvcm1pbmcoZGVmLmxlZnQsIGN0eCkgfHwgaXNUcmFuc2Zvcm1pbmcoZGVmLnJpZ2h0LCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJ0dXBsZVwiOiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZGVmLml0ZW1zKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzVHJhbnNmb3JtaW5nKGl0ZW0sIGN0eCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlZi5yZXN0ICYmIGlzVHJhbnNmb3JtaW5nKGRlZi5yZXN0LCBjdHgpKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJyZWNvcmRcIjoge1xuICAgICAgICAgICAgcmV0dXJuIGlzVHJhbnNmb3JtaW5nKGRlZi5rZXlUeXBlLCBjdHgpIHx8IGlzVHJhbnNmb3JtaW5nKGRlZi52YWx1ZVR5cGUsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIm1hcFwiOiB7XG4gICAgICAgICAgICByZXR1cm4gaXNUcmFuc2Zvcm1pbmcoZGVmLmtleVR5cGUsIGN0eCkgfHwgaXNUcmFuc2Zvcm1pbmcoZGVmLnZhbHVlVHlwZSwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwic2V0XCI6IHtcbiAgICAgICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYudmFsdWVUeXBlLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlubmVyIHR5cGVzXG4gICAgICAgIGNhc2UgXCJwcm9taXNlXCI6XG4gICAgICAgIGNhc2UgXCJvcHRpb25hbFwiOlxuICAgICAgICBjYXNlIFwibm9ub3B0aW9uYWxcIjpcbiAgICAgICAgY2FzZSBcIm51bGxhYmxlXCI6XG4gICAgICAgIGNhc2UgXCJyZWFkb25seVwiOlxuICAgICAgICAgICAgcmV0dXJuIGlzVHJhbnNmb3JtaW5nKGRlZi5pbm5lclR5cGUsIGN0eCk7XG4gICAgICAgIGNhc2UgXCJsYXp5XCI6XG4gICAgICAgICAgICByZXR1cm4gaXNUcmFuc2Zvcm1pbmcoZGVmLmdldHRlcigpLCBjdHgpO1xuICAgICAgICBjYXNlIFwiZGVmYXVsdFwiOiB7XG4gICAgICAgICAgICByZXR1cm4gaXNUcmFuc2Zvcm1pbmcoZGVmLmlubmVyVHlwZSwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwicHJlZmF1bHRcIjoge1xuICAgICAgICAgICAgcmV0dXJuIGlzVHJhbnNmb3JtaW5nKGRlZi5pbm5lclR5cGUsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcImN1c3RvbVwiOiB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInRyYW5zZm9ybVwiOiB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwicGlwZVwiOiB7XG4gICAgICAgICAgICByZXR1cm4gaXNUcmFuc2Zvcm1pbmcoZGVmLmluLCBjdHgpIHx8IGlzVHJhbnNmb3JtaW5nKGRlZi5vdXQsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInN1Y2Nlc3NcIjoge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJjYXRjaFwiOiB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgZGVmO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gc2NoZW1hIHR5cGU6ICR7ZGVmLnR5cGV9YCk7XG59XG4iLCAiZXhwb3J0IHt9O1xuIiwgImltcG9ydCAqIGFzIGNvcmUgZnJvbSBcIi4uL2NvcmUvaW5kZXguanNcIjtcbmltcG9ydCAqIGFzIHNjaGVtYXMgZnJvbSBcIi4vc2NoZW1hcy5qc1wiO1xuZXhwb3J0IGNvbnN0IFpvZElTT0RhdGVUaW1lID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZElTT0RhdGVUaW1lXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RJU09EYXRlVGltZS5pbml0KGluc3QsIGRlZik7XG4gICAgc2NoZW1hcy5ab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gZGF0ZXRpbWUocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2lzb0RhdGVUaW1lKFpvZElTT0RhdGVUaW1lLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZElTT0RhdGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kSVNPRGF0ZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kSVNPRGF0ZS5pbml0KGluc3QsIGRlZik7XG4gICAgc2NoZW1hcy5ab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gZGF0ZShwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5faXNvRGF0ZShab2RJU09EYXRlLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZElTT1RpbWUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kSVNPVGltZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kSVNPVGltZS5pbml0KGluc3QsIGRlZik7XG4gICAgc2NoZW1hcy5ab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gdGltZShwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5faXNvVGltZShab2RJU09UaW1lLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZElTT0R1cmF0aW9uID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZElTT0R1cmF0aW9uXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RJU09EdXJhdGlvbi5pbml0KGluc3QsIGRlZik7XG4gICAgc2NoZW1hcy5ab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gZHVyYXRpb24ocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2lzb0R1cmF0aW9uKFpvZElTT0R1cmF0aW9uLCBwYXJhbXMpO1xufVxuIiwgImltcG9ydCAqIGFzIGNvcmUgZnJvbSBcIi4uL2NvcmUvaW5kZXguanNcIjtcbmltcG9ydCB7ICRab2RFcnJvciB9IGZyb20gXCIuLi9jb3JlL2luZGV4LmpzXCI7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGluaXRpYWxpemVyID0gKGluc3QsIGlzc3VlcykgPT4ge1xuICAgICRab2RFcnJvci5pbml0KGluc3QsIGlzc3Vlcyk7XG4gICAgaW5zdC5uYW1lID0gXCJab2RFcnJvclwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGluc3QsIHtcbiAgICAgICAgZm9ybWF0OiB7XG4gICAgICAgICAgICB2YWx1ZTogKG1hcHBlcikgPT4gY29yZS5mb3JtYXRFcnJvcihpbnN0LCBtYXBwZXIpLFxuICAgICAgICAgICAgLy8gZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgIGZsYXR0ZW46IHtcbiAgICAgICAgICAgIHZhbHVlOiAobWFwcGVyKSA9PiBjb3JlLmZsYXR0ZW5FcnJvcihpbnN0LCBtYXBwZXIpLFxuICAgICAgICAgICAgLy8gZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgIGFkZElzc3VlOiB7XG4gICAgICAgICAgICB2YWx1ZTogKGlzc3VlKSA9PiB7XG4gICAgICAgICAgICAgICAgaW5zdC5pc3N1ZXMucHVzaChpc3N1ZSk7XG4gICAgICAgICAgICAgICAgaW5zdC5tZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkoaW5zdC5pc3N1ZXMsIHV0aWwuanNvblN0cmluZ2lmeVJlcGxhY2VyLCAyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgYWRkSXNzdWVzOiB7XG4gICAgICAgICAgICB2YWx1ZTogKGlzc3VlcykgPT4ge1xuICAgICAgICAgICAgICAgIGluc3QuaXNzdWVzLnB1c2goLi4uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICBpbnN0Lm1lc3NhZ2UgPSBKU09OLnN0cmluZ2lmeShpbnN0Lmlzc3VlcywgdXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIsIDIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICBpc0VtcHR5OiB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluc3QuaXNzdWVzLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvLyBPYmplY3QuZGVmaW5lUHJvcGVydHkoaW5zdCwgXCJpc0VtcHR5XCIsIHtcbiAgICAvLyAgIGdldCgpIHtcbiAgICAvLyAgICAgcmV0dXJuIGluc3QuaXNzdWVzLmxlbmd0aCA9PT0gMDtcbiAgICAvLyAgIH0sXG4gICAgLy8gfSk7XG59O1xuZXhwb3J0IGNvbnN0IFpvZEVycm9yID0gY29yZS4kY29uc3RydWN0b3IoXCJab2RFcnJvclwiLCBpbml0aWFsaXplcik7XG5leHBvcnQgY29uc3QgWm9kUmVhbEVycm9yID0gY29yZS4kY29uc3RydWN0b3IoXCJab2RFcnJvclwiLCBpbml0aWFsaXplciwge1xuICAgIFBhcmVudDogRXJyb3IsXG59KTtcbi8vIC8qKiBAZGVwcmVjYXRlZCBVc2UgYHouY29yZS4kWm9kRXJyb3JNYXBDdHhgIGluc3RlYWQuICovXG4vLyBleHBvcnQgdHlwZSBFcnJvck1hcEN0eCA9IGNvcmUuJFpvZEVycm9yTWFwQ3R4O1xuIiwgImltcG9ydCAqIGFzIGNvcmUgZnJvbSBcIi4uL2NvcmUvaW5kZXguanNcIjtcbmltcG9ydCB7IFpvZFJlYWxFcnJvciB9IGZyb20gXCIuL2Vycm9ycy5qc1wiO1xuZXhwb3J0IGNvbnN0IHBhcnNlID0gLyogQF9fUFVSRV9fICovIGNvcmUuX3BhcnNlKFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3QgcGFyc2VBc3luYyA9IC8qIEBfX1BVUkVfXyAqLyBjb3JlLl9wYXJzZUFzeW5jKFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3Qgc2FmZVBhcnNlID0gLyogQF9fUFVSRV9fICovIGNvcmUuX3NhZmVQYXJzZShab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IHNhZmVQYXJzZUFzeW5jID0gLyogQF9fUFVSRV9fICovIGNvcmUuX3NhZmVQYXJzZUFzeW5jKFpvZFJlYWxFcnJvcik7XG4vLyBDb2RlYyBmdW5jdGlvbnNcbmV4cG9ydCBjb25zdCBlbmNvZGUgPSAvKiBAX19QVVJFX18gKi8gY29yZS5fZW5jb2RlKFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3QgZGVjb2RlID0gLyogQF9fUFVSRV9fICovIGNvcmUuX2RlY29kZShab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IGVuY29kZUFzeW5jID0gLyogQF9fUFVSRV9fICovIGNvcmUuX2VuY29kZUFzeW5jKFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3QgZGVjb2RlQXN5bmMgPSAvKiBAX19QVVJFX18gKi8gY29yZS5fZGVjb2RlQXN5bmMoWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBzYWZlRW5jb2RlID0gLyogQF9fUFVSRV9fICovIGNvcmUuX3NhZmVFbmNvZGUoWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBzYWZlRGVjb2RlID0gLyogQF9fUFVSRV9fICovIGNvcmUuX3NhZmVEZWNvZGUoWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBzYWZlRW5jb2RlQXN5bmMgPSAvKiBAX19QVVJFX18gKi8gY29yZS5fc2FmZUVuY29kZUFzeW5jKFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3Qgc2FmZURlY29kZUFzeW5jID0gLyogQF9fUFVSRV9fICovIGNvcmUuX3NhZmVEZWNvZGVBc3luYyhab2RSZWFsRXJyb3IpO1xuIiwgImltcG9ydCAqIGFzIGNvcmUgZnJvbSBcIi4uL2NvcmUvaW5kZXguanNcIjtcbmltcG9ydCB7IHV0aWwgfSBmcm9tIFwiLi4vY29yZS9pbmRleC5qc1wiO1xuaW1wb3J0ICogYXMgY2hlY2tzIGZyb20gXCIuL2NoZWNrcy5qc1wiO1xuaW1wb3J0ICogYXMgaXNvIGZyb20gXCIuL2lzby5qc1wiO1xuaW1wb3J0ICogYXMgcGFyc2UgZnJvbSBcIi4vcGFyc2UuanNcIjtcbmV4cG9ydCBjb25zdCBab2RUeXBlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFR5cGVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuZGVmID0gZGVmO1xuICAgIGluc3QudHlwZSA9IGRlZi50eXBlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnN0LCBcIl9kZWZcIiwgeyB2YWx1ZTogZGVmIH0pO1xuICAgIC8vIGJhc2UgbWV0aG9kc1xuICAgIGluc3QuY2hlY2sgPSAoLi4uY2hlY2tzKSA9PiB7XG4gICAgICAgIHJldHVybiBpbnN0LmNsb25lKHtcbiAgICAgICAgICAgIC4uLmRlZixcbiAgICAgICAgICAgIGNoZWNrczogW1xuICAgICAgICAgICAgICAgIC4uLihkZWYuY2hlY2tzID8/IFtdKSxcbiAgICAgICAgICAgICAgICAuLi5jaGVja3MubWFwKChjaCkgPT4gdHlwZW9mIGNoID09PSBcImZ1bmN0aW9uXCIgPyB7IF96b2Q6IHsgY2hlY2s6IGNoLCBkZWY6IHsgY2hlY2s6IFwiY3VzdG9tXCIgfSwgb25hdHRhY2g6IFtdIH0gfSA6IGNoKSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH1cbiAgICAgICAgLy8geyBwYXJlbnQ6IHRydWUgfVxuICAgICAgICApO1xuICAgIH07XG4gICAgaW5zdC5jbG9uZSA9IChkZWYsIHBhcmFtcykgPT4gY29yZS5jbG9uZShpbnN0LCBkZWYsIHBhcmFtcyk7XG4gICAgaW5zdC5icmFuZCA9ICgpID0+IGluc3Q7XG4gICAgaW5zdC5yZWdpc3RlciA9ICgocmVnLCBtZXRhKSA9PiB7XG4gICAgICAgIHJlZy5hZGQoaW5zdCwgbWV0YSk7XG4gICAgICAgIHJldHVybiBpbnN0O1xuICAgIH0pO1xuICAgIC8vIHBhcnNpbmdcbiAgICBpbnN0LnBhcnNlID0gKGRhdGEsIHBhcmFtcykgPT4gcGFyc2UucGFyc2UoaW5zdCwgZGF0YSwgcGFyYW1zLCB7IGNhbGxlZTogaW5zdC5wYXJzZSB9KTtcbiAgICBpbnN0LnNhZmVQYXJzZSA9IChkYXRhLCBwYXJhbXMpID0+IHBhcnNlLnNhZmVQYXJzZShpbnN0LCBkYXRhLCBwYXJhbXMpO1xuICAgIGluc3QucGFyc2VBc3luYyA9IGFzeW5jIChkYXRhLCBwYXJhbXMpID0+IHBhcnNlLnBhcnNlQXN5bmMoaW5zdCwgZGF0YSwgcGFyYW1zLCB7IGNhbGxlZTogaW5zdC5wYXJzZUFzeW5jIH0pO1xuICAgIGluc3Quc2FmZVBhcnNlQXN5bmMgPSBhc3luYyAoZGF0YSwgcGFyYW1zKSA9PiBwYXJzZS5zYWZlUGFyc2VBc3luYyhpbnN0LCBkYXRhLCBwYXJhbXMpO1xuICAgIGluc3Quc3BhID0gaW5zdC5zYWZlUGFyc2VBc3luYztcbiAgICAvLyBlbmNvZGluZy9kZWNvZGluZ1xuICAgIGluc3QuZW5jb2RlID0gKGRhdGEsIHBhcmFtcykgPT4gcGFyc2UuZW5jb2RlKGluc3QsIGRhdGEsIHBhcmFtcyk7XG4gICAgaW5zdC5kZWNvZGUgPSAoZGF0YSwgcGFyYW1zKSA9PiBwYXJzZS5kZWNvZGUoaW5zdCwgZGF0YSwgcGFyYW1zKTtcbiAgICBpbnN0LmVuY29kZUFzeW5jID0gYXN5bmMgKGRhdGEsIHBhcmFtcykgPT4gcGFyc2UuZW5jb2RlQXN5bmMoaW5zdCwgZGF0YSwgcGFyYW1zKTtcbiAgICBpbnN0LmRlY29kZUFzeW5jID0gYXN5bmMgKGRhdGEsIHBhcmFtcykgPT4gcGFyc2UuZGVjb2RlQXN5bmMoaW5zdCwgZGF0YSwgcGFyYW1zKTtcbiAgICBpbnN0LnNhZmVFbmNvZGUgPSAoZGF0YSwgcGFyYW1zKSA9PiBwYXJzZS5zYWZlRW5jb2RlKGluc3QsIGRhdGEsIHBhcmFtcyk7XG4gICAgaW5zdC5zYWZlRGVjb2RlID0gKGRhdGEsIHBhcmFtcykgPT4gcGFyc2Uuc2FmZURlY29kZShpbnN0LCBkYXRhLCBwYXJhbXMpO1xuICAgIGluc3Quc2FmZUVuY29kZUFzeW5jID0gYXN5bmMgKGRhdGEsIHBhcmFtcykgPT4gcGFyc2Uuc2FmZUVuY29kZUFzeW5jKGluc3QsIGRhdGEsIHBhcmFtcyk7XG4gICAgaW5zdC5zYWZlRGVjb2RlQXN5bmMgPSBhc3luYyAoZGF0YSwgcGFyYW1zKSA9PiBwYXJzZS5zYWZlRGVjb2RlQXN5bmMoaW5zdCwgZGF0YSwgcGFyYW1zKTtcbiAgICAvLyByZWZpbmVtZW50c1xuICAgIGluc3QucmVmaW5lID0gKGNoZWNrLCBwYXJhbXMpID0+IGluc3QuY2hlY2socmVmaW5lKGNoZWNrLCBwYXJhbXMpKTtcbiAgICBpbnN0LnN1cGVyUmVmaW5lID0gKHJlZmluZW1lbnQpID0+IGluc3QuY2hlY2soc3VwZXJSZWZpbmUocmVmaW5lbWVudCkpO1xuICAgIGluc3Qub3ZlcndyaXRlID0gKGZuKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5vdmVyd3JpdGUoZm4pKTtcbiAgICAvLyB3cmFwcGVyc1xuICAgIGluc3Qub3B0aW9uYWwgPSAoKSA9PiBvcHRpb25hbChpbnN0KTtcbiAgICBpbnN0Lm51bGxhYmxlID0gKCkgPT4gbnVsbGFibGUoaW5zdCk7XG4gICAgaW5zdC5udWxsaXNoID0gKCkgPT4gb3B0aW9uYWwobnVsbGFibGUoaW5zdCkpO1xuICAgIGluc3Qubm9ub3B0aW9uYWwgPSAocGFyYW1zKSA9PiBub25vcHRpb25hbChpbnN0LCBwYXJhbXMpO1xuICAgIGluc3QuYXJyYXkgPSAoKSA9PiBhcnJheShpbnN0KTtcbiAgICBpbnN0Lm9yID0gKGFyZykgPT4gdW5pb24oW2luc3QsIGFyZ10pO1xuICAgIGluc3QuYW5kID0gKGFyZykgPT4gaW50ZXJzZWN0aW9uKGluc3QsIGFyZyk7XG4gICAgaW5zdC50cmFuc2Zvcm0gPSAodHgpID0+IHBpcGUoaW5zdCwgdHJhbnNmb3JtKHR4KSk7XG4gICAgaW5zdC5kZWZhdWx0ID0gKGRlZikgPT4gX2RlZmF1bHQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LnByZWZhdWx0ID0gKGRlZikgPT4gcHJlZmF1bHQoaW5zdCwgZGVmKTtcbiAgICAvLyBpbnN0LmNvYWxlc2NlID0gKGRlZiwgcGFyYW1zKSA9PiBjb2FsZXNjZShpbnN0LCBkZWYsIHBhcmFtcyk7XG4gICAgaW5zdC5jYXRjaCA9IChwYXJhbXMpID0+IF9jYXRjaChpbnN0LCBwYXJhbXMpO1xuICAgIGluc3QucGlwZSA9ICh0YXJnZXQpID0+IHBpcGUoaW5zdCwgdGFyZ2V0KTtcbiAgICBpbnN0LnJlYWRvbmx5ID0gKCkgPT4gcmVhZG9ubHkoaW5zdCk7XG4gICAgLy8gbWV0YVxuICAgIGluc3QuZGVzY3JpYmUgPSAoZGVzY3JpcHRpb24pID0+IHtcbiAgICAgICAgY29uc3QgY2wgPSBpbnN0LmNsb25lKCk7XG4gICAgICAgIGNvcmUuZ2xvYmFsUmVnaXN0cnkuYWRkKGNsLCB7IGRlc2NyaXB0aW9uIH0pO1xuICAgICAgICByZXR1cm4gY2w7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaW5zdCwgXCJkZXNjcmlwdGlvblwiLCB7XG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBjb3JlLmdsb2JhbFJlZ2lzdHJ5LmdldChpbnN0KT8uZGVzY3JpcHRpb247XG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB9KTtcbiAgICBpbnN0Lm1ldGEgPSAoLi4uYXJncykgPT4ge1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBjb3JlLmdsb2JhbFJlZ2lzdHJ5LmdldChpbnN0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjbCA9IGluc3QuY2xvbmUoKTtcbiAgICAgICAgY29yZS5nbG9iYWxSZWdpc3RyeS5hZGQoY2wsIGFyZ3NbMF0pO1xuICAgICAgICByZXR1cm4gY2w7XG4gICAgfTtcbiAgICAvLyBoZWxwZXJzXG4gICAgaW5zdC5pc09wdGlvbmFsID0gKCkgPT4gaW5zdC5zYWZlUGFyc2UodW5kZWZpbmVkKS5zdWNjZXNzO1xuICAgIGluc3QuaXNOdWxsYWJsZSA9ICgpID0+IGluc3Quc2FmZVBhcnNlKG51bGwpLnN1Y2Nlc3M7XG4gICAgcmV0dXJuIGluc3Q7XG59KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBfWm9kU3RyaW5nID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIl9ab2RTdHJpbmdcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFN0cmluZy5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICBpbnN0LmZvcm1hdCA9IGJhZy5mb3JtYXQgPz8gbnVsbDtcbiAgICBpbnN0Lm1pbkxlbmd0aCA9IGJhZy5taW5pbXVtID8/IG51bGw7XG4gICAgaW5zdC5tYXhMZW5ndGggPSBiYWcubWF4aW11bSA/PyBudWxsO1xuICAgIC8vIHZhbGlkYXRpb25zXG4gICAgaW5zdC5yZWdleCA9ICguLi5hcmdzKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5yZWdleCguLi5hcmdzKSk7XG4gICAgaW5zdC5pbmNsdWRlcyA9ICguLi5hcmdzKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5pbmNsdWRlcyguLi5hcmdzKSk7XG4gICAgaW5zdC5zdGFydHNXaXRoID0gKC4uLmFyZ3MpID0+IGluc3QuY2hlY2soY2hlY2tzLnN0YXJ0c1dpdGgoLi4uYXJncykpO1xuICAgIGluc3QuZW5kc1dpdGggPSAoLi4uYXJncykgPT4gaW5zdC5jaGVjayhjaGVja3MuZW5kc1dpdGgoLi4uYXJncykpO1xuICAgIGluc3QubWluID0gKC4uLmFyZ3MpID0+IGluc3QuY2hlY2soY2hlY2tzLm1pbkxlbmd0aCguLi5hcmdzKSk7XG4gICAgaW5zdC5tYXggPSAoLi4uYXJncykgPT4gaW5zdC5jaGVjayhjaGVja3MubWF4TGVuZ3RoKC4uLmFyZ3MpKTtcbiAgICBpbnN0Lmxlbmd0aCA9ICguLi5hcmdzKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5sZW5ndGgoLi4uYXJncykpO1xuICAgIGluc3Qubm9uZW1wdHkgPSAoLi4uYXJncykgPT4gaW5zdC5jaGVjayhjaGVja3MubWluTGVuZ3RoKDEsIC4uLmFyZ3MpKTtcbiAgICBpbnN0Lmxvd2VyY2FzZSA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmxvd2VyY2FzZShwYXJhbXMpKTtcbiAgICBpbnN0LnVwcGVyY2FzZSA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLnVwcGVyY2FzZShwYXJhbXMpKTtcbiAgICAvLyB0cmFuc2Zvcm1zXG4gICAgaW5zdC50cmltID0gKCkgPT4gaW5zdC5jaGVjayhjaGVja3MudHJpbSgpKTtcbiAgICBpbnN0Lm5vcm1hbGl6ZSA9ICguLi5hcmdzKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5ub3JtYWxpemUoLi4uYXJncykpO1xuICAgIGluc3QudG9Mb3dlckNhc2UgPSAoKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy50b0xvd2VyQ2FzZSgpKTtcbiAgICBpbnN0LnRvVXBwZXJDYXNlID0gKCkgPT4gaW5zdC5jaGVjayhjaGVja3MudG9VcHBlckNhc2UoKSk7XG59KTtcbmV4cG9ydCBjb25zdCBab2RTdHJpbmcgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kU3RyaW5nXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RTdHJpbmcuaW5pdChpbnN0LCBkZWYpO1xuICAgIF9ab2RTdHJpbmcuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuZW1haWwgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2VtYWlsKFpvZEVtYWlsLCBwYXJhbXMpKTtcbiAgICBpbnN0LnVybCA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fdXJsKFpvZFVSTCwgcGFyYW1zKSk7XG4gICAgaW5zdC5qd3QgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2p3dChab2RKV1QsIHBhcmFtcykpO1xuICAgIGluc3QuZW1vamkgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2Vtb2ppKFpvZEVtb2ppLCBwYXJhbXMpKTtcbiAgICBpbnN0Lmd1aWQgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2d1aWQoWm9kR1VJRCwgcGFyYW1zKSk7XG4gICAgaW5zdC51dWlkID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl91dWlkKFpvZFVVSUQsIHBhcmFtcykpO1xuICAgIGluc3QudXVpZHY0ID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl91dWlkdjQoWm9kVVVJRCwgcGFyYW1zKSk7XG4gICAgaW5zdC51dWlkdjYgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX3V1aWR2Nihab2RVVUlELCBwYXJhbXMpKTtcbiAgICBpbnN0LnV1aWR2NyA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fdXVpZHY3KFpvZFVVSUQsIHBhcmFtcykpO1xuICAgIGluc3QubmFub2lkID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9uYW5vaWQoWm9kTmFub0lELCBwYXJhbXMpKTtcbiAgICBpbnN0Lmd1aWQgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2d1aWQoWm9kR1VJRCwgcGFyYW1zKSk7XG4gICAgaW5zdC5jdWlkID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9jdWlkKFpvZENVSUQsIHBhcmFtcykpO1xuICAgIGluc3QuY3VpZDIgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2N1aWQyKFpvZENVSUQyLCBwYXJhbXMpKTtcbiAgICBpbnN0LnVsaWQgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX3VsaWQoWm9kVUxJRCwgcGFyYW1zKSk7XG4gICAgaW5zdC5iYXNlNjQgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2Jhc2U2NChab2RCYXNlNjQsIHBhcmFtcykpO1xuICAgIGluc3QuYmFzZTY0dXJsID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9iYXNlNjR1cmwoWm9kQmFzZTY0VVJMLCBwYXJhbXMpKTtcbiAgICBpbnN0LnhpZCA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5feGlkKFpvZFhJRCwgcGFyYW1zKSk7XG4gICAgaW5zdC5rc3VpZCA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fa3N1aWQoWm9kS1NVSUQsIHBhcmFtcykpO1xuICAgIGluc3QuaXB2NCA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5faXB2NChab2RJUHY0LCBwYXJhbXMpKTtcbiAgICBpbnN0LmlwdjYgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2lwdjYoWm9kSVB2NiwgcGFyYW1zKSk7XG4gICAgaW5zdC5jaWRydjQgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2NpZHJ2NChab2RDSURSdjQsIHBhcmFtcykpO1xuICAgIGluc3QuY2lkcnY2ID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9jaWRydjYoWm9kQ0lEUnY2LCBwYXJhbXMpKTtcbiAgICBpbnN0LmUxNjQgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2UxNjQoWm9kRTE2NCwgcGFyYW1zKSk7XG4gICAgLy8gaXNvXG4gICAgaW5zdC5kYXRldGltZSA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soaXNvLmRhdGV0aW1lKHBhcmFtcykpO1xuICAgIGluc3QuZGF0ZSA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soaXNvLmRhdGUocGFyYW1zKSk7XG4gICAgaW5zdC50aW1lID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhpc28udGltZShwYXJhbXMpKTtcbiAgICBpbnN0LmR1cmF0aW9uID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhpc28uZHVyYXRpb24ocGFyYW1zKSk7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmcocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3N0cmluZyhab2RTdHJpbmcsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kU3RyaW5nRm9ybWF0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFN0cmluZ0Zvcm1hdFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBfWm9kU3RyaW5nLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0IFpvZEVtYWlsID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEVtYWlsXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZEVtYWlsLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gZW1haWwocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2VtYWlsKFpvZEVtYWlsLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZEdVSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kR1VJRFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RHVUlELmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gZ3VpZChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fZ3VpZChab2RHVUlELCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZFVVSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kVVVJRFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RVVUlELmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gdXVpZChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fdXVpZChab2RVVUlELCBwYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHV1aWR2NChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fdXVpZHY0KFpvZFVVSUQsIHBhcmFtcyk7XG59XG4vLyBab2RVVUlEdjZcbmV4cG9ydCBmdW5jdGlvbiB1dWlkdjYocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3V1aWR2Nihab2RVVUlELCBwYXJhbXMpO1xufVxuLy8gWm9kVVVJRHY3XG5leHBvcnQgZnVuY3Rpb24gdXVpZHY3KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl91dWlkdjcoWm9kVVVJRCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RVUkwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kVVJMXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZFVSTC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHVybChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fdXJsKFpvZFVSTCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBodHRwVXJsKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl91cmwoWm9kVVJMLCB7XG4gICAgICAgIHByb3RvY29sOiAvXmh0dHBzPyQvLFxuICAgICAgICBob3N0bmFtZTogY29yZS5yZWdleGVzLmRvbWFpbixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RFbW9qaSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RFbW9qaVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RFbW9qaS5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGVtb2ppKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9lbW9qaShab2RFbW9qaSwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2ROYW5vSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kTmFub0lEXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZE5hbm9JRC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIG5hbm9pZChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fbmFub2lkKFpvZE5hbm9JRCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RDVUlEID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZENVSURcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kQ1VJRC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGN1aWQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2N1aWQoWm9kQ1VJRCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RDVUlEMiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RDVUlEMlwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RDVUlEMi5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGN1aWQyKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9jdWlkMihab2RDVUlEMiwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RVTElEID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFVMSURcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kVUxJRC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHVsaWQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3VsaWQoWm9kVUxJRCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RYSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kWElEXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZFhJRC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHhpZChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5feGlkKFpvZFhJRCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RLU1VJRCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RLU1VJRFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RLU1VJRC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGtzdWlkKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9rc3VpZChab2RLU1VJRCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RJUHY0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZElQdjRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kSVB2NC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGlwdjQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2lwdjQoWm9kSVB2NCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RJUHY2ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZElQdjZcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kSVB2Ni5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGlwdjYocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2lwdjYoWm9kSVB2NiwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RDSURSdjQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQ0lEUnY0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RDSURSdjQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBjaWRydjQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2NpZHJ2NChab2RDSURSdjQsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kQ0lEUnY2ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZENJRFJ2NlwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kQ0lEUnY2LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gY2lkcnY2KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9jaWRydjYoWm9kQ0lEUnY2LCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZEJhc2U2NCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RCYXNlNjRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kQmFzZTY0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gYmFzZTY0KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9iYXNlNjQoWm9kQmFzZTY0LCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZEJhc2U2NFVSTCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RCYXNlNjRVUkxcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kQmFzZTY0VVJMLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gYmFzZTY0dXJsKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9iYXNlNjR1cmwoWm9kQmFzZTY0VVJMLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZEUxNjQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kRTE2NFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RFMTY0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gZTE2NChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fZTE2NChab2RFMTY0LCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZEpXVCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RKV1RcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kSldULmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gand0KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9qd3QoWm9kSldULCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZEN1c3RvbVN0cmluZ0Zvcm1hdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RDdXN0b21TdHJpbmdGb3JtYXRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kQ3VzdG9tU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nRm9ybWF0KGZvcm1hdCwgZm5PclJlZ2V4LCBfcGFyYW1zID0ge30pIHtcbiAgICByZXR1cm4gY29yZS5fc3RyaW5nRm9ybWF0KFpvZEN1c3RvbVN0cmluZ0Zvcm1hdCwgZm9ybWF0LCBmbk9yUmVnZXgsIF9wYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhvc3RuYW1lKF9wYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fc3RyaW5nRm9ybWF0KFpvZEN1c3RvbVN0cmluZ0Zvcm1hdCwgXCJob3N0bmFtZVwiLCBjb3JlLnJlZ2V4ZXMuaG9zdG5hbWUsIF9wYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhleChfcGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3N0cmluZ0Zvcm1hdChab2RDdXN0b21TdHJpbmdGb3JtYXQsIFwiaGV4XCIsIGNvcmUucmVnZXhlcy5oZXgsIF9wYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhc2goYWxnLCBwYXJhbXMpIHtcbiAgICBjb25zdCBlbmMgPSBwYXJhbXM/LmVuYyA/PyBcImhleFwiO1xuICAgIGNvbnN0IGZvcm1hdCA9IGAke2FsZ31fJHtlbmN9YDtcbiAgICBjb25zdCByZWdleCA9IGNvcmUucmVnZXhlc1tmb3JtYXRdO1xuICAgIGlmICghcmVnZXgpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkIGhhc2ggZm9ybWF0OiAke2Zvcm1hdH1gKTtcbiAgICByZXR1cm4gY29yZS5fc3RyaW5nRm9ybWF0KFpvZEN1c3RvbVN0cmluZ0Zvcm1hdCwgZm9ybWF0LCByZWdleCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2ROdW1iZXIgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kTnVtYmVyXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2ROdW1iZXIuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuZ3QgPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MuZ3QodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3QuZ3RlID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmd0ZSh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5taW4gPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MuZ3RlKHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0Lmx0ID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmx0KHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0Lmx0ZSA9ICh2YWx1ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5sdGUodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3QubWF4ID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmx0ZSh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5pbnQgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGludChwYXJhbXMpKTtcbiAgICBpbnN0LnNhZmUgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGludChwYXJhbXMpKTtcbiAgICBpbnN0LnBvc2l0aXZlID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MuZ3QoMCwgcGFyYW1zKSk7XG4gICAgaW5zdC5ub25uZWdhdGl2ZSA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmd0ZSgwLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm5lZ2F0aXZlID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MubHQoMCwgcGFyYW1zKSk7XG4gICAgaW5zdC5ub25wb3NpdGl2ZSA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmx0ZSgwLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm11bHRpcGxlT2YgPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MubXVsdGlwbGVPZih2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5zdGVwID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLm11bHRpcGxlT2YodmFsdWUsIHBhcmFtcykpO1xuICAgIC8vIGluc3QuZmluaXRlID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLmZpbml0ZShwYXJhbXMpKTtcbiAgICBpbnN0LmZpbml0ZSA9ICgpID0+IGluc3Q7XG4gICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICBpbnN0Lm1pblZhbHVlID1cbiAgICAgICAgTWF0aC5tYXgoYmFnLm1pbmltdW0gPz8gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLCBiYWcuZXhjbHVzaXZlTWluaW11bSA/PyBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpID8/IG51bGw7XG4gICAgaW5zdC5tYXhWYWx1ZSA9XG4gICAgICAgIE1hdGgubWluKGJhZy5tYXhpbXVtID8/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwgYmFnLmV4Y2x1c2l2ZU1heGltdW0gPz8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSA/PyBudWxsO1xuICAgIGluc3QuaXNJbnQgPSAoYmFnLmZvcm1hdCA/PyBcIlwiKS5pbmNsdWRlcyhcImludFwiKSB8fCBOdW1iZXIuaXNTYWZlSW50ZWdlcihiYWcubXVsdGlwbGVPZiA/PyAwLjUpO1xuICAgIGluc3QuaXNGaW5pdGUgPSB0cnVlO1xuICAgIGluc3QuZm9ybWF0ID0gYmFnLmZvcm1hdCA/PyBudWxsO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gbnVtYmVyKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9udW1iZXIoWm9kTnVtYmVyLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZE51bWJlckZvcm1hdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2ROdW1iZXJGb3JtYXRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZE51bWJlckZvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kTnVtYmVyLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGludChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5faW50KFpvZE51bWJlckZvcm1hdCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmbG9hdDMyKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9mbG9hdDMyKFpvZE51bWJlckZvcm1hdCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmbG9hdDY0KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9mbG9hdDY0KFpvZE51bWJlckZvcm1hdCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpbnQzMihwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5faW50MzIoWm9kTnVtYmVyRm9ybWF0LCBwYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVpbnQzMihwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fdWludDMyKFpvZE51bWJlckZvcm1hdCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RCb29sZWFuID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEJvb2xlYW5cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZEJvb2xlYW4uaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gYm9vbGVhbihwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fYm9vbGVhbihab2RCb29sZWFuLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZEJpZ0ludCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RCaWdJbnRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZEJpZ0ludC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5ndGUgPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MuZ3RlKHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm1pbiA9ICh2YWx1ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5ndGUodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3QuZ3QgPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MuZ3QodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3QuZ3RlID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmd0ZSh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5taW4gPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MuZ3RlKHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0Lmx0ID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmx0KHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0Lmx0ZSA9ICh2YWx1ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5sdGUodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3QubWF4ID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmx0ZSh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5wb3NpdGl2ZSA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmd0KEJpZ0ludCgwKSwgcGFyYW1zKSk7XG4gICAgaW5zdC5uZWdhdGl2ZSA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmx0KEJpZ0ludCgwKSwgcGFyYW1zKSk7XG4gICAgaW5zdC5ub25wb3NpdGl2ZSA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmx0ZShCaWdJbnQoMCksIHBhcmFtcykpO1xuICAgIGluc3Qubm9ubmVnYXRpdmUgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5ndGUoQmlnSW50KDApLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm11bHRpcGxlT2YgPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MubXVsdGlwbGVPZih2YWx1ZSwgcGFyYW1zKSk7XG4gICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICBpbnN0Lm1pblZhbHVlID0gYmFnLm1pbmltdW0gPz8gbnVsbDtcbiAgICBpbnN0Lm1heFZhbHVlID0gYmFnLm1heGltdW0gPz8gbnVsbDtcbiAgICBpbnN0LmZvcm1hdCA9IGJhZy5mb3JtYXQgPz8gbnVsbDtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGJpZ2ludChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fYmlnaW50KFpvZEJpZ0ludCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RCaWdJbnRGb3JtYXQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQmlnSW50Rm9ybWF0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RCaWdJbnRGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZEJpZ0ludC5pbml0KGluc3QsIGRlZik7XG59KTtcbi8vIGludDY0XG5leHBvcnQgZnVuY3Rpb24gaW50NjQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2ludDY0KFpvZEJpZ0ludEZvcm1hdCwgcGFyYW1zKTtcbn1cbi8vIHVpbnQ2NFxuZXhwb3J0IGZ1bmN0aW9uIHVpbnQ2NChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fdWludDY0KFpvZEJpZ0ludEZvcm1hdCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RTeW1ib2wgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kU3ltYm9sXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RTeW1ib2wuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gc3ltYm9sKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9zeW1ib2woWm9kU3ltYm9sLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZFVuZGVmaW5lZCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RVbmRlZmluZWRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFVuZGVmaW5lZC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG59KTtcbmZ1bmN0aW9uIF91bmRlZmluZWQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3VuZGVmaW5lZChab2RVbmRlZmluZWQsIHBhcmFtcyk7XG59XG5leHBvcnQgeyBfdW5kZWZpbmVkIGFzIHVuZGVmaW5lZCB9O1xuZXhwb3J0IGNvbnN0IFpvZE51bGwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kTnVsbFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kTnVsbC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG59KTtcbmZ1bmN0aW9uIF9udWxsKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9udWxsKFpvZE51bGwsIHBhcmFtcyk7XG59XG5leHBvcnQgeyBfbnVsbCBhcyBudWxsIH07XG5leHBvcnQgY29uc3QgWm9kQW55ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEFueVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kQW55LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGFueSgpIHtcbiAgICByZXR1cm4gY29yZS5fYW55KFpvZEFueSk7XG59XG5leHBvcnQgY29uc3QgWm9kVW5rbm93biA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RVbmtub3duXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RVbmtub3duLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHVua25vd24oKSB7XG4gICAgcmV0dXJuIGNvcmUuX3Vua25vd24oWm9kVW5rbm93bik7XG59XG5leHBvcnQgY29uc3QgWm9kTmV2ZXIgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kTmV2ZXJcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZE5ldmVyLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIG5ldmVyKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9uZXZlcihab2ROZXZlciwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RWb2lkID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFZvaWRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFZvaWQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5mdW5jdGlvbiBfdm9pZChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fdm9pZChab2RWb2lkLCBwYXJhbXMpO1xufVxuZXhwb3J0IHsgX3ZvaWQgYXMgdm9pZCB9O1xuZXhwb3J0IGNvbnN0IFpvZERhdGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kRGF0ZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kRGF0ZS5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5taW4gPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MuZ3RlKHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm1heCA9ICh2YWx1ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5sdGUodmFsdWUsIHBhcmFtcykpO1xuICAgIGNvbnN0IGMgPSBpbnN0Ll96b2QuYmFnO1xuICAgIGluc3QubWluRGF0ZSA9IGMubWluaW11bSA/IG5ldyBEYXRlKGMubWluaW11bSkgOiBudWxsO1xuICAgIGluc3QubWF4RGF0ZSA9IGMubWF4aW11bSA/IG5ldyBEYXRlKGMubWF4aW11bSkgOiBudWxsO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gZGF0ZShwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fZGF0ZShab2REYXRlLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZEFycmF5ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEFycmF5XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RBcnJheS5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5lbGVtZW50ID0gZGVmLmVsZW1lbnQ7XG4gICAgaW5zdC5taW4gPSAobWluTGVuZ3RoLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLm1pbkxlbmd0aChtaW5MZW5ndGgsIHBhcmFtcykpO1xuICAgIGluc3Qubm9uZW1wdHkgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5taW5MZW5ndGgoMSwgcGFyYW1zKSk7XG4gICAgaW5zdC5tYXggPSAobWF4TGVuZ3RoLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLm1heExlbmd0aChtYXhMZW5ndGgsIHBhcmFtcykpO1xuICAgIGluc3QubGVuZ3RoID0gKGxlbiwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5sZW5ndGgobGVuLCBwYXJhbXMpKTtcbiAgICBpbnN0LnVud3JhcCA9ICgpID0+IGluc3QuZWxlbWVudDtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGFycmF5KGVsZW1lbnQsIHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9hcnJheShab2RBcnJheSwgZWxlbWVudCwgcGFyYW1zKTtcbn1cbi8vIC5rZXlvZlxuZXhwb3J0IGZ1bmN0aW9uIGtleW9mKHNjaGVtYSkge1xuICAgIGNvbnN0IHNoYXBlID0gc2NoZW1hLl96b2QuZGVmLnNoYXBlO1xuICAgIHJldHVybiBfZW51bShPYmplY3Qua2V5cyhzaGFwZSkpO1xufVxuZXhwb3J0IGNvbnN0IFpvZE9iamVjdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RPYmplY3RcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZE9iamVjdEpJVC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QsIFwic2hhcGVcIiwgKCkgPT4gZGVmLnNoYXBlKTtcbiAgICBpbnN0LmtleW9mID0gKCkgPT4gX2VudW0oT2JqZWN0LmtleXMoaW5zdC5fem9kLmRlZi5zaGFwZSkpO1xuICAgIGluc3QuY2F0Y2hhbGwgPSAoY2F0Y2hhbGwpID0+IGluc3QuY2xvbmUoeyAuLi5pbnN0Ll96b2QuZGVmLCBjYXRjaGFsbDogY2F0Y2hhbGwgfSk7XG4gICAgaW5zdC5wYXNzdGhyb3VnaCA9ICgpID0+IGluc3QuY2xvbmUoeyAuLi5pbnN0Ll96b2QuZGVmLCBjYXRjaGFsbDogdW5rbm93bigpIH0pO1xuICAgIGluc3QubG9vc2UgPSAoKSA9PiBpbnN0LmNsb25lKHsgLi4uaW5zdC5fem9kLmRlZiwgY2F0Y2hhbGw6IHVua25vd24oKSB9KTtcbiAgICBpbnN0LnN0cmljdCA9ICgpID0+IGluc3QuY2xvbmUoeyAuLi5pbnN0Ll96b2QuZGVmLCBjYXRjaGFsbDogbmV2ZXIoKSB9KTtcbiAgICBpbnN0LnN0cmlwID0gKCkgPT4gaW5zdC5jbG9uZSh7IC4uLmluc3QuX3pvZC5kZWYsIGNhdGNoYWxsOiB1bmRlZmluZWQgfSk7XG4gICAgaW5zdC5leHRlbmQgPSAoaW5jb21pbmcpID0+IHtcbiAgICAgICAgcmV0dXJuIHV0aWwuZXh0ZW5kKGluc3QsIGluY29taW5nKTtcbiAgICB9O1xuICAgIGluc3Quc2FmZUV4dGVuZCA9IChpbmNvbWluZykgPT4ge1xuICAgICAgICByZXR1cm4gdXRpbC5zYWZlRXh0ZW5kKGluc3QsIGluY29taW5nKTtcbiAgICB9O1xuICAgIGluc3QubWVyZ2UgPSAob3RoZXIpID0+IHV0aWwubWVyZ2UoaW5zdCwgb3RoZXIpO1xuICAgIGluc3QucGljayA9IChtYXNrKSA9PiB1dGlsLnBpY2soaW5zdCwgbWFzayk7XG4gICAgaW5zdC5vbWl0ID0gKG1hc2spID0+IHV0aWwub21pdChpbnN0LCBtYXNrKTtcbiAgICBpbnN0LnBhcnRpYWwgPSAoLi4uYXJncykgPT4gdXRpbC5wYXJ0aWFsKFpvZE9wdGlvbmFsLCBpbnN0LCBhcmdzWzBdKTtcbiAgICBpbnN0LnJlcXVpcmVkID0gKC4uLmFyZ3MpID0+IHV0aWwucmVxdWlyZWQoWm9kTm9uT3B0aW9uYWwsIGluc3QsIGFyZ3NbMF0pO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gb2JqZWN0KHNoYXBlLCBwYXJhbXMpIHtcbiAgICBjb25zdCBkZWYgPSB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIGdldCBzaGFwZSgpIHtcbiAgICAgICAgICAgIHV0aWwuYXNzaWduUHJvcCh0aGlzLCBcInNoYXBlXCIsIHNoYXBlID8gdXRpbC5vYmplY3RDbG9uZShzaGFwZSkgOiB7fSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaGFwZTtcbiAgICAgICAgfSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9O1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KGRlZik7XG59XG4vLyBzdHJpY3RPYmplY3RcbmV4cG9ydCBmdW5jdGlvbiBzdHJpY3RPYmplY3Qoc2hhcGUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICAgICAgdXRpbC5hc3NpZ25Qcm9wKHRoaXMsIFwic2hhcGVcIiwgdXRpbC5vYmplY3RDbG9uZShzaGFwZSkpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hhcGU7XG4gICAgICAgIH0sXG4gICAgICAgIGNhdGNoYWxsOiBuZXZlcigpLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gbG9vc2VPYmplY3RcbmV4cG9ydCBmdW5jdGlvbiBsb29zZU9iamVjdChzaGFwZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgICAgICB1dGlsLmFzc2lnblByb3AodGhpcywgXCJzaGFwZVwiLCB1dGlsLm9iamVjdENsb25lKHNoYXBlKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaGFwZTtcbiAgICAgICAgfSxcbiAgICAgICAgY2F0Y2hhbGw6IHVua25vd24oKSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RVbmlvbiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RVbmlvblwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kVW5pb24uaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3Qub3B0aW9ucyA9IGRlZi5vcHRpb25zO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gdW5pb24ob3B0aW9ucywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBab2RVbmlvbih7XG4gICAgICAgIHR5cGU6IFwidW5pb25cIixcbiAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2REaXNjcmltaW5hdGVkVW5pb24gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kRGlzY3JpbWluYXRlZFVuaW9uXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBab2RVbmlvbi5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kRGlzY3JpbWluYXRlZFVuaW9uLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGRpc2NyaW1pbmF0ZWRVbmlvbihkaXNjcmltaW5hdG9yLCBvcHRpb25zLCBwYXJhbXMpIHtcbiAgICAvLyBjb25zdCBbb3B0aW9ucywgcGFyYW1zXSA9IGFyZ3M7XG4gICAgcmV0dXJuIG5ldyBab2REaXNjcmltaW5hdGVkVW5pb24oe1xuICAgICAgICB0eXBlOiBcInVuaW9uXCIsXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIGRpc2NyaW1pbmF0b3IsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kSW50ZXJzZWN0aW9uID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEludGVyc2VjdGlvblwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kSW50ZXJzZWN0aW9uLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdGlvbihsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiBuZXcgWm9kSW50ZXJzZWN0aW9uKHtcbiAgICAgICAgdHlwZTogXCJpbnRlcnNlY3Rpb25cIixcbiAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgcmlnaHQ6IHJpZ2h0LFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZFR1cGxlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFR1cGxlXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RUdXBsZS5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5yZXN0ID0gKHJlc3QpID0+IGluc3QuY2xvbmUoe1xuICAgICAgICAuLi5pbnN0Ll96b2QuZGVmLFxuICAgICAgICByZXN0OiByZXN0LFxuICAgIH0pO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gdHVwbGUoaXRlbXMsIF9wYXJhbXNPclJlc3QsIF9wYXJhbXMpIHtcbiAgICBjb25zdCBoYXNSZXN0ID0gX3BhcmFtc09yUmVzdCBpbnN0YW5jZW9mIGNvcmUuJFpvZFR5cGU7XG4gICAgY29uc3QgcGFyYW1zID0gaGFzUmVzdCA/IF9wYXJhbXMgOiBfcGFyYW1zT3JSZXN0O1xuICAgIGNvbnN0IHJlc3QgPSBoYXNSZXN0ID8gX3BhcmFtc09yUmVzdCA6IG51bGw7XG4gICAgcmV0dXJuIG5ldyBab2RUdXBsZSh7XG4gICAgICAgIHR5cGU6IFwidHVwbGVcIixcbiAgICAgICAgaXRlbXM6IGl0ZW1zLFxuICAgICAgICByZXN0LFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZFJlY29yZCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RSZWNvcmRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFJlY29yZC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5rZXlUeXBlID0gZGVmLmtleVR5cGU7XG4gICAgaW5zdC52YWx1ZVR5cGUgPSBkZWYudmFsdWVUeXBlO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gcmVjb3JkKGtleVR5cGUsIHZhbHVlVHlwZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBab2RSZWNvcmQoe1xuICAgICAgICB0eXBlOiBcInJlY29yZFwiLFxuICAgICAgICBrZXlUeXBlLFxuICAgICAgICB2YWx1ZVR5cGU6IHZhbHVlVHlwZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbi8vIHR5cGUgYWxrc2pmID0gY29yZS5vdXRwdXQ8Y29yZS4kWm9kUmVjb3JkS2V5PjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJ0aWFsUmVjb3JkKGtleVR5cGUsIHZhbHVlVHlwZSwgcGFyYW1zKSB7XG4gICAgY29uc3QgayA9IGNvcmUuY2xvbmUoa2V5VHlwZSk7XG4gICAgay5fem9kLnZhbHVlcyA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbmV3IFpvZFJlY29yZCh7XG4gICAgICAgIHR5cGU6IFwicmVjb3JkXCIsXG4gICAgICAgIGtleVR5cGU6IGssXG4gICAgICAgIHZhbHVlVHlwZTogdmFsdWVUeXBlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZE1hcCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RNYXBcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZE1hcC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5rZXlUeXBlID0gZGVmLmtleVR5cGU7XG4gICAgaW5zdC52YWx1ZVR5cGUgPSBkZWYudmFsdWVUeXBlO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gbWFwKGtleVR5cGUsIHZhbHVlVHlwZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBab2RNYXAoe1xuICAgICAgICB0eXBlOiBcIm1hcFwiLFxuICAgICAgICBrZXlUeXBlOiBrZXlUeXBlLFxuICAgICAgICB2YWx1ZVR5cGU6IHZhbHVlVHlwZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RTZXQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kU2V0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RTZXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QubWluID0gKC4uLmFyZ3MpID0+IGluc3QuY2hlY2soY29yZS5fbWluU2l6ZSguLi5hcmdzKSk7XG4gICAgaW5zdC5ub25lbXB0eSA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fbWluU2l6ZSgxLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm1heCA9ICguLi5hcmdzKSA9PiBpbnN0LmNoZWNrKGNvcmUuX21heFNpemUoLi4uYXJncykpO1xuICAgIGluc3Quc2l6ZSA9ICguLi5hcmdzKSA9PiBpbnN0LmNoZWNrKGNvcmUuX3NpemUoLi4uYXJncykpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gc2V0KHZhbHVlVHlwZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICB2YWx1ZVR5cGU6IHZhbHVlVHlwZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RFbnVtID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEVudW1cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZEVudW0uaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuZW51bSA9IGRlZi5lbnRyaWVzO1xuICAgIGluc3Qub3B0aW9ucyA9IE9iamVjdC52YWx1ZXMoZGVmLmVudHJpZXMpO1xuICAgIGNvbnN0IGtleXMgPSBuZXcgU2V0KE9iamVjdC5rZXlzKGRlZi5lbnRyaWVzKSk7XG4gICAgaW5zdC5leHRyYWN0ID0gKHZhbHVlcywgcGFyYW1zKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0VudHJpZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgICAgICAgIGlmIChrZXlzLmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBuZXdFbnRyaWVzW3ZhbHVlXSA9IGRlZi5lbnRyaWVzW3ZhbHVlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEtleSAke3ZhbHVlfSBub3QgZm91bmQgaW4gZW51bWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kRW51bSh7XG4gICAgICAgICAgICAuLi5kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgICAgIGVudHJpZXM6IG5ld0VudHJpZXMsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgaW5zdC5leGNsdWRlID0gKHZhbHVlcywgcGFyYW1zKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0VudHJpZXMgPSB7IC4uLmRlZi5lbnRyaWVzIH07XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdmFsdWVzKSB7XG4gICAgICAgICAgICBpZiAoa2V5cy5oYXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG5ld0VudHJpZXNbdmFsdWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgS2V5ICR7dmFsdWV9IG5vdCBmb3VuZCBpbiBlbnVtYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RFbnVtKHtcbiAgICAgICAgICAgIC4uLmRlZixcbiAgICAgICAgICAgIGNoZWNrczogW10sXG4gICAgICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICAgICAgZW50cmllczogbmV3RW50cmllcyxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gX2VudW0odmFsdWVzLCBwYXJhbXMpIHtcbiAgICBjb25zdCBlbnRyaWVzID0gQXJyYXkuaXNBcnJheSh2YWx1ZXMpID8gT2JqZWN0LmZyb21FbnRyaWVzKHZhbHVlcy5tYXAoKHYpID0+IFt2LCB2XSkpIDogdmFsdWVzO1xuICAgIHJldHVybiBuZXcgWm9kRW51bSh7XG4gICAgICAgIHR5cGU6IFwiZW51bVwiLFxuICAgICAgICBlbnRyaWVzLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IHsgX2VudW0gYXMgZW51bSB9O1xuLyoqIEBkZXByZWNhdGVkIFRoaXMgQVBJIGhhcyBiZWVuIG1lcmdlZCBpbnRvIGB6LmVudW0oKWAuIFVzZSBgei5lbnVtKClgIGluc3RlYWQuXG4gKlxuICogYGBgdHNcbiAqIGVudW0gQ29sb3JzIHsgcmVkLCBncmVlbiwgYmx1ZSB9XG4gKiB6LmVudW0oQ29sb3JzKTtcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gbmF0aXZlRW51bShlbnRyaWVzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZEVudW0oe1xuICAgICAgICB0eXBlOiBcImVudW1cIixcbiAgICAgICAgZW50cmllcyxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RMaXRlcmFsID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZExpdGVyYWxcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZExpdGVyYWwuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QudmFsdWVzID0gbmV3IFNldChkZWYudmFsdWVzKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaW5zdCwgXCJ2YWx1ZVwiLCB7XG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgIGlmIChkZWYudmFsdWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIHNjaGVtYSBjb250YWlucyBtdWx0aXBsZSB2YWxpZCBsaXRlcmFsIHZhbHVlcy4gVXNlIGAudmFsdWVzYCBpbnN0ZWFkLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZWYudmFsdWVzWzBdO1xuICAgICAgICB9LFxuICAgIH0pO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gbGl0ZXJhbCh2YWx1ZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBab2RMaXRlcmFsKHtcbiAgICAgICAgdHlwZTogXCJsaXRlcmFsXCIsXG4gICAgICAgIHZhbHVlczogQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV0sXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kRmlsZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RGaWxlXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RGaWxlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Lm1pbiA9IChzaXplLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fbWluU2l6ZShzaXplLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm1heCA9IChzaXplLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fbWF4U2l6ZShzaXplLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm1pbWUgPSAodHlwZXMsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9taW1lKEFycmF5LmlzQXJyYXkodHlwZXMpID8gdHlwZXMgOiBbdHlwZXNdLCBwYXJhbXMpKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGZpbGUocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2ZpbGUoWm9kRmlsZSwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RUcmFuc2Zvcm0gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kVHJhbnNmb3JtXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RUcmFuc2Zvcm0uaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KSA9PiB7XG4gICAgICAgIGlmIChfY3R4LmRpcmVjdGlvbiA9PT0gXCJiYWNrd2FyZFwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgY29yZS4kWm9kRW5jb2RlRXJyb3IoaW5zdC5jb25zdHJ1Y3Rvci5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBwYXlsb2FkLmFkZElzc3VlID0gKGlzc3VlKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlzc3VlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh1dGlsLmlzc3VlKGlzc3VlLCBwYXlsb2FkLnZhbHVlLCBkZWYpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGZvciBab2QgMyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZmF0YWwpXG4gICAgICAgICAgICAgICAgICAgIF9pc3N1ZS5jb250aW51ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF9pc3N1ZS5jb2RlID8/IChfaXNzdWUuY29kZSA9IFwiY3VzdG9tXCIpO1xuICAgICAgICAgICAgICAgIF9pc3N1ZS5pbnB1dCA/PyAoX2lzc3VlLmlucHV0ID0gcGF5bG9hZC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgX2lzc3VlLmluc3QgPz8gKF9pc3N1ZS5pbnN0ID0gaW5zdCk7XG4gICAgICAgICAgICAgICAgLy8gX2lzc3VlLmNvbnRpbnVlID8/PSB0cnVlO1xuICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2godXRpbC5pc3N1ZShfaXNzdWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gZGVmLnRyYW5zZm9ybShwYXlsb2FkLnZhbHVlLCBwYXlsb2FkKTtcbiAgICAgICAgaWYgKG91dHB1dCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQudGhlbigob3V0cHV0KSA9PiB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IG91dHB1dDtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHBheWxvYWQudmFsdWUgPSBvdXRwdXQ7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm0oZm4pIHtcbiAgICByZXR1cm4gbmV3IFpvZFRyYW5zZm9ybSh7XG4gICAgICAgIHR5cGU6IFwidHJhbnNmb3JtXCIsXG4gICAgICAgIHRyYW5zZm9ybTogZm4sXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kT3B0aW9uYWwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kT3B0aW9uYWxcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZE9wdGlvbmFsLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LnVud3JhcCA9ICgpID0+IGluc3QuX3pvZC5kZWYuaW5uZXJUeXBlO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gb3B0aW9uYWwoaW5uZXJUeXBlKSB7XG4gICAgcmV0dXJuIG5ldyBab2RPcHRpb25hbCh7XG4gICAgICAgIHR5cGU6IFwib3B0aW9uYWxcIixcbiAgICAgICAgaW5uZXJUeXBlOiBpbm5lclR5cGUsXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kTnVsbGFibGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kTnVsbGFibGVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZE51bGxhYmxlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LnVud3JhcCA9ICgpID0+IGluc3QuX3pvZC5kZWYuaW5uZXJUeXBlO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gbnVsbGFibGUoaW5uZXJUeXBlKSB7XG4gICAgcmV0dXJuIG5ldyBab2ROdWxsYWJsZSh7XG4gICAgICAgIHR5cGU6IFwibnVsbGFibGVcIixcbiAgICAgICAgaW5uZXJUeXBlOiBpbm5lclR5cGUsXG4gICAgfSk7XG59XG4vLyBudWxsaXNoXG5leHBvcnQgZnVuY3Rpb24gbnVsbGlzaChpbm5lclR5cGUpIHtcbiAgICByZXR1cm4gb3B0aW9uYWwobnVsbGFibGUoaW5uZXJUeXBlKSk7XG59XG5leHBvcnQgY29uc3QgWm9kRGVmYXVsdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2REZWZhdWx0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2REZWZhdWx0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LnVud3JhcCA9ICgpID0+IGluc3QuX3pvZC5kZWYuaW5uZXJUeXBlO1xuICAgIGluc3QucmVtb3ZlRGVmYXVsdCA9IGluc3QudW53cmFwO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gX2RlZmF1bHQoaW5uZXJUeXBlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IFpvZERlZmF1bHQoe1xuICAgICAgICB0eXBlOiBcImRlZmF1bHRcIixcbiAgICAgICAgaW5uZXJUeXBlOiBpbm5lclR5cGUsXG4gICAgICAgIGdldCBkZWZhdWx0VmFsdWUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGRlZmF1bHRWYWx1ZSA9PT0gXCJmdW5jdGlvblwiID8gZGVmYXVsdFZhbHVlKCkgOiB1dGlsLnNoYWxsb3dDbG9uZShkZWZhdWx0VmFsdWUpO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZFByZWZhdWx0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFByZWZhdWx0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RQcmVmYXVsdC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC51bndyYXAgPSAoKSA9PiBpbnN0Ll96b2QuZGVmLmlubmVyVHlwZTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHByZWZhdWx0KGlubmVyVHlwZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBab2RQcmVmYXVsdCh7XG4gICAgICAgIHR5cGU6IFwicHJlZmF1bHRcIixcbiAgICAgICAgaW5uZXJUeXBlOiBpbm5lclR5cGUsXG4gICAgICAgIGdldCBkZWZhdWx0VmFsdWUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGRlZmF1bHRWYWx1ZSA9PT0gXCJmdW5jdGlvblwiID8gZGVmYXVsdFZhbHVlKCkgOiB1dGlsLnNoYWxsb3dDbG9uZShkZWZhdWx0VmFsdWUpO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZE5vbk9wdGlvbmFsID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZE5vbk9wdGlvbmFsXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2ROb25PcHRpb25hbC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC51bndyYXAgPSAoKSA9PiBpbnN0Ll96b2QuZGVmLmlubmVyVHlwZTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIG5vbm9wdGlvbmFsKGlubmVyVHlwZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBab2ROb25PcHRpb25hbCh7XG4gICAgICAgIHR5cGU6IFwibm9ub3B0aW9uYWxcIixcbiAgICAgICAgaW5uZXJUeXBlOiBpbm5lclR5cGUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kU3VjY2VzcyA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RTdWNjZXNzXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RTdWNjZXNzLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LnVud3JhcCA9ICgpID0+IGluc3QuX3pvZC5kZWYuaW5uZXJUeXBlO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gc3VjY2Vzcyhpbm5lclR5cGUpIHtcbiAgICByZXR1cm4gbmV3IFpvZFN1Y2Nlc3Moe1xuICAgICAgICB0eXBlOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgaW5uZXJUeXBlOiBpbm5lclR5cGUsXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kQ2F0Y2ggPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQ2F0Y2hcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZENhdGNoLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LnVud3JhcCA9ICgpID0+IGluc3QuX3pvZC5kZWYuaW5uZXJUeXBlO1xuICAgIGluc3QucmVtb3ZlQ2F0Y2ggPSBpbnN0LnVud3JhcDtcbn0pO1xuZnVuY3Rpb24gX2NhdGNoKGlubmVyVHlwZSwgY2F0Y2hWYWx1ZSkge1xuICAgIHJldHVybiBuZXcgWm9kQ2F0Y2goe1xuICAgICAgICB0eXBlOiBcImNhdGNoXCIsXG4gICAgICAgIGlubmVyVHlwZTogaW5uZXJUeXBlLFxuICAgICAgICBjYXRjaFZhbHVlOiAodHlwZW9mIGNhdGNoVmFsdWUgPT09IFwiZnVuY3Rpb25cIiA/IGNhdGNoVmFsdWUgOiAoKSA9PiBjYXRjaFZhbHVlKSxcbiAgICB9KTtcbn1cbmV4cG9ydCB7IF9jYXRjaCBhcyBjYXRjaCB9O1xuZXhwb3J0IGNvbnN0IFpvZE5hTiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2ROYU5cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZE5hTi5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBuYW4ocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX25hbihab2ROYU4sIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kUGlwZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RQaXBlXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RQaXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LmluID0gZGVmLmluO1xuICAgIGluc3Qub3V0ID0gZGVmLm91dDtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGUoaW5fLCBvdXQpIHtcbiAgICByZXR1cm4gbmV3IFpvZFBpcGUoe1xuICAgICAgICB0eXBlOiBcInBpcGVcIixcbiAgICAgICAgaW46IGluXyxcbiAgICAgICAgb3V0OiBvdXQsXG4gICAgICAgIC8vIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kQ29kZWMgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQ29kZWNcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIFpvZFBpcGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZENvZGVjLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGNvZGVjKGluXywgb3V0LCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZENvZGVjKHtcbiAgICAgICAgdHlwZTogXCJwaXBlXCIsXG4gICAgICAgIGluOiBpbl8sXG4gICAgICAgIG91dDogb3V0LFxuICAgICAgICB0cmFuc2Zvcm06IHBhcmFtcy5kZWNvZGUsXG4gICAgICAgIHJldmVyc2VUcmFuc2Zvcm06IHBhcmFtcy5lbmNvZGUsXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kUmVhZG9ubHkgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kUmVhZG9ubHlcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFJlYWRvbmx5LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LnVud3JhcCA9ICgpID0+IGluc3QuX3pvZC5kZWYuaW5uZXJUeXBlO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gcmVhZG9ubHkoaW5uZXJUeXBlKSB7XG4gICAgcmV0dXJuIG5ldyBab2RSZWFkb25seSh7XG4gICAgICAgIHR5cGU6IFwicmVhZG9ubHlcIixcbiAgICAgICAgaW5uZXJUeXBlOiBpbm5lclR5cGUsXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kVGVtcGxhdGVMaXRlcmFsID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFRlbXBsYXRlTGl0ZXJhbFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kVGVtcGxhdGVMaXRlcmFsLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlTGl0ZXJhbChwYXJ0cywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBab2RUZW1wbGF0ZUxpdGVyYWwoe1xuICAgICAgICB0eXBlOiBcInRlbXBsYXRlX2xpdGVyYWxcIixcbiAgICAgICAgcGFydHMsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kTGF6eSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RMYXp5XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RMYXp5LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LnVud3JhcCA9ICgpID0+IGluc3QuX3pvZC5kZWYuZ2V0dGVyKCk7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBsYXp5KGdldHRlcikge1xuICAgIHJldHVybiBuZXcgWm9kTGF6eSh7XG4gICAgICAgIHR5cGU6IFwibGF6eVwiLFxuICAgICAgICBnZXR0ZXI6IGdldHRlcixcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RQcm9taXNlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFByb21pc2VcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFByb21pc2UuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QudW53cmFwID0gKCkgPT4gaW5zdC5fem9kLmRlZi5pbm5lclR5cGU7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBwcm9taXNlKGlubmVyVHlwZSkge1xuICAgIHJldHVybiBuZXcgWm9kUHJvbWlzZSh7XG4gICAgICAgIHR5cGU6IFwicHJvbWlzZVwiLFxuICAgICAgICBpbm5lclR5cGU6IGlubmVyVHlwZSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RGdW5jdGlvbiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RGdW5jdGlvblwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kRnVuY3Rpb24uaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gX2Z1bmN0aW9uKHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kRnVuY3Rpb24oe1xuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgIGlucHV0OiBBcnJheS5pc0FycmF5KHBhcmFtcz8uaW5wdXQpID8gdHVwbGUocGFyYW1zPy5pbnB1dCkgOiAocGFyYW1zPy5pbnB1dCA/PyBhcnJheSh1bmtub3duKCkpKSxcbiAgICAgICAgb3V0cHV0OiBwYXJhbXM/Lm91dHB1dCA/PyB1bmtub3duKCksXG4gICAgfSk7XG59XG5leHBvcnQgeyBfZnVuY3Rpb24gYXMgZnVuY3Rpb24gfTtcbmV4cG9ydCBjb25zdCBab2RDdXN0b20gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQ3VzdG9tXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RDdXN0b20uaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xufSk7XG4vLyBjdXN0b20gY2hlY2tzXG5leHBvcnQgZnVuY3Rpb24gY2hlY2soZm4pIHtcbiAgICBjb25zdCBjaCA9IG5ldyBjb3JlLiRab2RDaGVjayh7XG4gICAgICAgIGNoZWNrOiBcImN1c3RvbVwiLFxuICAgICAgICAvLyAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xuICAgIGNoLl96b2QuY2hlY2sgPSBmbjtcbiAgICByZXR1cm4gY2g7XG59XG5leHBvcnQgZnVuY3Rpb24gY3VzdG9tKGZuLCBfcGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2N1c3RvbShab2RDdXN0b20sIGZuID8/ICgoKSA9PiB0cnVlKSwgX3BhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVmaW5lKGZuLCBfcGFyYW1zID0ge30pIHtcbiAgICByZXR1cm4gY29yZS5fcmVmaW5lKFpvZEN1c3RvbSwgZm4sIF9wYXJhbXMpO1xufVxuLy8gc3VwZXJSZWZpbmVcbmV4cG9ydCBmdW5jdGlvbiBzdXBlclJlZmluZShmbikge1xuICAgIHJldHVybiBjb3JlLl9zdXBlclJlZmluZShmbik7XG59XG5mdW5jdGlvbiBfaW5zdGFuY2VvZihjbHMsIHBhcmFtcyA9IHtcbiAgICBlcnJvcjogYElucHV0IG5vdCBpbnN0YW5jZSBvZiAke2Nscy5uYW1lfWAsXG59KSB7XG4gICAgY29uc3QgaW5zdCA9IG5ldyBab2RDdXN0b20oe1xuICAgICAgICB0eXBlOiBcImN1c3RvbVwiLFxuICAgICAgICBjaGVjazogXCJjdXN0b21cIixcbiAgICAgICAgZm46IChkYXRhKSA9PiBkYXRhIGluc3RhbmNlb2YgY2xzLFxuICAgICAgICBhYm9ydDogdHJ1ZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuYmFnLkNsYXNzID0gY2xzO1xuICAgIHJldHVybiBpbnN0O1xufVxuZXhwb3J0IHsgX2luc3RhbmNlb2YgYXMgaW5zdGFuY2VvZiB9O1xuLy8gc3RyaW5nYm9vbFxuZXhwb3J0IGNvbnN0IHN0cmluZ2Jvb2wgPSAoLi4uYXJncykgPT4gY29yZS5fc3RyaW5nYm9vbCh7XG4gICAgQ29kZWM6IFpvZENvZGVjLFxuICAgIEJvb2xlYW46IFpvZEJvb2xlYW4sXG4gICAgU3RyaW5nOiBab2RTdHJpbmcsXG59LCAuLi5hcmdzKTtcbmV4cG9ydCBmdW5jdGlvbiBqc29uKHBhcmFtcykge1xuICAgIGNvbnN0IGpzb25TY2hlbWEgPSBsYXp5KCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHVuaW9uKFtzdHJpbmcocGFyYW1zKSwgbnVtYmVyKCksIGJvb2xlYW4oKSwgX251bGwoKSwgYXJyYXkoanNvblNjaGVtYSksIHJlY29yZChzdHJpbmcoKSwganNvblNjaGVtYSldKTtcbiAgICB9KTtcbiAgICByZXR1cm4ganNvblNjaGVtYTtcbn1cbi8vIHByZXByb2Nlc3Ncbi8vIC8qKiBAZGVwcmVjYXRlZCBVc2UgYHoucGlwZSgpYCBhbmQgYHoudHJhbnNmb3JtKClgIGluc3RlYWQuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlcHJvY2Vzcyhmbiwgc2NoZW1hKSB7XG4gICAgcmV0dXJuIHBpcGUodHJhbnNmb3JtKGZuKSwgc2NoZW1hKTtcbn1cbiIsICIvLyBab2QgMyBjb21wYXQgbGF5ZXJcbmltcG9ydCAqIGFzIGNvcmUgZnJvbSBcIi4uL2NvcmUvaW5kZXguanNcIjtcbi8qKiBAZGVwcmVjYXRlZCBVc2UgdGhlIHJhdyBzdHJpbmcgbGl0ZXJhbCBjb2RlcyBpbnN0ZWFkLCBlLmcuIFwiaW52YWxpZF90eXBlXCIuICovXG5leHBvcnQgY29uc3QgWm9kSXNzdWVDb2RlID0ge1xuICAgIGludmFsaWRfdHlwZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICB0b29fYmlnOiBcInRvb19iaWdcIixcbiAgICB0b29fc21hbGw6IFwidG9vX3NtYWxsXCIsXG4gICAgaW52YWxpZF9mb3JtYXQ6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICBub3RfbXVsdGlwbGVfb2Y6IFwibm90X211bHRpcGxlX29mXCIsXG4gICAgdW5yZWNvZ25pemVkX2tleXM6IFwidW5yZWNvZ25pemVkX2tleXNcIixcbiAgICBpbnZhbGlkX3VuaW9uOiBcImludmFsaWRfdW5pb25cIixcbiAgICBpbnZhbGlkX2tleTogXCJpbnZhbGlkX2tleVwiLFxuICAgIGludmFsaWRfZWxlbWVudDogXCJpbnZhbGlkX2VsZW1lbnRcIixcbiAgICBpbnZhbGlkX3ZhbHVlOiBcImludmFsaWRfdmFsdWVcIixcbiAgICBjdXN0b206IFwiY3VzdG9tXCIsXG59O1xuZXhwb3J0IHsgJGJyYW5kLCBjb25maWcgfSBmcm9tIFwiLi4vY29yZS9pbmRleC5qc1wiO1xuLyoqIEBkZXByZWNhdGVkIFVzZSBgei5jb25maWcocGFyYW1zKWAgaW5zdGVhZC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRFcnJvck1hcChtYXApIHtcbiAgICBjb3JlLmNvbmZpZyh7XG4gICAgICAgIGN1c3RvbUVycm9yOiBtYXAsXG4gICAgfSk7XG59XG4vKiogQGRlcHJlY2F0ZWQgVXNlIGB6LmNvbmZpZygpYCBpbnN0ZWFkLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVycm9yTWFwKCkge1xuICAgIHJldHVybiBjb3JlLmNvbmZpZygpLmN1c3RvbUVycm9yO1xufVxuLyoqIEBkZXByZWNhdGVkIERvIG5vdCB1c2UuIFN0dWIgZGVmaW5pdGlvbiwgb25seSBpbmNsdWRlZCBmb3Igem9kLXRvLWpzb24tc2NoZW1hIGNvbXBhdGliaWxpdHkuICovXG5leHBvcnQgdmFyIFpvZEZpcnN0UGFydHlUeXBlS2luZDtcbihmdW5jdGlvbiAoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kKSB7XG59KShab2RGaXJzdFBhcnR5VHlwZUtpbmQgfHwgKFpvZEZpcnN0UGFydHlUeXBlS2luZCA9IHt9KSk7XG4iLCAiaW1wb3J0ICogYXMgY29yZSBmcm9tIFwiLi4vY29yZS9pbmRleC5qc1wiO1xuaW1wb3J0ICogYXMgc2NoZW1hcyBmcm9tIFwiLi9zY2hlbWFzLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9jb2VyY2VkU3RyaW5nKHNjaGVtYXMuWm9kU3RyaW5nLCBwYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG51bWJlcihwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fY29lcmNlZE51bWJlcihzY2hlbWFzLlpvZE51bWJlciwgcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBib29sZWFuKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9jb2VyY2VkQm9vbGVhbihzY2hlbWFzLlpvZEJvb2xlYW4sIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gYmlnaW50KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9jb2VyY2VkQmlnaW50KHNjaGVtYXMuWm9kQmlnSW50LCBwYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRhdGUocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2NvZXJjZWREYXRlKHNjaGVtYXMuWm9kRGF0ZSwgcGFyYW1zKTtcbn1cbiIsICJleHBvcnQgdmFyIHV0aWw7XG4oZnVuY3Rpb24gKHV0aWwpIHtcbiAgICB1dGlsLmFzc2VydEVxdWFsID0gKF8pID0+IHsgfTtcbiAgICBmdW5jdGlvbiBhc3NlcnRJcyhfYXJnKSB7IH1cbiAgICB1dGlsLmFzc2VydElzID0gYXNzZXJ0SXM7XG4gICAgZnVuY3Rpb24gYXNzZXJ0TmV2ZXIoX3gpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgfVxuICAgIHV0aWwuYXNzZXJ0TmV2ZXIgPSBhc3NlcnROZXZlcjtcbiAgICB1dGlsLmFycmF5VG9FbnVtID0gKGl0ZW1zKSA9PiB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgICAgICAgIG9ialtpdGVtXSA9IGl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuICAgIHV0aWwuZ2V0VmFsaWRFbnVtVmFsdWVzID0gKG9iaikgPT4ge1xuICAgICAgICBjb25zdCB2YWxpZEtleXMgPSB1dGlsLm9iamVjdEtleXMob2JqKS5maWx0ZXIoKGspID0+IHR5cGVvZiBvYmpbb2JqW2tdXSAhPT0gXCJudW1iZXJcIik7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkID0ge307XG4gICAgICAgIGZvciAoY29uc3QgayBvZiB2YWxpZEtleXMpIHtcbiAgICAgICAgICAgIGZpbHRlcmVkW2tdID0gb2JqW2tdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1dGlsLm9iamVjdFZhbHVlcyhmaWx0ZXJlZCk7XG4gICAgfTtcbiAgICB1dGlsLm9iamVjdFZhbHVlcyA9IChvYmopID0+IHtcbiAgICAgICAgcmV0dXJuIHV0aWwub2JqZWN0S2V5cyhvYmopLm1hcChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIG9ialtlXTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB1dGlsLm9iamVjdEtleXMgPSB0eXBlb2YgT2JqZWN0LmtleXMgPT09IFwiZnVuY3Rpb25cIiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGJhbi9iYW5cbiAgICAgICAgPyAob2JqKSA9PiBPYmplY3Qua2V5cyhvYmopIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgYmFuL2JhblxuICAgICAgICA6IChvYmplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBrZXlzO1xuICAgICAgICB9O1xuICAgIHV0aWwuZmluZCA9IChhcnIsIGNoZWNrZXIpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGFycikge1xuICAgICAgICAgICAgaWYgKGNoZWNrZXIoaXRlbSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIHV0aWwuaXNJbnRlZ2VyID0gdHlwZW9mIE51bWJlci5pc0ludGVnZXIgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICA/ICh2YWwpID0+IE51bWJlci5pc0ludGVnZXIodmFsKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGJhbi9iYW5cbiAgICAgICAgOiAodmFsKSA9PiB0eXBlb2YgdmFsID09PSBcIm51bWJlclwiICYmIE51bWJlci5pc0Zpbml0ZSh2YWwpICYmIE1hdGguZmxvb3IodmFsKSA9PT0gdmFsO1xuICAgIGZ1bmN0aW9uIGpvaW5WYWx1ZXMoYXJyYXksIHNlcGFyYXRvciA9IFwiIHwgXCIpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5Lm1hcCgodmFsKSA9PiAodHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIiA/IGAnJHt2YWx9J2AgOiB2YWwpKS5qb2luKHNlcGFyYXRvcik7XG4gICAgfVxuICAgIHV0aWwuam9pblZhbHVlcyA9IGpvaW5WYWx1ZXM7XG4gICAgdXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIgPSAoXywgdmFsdWUpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJiaWdpbnRcIikge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG59KSh1dGlsIHx8ICh1dGlsID0ge30pKTtcbmV4cG9ydCB2YXIgb2JqZWN0VXRpbDtcbihmdW5jdGlvbiAob2JqZWN0VXRpbCkge1xuICAgIG9iamVjdFV0aWwubWVyZ2VTaGFwZXMgPSAoZmlyc3QsIHNlY29uZCkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uZmlyc3QsXG4gICAgICAgICAgICAuLi5zZWNvbmQsIC8vIHNlY29uZCBvdmVyd3JpdGVzIGZpcnN0XG4gICAgICAgIH07XG4gICAgfTtcbn0pKG9iamVjdFV0aWwgfHwgKG9iamVjdFV0aWwgPSB7fSkpO1xuZXhwb3J0IGNvbnN0IFpvZFBhcnNlZFR5cGUgPSB1dGlsLmFycmF5VG9FbnVtKFtcbiAgICBcInN0cmluZ1wiLFxuICAgIFwibmFuXCIsXG4gICAgXCJudW1iZXJcIixcbiAgICBcImludGVnZXJcIixcbiAgICBcImZsb2F0XCIsXG4gICAgXCJib29sZWFuXCIsXG4gICAgXCJkYXRlXCIsXG4gICAgXCJiaWdpbnRcIixcbiAgICBcInN5bWJvbFwiLFxuICAgIFwiZnVuY3Rpb25cIixcbiAgICBcInVuZGVmaW5lZFwiLFxuICAgIFwibnVsbFwiLFxuICAgIFwiYXJyYXlcIixcbiAgICBcIm9iamVjdFwiLFxuICAgIFwidW5rbm93blwiLFxuICAgIFwicHJvbWlzZVwiLFxuICAgIFwidm9pZFwiLFxuICAgIFwibmV2ZXJcIixcbiAgICBcIm1hcFwiLFxuICAgIFwic2V0XCIsXG5dKTtcbmV4cG9ydCBjb25zdCBnZXRQYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgc3dpdGNoICh0KSB7XG4gICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZDtcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuc3RyaW5nO1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gWm9kUGFyc2VkVHlwZS5uYW4gOiBab2RQYXJzZWRUeXBlLm51bWJlcjtcbiAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmJvb2xlYW47XG4gICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuZnVuY3Rpb247XG4gICAgICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmJpZ2ludDtcbiAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuc3ltYm9sO1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmFycmF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5udWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEudGhlbiAmJiB0eXBlb2YgZGF0YS50aGVuID09PSBcImZ1bmN0aW9uXCIgJiYgZGF0YS5jYXRjaCAmJiB0eXBlb2YgZGF0YS5jYXRjaCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUucHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgTWFwICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5tYXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIFNldCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBEYXRlICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuZGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLm9iamVjdDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnVua25vd247XG4gICAgfVxufTtcbiIsICJpbXBvcnQgeyB1dGlsIH0gZnJvbSBcIi4vaGVscGVycy91dGlsLmpzXCI7XG5leHBvcnQgY29uc3QgWm9kSXNzdWVDb2RlID0gdXRpbC5hcnJheVRvRW51bShbXG4gICAgXCJpbnZhbGlkX3R5cGVcIixcbiAgICBcImludmFsaWRfbGl0ZXJhbFwiLFxuICAgIFwiY3VzdG9tXCIsXG4gICAgXCJpbnZhbGlkX3VuaW9uXCIsXG4gICAgXCJpbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3JcIixcbiAgICBcImludmFsaWRfZW51bV92YWx1ZVwiLFxuICAgIFwidW5yZWNvZ25pemVkX2tleXNcIixcbiAgICBcImludmFsaWRfYXJndW1lbnRzXCIsXG4gICAgXCJpbnZhbGlkX3JldHVybl90eXBlXCIsXG4gICAgXCJpbnZhbGlkX2RhdGVcIixcbiAgICBcImludmFsaWRfc3RyaW5nXCIsXG4gICAgXCJ0b29fc21hbGxcIixcbiAgICBcInRvb19iaWdcIixcbiAgICBcImludmFsaWRfaW50ZXJzZWN0aW9uX3R5cGVzXCIsXG4gICAgXCJub3RfbXVsdGlwbGVfb2ZcIixcbiAgICBcIm5vdF9maW5pdGVcIixcbl0pO1xuZXhwb3J0IGNvbnN0IHF1b3RlbGVzc0pzb24gPSAob2JqKSA9PiB7XG4gICAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgMik7XG4gICAgcmV0dXJuIGpzb24ucmVwbGFjZSgvXCIoW15cIl0rKVwiOi9nLCBcIiQxOlwiKTtcbn07XG5leHBvcnQgY2xhc3MgWm9kRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgZ2V0IGVycm9ycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNzdWVzO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcihpc3N1ZXMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pc3N1ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5hZGRJc3N1ZSA9IChzdWIpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNzdWVzID0gWy4uLnRoaXMuaXNzdWVzLCBzdWJdO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFkZElzc3VlcyA9IChzdWJzID0gW10pID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNzdWVzID0gWy4uLnRoaXMuaXNzdWVzLCAuLi5zdWJzXTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYWN0dWFsUHJvdG8gPSBuZXcudGFyZ2V0LnByb3RvdHlwZTtcbiAgICAgICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGJhbi9iYW5cbiAgICAgICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBhY3R1YWxQcm90byk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9fcHJvdG9fXyA9IGFjdHVhbFByb3RvO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmFtZSA9IFwiWm9kRXJyb3JcIjtcbiAgICAgICAgdGhpcy5pc3N1ZXMgPSBpc3N1ZXM7XG4gICAgfVxuICAgIGZvcm1hdChfbWFwcGVyKSB7XG4gICAgICAgIGNvbnN0IG1hcHBlciA9IF9tYXBwZXIgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChpc3N1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc3N1ZS5tZXNzYWdlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZmllbGRFcnJvcnMgPSB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgIGNvbnN0IHByb2Nlc3NFcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpc3N1ZSBvZiBlcnJvci5pc3N1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX3VuaW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNzdWUudW5pb25FcnJvcnMubWFwKHByb2Nlc3NFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF9yZXR1cm5fdHlwZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFcnJvcihpc3N1ZS5yZXR1cm5UeXBlRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfYXJndW1lbnRzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0Vycm9yKGlzc3VlLmFyZ3VtZW50c0Vycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUucGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGRFcnJvcnMuX2Vycm9ycy5wdXNoKG1hcHBlcihpc3N1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnIgPSBmaWVsZEVycm9ycztcbiAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IGlzc3VlLnBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGlzc3VlLnBhdGhbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXJtaW5hbCA9IGkgPT09IGlzc3VlLnBhdGgubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAodHlwZW9mIGVsID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9IGVsc2UgaWYgKHR5cGVvZiBlbCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgY29uc3QgZXJyb3JBcnJheTogYW55ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBlcnJvckFycmF5Ll9lcnJvcnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgZXJyb3JBcnJheTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXS5fZXJyb3JzLnB1c2gobWFwcGVyKGlzc3VlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyID0gY3VycltlbF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHByb2Nlc3NFcnJvcih0aGlzKTtcbiAgICAgICAgcmV0dXJuIGZpZWxkRXJyb3JzO1xuICAgIH1cbiAgICBzdGF0aWMgYXNzZXJ0KHZhbHVlKSB7XG4gICAgICAgIGlmICghKHZhbHVlIGluc3RhbmNlb2YgWm9kRXJyb3IpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vdCBhIFpvZEVycm9yOiAke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlO1xuICAgIH1cbiAgICBnZXQgbWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuaXNzdWVzLCB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlciwgMik7XG4gICAgfVxuICAgIGdldCBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc3N1ZXMubGVuZ3RoID09PSAwO1xuICAgIH1cbiAgICBmbGF0dGVuKG1hcHBlciA9IChpc3N1ZSkgPT4gaXNzdWUubWVzc2FnZSkge1xuICAgICAgICBjb25zdCBmaWVsZEVycm9ycyA9IHt9O1xuICAgICAgICBjb25zdCBmb3JtRXJyb3JzID0gW107XG4gICAgICAgIGZvciAoY29uc3Qgc3ViIG9mIHRoaXMuaXNzdWVzKSB7XG4gICAgICAgICAgICBpZiAoc3ViLnBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0RWwgPSBzdWIucGF0aFswXTtcbiAgICAgICAgICAgICAgICBmaWVsZEVycm9yc1tmaXJzdEVsXSA9IGZpZWxkRXJyb3JzW2ZpcnN0RWxdIHx8IFtdO1xuICAgICAgICAgICAgICAgIGZpZWxkRXJyb3JzW2ZpcnN0RWxdLnB1c2gobWFwcGVyKHN1YikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9ybUVycm9ycy5wdXNoKG1hcHBlcihzdWIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBmb3JtRXJyb3JzLCBmaWVsZEVycm9ycyB9O1xuICAgIH1cbiAgICBnZXQgZm9ybUVycm9ycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmxhdHRlbigpO1xuICAgIH1cbn1cblpvZEVycm9yLmNyZWF0ZSA9IChpc3N1ZXMpID0+IHtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBab2RFcnJvcihpc3N1ZXMpO1xuICAgIHJldHVybiBlcnJvcjtcbn07XG4iLCAiaW1wb3J0IHsgWm9kSXNzdWVDb2RlIH0gZnJvbSBcIi4uL1pvZEVycm9yLmpzXCI7XG5pbXBvcnQgeyB1dGlsLCBab2RQYXJzZWRUeXBlIH0gZnJvbSBcIi4uL2hlbHBlcnMvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3JNYXAgPSAoaXNzdWUsIF9jdHgpID0+IHtcbiAgICBsZXQgbWVzc2FnZTtcbiAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlOlxuICAgICAgICAgICAgaWYgKGlzc3VlLnJlY2VpdmVkID09PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIlJlcXVpcmVkXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEV4cGVjdGVkICR7aXNzdWUuZXhwZWN0ZWR9LCByZWNlaXZlZCAke2lzc3VlLnJlY2VpdmVkfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9saXRlcmFsOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGxpdGVyYWwgdmFsdWUsIGV4cGVjdGVkICR7SlNPTi5zdHJpbmdpZnkoaXNzdWUuZXhwZWN0ZWQsIHV0aWwuanNvblN0cmluZ2lmeVJlcGxhY2VyKX1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLnVucmVjb2duaXplZF9rZXlzOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBVbnJlY29nbml6ZWQga2V5KHMpIGluIG9iamVjdDogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb246XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXRgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb25fZGlzY3JpbWluYXRvcjpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBkaXNjcmltaW5hdG9yIHZhbHVlLiBFeHBlY3RlZCAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5vcHRpb25zKX1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfZW51bV92YWx1ZTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBlbnVtIHZhbHVlLiBFeHBlY3RlZCAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5vcHRpb25zKX0sIHJlY2VpdmVkICcke2lzc3VlLnJlY2VpdmVkfSdgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfYXJndW1lbnRzOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGZ1bmN0aW9uIGFyZ3VtZW50c2A7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9yZXR1cm5fdHlwZTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBmdW5jdGlvbiByZXR1cm4gdHlwZWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9kYXRlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGRhdGVgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nOlxuICAgICAgICAgICAgaWYgKHR5cGVvZiBpc3N1ZS52YWxpZGF0aW9uID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKFwiaW5jbHVkZXNcIiBpbiBpc3N1ZS52YWxpZGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dDogbXVzdCBpbmNsdWRlIFwiJHtpc3N1ZS52YWxpZGF0aW9uLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpc3N1ZS52YWxpZGF0aW9uLnBvc2l0aW9uID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gYCR7bWVzc2FnZX0gYXQgb25lIG9yIG1vcmUgcG9zaXRpb25zIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAke2lzc3VlLnZhbGlkYXRpb24ucG9zaXRpb259YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChcInN0YXJ0c1dpdGhcIiBpbiBpc3N1ZS52YWxpZGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dDogbXVzdCBzdGFydCB3aXRoIFwiJHtpc3N1ZS52YWxpZGF0aW9uLnN0YXJ0c1dpdGh9XCJgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChcImVuZHNXaXRoXCIgaW4gaXNzdWUudmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXQ6IG11c3QgZW5kIHdpdGggXCIke2lzc3VlLnZhbGlkYXRpb24uZW5kc1dpdGh9XCJgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihpc3N1ZS52YWxpZGF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS52YWxpZGF0aW9uICE9PSBcInJlZ2V4XCIpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgJHtpc3N1ZS52YWxpZGF0aW9ufWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJJbnZhbGlkXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUudG9vX3NtYWxsOlxuICAgICAgICAgICAgaWYgKGlzc3VlLnR5cGUgPT09IFwiYXJyYXlcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEFycmF5IG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gXCJleGFjdGx5XCIgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgYXQgbGVhc3RgIDogYG1vcmUgdGhhbmB9ICR7aXNzdWUubWluaW11bX0gZWxlbWVudChzKWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgU3RyaW5nIG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gXCJleGFjdGx5XCIgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgYXQgbGVhc3RgIDogYG92ZXJgfSAke2lzc3VlLm1pbmltdW19IGNoYXJhY3RlcihzKWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgTnVtYmVyIG11c3QgYmUgJHtpc3N1ZS5leGFjdCA/IGBleGFjdGx5IGVxdWFsIHRvIGAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGAgOiBgZ3JlYXRlciB0aGFuIGB9JHtpc3N1ZS5taW5pbXVtfWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcImJpZ2ludFwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgTnVtYmVyIG11c3QgYmUgJHtpc3N1ZS5leGFjdCA/IGBleGFjdGx5IGVxdWFsIHRvIGAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGAgOiBgZ3JlYXRlciB0aGFuIGB9JHtpc3N1ZS5taW5pbXVtfWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcImRhdGVcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYERhdGUgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHkgZXF1YWwgdG8gYCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYCA6IGBncmVhdGVyIHRoYW4gYH0ke25ldyBEYXRlKE51bWJlcihpc3N1ZS5taW5pbXVtKSl9YDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJJbnZhbGlkIGlucHV0XCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUudG9vX2JpZzpcbiAgICAgICAgICAgIGlmIChpc3N1ZS50eXBlID09PSBcImFycmF5XCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBBcnJheSBtdXN0IGNvbnRhaW4gJHtpc3N1ZS5leGFjdCA/IGBleGFjdGx5YCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBtb3N0YCA6IGBsZXNzIHRoYW5gfSAke2lzc3VlLm1heGltdW19IGVsZW1lbnQocylgO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYFN0cmluZyBtdXN0IGNvbnRhaW4gJHtpc3N1ZS5leGFjdCA/IGBleGFjdGx5YCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBtb3N0YCA6IGB1bmRlcmB9ICR7aXNzdWUubWF4aW11bX0gY2hhcmFjdGVyKHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGxlc3MgdGhhbiBvciBlcXVhbCB0b2AgOiBgbGVzcyB0aGFuYH0gJHtpc3N1ZS5tYXhpbXVtfWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcImJpZ2ludFwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgQmlnSW50IG11c3QgYmUgJHtpc3N1ZS5leGFjdCA/IGBleGFjdGx5YCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBsZXNzIHRoYW4gb3IgZXF1YWwgdG9gIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX1gO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJkYXRlXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBEYXRlIG11c3QgYmUgJHtpc3N1ZS5leGFjdCA/IGBleGFjdGx5YCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBzbWFsbGVyIHRoYW4gb3IgZXF1YWwgdG9gIDogYHNtYWxsZXIgdGhhbmB9ICR7bmV3IERhdGUoTnVtYmVyKGlzc3VlLm1heGltdW0pKX1gO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkludmFsaWQgaW5wdXRcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5jdXN0b206XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXRgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfaW50ZXJzZWN0aW9uX3R5cGVzOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnRlcnNlY3Rpb24gcmVzdWx0cyBjb3VsZCBub3QgYmUgbWVyZ2VkYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5ub3RfbXVsdGlwbGVfb2Y6XG4gICAgICAgICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgJHtpc3N1ZS5tdWx0aXBsZU9mfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUubm90X2Zpbml0ZTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIk51bWJlciBtdXN0IGJlIGZpbml0ZVwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBtZXNzYWdlID0gX2N0eC5kZWZhdWx0RXJyb3I7XG4gICAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGlzc3VlKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgbWVzc2FnZSB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGVycm9yTWFwO1xuIiwgImltcG9ydCBkZWZhdWx0RXJyb3JNYXAgZnJvbSBcIi4vbG9jYWxlcy9lbi5qc1wiO1xubGV0IG92ZXJyaWRlRXJyb3JNYXAgPSBkZWZhdWx0RXJyb3JNYXA7XG5leHBvcnQgeyBkZWZhdWx0RXJyb3JNYXAgfTtcbmV4cG9ydCBmdW5jdGlvbiBzZXRFcnJvck1hcChtYXApIHtcbiAgICBvdmVycmlkZUVycm9yTWFwID0gbWFwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEVycm9yTWFwKCkge1xuICAgIHJldHVybiBvdmVycmlkZUVycm9yTWFwO1xufVxuIiwgImltcG9ydCB7IGdldEVycm9yTWFwIH0gZnJvbSBcIi4uL2Vycm9ycy5qc1wiO1xuaW1wb3J0IGRlZmF1bHRFcnJvck1hcCBmcm9tIFwiLi4vbG9jYWxlcy9lbi5qc1wiO1xuZXhwb3J0IGNvbnN0IG1ha2VJc3N1ZSA9IChwYXJhbXMpID0+IHtcbiAgICBjb25zdCB7IGRhdGEsIHBhdGgsIGVycm9yTWFwcywgaXNzdWVEYXRhIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgZnVsbFBhdGggPSBbLi4ucGF0aCwgLi4uKGlzc3VlRGF0YS5wYXRoIHx8IFtdKV07XG4gICAgY29uc3QgZnVsbElzc3VlID0ge1xuICAgICAgICAuLi5pc3N1ZURhdGEsXG4gICAgICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgIH07XG4gICAgaWYgKGlzc3VlRGF0YS5tZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmlzc3VlRGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgICAgICAgICAgbWVzc2FnZTogaXNzdWVEYXRhLm1lc3NhZ2UsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGxldCBlcnJvck1lc3NhZ2UgPSBcIlwiO1xuICAgIGNvbnN0IG1hcHMgPSBlcnJvck1hcHNcbiAgICAgICAgLmZpbHRlcigobSkgPT4gISFtKVxuICAgICAgICAuc2xpY2UoKVxuICAgICAgICAucmV2ZXJzZSgpO1xuICAgIGZvciAoY29uc3QgbWFwIG9mIG1hcHMpIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gbWFwKGZ1bGxJc3N1ZSwgeyBkYXRhLCBkZWZhdWx0RXJyb3I6IGVycm9yTWVzc2FnZSB9KS5tZXNzYWdlO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5pc3N1ZURhdGEsXG4gICAgICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2UsXG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgRU1QVFlfUEFUSCA9IFtdO1xuZXhwb3J0IGZ1bmN0aW9uIGFkZElzc3VlVG9Db250ZXh0KGN0eCwgaXNzdWVEYXRhKSB7XG4gICAgY29uc3Qgb3ZlcnJpZGVNYXAgPSBnZXRFcnJvck1hcCgpO1xuICAgIGNvbnN0IGlzc3VlID0gbWFrZUlzc3VlKHtcbiAgICAgICAgaXNzdWVEYXRhOiBpc3N1ZURhdGEsXG4gICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgZXJyb3JNYXBzOiBbXG4gICAgICAgICAgICBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCwgLy8gY29udGV4dHVhbCBlcnJvciBtYXAgaXMgZmlyc3QgcHJpb3JpdHlcbiAgICAgICAgICAgIGN0eC5zY2hlbWFFcnJvck1hcCwgLy8gdGhlbiBzY2hlbWEtYm91bmQgbWFwIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgb3ZlcnJpZGVNYXAsIC8vIHRoZW4gZ2xvYmFsIG92ZXJyaWRlIG1hcFxuICAgICAgICAgICAgb3ZlcnJpZGVNYXAgPT09IGRlZmF1bHRFcnJvck1hcCA/IHVuZGVmaW5lZCA6IGRlZmF1bHRFcnJvck1hcCwgLy8gdGhlbiBnbG9iYWwgZGVmYXVsdCBtYXBcbiAgICAgICAgXS5maWx0ZXIoKHgpID0+ICEheCksXG4gICAgfSk7XG4gICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaChpc3N1ZSk7XG59XG5leHBvcnQgY2xhc3MgUGFyc2VTdGF0dXMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnZhbHVlID0gXCJ2YWxpZFwiO1xuICAgIH1cbiAgICBkaXJ0eSgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09IFwidmFsaWRcIilcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcImRpcnR5XCI7XG4gICAgfVxuICAgIGFib3J0KCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZSAhPT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gXCJhYm9ydGVkXCI7XG4gICAgfVxuICAgIHN0YXRpYyBtZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0cykge1xuICAgICAgICBjb25zdCBhcnJheVZhbHVlID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcyBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICBpZiAocy5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKHMuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICBhcnJheVZhbHVlLnB1c2gocy52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBhcnJheVZhbHVlIH07XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBtZXJnZU9iamVjdEFzeW5jKHN0YXR1cywgcGFpcnMpIHtcbiAgICAgICAgY29uc3Qgc3luY1BhaXJzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgcGFpci5rZXk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhaXIudmFsdWU7XG4gICAgICAgICAgICBzeW5jUGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHN5bmNQYWlycyk7XG4gICAgfVxuICAgIHN0YXRpYyBtZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBwYWlycykge1xuICAgICAgICBjb25zdCBmaW5hbE9iamVjdCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHsga2V5LCB2YWx1ZSB9ID0gcGFpcjtcbiAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIGlmIChrZXkudmFsdWUgIT09IFwiX19wcm90b19fXCIgJiYgKHR5cGVvZiB2YWx1ZS52YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiB8fCBwYWlyLmFsd2F5c1NldCkpIHtcbiAgICAgICAgICAgICAgICBmaW5hbE9iamVjdFtrZXkudmFsdWVdID0gdmFsdWUudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBmaW5hbE9iamVjdCB9O1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBJTlZBTElEID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgc3RhdHVzOiBcImFib3J0ZWRcIixcbn0pO1xuZXhwb3J0IGNvbnN0IERJUlRZID0gKHZhbHVlKSA9PiAoeyBzdGF0dXM6IFwiZGlydHlcIiwgdmFsdWUgfSk7XG5leHBvcnQgY29uc3QgT0sgPSAodmFsdWUpID0+ICh7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZSB9KTtcbmV4cG9ydCBjb25zdCBpc0Fib3J0ZWQgPSAoeCkgPT4geC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiO1xuZXhwb3J0IGNvbnN0IGlzRGlydHkgPSAoeCkgPT4geC5zdGF0dXMgPT09IFwiZGlydHlcIjtcbmV4cG9ydCBjb25zdCBpc1ZhbGlkID0gKHgpID0+IHguc3RhdHVzID09PSBcInZhbGlkXCI7XG5leHBvcnQgY29uc3QgaXNBc3luYyA9ICh4KSA9PiB0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB4IGluc3RhbmNlb2YgUHJvbWlzZTtcbiIsICJleHBvcnQgdmFyIGVycm9yVXRpbDtcbihmdW5jdGlvbiAoZXJyb3JVdGlsKSB7XG4gICAgZXJyb3JVdGlsLmVyclRvT2JqID0gKG1lc3NhZ2UpID0+IHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiID8geyBtZXNzYWdlIH0gOiBtZXNzYWdlIHx8IHt9O1xuICAgIC8vIGJpb21lLWlnbm9yZSBsaW50OlxuICAgIGVycm9yVXRpbC50b1N0cmluZyA9IChtZXNzYWdlKSA9PiB0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiA/IG1lc3NhZ2UgOiBtZXNzYWdlPy5tZXNzYWdlO1xufSkoZXJyb3JVdGlsIHx8IChlcnJvclV0aWwgPSB7fSkpO1xuIiwgImltcG9ydCB7IFpvZEVycm9yLCBab2RJc3N1ZUNvZGUsIH0gZnJvbSBcIi4vWm9kRXJyb3IuanNcIjtcbmltcG9ydCB7IGRlZmF1bHRFcnJvck1hcCwgZ2V0RXJyb3JNYXAgfSBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IGVycm9yVXRpbCB9IGZyb20gXCIuL2hlbHBlcnMvZXJyb3JVdGlsLmpzXCI7XG5pbXBvcnQgeyBESVJUWSwgSU5WQUxJRCwgT0ssIFBhcnNlU3RhdHVzLCBhZGRJc3N1ZVRvQ29udGV4dCwgaXNBYm9ydGVkLCBpc0FzeW5jLCBpc0RpcnR5LCBpc1ZhbGlkLCBtYWtlSXNzdWUsIH0gZnJvbSBcIi4vaGVscGVycy9wYXJzZVV0aWwuanNcIjtcbmltcG9ydCB7IHV0aWwsIFpvZFBhcnNlZFR5cGUsIGdldFBhcnNlZFR5cGUgfSBmcm9tIFwiLi9oZWxwZXJzL3V0aWwuanNcIjtcbmNsYXNzIFBhcnNlSW5wdXRMYXp5UGF0aCB7XG4gICAgY29uc3RydWN0b3IocGFyZW50LCB2YWx1ZSwgcGF0aCwga2V5KSB7XG4gICAgICAgIHRoaXMuX2NhY2hlZFBhdGggPSBbXTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMuZGF0YSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9wYXRoID0gcGF0aDtcbiAgICAgICAgdGhpcy5fa2V5ID0ga2V5O1xuICAgIH1cbiAgICBnZXQgcGF0aCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZWRQYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5fa2V5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlZFBhdGgucHVzaCguLi50aGlzLl9wYXRoLCAuLi50aGlzLl9rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVkUGF0aC5wdXNoKC4uLnRoaXMuX3BhdGgsIHRoaXMuX2tleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFBhdGg7XG4gICAgfVxufVxuY29uc3QgaGFuZGxlUmVzdWx0ID0gKGN0eCwgcmVzdWx0KSA9PiB7XG4gICAgaWYgKGlzVmFsaWQocmVzdWx0KSkge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQudmFsdWUgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICghY3R4LmNvbW1vbi5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWYWxpZGF0aW9uIGZhaWxlZCBidXQgbm8gaXNzdWVzIGRldGVjdGVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2Vycm9yKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZXJyb3I7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgWm9kRXJyb3IoY3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gZXJyb3I7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59O1xuZnVuY3Rpb24gcHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpIHtcbiAgICBpZiAoIXBhcmFtcylcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIGNvbnN0IHsgZXJyb3JNYXAsIGludmFsaWRfdHlwZV9lcnJvciwgcmVxdWlyZWRfZXJyb3IsIGRlc2NyaXB0aW9uIH0gPSBwYXJhbXM7XG4gICAgaWYgKGVycm9yTWFwICYmIChpbnZhbGlkX3R5cGVfZXJyb3IgfHwgcmVxdWlyZWRfZXJyb3IpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FuJ3QgdXNlIFwiaW52YWxpZF90eXBlX2Vycm9yXCIgb3IgXCJyZXF1aXJlZF9lcnJvclwiIGluIGNvbmp1bmN0aW9uIHdpdGggY3VzdG9tIGVycm9yIG1hcC5gKTtcbiAgICB9XG4gICAgaWYgKGVycm9yTWFwKVxuICAgICAgICByZXR1cm4geyBlcnJvck1hcDogZXJyb3JNYXAsIGRlc2NyaXB0aW9uIH07XG4gICAgY29uc3QgY3VzdG9tTWFwID0gKGlzcywgY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gcGFyYW1zO1xuICAgICAgICBpZiAoaXNzLmNvZGUgPT09IFwiaW52YWxpZF9lbnVtX3ZhbHVlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IG1lc3NhZ2UgPz8gY3R4LmRlZmF1bHRFcnJvciB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY3R4LmRhdGEgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IG1lc3NhZ2UgPz8gcmVxdWlyZWRfZXJyb3IgPz8gY3R4LmRlZmF1bHRFcnJvciB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc3MuY29kZSAhPT0gXCJpbnZhbGlkX3R5cGVcIilcbiAgICAgICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICAgICAgcmV0dXJuIHsgbWVzc2FnZTogbWVzc2FnZSA/PyBpbnZhbGlkX3R5cGVfZXJyb3IgPz8gY3R4LmRlZmF1bHRFcnJvciB9O1xuICAgIH07XG4gICAgcmV0dXJuIHsgZXJyb3JNYXA6IGN1c3RvbU1hcCwgZGVzY3JpcHRpb24gfTtcbn1cbmV4cG9ydCBjbGFzcyBab2RUeXBlIHtcbiAgICBnZXQgZGVzY3JpcHRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuZGVzY3JpcHRpb247XG4gICAgfVxuICAgIF9nZXRUeXBlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBnZXRQYXJzZWRUeXBlKGlucHV0LmRhdGEpO1xuICAgIH1cbiAgICBfZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCkge1xuICAgICAgICByZXR1cm4gKGN0eCB8fCB7XG4gICAgICAgICAgICBjb21tb246IGlucHV0LnBhcmVudC5jb21tb24sXG4gICAgICAgICAgICBkYXRhOiBpbnB1dC5kYXRhLFxuICAgICAgICAgICAgcGFyc2VkVHlwZTogZ2V0UGFyc2VkVHlwZShpbnB1dC5kYXRhKSxcbiAgICAgICAgICAgIHNjaGVtYUVycm9yTWFwOiB0aGlzLl9kZWYuZXJyb3JNYXAsXG4gICAgICAgICAgICBwYXRoOiBpbnB1dC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBpbnB1dC5wYXJlbnQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6IG5ldyBQYXJzZVN0YXR1cygpLFxuICAgICAgICAgICAgY3R4OiB7XG4gICAgICAgICAgICAgICAgY29tbW9uOiBpbnB1dC5wYXJlbnQuY29tbW9uLFxuICAgICAgICAgICAgICAgIGRhdGE6IGlucHV0LmRhdGEsXG4gICAgICAgICAgICAgICAgcGFyc2VkVHlwZTogZ2V0UGFyc2VkVHlwZShpbnB1dC5kYXRhKSxcbiAgICAgICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgICAgIHBhdGg6IGlucHV0LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBpbnB1dC5wYXJlbnQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBfcGFyc2VTeW5jKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlKGlucHV0KTtcbiAgICAgICAgaWYgKGlzQXN5bmMocmVzdWx0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3luY2hyb25vdXMgcGFyc2UgZW5jb3VudGVyZWQgcHJvbWlzZS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgX3BhcnNlQXN5bmMoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcGFyc2UoaW5wdXQpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgfVxuICAgIHBhcnNlKGRhdGEsIHBhcmFtcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnNhZmVQYXJzZShkYXRhLCBwYXJhbXMpO1xuICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG4gICAgICAgIHRocm93IHJlc3VsdC5lcnJvcjtcbiAgICB9XG4gICAgc2FmZVBhcnNlKGRhdGEsIHBhcmFtcykge1xuICAgICAgICBjb25zdCBjdHggPSB7XG4gICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgIGFzeW5jOiBwYXJhbXM/LmFzeW5jID8/IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbnRleHR1YWxFcnJvck1hcDogcGFyYW1zPy5lcnJvck1hcCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXRoOiBwYXJhbXM/LnBhdGggfHwgW10sXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoZGF0YSksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlU3luYyh7IGRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVJlc3VsdChjdHgsIHJlc3VsdCk7XG4gICAgfVxuICAgIFwifnZhbGlkYXRlXCIoZGF0YSkge1xuICAgICAgICBjb25zdCBjdHggPSB7XG4gICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgIGFzeW5jOiAhIXRoaXNbXCJ+c3RhbmRhcmRcIl0uYXN5bmMsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF0aDogW10sXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoZGF0YSksXG4gICAgICAgIH07XG4gICAgICAgIGlmICghdGhpc1tcIn5zdGFuZGFyZFwiXS5hc3luYykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZVN5bmMoeyBkYXRhLCBwYXRoOiBbXSwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQocmVzdWx0KVxuICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IGN0eC5jb21tb24uaXNzdWVzLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChlcnI/Lm1lc3NhZ2U/LnRvTG93ZXJDYXNlKCk/LmluY2x1ZGVzKFwiZW5jb3VudGVyZWRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tcIn5zdGFuZGFyZFwiXS5hc3luYyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN0eC5jb21tb24gPSB7XG4gICAgICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICAgICAgICAgIGFzeW5jOiB0cnVlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnNlQXN5bmMoeyBkYXRhLCBwYXRoOiBbXSwgcGFyZW50OiBjdHggfSkudGhlbigocmVzdWx0KSA9PiBpc1ZhbGlkKHJlc3VsdClcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQudmFsdWUsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IGN0eC5jb21tb24uaXNzdWVzLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlQXN5bmMoZGF0YSwgcGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuc2FmZVBhcnNlQXN5bmMoZGF0YSwgcGFyYW1zKTtcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xuICAgICAgICB0aHJvdyByZXN1bHQuZXJyb3I7XG4gICAgfVxuICAgIGFzeW5jIHNhZmVQYXJzZUFzeW5jKGRhdGEsIHBhcmFtcykge1xuICAgICAgICBjb25zdCBjdHggPSB7XG4gICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgIGNvbnRleHR1YWxFcnJvck1hcDogcGFyYW1zPy5lcnJvck1hcCxcbiAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXRoOiBwYXJhbXM/LnBhdGggfHwgW10sXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoZGF0YSksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG1heWJlQXN5bmNSZXN1bHQgPSB0aGlzLl9wYXJzZSh7IGRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgKGlzQXN5bmMobWF5YmVBc3luY1Jlc3VsdCkgPyBtYXliZUFzeW5jUmVzdWx0IDogUHJvbWlzZS5yZXNvbHZlKG1heWJlQXN5bmNSZXN1bHQpKTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVJlc3VsdChjdHgsIHJlc3VsdCk7XG4gICAgfVxuICAgIHJlZmluZShjaGVjaywgbWVzc2FnZSkge1xuICAgICAgICBjb25zdCBnZXRJc3N1ZVByb3BlcnRpZXMgPSAodmFsKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIG1lc3NhZ2UgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2UodmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudCgodmFsLCBjdHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNoZWNrKHZhbCk7XG4gICAgICAgICAgICBjb25zdCBzZXRFcnJvciA9ICgpID0+IGN0eC5hZGRJc3N1ZSh7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmN1c3RvbSxcbiAgICAgICAgICAgICAgICAuLi5nZXRJc3N1ZVByb3BlcnRpZXModmFsKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBQcm9taXNlICE9PSBcInVuZGVmaW5lZFwiICYmIHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgc2V0RXJyb3IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlZmluZW1lbnQoY2hlY2ssIHJlZmluZW1lbnREYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWZpbmVtZW50KCh2YWwsIGN0eCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFjaGVjayh2YWwpKSB7XG4gICAgICAgICAgICAgICAgY3R4LmFkZElzc3VlKHR5cGVvZiByZWZpbmVtZW50RGF0YSA9PT0gXCJmdW5jdGlvblwiID8gcmVmaW5lbWVudERhdGEodmFsLCBjdHgpIDogcmVmaW5lbWVudERhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3JlZmluZW1lbnQocmVmaW5lbWVudCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICAgICAgc2NoZW1hOiB0aGlzLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICAgICAgZWZmZWN0OiB7IHR5cGU6IFwicmVmaW5lbWVudFwiLCByZWZpbmVtZW50IH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdXBlclJlZmluZShyZWZpbmVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWZpbmVtZW50KHJlZmluZW1lbnQpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihkZWYpIHtcbiAgICAgICAgLyoqIEFsaWFzIG9mIHNhZmVQYXJzZUFzeW5jICovXG4gICAgICAgIHRoaXMuc3BhID0gdGhpcy5zYWZlUGFyc2VBc3luYztcbiAgICAgICAgdGhpcy5fZGVmID0gZGVmO1xuICAgICAgICB0aGlzLnBhcnNlID0gdGhpcy5wYXJzZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNhZmVQYXJzZSA9IHRoaXMuc2FmZVBhcnNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucGFyc2VBc3luYyA9IHRoaXMucGFyc2VBc3luYy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNhZmVQYXJzZUFzeW5jID0gdGhpcy5zYWZlUGFyc2VBc3luYy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNwYSA9IHRoaXMuc3BhLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVmaW5lID0gdGhpcy5yZWZpbmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWZpbmVtZW50ID0gdGhpcy5yZWZpbmVtZW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc3VwZXJSZWZpbmUgPSB0aGlzLnN1cGVyUmVmaW5lLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub3B0aW9uYWwgPSB0aGlzLm9wdGlvbmFsLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubnVsbGFibGUgPSB0aGlzLm51bGxhYmxlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubnVsbGlzaCA9IHRoaXMubnVsbGlzaC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmFycmF5ID0gdGhpcy5hcnJheS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnByb21pc2UgPSB0aGlzLnByb21pc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vciA9IHRoaXMub3IuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hbmQgPSB0aGlzLmFuZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYnJhbmQgPSB0aGlzLmJyYW5kLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IHRoaXMuZGVmYXVsdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNhdGNoID0gdGhpcy5jYXRjaC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRlc2NyaWJlID0gdGhpcy5kZXNjcmliZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnBpcGUgPSB0aGlzLnBpcGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWFkb25seSA9IHRoaXMucmVhZG9ubHkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5pc051bGxhYmxlID0gdGhpcy5pc051bGxhYmxlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaXNPcHRpb25hbCA9IHRoaXMuaXNPcHRpb25hbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzW1wifnN0YW5kYXJkXCJdID0ge1xuICAgICAgICAgICAgdmVyc2lvbjogMSxcbiAgICAgICAgICAgIHZlbmRvcjogXCJ6b2RcIixcbiAgICAgICAgICAgIHZhbGlkYXRlOiAoZGF0YSkgPT4gdGhpc1tcIn52YWxpZGF0ZVwiXShkYXRhKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgb3B0aW9uYWwoKSB7XG4gICAgICAgIHJldHVybiBab2RPcHRpb25hbC5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgbnVsbGFibGUoKSB7XG4gICAgICAgIHJldHVybiBab2ROdWxsYWJsZS5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgbnVsbGlzaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubnVsbGFibGUoKS5vcHRpb25hbCgpO1xuICAgIH1cbiAgICBhcnJheSgpIHtcbiAgICAgICAgcmV0dXJuIFpvZEFycmF5LmNyZWF0ZSh0aGlzKTtcbiAgICB9XG4gICAgcHJvbWlzZSgpIHtcbiAgICAgICAgcmV0dXJuIFpvZFByb21pc2UuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIG9yKG9wdGlvbikge1xuICAgICAgICByZXR1cm4gWm9kVW5pb24uY3JlYXRlKFt0aGlzLCBvcHRpb25dLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBhbmQoaW5jb21pbmcpIHtcbiAgICAgICAgcmV0dXJuIFpvZEludGVyc2VjdGlvbi5jcmVhdGUodGhpcywgaW5jb21pbmcsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIHRyYW5zZm9ybSh0cmFuc2Zvcm0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgICAgICAgIHNjaGVtYTogdGhpcyxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgICAgIGVmZmVjdDogeyB0eXBlOiBcInRyYW5zZm9ybVwiLCB0cmFuc2Zvcm0gfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlZmF1bHQoZGVmKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZUZ1bmMgPSB0eXBlb2YgZGVmID09PSBcImZ1bmN0aW9uXCIgPyBkZWYgOiAoKSA9PiBkZWY7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRGVmYXVsdCh7XG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgICAgICBpbm5lclR5cGU6IHRoaXMsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZUZ1bmMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERlZmF1bHQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBicmFuZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RCcmFuZGVkKHtcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQnJhbmRlZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMsXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaChkZWYpIHtcbiAgICAgICAgY29uc3QgY2F0Y2hWYWx1ZUZ1bmMgPSB0eXBlb2YgZGVmID09PSBcImZ1bmN0aW9uXCIgPyBkZWYgOiAoKSA9PiBkZWY7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQ2F0Y2goe1xuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICAgICAgaW5uZXJUeXBlOiB0aGlzLFxuICAgICAgICAgICAgY2F0Y2hWYWx1ZTogY2F0Y2hWYWx1ZUZ1bmMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZENhdGNoLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGVzY3JpYmUoZGVzY3JpcHRpb24pIHtcbiAgICAgICAgY29uc3QgVGhpcyA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIHJldHVybiBuZXcgVGhpcyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBpcGUodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBab2RQaXBlbGluZS5jcmVhdGUodGhpcywgdGFyZ2V0KTtcbiAgICB9XG4gICAgcmVhZG9ubHkoKSB7XG4gICAgICAgIHJldHVybiBab2RSZWFkb25seS5jcmVhdGUodGhpcyk7XG4gICAgfVxuICAgIGlzT3B0aW9uYWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNhZmVQYXJzZSh1bmRlZmluZWQpLnN1Y2Nlc3M7XG4gICAgfVxuICAgIGlzTnVsbGFibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNhZmVQYXJzZShudWxsKS5zdWNjZXNzO1xuICAgIH1cbn1cbmNvbnN0IGN1aWRSZWdleCA9IC9eY1teXFxzLV17OCx9JC9pO1xuY29uc3QgY3VpZDJSZWdleCA9IC9eWzAtOWEtel0rJC87XG5jb25zdCB1bGlkUmVnZXggPSAvXlswLTlBLUhKS01OUC1UVi1aXXsyNn0kL2k7XG4vLyBjb25zdCB1dWlkUmVnZXggPVxuLy8gICAvXihbYS1mMC05XXs4fS1bYS1mMC05XXs0fS1bMS01XVthLWYwLTldezN9LVthLWYwLTldezR9LVthLWYwLTldezEyfXwwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDApJC9pO1xuY29uc3QgdXVpZFJlZ2V4ID0gL15bMC05YS1mQS1GXXs4fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXsxMn0kL2k7XG5jb25zdCBuYW5vaWRSZWdleCA9IC9eW2EtejAtOV8tXXsyMX0kL2k7XG5jb25zdCBqd3RSZWdleCA9IC9eW0EtWmEtejAtOS1fXStcXC5bQS1aYS16MC05LV9dK1xcLltBLVphLXowLTktX10qJC87XG5jb25zdCBkdXJhdGlvblJlZ2V4ID0gL15bLStdP1AoPyEkKSg/Oig/OlstK10/XFxkK1kpfCg/OlstK10/XFxkK1suLF1cXGQrWSQpKT8oPzooPzpbLStdP1xcZCtNKXwoPzpbLStdP1xcZCtbLixdXFxkK00kKSk/KD86KD86Wy0rXT9cXGQrVyl8KD86Wy0rXT9cXGQrWy4sXVxcZCtXJCkpPyg/Oig/OlstK10/XFxkK0QpfCg/OlstK10/XFxkK1suLF1cXGQrRCQpKT8oPzpUKD89W1xcZCstXSkoPzooPzpbLStdP1xcZCtIKXwoPzpbLStdP1xcZCtbLixdXFxkK0gkKSk/KD86KD86Wy0rXT9cXGQrTSl8KD86Wy0rXT9cXGQrWy4sXVxcZCtNJCkpPyg/OlstK10/XFxkKyg/OlsuLF1cXGQrKT9TKT8pPz8kLztcbi8vIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ2MTgxLzE1NTAxNTVcbi8vIG9sZCB2ZXJzaW9uOiB0b28gc2xvdywgZGlkbid0IHN1cHBvcnQgdW5pY29kZVxuLy8gY29uc3QgZW1haWxSZWdleCA9IC9eKCgoW2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9fl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKyhcXC4oW2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9fl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKykqKXwoKFxceDIyKSgoKChcXHgyMHxcXHgwOSkqKFxceDBkXFx4MGEpKT8oXFx4MjB8XFx4MDkpKyk/KChbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHg3Zl18XFx4MjF8W1xceDIzLVxceDViXXxbXFx4NWQtXFx4N2VdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoXFxcXChbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGQtXFx4N2ZdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpKSooKChcXHgyMHxcXHgwOSkqKFxceDBkXFx4MGEpKT8oXFx4MjB8XFx4MDkpKyk/KFxceDIyKSkpQCgoKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSlcXC4pKygoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKSQvaTtcbi8vb2xkIGVtYWlsIHJlZ2V4XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID0gL14oKFtePD4oKVtcXF0uLDs6XFxzQFwiXSsoXFwuW148PigpW1xcXS4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKCg/IS0pKFtePD4oKVtcXF0uLDs6XFxzQFwiXStcXC4pK1tePD4oKVtcXF0uLDs6XFxzQFwiXXsxLH0pW14tPD4oKVtcXF0uLDs6XFxzQFwiXSQvaTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuLy8gY29uc3QgZW1haWxSZWdleCA9XG4vLyAgIC9eKChbXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSspKil8KFxcXCIuK1xcXCIpKUAoKFxcWygoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcXSl8KFxcW0lQdjY6KChbYS1mMC05XXsxLDR9Oil7N318OjooW2EtZjAtOV17MSw0fTopezAsNn18KFthLWYwLTldezEsNH06KXsxfTooW2EtZjAtOV17MSw0fTopezAsNX18KFthLWYwLTldezEsNH06KXsyfTooW2EtZjAtOV17MSw0fTopezAsNH18KFthLWYwLTldezEsNH06KXszfTooW2EtZjAtOV17MSw0fTopezAsM318KFthLWYwLTldezEsNH06KXs0fTooW2EtZjAtOV17MSw0fTopezAsMn18KFthLWYwLTldezEsNH06KXs1fTooW2EtZjAtOV17MSw0fTopezAsMX0pKFthLWYwLTldezEsNH18KCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpKVxcXSl8KFtBLVphLXowLTldKFtBLVphLXowLTktXSpbQS1aYS16MC05XSkqKFxcLltBLVphLXpdezIsfSkrKSkkLztcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXlthLXpBLVowLTlcXC5cXCFcXCNcXCRcXCVcXCZcXCdcXCpcXCtcXC9cXD1cXD9cXF5cXF9cXGBcXHtcXHxcXH1cXH5cXC1dK0BbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKiQvO1xuLy8gY29uc3QgZW1haWxSZWdleCA9XG4vLyAgIC9eKD86W2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dKyg/OlxcLlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSspKnxcIig/OltcXHgwMS1cXHgwOFxceDBiXFx4MGNcXHgwZS1cXHgxZlxceDIxXFx4MjMtXFx4NWJcXHg1ZC1cXHg3Zl18XFxcXFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZS1cXHg3Zl0pKlwiKUAoPzooPzpbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/XFwuKStbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/fFxcWyg/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPylcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXxbMDFdP1swLTldWzAtOV0/fFthLXowLTktXSpbYS16MC05XTooPzpbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHgyMS1cXHg1YVxceDUzLVxceDdmXXxcXFxcW1xceDAxLVxceDA5XFx4MGJcXHgwY1xceDBlLVxceDdmXSkrKVxcXSkkL2k7XG5jb25zdCBlbWFpbFJlZ2V4ID0gL14oPyFcXC4pKD8hLipcXC5cXC4pKFtBLVowLTlfJytcXC1cXC5dKilbQS1aMC05XystXUAoW0EtWjAtOV1bQS1aMC05XFwtXSpcXC4pK1tBLVpdezIsfSQvaTtcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXlthLXowLTkuISMkJSZcdTIwMTkqKy89P15fYHt8fX4tXStAW2EtejAtOS1dKyg/OlxcLlthLXowLTlcXC1dKykqJC9pO1xuLy8gZnJvbSBodHRwczovL3RoZWtldmluc2NvdHQuY29tL2Vtb2ppcy1pbi1qYXZhc2NyaXB0LyN3cml0aW5nLWEtcmVndWxhci1leHByZXNzaW9uXG5jb25zdCBfZW1vamlSZWdleCA9IGBeKFxcXFxwe0V4dGVuZGVkX1BpY3RvZ3JhcGhpY318XFxcXHB7RW1vamlfQ29tcG9uZW50fSkrJGA7XG5sZXQgZW1vamlSZWdleDtcbi8vIGZhc3Rlciwgc2ltcGxlciwgc2FmZXJcbmNvbnN0IGlwdjRSZWdleCA9IC9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pJC87XG5jb25zdCBpcHY0Q2lkclJlZ2V4ID0gL14oPzooPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC8oM1swLTJdfFsxMl0/WzAtOV0pJC87XG4vLyBjb25zdCBpcHY2UmVnZXggPVxuLy8gL14oKFthLWYwLTldezEsNH06KXs3fXw6OihbYS1mMC05XXsxLDR9Oil7MCw2fXwoW2EtZjAtOV17MSw0fTopezF9OihbYS1mMC05XXsxLDR9Oil7MCw1fXwoW2EtZjAtOV17MSw0fTopezJ9OihbYS1mMC05XXsxLDR9Oil7MCw0fXwoW2EtZjAtOV17MSw0fTopezN9OihbYS1mMC05XXsxLDR9Oil7MCwzfXwoW2EtZjAtOV17MSw0fTopezR9OihbYS1mMC05XXsxLDR9Oil7MCwyfXwoW2EtZjAtOV17MSw0fTopezV9OihbYS1mMC05XXsxLDR9Oil7MCwxfSkoW2EtZjAtOV17MSw0fXwoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSkpJC87XG5jb25zdCBpcHY2UmVnZXggPSAvXigoWzAtOWEtZkEtRl17MSw0fTopezcsN31bMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw3fTp8KFswLTlhLWZBLUZdezEsNH06KXsxLDZ9OlswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDV9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDJ9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwzfXwoWzAtOWEtZkEtRl17MSw0fTopezEsM30oOlswLTlhLWZBLUZdezEsNH0pezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDJ9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDV9fFswLTlhLWZBLUZdezEsNH06KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw2fSl8OigoOlswLTlhLWZBLUZdezEsNH0pezEsN318Oil8ZmU4MDooOlswLTlhLWZBLUZdezAsNH0pezAsNH0lWzAtOWEtekEtWl17MSx9fDo6KGZmZmYoOjB7MSw0fSl7MCwxfTopezAsMX0oKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSl8KFswLTlhLWZBLUZdezEsNH06KXsxLDR9OigoMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pXFwuKXszLDN9KDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKSkkLztcbmNvbnN0IGlwdjZDaWRyUmVnZXggPSAvXigoWzAtOWEtZkEtRl17MSw0fTopezcsN31bMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw3fTp8KFswLTlhLWZBLUZdezEsNH06KXsxLDZ9OlswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDV9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDJ9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwzfXwoWzAtOWEtZkEtRl17MSw0fTopezEsM30oOlswLTlhLWZBLUZdezEsNH0pezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDJ9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDV9fFswLTlhLWZBLUZdezEsNH06KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw2fSl8OigoOlswLTlhLWZBLUZdezEsNH0pezEsN318Oil8ZmU4MDooOlswLTlhLWZBLUZdezAsNH0pezAsNH0lWzAtOWEtekEtWl17MSx9fDo6KGZmZmYoOjB7MSw0fSl7MCwxfTopezAsMX0oKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSl8KFswLTlhLWZBLUZdezEsNH06KXsxLDR9OigoMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pXFwuKXszLDN9KDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKSlcXC8oMTJbMC04XXwxWzAxXVswLTldfFsxLTldP1swLTldKSQvO1xuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg2MDM5Mi9kZXRlcm1pbmUtaWYtc3RyaW5nLWlzLWluLWJhc2U2NC11c2luZy1qYXZhc2NyaXB0XG5jb25zdCBiYXNlNjRSZWdleCA9IC9eKFswLTlhLXpBLVorL117NH0pKigoWzAtOWEtekEtWisvXXsyfT09KXwoWzAtOWEtekEtWisvXXszfT0pKT8kLztcbi8vIGh0dHBzOi8vYmFzZTY0Lmd1cnUvc3RhbmRhcmRzL2Jhc2U2NHVybFxuY29uc3QgYmFzZTY0dXJsUmVnZXggPSAvXihbMC05YS16QS1aLV9dezR9KSooKFswLTlhLXpBLVotX117Mn0oPT0pPyl8KFswLTlhLXpBLVotX117M30oPSk/KSk/JC87XG4vLyBzaW1wbGVcbi8vIGNvbnN0IGRhdGVSZWdleFNvdXJjZSA9IGBcXFxcZHs0fS1cXFxcZHsyfS1cXFxcZHsyfWA7XG4vLyBubyBsZWFwIHllYXIgdmFsaWRhdGlvblxuLy8gY29uc3QgZGF0ZVJlZ2V4U291cmNlID0gYFxcXFxkezR9LSgoMFsxMzU3OF18MTB8MTIpLTMxfCgwWzEzLTldfDFbMC0yXSktMzB8KDBbMS05XXwxWzAtMl0pLSgwWzEtOV18MVxcXFxkfDJcXFxcZCkpYDtcbi8vIHdpdGggbGVhcCB5ZWFyIHZhbGlkYXRpb25cbmNvbnN0IGRhdGVSZWdleFNvdXJjZSA9IGAoKFxcXFxkXFxcXGRbMjQ2OF1bMDQ4XXxcXFxcZFxcXFxkWzEzNTc5XVsyNl18XFxcXGRcXFxcZDBbNDhdfFswMjQ2OF1bMDQ4XTAwfFsxMzU3OV1bMjZdMDApLTAyLTI5fFxcXFxkezR9LSgoMFsxMzU3OF18MVswMl0pLSgwWzEtOV18WzEyXVxcXFxkfDNbMDFdKXwoMFs0NjldfDExKS0oMFsxLTldfFsxMl1cXFxcZHwzMCl8KDAyKS0oMFsxLTldfDFcXFxcZHwyWzAtOF0pKSlgO1xuY29uc3QgZGF0ZVJlZ2V4ID0gbmV3IFJlZ0V4cChgXiR7ZGF0ZVJlZ2V4U291cmNlfSRgKTtcbmZ1bmN0aW9uIHRpbWVSZWdleFNvdXJjZShhcmdzKSB7XG4gICAgbGV0IHNlY29uZHNSZWdleFNvdXJjZSA9IGBbMC01XVxcXFxkYDtcbiAgICBpZiAoYXJncy5wcmVjaXNpb24pIHtcbiAgICAgICAgc2Vjb25kc1JlZ2V4U291cmNlID0gYCR7c2Vjb25kc1JlZ2V4U291cmNlfVxcXFwuXFxcXGR7JHthcmdzLnByZWNpc2lvbn19YDtcbiAgICB9XG4gICAgZWxzZSBpZiAoYXJncy5wcmVjaXNpb24gPT0gbnVsbCkge1xuICAgICAgICBzZWNvbmRzUmVnZXhTb3VyY2UgPSBgJHtzZWNvbmRzUmVnZXhTb3VyY2V9KFxcXFwuXFxcXGQrKT9gO1xuICAgIH1cbiAgICBjb25zdCBzZWNvbmRzUXVhbnRpZmllciA9IGFyZ3MucHJlY2lzaW9uID8gXCIrXCIgOiBcIj9cIjsgLy8gcmVxdWlyZSBzZWNvbmRzIGlmIHByZWNpc2lvbiBpcyBub256ZXJvXG4gICAgcmV0dXJuIGAoWzAxXVxcXFxkfDJbMC0zXSk6WzAtNV1cXFxcZCg6JHtzZWNvbmRzUmVnZXhTb3VyY2V9KSR7c2Vjb25kc1F1YW50aWZpZXJ9YDtcbn1cbmZ1bmN0aW9uIHRpbWVSZWdleChhcmdzKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3RpbWVSZWdleFNvdXJjZShhcmdzKX0kYCk7XG59XG4vLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzMxNDMyMzFcbmV4cG9ydCBmdW5jdGlvbiBkYXRldGltZVJlZ2V4KGFyZ3MpIHtcbiAgICBsZXQgcmVnZXggPSBgJHtkYXRlUmVnZXhTb3VyY2V9VCR7dGltZVJlZ2V4U291cmNlKGFyZ3MpfWA7XG4gICAgY29uc3Qgb3B0cyA9IFtdO1xuICAgIG9wdHMucHVzaChhcmdzLmxvY2FsID8gYFo/YCA6IGBaYCk7XG4gICAgaWYgKGFyZ3Mub2Zmc2V0KVxuICAgICAgICBvcHRzLnB1c2goYChbKy1dXFxcXGR7Mn06P1xcXFxkezJ9KWApO1xuICAgIHJlZ2V4ID0gYCR7cmVnZXh9KCR7b3B0cy5qb2luKFwifFwiKX0pYDtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7cmVnZXh9JGApO1xufVxuZnVuY3Rpb24gaXNWYWxpZElQKGlwLCB2ZXJzaW9uKSB7XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY0XCIgfHwgIXZlcnNpb24pICYmIGlwdjRSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY2XCIgfHwgIXZlcnNpb24pICYmIGlwdjZSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNWYWxpZEpXVChqd3QsIGFsZykge1xuICAgIGlmICghand0UmVnZXgudGVzdChqd3QpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgW2hlYWRlcl0gPSBqd3Quc3BsaXQoXCIuXCIpO1xuICAgICAgICBpZiAoIWhlYWRlcilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gQ29udmVydCBiYXNlNjR1cmwgdG8gYmFzZTY0XG4gICAgICAgIGNvbnN0IGJhc2U2NCA9IGhlYWRlclxuICAgICAgICAgICAgLnJlcGxhY2UoLy0vZywgXCIrXCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvXy9nLCBcIi9cIilcbiAgICAgICAgICAgIC5wYWRFbmQoaGVhZGVyLmxlbmd0aCArICgoNCAtIChoZWFkZXIubGVuZ3RoICUgNCkpICUgNCksIFwiPVwiKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCBkZWNvZGVkID0gSlNPTi5wYXJzZShhdG9iKGJhc2U2NCkpO1xuICAgICAgICBpZiAodHlwZW9mIGRlY29kZWQgIT09IFwib2JqZWN0XCIgfHwgZGVjb2RlZCA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKFwidHlwXCIgaW4gZGVjb2RlZCAmJiBkZWNvZGVkPy50eXAgIT09IFwiSldUXCIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghZGVjb2RlZC5hbGcpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChhbGcgJiYgZGVjb2RlZC5hbGcgIT09IGFsZylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzVmFsaWRDaWRyKGlwLCB2ZXJzaW9uKSB7XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY0XCIgfHwgIXZlcnNpb24pICYmIGlwdjRDaWRyUmVnZXgudGVzdChpcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NlwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY2Q2lkclJlZ2V4LnRlc3QoaXApKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgY2xhc3MgWm9kU3RyaW5nIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gU3RyaW5nKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuc3RyaW5nKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnN0cmluZyxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBQYXJzZVN0YXR1cygpO1xuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEubGVuZ3RoIDwgY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEubGVuZ3RoID4gY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJsZW5ndGhcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb0JpZyA9IGlucHV0LmRhdGEubGVuZ3RoID4gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBpbnB1dC5kYXRhLmxlbmd0aCA8IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29CaWcgfHwgdG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJlbWFpbFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbWFpbFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJlbWFpbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW1vamlcIikge1xuICAgICAgICAgICAgICAgIGlmICghZW1vamlSZWdleCkge1xuICAgICAgICAgICAgICAgICAgICBlbW9qaVJlZ2V4ID0gbmV3IFJlZ0V4cChfZW1vamlSZWdleCwgXCJ1XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWVtb2ppUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImVtb2ppXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ1dWlkXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXV1aWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidXVpZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibmFub2lkXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW5hbm9pZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJuYW5vaWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImN1aWRcIikge1xuICAgICAgICAgICAgICAgIGlmICghY3VpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJjdWlkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJjdWlkMlwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdWlkMlJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJjdWlkMlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidWxpZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1bGlkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInVsaWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInVybFwiKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICBuZXcgVVJMKGlucHV0LmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidXJsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJyZWdleFwiKSB7XG4gICAgICAgICAgICAgICAgY2hlY2sucmVnZXgubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXN0UmVzdWx0ID0gY2hlY2sucmVnZXgudGVzdChpbnB1dC5kYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRlc3RSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJyZWdleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidHJpbVwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IGlucHV0LmRhdGEudHJpbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJpbmNsdWRlc1wiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnB1dC5kYXRhLmluY2x1ZGVzKGNoZWNrLnZhbHVlLCBjaGVjay5wb3NpdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogeyBpbmNsdWRlczogY2hlY2sudmFsdWUsIHBvc2l0aW9uOiBjaGVjay5wb3NpdGlvbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidG9Mb3dlckNhc2VcIikge1xuICAgICAgICAgICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRvVXBwZXJDYXNlXCIpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5kYXRhID0gaW5wdXQuZGF0YS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJzdGFydHNXaXRoXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0LmRhdGEuc3RhcnRzV2l0aChjaGVjay52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogeyBzdGFydHNXaXRoOiBjaGVjay52YWx1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW5kc1dpdGhcIikge1xuICAgICAgICAgICAgICAgIGlmICghaW5wdXQuZGF0YS5lbmRzV2l0aChjaGVjay52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogeyBlbmRzV2l0aDogY2hlY2sudmFsdWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImRhdGV0aW1lXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWdleCA9IGRhdGV0aW1lUmVnZXgoY2hlY2spO1xuICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJkYXRlXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWdleCA9IGRhdGVSZWdleDtcbiAgICAgICAgICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0aW1lXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWdleCA9IHRpbWVSZWdleChjaGVjayk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidGltZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZHVyYXRpb25cIikge1xuICAgICAgICAgICAgICAgIGlmICghZHVyYXRpb25SZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZHVyYXRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImlwXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRJUChpbnB1dC5kYXRhLCBjaGVjay52ZXJzaW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImlwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJqd3RcIikge1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZEpXVChpbnB1dC5kYXRhLCBjaGVjay5hbGcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiand0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJjaWRyXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRDaWRyKGlucHV0LmRhdGEsIGNoZWNrLnZlcnNpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiY2lkclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiYmFzZTY0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWJhc2U2NFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJiYXNlNjRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImJhc2U2NHVybFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFiYXNlNjR1cmxSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiYmFzZTY0dXJsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIF9yZWdleChyZWdleCwgdmFsaWRhdGlvbiwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZpbmVtZW50KChkYXRhKSA9PiByZWdleC50ZXN0KGRhdGEpLCB7XG4gICAgICAgICAgICB2YWxpZGF0aW9uLFxuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVtYWlsKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJlbWFpbFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIHVybChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwidXJsXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgZW1vamkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImVtb2ppXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgdXVpZChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwidXVpZFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIG5hbm9pZChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwibmFub2lkXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgY3VpZChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiY3VpZFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGN1aWQyKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJjdWlkMlwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIHVsaWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcInVsaWRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBiYXNlNjQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImJhc2U2NFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGJhc2U2NHVybChtZXNzYWdlKSB7XG4gICAgICAgIC8vIGJhc2U2NHVybCBlbmNvZGluZyBpcyBhIG1vZGlmaWNhdGlvbiBvZiBiYXNlNjQgdGhhdCBjYW4gc2FmZWx5IGJlIHVzZWQgaW4gVVJMcyBhbmQgZmlsZW5hbWVzXG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImJhc2U2NHVybFwiLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgand0KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJqd3RcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMpIH0pO1xuICAgIH1cbiAgICBpcChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiaXBcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMpIH0pO1xuICAgIH1cbiAgICBjaWRyKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJjaWRyXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zKSB9KTtcbiAgICB9XG4gICAgZGF0ZXRpbWUob3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICAgICAga2luZDogXCJkYXRldGltZVwiLFxuICAgICAgICAgICAgICAgIHByZWNpc2lvbjogbnVsbCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxvY2FsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBvcHRpb25zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiZGF0ZXRpbWVcIixcbiAgICAgICAgICAgIHByZWNpc2lvbjogdHlwZW9mIG9wdGlvbnM/LnByZWNpc2lvbiA9PT0gXCJ1bmRlZmluZWRcIiA/IG51bGwgOiBvcHRpb25zPy5wcmVjaXNpb24sXG4gICAgICAgICAgICBvZmZzZXQ6IG9wdGlvbnM/Lm9mZnNldCA/PyBmYWxzZSxcbiAgICAgICAgICAgIGxvY2FsOiBvcHRpb25zPy5sb2NhbCA/PyBmYWxzZSxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zPy5tZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRhdGUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImRhdGVcIiwgbWVzc2FnZSB9KTtcbiAgICB9XG4gICAgdGltZShvcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgICAgICBraW5kOiBcInRpbWVcIixcbiAgICAgICAgICAgICAgICBwcmVjaXNpb246IG51bGwsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogb3B0aW9ucyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcInRpbWVcIixcbiAgICAgICAgICAgIHByZWNpc2lvbjogdHlwZW9mIG9wdGlvbnM/LnByZWNpc2lvbiA9PT0gXCJ1bmRlZmluZWRcIiA/IG51bGwgOiBvcHRpb25zPy5wcmVjaXNpb24sXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucz8ubWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkdXJhdGlvbihtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZHVyYXRpb25cIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICByZWdleChyZWdleCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJyZWdleFwiLFxuICAgICAgICAgICAgcmVnZXg6IHJlZ2V4LFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaW5jbHVkZXModmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiaW5jbHVkZXNcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBvcHRpb25zPy5wb3NpdGlvbixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zPy5tZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXJ0c1dpdGgodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwic3RhcnRzV2l0aFwiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZW5kc1dpdGgodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiZW5kc1dpdGhcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1pbihtaW5MZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogbWluTGVuZ3RoLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heExlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBtYXhMZW5ndGgsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZW5ndGgobGVuLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImxlbmd0aFwiLFxuICAgICAgICAgICAgdmFsdWU6IGxlbixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gYC5taW4oMSlgXG4gICAgICovXG4gICAgbm9uZW1wdHkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oMSwgZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgdHJpbSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgeyBraW5kOiBcInRyaW1cIiB9XSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRvTG93ZXJDYXNlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCB7IGtpbmQ6IFwidG9Mb3dlckNhc2VcIiB9XSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRvVXBwZXJDYXNlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCB7IGtpbmQ6IFwidG9VcHBlckNhc2VcIiB9XSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBpc0RhdGV0aW1lKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImRhdGV0aW1lXCIpO1xuICAgIH1cbiAgICBnZXQgaXNEYXRlKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImRhdGVcIik7XG4gICAgfVxuICAgIGdldCBpc1RpbWUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidGltZVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzRHVyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZHVyYXRpb25cIik7XG4gICAgfVxuICAgIGdldCBpc0VtYWlsKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImVtYWlsXCIpO1xuICAgIH1cbiAgICBnZXQgaXNVUkwoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidXJsXCIpO1xuICAgIH1cbiAgICBnZXQgaXNFbW9qaSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJlbW9qaVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzVVVJRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ1dWlkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNOQU5PSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwibmFub2lkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNDVUlEKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImN1aWRcIik7XG4gICAgfVxuICAgIGdldCBpc0NVSUQyKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImN1aWQyXCIpO1xuICAgIH1cbiAgICBnZXQgaXNVTElEKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInVsaWRcIik7XG4gICAgfVxuICAgIGdldCBpc0lQKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImlwXCIpO1xuICAgIH1cbiAgICBnZXQgaXNDSURSKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImNpZHJcIik7XG4gICAgfVxuICAgIGdldCBpc0Jhc2U2NCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJiYXNlNjRcIik7XG4gICAgfVxuICAgIGdldCBpc0Jhc2U2NHVybCgpIHtcbiAgICAgICAgLy8gYmFzZTY0dXJsIGVuY29kaW5nIGlzIGEgbW9kaWZpY2F0aW9uIG9mIGJhc2U2NCB0aGF0IGNhbiBzYWZlbHkgYmUgdXNlZCBpbiBVUkxzIGFuZCBmaWxlbmFtZXNcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJiYXNlNjR1cmxcIik7XG4gICAgfVxuICAgIGdldCBtaW5MZW5ndGgoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG4gICAgZ2V0IG1heExlbmd0aCgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4O1xuICAgIH1cbn1cblpvZFN0cmluZy5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN0cmluZyxcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSA/PyBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM5NjY0ODQvd2h5LWRvZXMtbW9kdWx1cy1vcGVyYXRvci1yZXR1cm4tZnJhY3Rpb25hbC1udW1iZXItaW4tamF2YXNjcmlwdC8zMTcxMTAzNCMzMTcxMTAzNFxuZnVuY3Rpb24gZmxvYXRTYWZlUmVtYWluZGVyKHZhbCwgc3RlcCkge1xuICAgIGNvbnN0IHZhbERlY0NvdW50ID0gKHZhbC50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXSB8fCBcIlwiKS5sZW5ndGg7XG4gICAgY29uc3Qgc3RlcERlY0NvdW50ID0gKHN0ZXAudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV0gfHwgXCJcIikubGVuZ3RoO1xuICAgIGNvbnN0IGRlY0NvdW50ID0gdmFsRGVjQ291bnQgPiBzdGVwRGVjQ291bnQgPyB2YWxEZWNDb3VudCA6IHN0ZXBEZWNDb3VudDtcbiAgICBjb25zdCB2YWxJbnQgPSBOdW1iZXIucGFyc2VJbnQodmFsLnRvRml4ZWQoZGVjQ291bnQpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICBjb25zdCBzdGVwSW50ID0gTnVtYmVyLnBhcnNlSW50KHN0ZXAudG9GaXhlZChkZWNDb3VudCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgIHJldHVybiAodmFsSW50ICUgc3RlcEludCkgLyAxMCAqKiBkZWNDb3VudDtcbn1cbmV4cG9ydCBjbGFzcyBab2ROdW1iZXIgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5taW4gPSB0aGlzLmd0ZTtcbiAgICAgICAgdGhpcy5tYXggPSB0aGlzLmx0ZTtcbiAgICAgICAgdGhpcy5zdGVwID0gdGhpcy5tdWx0aXBsZU9mO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBOdW1iZXIoaW5wdXQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5udW1iZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubnVtYmVyLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IFBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwiaW50XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXV0aWwuaXNJbnRlZ2VyKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJpbnRlZ2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlZDogXCJmbG9hdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGNoZWNrLmluY2x1c2l2ZSA/IGlucHV0LmRhdGEgPCBjaGVjay52YWx1ZSA6IGlucHV0LmRhdGEgPD0gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gY2hlY2suaW5jbHVzaXZlID8gaW5wdXQuZGF0YSA+IGNoZWNrLnZhbHVlIDogaW5wdXQuZGF0YSA+PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vQmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmxvYXRTYWZlUmVtYWluZGVyKGlucHV0LmRhdGEsIGNoZWNrLnZhbHVlKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mLFxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGVPZjogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJmaW5pdGVcIikge1xuICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5ub3RfZmluaXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBndGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGd0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgbHRlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIHNldExpbWl0KGtpbmQsIHZhbHVlLCBpbmNsdXNpdmUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2ROdW1iZXIoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbXG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLmNoZWNrcyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE51bWJlcih7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbnQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJpbnRcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBuZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ucG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ubmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbXVsdGlwbGVPZih2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtdWx0aXBsZU9mXCIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmaW5pdGUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJmaW5pdGVcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNhZmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSkuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgbWluVmFsdWUoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG4gICAgZ2V0IG1heFZhbHVlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxuICAgIGdldCBpc0ludCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJpbnRcIiB8fCAoY2gua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIgJiYgdXRpbC5pc0ludGVnZXIoY2gudmFsdWUpKSk7XG4gICAgfVxuICAgIGdldCBpc0Zpbml0ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcImZpbml0ZVwiIHx8IGNoLmtpbmQgPT09IFwiaW50XCIgfHwgY2gua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKG1pbikgJiYgTnVtYmVyLmlzRmluaXRlKG1heCk7XG4gICAgfVxufVxuWm9kTnVtYmVyLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE51bWJlcih7XG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVtYmVyLFxuICAgICAgICBjb2VyY2U6IHBhcmFtcz8uY29lcmNlIHx8IGZhbHNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZEJpZ0ludCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm1pbiA9IHRoaXMuZ3RlO1xuICAgICAgICB0aGlzLm1heCA9IHRoaXMubHRlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IEJpZ0ludChpbnB1dC5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0SW52YWxpZElucHV0KGlucHV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmJpZ2ludCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEludmFsaWRJbnB1dChpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IFBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGNoZWNrLmluY2x1c2l2ZSA/IGlucHV0LmRhdGEgPCBjaGVjay52YWx1ZSA6IGlucHV0LmRhdGEgPD0gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImJpZ2ludFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gY2hlY2suaW5jbHVzaXZlID8gaW5wdXQuZGF0YSA+IGNoZWNrLnZhbHVlIDogaW5wdXQuZGF0YSA+PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vQmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJiaWdpbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YSAlIGNoZWNrLnZhbHVlICE9PSBCaWdJbnQoMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLm5vdF9tdWx0aXBsZV9vZixcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlT2Y6IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBfZ2V0SW52YWxpZElucHV0KGlucHV0KSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYmlnaW50LFxuICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICAgIGd0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgZ3QodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgc2V0TGltaXQoa2luZCwgdmFsdWUsIGluY2x1c2l2ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEJpZ0ludCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuY2hlY2tzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2luZCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQmlnSW50KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbnBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ubmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtdWx0aXBsZU9mKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm11bHRpcGxlT2ZcIixcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IG1pblZhbHVlKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW47XG4gICAgfVxuICAgIGdldCBtYXhWYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4O1xuICAgIH1cbn1cblpvZEJpZ0ludC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJpZ0ludCxcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSA/PyBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RCb29sZWFuIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gQm9vbGVhbihpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmJvb2xlYW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYm9vbGVhbixcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RCb29sZWFuLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEJvb2xlYW4oe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJvb2xlYW4sXG4gICAgICAgIGNvZXJjZTogcGFyYW1zPy5jb2VyY2UgfHwgZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kRGF0ZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IG5ldyBEYXRlKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuZGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5kYXRlLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE51bWJlci5pc05hTihpbnB1dC5kYXRhLmdldFRpbWUoKSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2RhdGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBQYXJzZVN0YXR1cygpO1xuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEuZ2V0VGltZSgpIDwgY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmdldFRpbWUoKSA+IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMudmFsdWUsXG4gICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUoaW5wdXQuZGF0YS5nZXRUaW1lKCkpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2REYXRlKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1pbihtaW5EYXRlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IG1pbkRhdGUuZ2V0VGltZSgpLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heERhdGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogbWF4RGF0ZS5nZXRUaW1lKCksXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgbWluRGF0ZSgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluICE9IG51bGwgPyBuZXcgRGF0ZShtaW4pIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0IG1heERhdGUoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heCAhPSBudWxsID8gbmV3IERhdGUobWF4KSA6IG51bGw7XG4gICAgfVxufVxuWm9kRGF0ZS5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2REYXRlKHtcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSB8fCBmYWxzZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REYXRlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFN5bWJvbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnN5bWJvbCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5zeW1ib2wsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kU3ltYm9sLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFN5bWJvbCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3ltYm9sLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFVuZGVmaW5lZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS51bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kVW5kZWZpbmVkLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFVuZGVmaW5lZCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5kZWZpbmVkLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZE51bGwgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5udWxsKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm51bGwsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kTnVsbC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROdWxsKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZEFueSBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvLyB0byBwcmV2ZW50IGluc3RhbmNlcyBvZiBvdGhlciBjbGFzc2VzIGZyb20gZXh0ZW5kaW5nIFpvZEFueS4gdGhpcyBjYXVzZXMgaXNzdWVzIHdpdGggY2F0Y2hhbGwgaW4gWm9kT2JqZWN0LlxuICAgICAgICB0aGlzLl9hbnkgPSB0cnVlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZEFueS5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RBbnkoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFueSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RVbmtub3duIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIC8vIHJlcXVpcmVkXG4gICAgICAgIHRoaXMuX3Vua25vd24gPSB0cnVlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZFVua25vd24uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVW5rbm93bih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5rbm93bixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2ROZXZlciBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm5ldmVyLFxuICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxufVxuWm9kTmV2ZXIuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTmV2ZXIoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5ldmVyLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFZvaWQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUudm9pZCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RWb2lkLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFZvaWQoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFZvaWQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kQXJyYXkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHgsIHN0YXR1cyB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgZGVmID0gdGhpcy5fZGVmO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYXJyYXkpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYXJyYXksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLmV4YWN0TGVuZ3RoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjdHguZGF0YS5sZW5ndGggPiBkZWYuZXhhY3RMZW5ndGgudmFsdWU7XG4gICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGN0eC5kYXRhLmxlbmd0aCA8IGRlZi5leGFjdExlbmd0aC52YWx1ZTtcbiAgICAgICAgICAgIGlmICh0b29CaWcgfHwgdG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogdG9vQmlnID8gWm9kSXNzdWVDb2RlLnRvb19iaWcgOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiAodG9vU21hbGwgPyBkZWYuZXhhY3RMZW5ndGgudmFsdWUgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiAodG9vQmlnID8gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYuZXhhY3RMZW5ndGgubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLm1pbkxlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA8IGRlZi5taW5MZW5ndGgudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgbWluaW11bTogZGVmLm1pbkxlbmd0aC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1pbkxlbmd0aC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYubWF4TGVuZ3RoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmRhdGEubGVuZ3RoID4gZGVmLm1heExlbmd0aC52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogZGVmLm1heExlbmd0aC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1heExlbmd0aC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoWy4uLmN0eC5kYXRhXS5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmLnR5cGUuX3BhcnNlQXN5bmMobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpKSk7XG4gICAgICAgICAgICB9KSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gWy4uLmN0eC5kYXRhXS5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBkZWYudHlwZS5fcGFyc2VTeW5jKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHQpO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlO1xuICAgIH1cbiAgICBtaW4obWluTGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWluTGVuZ3RoOiB7IHZhbHVlOiBtaW5MZW5ndGgsIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heExlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1heExlbmd0aDogeyB2YWx1ZTogbWF4TGVuZ3RoLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxlbmd0aChsZW4sIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBleGFjdExlbmd0aDogeyB2YWx1ZTogbGVuLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbmVtcHR5KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKDEsIG1lc3NhZ2UpO1xuICAgIH1cbn1cblpvZEFycmF5LmNyZWF0ZSA9IChzY2hlbWEsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICB0eXBlOiBzY2hlbWEsXG4gICAgICAgIG1pbkxlbmd0aDogbnVsbCxcbiAgICAgICAgbWF4TGVuZ3RoOiBudWxsLFxuICAgICAgICBleGFjdExlbmd0aDogbnVsbCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBcnJheSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmZ1bmN0aW9uIGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYSkge1xuICAgIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RPYmplY3QpIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2NoZW1hLnNoYXBlKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHNjaGVtYS5zaGFwZVtrZXldO1xuICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IFpvZE9wdGlvbmFsLmNyZWF0ZShkZWVwUGFydGlhbGlmeShmaWVsZFNjaGVtYSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnNjaGVtYS5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IG5ld1NoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kQXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi5zY2hlbWEuX2RlZixcbiAgICAgICAgICAgIHR5cGU6IGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYS5lbGVtZW50KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE9wdGlvbmFsKSB7XG4gICAgICAgIHJldHVybiBab2RPcHRpb25hbC5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoc2NoZW1hLnVud3JhcCgpKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE51bGxhYmxlKSB7XG4gICAgICAgIHJldHVybiBab2ROdWxsYWJsZS5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoc2NoZW1hLnVud3JhcCgpKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZFR1cGxlKSB7XG4gICAgICAgIHJldHVybiBab2RUdXBsZS5jcmVhdGUoc2NoZW1hLml0ZW1zLm1hcCgoaXRlbSkgPT4gZGVlcFBhcnRpYWxpZnkoaXRlbSkpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFpvZE9iamVjdCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLl9jYWNoZWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgSW4gbW9zdCBjYXNlcywgdGhpcyBpcyBubyBsb25nZXIgbmVlZGVkIC0gdW5rbm93biBwcm9wZXJ0aWVzIGFyZSBub3cgc2lsZW50bHkgc3RyaXBwZWQuXG4gICAgICAgICAqIElmIHlvdSB3YW50IHRvIHBhc3MgdGhyb3VnaCB1bmtub3duIHByb3BlcnRpZXMsIHVzZSBgLnBhc3N0aHJvdWdoKClgIGluc3RlYWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5vbnN0cmljdCA9IHRoaXMucGFzc3Rocm91Z2g7XG4gICAgICAgIC8vIGV4dGVuZDxcbiAgICAgICAgLy8gICBBdWdtZW50YXRpb24gZXh0ZW5kcyBab2RSYXdTaGFwZSxcbiAgICAgICAgLy8gICBOZXdPdXRwdXQgZXh0ZW5kcyB1dGlsLmZsYXR0ZW48e1xuICAgICAgICAvLyAgICAgW2sgaW4ga2V5b2YgQXVnbWVudGF0aW9uIHwga2V5b2YgT3V0cHV0XTogayBleHRlbmRzIGtleW9mIEF1Z21lbnRhdGlvblxuICAgICAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9vdXRwdXRcIl1cbiAgICAgICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgT3V0cHV0XG4gICAgICAgIC8vICAgICAgID8gT3V0cHV0W2tdXG4gICAgICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgICAgIC8vICAgfT4sXG4gICAgICAgIC8vICAgTmV3SW5wdXQgZXh0ZW5kcyB1dGlsLmZsYXR0ZW48e1xuICAgICAgICAvLyAgICAgW2sgaW4ga2V5b2YgQXVnbWVudGF0aW9uIHwga2V5b2YgSW5wdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgICAgIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX2lucHV0XCJdXG4gICAgICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIElucHV0XG4gICAgICAgIC8vICAgICAgID8gSW5wdXRba11cbiAgICAgICAgLy8gICAgICAgOiBuZXZlcjtcbiAgICAgICAgLy8gICB9PlxuICAgICAgICAvLyA+KFxuICAgICAgICAvLyAgIGF1Z21lbnRhdGlvbjogQXVnbWVudGF0aW9uXG4gICAgICAgIC8vICk6IFpvZE9iamVjdDxcbiAgICAgICAgLy8gICBleHRlbmRTaGFwZTxULCBBdWdtZW50YXRpb24+LFxuICAgICAgICAvLyAgIFVua25vd25LZXlzLFxuICAgICAgICAvLyAgIENhdGNoYWxsLFxuICAgICAgICAvLyAgIE5ld091dHB1dCxcbiAgICAgICAgLy8gICBOZXdJbnB1dFxuICAgICAgICAvLyA+IHtcbiAgICAgICAgLy8gICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIC8vICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgIC8vICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAgICAgLy8gICAgICAgLi4udGhpcy5fZGVmLnNoYXBlKCksXG4gICAgICAgIC8vICAgICAgIC4uLmF1Z21lbnRhdGlvbixcbiAgICAgICAgLy8gICAgIH0pLFxuICAgICAgICAvLyAgIH0pIGFzIGFueTtcbiAgICAgICAgLy8gfVxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgVXNlIGAuZXh0ZW5kYCBpbnN0ZWFkXG4gICAgICAgICAqICAqL1xuICAgICAgICB0aGlzLmF1Z21lbnQgPSB0aGlzLmV4dGVuZDtcbiAgICB9XG4gICAgX2dldENhY2hlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NhY2hlZCAhPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWQ7XG4gICAgICAgIGNvbnN0IHNoYXBlID0gdGhpcy5fZGVmLnNoYXBlKCk7XG4gICAgICAgIGNvbnN0IGtleXMgPSB1dGlsLm9iamVjdEtleXMoc2hhcGUpO1xuICAgICAgICB0aGlzLl9jYWNoZWQgPSB7IHNoYXBlLCBrZXlzIH07XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWQ7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCB7IHNoYXBlLCBrZXlzOiBzaGFwZUtleXMgfSA9IHRoaXMuX2dldENhY2hlZCgpO1xuICAgICAgICBjb25zdCBleHRyYUtleXMgPSBbXTtcbiAgICAgICAgaWYgKCEodGhpcy5fZGVmLmNhdGNoYWxsIGluc3RhbmNlb2YgWm9kTmV2ZXIgJiYgdGhpcy5fZGVmLnVua25vd25LZXlzID09PSBcInN0cmlwXCIpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjdHguZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmICghc2hhcGVLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFpcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygc2hhcGVLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBrZXlWYWxpZGF0b3IgPSBzaGFwZVtrZXldO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHguZGF0YVtrZXldO1xuICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAga2V5OiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZToga2V5IH0sXG4gICAgICAgICAgICAgICAgdmFsdWU6IGtleVZhbGlkYXRvci5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwga2V5KSksXG4gICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBrZXkgaW4gY3R4LmRhdGEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZGVmLmNhdGNoYWxsIGluc3RhbmNlb2YgWm9kTmV2ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHVua25vd25LZXlzID0gdGhpcy5fZGVmLnVua25vd25LZXlzO1xuICAgICAgICAgICAgaWYgKHVua25vd25LZXlzID09PSBcInBhc3N0aHJvdWdoXCIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBleHRyYUtleXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBrZXkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZTogY3R4LmRhdGFba2V5XSB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh1bmtub3duS2V5cyA9PT0gXCJzdHJpY3RcIikge1xuICAgICAgICAgICAgICAgIGlmIChleHRyYUtleXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS51bnJlY29nbml6ZWRfa2V5cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXM6IGV4dHJhS2V5cyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHVua25vd25LZXlzID09PSBcInN0cmlwXCIpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW50ZXJuYWwgWm9kT2JqZWN0IGVycm9yOiBpbnZhbGlkIHVua25vd25LZXlzIHZhbHVlLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gcnVuIGNhdGNoYWxsIHZhbGlkYXRpb25cbiAgICAgICAgICAgIGNvbnN0IGNhdGNoYWxsID0gdGhpcy5fZGVmLmNhdGNoYWxsO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgZXh0cmFLZXlzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHguZGF0YVtrZXldO1xuICAgICAgICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBrZXk6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBrZXkgfSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNhdGNoYWxsLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgdmFsdWUsIGN0eC5wYXRoLCBrZXkpIC8vLCBjdHguY2hpbGQoa2V5KSwgdmFsdWUsIGdldFBhcnNlZFR5cGUodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgICAgICAgICAudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3luY1BhaXJzID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGF3YWl0IHBhaXIua2V5O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhaXIudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHN5bmNQYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBwYWlyLmFsd2F5c1NldCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzeW5jUGFpcnM7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChzeW5jUGFpcnMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgc3luY1BhaXJzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2hhcGUoKTtcbiAgICB9XG4gICAgc3RyaWN0KG1lc3NhZ2UpIHtcbiAgICAgICAgZXJyb3JVdGlsLmVyclRvT2JqO1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICB1bmtub3duS2V5czogXCJzdHJpY3RcIixcbiAgICAgICAgICAgIC4uLihtZXNzYWdlICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNYXA6IChpc3N1ZSwgY3R4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0RXJyb3IgPSB0aGlzLl9kZWYuZXJyb3JNYXA/Lihpc3N1ZSwgY3R4KS5tZXNzYWdlID8/IGN0eC5kZWZhdWx0RXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNzdWUuY29kZSA9PT0gXCJ1bnJlY29nbml6ZWRfa2V5c1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKS5tZXNzYWdlID8/IGRlZmF1bHRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWZhdWx0RXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0cmlwKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGFzc3Rocm91Z2goKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHVua25vd25LZXlzOiBcInBhc3N0aHJvdWdoXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBjb25zdCBBdWdtZW50RmFjdG9yeSA9XG4gICAgLy8gICA8RGVmIGV4dGVuZHMgWm9kT2JqZWN0RGVmPihkZWY6IERlZikgPT5cbiAgICAvLyAgIDxBdWdtZW50YXRpb24gZXh0ZW5kcyBab2RSYXdTaGFwZT4oXG4gICAgLy8gICAgIGF1Z21lbnRhdGlvbjogQXVnbWVudGF0aW9uXG4gICAgLy8gICApOiBab2RPYmplY3Q8XG4gICAgLy8gICAgIGV4dGVuZFNoYXBlPFJldHVyblR5cGU8RGVmW1wic2hhcGVcIl0+LCBBdWdtZW50YXRpb24+LFxuICAgIC8vICAgICBEZWZbXCJ1bmtub3duS2V5c1wiXSxcbiAgICAvLyAgICAgRGVmW1wiY2F0Y2hhbGxcIl1cbiAgICAvLyAgID4gPT4ge1xuICAgIC8vICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgLy8gICAgICAgLi4uZGVmLFxuICAgIC8vICAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgIC8vICAgICAgICAgLi4uZGVmLnNoYXBlKCksXG4gICAgLy8gICAgICAgICAuLi5hdWdtZW50YXRpb24sXG4gICAgLy8gICAgICAgfSksXG4gICAgLy8gICAgIH0pIGFzIGFueTtcbiAgICAvLyAgIH07XG4gICAgZXh0ZW5kKGF1Z21lbnRhdGlvbikge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgICAgICAgICAuLi5hdWdtZW50YXRpb24sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByaW9yIHRvIHpvZEAxLjAuMTIgdGhlcmUgd2FzIGEgYnVnIGluIHRoZVxuICAgICAqIGluZmVycmVkIHR5cGUgb2YgbWVyZ2VkIG9iamVjdHMuIFBsZWFzZVxuICAgICAqIHVwZ3JhZGUgaWYgeW91IGFyZSBleHBlcmllbmNpbmcgaXNzdWVzLlxuICAgICAqL1xuICAgIG1lcmdlKG1lcmdpbmcpIHtcbiAgICAgICAgY29uc3QgbWVyZ2VkID0gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgICAgICAgICAgY2F0Y2hhbGw6IG1lcmdpbmcuX2RlZi5jYXRjaGFsbCxcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5zaGFwZSgpLFxuICAgICAgICAgICAgICAgIC4uLm1lcmdpbmcuX2RlZi5zaGFwZSgpLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtZXJnZWQ7XG4gICAgfVxuICAgIC8vIG1lcmdlPFxuICAgIC8vICAgSW5jb21pbmcgZXh0ZW5kcyBBbnlab2RPYmplY3QsXG4gICAgLy8gICBBdWdtZW50YXRpb24gZXh0ZW5kcyBJbmNvbWluZ1tcInNoYXBlXCJdLFxuICAgIC8vICAgTmV3T3V0cHV0IGV4dGVuZHMge1xuICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBPdXRwdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfb3V0cHV0XCJdXG4gICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgT3V0cHV0XG4gICAgLy8gICAgICAgPyBPdXRwdXRba11cbiAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgIC8vICAgfSxcbiAgICAvLyAgIE5ld0lucHV0IGV4dGVuZHMge1xuICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBJbnB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9pbnB1dFwiXVxuICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIElucHV0XG4gICAgLy8gICAgICAgPyBJbnB1dFtrXVxuICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgLy8gICB9XG4gICAgLy8gPihcbiAgICAvLyAgIG1lcmdpbmc6IEluY29taW5nXG4gICAgLy8gKTogWm9kT2JqZWN0PFxuICAgIC8vICAgZXh0ZW5kU2hhcGU8VCwgUmV0dXJuVHlwZTxJbmNvbWluZ1tcIl9kZWZcIl1bXCJzaGFwZVwiXT4+LFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1widW5rbm93bktleXNcIl0sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJjYXRjaGFsbFwiXSxcbiAgICAvLyAgIE5ld091dHB1dCxcbiAgICAvLyAgIE5ld0lucHV0XG4gICAgLy8gPiB7XG4gICAgLy8gICBjb25zdCBtZXJnZWQ6IGFueSA9IG5ldyBab2RPYmplY3Qoe1xuICAgIC8vICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgIC8vICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgIC8vICAgICBzaGFwZTogKCkgPT5cbiAgICAvLyAgICAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKHRoaXMuX2RlZi5zaGFwZSgpLCBtZXJnaW5nLl9kZWYuc2hhcGUoKSksXG4gICAgLy8gICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgIC8vICAgfSkgYXMgYW55O1xuICAgIC8vICAgcmV0dXJuIG1lcmdlZDtcbiAgICAvLyB9XG4gICAgc2V0S2V5KGtleSwgc2NoZW1hKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF1Z21lbnQoeyBba2V5XTogc2NoZW1hIH0pO1xuICAgIH1cbiAgICAvLyBtZXJnZTxJbmNvbWluZyBleHRlbmRzIEFueVpvZE9iamVjdD4oXG4gICAgLy8gICBtZXJnaW5nOiBJbmNvbWluZ1xuICAgIC8vICk6IC8vWm9kT2JqZWN0PFQgJiBJbmNvbWluZ1tcIl9zaGFwZVwiXSwgVW5rbm93bktleXMsIENhdGNoYWxsPiA9IChtZXJnaW5nKSA9PiB7XG4gICAgLy8gWm9kT2JqZWN0PFxuICAgIC8vICAgZXh0ZW5kU2hhcGU8VCwgUmV0dXJuVHlwZTxJbmNvbWluZ1tcIl9kZWZcIl1bXCJzaGFwZVwiXT4+LFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1widW5rbm93bktleXNcIl0sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJjYXRjaGFsbFwiXVxuICAgIC8vID4ge1xuICAgIC8vICAgLy8gY29uc3QgbWVyZ2VkU2hhcGUgPSBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKFxuICAgIC8vICAgLy8gICB0aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAvLyAgIC8vICAgbWVyZ2luZy5fZGVmLnNoYXBlKClcbiAgICAvLyAgIC8vICk7XG4gICAgLy8gICBjb25zdCBtZXJnZWQ6IGFueSA9IG5ldyBab2RPYmplY3Qoe1xuICAgIC8vICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgIC8vICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgIC8vICAgICBzaGFwZTogKCkgPT5cbiAgICAvLyAgICAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKHRoaXMuX2RlZi5zaGFwZSgpLCBtZXJnaW5nLl9kZWYuc2hhcGUoKSksXG4gICAgLy8gICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgIC8vICAgfSkgYXMgYW55O1xuICAgIC8vICAgcmV0dXJuIG1lcmdlZDtcbiAgICAvLyB9XG4gICAgY2F0Y2hhbGwoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2F0Y2hhbGw6IGluZGV4LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGljayhtYXNrKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHV0aWwub2JqZWN0S2V5cyhtYXNrKSkge1xuICAgICAgICAgICAgaWYgKG1hc2tba2V5XSAmJiB0aGlzLnNoYXBlW2tleV0pIHtcbiAgICAgICAgICAgICAgICBzaGFwZVtrZXldID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9taXQobWFzaykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB1dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkpIHtcbiAgICAgICAgICAgIGlmICghbWFza1trZXldKSB7XG4gICAgICAgICAgICAgICAgc2hhcGVba2V5XSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuICAgIGRlZXBQYXJ0aWFsKCkge1xuICAgICAgICByZXR1cm4gZGVlcFBhcnRpYWxpZnkodGhpcyk7XG4gICAgfVxuICAgIHBhcnRpYWwobWFzaykge1xuICAgICAgICBjb25zdCBuZXdTaGFwZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB1dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkU2NoZW1hID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgaWYgKG1hc2sgJiYgIW1hc2tba2V5XSkge1xuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBmaWVsZFNjaGVtYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBmaWVsZFNjaGVtYS5vcHRpb25hbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBuZXdTaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlcXVpcmVkKG1hc2spIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpKSB7XG4gICAgICAgICAgICBpZiAobWFzayAmJiAhbWFza1trZXldKSB7XG4gICAgICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkU2NoZW1hID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgICAgIGxldCBuZXdGaWVsZCA9IGZpZWxkU2NoZW1hO1xuICAgICAgICAgICAgICAgIHdoaWxlIChuZXdGaWVsZCBpbnN0YW5jZW9mIFpvZE9wdGlvbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0ZpZWxkID0gbmV3RmllbGQuX2RlZi5pbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBuZXdGaWVsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gbmV3U2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBrZXlvZigpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVpvZEVudW0odXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpKTtcbiAgICB9XG59XG5ab2RPYmplY3QuY3JlYXRlID0gKHNoYXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgdW5rbm93bktleXM6IFwic3RyaXBcIixcbiAgICAgICAgY2F0Y2hhbGw6IFpvZE5ldmVyLmNyZWF0ZSgpLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcblpvZE9iamVjdC5zdHJpY3RDcmVhdGUgPSAoc2hhcGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgc2hhcGU6ICgpID0+IHNoYXBlLFxuICAgICAgICB1bmtub3duS2V5czogXCJzdHJpY3RcIixcbiAgICAgICAgY2F0Y2hhbGw6IFpvZE5ldmVyLmNyZWF0ZSgpLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcblpvZE9iamVjdC5sYXp5Y3JlYXRlID0gKHNoYXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlLFxuICAgICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgICAgICBjYXRjaGFsbDogWm9kTmV2ZXIuY3JlYXRlKCksXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFVuaW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5fZGVmLm9wdGlvbnM7XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVJlc3VsdHMocmVzdWx0cykge1xuICAgICAgICAgICAgLy8gcmV0dXJuIGZpcnN0IGlzc3VlLWZyZWUgdmFsaWRhdGlvbiBpZiBpdCBleGlzdHNcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5yZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGlzc3VlcyBmcm9tIGRpcnR5IG9wdGlvblxuICAgICAgICAgICAgICAgICAgICBjdHguY29tbW9uLmlzc3Vlcy5wdXNoKC4uLnJlc3VsdC5jdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQucmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJldHVybiBpbnZhbGlkXG4gICAgICAgICAgICBjb25zdCB1bmlvbkVycm9ycyA9IHJlc3VsdHMubWFwKChyZXN1bHQpID0+IG5ldyBab2RFcnJvcihyZXN1bHQuY3R4LmNvbW1vbi5pc3N1ZXMpKTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uLFxuICAgICAgICAgICAgICAgIHVuaW9uRXJyb3JzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKG9wdGlvbnMubWFwKGFzeW5jIChvcHRpb24pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEN0eCA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN0eC5jb21tb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IGF3YWl0IG9wdGlvbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjaGlsZEN0eCxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIGN0eDogY2hpbGRDdHgsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pKS50aGVuKGhhbmRsZVJlc3VsdHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGRpcnR5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgaXNzdWVzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRDdHggPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmN0eCxcbiAgICAgICAgICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jdHguY29tbW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gb3B0aW9uLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY2hpbGRDdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIgJiYgIWRpcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGRpcnR5ID0geyByZXN1bHQsIGN0eDogY2hpbGRDdHggfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkQ3R4LmNvbW1vbi5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzc3Vlcy5wdXNoKGNoaWxkQ3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkaXJ0eSkge1xuICAgICAgICAgICAgICAgIGN0eC5jb21tb24uaXNzdWVzLnB1c2goLi4uZGlydHkuY3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkaXJ0eS5yZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1bmlvbkVycm9ycyA9IGlzc3Vlcy5tYXAoKGlzc3VlcykgPT4gbmV3IFpvZEVycm9yKGlzc3VlcykpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb24sXG4gICAgICAgICAgICAgICAgdW5pb25FcnJvcnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm9wdGlvbnM7XG4gICAgfVxufVxuWm9kVW5pb24uY3JlYXRlID0gKHR5cGVzLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFVuaW9uKHtcbiAgICAgICAgb3B0aW9uczogdHlwZXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5pb24sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgWm9kRGlzY3JpbWluYXRlZFVuaW9uICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuY29uc3QgZ2V0RGlzY3JpbWluYXRvciA9ICh0eXBlKSA9PiB7XG4gICAgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RMYXp5KSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuc2NoZW1hKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZEVmZmVjdHMpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5pbm5lclR5cGUoKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RMaXRlcmFsKSB7XG4gICAgICAgIHJldHVybiBbdHlwZS52YWx1ZV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RFbnVtKSB7XG4gICAgICAgIHJldHVybiB0eXBlLm9wdGlvbnM7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROYXRpdmVFbnVtKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBiYW4vYmFuXG4gICAgICAgIHJldHVybiB1dGlsLm9iamVjdFZhbHVlcyh0eXBlLmVudW0pO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kRGVmYXVsdCkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLl9kZWYuaW5uZXJUeXBlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZFVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gW3VuZGVmaW5lZF07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROdWxsKSB7XG4gICAgICAgIHJldHVybiBbbnVsbF07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RPcHRpb25hbCkge1xuICAgICAgICByZXR1cm4gW3VuZGVmaW5lZCwgLi4uZ2V0RGlzY3JpbWluYXRvcih0eXBlLnVud3JhcCgpKV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROdWxsYWJsZSkge1xuICAgICAgICByZXR1cm4gW251bGwsIC4uLmdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSldO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kQnJhbmRlZCkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnVud3JhcCgpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZFJlYWRvbmx5KSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kQ2F0Y2gpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5fZGVmLmlubmVyVHlwZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxufTtcbmV4cG9ydCBjbGFzcyBab2REaXNjcmltaW5hdGVkVW5pb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUub2JqZWN0LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGlzY3JpbWluYXRvciA9IHRoaXMuZGlzY3JpbWluYXRvcjtcbiAgICAgICAgY29uc3QgZGlzY3JpbWluYXRvclZhbHVlID0gY3R4LmRhdGFbZGlzY3JpbWluYXRvcl07XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IHRoaXMub3B0aW9uc01hcC5nZXQoZGlzY3JpbWluYXRvclZhbHVlKTtcbiAgICAgICAgaWYgKCFvcHRpb24pIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3IsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogQXJyYXkuZnJvbSh0aGlzLm9wdGlvbnNNYXAua2V5cygpKSxcbiAgICAgICAgICAgICAgICBwYXRoOiBbZGlzY3JpbWluYXRvcl0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9uLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBkaXNjcmltaW5hdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmRpc2NyaW1pbmF0b3I7XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm9wdGlvbnM7XG4gICAgfVxuICAgIGdldCBvcHRpb25zTWFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm9wdGlvbnNNYXA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgZGlzY3JpbWluYXRlZCB1bmlvbiBzY2hlbWEuIEl0cyBiZWhhdmlvdXIgaXMgdmVyeSBzaW1pbGFyIHRvIHRoYXQgb2YgdGhlIG5vcm1hbCB6LnVuaW9uKCkgY29uc3RydWN0b3IuXG4gICAgICogSG93ZXZlciwgaXQgb25seSBhbGxvd3MgYSB1bmlvbiBvZiBvYmplY3RzLCBhbGwgb2Ygd2hpY2ggbmVlZCB0byBzaGFyZSBhIGRpc2NyaW1pbmF0b3IgcHJvcGVydHkuIFRoaXMgcHJvcGVydHkgbXVzdFxuICAgICAqIGhhdmUgYSBkaWZmZXJlbnQgdmFsdWUgZm9yIGVhY2ggb2JqZWN0IGluIHRoZSB1bmlvbi5cbiAgICAgKiBAcGFyYW0gZGlzY3JpbWluYXRvciB0aGUgbmFtZSBvZiB0aGUgZGlzY3JpbWluYXRvciBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB0eXBlcyBhbiBhcnJheSBvZiBvYmplY3Qgc2NoZW1hc1xuICAgICAqIEBwYXJhbSBwYXJhbXNcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKGRpc2NyaW1pbmF0b3IsIG9wdGlvbnMsIHBhcmFtcykge1xuICAgICAgICAvLyBHZXQgYWxsIHRoZSB2YWxpZCBkaXNjcmltaW5hdG9yIHZhbHVlc1xuICAgICAgICBjb25zdCBvcHRpb25zTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAvLyB0cnkge1xuICAgICAgICBmb3IgKGNvbnN0IHR5cGUgb2Ygb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgZGlzY3JpbWluYXRvclZhbHVlcyA9IGdldERpc2NyaW1pbmF0b3IodHlwZS5zaGFwZVtkaXNjcmltaW5hdG9yXSk7XG4gICAgICAgICAgICBpZiAoIWRpc2NyaW1pbmF0b3JWYWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBIGRpc2NyaW1pbmF0b3IgdmFsdWUgZm9yIGtleSBcXGAke2Rpc2NyaW1pbmF0b3J9XFxgIGNvdWxkIG5vdCBiZSBleHRyYWN0ZWQgZnJvbSBhbGwgc2NoZW1hIG9wdGlvbnNgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgZGlzY3JpbWluYXRvclZhbHVlcykge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zTWFwLmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEaXNjcmltaW5hdG9yIHByb3BlcnR5ICR7U3RyaW5nKGRpc2NyaW1pbmF0b3IpfSBoYXMgZHVwbGljYXRlIHZhbHVlICR7U3RyaW5nKHZhbHVlKX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3B0aW9uc01hcC5zZXQodmFsdWUsIHR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kRGlzY3JpbWluYXRlZFVuaW9uKHtcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGlzY3JpbWluYXRlZFVuaW9uLFxuICAgICAgICAgICAgZGlzY3JpbWluYXRvcixcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBvcHRpb25zTWFwLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBtZXJnZVZhbHVlcyhhLCBiKSB7XG4gICAgY29uc3QgYVR5cGUgPSBnZXRQYXJzZWRUeXBlKGEpO1xuICAgIGNvbnN0IGJUeXBlID0gZ2V0UGFyc2VkVHlwZShiKTtcbiAgICBpZiAoYSA9PT0gYikge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogYSB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChhVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5vYmplY3QgJiYgYlR5cGUgPT09IFpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IGJLZXlzID0gdXRpbC5vYmplY3RLZXlzKGIpO1xuICAgICAgICBjb25zdCBzaGFyZWRLZXlzID0gdXRpbC5vYmplY3RLZXlzKGEpLmZpbHRlcigoa2V5KSA9PiBiS2V5cy5pbmRleE9mKGtleSkgIT09IC0xKTtcbiAgICAgICAgY29uc3QgbmV3T2JqID0geyAuLi5hLCAuLi5iIH07XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHNoYXJlZEtleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYXJlZFZhbHVlID0gbWVyZ2VWYWx1ZXMoYVtrZXldLCBiW2tleV0pO1xuICAgICAgICAgICAgaWYgKCFzaGFyZWRWYWx1ZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3T2JqW2tleV0gPSBzaGFyZWRWYWx1ZS5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBuZXdPYmogfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYVR5cGUgPT09IFpvZFBhcnNlZFR5cGUuYXJyYXkgJiYgYlR5cGUgPT09IFpvZFBhcnNlZFR5cGUuYXJyYXkpIHtcbiAgICAgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3QXJyYXkgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGEubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtQSA9IGFbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgaXRlbUIgPSBiW2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IHNoYXJlZFZhbHVlID0gbWVyZ2VWYWx1ZXMoaXRlbUEsIGl0ZW1CKTtcbiAgICAgICAgICAgIGlmICghc2hhcmVkVmFsdWUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0FycmF5LnB1c2goc2hhcmVkVmFsdWUuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IG5ld0FycmF5IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGFUeXBlID09PSBab2RQYXJzZWRUeXBlLmRhdGUgJiYgYlR5cGUgPT09IFpvZFBhcnNlZFR5cGUuZGF0ZSAmJiArYSA9PT0gK2IpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IGEgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBab2RJbnRlcnNlY3Rpb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgaGFuZGxlUGFyc2VkID0gKHBhcnNlZExlZnQsIHBhcnNlZFJpZ2h0KSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNBYm9ydGVkKHBhcnNlZExlZnQpIHx8IGlzQWJvcnRlZChwYXJzZWRSaWdodCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZCA9IG1lcmdlVmFsdWVzKHBhcnNlZExlZnQudmFsdWUsIHBhcnNlZFJpZ2h0LnZhbHVlKTtcbiAgICAgICAgICAgIGlmICghbWVyZ2VkLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2ludGVyc2VjdGlvbl90eXBlcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0RpcnR5KHBhcnNlZExlZnQpIHx8IGlzRGlydHkocGFyc2VkUmlnaHQpKSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IG1lcmdlZC5kYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlZi5sZWZ0Ll9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWYucmlnaHQuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXSkudGhlbigoW2xlZnQsIHJpZ2h0XSkgPT4gaGFuZGxlUGFyc2VkKGxlZnQsIHJpZ2h0KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlUGFyc2VkKHRoaXMuX2RlZi5sZWZ0Ll9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSksIHRoaXMuX2RlZi5yaWdodC5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblpvZEludGVyc2VjdGlvbi5jcmVhdGUgPSAobGVmdCwgcmlnaHQsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kSW50ZXJzZWN0aW9uKHtcbiAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgcmlnaHQ6IHJpZ2h0LFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEludGVyc2VjdGlvbixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbi8vIHR5cGUgWm9kVHVwbGVJdGVtcyA9IFtab2RUeXBlQW55LCAuLi5ab2RUeXBlQW55W11dO1xuZXhwb3J0IGNsYXNzIFpvZFR1cGxlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5hcnJheSkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5hcnJheSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguZGF0YS5sZW5ndGggPCB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgIG1pbmltdW06IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3QgPSB0aGlzLl9kZWYucmVzdDtcbiAgICAgICAgaWYgKCFyZXN0ICYmIGN0eC5kYXRhLmxlbmd0aCA+IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgIG1heGltdW06IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gWy4uLmN0eC5kYXRhXVxuICAgICAgICAgICAgLm1hcCgoaXRlbSwgaXRlbUluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzY2hlbWEgPSB0aGlzLl9kZWYuaXRlbXNbaXRlbUluZGV4XSB8fCB0aGlzLl9kZWYucmVzdDtcbiAgICAgICAgICAgIGlmICghc2NoZW1hKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVtYS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpdGVtSW5kZXgpKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5maWx0ZXIoKHgpID0+ICEheCk7IC8vIGZpbHRlciBudWxsc1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGl0ZW1zKS50aGVuKChyZXN1bHRzKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCBpdGVtcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGl0ZW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLml0ZW1zO1xuICAgIH1cbiAgICByZXN0KHJlc3QpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RUdXBsZSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICByZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG59XG5ab2RUdXBsZS5jcmVhdGUgPSAoc2NoZW1hcywgcGFyYW1zKSA9PiB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHNjaGVtYXMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBtdXN0IHBhc3MgYW4gYXJyYXkgb2Ygc2NoZW1hcyB0byB6LnR1cGxlKFsgLi4uIF0pXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFpvZFR1cGxlKHtcbiAgICAgICAgaXRlbXM6IHNjaGVtYXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVHVwbGUsXG4gICAgICAgIHJlc3Q6IG51bGwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kUmVjb3JkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgZ2V0IGtleVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgIH1cbiAgICBnZXQgdmFsdWVTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYWlycyA9IFtdO1xuICAgICAgICBjb25zdCBrZXlUeXBlID0gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGN0eC5kYXRhKSB7XG4gICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXk6IGtleVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBrZXksIGN0eC5wYXRoLCBrZXkpKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgY3R4LmRhdGFba2V5XSwgY3R4LnBhdGgsIGtleSkpLFxuICAgICAgICAgICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZU9iamVjdEFzeW5jKHN0YXR1cywgcGFpcnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoZmlyc3QsIHNlY29uZCwgdGhpcmQpIHtcbiAgICAgICAgaWYgKHNlY29uZCBpbnN0YW5jZW9mIFpvZFR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgWm9kUmVjb3JkKHtcbiAgICAgICAgICAgICAgICBrZXlUeXBlOiBmaXJzdCxcbiAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IHNlY29uZCxcbiAgICAgICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZCxcbiAgICAgICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXJkKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kUmVjb3JkKHtcbiAgICAgICAgICAgIGtleVR5cGU6IFpvZFN0cmluZy5jcmVhdGUoKSxcbiAgICAgICAgICAgIHZhbHVlVHlwZTogZmlyc3QsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZCxcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMoc2Vjb25kKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFpvZE1hcCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGdldCBrZXlTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5tYXApIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubWFwLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2V5VHlwZSA9IHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgICAgICBjb25zdCBwYWlycyA9IFsuLi5jdHguZGF0YS5lbnRyaWVzKCldLm1hcCgoW2tleSwgdmFsdWVdLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBrZXk6IGtleVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBrZXksIGN0eC5wYXRoLCBbaW5kZXgsIFwia2V5XCJdKSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlVHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwgW2luZGV4LCBcInZhbHVlXCJdKSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbmFsTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCBwYWlyLmtleTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYWlyLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxNYXAuc2V0KGtleS52YWx1ZSwgdmFsdWUudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsTWFwIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbmFsTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gcGFpci5rZXk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYWlyLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImFib3J0ZWRcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbE1hcC5zZXQoa2V5LnZhbHVlLCB2YWx1ZS52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsTWFwIH07XG4gICAgICAgIH1cbiAgICB9XG59XG5ab2RNYXAuY3JlYXRlID0gKGtleVR5cGUsIHZhbHVlVHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RNYXAoe1xuICAgICAgICB2YWx1ZVR5cGUsXG4gICAgICAgIGtleVR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTWFwLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFNldCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuc2V0KSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnNldCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlZiA9IHRoaXMuX2RlZjtcbiAgICAgICAgaWYgKGRlZi5taW5TaXplICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmRhdGEuc2l6ZSA8IGRlZi5taW5TaXplLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGRlZi5taW5TaXplLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1pblNpemUubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLm1heFNpemUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5zaXplID4gZGVmLm1heFNpemUudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgIG1heGltdW06IGRlZi5tYXhTaXplLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1heFNpemUubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgICAgICBmdW5jdGlvbiBmaW5hbGl6ZVNldChlbGVtZW50cykge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkU2V0ID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIHBhcnNlZFNldC5hZGQoZWxlbWVudC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IHBhcnNlZFNldCB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gWy4uLmN0eC5kYXRhLnZhbHVlcygpXS5tYXAoKGl0ZW0sIGkpID0+IHZhbHVlVHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpKSkpO1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGVsZW1lbnRzKS50aGVuKChlbGVtZW50cykgPT4gZmluYWxpemVTZXQoZWxlbWVudHMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmaW5hbGl6ZVNldChlbGVtZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWluKG1pblNpemUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWluU2l6ZTogeyB2YWx1ZTogbWluU2l6ZSwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4U2l6ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFNldCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBtYXhTaXplOiB7IHZhbHVlOiBtYXhTaXplLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNpemUoc2l6ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oc2l6ZSwgbWVzc2FnZSkubWF4KHNpemUsIG1lc3NhZ2UpO1xuICAgIH1cbiAgICBub25lbXB0eShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbigxLCBtZXNzYWdlKTtcbiAgICB9XG59XG5ab2RTZXQuY3JlYXRlID0gKHZhbHVlVHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgICB2YWx1ZVR5cGUsXG4gICAgICAgIG1pblNpemU6IG51bGwsXG4gICAgICAgIG1heFNpemU6IG51bGwsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU2V0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZEZ1bmN0aW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMudmFsaWRhdGUgPSB0aGlzLmltcGxlbWVudDtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuZnVuY3Rpb24pIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuZnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBtYWtlQXJnc0lzc3VlKGFyZ3MsIGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZUlzc3VlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBhcmdzLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIGVycm9yTWFwczogW2N0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLCBjdHguc2NoZW1hRXJyb3JNYXAsIGdldEVycm9yTWFwKCksIGRlZmF1bHRFcnJvck1hcF0uZmlsdGVyKCh4KSA9PiAhIXgpLFxuICAgICAgICAgICAgICAgIGlzc3VlRGF0YToge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9hcmd1bWVudHMsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c0Vycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbWFrZVJldHVybnNJc3N1ZShyZXR1cm5zLCBlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIG1ha2VJc3N1ZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogcmV0dXJucyxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBlcnJvck1hcHM6IFtjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCwgY3R4LnNjaGVtYUVycm9yTWFwLCBnZXRFcnJvck1hcCgpLCBkZWZhdWx0RXJyb3JNYXBdLmZpbHRlcigoeCkgPT4gISF4KSxcbiAgICAgICAgICAgICAgICBpc3N1ZURhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfcmV0dXJuX3R5cGUsXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblR5cGVFcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHsgZXJyb3JNYXA6IGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwIH07XG4gICAgICAgIGNvbnN0IGZuID0gY3R4LmRhdGE7XG4gICAgICAgIGlmICh0aGlzLl9kZWYucmV0dXJucyBpbnN0YW5jZW9mIFpvZFByb21pc2UpIHtcbiAgICAgICAgICAgIC8vIFdvdWxkIGxvdmUgYSB3YXkgdG8gYXZvaWQgZGlzYWJsaW5nIHRoaXMgcnVsZSwgYnV0IHdlIG5lZWRcbiAgICAgICAgICAgIC8vIGFuIGFsaWFzICh1c2luZyBhbiBhcnJvdyBmdW5jdGlvbiB3YXMgd2hhdCBjYXVzZWQgMjY1MSkuXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXNcbiAgICAgICAgICAgIGNvbnN0IG1lID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBPSyhhc3luYyBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IFpvZEVycm9yKFtdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRBcmdzID0gYXdhaXQgbWUuX2RlZi5hcmdzLnBhcnNlQXN5bmMoYXJncywgcGFyYW1zKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5hZGRJc3N1ZShtYWtlQXJnc0lzc3VlKGFyZ3MsIGUpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUmVmbGVjdC5hcHBseShmbiwgdGhpcywgcGFyc2VkQXJncyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkUmV0dXJucyA9IGF3YWl0IG1lLl9kZWYucmV0dXJucy5fZGVmLnR5cGVcbiAgICAgICAgICAgICAgICAgICAgLnBhcnNlQXN5bmMocmVzdWx0LCBwYXJhbXMpXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5hZGRJc3N1ZShtYWtlUmV0dXJuc0lzc3VlKHJlc3VsdCwgZSkpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkUmV0dXJucztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gV291bGQgbG92ZSBhIHdheSB0byBhdm9pZCBkaXNhYmxpbmcgdGhpcyBydWxlLCBidXQgd2UgbmVlZFxuICAgICAgICAgICAgLy8gYW4gYWxpYXMgKHVzaW5nIGFuIGFycm93IGZ1bmN0aW9uIHdhcyB3aGF0IGNhdXNlZCAyNjUxKS5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICAgICAgY29uc3QgbWUgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIE9LKGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkQXJncyA9IG1lLl9kZWYuYXJncy5zYWZlUGFyc2UoYXJncywgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcnNlZEFyZ3Muc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgWm9kRXJyb3IoW21ha2VBcmdzSXNzdWUoYXJncywgcGFyc2VkQXJncy5lcnJvcildKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5hcHBseShmbiwgdGhpcywgcGFyc2VkQXJncy5kYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRSZXR1cm5zID0gbWUuX2RlZi5yZXR1cm5zLnNhZmVQYXJzZShyZXN1bHQsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJzZWRSZXR1cm5zLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFpvZEVycm9yKFttYWtlUmV0dXJuc0lzc3VlKHJlc3VsdCwgcGFyc2VkUmV0dXJucy5lcnJvcildKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlZFJldHVybnMuZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBhcmFtZXRlcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuYXJncztcbiAgICB9XG4gICAgcmV0dXJuVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5yZXR1cm5zO1xuICAgIH1cbiAgICBhcmdzKC4uLml0ZW1zKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRnVuY3Rpb24oe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgYXJnczogWm9kVHVwbGUuY3JlYXRlKGl0ZW1zKS5yZXN0KFpvZFVua25vd24uY3JlYXRlKCkpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJucyhyZXR1cm5UeXBlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRnVuY3Rpb24oe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgcmV0dXJuczogcmV0dXJuVHlwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGltcGxlbWVudChmdW5jKSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRlZEZ1bmMgPSB0aGlzLnBhcnNlKGZ1bmMpO1xuICAgICAgICByZXR1cm4gdmFsaWRhdGVkRnVuYztcbiAgICB9XG4gICAgc3RyaWN0SW1wbGVtZW50KGZ1bmMpIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGVkRnVuYyA9IHRoaXMucGFyc2UoZnVuYyk7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZWRGdW5jO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGFyZ3MsIHJldHVybnMsIHBhcmFtcykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgICAgICAgIGFyZ3M6IChhcmdzID8gYXJncyA6IFpvZFR1cGxlLmNyZWF0ZShbXSkucmVzdChab2RVbmtub3duLmNyZWF0ZSgpKSksXG4gICAgICAgICAgICByZXR1cm5zOiByZXR1cm5zIHx8IFpvZFVua25vd24uY3JlYXRlKCksXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEZ1bmN0aW9uLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgWm9kTGF6eSBleHRlbmRzIFpvZFR5cGUge1xuICAgIGdldCBzY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuZ2V0dGVyKCk7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgbGF6eVNjaGVtYSA9IHRoaXMuX2RlZi5nZXR0ZXIoKTtcbiAgICAgICAgcmV0dXJuIGxhenlTY2hlbWEuX3BhcnNlKHsgZGF0YTogY3R4LmRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KTtcbiAgICB9XG59XG5ab2RMYXp5LmNyZWF0ZSA9IChnZXR0ZXIsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTGF6eSh7XG4gICAgICAgIGdldHRlcjogZ2V0dGVyLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExhenksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kTGl0ZXJhbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAoaW5wdXQuZGF0YSAhPT0gdGhpcy5fZGVmLnZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfbGl0ZXJhbCxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdGhpcy5fZGVmLnZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlO1xuICAgIH1cbn1cblpvZExpdGVyYWwuY3JlYXRlID0gKHZhbHVlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZExpdGVyYWwoe1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGl0ZXJhbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmZ1bmN0aW9uIGNyZWF0ZVpvZEVudW0odmFsdWVzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZEVudW0oe1xuICAgICAgICB2YWx1ZXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRW51bSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGNsYXNzIFpvZEVudW0gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dC5kYXRhICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbC5qb2luVmFsdWVzKGV4cGVjdGVkVmFsdWVzKSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZSkge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGUgPSBuZXcgU2V0KHRoaXMuX2RlZi52YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGUuaGFzKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfZW51bV92YWx1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBleHBlY3RlZFZhbHVlcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgfVxuICAgIGdldCBlbnVtKCkge1xuICAgICAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuX2RlZi52YWx1ZXMpIHtcbiAgICAgICAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW51bVZhbHVlcztcbiAgICB9XG4gICAgZ2V0IFZhbHVlcygpIHtcbiAgICAgICAgY29uc3QgZW51bVZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKSB7XG4gICAgICAgICAgICBlbnVtVmFsdWVzW3ZhbF0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudW1WYWx1ZXM7XG4gICAgfVxuICAgIGdldCBFbnVtKCkge1xuICAgICAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuX2RlZi52YWx1ZXMpIHtcbiAgICAgICAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW51bVZhbHVlcztcbiAgICB9XG4gICAgZXh0cmFjdCh2YWx1ZXMsIG5ld0RlZiA9IHRoaXMuX2RlZikge1xuICAgICAgICByZXR1cm4gWm9kRW51bS5jcmVhdGUodmFsdWVzLCB7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICAuLi5uZXdEZWYsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBleGNsdWRlKHZhbHVlcywgbmV3RGVmID0gdGhpcy5fZGVmKSB7XG4gICAgICAgIHJldHVybiBab2RFbnVtLmNyZWF0ZSh0aGlzLm9wdGlvbnMuZmlsdGVyKChvcHQpID0+ICF2YWx1ZXMuaW5jbHVkZXMob3B0KSksIHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIC4uLm5ld0RlZixcbiAgICAgICAgfSk7XG4gICAgfVxufVxuWm9kRW51bS5jcmVhdGUgPSBjcmVhdGVab2RFbnVtO1xuZXhwb3J0IGNsYXNzIFpvZE5hdGl2ZUVudW0gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgbmF0aXZlRW51bVZhbHVlcyA9IHV0aWwuZ2V0VmFsaWRFbnVtVmFsdWVzKHRoaXMuX2RlZi52YWx1ZXMpO1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5zdHJpbmcgJiYgY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUubnVtYmVyKSB7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHV0aWwub2JqZWN0VmFsdWVzKG5hdGl2ZUVudW1WYWx1ZXMpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWwuam9pblZhbHVlcyhleHBlY3RlZFZhbHVlcyksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlID0gbmV3IFNldCh1dGlsLmdldFZhbGlkRW51bVZhbHVlcyh0aGlzLl9kZWYudmFsdWVzKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZS5oYXMoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdXRpbC5vYmplY3RWYWx1ZXMobmF0aXZlRW51bVZhbHVlcyk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfZW51bV92YWx1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBleHBlY3RlZFZhbHVlcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbiAgICBnZXQgZW51bSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgfVxufVxuWm9kTmF0aXZlRW51bS5jcmVhdGUgPSAodmFsdWVzLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE5hdGl2ZUVudW0oe1xuICAgICAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYXRpdmVFbnVtLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFByb21pc2UgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUucHJvbWlzZSAmJiBjdHguY29tbW9uLmFzeW5jID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5wcm9taXNlLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvbWlzaWZpZWQgPSBjdHgucGFyc2VkVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5wcm9taXNlID8gY3R4LmRhdGEgOiBQcm9taXNlLnJlc29sdmUoY3R4LmRhdGEpO1xuICAgICAgICByZXR1cm4gT0socHJvbWlzaWZpZWQudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlLnBhcnNlQXN5bmMoZGF0YSwge1xuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIGVycm9yTWFwOiBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuWm9kUHJvbWlzZS5jcmVhdGUgPSAoc2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFByb21pc2Uoe1xuICAgICAgICB0eXBlOiBzY2hlbWEsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUHJvbWlzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RFZmZlY3RzIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgaW5uZXJUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYTtcbiAgICB9XG4gICAgc291cmNlVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWEuX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHNcbiAgICAgICAgICAgID8gdGhpcy5fZGVmLnNjaGVtYS5zb3VyY2VUeXBlKClcbiAgICAgICAgICAgIDogdGhpcy5fZGVmLnNjaGVtYTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGVmZmVjdCA9IHRoaXMuX2RlZi5lZmZlY3QgfHwgbnVsbDtcbiAgICAgICAgY29uc3QgY2hlY2tDdHggPSB7XG4gICAgICAgICAgICBhZGRJc3N1ZTogKGFyZykgPT4ge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwgYXJnKTtcbiAgICAgICAgICAgICAgICBpZiAoYXJnLmZhdGFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBwYXRoKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdHgucGF0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGNoZWNrQ3R4LmFkZElzc3VlID0gY2hlY2tDdHguYWRkSXNzdWUuYmluZChjaGVja0N0eCk7XG4gICAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gXCJwcmVwcm9jZXNzXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NlZCA9IGVmZmVjdC50cmFuc2Zvcm0oY3R4LmRhdGEsIGNoZWNrQ3R4KTtcbiAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwcm9jZXNzZWQpLnRoZW4oYXN5bmMgKHByb2Nlc3NlZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLnZhbHVlID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHByb2Nlc3NlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBESVJUWShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLnZhbHVlID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRElSVFkocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBwcm9jZXNzZWQsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBESVJUWShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZWZmZWN0LnR5cGUgPT09IFwicmVmaW5lbWVudFwiKSB7XG4gICAgICAgICAgICBjb25zdCBleGVjdXRlUmVmaW5lbWVudCA9IChhY2MpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlZmZlY3QucmVmaW5lbWVudChhY2MsIGNoZWNrQ3R4KTtcbiAgICAgICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFzeW5jIHJlZmluZW1lbnQgZW5jb3VudGVyZWQgZHVyaW5nIHN5bmNocm9ub3VzIHBhcnNlIG9wZXJhdGlvbi4gVXNlIC5wYXJzZUFzeW5jIGluc3RlYWQuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlubmVyID0gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgaWYgKGlubmVyLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gdmFsdWUgaXMgaWdub3JlZFxuICAgICAgICAgICAgICAgIGV4ZWN1dGVSZWZpbmVtZW50KGlubmVyLnZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlubmVyLnZhbHVlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VBc3luYyh7IGRhdGE6IGN0eC5kYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSkudGhlbigoaW5uZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleGVjdXRlUmVmaW5lbWVudChpbm5lci52YWx1ZSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlubmVyLnZhbHVlIH07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gXCJ0cmFuc2Zvcm1cIikge1xuICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZSA9IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKGJhc2UpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlZmZlY3QudHJhbnNmb3JtKGJhc2UudmFsdWUsIGNoZWNrQ3R4KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFzeW5jaHJvbm91cyB0cmFuc2Zvcm0gZW5jb3VudGVyZWQgZHVyaW5nIHN5bmNocm9ub3VzIHBhcnNlIG9wZXJhdGlvbi4gVXNlIC5wYXJzZUFzeW5jIGluc3RlYWQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogcmVzdWx0IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VBc3luYyh7IGRhdGE6IGN0eC5kYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSkudGhlbigoYmFzZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQoYmFzZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShlZmZlY3QudHJhbnNmb3JtKGJhc2UudmFsdWUsIGNoZWNrQ3R4KSkudGhlbigocmVzdWx0KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdXRpbC5hc3NlcnROZXZlcihlZmZlY3QpO1xuICAgIH1cbn1cblpvZEVmZmVjdHMuY3JlYXRlID0gKHNjaGVtYSwgZWZmZWN0LCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICBzY2hlbWEsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgZWZmZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuWm9kRWZmZWN0cy5jcmVhdGVXaXRoUHJlcHJvY2VzcyA9IChwcmVwcm9jZXNzLCBzY2hlbWEsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgZWZmZWN0OiB7IHR5cGU6IFwicHJlcHJvY2Vzc1wiLCB0cmFuc2Zvcm06IHByZXByb2Nlc3MgfSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IHsgWm9kRWZmZWN0cyBhcyBab2RUcmFuc2Zvcm1lciB9O1xuZXhwb3J0IGNsYXNzIFpvZE9wdGlvbmFsIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgPT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gT0sodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2UoaW5wdXQpO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cblpvZE9wdGlvbmFsLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9wdGlvbmFsKHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9wdGlvbmFsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZE51bGxhYmxlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgPT09IFpvZFBhcnNlZFR5cGUubnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIE9LKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kTnVsbGFibGUuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTnVsbGFibGUoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVsbGFibGUsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kRGVmYXVsdCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgbGV0IGRhdGEgPSBjdHguZGF0YTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlID09PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2RlZi5kZWZhdWx0VmFsdWUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2Uoe1xuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZW1vdmVEZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5ab2REZWZhdWx0LmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZERlZmF1bHQoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGVmYXVsdCxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiB0eXBlb2YgcGFyYW1zLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiA/IHBhcmFtcy5kZWZhdWx0IDogKCkgPT4gcGFyYW1zLmRlZmF1bHQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kQ2F0Y2ggZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIC8vIG5ld0N0eCBpcyB1c2VkIHRvIG5vdCBjb2xsZWN0IGlzc3VlcyBmcm9tIGlubmVyIHR5cGVzIGluIGN0eFxuICAgICAgICBjb25zdCBuZXdDdHggPSB7XG4gICAgICAgICAgICAuLi5jdHgsXG4gICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICAuLi5jdHguY29tbW9uLFxuICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZSh7XG4gICAgICAgICAgICBkYXRhOiBuZXdDdHguZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IG5ld0N0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiB7XG4gICAgICAgICAgICAgICAgLi4ubmV3Q3R4LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpc0FzeW5jKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcInZhbGlkXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcmVzdWx0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuX2RlZi5jYXRjaFZhbHVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgWm9kRXJyb3IobmV3Q3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IG5ld0N0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFwidmFsaWRcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiXG4gICAgICAgICAgICAgICAgICAgID8gcmVzdWx0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5fZGVmLmNhdGNoVmFsdWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgWm9kRXJyb3IobmV3Q3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBuZXdDdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZUNhdGNoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5ab2RDYXRjaC5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RDYXRjaCh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RDYXRjaCxcbiAgICAgICAgY2F0Y2hWYWx1ZTogdHlwZW9mIHBhcmFtcy5jYXRjaCA9PT0gXCJmdW5jdGlvblwiID8gcGFyYW1zLmNhdGNoIDogKCkgPT4gcGFyYW1zLmNhdGNoLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZE5hTiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm5hbikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5uYW4sXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG59XG5ab2ROYU4uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTmFOKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYU4sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgQlJBTkQgPSBTeW1ib2woXCJ6b2RfYnJhbmRcIik7XG5leHBvcnQgY2xhc3MgWm9kQnJhbmRlZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGN0eC5kYXRhO1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGUuX3BhcnNlKHtcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFpvZFBpcGVsaW5lIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVBc3luYyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpblJlc3VsdCA9IGF3YWl0IHRoaXMuX2RlZi5pbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKGluUmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYub3V0Ll9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGluUmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVBc3luYygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaW5SZXN1bHQgPSB0aGlzLl9kZWYuaW4uX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcImRpcnR5XCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpblJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vdXQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGluUmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShhLCBiKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kUGlwZWxpbmUoe1xuICAgICAgICAgICAgaW46IGEsXG4gICAgICAgICAgICBvdXQ6IGIsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFBpcGVsaW5lLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgWm9kUmVhZG9ubHkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2UoaW5wdXQpO1xuICAgICAgICBjb25zdCBmcmVlemUgPSAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzVmFsaWQoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnZhbHVlID0gT2JqZWN0LmZyZWV6ZShkYXRhLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaXNBc3luYyhyZXN1bHQpID8gcmVzdWx0LnRoZW4oKGRhdGEpID0+IGZyZWV6ZShkYXRhKSkgOiBmcmVlemUocmVzdWx0KTtcbiAgICB9XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5ab2RSZWFkb25seS5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RSZWFkb25seSh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWFkb25seSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICB6LmN1c3RvbSAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmZ1bmN0aW9uIGNsZWFuUGFyYW1zKHBhcmFtcywgZGF0YSkge1xuICAgIGNvbnN0IHAgPSB0eXBlb2YgcGFyYW1zID09PSBcImZ1bmN0aW9uXCIgPyBwYXJhbXMoZGF0YSkgOiB0eXBlb2YgcGFyYW1zID09PSBcInN0cmluZ1wiID8geyBtZXNzYWdlOiBwYXJhbXMgfSA6IHBhcmFtcztcbiAgICBjb25zdCBwMiA9IHR5cGVvZiBwID09PSBcInN0cmluZ1wiID8geyBtZXNzYWdlOiBwIH0gOiBwO1xuICAgIHJldHVybiBwMjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjdXN0b20oY2hlY2ssIF9wYXJhbXMgPSB7fSwgXG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKlxuICogUGFzcyBgZmF0YWxgIGludG8gdGhlIHBhcmFtcyBvYmplY3QgaW5zdGVhZDpcbiAqXG4gKiBgYGB0c1xuICogei5zdHJpbmcoKS5jdXN0b20oKHZhbCkgPT4gdmFsLmxlbmd0aCA+IDUsIHsgZmF0YWw6IGZhbHNlIH0pXG4gKiBgYGBcbiAqXG4gKi9cbmZhdGFsKSB7XG4gICAgaWYgKGNoZWNrKVxuICAgICAgICByZXR1cm4gWm9kQW55LmNyZWF0ZSgpLnN1cGVyUmVmaW5lKChkYXRhLCBjdHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBjaGVjayhkYXRhKTtcbiAgICAgICAgICAgIGlmIChyIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByLnRoZW4oKHIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSBjbGVhblBhcmFtcyhfcGFyYW1zLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IF9mYXRhbCA9IHBhcmFtcy5mYXRhbCA/PyBmYXRhbCA/PyB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmFkZElzc3VlKHsgY29kZTogXCJjdXN0b21cIiwgLi4ucGFyYW1zLCBmYXRhbDogX2ZhdGFsIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSBjbGVhblBhcmFtcyhfcGFyYW1zLCBkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBfZmF0YWwgPSBwYXJhbXMuZmF0YWwgPz8gZmF0YWwgPz8gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjdHguYWRkSXNzdWUoeyBjb2RlOiBcImN1c3RvbVwiLCAuLi5wYXJhbXMsIGZhdGFsOiBfZmF0YWwgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0pO1xuICAgIHJldHVybiBab2RBbnkuY3JlYXRlKCk7XG59XG5leHBvcnQgeyBab2RUeXBlIGFzIFNjaGVtYSwgWm9kVHlwZSBhcyBab2RTY2hlbWEgfTtcbmV4cG9ydCBjb25zdCBsYXRlID0ge1xuICAgIG9iamVjdDogWm9kT2JqZWN0LmxhenljcmVhdGUsXG59O1xuZXhwb3J0IHZhciBab2RGaXJzdFBhcnR5VHlwZUtpbmQ7XG4oZnVuY3Rpb24gKFpvZEZpcnN0UGFydHlUeXBlS2luZCkge1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFN0cmluZ1wiXSA9IFwiWm9kU3RyaW5nXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTnVtYmVyXCJdID0gXCJab2ROdW1iZXJcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROYU5cIl0gPSBcIlpvZE5hTlwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEJpZ0ludFwiXSA9IFwiWm9kQmlnSW50XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQm9vbGVhblwiXSA9IFwiWm9kQm9vbGVhblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZERhdGVcIl0gPSBcIlpvZERhdGVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RTeW1ib2xcIl0gPSBcIlpvZFN5bWJvbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFVuZGVmaW5lZFwiXSA9IFwiWm9kVW5kZWZpbmVkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTnVsbFwiXSA9IFwiWm9kTnVsbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEFueVwiXSA9IFwiWm9kQW55XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVW5rbm93blwiXSA9IFwiWm9kVW5rbm93blwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE5ldmVyXCJdID0gXCJab2ROZXZlclwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFZvaWRcIl0gPSBcIlpvZFZvaWRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RBcnJheVwiXSA9IFwiWm9kQXJyYXlcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RPYmplY3RcIl0gPSBcIlpvZE9iamVjdFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFVuaW9uXCJdID0gXCJab2RVbmlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZERpc2NyaW1pbmF0ZWRVbmlvblwiXSA9IFwiWm9kRGlzY3JpbWluYXRlZFVuaW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kSW50ZXJzZWN0aW9uXCJdID0gXCJab2RJbnRlcnNlY3Rpb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RUdXBsZVwiXSA9IFwiWm9kVHVwbGVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RSZWNvcmRcIl0gPSBcIlpvZFJlY29yZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE1hcFwiXSA9IFwiWm9kTWFwXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kU2V0XCJdID0gXCJab2RTZXRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RGdW5jdGlvblwiXSA9IFwiWm9kRnVuY3Rpb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RMYXp5XCJdID0gXCJab2RMYXp5XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTGl0ZXJhbFwiXSA9IFwiWm9kTGl0ZXJhbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEVudW1cIl0gPSBcIlpvZEVudW1cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RFZmZlY3RzXCJdID0gXCJab2RFZmZlY3RzXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTmF0aXZlRW51bVwiXSA9IFwiWm9kTmF0aXZlRW51bVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE9wdGlvbmFsXCJdID0gXCJab2RPcHRpb25hbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE51bGxhYmxlXCJdID0gXCJab2ROdWxsYWJsZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZERlZmF1bHRcIl0gPSBcIlpvZERlZmF1bHRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RDYXRjaFwiXSA9IFwiWm9kQ2F0Y2hcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RQcm9taXNlXCJdID0gXCJab2RQcm9taXNlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQnJhbmRlZFwiXSA9IFwiWm9kQnJhbmRlZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFBpcGVsaW5lXCJdID0gXCJab2RQaXBlbGluZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFJlYWRvbmx5XCJdID0gXCJab2RSZWFkb25seVwiO1xufSkoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIHx8IChab2RGaXJzdFBhcnR5VHlwZUtpbmQgPSB7fSkpO1xuLy8gcmVxdWlyZXMgVFMgNC40K1xuY2xhc3MgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKC4uLl8pIHsgfVxufVxuY29uc3QgaW5zdGFuY2VPZlR5cGUgPSAoXG4vLyBjb25zdCBpbnN0YW5jZU9mVHlwZSA9IDxUIGV4dGVuZHMgbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55PihcbmNscywgcGFyYW1zID0ge1xuICAgIG1lc3NhZ2U6IGBJbnB1dCBub3QgaW5zdGFuY2Ugb2YgJHtjbHMubmFtZX1gLFxufSkgPT4gY3VzdG9tKChkYXRhKSA9PiBkYXRhIGluc3RhbmNlb2YgY2xzLCBwYXJhbXMpO1xuY29uc3Qgc3RyaW5nVHlwZSA9IFpvZFN0cmluZy5jcmVhdGU7XG5jb25zdCBudW1iZXJUeXBlID0gWm9kTnVtYmVyLmNyZWF0ZTtcbmNvbnN0IG5hblR5cGUgPSBab2ROYU4uY3JlYXRlO1xuY29uc3QgYmlnSW50VHlwZSA9IFpvZEJpZ0ludC5jcmVhdGU7XG5jb25zdCBib29sZWFuVHlwZSA9IFpvZEJvb2xlYW4uY3JlYXRlO1xuY29uc3QgZGF0ZVR5cGUgPSBab2REYXRlLmNyZWF0ZTtcbmNvbnN0IHN5bWJvbFR5cGUgPSBab2RTeW1ib2wuY3JlYXRlO1xuY29uc3QgdW5kZWZpbmVkVHlwZSA9IFpvZFVuZGVmaW5lZC5jcmVhdGU7XG5jb25zdCBudWxsVHlwZSA9IFpvZE51bGwuY3JlYXRlO1xuY29uc3QgYW55VHlwZSA9IFpvZEFueS5jcmVhdGU7XG5jb25zdCB1bmtub3duVHlwZSA9IFpvZFVua25vd24uY3JlYXRlO1xuY29uc3QgbmV2ZXJUeXBlID0gWm9kTmV2ZXIuY3JlYXRlO1xuY29uc3Qgdm9pZFR5cGUgPSBab2RWb2lkLmNyZWF0ZTtcbmNvbnN0IGFycmF5VHlwZSA9IFpvZEFycmF5LmNyZWF0ZTtcbmNvbnN0IG9iamVjdFR5cGUgPSBab2RPYmplY3QuY3JlYXRlO1xuY29uc3Qgc3RyaWN0T2JqZWN0VHlwZSA9IFpvZE9iamVjdC5zdHJpY3RDcmVhdGU7XG5jb25zdCB1bmlvblR5cGUgPSBab2RVbmlvbi5jcmVhdGU7XG5jb25zdCBkaXNjcmltaW5hdGVkVW5pb25UeXBlID0gWm9kRGlzY3JpbWluYXRlZFVuaW9uLmNyZWF0ZTtcbmNvbnN0IGludGVyc2VjdGlvblR5cGUgPSBab2RJbnRlcnNlY3Rpb24uY3JlYXRlO1xuY29uc3QgdHVwbGVUeXBlID0gWm9kVHVwbGUuY3JlYXRlO1xuY29uc3QgcmVjb3JkVHlwZSA9IFpvZFJlY29yZC5jcmVhdGU7XG5jb25zdCBtYXBUeXBlID0gWm9kTWFwLmNyZWF0ZTtcbmNvbnN0IHNldFR5cGUgPSBab2RTZXQuY3JlYXRlO1xuY29uc3QgZnVuY3Rpb25UeXBlID0gWm9kRnVuY3Rpb24uY3JlYXRlO1xuY29uc3QgbGF6eVR5cGUgPSBab2RMYXp5LmNyZWF0ZTtcbmNvbnN0IGxpdGVyYWxUeXBlID0gWm9kTGl0ZXJhbC5jcmVhdGU7XG5jb25zdCBlbnVtVHlwZSA9IFpvZEVudW0uY3JlYXRlO1xuY29uc3QgbmF0aXZlRW51bVR5cGUgPSBab2ROYXRpdmVFbnVtLmNyZWF0ZTtcbmNvbnN0IHByb21pc2VUeXBlID0gWm9kUHJvbWlzZS5jcmVhdGU7XG5jb25zdCBlZmZlY3RzVHlwZSA9IFpvZEVmZmVjdHMuY3JlYXRlO1xuY29uc3Qgb3B0aW9uYWxUeXBlID0gWm9kT3B0aW9uYWwuY3JlYXRlO1xuY29uc3QgbnVsbGFibGVUeXBlID0gWm9kTnVsbGFibGUuY3JlYXRlO1xuY29uc3QgcHJlcHJvY2Vzc1R5cGUgPSBab2RFZmZlY3RzLmNyZWF0ZVdpdGhQcmVwcm9jZXNzO1xuY29uc3QgcGlwZWxpbmVUeXBlID0gWm9kUGlwZWxpbmUuY3JlYXRlO1xuY29uc3Qgb3N0cmluZyA9ICgpID0+IHN0cmluZ1R5cGUoKS5vcHRpb25hbCgpO1xuY29uc3Qgb251bWJlciA9ICgpID0+IG51bWJlclR5cGUoKS5vcHRpb25hbCgpO1xuY29uc3Qgb2Jvb2xlYW4gPSAoKSA9PiBib29sZWFuVHlwZSgpLm9wdGlvbmFsKCk7XG5leHBvcnQgY29uc3QgY29lcmNlID0ge1xuICAgIHN0cmluZzogKChhcmcpID0+IFpvZFN0cmluZy5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSksXG4gICAgbnVtYmVyOiAoKGFyZykgPT4gWm9kTnVtYmVyLmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbiAgICBib29sZWFuOiAoKGFyZykgPT4gWm9kQm9vbGVhbi5jcmVhdGUoe1xuICAgICAgICAuLi5hcmcsXG4gICAgICAgIGNvZXJjZTogdHJ1ZSxcbiAgICB9KSksXG4gICAgYmlnaW50OiAoKGFyZykgPT4gWm9kQmlnSW50LmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbiAgICBkYXRlOiAoKGFyZykgPT4gWm9kRGF0ZS5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSksXG59O1xuZXhwb3J0IHsgYW55VHlwZSBhcyBhbnksIGFycmF5VHlwZSBhcyBhcnJheSwgYmlnSW50VHlwZSBhcyBiaWdpbnQsIGJvb2xlYW5UeXBlIGFzIGJvb2xlYW4sIGRhdGVUeXBlIGFzIGRhdGUsIGRpc2NyaW1pbmF0ZWRVbmlvblR5cGUgYXMgZGlzY3JpbWluYXRlZFVuaW9uLCBlZmZlY3RzVHlwZSBhcyBlZmZlY3QsIGVudW1UeXBlIGFzIGVudW0sIGZ1bmN0aW9uVHlwZSBhcyBmdW5jdGlvbiwgaW5zdGFuY2VPZlR5cGUgYXMgaW5zdGFuY2VvZiwgaW50ZXJzZWN0aW9uVHlwZSBhcyBpbnRlcnNlY3Rpb24sIGxhenlUeXBlIGFzIGxhenksIGxpdGVyYWxUeXBlIGFzIGxpdGVyYWwsIG1hcFR5cGUgYXMgbWFwLCBuYW5UeXBlIGFzIG5hbiwgbmF0aXZlRW51bVR5cGUgYXMgbmF0aXZlRW51bSwgbmV2ZXJUeXBlIGFzIG5ldmVyLCBudWxsVHlwZSBhcyBudWxsLCBudWxsYWJsZVR5cGUgYXMgbnVsbGFibGUsIG51bWJlclR5cGUgYXMgbnVtYmVyLCBvYmplY3RUeXBlIGFzIG9iamVjdCwgb2Jvb2xlYW4sIG9udW1iZXIsIG9wdGlvbmFsVHlwZSBhcyBvcHRpb25hbCwgb3N0cmluZywgcGlwZWxpbmVUeXBlIGFzIHBpcGVsaW5lLCBwcmVwcm9jZXNzVHlwZSBhcyBwcmVwcm9jZXNzLCBwcm9taXNlVHlwZSBhcyBwcm9taXNlLCByZWNvcmRUeXBlIGFzIHJlY29yZCwgc2V0VHlwZSBhcyBzZXQsIHN0cmljdE9iamVjdFR5cGUgYXMgc3RyaWN0T2JqZWN0LCBzdHJpbmdUeXBlIGFzIHN0cmluZywgc3ltYm9sVHlwZSBhcyBzeW1ib2wsIGVmZmVjdHNUeXBlIGFzIHRyYW5zZm9ybWVyLCB0dXBsZVR5cGUgYXMgdHVwbGUsIHVuZGVmaW5lZFR5cGUgYXMgdW5kZWZpbmVkLCB1bmlvblR5cGUgYXMgdW5pb24sIHVua25vd25UeXBlIGFzIHVua25vd24sIHZvaWRUeXBlIGFzIHZvaWQsIH07XG5leHBvcnQgY29uc3QgTkVWRVIgPSBJTlZBTElEO1xuIiwgImV4cG9ydCBmdW5jdGlvbiBjb21iaW5lSGVhZGVycyhcbiAgLi4uaGVhZGVyczogQXJyYXk8UmVjb3JkPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPiB8IHVuZGVmaW5lZD5cbik6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuICByZXR1cm4gaGVhZGVycy5yZWR1Y2UoXG4gICAgKGNvbWJpbmVkSGVhZGVycywgY3VycmVudEhlYWRlcnMpID0+ICh7XG4gICAgICAuLi5jb21iaW5lZEhlYWRlcnMsXG4gICAgICAuLi4oY3VycmVudEhlYWRlcnMgPz8ge30pLFxuICAgIH0pLFxuICAgIHt9LFxuICApIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD47XG59XG4iLCAiLyoqXG4gKiBDb252ZXJ0cyBhbiBBc3luY0l0ZXJhdG9yIHRvIGEgUmVhZGFibGVTdHJlYW0uXG4gKlxuICogQHRlbXBsYXRlIFQgLSBUaGUgdHlwZSBvZiBlbGVtZW50cyBwcm9kdWNlZCBieSB0aGUgQXN5bmNJdGVyYXRvci5cbiAqIEBwYXJhbSB7IDxUPn0gaXRlcmF0b3IgLSBUaGUgQXN5bmNJdGVyYXRvciB0byBjb252ZXJ0LlxuICogQHJldHVybnMge1JlYWRhYmxlU3RyZWFtPFQ+fSAtIEEgUmVhZGFibGVTdHJlYW0gdGhhdCBwcm92aWRlcyB0aGUgc2FtZSBkYXRhIGFzIHRoZSBBc3luY0l0ZXJhdG9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydEFzeW5jSXRlcmF0b3JUb1JlYWRhYmxlU3RyZWFtPFQ+KFxuICBpdGVyYXRvcjogQXN5bmNJdGVyYXRvcjxUPixcbik6IFJlYWRhYmxlU3RyZWFtPFQ+IHtcbiAgcmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbTxUPih7XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGNvbnN1bWVyIHdhbnRzIHRvIHB1bGwgbW9yZSBkYXRhIGZyb20gdGhlIHN0cmVhbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxUPn0gY29udHJvbGxlciAtIFRoZSBjb250cm9sbGVyIHRvIGVucXVldWUgZGF0YSBpbnRvIHRoZSBzdHJlYW0uXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAgICovXG4gICAgYXN5bmMgcHVsbChjb250cm9sbGVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZXJyb3IoZXJyb3IpO1xuICAgICAgfVxuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGNvbnN1bWVyIGNhbmNlbHMgdGhlIHN0cmVhbS5cbiAgICAgKi9cbiAgICBjYW5jZWwoKSB7fSxcbiAgfSk7XG59XG4iLCAiLyoqXG4gKiBDcmVhdGVzIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIGFmdGVyIGEgc3BlY2lmaWVkIGRlbGF5XG4gKiBAcGFyYW0gZGVsYXlJbk1zIC0gVGhlIGRlbGF5IGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy4gSWYgbnVsbCBvciB1bmRlZmluZWQsIHJlc29sdmVzIGltbWVkaWF0ZWx5LlxuICogQHBhcmFtIHNpZ25hbCAtIE9wdGlvbmFsIEFib3J0U2lnbmFsIHRvIGNhbmNlbCB0aGUgZGVsYXlcbiAqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIGFmdGVyIHRoZSBzcGVjaWZpZWQgZGVsYXlcbiAqIEB0aHJvd3Mge0RPTUV4Y2VwdGlvbn0gV2hlbiB0aGUgc2lnbmFsIGlzIGFib3J0ZWRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGF5KFxuICBkZWxheUluTXM/OiBudW1iZXIgfCBudWxsLFxuICBvcHRpb25zPzoge1xuICAgIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG4gIH0sXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKGRlbGF5SW5NcyA9PSBudWxsKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgY29uc3Qgc2lnbmFsID0gb3B0aW9ucz8uYWJvcnRTaWduYWw7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBpZiAoc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICByZWplY3QoY3JlYXRlQWJvcnRFcnJvcigpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNsZWFudXAoKTtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9LCBkZWxheUluTXMpO1xuXG4gICAgY29uc3QgY2xlYW51cCA9ICgpID0+IHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgc2lnbmFsPy5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uQWJvcnQpO1xuICAgIH07XG5cbiAgICBjb25zdCBvbkFib3J0ID0gKCkgPT4ge1xuICAgICAgY2xlYW51cCgpO1xuICAgICAgcmVqZWN0KGNyZWF0ZUFib3J0RXJyb3IoKSk7XG4gICAgfTtcblxuICAgIHNpZ25hbD8uYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbkFib3J0KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUFib3J0RXJyb3IoKTogRE9NRXhjZXB0aW9uIHtcbiAgcmV0dXJuIG5ldyBET01FeGNlcHRpb24oJ0RlbGF5IHdhcyBhYm9ydGVkJywgJ0Fib3J0RXJyb3InKTtcbn1cbiIsICIvKipcbkV4dHJhY3RzIHRoZSBoZWFkZXJzIGZyb20gYSByZXNwb25zZSBvYmplY3QgYW5kIHJldHVybnMgdGhlbSBhcyBhIGtleS12YWx1ZSBvYmplY3QuXG5cbkBwYXJhbSByZXNwb25zZSAtIFRoZSByZXNwb25zZSBvYmplY3QgdG8gZXh0cmFjdCBoZWFkZXJzIGZyb20uXG5AcmV0dXJucyBUaGUgaGVhZGVycyBhcyBhIGtleS12YWx1ZSBvYmplY3QuXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RSZXNwb25zZUhlYWRlcnMocmVzcG9uc2U6IFJlc3BvbnNlKSB7XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXM8c3RyaW5nPihbLi4ucmVzcG9uc2UuaGVhZGVyc10pO1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBnZXRSdW50aW1lRW52aXJvbm1lbnRVc2VyQWdlbnQoXG4gIGdsb2JhbFRoaXNBbnk6IGFueSA9IGdsb2JhbFRoaXMgYXMgYW55LFxuKTogc3RyaW5nIHtcbiAgLy8gQnJvd3NlcnNcbiAgaWYgKGdsb2JhbFRoaXNBbnkud2luZG93KSB7XG4gICAgcmV0dXJuIGBydW50aW1lL2Jyb3dzZXJgO1xuICB9XG5cbiAgLy8gQ2xvdWRmbGFyZSBXb3JrZXJzIC8gRGVubyAvIEJ1biAvIE5vZGUuanMgPj0gMjEuMVxuICBpZiAoZ2xvYmFsVGhpc0FueS5uYXZpZ2F0b3I/LnVzZXJBZ2VudCkge1xuICAgIHJldHVybiBgcnVudGltZS8ke2dsb2JhbFRoaXNBbnkubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpfWA7XG4gIH1cblxuICAvLyBOb2Rlcy5qcyA8IDIxLjFcbiAgaWYgKGdsb2JhbFRoaXNBbnkucHJvY2Vzcz8udmVyc2lvbnM/Lm5vZGUpIHtcbiAgICByZXR1cm4gYHJ1bnRpbWUvbm9kZS5qcy8ke2dsb2JhbFRoaXNBbnkucHJvY2Vzcy52ZXJzaW9uLnN1YnN0cmluZygwKX1gO1xuICB9XG5cbiAgaWYgKGdsb2JhbFRoaXNBbnkuRWRnZVJ1bnRpbWUpIHtcbiAgICByZXR1cm4gYHJ1bnRpbWUvdmVyY2VsLWVkZ2VgO1xuICB9XG5cbiAgcmV0dXJuICdydW50aW1lL3Vua25vd24nO1xufVxuIiwgIi8qKlxuICogUmVtb3ZlcyBlbnRyaWVzIGZyb20gYSByZWNvcmQgd2hlcmUgdGhlIHZhbHVlIGlzIG51bGwgb3IgdW5kZWZpbmVkLlxuICogQHBhcmFtIHJlY29yZCAtIFRoZSBpbnB1dCBvYmplY3Qgd2hvc2UgZW50cmllcyBtYXkgYmUgbnVsbCBvciB1bmRlZmluZWQuXG4gKiBAcmV0dXJucyBBIG5ldyBvYmplY3QgY29udGFpbmluZyBvbmx5IGVudHJpZXMgd2l0aCBub24tbnVsbCBhbmQgbm9uLXVuZGVmaW5lZCB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVVbmRlZmluZWRFbnRyaWVzPFQ+KFxuICByZWNvcmQ6IFJlY29yZDxzdHJpbmcsIFQgfCB1bmRlZmluZWQ+LFxuKTogUmVjb3JkPHN0cmluZywgVD4ge1xuICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgIE9iamVjdC5lbnRyaWVzKHJlY29yZCkuZmlsdGVyKChbX2tleSwgdmFsdWVdKSA9PiB2YWx1ZSAhPSBudWxsKSxcbiAgKSBhcyBSZWNvcmQ8c3RyaW5nLCBUPjtcbn1cbiIsICJpbXBvcnQgeyByZW1vdmVVbmRlZmluZWRFbnRyaWVzIH0gZnJvbSAnLi9yZW1vdmUtdW5kZWZpbmVkLWVudHJpZXMnO1xuXG4vKipcbiAqIEFwcGVuZHMgc3VmZml4IHBhcnRzIHRvIHRoZSBgdXNlci1hZ2VudGAgaGVhZGVyLlxuICogSWYgYSBgdXNlci1hZ2VudGAgaGVhZGVyIGFscmVhZHkgZXhpc3RzLCB0aGUgc3VmZml4IHBhcnRzIGFyZSBhcHBlbmRlZCB0byBpdC5cbiAqIElmIG5vIGB1c2VyLWFnZW50YCBoZWFkZXIgZXhpc3RzLCBhIG5ldyBvbmUgaXMgY3JlYXRlZCB3aXRoIHRoZSBzdWZmaXggcGFydHMuXG4gKiBBdXRvbWF0aWNhbGx5IHJlbW92ZXMgdW5kZWZpbmVkIGVudHJpZXMgZnJvbSB0aGUgaGVhZGVycy5cbiAqXG4gKiBAcGFyYW0gaGVhZGVycyAtIFRoZSBvcmlnaW5hbCBoZWFkZXJzLlxuICogQHBhcmFtIHVzZXJBZ2VudFN1ZmZpeFBhcnRzIC0gVGhlIHBhcnRzIHRvIGFwcGVuZCB0byB0aGUgYHVzZXItYWdlbnRgIGhlYWRlci5cbiAqIEByZXR1cm5zIFRoZSBuZXcgaGVhZGVycyB3aXRoIHRoZSBgdXNlci1hZ2VudGAgaGVhZGVyIHNldCBvciB1cGRhdGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd2l0aFVzZXJBZ2VudFN1ZmZpeChcbiAgaGVhZGVyczogSGVhZGVyc0luaXQgfCBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCB1bmRlZmluZWQ+IHwgdW5kZWZpbmVkLFxuICAuLi51c2VyQWdlbnRTdWZmaXhQYXJ0czogc3RyaW5nW11cbik6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4ge1xuICBjb25zdCBjbGVhbmVkSGVhZGVycyA9IHJlbW92ZVVuZGVmaW5lZEVudHJpZXMoXG4gICAgKGhlYWRlcnMgYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPikgPz8ge30sXG4gICk7XG4gIGNvbnN0IG5vcm1hbGl6ZWRIZWFkZXJzID0gbmV3IEhlYWRlcnMoY2xlYW5lZEhlYWRlcnMpO1xuXG4gIGNvbnN0IGN1cnJlbnRVc2VyQWdlbnRIZWFkZXIgPSBub3JtYWxpemVkSGVhZGVycy5nZXQoJ3VzZXItYWdlbnQnKSB8fCAnJztcblxuICBub3JtYWxpemVkSGVhZGVycy5zZXQoXG4gICAgJ3VzZXItYWdlbnQnLFxuICAgIFtjdXJyZW50VXNlckFnZW50SGVhZGVyLCAuLi51c2VyQWdlbnRTdWZmaXhQYXJ0c10uZmlsdGVyKEJvb2xlYW4pLmpvaW4oJyAnKSxcbiAgKTtcblxuICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKG5vcm1hbGl6ZWRIZWFkZXJzKTtcbn1cbiIsICJpbXBvcnQgeyBJbnZhbGlkQXJndW1lbnRFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG4vKipcbkNyZWF0ZXMgYW4gSUQgZ2VuZXJhdG9yLlxuVGhlIHRvdGFsIGxlbmd0aCBvZiB0aGUgSUQgaXMgdGhlIHN1bSBvZiB0aGUgcHJlZml4LCBzZXBhcmF0b3IsIGFuZCByYW5kb20gcGFydCBsZW5ndGguXG5Ob3QgY3J5cHRvZ3JhcGhpY2FsbHkgc2VjdXJlLlxuXG5AcGFyYW0gYWxwaGFiZXQgLSBUaGUgYWxwaGFiZXQgdG8gdXNlIGZvciB0aGUgSUQuIERlZmF1bHQ6ICcwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eicuXG5AcGFyYW0gcHJlZml4IC0gVGhlIHByZWZpeCBvZiB0aGUgSUQgdG8gZ2VuZXJhdGUuIE9wdGlvbmFsLlxuQHBhcmFtIHNlcGFyYXRvciAtIFRoZSBzZXBhcmF0b3IgYmV0d2VlbiB0aGUgcHJlZml4IGFuZCB0aGUgcmFuZG9tIHBhcnQgb2YgdGhlIElELiBEZWZhdWx0OiAnLScuXG5AcGFyYW0gc2l6ZSAtIFRoZSBzaXplIG9mIHRoZSByYW5kb20gcGFydCBvZiB0aGUgSUQgdG8gZ2VuZXJhdGUuIERlZmF1bHQ6IDE2LlxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlSWRHZW5lcmF0b3IgPSAoe1xuICBwcmVmaXgsXG4gIHNpemUgPSAxNixcbiAgYWxwaGFiZXQgPSAnMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonLFxuICBzZXBhcmF0b3IgPSAnLScsXG59OiB7XG4gIHByZWZpeD86IHN0cmluZztcbiAgc2VwYXJhdG9yPzogc3RyaW5nO1xuICBzaXplPzogbnVtYmVyO1xuICBhbHBoYWJldD86IHN0cmluZztcbn0gPSB7fSk6IElkR2VuZXJhdG9yID0+IHtcbiAgY29uc3QgZ2VuZXJhdG9yID0gKCkgPT4ge1xuICAgIGNvbnN0IGFscGhhYmV0TGVuZ3RoID0gYWxwaGFiZXQubGVuZ3RoO1xuICAgIGNvbnN0IGNoYXJzID0gbmV3IEFycmF5KHNpemUpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICBjaGFyc1tpXSA9IGFscGhhYmV0WyhNYXRoLnJhbmRvbSgpICogYWxwaGFiZXRMZW5ndGgpIHwgMF07XG4gICAgfVxuICAgIHJldHVybiBjaGFycy5qb2luKCcnKTtcbiAgfTtcblxuICBpZiAocHJlZml4ID09IG51bGwpIHtcbiAgICByZXR1cm4gZ2VuZXJhdG9yO1xuICB9XG5cbiAgLy8gY2hlY2sgdGhhdCB0aGUgcHJlZml4IGlzIG5vdCBwYXJ0IG9mIHRoZSBhbHBoYWJldCAob3RoZXJ3aXNlIHByZWZpeCBjaGVja2luZyBjYW4gZmFpbCByYW5kb21seSlcbiAgaWYgKGFscGhhYmV0LmluY2x1ZGVzKHNlcGFyYXRvcikpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgYXJndW1lbnQ6ICdzZXBhcmF0b3InLFxuICAgICAgbWVzc2FnZTogYFRoZSBzZXBhcmF0b3IgXCIke3NlcGFyYXRvcn1cIiBtdXN0IG5vdCBiZSBwYXJ0IG9mIHRoZSBhbHBoYWJldCBcIiR7YWxwaGFiZXR9XCIuYCxcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiAoKSA9PiBgJHtwcmVmaXh9JHtzZXBhcmF0b3J9JHtnZW5lcmF0b3IoKX1gO1xufTtcblxuLyoqXG5BIGZ1bmN0aW9uIHRoYXQgZ2VuZXJhdGVzIGFuIElELlxuICovXG5leHBvcnQgdHlwZSBJZEdlbmVyYXRvciA9ICgpID0+IHN0cmluZztcblxuLyoqXG5HZW5lcmF0ZXMgYSAxNi1jaGFyYWN0ZXIgcmFuZG9tIHN0cmluZyB0byB1c2UgZm9yIElEcy5cbk5vdCBjcnlwdG9ncmFwaGljYWxseSBzZWN1cmUuXG4gKi9cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUlkID0gY3JlYXRlSWRHZW5lcmF0b3IoKTtcbiIsICJleHBvcnQgZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKGVycm9yOiB1bmtub3duIHwgdW5kZWZpbmVkKSB7XG4gIGlmIChlcnJvciA9PSBudWxsKSB7XG4gICAgcmV0dXJuICd1bmtub3duIGVycm9yJztcbiAgfVxuXG4gIGlmICh0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG5cbiAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3IubWVzc2FnZTtcbiAgfVxuXG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShlcnJvcik7XG59XG4iLCAiaW1wb3J0IHsgQVBJQ2FsbEVycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBleHRyYWN0UmVzcG9uc2VIZWFkZXJzIH0gZnJvbSAnLi9leHRyYWN0LXJlc3BvbnNlLWhlYWRlcnMnO1xuaW1wb3J0IHsgRmV0Y2hGdW5jdGlvbiB9IGZyb20gJy4vZmV0Y2gtZnVuY3Rpb24nO1xuaW1wb3J0IHsgaGFuZGxlRmV0Y2hFcnJvciB9IGZyb20gJy4vaGFuZGxlLWZldGNoLWVycm9yJztcbmltcG9ydCB7IGlzQWJvcnRFcnJvciB9IGZyb20gJy4vaXMtYWJvcnQtZXJyb3InO1xuaW1wb3J0IHsgUmVzcG9uc2VIYW5kbGVyIH0gZnJvbSAnLi9yZXNwb25zZS1oYW5kbGVyJztcbmltcG9ydCB7IGdldFJ1bnRpbWVFbnZpcm9ubWVudFVzZXJBZ2VudCB9IGZyb20gJy4vZ2V0LXJ1bnRpbWUtZW52aXJvbm1lbnQtdXNlci1hZ2VudCc7XG5pbXBvcnQgeyB3aXRoVXNlckFnZW50U3VmZml4IH0gZnJvbSAnLi93aXRoLXVzZXItYWdlbnQtc3VmZml4JztcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tICcuL3ZlcnNpb24nO1xuXG4vLyB1c2UgZnVuY3Rpb24gdG8gYWxsb3cgZm9yIG1vY2tpbmcgaW4gdGVzdHM6XG5jb25zdCBnZXRPcmlnaW5hbEZldGNoID0gKCkgPT4gZ2xvYmFsVGhpcy5mZXRjaDtcblxuZXhwb3J0IGNvbnN0IGdldEZyb21BcGkgPSBhc3luYyA8VD4oe1xuICB1cmwsXG4gIGhlYWRlcnMgPSB7fSxcbiAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcixcbiAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICBhYm9ydFNpZ25hbCxcbiAgZmV0Y2ggPSBnZXRPcmlnaW5hbEZldGNoKCksXG59OiB7XG4gIHVybDogc3RyaW5nO1xuICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPjtcbiAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyOiBSZXNwb25zZUhhbmRsZXI8RXJyb3I+O1xuICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyOiBSZXNwb25zZUhhbmRsZXI8VD47XG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG4gIGZldGNoPzogRmV0Y2hGdW5jdGlvbjtcbn0pID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHdpdGhVc2VyQWdlbnRTdWZmaXgoXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIGBhaS1zZGsvcHJvdmlkZXItdXRpbHMvJHtWRVJTSU9OfWAsXG4gICAgICAgIGdldFJ1bnRpbWVFbnZpcm9ubWVudFVzZXJBZ2VudCgpLFxuICAgICAgKSxcbiAgICAgIHNpZ25hbDogYWJvcnRTaWduYWwsXG4gICAgfSk7XG5cbiAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGxldCBlcnJvckluZm9ybWF0aW9uOiB7XG4gICAgICAgIHZhbHVlOiBFcnJvcjtcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB8IHVuZGVmaW5lZDtcbiAgICAgIH07XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGVycm9ySW5mb3JtYXRpb24gPSBhd2FpdCBmYWlsZWRSZXNwb25zZUhhbmRsZXIoe1xuICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgIHVybCxcbiAgICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczoge30sXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGlzQWJvcnRFcnJvcihlcnJvcikgfHwgQVBJQ2FsbEVycm9yLmlzSW5zdGFuY2UoZXJyb3IpKSB7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgQVBJQ2FsbEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHByb2Nlc3MgZXJyb3IgcmVzcG9uc2UnLFxuICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczoge30sXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvckluZm9ybWF0aW9uLnZhbHVlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcih7XG4gICAgICAgIHJlc3BvbnNlLFxuICAgICAgICB1cmwsXG4gICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiB7fSxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBpZiAoaXNBYm9ydEVycm9yKGVycm9yKSB8fCBBUElDYWxsRXJyb3IuaXNJbnN0YW5jZShlcnJvcikpIHtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgQVBJQ2FsbEVycm9yKHtcbiAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBwcm9jZXNzIHN1Y2Nlc3NmdWwgcmVzcG9uc2UnLFxuICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgdXJsLFxuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiB7fSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBoYW5kbGVGZXRjaEVycm9yKHsgZXJyb3IsIHVybCwgcmVxdWVzdEJvZHlWYWx1ZXM6IHt9IH0pO1xuICB9XG59O1xuIiwgImltcG9ydCB7IEFQSUNhbGxFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgaXNBYm9ydEVycm9yIH0gZnJvbSAnLi9pcy1hYm9ydC1lcnJvcic7XG5cbmNvbnN0IEZFVENIX0ZBSUxFRF9FUlJPUl9NRVNTQUdFUyA9IFsnZmV0Y2ggZmFpbGVkJywgJ2ZhaWxlZCB0byBmZXRjaCddO1xuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlRmV0Y2hFcnJvcih7XG4gIGVycm9yLFxuICB1cmwsXG4gIHJlcXVlc3RCb2R5VmFsdWVzLFxufToge1xuICBlcnJvcjogdW5rbm93bjtcbiAgdXJsOiBzdHJpbmc7XG4gIHJlcXVlc3RCb2R5VmFsdWVzOiB1bmtub3duO1xufSkge1xuICBpZiAoaXNBYm9ydEVycm9yKGVycm9yKSkge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuXG4gIC8vIHVud3JhcCBvcmlnaW5hbCBlcnJvciB3aGVuIGZldGNoIGZhaWxlZCAoZm9yIGVhc2llciBkZWJ1Z2dpbmcpOlxuICBpZiAoXG4gICAgZXJyb3IgaW5zdGFuY2VvZiBUeXBlRXJyb3IgJiZcbiAgICBGRVRDSF9GQUlMRURfRVJST1JfTUVTU0FHRVMuaW5jbHVkZXMoZXJyb3IubWVzc2FnZS50b0xvd2VyQ2FzZSgpKVxuICApIHtcbiAgICBjb25zdCBjYXVzZSA9IChlcnJvciBhcyBhbnkpLmNhdXNlO1xuXG4gICAgaWYgKGNhdXNlICE9IG51bGwpIHtcbiAgICAgIC8vIEZhaWxlZCB0byBjb25uZWN0IHRvIHNlcnZlcjpcbiAgICAgIHJldHVybiBuZXcgQVBJQ2FsbEVycm9yKHtcbiAgICAgICAgbWVzc2FnZTogYENhbm5vdCBjb25uZWN0IHRvIEFQSTogJHtjYXVzZS5tZXNzYWdlfWAsXG4gICAgICAgIGNhdXNlLFxuICAgICAgICB1cmwsXG4gICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzLFxuICAgICAgICBpc1JldHJ5YWJsZTogdHJ1ZSwgLy8gcmV0cnkgd2hlbiBuZXR3b3JrIGVycm9yXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZXJyb3I7XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGlzQWJvcnRFcnJvcihlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEVycm9yIHtcbiAgcmV0dXJuIChcbiAgICAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciB8fCBlcnJvciBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbikgJiZcbiAgICAoZXJyb3IubmFtZSA9PT0gJ0Fib3J0RXJyb3InIHx8XG4gICAgICBlcnJvci5uYW1lID09PSAnUmVzcG9uc2VBYm9ydGVkJyB8fCAvLyBOZXh0LmpzXG4gICAgICBlcnJvci5uYW1lID09PSAnVGltZW91dEVycm9yJylcbiAgKTtcbn1cbiIsICIvLyBWZXJzaW9uIHN0cmluZyBvZiB0aGlzIHBhY2thZ2UgaW5qZWN0ZWQgYXQgYnVpbGQgdGltZS5cbmRlY2xhcmUgY29uc3QgX19QQUNLQUdFX1ZFUlNJT05fXzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuZXhwb3J0IGNvbnN0IFZFUlNJT046IHN0cmluZyA9XG4gIHR5cGVvZiBfX1BBQ0tBR0VfVkVSU0lPTl9fICE9PSAndW5kZWZpbmVkJ1xuICAgID8gX19QQUNLQUdFX1ZFUlNJT05fX1xuICAgIDogJzAuMC4wLXRlc3QnO1xuIiwgImltcG9ydCB7XG4gIEpTT05TY2hlbWE3LFxuICBMYW5ndWFnZU1vZGVsVjJNZXNzYWdlLFxuICBMYW5ndWFnZU1vZGVsVjJQcm9tcHQsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5jb25zdCBERUZBVUxUX1NDSEVNQV9QUkVGSVggPSAnSlNPTiBzY2hlbWE6JztcbmNvbnN0IERFRkFVTFRfU0NIRU1BX1NVRkZJWCA9XG4gICdZb3UgTVVTVCBhbnN3ZXIgd2l0aCBhIEpTT04gb2JqZWN0IHRoYXQgbWF0Y2hlcyB0aGUgSlNPTiBzY2hlbWEgYWJvdmUuJztcbmNvbnN0IERFRkFVTFRfR0VORVJJQ19TVUZGSVggPSAnWW91IE1VU1QgYW5zd2VyIHdpdGggSlNPTi4nO1xuXG5leHBvcnQgZnVuY3Rpb24gaW5qZWN0SnNvbkluc3RydWN0aW9uKHtcbiAgcHJvbXB0LFxuICBzY2hlbWEsXG4gIHNjaGVtYVByZWZpeCA9IHNjaGVtYSAhPSBudWxsID8gREVGQVVMVF9TQ0hFTUFfUFJFRklYIDogdW5kZWZpbmVkLFxuICBzY2hlbWFTdWZmaXggPSBzY2hlbWEgIT0gbnVsbFxuICAgID8gREVGQVVMVF9TQ0hFTUFfU1VGRklYXG4gICAgOiBERUZBVUxUX0dFTkVSSUNfU1VGRklYLFxufToge1xuICBwcm9tcHQ/OiBzdHJpbmc7XG4gIHNjaGVtYT86IEpTT05TY2hlbWE3O1xuICBzY2hlbWFQcmVmaXg/OiBzdHJpbmc7XG4gIHNjaGVtYVN1ZmZpeD86IHN0cmluZztcbn0pOiBzdHJpbmcge1xuICByZXR1cm4gW1xuICAgIHByb21wdCAhPSBudWxsICYmIHByb21wdC5sZW5ndGggPiAwID8gcHJvbXB0IDogdW5kZWZpbmVkLFxuICAgIHByb21wdCAhPSBudWxsICYmIHByb21wdC5sZW5ndGggPiAwID8gJycgOiB1bmRlZmluZWQsIC8vIGFkZCBhIG5ld2xpbmUgaWYgcHJvbXB0IGlzIG5vdCBudWxsXG4gICAgc2NoZW1hUHJlZml4LFxuICAgIHNjaGVtYSAhPSBudWxsID8gSlNPTi5zdHJpbmdpZnkoc2NoZW1hKSA6IHVuZGVmaW5lZCxcbiAgICBzY2hlbWFTdWZmaXgsXG4gIF1cbiAgICAuZmlsdGVyKGxpbmUgPT4gbGluZSAhPSBudWxsKVxuICAgIC5qb2luKCdcXG4nKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluamVjdEpzb25JbnN0cnVjdGlvbkludG9NZXNzYWdlcyh7XG4gIG1lc3NhZ2VzLFxuICBzY2hlbWEsXG4gIHNjaGVtYVByZWZpeCxcbiAgc2NoZW1hU3VmZml4LFxufToge1xuICBtZXNzYWdlczogTGFuZ3VhZ2VNb2RlbFYyUHJvbXB0O1xuICBzY2hlbWE/OiBKU09OU2NoZW1hNztcbiAgc2NoZW1hUHJlZml4Pzogc3RyaW5nO1xuICBzY2hlbWFTdWZmaXg/OiBzdHJpbmc7XG59KTogTGFuZ3VhZ2VNb2RlbFYyUHJvbXB0IHtcbiAgY29uc3Qgc3lzdGVtTWVzc2FnZTogTGFuZ3VhZ2VNb2RlbFYyTWVzc2FnZSA9XG4gICAgbWVzc2FnZXNbMF0/LnJvbGUgPT09ICdzeXN0ZW0nXG4gICAgICA/IHsgLi4ubWVzc2FnZXNbMF0gfVxuICAgICAgOiB7IHJvbGU6ICdzeXN0ZW0nLCBjb250ZW50OiAnJyB9O1xuXG4gIHN5c3RlbU1lc3NhZ2UuY29udGVudCA9IGluamVjdEpzb25JbnN0cnVjdGlvbih7XG4gICAgcHJvbXB0OiBzeXN0ZW1NZXNzYWdlLmNvbnRlbnQsXG4gICAgc2NoZW1hLFxuICAgIHNjaGVtYVByZWZpeCxcbiAgICBzY2hlbWFTdWZmaXgsXG4gIH0pO1xuXG4gIHJldHVybiBbXG4gICAgc3lzdGVtTWVzc2FnZSxcbiAgICAuLi4obWVzc2FnZXNbMF0/LnJvbGUgPT09ICdzeXN0ZW0nID8gbWVzc2FnZXMuc2xpY2UoMSkgOiBtZXNzYWdlcyksXG4gIF07XG59XG4iLCAiLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIFVSTCBpcyBzdXBwb3J0ZWQgbmF0aXZlbHkgYnkgdGhlIG1vZGVsLlxuICpcbiAqIEBwYXJhbSBtZWRpYVR5cGUgLSBUaGUgbWVkaWEgdHlwZSBvZiB0aGUgVVJMLiBDYXNlLXNlbnNpdGl2ZS5cbiAqIEBwYXJhbSB1cmwgLSBUaGUgVVJMIHRvIGNoZWNrLlxuICogQHBhcmFtIHN1cHBvcnRlZFVybHMgLSBBIHJlY29yZCB3aGVyZSBrZXlzIGFyZSBjYXNlLXNlbnNpdGl2ZSBtZWRpYSB0eXBlcyAob3IgJyonKVxuICogICAgICAgICAgICAgICAgICAgICAgICBhbmQgdmFsdWVzIGFyZSBhcnJheXMgb2YgUmVnRXhwIHBhdHRlcm5zIGZvciBVUkxzLlxuICpcbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgVVJMIG1hdGNoZXMgYSBwYXR0ZXJuIHVuZGVyIHRoZSBzcGVjaWZpYyBtZWRpYSB0eXBlXG4gKiAgICAgICAgICBvciB0aGUgd2lsZGNhcmQgJyonLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVXJsU3VwcG9ydGVkKHtcbiAgbWVkaWFUeXBlLFxuICB1cmwsXG4gIHN1cHBvcnRlZFVybHMsXG59OiB7XG4gIG1lZGlhVHlwZTogc3RyaW5nO1xuICB1cmw6IHN0cmluZztcbiAgc3VwcG9ydGVkVXJsczogUmVjb3JkPHN0cmluZywgUmVnRXhwW10+O1xufSk6IGJvb2xlYW4ge1xuICAvLyBzdGFuZGFyZGl6ZSBtZWRpYSB0eXBlIGFuZCB1cmwgdG8gbG93ZXIgY2FzZVxuICB1cmwgPSB1cmwudG9Mb3dlckNhc2UoKTtcbiAgbWVkaWFUeXBlID0gbWVkaWFUeXBlLnRvTG93ZXJDYXNlKCk7XG5cbiAgcmV0dXJuIChcbiAgICBPYmplY3QuZW50cmllcyhzdXBwb3J0ZWRVcmxzKVxuICAgICAgLy8gc3RhbmRhcmRpemUgc3VwcG9ydGVkIHVybCBtYXAgaW50byBsb3dlcmNhc2UgcHJlZml4ZXM6XG4gICAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgY29uc3QgbWVkaWFUeXBlID0ga2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiBtZWRpYVR5cGUgPT09ICcqJyB8fCBtZWRpYVR5cGUgPT09ICcqLyonXG4gICAgICAgICAgPyB7IG1lZGlhVHlwZVByZWZpeDogJycsIHJlZ2V4ZXM6IHZhbHVlIH1cbiAgICAgICAgICA6IHsgbWVkaWFUeXBlUHJlZml4OiBtZWRpYVR5cGUucmVwbGFjZSgvXFwqLywgJycpLCByZWdleGVzOiB2YWx1ZSB9O1xuICAgICAgfSlcbiAgICAgIC8vIGdhdGhlciBhbGwgcmVnZXhwIHBhdHRlcm4gZnJvbSBtYXRjaGVkIG1lZGlhIHR5cGUgcHJlZml4ZXM6XG4gICAgICAuZmlsdGVyKCh7IG1lZGlhVHlwZVByZWZpeCB9KSA9PiBtZWRpYVR5cGUuc3RhcnRzV2l0aChtZWRpYVR5cGVQcmVmaXgpKVxuICAgICAgLmZsYXRNYXAoKHsgcmVnZXhlcyB9KSA9PiByZWdleGVzKVxuICAgICAgLy8gY2hlY2sgaWYgYW55IHBhdHRlcm4gbWF0Y2hlcyB0aGUgdXJsOlxuICAgICAgLnNvbWUocGF0dGVybiA9PiBwYXR0ZXJuLnRlc3QodXJsKSlcbiAgKTtcbn1cbiIsICJpbXBvcnQgeyBMb2FkQVBJS2V5RXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRBcGlLZXkoe1xuICBhcGlLZXksXG4gIGVudmlyb25tZW50VmFyaWFibGVOYW1lLFxuICBhcGlLZXlQYXJhbWV0ZXJOYW1lID0gJ2FwaUtleScsXG4gIGRlc2NyaXB0aW9uLFxufToge1xuICBhcGlLZXk6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgZW52aXJvbm1lbnRWYXJpYWJsZU5hbWU6IHN0cmluZztcbiAgYXBpS2V5UGFyYW1ldGVyTmFtZT86IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbn0pOiBzdHJpbmcge1xuICBpZiAodHlwZW9mIGFwaUtleSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gYXBpS2V5O1xuICB9XG5cbiAgaWYgKGFwaUtleSAhPSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IExvYWRBUElLZXlFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gQVBJIGtleSBtdXN0IGJlIGEgc3RyaW5nLmAsXG4gICAgfSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHByb2Nlc3MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdGhyb3cgbmV3IExvYWRBUElLZXlFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gQVBJIGtleSBpcyBtaXNzaW5nLiBQYXNzIGl0IHVzaW5nIHRoZSAnJHthcGlLZXlQYXJhbWV0ZXJOYW1lfScgcGFyYW1ldGVyLiBFbnZpcm9ubWVudCB2YXJpYWJsZXMgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50LmAsXG4gICAgfSk7XG4gIH1cblxuICBhcGlLZXkgPSBwcm9jZXNzLmVudltlbnZpcm9ubWVudFZhcmlhYmxlTmFtZV07XG5cbiAgaWYgKGFwaUtleSA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IExvYWRBUElLZXlFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gQVBJIGtleSBpcyBtaXNzaW5nLiBQYXNzIGl0IHVzaW5nIHRoZSAnJHthcGlLZXlQYXJhbWV0ZXJOYW1lfScgcGFyYW1ldGVyIG9yIHRoZSAke2Vudmlyb25tZW50VmFyaWFibGVOYW1lfSBlbnZpcm9ubWVudCB2YXJpYWJsZS5gLFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBhcGlLZXkgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IExvYWRBUElLZXlFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gQVBJIGtleSBtdXN0IGJlIGEgc3RyaW5nLiBUaGUgdmFsdWUgb2YgdGhlICR7ZW52aXJvbm1lbnRWYXJpYWJsZU5hbWV9IGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBhIHN0cmluZy5gLFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGFwaUtleTtcbn1cbiIsICIvKipcbiAqIExvYWRzIGFuIG9wdGlvbmFsIGBzdHJpbmdgIHNldHRpbmcgZnJvbSB0aGUgZW52aXJvbm1lbnQgb3IgYSBwYXJhbWV0ZXIuXG4gKlxuICogQHBhcmFtIHNldHRpbmdWYWx1ZSAtIFRoZSBzZXR0aW5nIHZhbHVlLlxuICogQHBhcmFtIGVudmlyb25tZW50VmFyaWFibGVOYW1lIC0gVGhlIGVudmlyb25tZW50IHZhcmlhYmxlIG5hbWUuXG4gKiBAcmV0dXJucyBUaGUgc2V0dGluZyB2YWx1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRPcHRpb25hbFNldHRpbmcoe1xuICBzZXR0aW5nVmFsdWUsXG4gIGVudmlyb25tZW50VmFyaWFibGVOYW1lLFxufToge1xuICBzZXR0aW5nVmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgZW52aXJvbm1lbnRWYXJpYWJsZU5hbWU6IHN0cmluZztcbn0pOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICBpZiAodHlwZW9mIHNldHRpbmdWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc2V0dGluZ1ZhbHVlO1xuICB9XG5cbiAgaWYgKHNldHRpbmdWYWx1ZSAhPSBudWxsIHx8IHR5cGVvZiBwcm9jZXNzID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBzZXR0aW5nVmFsdWUgPSBwcm9jZXNzLmVudltlbnZpcm9ubWVudFZhcmlhYmxlTmFtZV07XG5cbiAgaWYgKHNldHRpbmdWYWx1ZSA9PSBudWxsIHx8IHR5cGVvZiBzZXR0aW5nVmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHJldHVybiBzZXR0aW5nVmFsdWU7XG59XG4iLCAiaW1wb3J0IHsgTG9hZFNldHRpbmdFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG4vKipcbiAqIExvYWRzIGEgYHN0cmluZ2Agc2V0dGluZyBmcm9tIHRoZSBlbnZpcm9ubWVudCBvciBhIHBhcmFtZXRlci5cbiAqXG4gKiBAcGFyYW0gc2V0dGluZ1ZhbHVlIC0gVGhlIHNldHRpbmcgdmFsdWUuXG4gKiBAcGFyYW0gZW52aXJvbm1lbnRWYXJpYWJsZU5hbWUgLSBUaGUgZW52aXJvbm1lbnQgdmFyaWFibGUgbmFtZS5cbiAqIEBwYXJhbSBzZXR0aW5nTmFtZSAtIFRoZSBzZXR0aW5nIG5hbWUuXG4gKiBAcGFyYW0gZGVzY3JpcHRpb24gLSBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIHNldHRpbmcuXG4gKiBAcmV0dXJucyBUaGUgc2V0dGluZyB2YWx1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRTZXR0aW5nKHtcbiAgc2V0dGluZ1ZhbHVlLFxuICBlbnZpcm9ubWVudFZhcmlhYmxlTmFtZSxcbiAgc2V0dGluZ05hbWUsXG4gIGRlc2NyaXB0aW9uLFxufToge1xuICBzZXR0aW5nVmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgZW52aXJvbm1lbnRWYXJpYWJsZU5hbWU6IHN0cmluZztcbiAgc2V0dGluZ05hbWU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbn0pOiBzdHJpbmcge1xuICBpZiAodHlwZW9mIHNldHRpbmdWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc2V0dGluZ1ZhbHVlO1xuICB9XG5cbiAgaWYgKHNldHRpbmdWYWx1ZSAhPSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IExvYWRTZXR0aW5nRXJyb3Ioe1xuICAgICAgbWVzc2FnZTogYCR7ZGVzY3JpcHRpb259IHNldHRpbmcgbXVzdCBiZSBhIHN0cmluZy5gLFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBwcm9jZXNzID09PSAndW5kZWZpbmVkJykge1xuICAgIHRocm93IG5ldyBMb2FkU2V0dGluZ0Vycm9yKHtcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgIGAke2Rlc2NyaXB0aW9ufSBzZXR0aW5nIGlzIG1pc3NpbmcuIGAgK1xuICAgICAgICBgUGFzcyBpdCB1c2luZyB0aGUgJyR7c2V0dGluZ05hbWV9JyBwYXJhbWV0ZXIuIGAgK1xuICAgICAgICBgRW52aXJvbm1lbnQgdmFyaWFibGVzIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudC5gLFxuICAgIH0pO1xuICB9XG5cbiAgc2V0dGluZ1ZhbHVlID0gcHJvY2Vzcy5lbnZbZW52aXJvbm1lbnRWYXJpYWJsZU5hbWVdO1xuXG4gIGlmIChzZXR0aW5nVmFsdWUgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBMb2FkU2V0dGluZ0Vycm9yKHtcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgIGAke2Rlc2NyaXB0aW9ufSBzZXR0aW5nIGlzIG1pc3NpbmcuIGAgK1xuICAgICAgICBgUGFzcyBpdCB1c2luZyB0aGUgJyR7c2V0dGluZ05hbWV9JyBwYXJhbWV0ZXIgYCArXG4gICAgICAgIGBvciB0aGUgJHtlbnZpcm9ubWVudFZhcmlhYmxlTmFtZX0gZW52aXJvbm1lbnQgdmFyaWFibGUuYCxcbiAgICB9KTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygc2V0dGluZ1ZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBMb2FkU2V0dGluZ0Vycm9yKHtcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgIGAke2Rlc2NyaXB0aW9ufSBzZXR0aW5nIG11c3QgYmUgYSBzdHJpbmcuIGAgK1xuICAgICAgICBgVGhlIHZhbHVlIG9mIHRoZSAke2Vudmlyb25tZW50VmFyaWFibGVOYW1lfSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBub3QgYSBzdHJpbmcuYCxcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBzZXR0aW5nVmFsdWU7XG59XG4iLCAiLyoqXG4gKiBNYXBzIGEgbWVkaWEgdHlwZSB0byBpdHMgY29ycmVzcG9uZGluZyBmaWxlIGV4dGVuc2lvbi5cbiAqIEl0IHdhcyBvcmlnaW5hbGx5IGludHJvZHVjZWQgdG8gc2V0IGEgZmlsZW5hbWUgZm9yIGF1ZGlvIGZpbGUgdXBsb2Fkc1xuICogaW4gaHR0cHM6Ly9naXRodWIuY29tL3ZlcmNlbC9haS9wdWxsLzgxNTkuXG4gKlxuICogQHBhcmFtIG1lZGlhVHlwZSBUaGUgbWVkaWEgdHlwZSB0byBtYXAuXG4gKiBAcmV0dXJucyBUaGUgY29ycmVzcG9uZGluZyBmaWxlIGV4dGVuc2lvblxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0d1aWRlcy9NSU1FX3R5cGVzL0NvbW1vbl90eXBlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gbWVkaWFUeXBlVG9FeHRlbnNpb24obWVkaWFUeXBlOiBzdHJpbmcpIHtcbiAgY29uc3QgW190eXBlLCBzdWJ0eXBlID0gJyddID0gbWVkaWFUeXBlLnRvTG93ZXJDYXNlKCkuc3BsaXQoJy8nKTtcblxuICByZXR1cm4gKFxuICAgIHtcbiAgICAgIG1wZWc6ICdtcDMnLFxuICAgICAgJ3gtd2F2JzogJ3dhdicsXG4gICAgICBvcHVzOiAnb2dnJyxcbiAgICAgIG1wNDogJ200YScsXG4gICAgICAneC1tNGEnOiAnbTRhJyxcbiAgICB9W3N1YnR5cGVdID8/IHN1YnR5cGVcbiAgKTtcbn1cbiIsICJpbXBvcnQge1xuICBKU09OUGFyc2VFcnJvcixcbiAgSlNPTlZhbHVlLFxuICBUeXBlVmFsaWRhdGlvbkVycm9yLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCAqIGFzIHozIGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgKiBhcyB6NCBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsgc2VjdXJlSnNvblBhcnNlIH0gZnJvbSAnLi9zZWN1cmUtanNvbi1wYXJzZSc7XG5pbXBvcnQgeyBzYWZlVmFsaWRhdGVUeXBlcywgdmFsaWRhdGVUeXBlcyB9IGZyb20gJy4vdmFsaWRhdGUtdHlwZXMnO1xuaW1wb3J0IHsgVmFsaWRhdG9yIH0gZnJvbSAnLi92YWxpZGF0b3InO1xuXG4vKipcbiAqIFBhcnNlcyBhIEpTT04gc3RyaW5nIGludG8gYW4gdW5rbm93biBvYmplY3QuXG4gKlxuICogQHBhcmFtIHRleHQgLSBUaGUgSlNPTiBzdHJpbmcgdG8gcGFyc2UuXG4gKiBAcmV0dXJucyB7SlNPTlZhbHVlfSAtIFRoZSBwYXJzZWQgSlNPTiBvYmplY3QuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZUpTT04ob3B0aW9uczoge1xuICB0ZXh0OiBzdHJpbmc7XG4gIHNjaGVtYT86IHVuZGVmaW5lZDtcbn0pOiBQcm9taXNlPEpTT05WYWx1ZT47XG4vKipcbiAqIFBhcnNlcyBhIEpTT04gc3RyaW5nIGludG8gYSBzdHJvbmdseS10eXBlZCBvYmplY3QgdXNpbmcgdGhlIHByb3ZpZGVkIHNjaGVtYS5cbiAqXG4gKiBAdGVtcGxhdGUgVCAtIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QgdG8gcGFyc2UgdGhlIEpTT04gaW50by5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIEpTT04gc3RyaW5nIHRvIHBhcnNlLlxuICogQHBhcmFtIHtWYWxpZGF0b3I8VD59IHNjaGVtYSAtIFRoZSBzY2hlbWEgdG8gdXNlIGZvciBwYXJzaW5nIHRoZSBKU09OLlxuICogQHJldHVybnMge1Byb21pc2U8VD59IC0gVGhlIHBhcnNlZCBvYmplY3QuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZUpTT048VD4ob3B0aW9uczoge1xuICB0ZXh0OiBzdHJpbmc7XG4gIHNjaGVtYTogejQuY29yZS4kWm9kVHlwZTxUPiB8IHozLlNjaGVtYTxUPiB8IFZhbGlkYXRvcjxUPjtcbn0pOiBQcm9taXNlPFQ+O1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlSlNPTjxUPih7XG4gIHRleHQsXG4gIHNjaGVtYSxcbn06IHtcbiAgdGV4dDogc3RyaW5nO1xuICBzY2hlbWE/OiB6NC5jb3JlLiRab2RUeXBlPFQ+IHwgejMuU2NoZW1hPFQ+IHwgVmFsaWRhdG9yPFQ+O1xufSk6IFByb21pc2U8VD4ge1xuICB0cnkge1xuICAgIGNvbnN0IHZhbHVlID0gc2VjdXJlSnNvblBhcnNlKHRleHQpO1xuXG4gICAgaWYgKHNjaGVtYSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbGlkYXRlVHlwZXM8VD4oeyB2YWx1ZSwgc2NoZW1hIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChcbiAgICAgIEpTT05QYXJzZUVycm9yLmlzSW5zdGFuY2UoZXJyb3IpIHx8XG4gICAgICBUeXBlVmFsaWRhdGlvbkVycm9yLmlzSW5zdGFuY2UoZXJyb3IpXG4gICAgKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgSlNPTlBhcnNlRXJyb3IoeyB0ZXh0LCBjYXVzZTogZXJyb3IgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgUGFyc2VSZXN1bHQ8VD4gPVxuICB8IHsgc3VjY2VzczogdHJ1ZTsgdmFsdWU6IFQ7IHJhd1ZhbHVlOiB1bmtub3duIH1cbiAgfCB7XG4gICAgICBzdWNjZXNzOiBmYWxzZTtcbiAgICAgIGVycm9yOiBKU09OUGFyc2VFcnJvciB8IFR5cGVWYWxpZGF0aW9uRXJyb3I7XG4gICAgICByYXdWYWx1ZTogdW5rbm93bjtcbiAgICB9O1xuXG4vKipcbiAqIFNhZmVseSBwYXJzZXMgYSBKU09OIHN0cmluZyBhbmQgcmV0dXJucyB0aGUgcmVzdWx0IGFzIGFuIG9iamVjdCBvZiB0eXBlIGB1bmtub3duYC5cbiAqXG4gKiBAcGFyYW0gdGV4dCAtIFRoZSBKU09OIHN0cmluZyB0byBwYXJzZS5cbiAqIEByZXR1cm5zIHtQcm9taXNlPG9iamVjdD59IEVpdGhlciBhbiBvYmplY3Qgd2l0aCBgc3VjY2VzczogdHJ1ZWAgYW5kIHRoZSBwYXJzZWQgZGF0YSwgb3IgYW4gb2JqZWN0IHdpdGggYHN1Y2Nlc3M6IGZhbHNlYCBhbmQgdGhlIGVycm9yIHRoYXQgb2NjdXJyZWQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYWZlUGFyc2VKU09OKG9wdGlvbnM6IHtcbiAgdGV4dDogc3RyaW5nO1xuICBzY2hlbWE/OiB1bmRlZmluZWQ7XG59KTogUHJvbWlzZTxQYXJzZVJlc3VsdDxKU09OVmFsdWU+Pjtcbi8qKlxuICogU2FmZWx5IHBhcnNlcyBhIEpTT04gc3RyaW5nIGludG8gYSBzdHJvbmdseS10eXBlZCBvYmplY3QsIHVzaW5nIGEgcHJvdmlkZWQgc2NoZW1hIHRvIHZhbGlkYXRlIHRoZSBvYmplY3QuXG4gKlxuICogQHRlbXBsYXRlIFQgLSBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0IHRvIHBhcnNlIHRoZSBKU09OIGludG8uXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSBKU09OIHN0cmluZyB0byBwYXJzZS5cbiAqIEBwYXJhbSB7VmFsaWRhdG9yPFQ+fSBzY2hlbWEgLSBUaGUgc2NoZW1hIHRvIHVzZSBmb3IgcGFyc2luZyB0aGUgSlNPTi5cbiAqIEByZXR1cm5zIEFuIG9iamVjdCB3aXRoIGVpdGhlciBhIGBzdWNjZXNzYCBmbGFnIGFuZCB0aGUgcGFyc2VkIGFuZCB0eXBlZCBkYXRhLCBvciBhIGBzdWNjZXNzYCBmbGFnIGFuZCBhbiBlcnJvciBvYmplY3QuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYWZlUGFyc2VKU09OPFQ+KG9wdGlvbnM6IHtcbiAgdGV4dDogc3RyaW5nO1xuICBzY2hlbWE6IHo0LmNvcmUuJFpvZFR5cGU8VD4gfCB6My5TY2hlbWE8VD4gfCBWYWxpZGF0b3I8VD47XG59KTogUHJvbWlzZTxQYXJzZVJlc3VsdDxUPj47XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2FmZVBhcnNlSlNPTjxUPih7XG4gIHRleHQsXG4gIHNjaGVtYSxcbn06IHtcbiAgdGV4dDogc3RyaW5nO1xuICBzY2hlbWE/OiB6NC5jb3JlLiRab2RUeXBlPFQ+IHwgejMuU2NoZW1hPFQ+IHwgVmFsaWRhdG9yPFQ+O1xufSk6IFByb21pc2U8UGFyc2VSZXN1bHQ8VD4+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB2YWx1ZSA9IHNlY3VyZUpzb25QYXJzZSh0ZXh0KTtcblxuICAgIGlmIChzY2hlbWEgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgdmFsdWU6IHZhbHVlIGFzIFQsIHJhd1ZhbHVlOiB2YWx1ZSB9O1xuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCBzYWZlVmFsaWRhdGVUeXBlczxUPih7IHZhbHVlLCBzY2hlbWEgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IEpTT05QYXJzZUVycm9yLmlzSW5zdGFuY2UoZXJyb3IpXG4gICAgICAgID8gZXJyb3JcbiAgICAgICAgOiBuZXcgSlNPTlBhcnNlRXJyb3IoeyB0ZXh0LCBjYXVzZTogZXJyb3IgfSksXG4gICAgICByYXdWYWx1ZTogdW5kZWZpbmVkLFxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUGFyc2FibGVKc29uKGlucHV0OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgdHJ5IHtcbiAgICBzZWN1cmVKc29uUGFyc2UoaW5wdXQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbiIsICIvLyBMaWNlbnNlZCB1bmRlciBCU0QtMy1DbGF1c2UgKHRoaXMgZmlsZSBvbmx5KVxuLy8gQ29kZSBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2Zhc3RpZnkvc2VjdXJlLWpzb24tcGFyc2UvYmxvYi83ODNmY2IxYjU0MzQ3MDk0NjY3NTk4NDdjZWM5NzQzODE5Mzk2NzNhL2luZGV4LmpzXG4vL1xuLy8gQ29weXJpZ2h0IChjKSBWZXJjZWwsIEluYy4gKGh0dHBzOi8vdmVyY2VsLmNvbSlcbi8vIENvcHlyaWdodCAoYykgMjAxOSBUaGUgRmFzdGlmeSBUZWFtXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTksIFNpZGV3YXkgSW5jLCBhbmQgcHJvamVjdCBjb250cmlidXRvcnNcbi8vIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vL1xuLy8gVGhlIGNvbXBsZXRlIGxpc3Qgb2YgY29udHJpYnV0b3JzIGNhbiBiZSBmb3VuZCBhdDpcbi8vIC0gaHR0cHM6Ly9naXRodWIuY29tL2hhcGlqcy9ib3VybmUvZ3JhcGhzL2NvbnRyaWJ1dG9yc1xuLy8gLSBodHRwczovL2dpdGh1Yi5jb20vZmFzdGlmeS9zZWN1cmUtanNvbi1wYXJzZS9ncmFwaHMvY29udHJpYnV0b3JzXG4vLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS92ZXJjZWwvYWkvY29tbWl0cy9tYWluL3BhY2thZ2VzL3Byb3ZpZGVyLXV0aWxzL3NyYy9zZWN1cmUtcGFyc2UtanNvbi50c1xuLy9cbi8vIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcbi8vXG4vLyAxLiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4vL1xuLy8gMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuLy9cbi8vIDMuIE5laXRoZXIgdGhlIG5hbWUgb2YgdGhlIGNvcHlyaWdodCBob2xkZXIgbm9yIHRoZSBuYW1lcyBvZiBpdHMgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbi8vXG4vLyBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVMgSVNcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG5cbmNvbnN0IHN1c3BlY3RQcm90b1J4ID0gL1wiX19wcm90b19fXCJcXHMqOi87XG5jb25zdCBzdXNwZWN0Q29uc3RydWN0b3JSeCA9IC9cImNvbnN0cnVjdG9yXCJcXHMqOi87XG5cbmZ1bmN0aW9uIF9wYXJzZSh0ZXh0OiBzdHJpbmcpIHtcbiAgLy8gUGFyc2Ugbm9ybWFsbHlcbiAgY29uc3Qgb2JqID0gSlNPTi5wYXJzZSh0ZXh0KTtcblxuICAvLyBJZ25vcmUgbnVsbCBhbmQgbm9uLW9iamVjdHNcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBpZiAoXG4gICAgc3VzcGVjdFByb3RvUngudGVzdCh0ZXh0KSA9PT0gZmFsc2UgJiZcbiAgICBzdXNwZWN0Q29uc3RydWN0b3JSeC50ZXN0KHRleHQpID09PSBmYWxzZVxuICApIHtcbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgLy8gU2NhbiByZXN1bHQgZm9yIHByb3RvIGtleXNcbiAgcmV0dXJuIGZpbHRlcihvYmopO1xufVxuXG5mdW5jdGlvbiBmaWx0ZXIob2JqOiBhbnkpIHtcbiAgbGV0IG5leHQgPSBbb2JqXTtcblxuICB3aGlsZSAobmV4dC5sZW5ndGgpIHtcbiAgICBjb25zdCBub2RlcyA9IG5leHQ7XG4gICAgbmV4dCA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBub2RlIG9mIG5vZGVzKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5vZGUsICdfX3Byb3RvX18nKSkge1xuICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ09iamVjdCBjb250YWlucyBmb3JiaWRkZW4gcHJvdG90eXBlIHByb3BlcnR5Jyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5vZGUsICdjb25zdHJ1Y3RvcicpICYmXG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChub2RlLmNvbnN0cnVjdG9yLCAncHJvdG90eXBlJylcbiAgICAgICkge1xuICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ09iamVjdCBjb250YWlucyBmb3JiaWRkZW4gcHJvdG90eXBlIHByb3BlcnR5Jyk7XG4gICAgICB9XG5cbiAgICAgIGZvciAoY29uc3Qga2V5IGluIG5vZGUpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBub2RlW2tleV07XG4gICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgbmV4dC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VjdXJlSnNvblBhcnNlKHRleHQ6IHN0cmluZykge1xuICAvLyBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24sIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFzdGlmeS9zZWN1cmUtanNvbi1wYXJzZS9wdWxsLzkwXG4gIGNvbnN0IHsgc3RhY2tUcmFjZUxpbWl0IH0gPSBFcnJvcjtcbiAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ID0gMDtcbiAgdHJ5IHtcbiAgICByZXR1cm4gX3BhcnNlKHRleHQpO1xuICB9IGZpbmFsbHkge1xuICAgIEVycm9yLnN0YWNrVHJhY2VMaW1pdCA9IHN0YWNrVHJhY2VMaW1pdDtcbiAgfVxufVxuIiwgImltcG9ydCB7IFR5cGVWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB0eXBlIHsgU3RhbmRhcmRTY2hlbWFWMSB9IGZyb20gJ0BzdGFuZGFyZC1zY2hlbWEvc3BlYyc7XG5pbXBvcnQgeyBWYWxpZGF0b3IsIGFzVmFsaWRhdG9yIH0gZnJvbSAnLi92YWxpZGF0b3InO1xuXG4vKipcbiAqIFZhbGlkYXRlcyB0aGUgdHlwZXMgb2YgYW4gdW5rbm93biBvYmplY3QgdXNpbmcgYSBzY2hlbWEgYW5kXG4gKiByZXR1cm4gYSBzdHJvbmdseS10eXBlZCBvYmplY3QuXG4gKlxuICogQHRlbXBsYXRlIFQgLSBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0IHRvIHZhbGlkYXRlLlxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMudmFsdWUgLSBUaGUgb2JqZWN0IHRvIHZhbGlkYXRlLlxuICogQHBhcmFtIHtWYWxpZGF0b3I8VD59IG9wdGlvbnMuc2NoZW1hIC0gVGhlIHNjaGVtYSB0byB1c2UgZm9yIHZhbGlkYXRpbmcgdGhlIEpTT04uXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxUPn0gLSBUaGUgdHlwZWQgb2JqZWN0LlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmFsaWRhdGVUeXBlczxPQkpFQ1Q+KHtcbiAgdmFsdWUsXG4gIHNjaGVtYSxcbn06IHtcbiAgdmFsdWU6IHVua25vd247XG4gIHNjaGVtYTogU3RhbmRhcmRTY2hlbWFWMTx1bmtub3duLCBPQkpFQ1Q+IHwgVmFsaWRhdG9yPE9CSkVDVD47XG59KTogUHJvbWlzZTxPQkpFQ1Q+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2FmZVZhbGlkYXRlVHlwZXMoeyB2YWx1ZSwgc2NoZW1hIH0pO1xuXG4gIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICB0aHJvdyBUeXBlVmFsaWRhdGlvbkVycm9yLndyYXAoeyB2YWx1ZSwgY2F1c2U6IHJlc3VsdC5lcnJvciB9KTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQudmFsdWU7XG59XG5cbi8qKlxuICogU2FmZWx5IHZhbGlkYXRlcyB0aGUgdHlwZXMgb2YgYW4gdW5rbm93biBvYmplY3QgdXNpbmcgYSBzY2hlbWEgYW5kXG4gKiByZXR1cm4gYSBzdHJvbmdseS10eXBlZCBvYmplY3QuXG4gKlxuICogQHRlbXBsYXRlIFQgLSBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0IHRvIHZhbGlkYXRlLlxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMudmFsdWUgLSBUaGUgSlNPTiBvYmplY3QgdG8gdmFsaWRhdGUuXG4gKiBAcGFyYW0ge1ZhbGlkYXRvcjxUPn0gb3B0aW9ucy5zY2hlbWEgLSBUaGUgc2NoZW1hIHRvIHVzZSBmb3IgdmFsaWRhdGluZyB0aGUgSlNPTi5cbiAqIEByZXR1cm5zIEFuIG9iamVjdCB3aXRoIGVpdGhlciBhIGBzdWNjZXNzYCBmbGFnIGFuZCB0aGUgcGFyc2VkIGFuZCB0eXBlZCBkYXRhLCBvciBhIGBzdWNjZXNzYCBmbGFnIGFuZCBhbiBlcnJvciBvYmplY3QuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYWZlVmFsaWRhdGVUeXBlczxPQkpFQ1Q+KHtcbiAgdmFsdWUsXG4gIHNjaGVtYSxcbn06IHtcbiAgdmFsdWU6IHVua25vd247XG4gIHNjaGVtYTogU3RhbmRhcmRTY2hlbWFWMTx1bmtub3duLCBPQkpFQ1Q+IHwgVmFsaWRhdG9yPE9CSkVDVD47XG59KTogUHJvbWlzZTxcbiAgfCB7XG4gICAgICBzdWNjZXNzOiB0cnVlO1xuICAgICAgdmFsdWU6IE9CSkVDVDtcbiAgICAgIHJhd1ZhbHVlOiB1bmtub3duO1xuICAgIH1cbiAgfCB7XG4gICAgICBzdWNjZXNzOiBmYWxzZTtcbiAgICAgIGVycm9yOiBUeXBlVmFsaWRhdGlvbkVycm9yO1xuICAgICAgcmF3VmFsdWU6IHVua25vd247XG4gICAgfVxuPiB7XG4gIGNvbnN0IHZhbGlkYXRvciA9IGFzVmFsaWRhdG9yKHNjaGVtYSk7XG5cbiAgdHJ5IHtcbiAgICBpZiAodmFsaWRhdG9yLnZhbGlkYXRlID09IG51bGwpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIHZhbHVlOiB2YWx1ZSBhcyBPQkpFQ1QsIHJhd1ZhbHVlOiB2YWx1ZSB9O1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHZhbGlkYXRvci52YWxpZGF0ZSh2YWx1ZSk7XG5cbiAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIHZhbHVlOiByZXN1bHQudmFsdWUsIHJhd1ZhbHVlOiB2YWx1ZSB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiBUeXBlVmFsaWRhdGlvbkVycm9yLndyYXAoeyB2YWx1ZSwgY2F1c2U6IHJlc3VsdC5lcnJvciB9KSxcbiAgICAgIHJhd1ZhbHVlOiB2YWx1ZSxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiBUeXBlVmFsaWRhdGlvbkVycm9yLndyYXAoeyB2YWx1ZSwgY2F1c2U6IGVycm9yIH0pLFxuICAgICAgcmF3VmFsdWU6IHZhbHVlLFxuICAgIH07XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBUeXBlVmFsaWRhdGlvbkVycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBTdGFuZGFyZFNjaGVtYVYxIH0gZnJvbSAnQHN0YW5kYXJkLXNjaGVtYS9zcGVjJztcblxuLyoqXG4gKiBVc2VkIHRvIG1hcmsgdmFsaWRhdG9yIGZ1bmN0aW9ucyBzbyB3ZSBjYW4gc3VwcG9ydCBib3RoIFpvZCBhbmQgY3VzdG9tIHNjaGVtYXMuXG4gKi9cbmV4cG9ydCBjb25zdCB2YWxpZGF0b3JTeW1ib2wgPSBTeW1ib2wuZm9yKCd2ZXJjZWwuYWkudmFsaWRhdG9yJyk7XG5cbmV4cG9ydCB0eXBlIFZhbGlkYXRpb25SZXN1bHQ8T0JKRUNUPiA9XG4gIHwgeyBzdWNjZXNzOiB0cnVlOyB2YWx1ZTogT0JKRUNUIH1cbiAgfCB7IHN1Y2Nlc3M6IGZhbHNlOyBlcnJvcjogRXJyb3IgfTtcblxuZXhwb3J0IHR5cGUgVmFsaWRhdG9yPE9CSkVDVCA9IHVua25vd24+ID0ge1xuICAvKipcbiAgICogVXNlZCB0byBtYXJrIHZhbGlkYXRvciBmdW5jdGlvbnMgc28gd2UgY2FuIHN1cHBvcnQgYm90aCBab2QgYW5kIGN1c3RvbSBzY2hlbWFzLlxuICAgKi9cbiAgW3ZhbGlkYXRvclN5bWJvbF06IHRydWU7XG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsLiBWYWxpZGF0ZXMgdGhhdCB0aGUgc3RydWN0dXJlIG9mIGEgdmFsdWUgbWF0Y2hlcyB0aGlzIHNjaGVtYSxcbiAgICogYW5kIHJldHVybnMgYSB0eXBlZCB2ZXJzaW9uIG9mIHRoZSB2YWx1ZSBpZiBpdCBkb2VzLlxuICAgKi9cbiAgcmVhZG9ubHkgdmFsaWRhdGU/OiAoXG4gICAgdmFsdWU6IHVua25vd24sXG4gICkgPT4gVmFsaWRhdGlvblJlc3VsdDxPQkpFQ1Q+IHwgUHJvbWlzZUxpa2U8VmFsaWRhdGlvblJlc3VsdDxPQkpFQ1Q+Pjtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgdmFsaWRhdG9yLlxuICpcbiAqIEBwYXJhbSB2YWxpZGF0ZSBBIHZhbGlkYXRpb24gZnVuY3Rpb24gZm9yIHRoZSBzY2hlbWEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0b3I8T0JKRUNUPihcbiAgdmFsaWRhdGU/OlxuICAgIHwgdW5kZWZpbmVkXG4gICAgfCAoKFxuICAgICAgICB2YWx1ZTogdW5rbm93bixcbiAgICAgICkgPT4gVmFsaWRhdGlvblJlc3VsdDxPQkpFQ1Q+IHwgUHJvbWlzZUxpa2U8VmFsaWRhdGlvblJlc3VsdDxPQkpFQ1Q+PiksXG4pOiBWYWxpZGF0b3I8T0JKRUNUPiB7XG4gIHJldHVybiB7IFt2YWxpZGF0b3JTeW1ib2xdOiB0cnVlLCB2YWxpZGF0ZSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZGF0b3IodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBWYWxpZGF0b3Ige1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICB2YWx1ZSAhPT0gbnVsbCAmJlxuICAgIHZhbGlkYXRvclN5bWJvbCBpbiB2YWx1ZSAmJlxuICAgIHZhbHVlW3ZhbGlkYXRvclN5bWJvbF0gPT09IHRydWUgJiZcbiAgICAndmFsaWRhdGUnIGluIHZhbHVlXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc1ZhbGlkYXRvcjxPQkpFQ1Q+KFxuICB2YWx1ZTogVmFsaWRhdG9yPE9CSkVDVD4gfCBTdGFuZGFyZFNjaGVtYVYxPHVua25vd24sIE9CSkVDVD4sXG4pOiBWYWxpZGF0b3I8T0JKRUNUPiB7XG4gIHJldHVybiBpc1ZhbGlkYXRvcih2YWx1ZSkgPyB2YWx1ZSA6IHN0YW5kYXJkU2NoZW1hVmFsaWRhdG9yKHZhbHVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YW5kYXJkU2NoZW1hVmFsaWRhdG9yPE9CSkVDVD4oXG4gIHN0YW5kYXJkU2NoZW1hOiBTdGFuZGFyZFNjaGVtYVYxPHVua25vd24sIE9CSkVDVD4sXG4pOiBWYWxpZGF0b3I8T0JKRUNUPiB7XG4gIHJldHVybiB2YWxpZGF0b3IoYXN5bmMgdmFsdWUgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN0YW5kYXJkU2NoZW1hWyd+c3RhbmRhcmQnXS52YWxpZGF0ZSh2YWx1ZSk7XG5cbiAgICByZXR1cm4gcmVzdWx0Lmlzc3VlcyA9PSBudWxsXG4gICAgICA/IHsgc3VjY2VzczogdHJ1ZSwgdmFsdWU6IHJlc3VsdC52YWx1ZSB9XG4gICAgICA6IHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogbmV3IFR5cGVWYWxpZGF0aW9uRXJyb3Ioe1xuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBjYXVzZTogcmVzdWx0Lmlzc3VlcyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgfSk7XG59XG4iLCAiaW1wb3J0IHtcbiAgRXZlbnRTb3VyY2VNZXNzYWdlLFxuICBFdmVudFNvdXJjZVBhcnNlclN0cmVhbSxcbn0gZnJvbSAnZXZlbnRzb3VyY2UtcGFyc2VyL3N0cmVhbSc7XG5pbXBvcnQgeyBab2RUeXBlIH0gZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7IFBhcnNlUmVzdWx0LCBzYWZlUGFyc2VKU09OIH0gZnJvbSAnLi9wYXJzZS1qc29uJztcblxuLyoqXG4gKiBQYXJzZXMgYSBKU09OIGV2ZW50IHN0cmVhbSBpbnRvIGEgc3RyZWFtIG9mIHBhcnNlZCBKU09OIG9iamVjdHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUpzb25FdmVudFN0cmVhbTxUPih7XG4gIHN0cmVhbSxcbiAgc2NoZW1hLFxufToge1xuICBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFVpbnQ4QXJyYXk+O1xuICBzY2hlbWE6IFpvZFR5cGU8VD47XG59KTogUmVhZGFibGVTdHJlYW08UGFyc2VSZXN1bHQ8VD4+IHtcbiAgcmV0dXJuIHN0cmVhbVxuICAgIC5waXBlVGhyb3VnaChuZXcgVGV4dERlY29kZXJTdHJlYW0oKSlcbiAgICAucGlwZVRocm91Z2gobmV3IEV2ZW50U291cmNlUGFyc2VyU3RyZWFtKCkpXG4gICAgLnBpcGVUaHJvdWdoKFxuICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbTxFdmVudFNvdXJjZU1lc3NhZ2UsIFBhcnNlUmVzdWx0PFQ+Pih7XG4gICAgICAgIGFzeW5jIHRyYW5zZm9ybSh7IGRhdGEgfSwgY29udHJvbGxlcikge1xuICAgICAgICAgIC8vIGlnbm9yZSB0aGUgJ0RPTkUnIGV2ZW50IHRoYXQgZS5nLiBPcGVuQUkgc2VuZHM6XG4gICAgICAgICAgaWYgKGRhdGEgPT09ICdbRE9ORV0nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGF3YWl0IHNhZmVQYXJzZUpTT04oeyB0ZXh0OiBkYXRhLCBzY2hlbWEgfSkpO1xuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgKTtcbn1cbiIsICJpbXBvcnQgeyBJbnZhbGlkQXJndW1lbnRFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgc2FmZVZhbGlkYXRlVHlwZXMgfSBmcm9tICcuL3ZhbGlkYXRlLXR5cGVzJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QvdjQnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcGFyc2VQcm92aWRlck9wdGlvbnM8VD4oe1xuICBwcm92aWRlcixcbiAgcHJvdmlkZXJPcHRpb25zLFxuICBzY2hlbWEsXG59OiB7XG4gIHByb3ZpZGVyOiBzdHJpbmc7XG4gIHByb3ZpZGVyT3B0aW9uczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCB1bmRlZmluZWQ7XG4gIHNjaGVtYTogei5jb3JlLiRab2RUeXBlPFQsIGFueT47XG59KTogUHJvbWlzZTxUIHwgdW5kZWZpbmVkPiB7XG4gIGlmIChwcm92aWRlck9wdGlvbnM/Lltwcm92aWRlcl0gPT0gbnVsbCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBjb25zdCBwYXJzZWRQcm92aWRlck9wdGlvbnMgPSBhd2FpdCBzYWZlVmFsaWRhdGVUeXBlczxUIHwgdW5kZWZpbmVkPih7XG4gICAgdmFsdWU6IHByb3ZpZGVyT3B0aW9uc1twcm92aWRlcl0sXG4gICAgc2NoZW1hLFxuICB9KTtcblxuICBpZiAoIXBhcnNlZFByb3ZpZGVyT3B0aW9ucy5zdWNjZXNzKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgIGFyZ3VtZW50OiAncHJvdmlkZXJPcHRpb25zJyxcbiAgICAgIG1lc3NhZ2U6IGBpbnZhbGlkICR7cHJvdmlkZXJ9IHByb3ZpZGVyIG9wdGlvbnNgLFxuICAgICAgY2F1c2U6IHBhcnNlZFByb3ZpZGVyT3B0aW9ucy5lcnJvcixcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBwYXJzZWRQcm92aWRlck9wdGlvbnMudmFsdWU7XG59XG4iLCAiaW1wb3J0IHsgQVBJQ2FsbEVycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBleHRyYWN0UmVzcG9uc2VIZWFkZXJzIH0gZnJvbSAnLi9leHRyYWN0LXJlc3BvbnNlLWhlYWRlcnMnO1xuaW1wb3J0IHsgRmV0Y2hGdW5jdGlvbiB9IGZyb20gJy4vZmV0Y2gtZnVuY3Rpb24nO1xuaW1wb3J0IHsgaGFuZGxlRmV0Y2hFcnJvciB9IGZyb20gJy4vaGFuZGxlLWZldGNoLWVycm9yJztcbmltcG9ydCB7IGlzQWJvcnRFcnJvciB9IGZyb20gJy4vaXMtYWJvcnQtZXJyb3InO1xuaW1wb3J0IHsgUmVzcG9uc2VIYW5kbGVyIH0gZnJvbSAnLi9yZXNwb25zZS1oYW5kbGVyJztcbmltcG9ydCB7IGdldFJ1bnRpbWVFbnZpcm9ubWVudFVzZXJBZ2VudCB9IGZyb20gJy4vZ2V0LXJ1bnRpbWUtZW52aXJvbm1lbnQtdXNlci1hZ2VudCc7XG5pbXBvcnQgeyB3aXRoVXNlckFnZW50U3VmZml4IH0gZnJvbSAnLi93aXRoLXVzZXItYWdlbnQtc3VmZml4JztcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tICcuL3ZlcnNpb24nO1xuXG4vLyB1c2UgZnVuY3Rpb24gdG8gYWxsb3cgZm9yIG1vY2tpbmcgaW4gdGVzdHM6XG5jb25zdCBnZXRPcmlnaW5hbEZldGNoID0gKCkgPT4gZ2xvYmFsVGhpcy5mZXRjaDtcblxuZXhwb3J0IGNvbnN0IHBvc3RKc29uVG9BcGkgPSBhc3luYyA8VD4oe1xuICB1cmwsXG4gIGhlYWRlcnMsXG4gIGJvZHksXG4gIGZhaWxlZFJlc3BvbnNlSGFuZGxlcixcbiAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcixcbiAgYWJvcnRTaWduYWwsXG4gIGZldGNoLFxufToge1xuICB1cmw6IHN0cmluZztcbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD47XG4gIGJvZHk6IHVua25vd247XG4gIGZhaWxlZFJlc3BvbnNlSGFuZGxlcjogUmVzcG9uc2VIYW5kbGVyPEFQSUNhbGxFcnJvcj47XG4gIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXI6IFJlc3BvbnNlSGFuZGxlcjxUPjtcbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbiAgZmV0Y2g/OiBGZXRjaEZ1bmN0aW9uO1xufSkgPT5cbiAgcG9zdFRvQXBpKHtcbiAgICB1cmwsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIC4uLmhlYWRlcnMsXG4gICAgfSxcbiAgICBib2R5OiB7XG4gICAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgIHZhbHVlczogYm9keSxcbiAgICB9LFxuICAgIGZhaWxlZFJlc3BvbnNlSGFuZGxlcixcbiAgICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyLFxuICAgIGFib3J0U2lnbmFsLFxuICAgIGZldGNoLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IHBvc3RGb3JtRGF0YVRvQXBpID0gYXN5bmMgPFQ+KHtcbiAgdXJsLFxuICBoZWFkZXJzLFxuICBmb3JtRGF0YSxcbiAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyLFxuICBhYm9ydFNpZ25hbCxcbiAgZmV0Y2gsXG59OiB7XG4gIHVybDogc3RyaW5nO1xuICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPjtcbiAgZm9ybURhdGE6IEZvcm1EYXRhO1xuICBmYWlsZWRSZXNwb25zZUhhbmRsZXI6IFJlc3BvbnNlSGFuZGxlcjxBUElDYWxsRXJyb3I+O1xuICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyOiBSZXNwb25zZUhhbmRsZXI8VD47XG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG4gIGZldGNoPzogRmV0Y2hGdW5jdGlvbjtcbn0pID0+XG4gIHBvc3RUb0FwaSh7XG4gICAgdXJsLFxuICAgIGhlYWRlcnMsXG4gICAgYm9keToge1xuICAgICAgY29udGVudDogZm9ybURhdGEsXG4gICAgICB2YWx1ZXM6IE9iamVjdC5mcm9tRW50cmllcygoZm9ybURhdGEgYXMgYW55KS5lbnRyaWVzKCkpLFxuICAgIH0sXG4gICAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICAgIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIsXG4gICAgYWJvcnRTaWduYWwsXG4gICAgZmV0Y2gsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgcG9zdFRvQXBpID0gYXN5bmMgPFQ+KHtcbiAgdXJsLFxuICBoZWFkZXJzID0ge30sXG4gIGJvZHksXG4gIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIsXG4gIGZhaWxlZFJlc3BvbnNlSGFuZGxlcixcbiAgYWJvcnRTaWduYWwsXG4gIGZldGNoID0gZ2V0T3JpZ2luYWxGZXRjaCgpLFxufToge1xuICB1cmw6IHN0cmluZztcbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD47XG4gIGJvZHk6IHtcbiAgICBjb250ZW50OiBzdHJpbmcgfCBGb3JtRGF0YSB8IFVpbnQ4QXJyYXk7XG4gICAgdmFsdWVzOiB1bmtub3duO1xuICB9O1xuICBmYWlsZWRSZXNwb25zZUhhbmRsZXI6IFJlc3BvbnNlSGFuZGxlcjxFcnJvcj47XG4gIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXI6IFJlc3BvbnNlSGFuZGxlcjxUPjtcbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbiAgZmV0Y2g/OiBGZXRjaEZ1bmN0aW9uO1xufSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHdpdGhVc2VyQWdlbnRTdWZmaXgoXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIGBhaS1zZGsvcHJvdmlkZXItdXRpbHMvJHtWRVJTSU9OfWAsXG4gICAgICAgIGdldFJ1bnRpbWVFbnZpcm9ubWVudFVzZXJBZ2VudCgpLFxuICAgICAgKSxcbiAgICAgIGJvZHk6IGJvZHkuY29udGVudCxcbiAgICAgIHNpZ25hbDogYWJvcnRTaWduYWwsXG4gICAgfSk7XG5cbiAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGxldCBlcnJvckluZm9ybWF0aW9uOiB7XG4gICAgICAgIHZhbHVlOiBFcnJvcjtcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB8IHVuZGVmaW5lZDtcbiAgICAgIH07XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGVycm9ySW5mb3JtYXRpb24gPSBhd2FpdCBmYWlsZWRSZXNwb25zZUhhbmRsZXIoe1xuICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgIHVybCxcbiAgICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczogYm9keS52YWx1ZXMsXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGlzQWJvcnRFcnJvcihlcnJvcikgfHwgQVBJQ2FsbEVycm9yLmlzSW5zdGFuY2UoZXJyb3IpKSB7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgQVBJQ2FsbEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHByb2Nlc3MgZXJyb3IgcmVzcG9uc2UnLFxuICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczogYm9keS52YWx1ZXMsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvckluZm9ybWF0aW9uLnZhbHVlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcih7XG4gICAgICAgIHJlc3BvbnNlLFxuICAgICAgICB1cmwsXG4gICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiBib2R5LnZhbHVlcyxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBpZiAoaXNBYm9ydEVycm9yKGVycm9yKSB8fCBBUElDYWxsRXJyb3IuaXNJbnN0YW5jZShlcnJvcikpIHtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgQVBJQ2FsbEVycm9yKHtcbiAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBwcm9jZXNzIHN1Y2Nlc3NmdWwgcmVzcG9uc2UnLFxuICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgdXJsLFxuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiBib2R5LnZhbHVlcyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBoYW5kbGVGZXRjaEVycm9yKHsgZXJyb3IsIHVybCwgcmVxdWVzdEJvZHlWYWx1ZXM6IGJvZHkudmFsdWVzIH0pO1xuICB9XG59O1xuIiwgImltcG9ydCB7IEpTT05WYWx1ZSwgTGFuZ3VhZ2VNb2RlbFYyVG9vbFJlc3VsdFBhcnQgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IEZsZXhpYmxlU2NoZW1hIH0gZnJvbSAnLi4vc2NoZW1hJztcbmltcG9ydCB7IE1vZGVsTWVzc2FnZSB9IGZyb20gJy4vbW9kZWwtbWVzc2FnZSc7XG5pbXBvcnQgeyBQcm92aWRlck9wdGlvbnMgfSBmcm9tICcuL3Byb3ZpZGVyLW9wdGlvbnMnO1xuXG4vKipcbiAqIEFkZGl0aW9uYWwgb3B0aW9ucyB0aGF0IGFyZSBzZW50IGludG8gZWFjaCB0b29sIGNhbGwuXG4gKi9cbi8vIFRPRE8gQUkgU0RLIDY6IHJlbmFtZSB0byBUb29sRXhlY3V0aW9uT3B0aW9uc1xuZXhwb3J0IGludGVyZmFjZSBUb29sQ2FsbE9wdGlvbnMge1xuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSB0b29sIGNhbGwuIFlvdSBjYW4gdXNlIGl0IGUuZy4gd2hlbiBzZW5kaW5nIHRvb2wtY2FsbCByZWxhdGVkIGluZm9ybWF0aW9uIHdpdGggc3RyZWFtIGRhdGEuXG4gICAqL1xuICB0b29sQ2FsbElkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIE1lc3NhZ2VzIHRoYXQgd2VyZSBzZW50IHRvIHRoZSBsYW5ndWFnZSBtb2RlbCB0byBpbml0aWF0ZSB0aGUgcmVzcG9uc2UgdGhhdCBjb250YWluZWQgdGhlIHRvb2wgY2FsbC5cbiAgICogVGhlIG1lc3NhZ2VzICoqZG8gbm90KiogaW5jbHVkZSB0aGUgc3lzdGVtIHByb21wdCBub3IgdGhlIGFzc2lzdGFudCByZXNwb25zZSB0aGF0IGNvbnRhaW5lZCB0aGUgdG9vbCBjYWxsLlxuICAgKi9cbiAgbWVzc2FnZXM6IE1vZGVsTWVzc2FnZVtdO1xuXG4gIC8qKlxuICAgKiBBbiBvcHRpb25hbCBhYm9ydCBzaWduYWwgdGhhdCBpbmRpY2F0ZXMgdGhhdCB0aGUgb3ZlcmFsbCBvcGVyYXRpb24gc2hvdWxkIGJlIGFib3J0ZWQuXG4gICAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuXG4gIC8qKlxuICAgKiBBZGRpdGlvbmFsIGNvbnRleHQuXG4gICAqXG4gICAqIEV4cGVyaW1lbnRhbCAoY2FuIGJyZWFrIGluIHBhdGNoIHJlbGVhc2VzKS5cbiAgICovXG4gIGV4cGVyaW1lbnRhbF9jb250ZXh0PzogdW5rbm93bjtcbn1cblxuZXhwb3J0IHR5cGUgVG9vbEV4ZWN1dGVGdW5jdGlvbjxJTlBVVCwgT1VUUFVUPiA9IChcbiAgaW5wdXQ6IElOUFVULFxuICBvcHRpb25zOiBUb29sQ2FsbE9wdGlvbnMsXG4pID0+IEFzeW5jSXRlcmFibGU8T1VUUFVUPiB8IFByb21pc2VMaWtlPE9VVFBVVD4gfCBPVVRQVVQ7XG5cbi8vIDAgZXh0ZW5kcyAxICYgTiBjaGVja3MgZm9yIGFueVxuLy8gW05dIGV4dGVuZHMgW25ldmVyXSBjaGVja3MgZm9yIG5ldmVyXG50eXBlIE5ldmVyT3B0aW9uYWw8TiwgVD4gPSAwIGV4dGVuZHMgMSAmIE5cbiAgPyBQYXJ0aWFsPFQ+XG4gIDogW05dIGV4dGVuZHMgW25ldmVyXVxuICAgID8gUGFydGlhbDxSZWNvcmQ8a2V5b2YgVCwgdW5kZWZpbmVkPj5cbiAgICA6IFQ7XG5cbnR5cGUgVG9vbE91dHB1dFByb3BlcnRpZXM8SU5QVVQsIE9VVFBVVD4gPSBOZXZlck9wdGlvbmFsPFxuICBPVVRQVVQsXG4gIHwge1xuICAgICAgLyoqXG5BbiBhc3luYyBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aXRoIHRoZSBhcmd1bWVudHMgZnJvbSB0aGUgdG9vbCBjYWxsIGFuZCBwcm9kdWNlcyBhIHJlc3VsdC5cbklmIG5vdCBwcm92aWRlZCwgdGhlIHRvb2wgd2lsbCBub3QgYmUgZXhlY3V0ZWQgYXV0b21hdGljYWxseS5cblxuQGFyZ3MgaXMgdGhlIGlucHV0IG9mIHRoZSB0b29sIGNhbGwuXG5Ab3B0aW9ucy5hYm9ydFNpZ25hbCBpcyBhIHNpZ25hbCB0aGF0IGNhbiBiZSB1c2VkIHRvIGFib3J0IHRoZSB0b29sIGNhbGwuXG4gICAgKi9cbiAgICAgIGV4ZWN1dGU6IFRvb2xFeGVjdXRlRnVuY3Rpb248SU5QVVQsIE9VVFBVVD47XG5cbiAgICAgIG91dHB1dFNjaGVtYT86IEZsZXhpYmxlU2NoZW1hPE9VVFBVVD47XG4gICAgfVxuICB8IHtcbiAgICAgIG91dHB1dFNjaGVtYTogRmxleGlibGVTY2hlbWE8T1VUUFVUPjtcblxuICAgICAgZXhlY3V0ZT86IG5ldmVyO1xuICAgIH1cbj47XG5cbi8qKlxuQSB0b29sIGNvbnRhaW5zIHRoZSBkZXNjcmlwdGlvbiBhbmQgdGhlIHNjaGVtYSBvZiB0aGUgaW5wdXQgdGhhdCB0aGUgdG9vbCBleHBlY3RzLlxuVGhpcyBlbmFibGVzIHRoZSBsYW5ndWFnZSBtb2RlbCB0byBnZW5lcmF0ZSB0aGUgaW5wdXQuXG5cblRoZSB0b29sIGNhbiBhbHNvIGNvbnRhaW4gYW4gb3B0aW9uYWwgZXhlY3V0ZSBmdW5jdGlvbiBmb3IgdGhlIGFjdHVhbCBleGVjdXRpb24gZnVuY3Rpb24gb2YgdGhlIHRvb2wuXG4gKi9cbmV4cG9ydCB0eXBlIFRvb2w8XG4gIElOUFVUIGV4dGVuZHMgSlNPTlZhbHVlIHwgdW5rbm93biB8IG5ldmVyID0gYW55LFxuICBPVVRQVVQgZXh0ZW5kcyBKU09OVmFsdWUgfCB1bmtub3duIHwgbmV2ZXIgPSBhbnksXG4+ID0ge1xuICAvKipcbkFuIG9wdGlvbmFsIGRlc2NyaXB0aW9uIG9mIHdoYXQgdGhlIHRvb2wgZG9lcy5cbldpbGwgYmUgdXNlZCBieSB0aGUgbGFuZ3VhZ2UgbW9kZWwgdG8gZGVjaWRlIHdoZXRoZXIgdG8gdXNlIHRoZSB0b29sLlxuTm90IHVzZWQgZm9yIHByb3ZpZGVyLWRlZmluZWQgdG9vbHMuXG4gICAqL1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcblxuICAvKipcbkFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgbWV0YWRhdGEuIFRoZXkgYXJlIHBhc3NlZCB0aHJvdWdoXG50byB0aGUgcHJvdmlkZXIgZnJvbSB0aGUgQUkgU0RLIGFuZCBlbmFibGUgcHJvdmlkZXItc3BlY2lmaWNcbmZ1bmN0aW9uYWxpdHkgdGhhdCBjYW4gYmUgZnVsbHkgZW5jYXBzdWxhdGVkIGluIHRoZSBwcm92aWRlci5cbiAgICovXG4gIHByb3ZpZGVyT3B0aW9ucz86IFByb3ZpZGVyT3B0aW9ucztcblxuICAvKipcblRoZSBzY2hlbWEgb2YgdGhlIGlucHV0IHRoYXQgdGhlIHRvb2wgZXhwZWN0cy4gVGhlIGxhbmd1YWdlIG1vZGVsIHdpbGwgdXNlIHRoaXMgdG8gZ2VuZXJhdGUgdGhlIGlucHV0LlxuSXQgaXMgYWxzbyB1c2VkIHRvIHZhbGlkYXRlIHRoZSBvdXRwdXQgb2YgdGhlIGxhbmd1YWdlIG1vZGVsLlxuVXNlIGRlc2NyaXB0aW9ucyB0byBtYWtlIHRoZSBpbnB1dCB1bmRlcnN0YW5kYWJsZSBmb3IgdGhlIGxhbmd1YWdlIG1vZGVsLlxuICAgKi9cbiAgaW5wdXRTY2hlbWE6IEZsZXhpYmxlU2NoZW1hPElOUFVUPjtcblxuICAvKipcbiAgICogT3B0aW9uYWwgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgYXJndW1lbnQgc3RyZWFtaW5nIHN0YXJ0cy5cbiAgICogT25seSBjYWxsZWQgd2hlbiB0aGUgdG9vbCBpcyB1c2VkIGluIGEgc3RyZWFtaW5nIGNvbnRleHQuXG4gICAqL1xuICBvbklucHV0U3RhcnQ/OiAob3B0aW9uczogVG9vbENhbGxPcHRpb25zKSA9PiB2b2lkIHwgUHJvbWlzZUxpa2U8dm9pZD47XG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdoZW4gYW4gYXJndW1lbnQgc3RyZWFtaW5nIGRlbHRhIGlzIGF2YWlsYWJsZS5cbiAgICogT25seSBjYWxsZWQgd2hlbiB0aGUgdG9vbCBpcyB1c2VkIGluIGEgc3RyZWFtaW5nIGNvbnRleHQuXG4gICAqL1xuICBvbklucHV0RGVsdGE/OiAoXG4gICAgb3B0aW9uczogeyBpbnB1dFRleHREZWx0YTogc3RyaW5nIH0gJiBUb29sQ2FsbE9wdGlvbnMsXG4gICkgPT4gdm9pZCB8IFByb21pc2VMaWtlPHZvaWQ+O1xuXG4gIC8qKlxuICAgKiBPcHRpb25hbCBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIGEgdG9vbCBjYWxsIGNhbiBiZSBzdGFydGVkLFxuICAgKiBldmVuIGlmIHRoZSBleGVjdXRlIGZ1bmN0aW9uIGlzIG5vdCBwcm92aWRlZC5cbiAgICovXG4gIG9uSW5wdXRBdmFpbGFibGU/OiAoXG4gICAgb3B0aW9uczoge1xuICAgICAgaW5wdXQ6IFtJTlBVVF0gZXh0ZW5kcyBbbmV2ZXJdID8gdW5kZWZpbmVkIDogSU5QVVQ7XG4gICAgfSAmIFRvb2xDYWxsT3B0aW9ucyxcbiAgKSA9PiB2b2lkIHwgUHJvbWlzZUxpa2U8dm9pZD47XG59ICYgVG9vbE91dHB1dFByb3BlcnRpZXM8SU5QVVQsIE9VVFBVVD4gJiB7XG4gICAgLyoqXG5PcHRpb25hbCBjb252ZXJzaW9uIGZ1bmN0aW9uIHRoYXQgbWFwcyB0aGUgdG9vbCByZXN1bHQgdG8gYW4gb3V0cHV0IHRoYXQgY2FuIGJlIHVzZWQgYnkgdGhlIGxhbmd1YWdlIG1vZGVsLlxuXG5JZiBub3QgcHJvdmlkZWQsIHRoZSB0b29sIHJlc3VsdCB3aWxsIGJlIHNlbnQgYXMgYSBKU09OIG9iamVjdC5cbiAgKi9cbiAgICB0b01vZGVsT3V0cHV0PzogKFxuICAgICAgb3V0cHV0OiAwIGV4dGVuZHMgMSAmIE9VVFBVVFxuICAgICAgICA/IGFueVxuICAgICAgICA6IFtPVVRQVVRdIGV4dGVuZHMgW25ldmVyXVxuICAgICAgICAgID8gYW55XG4gICAgICAgICAgOiBOb0luZmVyPE9VVFBVVD4sXG4gICAgKSA9PiBMYW5ndWFnZU1vZGVsVjJUb29sUmVzdWx0UGFydFsnb3V0cHV0J107XG4gIH0gJiAoXG4gICAgfCB7XG4gICAgICAgIC8qKlxuVG9vbCB3aXRoIHVzZXItZGVmaW5lZCBpbnB1dCBhbmQgb3V0cHV0IHNjaGVtYXMuXG4gICAgICovXG4gICAgICAgIHR5cGU/OiB1bmRlZmluZWQgfCAnZnVuY3Rpb24nO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICAvKipcblRvb2wgdGhhdCBpcyBkZWZpbmVkIGF0IHJ1bnRpbWUgKGUuZy4gYW4gTUNQIHRvb2wpLlxuVGhlIHR5cGVzIG9mIGlucHV0IGFuZCBvdXRwdXQgYXJlIG5vdCBrbm93biBhdCBkZXZlbG9wbWVudCB0aW1lLlxuICAgICAgICovXG4gICAgICAgIHR5cGU6ICdkeW5hbWljJztcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgLyoqXG5Ub29sIHdpdGggcHJvdmlkZXItZGVmaW5lZCBpbnB1dCBhbmQgb3V0cHV0IHNjaGVtYXMuXG4gICAgICovXG4gICAgICAgIHR5cGU6ICdwcm92aWRlci1kZWZpbmVkJztcblxuICAgICAgICAvKipcblRoZSBJRCBvZiB0aGUgdG9vbC4gU2hvdWxkIGZvbGxvdyB0aGUgZm9ybWF0IGA8cHJvdmlkZXItbmFtZT4uPHVuaXF1ZS10b29sLW5hbWU+YC5cbiAgICovXG4gICAgICAgIGlkOiBgJHtzdHJpbmd9LiR7c3RyaW5nfWA7XG5cbiAgICAgICAgLyoqXG5UaGUgbmFtZSBvZiB0aGUgdG9vbCB0aGF0IHRoZSB1c2VyIG11c3QgdXNlIGluIHRoZSB0b29sIHNldC5cbiAqL1xuICAgICAgICBuYW1lOiBzdHJpbmc7XG5cbiAgICAgICAgLyoqXG5UaGUgYXJndW1lbnRzIGZvciBjb25maWd1cmluZyB0aGUgdG9vbC4gTXVzdCBtYXRjaCB0aGUgZXhwZWN0ZWQgYXJndW1lbnRzIGRlZmluZWQgYnkgdGhlIHByb3ZpZGVyIGZvciB0aGlzIHRvb2wuXG4gICAgICovXG4gICAgICAgIGFyZ3M6IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAgICAgfVxuICApO1xuXG4vKipcbiAqIEluZmVyIHRoZSBpbnB1dCB0eXBlIG9mIGEgdG9vbC5cbiAqL1xuZXhwb3J0IHR5cGUgSW5mZXJUb29sSW5wdXQ8VE9PTCBleHRlbmRzIFRvb2w+ID1cbiAgVE9PTCBleHRlbmRzIFRvb2w8aW5mZXIgSU5QVVQsIGFueT4gPyBJTlBVVCA6IG5ldmVyO1xuXG4vKipcbiAqIEluZmVyIHRoZSBvdXRwdXQgdHlwZSBvZiBhIHRvb2wuXG4gKi9cbmV4cG9ydCB0eXBlIEluZmVyVG9vbE91dHB1dDxUT09MIGV4dGVuZHMgVG9vbD4gPVxuICBUT09MIGV4dGVuZHMgVG9vbDxhbnksIGluZmVyIE9VVFBVVD4gPyBPVVRQVVQgOiBuZXZlcjtcblxuLyoqXG5IZWxwZXIgZnVuY3Rpb24gZm9yIGluZmVycmluZyB0aGUgZXhlY3V0ZSBhcmdzIG9mIGEgdG9vbC5cbiAqL1xuLy8gTm90ZTogb3ZlcmxvYWQgb3JkZXIgaXMgaW1wb3J0YW50IGZvciBhdXRvLWNvbXBsZXRpb25cbmV4cG9ydCBmdW5jdGlvbiB0b29sPElOUFVULCBPVVRQVVQ+KFxuICB0b29sOiBUb29sPElOUFVULCBPVVRQVVQ+LFxuKTogVG9vbDxJTlBVVCwgT1VUUFVUPjtcbmV4cG9ydCBmdW5jdGlvbiB0b29sPElOUFVUPih0b29sOiBUb29sPElOUFVULCBuZXZlcj4pOiBUb29sPElOUFVULCBuZXZlcj47XG5leHBvcnQgZnVuY3Rpb24gdG9vbDxPVVRQVVQ+KHRvb2w6IFRvb2w8bmV2ZXIsIE9VVFBVVD4pOiBUb29sPG5ldmVyLCBPVVRQVVQ+O1xuZXhwb3J0IGZ1bmN0aW9uIHRvb2wodG9vbDogVG9vbDxuZXZlciwgbmV2ZXI+KTogVG9vbDxuZXZlciwgbmV2ZXI+O1xuZXhwb3J0IGZ1bmN0aW9uIHRvb2wodG9vbDogYW55KTogYW55IHtcbiAgcmV0dXJuIHRvb2w7XG59XG5cbi8qKlxuSGVscGVyIGZ1bmN0aW9uIGZvciBkZWZpbmluZyBhIGR5bmFtaWMgdG9vbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGR5bmFtaWNUb29sKHRvb2w6IHtcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIHByb3ZpZGVyT3B0aW9ucz86IFByb3ZpZGVyT3B0aW9ucztcbiAgaW5wdXRTY2hlbWE6IEZsZXhpYmxlU2NoZW1hPHVua25vd24+O1xuICBleGVjdXRlOiBUb29sRXhlY3V0ZUZ1bmN0aW9uPHVua25vd24sIHVua25vd24+O1xuICB0b01vZGVsT3V0cHV0PzogKG91dHB1dDogdW5rbm93bikgPT4gTGFuZ3VhZ2VNb2RlbFYyVG9vbFJlc3VsdFBhcnRbJ291dHB1dCddO1xufSk6IFRvb2w8dW5rbm93biwgdW5rbm93bj4gJiB7XG4gIHR5cGU6ICdkeW5hbWljJztcbn0ge1xuICByZXR1cm4geyAuLi50b29sLCB0eXBlOiAnZHluYW1pYycgfTtcbn1cbiIsICJpbXBvcnQgeyB0b29sLCBUb29sLCBUb29sRXhlY3V0ZUZ1bmN0aW9uIH0gZnJvbSAnLi90eXBlcy90b29sJztcbmltcG9ydCB7IEZsZXhpYmxlU2NoZW1hIH0gZnJvbSAnLi9zY2hlbWEnO1xuXG5leHBvcnQgdHlwZSBQcm92aWRlckRlZmluZWRUb29sRmFjdG9yeTxJTlBVVCwgQVJHUyBleHRlbmRzIG9iamVjdD4gPSA8T1VUUFVUPihcbiAgb3B0aW9uczogQVJHUyAmIHtcbiAgICBleGVjdXRlPzogVG9vbEV4ZWN1dGVGdW5jdGlvbjxJTlBVVCwgT1VUUFVUPjtcbiAgICB0b01vZGVsT3V0cHV0PzogVG9vbDxJTlBVVCwgT1VUUFVUPlsndG9Nb2RlbE91dHB1dCddO1xuICAgIG9uSW5wdXRTdGFydD86IFRvb2w8SU5QVVQsIE9VVFBVVD5bJ29uSW5wdXRTdGFydCddO1xuICAgIG9uSW5wdXREZWx0YT86IFRvb2w8SU5QVVQsIE9VVFBVVD5bJ29uSW5wdXREZWx0YSddO1xuICAgIG9uSW5wdXRBdmFpbGFibGU/OiBUb29sPElOUFVULCBPVVRQVVQ+WydvbklucHV0QXZhaWxhYmxlJ107XG4gIH0sXG4pID0+IFRvb2w8SU5QVVQsIE9VVFBVVD47XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQcm92aWRlckRlZmluZWRUb29sRmFjdG9yeTxJTlBVVCwgQVJHUyBleHRlbmRzIG9iamVjdD4oe1xuICBpZCxcbiAgbmFtZSxcbiAgaW5wdXRTY2hlbWEsXG59OiB7XG4gIGlkOiBgJHtzdHJpbmd9LiR7c3RyaW5nfWA7XG4gIG5hbWU6IHN0cmluZztcbiAgaW5wdXRTY2hlbWE6IEZsZXhpYmxlU2NoZW1hPElOUFVUPjtcbn0pOiBQcm92aWRlckRlZmluZWRUb29sRmFjdG9yeTxJTlBVVCwgQVJHUz4ge1xuICByZXR1cm4gPE9VVFBVVD4oe1xuICAgIGV4ZWN1dGUsXG4gICAgb3V0cHV0U2NoZW1hLFxuICAgIHRvTW9kZWxPdXRwdXQsXG4gICAgb25JbnB1dFN0YXJ0LFxuICAgIG9uSW5wdXREZWx0YSxcbiAgICBvbklucHV0QXZhaWxhYmxlLFxuICAgIC4uLmFyZ3NcbiAgfTogQVJHUyAmIHtcbiAgICBleGVjdXRlPzogVG9vbEV4ZWN1dGVGdW5jdGlvbjxJTlBVVCwgT1VUUFVUPjtcbiAgICBvdXRwdXRTY2hlbWE/OiBGbGV4aWJsZVNjaGVtYTxPVVRQVVQ+O1xuICAgIHRvTW9kZWxPdXRwdXQ/OiBUb29sPElOUFVULCBPVVRQVVQ+Wyd0b01vZGVsT3V0cHV0J107XG4gICAgb25JbnB1dFN0YXJ0PzogVG9vbDxJTlBVVCwgT1VUUFVUPlsnb25JbnB1dFN0YXJ0J107XG4gICAgb25JbnB1dERlbHRhPzogVG9vbDxJTlBVVCwgT1VUUFVUPlsnb25JbnB1dERlbHRhJ107XG4gICAgb25JbnB1dEF2YWlsYWJsZT86IFRvb2w8SU5QVVQsIE9VVFBVVD5bJ29uSW5wdXRBdmFpbGFibGUnXTtcbiAgfSk6IFRvb2w8SU5QVVQsIE9VVFBVVD4gPT5cbiAgICB0b29sKHtcbiAgICAgIHR5cGU6ICdwcm92aWRlci1kZWZpbmVkJyxcbiAgICAgIGlkLFxuICAgICAgbmFtZSxcbiAgICAgIGFyZ3MsXG4gICAgICBpbnB1dFNjaGVtYSxcbiAgICAgIG91dHB1dFNjaGVtYSxcbiAgICAgIGV4ZWN1dGUsXG4gICAgICB0b01vZGVsT3V0cHV0LFxuICAgICAgb25JbnB1dFN0YXJ0LFxuICAgICAgb25JbnB1dERlbHRhLFxuICAgICAgb25JbnB1dEF2YWlsYWJsZSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IHR5cGUgUHJvdmlkZXJEZWZpbmVkVG9vbEZhY3RvcnlXaXRoT3V0cHV0U2NoZW1hPFxuICBJTlBVVCxcbiAgT1VUUFVULFxuICBBUkdTIGV4dGVuZHMgb2JqZWN0LFxuPiA9IChcbiAgb3B0aW9uczogQVJHUyAmIHtcbiAgICBleGVjdXRlPzogVG9vbEV4ZWN1dGVGdW5jdGlvbjxJTlBVVCwgT1VUUFVUPjtcbiAgICB0b01vZGVsT3V0cHV0PzogVG9vbDxJTlBVVCwgT1VUUFVUPlsndG9Nb2RlbE91dHB1dCddO1xuICAgIG9uSW5wdXRTdGFydD86IFRvb2w8SU5QVVQsIE9VVFBVVD5bJ29uSW5wdXRTdGFydCddO1xuICAgIG9uSW5wdXREZWx0YT86IFRvb2w8SU5QVVQsIE9VVFBVVD5bJ29uSW5wdXREZWx0YSddO1xuICAgIG9uSW5wdXRBdmFpbGFibGU/OiBUb29sPElOUFVULCBPVVRQVVQ+WydvbklucHV0QXZhaWxhYmxlJ107XG4gIH0sXG4pID0+IFRvb2w8SU5QVVQsIE9VVFBVVD47XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQcm92aWRlckRlZmluZWRUb29sRmFjdG9yeVdpdGhPdXRwdXRTY2hlbWE8XG4gIElOUFVULFxuICBPVVRQVVQsXG4gIEFSR1MgZXh0ZW5kcyBvYmplY3QsXG4+KHtcbiAgaWQsXG4gIG5hbWUsXG4gIGlucHV0U2NoZW1hLFxuICBvdXRwdXRTY2hlbWEsXG59OiB7XG4gIGlkOiBgJHtzdHJpbmd9LiR7c3RyaW5nfWA7XG4gIG5hbWU6IHN0cmluZztcbiAgaW5wdXRTY2hlbWE6IEZsZXhpYmxlU2NoZW1hPElOUFVUPjtcbiAgb3V0cHV0U2NoZW1hOiBGbGV4aWJsZVNjaGVtYTxPVVRQVVQ+O1xufSk6IFByb3ZpZGVyRGVmaW5lZFRvb2xGYWN0b3J5V2l0aE91dHB1dFNjaGVtYTxJTlBVVCwgT1VUUFVULCBBUkdTPiB7XG4gIHJldHVybiAoe1xuICAgIGV4ZWN1dGUsXG4gICAgdG9Nb2RlbE91dHB1dCxcbiAgICBvbklucHV0U3RhcnQsXG4gICAgb25JbnB1dERlbHRhLFxuICAgIG9uSW5wdXRBdmFpbGFibGUsXG4gICAgLi4uYXJnc1xuICB9OiBBUkdTICYge1xuICAgIGV4ZWN1dGU/OiBUb29sRXhlY3V0ZUZ1bmN0aW9uPElOUFVULCBPVVRQVVQ+O1xuICAgIHRvTW9kZWxPdXRwdXQ/OiBUb29sPElOUFVULCBPVVRQVVQ+Wyd0b01vZGVsT3V0cHV0J107XG4gICAgb25JbnB1dFN0YXJ0PzogVG9vbDxJTlBVVCwgT1VUUFVUPlsnb25JbnB1dFN0YXJ0J107XG4gICAgb25JbnB1dERlbHRhPzogVG9vbDxJTlBVVCwgT1VUUFVUPlsnb25JbnB1dERlbHRhJ107XG4gICAgb25JbnB1dEF2YWlsYWJsZT86IFRvb2w8SU5QVVQsIE9VVFBVVD5bJ29uSW5wdXRBdmFpbGFibGUnXTtcbiAgfSk6IFRvb2w8SU5QVVQsIE9VVFBVVD4gPT5cbiAgICB0b29sKHtcbiAgICAgIHR5cGU6ICdwcm92aWRlci1kZWZpbmVkJyxcbiAgICAgIGlkLFxuICAgICAgbmFtZSxcbiAgICAgIGFyZ3MsXG4gICAgICBpbnB1dFNjaGVtYSxcbiAgICAgIG91dHB1dFNjaGVtYSxcbiAgICAgIGV4ZWN1dGUsXG4gICAgICB0b01vZGVsT3V0cHV0LFxuICAgICAgb25JbnB1dFN0YXJ0LFxuICAgICAgb25JbnB1dERlbHRhLFxuICAgICAgb25JbnB1dEF2YWlsYWJsZSxcbiAgICB9KTtcbn1cbiIsICJleHBvcnQgdHlwZSBSZXNvbHZhYmxlPFQ+ID1cbiAgfCBUIC8vIFJhdyB2YWx1ZVxuICB8IFByb21pc2U8VD4gLy8gUHJvbWlzZSBvZiB2YWx1ZVxuICB8ICgoKSA9PiBUKSAvLyBGdW5jdGlvbiByZXR1cm5pbmcgdmFsdWVcbiAgfCAoKCkgPT4gUHJvbWlzZTxUPik7IC8vIEZ1bmN0aW9uIHJldHVybmluZyBwcm9taXNlIG9mIHZhbHVlXG5cbi8qKlxuICogUmVzb2x2ZXMgYSB2YWx1ZSB0aGF0IGNvdWxkIGJlIGEgcmF3IHZhbHVlLCBhIFByb21pc2UsIGEgZnVuY3Rpb24gcmV0dXJuaW5nIGEgdmFsdWUsXG4gKiBvciBhIGZ1bmN0aW9uIHJldHVybmluZyBhIFByb21pc2UuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXNvbHZlPFQ+KHZhbHVlOiBSZXNvbHZhYmxlPFQ+KTogUHJvbWlzZTxUPiB7XG4gIC8vIElmIGl0J3MgYSBmdW5jdGlvbiwgY2FsbCBpdCB0byBnZXQgdGhlIHZhbHVlL3Byb21pc2VcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhbHVlID0gKHZhbHVlIGFzIEZ1bmN0aW9uKSgpO1xuICB9XG5cbiAgLy8gT3RoZXJ3aXNlIGp1c3QgcmVzb2x2ZSB3aGF0ZXZlciB3ZSBnb3QgKHZhbHVlIG9yIHByb21pc2UpXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUodmFsdWUgYXMgVCk7XG59XG4iLCAiaW1wb3J0IHsgQVBJQ2FsbEVycm9yLCBFbXB0eVJlc3BvbnNlQm9keUVycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBab2RUeXBlIH0gZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7IGV4dHJhY3RSZXNwb25zZUhlYWRlcnMgfSBmcm9tICcuL2V4dHJhY3QtcmVzcG9uc2UtaGVhZGVycyc7XG5pbXBvcnQgeyBwYXJzZUpTT04sIFBhcnNlUmVzdWx0LCBzYWZlUGFyc2VKU09OIH0gZnJvbSAnLi9wYXJzZS1qc29uJztcbmltcG9ydCB7IHBhcnNlSnNvbkV2ZW50U3RyZWFtIH0gZnJvbSAnLi9wYXJzZS1qc29uLWV2ZW50LXN0cmVhbSc7XG5cbmV4cG9ydCB0eXBlIFJlc3BvbnNlSGFuZGxlcjxSRVRVUk5fVFlQRT4gPSAob3B0aW9uczoge1xuICB1cmw6IHN0cmluZztcbiAgcmVxdWVzdEJvZHlWYWx1ZXM6IHVua25vd247XG4gIHJlc3BvbnNlOiBSZXNwb25zZTtcbn0pID0+IFByb21pc2VMaWtlPHtcbiAgdmFsdWU6IFJFVFVSTl9UWVBFO1xuICByYXdWYWx1ZT86IHVua25vd247XG4gIHJlc3BvbnNlSGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG59PjtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlciA9XG4gIDxUPih7XG4gICAgZXJyb3JTY2hlbWEsXG4gICAgZXJyb3JUb01lc3NhZ2UsXG4gICAgaXNSZXRyeWFibGUsXG4gIH06IHtcbiAgICBlcnJvclNjaGVtYTogWm9kVHlwZTxUPjtcbiAgICBlcnJvclRvTWVzc2FnZTogKGVycm9yOiBUKSA9PiBzdHJpbmc7XG4gICAgaXNSZXRyeWFibGU/OiAocmVzcG9uc2U6IFJlc3BvbnNlLCBlcnJvcj86IFQpID0+IGJvb2xlYW47XG4gIH0pOiBSZXNwb25zZUhhbmRsZXI8QVBJQ2FsbEVycm9yPiA9PlxuICBhc3luYyAoeyByZXNwb25zZSwgdXJsLCByZXF1ZXN0Qm9keVZhbHVlcyB9KSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2VCb2R5ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGV4dHJhY3RSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UpO1xuXG4gICAgLy8gU29tZSBwcm92aWRlcnMgcmV0dXJuIGFuIGVtcHR5IHJlc3BvbnNlIGJvZHkgZm9yIHNvbWUgZXJyb3JzOlxuICAgIGlmIChyZXNwb25zZUJvZHkudHJpbSgpID09PSAnJykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICB2YWx1ZTogbmV3IEFQSUNhbGxFcnJvcih7XG4gICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgICAgICB1cmwsXG4gICAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXMsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgICByZXNwb25zZUJvZHksXG4gICAgICAgICAgaXNSZXRyeWFibGU6IGlzUmV0cnlhYmxlPy4ocmVzcG9uc2UpLFxuICAgICAgICB9KSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gcmVzaWxpZW50IHBhcnNpbmcgaW4gY2FzZSB0aGUgcmVzcG9uc2UgaXMgbm90IEpTT04gb3IgZG9lcyBub3QgbWF0Y2ggdGhlIHNjaGVtYTpcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGFyc2VkRXJyb3IgPSBhd2FpdCBwYXJzZUpTT04oe1xuICAgICAgICB0ZXh0OiByZXNwb25zZUJvZHksXG4gICAgICAgIHNjaGVtYTogZXJyb3JTY2hlbWEsXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICB2YWx1ZTogbmV3IEFQSUNhbGxFcnJvcih7XG4gICAgICAgICAgbWVzc2FnZTogZXJyb3JUb01lc3NhZ2UocGFyc2VkRXJyb3IpLFxuICAgICAgICAgIHVybCxcbiAgICAgICAgICByZXF1ZXN0Qm9keVZhbHVlcyxcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICAgIHJlc3BvbnNlQm9keSxcbiAgICAgICAgICBkYXRhOiBwYXJzZWRFcnJvcixcbiAgICAgICAgICBpc1JldHJ5YWJsZTogaXNSZXRyeWFibGU/LihyZXNwb25zZSwgcGFyc2VkRXJyb3IpLFxuICAgICAgICB9KSxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAocGFyc2VFcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICB2YWx1ZTogbmV3IEFQSUNhbGxFcnJvcih7XG4gICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgICAgICB1cmwsXG4gICAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXMsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgICByZXNwb25zZUJvZHksXG4gICAgICAgICAgaXNSZXRyeWFibGU6IGlzUmV0cnlhYmxlPy4ocmVzcG9uc2UpLFxuICAgICAgICB9KSxcbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIgPVxuICA8VD4oXG4gICAgY2h1bmtTY2hlbWE6IFpvZFR5cGU8VD4sXG4gICk6IFJlc3BvbnNlSGFuZGxlcjxSZWFkYWJsZVN0cmVhbTxQYXJzZVJlc3VsdDxUPj4+ID0+XG4gIGFzeW5jICh7IHJlc3BvbnNlIH06IHsgcmVzcG9uc2U6IFJlc3BvbnNlIH0pID0+IHtcbiAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKTtcblxuICAgIGlmIChyZXNwb25zZS5ib2R5ID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFbXB0eVJlc3BvbnNlQm9keUVycm9yKHt9KTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgdmFsdWU6IHBhcnNlSnNvbkV2ZW50U3RyZWFtKHtcbiAgICAgICAgc3RyZWFtOiByZXNwb25zZS5ib2R5LFxuICAgICAgICBzY2hlbWE6IGNodW5rU2NoZW1hLFxuICAgICAgfSksXG4gICAgfTtcbiAgfTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUpzb25TdHJlYW1SZXNwb25zZUhhbmRsZXIgPVxuICA8VD4oXG4gICAgY2h1bmtTY2hlbWE6IFpvZFR5cGU8VD4sXG4gICk6IFJlc3BvbnNlSGFuZGxlcjxSZWFkYWJsZVN0cmVhbTxQYXJzZVJlc3VsdDxUPj4+ID0+XG4gIGFzeW5jICh7IHJlc3BvbnNlIH06IHsgcmVzcG9uc2U6IFJlc3BvbnNlIH0pID0+IHtcbiAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKTtcblxuICAgIGlmIChyZXNwb25zZS5ib2R5ID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFbXB0eVJlc3BvbnNlQm9keUVycm9yKHt9KTtcbiAgICB9XG5cbiAgICBsZXQgYnVmZmVyID0gJyc7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgdmFsdWU6IHJlc3BvbnNlLmJvZHkucGlwZVRocm91Z2gobmV3IFRleHREZWNvZGVyU3RyZWFtKCkpLnBpcGVUaHJvdWdoKFxuICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPHN0cmluZywgUGFyc2VSZXN1bHQ8VD4+KHtcbiAgICAgICAgICBhc3luYyB0cmFuc2Zvcm0oY2h1bmtUZXh0LCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBpZiAoY2h1bmtUZXh0LmVuZHNXaXRoKCdcXG4nKSkge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoXG4gICAgICAgICAgICAgICAgYXdhaXQgc2FmZVBhcnNlSlNPTih7XG4gICAgICAgICAgICAgICAgICB0ZXh0OiBidWZmZXIgKyBjaHVua1RleHQsXG4gICAgICAgICAgICAgICAgICBzY2hlbWE6IGNodW5rU2NoZW1hLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBidWZmZXIgPSAnJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGJ1ZmZlciArPSBjaHVua1RleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICApLFxuICAgIH07XG4gIH07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyID1cbiAgPFQ+KHJlc3BvbnNlU2NoZW1hOiBab2RUeXBlPFQ+KTogUmVzcG9uc2VIYW5kbGVyPFQ+ID0+XG4gIGFzeW5jICh7IHJlc3BvbnNlLCB1cmwsIHJlcXVlc3RCb2R5VmFsdWVzIH0pID0+IHtcbiAgICBjb25zdCByZXNwb25zZUJvZHkgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG5cbiAgICBjb25zdCBwYXJzZWRSZXN1bHQgPSBhd2FpdCBzYWZlUGFyc2VKU09OKHtcbiAgICAgIHRleHQ6IHJlc3BvbnNlQm9keSxcbiAgICAgIHNjaGVtYTogcmVzcG9uc2VTY2hlbWEsXG4gICAgfSk7XG5cbiAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKTtcblxuICAgIGlmICghcGFyc2VkUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIHRocm93IG5ldyBBUElDYWxsRXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBKU09OIHJlc3BvbnNlJyxcbiAgICAgICAgY2F1c2U6IHBhcnNlZFJlc3VsdC5lcnJvcixcbiAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHJlc3BvbnNlQm9keSxcbiAgICAgICAgdXJsLFxuICAgICAgICByZXF1ZXN0Qm9keVZhbHVlcyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICB2YWx1ZTogcGFyc2VkUmVzdWx0LnZhbHVlLFxuICAgICAgcmF3VmFsdWU6IHBhcnNlZFJlc3VsdC5yYXdWYWx1ZSxcbiAgICB9O1xuICB9O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlQmluYXJ5UmVzcG9uc2VIYW5kbGVyID1cbiAgKCk6IFJlc3BvbnNlSGFuZGxlcjxVaW50OEFycmF5PiA9PlxuICBhc3luYyAoeyByZXNwb25zZSwgdXJsLCByZXF1ZXN0Qm9keVZhbHVlcyB9KSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLmJvZHkpIHtcbiAgICAgIHRocm93IG5ldyBBUElDYWxsRXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiAnUmVzcG9uc2UgYm9keSBpcyBlbXB0eScsXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXMsXG4gICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICByZXNwb25zZUJvZHk6IHVuZGVmaW5lZCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBidWZmZXIgPSBhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICB2YWx1ZTogbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBBUElDYWxsRXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHJlYWQgcmVzcG9uc2UgYXMgYXJyYXkgYnVmZmVyJyxcbiAgICAgICAgdXJsLFxuICAgICAgICByZXF1ZXN0Qm9keVZhbHVlcyxcbiAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHJlc3BvbnNlQm9keTogdW5kZWZpbmVkLFxuICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVTdGF0dXNDb2RlRXJyb3JSZXNwb25zZUhhbmRsZXIgPVxuICAoKTogUmVzcG9uc2VIYW5kbGVyPEFQSUNhbGxFcnJvcj4gPT5cbiAgYXN5bmMgKHsgcmVzcG9uc2UsIHVybCwgcmVxdWVzdEJvZHlWYWx1ZXMgfSkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGV4dHJhY3RSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UpO1xuICAgIGNvbnN0IHJlc3BvbnNlQm9keSA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcblxuICAgIHJldHVybiB7XG4gICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICB2YWx1ZTogbmV3IEFQSUNhbGxFcnJvcih7XG4gICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IHJlcXVlc3RCb2R5VmFsdWVzIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgcmVzcG9uc2VCb2R5LFxuICAgICAgfSksXG4gICAgfTtcbiAgfTtcbiIsICJpbXBvcnQgeyBKU09OU2NoZW1hNyB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0ICogYXMgejMgZnJvbSAnem9kL3YzJztcbmltcG9ydCAqIGFzIHo0IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgem9kVG9Kc29uU2NoZW1hIGZyb20gJy4vem9kLXRvLWpzb24tc2NoZW1hJztcbmltcG9ydCB7IGpzb25TY2hlbWEsIFNjaGVtYSB9IGZyb20gJy4vc2NoZW1hJztcblxuZXhwb3J0IGZ1bmN0aW9uIHpvZDNTY2hlbWE8T0JKRUNUPihcbiAgem9kU2NoZW1hOiB6My5TY2hlbWE8T0JKRUNULCB6My5ab2RUeXBlRGVmLCBhbnk+LFxuICBvcHRpb25zPzoge1xuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgc3VwcG9ydCBmb3IgcmVmZXJlbmNlcyBpbiB0aGUgc2NoZW1hLlxuICAgICAqIFRoaXMgaXMgcmVxdWlyZWQgZm9yIHJlY3Vyc2l2ZSBzY2hlbWFzLCBlLmcuIHdpdGggYHoubGF6eWAuXG4gICAgICogSG93ZXZlciwgbm90IGFsbCBsYW5ndWFnZSBtb2RlbHMgYW5kIHByb3ZpZGVycyBzdXBwb3J0IHN1Y2ggcmVmZXJlbmNlcy5cbiAgICAgKiBEZWZhdWx0cyB0byBgZmFsc2VgLlxuICAgICAqL1xuICAgIHVzZVJlZmVyZW5jZXM/OiBib29sZWFuO1xuICB9LFxuKTogU2NoZW1hPE9CSkVDVD4ge1xuICAvLyBkZWZhdWx0IHRvIG5vIHJlZmVyZW5jZXMgKHRvIHN1cHBvcnQgb3BlbmFwaSBjb252ZXJzaW9uIGZvciBnb29nbGUpXG4gIGNvbnN0IHVzZVJlZmVyZW5jZXMgPSBvcHRpb25zPy51c2VSZWZlcmVuY2VzID8/IGZhbHNlO1xuXG4gIHJldHVybiBqc29uU2NoZW1hKFxuICAgIHpvZFRvSnNvblNjaGVtYSh6b2RTY2hlbWEsIHtcbiAgICAgICRyZWZTdHJhdGVneTogdXNlUmVmZXJlbmNlcyA/ICdyb290JyA6ICdub25lJyxcbiAgICB9KSBhcyBKU09OU2NoZW1hNyxcbiAgICB7XG4gICAgICB2YWxpZGF0ZTogYXN5bmMgdmFsdWUgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB6b2RTY2hlbWEuc2FmZVBhcnNlQXN5bmModmFsdWUpO1xuICAgICAgICByZXR1cm4gcmVzdWx0LnN1Y2Nlc3NcbiAgICAgICAgICA/IHsgc3VjY2VzczogdHJ1ZSwgdmFsdWU6IHJlc3VsdC5kYXRhIH1cbiAgICAgICAgICA6IHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiByZXN1bHQuZXJyb3IgfTtcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHpvZDRTY2hlbWE8T0JKRUNUPihcbiAgem9kU2NoZW1hOiB6NC5jb3JlLiRab2RUeXBlPE9CSkVDVCwgYW55PixcbiAgb3B0aW9ucz86IHtcbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHN1cHBvcnQgZm9yIHJlZmVyZW5jZXMgaW4gdGhlIHNjaGVtYS5cbiAgICAgKiBUaGlzIGlzIHJlcXVpcmVkIGZvciByZWN1cnNpdmUgc2NoZW1hcywgZS5nLiB3aXRoIGB6LmxhenlgLlxuICAgICAqIEhvd2V2ZXIsIG5vdCBhbGwgbGFuZ3VhZ2UgbW9kZWxzIGFuZCBwcm92aWRlcnMgc3VwcG9ydCBzdWNoIHJlZmVyZW5jZXMuXG4gICAgICogRGVmYXVsdHMgdG8gYGZhbHNlYC5cbiAgICAgKi9cbiAgICB1c2VSZWZlcmVuY2VzPzogYm9vbGVhbjtcbiAgfSxcbik6IFNjaGVtYTxPQkpFQ1Q+IHtcbiAgLy8gZGVmYXVsdCB0byBubyByZWZlcmVuY2VzICh0byBzdXBwb3J0IG9wZW5hcGkgY29udmVyc2lvbiBmb3IgZ29vZ2xlKVxuICBjb25zdCB1c2VSZWZlcmVuY2VzID0gb3B0aW9ucz8udXNlUmVmZXJlbmNlcyA/PyBmYWxzZTtcblxuICBjb25zdCB6NEpTT05TY2hlbWEgPSB6NC50b0pTT05TY2hlbWEoem9kU2NoZW1hLCB7XG4gICAgdGFyZ2V0OiAnZHJhZnQtNycsXG4gICAgaW86ICdvdXRwdXQnLFxuICAgIHJldXNlZDogdXNlUmVmZXJlbmNlcyA/ICdyZWYnIDogJ2lubGluZScsXG4gIH0pIGFzIEpTT05TY2hlbWE3O1xuXG4gIHJldHVybiBqc29uU2NoZW1hKHo0SlNPTlNjaGVtYSwge1xuICAgIHZhbGlkYXRlOiBhc3luYyB2YWx1ZSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB6NC5zYWZlUGFyc2VBc3luYyh6b2RTY2hlbWEsIHZhbHVlKTtcbiAgICAgIHJldHVybiByZXN1bHQuc3VjY2Vzc1xuICAgICAgICA/IHsgc3VjY2VzczogdHJ1ZSwgdmFsdWU6IHJlc3VsdC5kYXRhIH1cbiAgICAgICAgOiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogcmVzdWx0LmVycm9yIH07XG4gICAgfSxcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1pvZDRTY2hlbWEoXG4gIHpvZFNjaGVtYTogejQuY29yZS4kWm9kVHlwZTxhbnksIGFueT4gfCB6My5TY2hlbWE8YW55LCB6My5ab2RUeXBlRGVmLCBhbnk+LFxuKTogem9kU2NoZW1hIGlzIHo0LmNvcmUuJFpvZFR5cGU8YW55LCBhbnk+IHtcbiAgLy8gaHR0cHM6Ly96b2QuZGV2L2xpYnJhcnktYXV0aG9ycz9pZD1ob3ctdG8tc3VwcG9ydC16b2QtMy1hbmQtem9kLTQtc2ltdWx0YW5lb3VzbHlcbiAgcmV0dXJuICdfem9kJyBpbiB6b2RTY2hlbWE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB6b2RTY2hlbWE8T0JKRUNUPihcbiAgem9kU2NoZW1hOlxuICAgIHwgejQuY29yZS4kWm9kVHlwZTxPQkpFQ1QsIGFueT5cbiAgICB8IHozLlNjaGVtYTxPQkpFQ1QsIHozLlpvZFR5cGVEZWYsIGFueT4sXG4gIG9wdGlvbnM/OiB7XG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBzdXBwb3J0IGZvciByZWZlcmVuY2VzIGluIHRoZSBzY2hlbWEuXG4gICAgICogVGhpcyBpcyByZXF1aXJlZCBmb3IgcmVjdXJzaXZlIHNjaGVtYXMsIGUuZy4gd2l0aCBgei5sYXp5YC5cbiAgICAgKiBIb3dldmVyLCBub3QgYWxsIGxhbmd1YWdlIG1vZGVscyBhbmQgcHJvdmlkZXJzIHN1cHBvcnQgc3VjaCByZWZlcmVuY2VzLlxuICAgICAqIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gICAgICovXG4gICAgdXNlUmVmZXJlbmNlcz86IGJvb2xlYW47XG4gIH0sXG4pOiBTY2hlbWE8T0JKRUNUPiB7XG4gIGlmIChpc1pvZDRTY2hlbWEoem9kU2NoZW1hKSkge1xuICAgIHJldHVybiB6b2Q0U2NoZW1hKHpvZFNjaGVtYSwgb3B0aW9ucyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHpvZDNTY2hlbWEoem9kU2NoZW1hLCBvcHRpb25zKTtcbiAgfVxufVxuIiwgImV4cG9ydCBjb25zdCBnZXRSZWxhdGl2ZVBhdGggPSAocGF0aEE6IHN0cmluZ1tdLCBwYXRoQjogc3RyaW5nW10pID0+IHtcbiAgbGV0IGkgPSAwO1xuICBmb3IgKDsgaSA8IHBhdGhBLmxlbmd0aCAmJiBpIDwgcGF0aEIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAocGF0aEFbaV0gIT09IHBhdGhCW2ldKSBicmVhaztcbiAgfVxuICByZXR1cm4gWyhwYXRoQS5sZW5ndGggLSBpKS50b1N0cmluZygpLCAuLi5wYXRoQi5zbGljZShpKV0uam9pbignLycpO1xufTtcbiIsICJpbXBvcnQgeyBab2RTY2hlbWEsIFpvZFR5cGVEZWYgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgUmVmcywgU2VlbiB9IGZyb20gJy4vcmVmcyc7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuL3BhcnNlLXR5cGVzJztcblxuZXhwb3J0IHR5cGUgRGF0ZVN0cmF0ZWd5ID1cbiAgfCAnZm9ybWF0OmRhdGUtdGltZSdcbiAgfCAnZm9ybWF0OmRhdGUnXG4gIHwgJ3N0cmluZydcbiAgfCAnaW50ZWdlcic7XG5cbmV4cG9ydCBjb25zdCBpZ25vcmVPdmVycmlkZSA9IFN5bWJvbChcbiAgJ0xldCB6b2RUb0pzb25TY2hlbWEgZGVjaWRlIG9uIHdoaWNoIHBhcnNlciB0byB1c2UnLFxuKTtcblxuZXhwb3J0IHR5cGUgT3ZlcnJpZGVDYWxsYmFjayA9IChcbiAgZGVmOiBab2RUeXBlRGVmLFxuICByZWZzOiBSZWZzLFxuICBzZWVuOiBTZWVuIHwgdW5kZWZpbmVkLFxuICBmb3JjZVJlc29sdXRpb24/OiBib29sZWFuLFxuKSA9PiBKc29uU2NoZW1hN1R5cGUgfCB1bmRlZmluZWQgfCB0eXBlb2YgaWdub3JlT3ZlcnJpZGU7XG5cbmV4cG9ydCB0eXBlIFBvc3RQcm9jZXNzQ2FsbGJhY2sgPSAoXG4gIGpzb25TY2hlbWE6IEpzb25TY2hlbWE3VHlwZSB8IHVuZGVmaW5lZCxcbiAgZGVmOiBab2RUeXBlRGVmLFxuICByZWZzOiBSZWZzLFxuKSA9PiBKc29uU2NoZW1hN1R5cGUgfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCBjb25zdCBqc29uRGVzY3JpcHRpb246IFBvc3RQcm9jZXNzQ2FsbGJhY2sgPSAoanNvblNjaGVtYSwgZGVmKSA9PiB7XG4gIGlmIChkZWYuZGVzY3JpcHRpb24pIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uanNvblNjaGVtYSxcbiAgICAgICAgLi4uSlNPTi5wYXJzZShkZWYuZGVzY3JpcHRpb24pLFxuICAgICAgfTtcbiAgICB9IGNhdGNoIHt9XG4gIH1cblxuICByZXR1cm4ganNvblNjaGVtYTtcbn07XG5cbmV4cG9ydCB0eXBlIE9wdGlvbnMgPSB7XG4gIG5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgJHJlZlN0cmF0ZWd5OiAncm9vdCcgfCAncmVsYXRpdmUnIHwgJ25vbmUnIHwgJ3NlZW4nO1xuICBiYXNlUGF0aDogc3RyaW5nW107XG4gIGVmZmVjdFN0cmF0ZWd5OiAnaW5wdXQnIHwgJ2FueSc7XG4gIHBpcGVTdHJhdGVneTogJ2lucHV0JyB8ICdvdXRwdXQnIHwgJ2FsbCc7XG4gIGRhdGVTdHJhdGVneTogRGF0ZVN0cmF0ZWd5IHwgRGF0ZVN0cmF0ZWd5W107XG4gIG1hcFN0cmF0ZWd5OiAnZW50cmllcycgfCAncmVjb3JkJztcbiAgcmVtb3ZlQWRkaXRpb25hbFN0cmF0ZWd5OiAncGFzc3Rocm91Z2gnIHwgJ3N0cmljdCc7XG4gIGFsbG93ZWRBZGRpdGlvbmFsUHJvcGVydGllczogdHJ1ZSB8IHVuZGVmaW5lZDtcbiAgcmVqZWN0ZWRBZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UgfCB1bmRlZmluZWQ7XG4gIHN0cmljdFVuaW9uczogYm9vbGVhbjtcbiAgZGVmaW5pdGlvblBhdGg6IHN0cmluZztcbiAgZGVmaW5pdGlvbnM6IFJlY29yZDxzdHJpbmcsIFpvZFNjaGVtYT47XG4gIGVycm9yTWVzc2FnZXM6IGJvb2xlYW47XG4gIHBhdHRlcm5TdHJhdGVneTogJ2VzY2FwZScgfCAncHJlc2VydmUnO1xuICBhcHBseVJlZ2V4RmxhZ3M6IGJvb2xlYW47XG4gIGVtYWlsU3RyYXRlZ3k6ICdmb3JtYXQ6ZW1haWwnIHwgJ2Zvcm1hdDppZG4tZW1haWwnIHwgJ3BhdHRlcm46em9kJztcbiAgYmFzZTY0U3RyYXRlZ3k6ICdmb3JtYXQ6YmluYXJ5JyB8ICdjb250ZW50RW5jb2Rpbmc6YmFzZTY0JyB8ICdwYXR0ZXJuOnpvZCc7XG4gIG5hbWVTdHJhdGVneTogJ3JlZicgfCAndGl0bGUnO1xuICBvdmVycmlkZT86IE92ZXJyaWRlQ2FsbGJhY2s7XG4gIHBvc3RQcm9jZXNzPzogUG9zdFByb2Nlc3NDYWxsYmFjaztcbn07XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0T3B0aW9uczogT3B0aW9ucyA9IHtcbiAgbmFtZTogdW5kZWZpbmVkLFxuICAkcmVmU3RyYXRlZ3k6ICdyb290JyxcbiAgYmFzZVBhdGg6IFsnIyddLFxuICBlZmZlY3RTdHJhdGVneTogJ2lucHV0JyxcbiAgcGlwZVN0cmF0ZWd5OiAnYWxsJyxcbiAgZGF0ZVN0cmF0ZWd5OiAnZm9ybWF0OmRhdGUtdGltZScsXG4gIG1hcFN0cmF0ZWd5OiAnZW50cmllcycsXG4gIHJlbW92ZUFkZGl0aW9uYWxTdHJhdGVneTogJ3Bhc3N0aHJvdWdoJyxcbiAgYWxsb3dlZEFkZGl0aW9uYWxQcm9wZXJ0aWVzOiB0cnVlLFxuICByZWplY3RlZEFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgZGVmaW5pdGlvblBhdGg6ICdkZWZpbml0aW9ucycsXG4gIHN0cmljdFVuaW9uczogZmFsc2UsXG4gIGRlZmluaXRpb25zOiB7fSxcbiAgZXJyb3JNZXNzYWdlczogZmFsc2UsXG4gIHBhdHRlcm5TdHJhdGVneTogJ2VzY2FwZScsXG4gIGFwcGx5UmVnZXhGbGFnczogZmFsc2UsXG4gIGVtYWlsU3RyYXRlZ3k6ICdmb3JtYXQ6ZW1haWwnLFxuICBiYXNlNjRTdHJhdGVneTogJ2NvbnRlbnRFbmNvZGluZzpiYXNlNjQnLFxuICBuYW1lU3RyYXRlZ3k6ICdyZWYnLFxufTtcblxuZXhwb3J0IGNvbnN0IGdldERlZmF1bHRPcHRpb25zID0gKFxuICBvcHRpb25zOiBQYXJ0aWFsPE9wdGlvbnM+IHwgc3RyaW5nIHwgdW5kZWZpbmVkLFxuKSA9PlxuICAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnXG4gICAgPyB7XG4gICAgICAgIC4uLmRlZmF1bHRPcHRpb25zLFxuICAgICAgICBuYW1lOiBvcHRpb25zLFxuICAgICAgfVxuICAgIDoge1xuICAgICAgICAuLi5kZWZhdWx0T3B0aW9ucyxcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIH0pIGFzIE9wdGlvbnM7XG4iLCAiaW1wb3J0IHsgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlQW55RGVmIH0gZnJvbSAnLi9wYXJzZXJzL2FueSc7XG5pbXBvcnQgeyBwYXJzZUFycmF5RGVmIH0gZnJvbSAnLi9wYXJzZXJzL2FycmF5JztcbmltcG9ydCB7IHBhcnNlQmlnaW50RGVmIH0gZnJvbSAnLi9wYXJzZXJzL2JpZ2ludCc7XG5pbXBvcnQgeyBwYXJzZUJvb2xlYW5EZWYgfSBmcm9tICcuL3BhcnNlcnMvYm9vbGVhbic7XG5pbXBvcnQgeyBwYXJzZUJyYW5kZWREZWYgfSBmcm9tICcuL3BhcnNlcnMvYnJhbmRlZCc7XG5pbXBvcnQgeyBwYXJzZUNhdGNoRGVmIH0gZnJvbSAnLi9wYXJzZXJzL2NhdGNoJztcbmltcG9ydCB7IHBhcnNlRGF0ZURlZiB9IGZyb20gJy4vcGFyc2Vycy9kYXRlJztcbmltcG9ydCB7IHBhcnNlRGVmYXVsdERlZiB9IGZyb20gJy4vcGFyc2Vycy9kZWZhdWx0JztcbmltcG9ydCB7IHBhcnNlRWZmZWN0c0RlZiB9IGZyb20gJy4vcGFyc2Vycy9lZmZlY3RzJztcbmltcG9ydCB7IHBhcnNlRW51bURlZiB9IGZyb20gJy4vcGFyc2Vycy9lbnVtJztcbmltcG9ydCB7IHBhcnNlSW50ZXJzZWN0aW9uRGVmIH0gZnJvbSAnLi9wYXJzZXJzL2ludGVyc2VjdGlvbic7XG5pbXBvcnQgeyBwYXJzZUxpdGVyYWxEZWYgfSBmcm9tICcuL3BhcnNlcnMvbGl0ZXJhbCc7XG5pbXBvcnQgeyBwYXJzZU1hcERlZiB9IGZyb20gJy4vcGFyc2Vycy9tYXAnO1xuaW1wb3J0IHsgcGFyc2VOYXRpdmVFbnVtRGVmIH0gZnJvbSAnLi9wYXJzZXJzL25hdGl2ZS1lbnVtJztcbmltcG9ydCB7IHBhcnNlTmV2ZXJEZWYgfSBmcm9tICcuL3BhcnNlcnMvbmV2ZXInO1xuaW1wb3J0IHsgcGFyc2VOdWxsRGVmIH0gZnJvbSAnLi9wYXJzZXJzL251bGwnO1xuaW1wb3J0IHsgcGFyc2VOdWxsYWJsZURlZiB9IGZyb20gJy4vcGFyc2Vycy9udWxsYWJsZSc7XG5pbXBvcnQgeyBwYXJzZU51bWJlckRlZiB9IGZyb20gJy4vcGFyc2Vycy9udW1iZXInO1xuaW1wb3J0IHsgcGFyc2VPYmplY3REZWYgfSBmcm9tICcuL3BhcnNlcnMvb2JqZWN0JztcbmltcG9ydCB7IHBhcnNlT3B0aW9uYWxEZWYgfSBmcm9tICcuL3BhcnNlcnMvb3B0aW9uYWwnO1xuaW1wb3J0IHsgcGFyc2VQaXBlbGluZURlZiB9IGZyb20gJy4vcGFyc2Vycy9waXBlbGluZSc7XG5pbXBvcnQgeyBwYXJzZVByb21pc2VEZWYgfSBmcm9tICcuL3BhcnNlcnMvcHJvbWlzZSc7XG5pbXBvcnQgeyBwYXJzZVJlY29yZERlZiB9IGZyb20gJy4vcGFyc2Vycy9yZWNvcmQnO1xuaW1wb3J0IHsgcGFyc2VTZXREZWYgfSBmcm9tICcuL3BhcnNlcnMvc2V0JztcbmltcG9ydCB7IHBhcnNlU3RyaW5nRGVmIH0gZnJvbSAnLi9wYXJzZXJzL3N0cmluZyc7XG5pbXBvcnQgeyBwYXJzZVR1cGxlRGVmIH0gZnJvbSAnLi9wYXJzZXJzL3R1cGxlJztcbmltcG9ydCB7IHBhcnNlVW5kZWZpbmVkRGVmIH0gZnJvbSAnLi9wYXJzZXJzL3VuZGVmaW5lZCc7XG5pbXBvcnQgeyBwYXJzZVVuaW9uRGVmIH0gZnJvbSAnLi9wYXJzZXJzL3VuaW9uJztcbmltcG9ydCB7IHBhcnNlVW5rbm93bkRlZiB9IGZyb20gJy4vcGFyc2Vycy91bmtub3duJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuL3JlZnMnO1xuaW1wb3J0IHsgcGFyc2VSZWFkb25seURlZiB9IGZyb20gJy4vcGFyc2Vycy9yZWFkb25seSc7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuL3BhcnNlLXR5cGVzJztcblxuZXhwb3J0IHR5cGUgSW5uZXJEZWZHZXR0ZXIgPSAoKSA9PiBhbnk7XG5cbmV4cG9ydCBjb25zdCBzZWxlY3RQYXJzZXIgPSAoXG4gIGRlZjogYW55LFxuICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLFxuICByZWZzOiBSZWZzLFxuKTogSnNvblNjaGVtYTdUeXBlIHwgdW5kZWZpbmVkIHwgSW5uZXJEZWZHZXR0ZXIgPT4ge1xuICBzd2l0Y2ggKHR5cGVOYW1lKSB7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3RyaW5nOlxuICAgICAgcmV0dXJuIHBhcnNlU3RyaW5nRGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVtYmVyOlxuICAgICAgcmV0dXJuIHBhcnNlTnVtYmVyRGVmKGRlZik7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0OlxuICAgICAgcmV0dXJuIHBhcnNlT2JqZWN0RGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQmlnSW50OlxuICAgICAgcmV0dXJuIHBhcnNlQmlnaW50RGVmKGRlZik7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQm9vbGVhbjpcbiAgICAgIHJldHVybiBwYXJzZUJvb2xlYW5EZWYoKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REYXRlOlxuICAgICAgcmV0dXJuIHBhcnNlRGF0ZURlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuZGVmaW5lZDpcbiAgICAgIHJldHVybiBwYXJzZVVuZGVmaW5lZERlZigpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGw6XG4gICAgICByZXR1cm4gcGFyc2VOdWxsRGVmKCk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQXJyYXk6XG4gICAgICByZXR1cm4gcGFyc2VBcnJheURlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuaW9uOlxuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERpc2NyaW1pbmF0ZWRVbmlvbjpcbiAgICAgIHJldHVybiBwYXJzZVVuaW9uRGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kSW50ZXJzZWN0aW9uOlxuICAgICAgcmV0dXJuIHBhcnNlSW50ZXJzZWN0aW9uRGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVHVwbGU6XG4gICAgICByZXR1cm4gcGFyc2VUdXBsZURlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZDpcbiAgICAgIHJldHVybiBwYXJzZVJlY29yZERlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExpdGVyYWw6XG4gICAgICByZXR1cm4gcGFyc2VMaXRlcmFsRGVmKGRlZik7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRW51bTpcbiAgICAgIHJldHVybiBwYXJzZUVudW1EZWYoZGVmKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYXRpdmVFbnVtOlxuICAgICAgcmV0dXJuIHBhcnNlTmF0aXZlRW51bURlZihkZWYpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGxhYmxlOlxuICAgICAgcmV0dXJuIHBhcnNlTnVsbGFibGVEZWYoZGVmLCByZWZzKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPcHRpb25hbDpcbiAgICAgIHJldHVybiBwYXJzZU9wdGlvbmFsRGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTWFwOlxuICAgICAgcmV0dXJuIHBhcnNlTWFwRGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU2V0OlxuICAgICAgcmV0dXJuIHBhcnNlU2V0RGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGF6eTpcbiAgICAgIHJldHVybiAoKSA9PiAoZGVmIGFzIGFueSkuZ2V0dGVyKCkuX2RlZjtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQcm9taXNlOlxuICAgICAgcmV0dXJuIHBhcnNlUHJvbWlzZURlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hTjpcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROZXZlcjpcbiAgICAgIHJldHVybiBwYXJzZU5ldmVyRGVmKCk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0czpcbiAgICAgIHJldHVybiBwYXJzZUVmZmVjdHNEZWYoZGVmLCByZWZzKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBbnk6XG4gICAgICByZXR1cm4gcGFyc2VBbnlEZWYoKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmtub3duOlxuICAgICAgcmV0dXJuIHBhcnNlVW5rbm93bkRlZigpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERlZmF1bHQ6XG4gICAgICByZXR1cm4gcGFyc2VEZWZhdWx0RGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQnJhbmRlZDpcbiAgICAgIHJldHVybiBwYXJzZUJyYW5kZWREZWYoZGVmLCByZWZzKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWFkb25seTpcbiAgICAgIHJldHVybiBwYXJzZVJlYWRvbmx5RGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQ2F0Y2g6XG4gICAgICByZXR1cm4gcGFyc2VDYXRjaERlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFBpcGVsaW5lOlxuICAgICAgcmV0dXJuIHBhcnNlUGlwZWxpbmVEZWYoZGVmLCByZWZzKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RGdW5jdGlvbjpcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RWb2lkOlxuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN5bWJvbDpcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgZGVmYXVsdDpcbiAgICAgIC8qIGM4IGlnbm9yZSBuZXh0ICovXG4gICAgICByZXR1cm4gKChfOiBuZXZlcikgPT4gdW5kZWZpbmVkKSh0eXBlTmFtZSk7XG4gIH1cbn07XG4iLCAiZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdBbnlUeXBlID0geyAkcmVmPzogc3RyaW5nIH07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUFueURlZigpOiBKc29uU2NoZW1hN0FueVR5cGUge1xuICByZXR1cm4ge307XG59XG4iLCAiaW1wb3J0IHsgWm9kQXJyYXlEZWYsIFpvZEZpcnN0UGFydHlUeXBlS2luZCB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gJy4uL3BhcnNlLWRlZic7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuLi9wYXJzZS10eXBlcyc7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi4vcmVmcyc7XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3QXJyYXlUeXBlID0ge1xuICB0eXBlOiAnYXJyYXknO1xuICBpdGVtcz86IEpzb25TY2hlbWE3VHlwZTtcbiAgbWluSXRlbXM/OiBudW1iZXI7XG4gIG1heEl0ZW1zPzogbnVtYmVyO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQXJyYXlEZWYoZGVmOiBab2RBcnJheURlZiwgcmVmczogUmVmcykge1xuICBjb25zdCByZXM6IEpzb25TY2hlbWE3QXJyYXlUeXBlID0ge1xuICAgIHR5cGU6ICdhcnJheScsXG4gIH07XG4gIGlmIChcbiAgICBkZWYudHlwZT8uX2RlZiAmJlxuICAgIGRlZi50eXBlPy5fZGVmPy50eXBlTmFtZSAhPT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFueVxuICApIHtcbiAgICByZXMuaXRlbXMgPSBwYXJzZURlZihkZWYudHlwZS5fZGVmLCB7XG4gICAgICAuLi5yZWZzLFxuICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnaXRlbXMnXSxcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChkZWYubWluTGVuZ3RoKSB7XG4gICAgcmVzLm1pbkl0ZW1zID0gZGVmLm1pbkxlbmd0aC52YWx1ZTtcbiAgfVxuICBpZiAoZGVmLm1heExlbmd0aCkge1xuICAgIHJlcy5tYXhJdGVtcyA9IGRlZi5tYXhMZW5ndGgudmFsdWU7XG4gIH1cbiAgaWYgKGRlZi5leGFjdExlbmd0aCkge1xuICAgIHJlcy5taW5JdGVtcyA9IGRlZi5leGFjdExlbmd0aC52YWx1ZTtcbiAgICByZXMubWF4SXRlbXMgPSBkZWYuZXhhY3RMZW5ndGgudmFsdWU7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbiIsICJpbXBvcnQgeyBab2RCaWdJbnREZWYgfSBmcm9tICd6b2QvdjMnO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN0JpZ2ludFR5cGUgPSB7XG4gIHR5cGU6ICdpbnRlZ2VyJztcbiAgZm9ybWF0OiAnaW50NjQnO1xuICBtaW5pbXVtPzogQmlnSW50O1xuICBleGNsdXNpdmVNaW5pbXVtPzogQmlnSW50O1xuICBtYXhpbXVtPzogQmlnSW50O1xuICBleGNsdXNpdmVNYXhpbXVtPzogQmlnSW50O1xuICBtdWx0aXBsZU9mPzogQmlnSW50O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQmlnaW50RGVmKGRlZjogWm9kQmlnSW50RGVmKTogSnNvblNjaGVtYTdCaWdpbnRUeXBlIHtcbiAgY29uc3QgcmVzOiBKc29uU2NoZW1hN0JpZ2ludFR5cGUgPSB7XG4gICAgdHlwZTogJ2ludGVnZXInLFxuICAgIGZvcm1hdDogJ2ludDY0JyxcbiAgfTtcblxuICBpZiAoIWRlZi5jaGVja3MpIHJldHVybiByZXM7XG5cbiAgZm9yIChjb25zdCBjaGVjayBvZiBkZWYuY2hlY2tzKSB7XG4gICAgc3dpdGNoIChjaGVjay5raW5kKSB7XG4gICAgICBjYXNlICdtaW4nOlxuICAgICAgICBpZiAoY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgcmVzLm1pbmltdW0gPSBjaGVjay52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXMuZXhjbHVzaXZlTWluaW11bSA9IGNoZWNrLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbWF4JzpcbiAgICAgICAgaWYgKGNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgIHJlcy5tYXhpbXVtID0gY2hlY2sudmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzLmV4Y2x1c2l2ZU1heGltdW0gPSBjaGVjay52YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbXVsdGlwbGVPZic6XG4gICAgICAgIHJlcy5tdWx0aXBsZU9mID0gY2hlY2sudmFsdWU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufVxuIiwgImV4cG9ydCB0eXBlIEpzb25TY2hlbWE3Qm9vbGVhblR5cGUgPSB7XG4gIHR5cGU6ICdib29sZWFuJztcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUJvb2xlYW5EZWYoKTogSnNvblNjaGVtYTdCb29sZWFuVHlwZSB7XG4gIHJldHVybiB7IHR5cGU6ICdib29sZWFuJyB9O1xufVxuIiwgImltcG9ydCB7IFpvZEJyYW5kZWREZWYgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VCcmFuZGVkRGVmKF9kZWY6IFpvZEJyYW5kZWREZWY8YW55PiwgcmVmczogUmVmcykge1xuICByZXR1cm4gcGFyc2VEZWYoX2RlZi50eXBlLl9kZWYsIHJlZnMpO1xufVxuIiwgImltcG9ydCB7IFpvZENhdGNoRGVmIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSAnLi4vcGFyc2UtZGVmJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuLi9yZWZzJztcblxuZXhwb3J0IGNvbnN0IHBhcnNlQ2F0Y2hEZWYgPSAoZGVmOiBab2RDYXRjaERlZjxhbnk+LCByZWZzOiBSZWZzKSA9PiB7XG4gIHJldHVybiBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHJlZnMpO1xufTtcbiIsICJpbXBvcnQgeyBab2REYXRlRGVmIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuLi9yZWZzJztcbmltcG9ydCB7IERhdGVTdHJhdGVneSB9IGZyb20gJy4uL29wdGlvbnMnO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN0RhdGVUeXBlID1cbiAgfCB7XG4gICAgICB0eXBlOiAnaW50ZWdlcicgfCAnc3RyaW5nJztcbiAgICAgIGZvcm1hdDogJ3VuaXgtdGltZScgfCAnZGF0ZS10aW1lJyB8ICdkYXRlJztcbiAgICAgIG1pbmltdW0/OiBudW1iZXI7XG4gICAgICBtYXhpbXVtPzogbnVtYmVyO1xuICAgIH1cbiAgfCB7XG4gICAgICBhbnlPZjogSnNvblNjaGVtYTdEYXRlVHlwZVtdO1xuICAgIH07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZURhdGVEZWYoXG4gIGRlZjogWm9kRGF0ZURlZixcbiAgcmVmczogUmVmcyxcbiAgb3ZlcnJpZGVEYXRlU3RyYXRlZ3k/OiBEYXRlU3RyYXRlZ3ksXG4pOiBKc29uU2NoZW1hN0RhdGVUeXBlIHtcbiAgY29uc3Qgc3RyYXRlZ3kgPSBvdmVycmlkZURhdGVTdHJhdGVneSA/PyByZWZzLmRhdGVTdHJhdGVneTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShzdHJhdGVneSkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYW55T2Y6IHN0cmF0ZWd5Lm1hcCgoaXRlbSwgaSkgPT4gcGFyc2VEYXRlRGVmKGRlZiwgcmVmcywgaXRlbSkpLFxuICAgIH07XG4gIH1cblxuICBzd2l0Y2ggKHN0cmF0ZWd5KSB7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICBjYXNlICdmb3JtYXQ6ZGF0ZS10aW1lJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICBmb3JtYXQ6ICdkYXRlLXRpbWUnLFxuICAgICAgfTtcbiAgICBjYXNlICdmb3JtYXQ6ZGF0ZSc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgZm9ybWF0OiAnZGF0ZScsXG4gICAgICB9O1xuICAgIGNhc2UgJ2ludGVnZXInOlxuICAgICAgcmV0dXJuIGludGVnZXJEYXRlUGFyc2VyKGRlZik7XG4gIH1cbn1cblxuY29uc3QgaW50ZWdlckRhdGVQYXJzZXIgPSAoZGVmOiBab2REYXRlRGVmKSA9PiB7XG4gIGNvbnN0IHJlczogSnNvblNjaGVtYTdEYXRlVHlwZSA9IHtcbiAgICB0eXBlOiAnaW50ZWdlcicsXG4gICAgZm9ybWF0OiAndW5peC10aW1lJyxcbiAgfTtcblxuICBmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHtcbiAgICBzd2l0Y2ggKGNoZWNrLmtpbmQpIHtcbiAgICAgIGNhc2UgJ21pbic6XG4gICAgICAgIHJlcy5taW5pbXVtID0gY2hlY2sudmFsdWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbWF4JzpcbiAgICAgICAgcmVzLm1heGltdW0gPSBjaGVjay52YWx1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlcztcbn07XG4iLCAiaW1wb3J0IHsgWm9kRGVmYXVsdERlZiB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gJy4uL3BhcnNlLWRlZic7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuLi9wYXJzZS10eXBlcyc7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi4vcmVmcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZURlZmF1bHREZWYoXG4gIF9kZWY6IFpvZERlZmF1bHREZWYsXG4gIHJlZnM6IFJlZnMsXG4pOiBKc29uU2NoZW1hN1R5cGUgJiB7IGRlZmF1bHQ6IGFueSB9IHtcbiAgcmV0dXJuIHtcbiAgICAuLi5wYXJzZURlZihfZGVmLmlubmVyVHlwZS5fZGVmLCByZWZzKSxcbiAgICBkZWZhdWx0OiBfZGVmLmRlZmF1bHRWYWx1ZSgpLFxuICB9O1xufVxuIiwgImltcG9ydCB7IFpvZEVmZmVjdHNEZWYgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi4vcGFyc2UtdHlwZXMnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuaW1wb3J0IHsgcGFyc2VBbnlEZWYgfSBmcm9tICcuL2FueSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUVmZmVjdHNEZWYoXG4gIF9kZWY6IFpvZEVmZmVjdHNEZWYsXG4gIHJlZnM6IFJlZnMsXG4pOiBKc29uU2NoZW1hN1R5cGUgfCB1bmRlZmluZWQge1xuICByZXR1cm4gcmVmcy5lZmZlY3RTdHJhdGVneSA9PT0gJ2lucHV0J1xuICAgID8gcGFyc2VEZWYoX2RlZi5zY2hlbWEuX2RlZiwgcmVmcylcbiAgICA6IHBhcnNlQW55RGVmKCk7XG59XG4iLCAiaW1wb3J0IHsgWm9kRW51bURlZiB9IGZyb20gJ3pvZC92Myc7XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3RW51bVR5cGUgPSB7XG4gIHR5cGU6ICdzdHJpbmcnO1xuICBlbnVtOiBzdHJpbmdbXTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUVudW1EZWYoZGVmOiBab2RFbnVtRGVmKTogSnNvblNjaGVtYTdFbnVtVHlwZSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZW51bTogQXJyYXkuZnJvbShkZWYudmFsdWVzKSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyBab2RJbnRlcnNlY3Rpb25EZWYgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi4vcGFyc2UtdHlwZXMnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdTdHJpbmdUeXBlIH0gZnJvbSAnLi9zdHJpbmcnO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN0FsbE9mVHlwZSA9IHtcbiAgYWxsT2Y6IEpzb25TY2hlbWE3VHlwZVtdO1xuICB1bmV2YWx1YXRlZFByb3BlcnRpZXM/OiBib29sZWFuO1xufTtcblxuY29uc3QgaXNKc29uU2NoZW1hN0FsbE9mVHlwZSA9IChcbiAgdHlwZTogSnNvblNjaGVtYTdUeXBlIHwgSnNvblNjaGVtYTdTdHJpbmdUeXBlLFxuKTogdHlwZSBpcyBKc29uU2NoZW1hN0FsbE9mVHlwZSA9PiB7XG4gIGlmICgndHlwZScgaW4gdHlwZSAmJiB0eXBlLnR5cGUgPT09ICdzdHJpbmcnKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiAnYWxsT2YnIGluIHR5cGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VJbnRlcnNlY3Rpb25EZWYoXG4gIGRlZjogWm9kSW50ZXJzZWN0aW9uRGVmLFxuICByZWZzOiBSZWZzLFxuKTogSnNvblNjaGVtYTdBbGxPZlR5cGUgfCBKc29uU2NoZW1hN1R5cGUgfCB1bmRlZmluZWQge1xuICBjb25zdCBhbGxPZiA9IFtcbiAgICBwYXJzZURlZihkZWYubGVmdC5fZGVmLCB7XG4gICAgICAuLi5yZWZzLFxuICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYWxsT2YnLCAnMCddLFxuICAgIH0pLFxuICAgIHBhcnNlRGVmKGRlZi5yaWdodC5fZGVmLCB7XG4gICAgICAuLi5yZWZzLFxuICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYWxsT2YnLCAnMSddLFxuICAgIH0pLFxuICBdLmZpbHRlcigoeCk6IHggaXMgSnNvblNjaGVtYTdUeXBlID0+ICEheCk7XG5cbiAgY29uc3QgbWVyZ2VkQWxsT2Y6IEpzb25TY2hlbWE3VHlwZVtdID0gW107XG4gIC8vIElmIGVpdGhlciBvZiB0aGUgc2NoZW1hcyBpcyBhbiBhbGxPZiwgbWVyZ2UgdGhlbSBpbnRvIGEgc2luZ2xlIGFsbE9mXG4gIGFsbE9mLmZvckVhY2goc2NoZW1hID0+IHtcbiAgICBpZiAoaXNKc29uU2NoZW1hN0FsbE9mVHlwZShzY2hlbWEpKSB7XG4gICAgICBtZXJnZWRBbGxPZi5wdXNoKC4uLnNjaGVtYS5hbGxPZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBuZXN0ZWRTY2hlbWE6IEpzb25TY2hlbWE3VHlwZSA9IHNjaGVtYTtcbiAgICAgIGlmIChcbiAgICAgICAgJ2FkZGl0aW9uYWxQcm9wZXJ0aWVzJyBpbiBzY2hlbWEgJiZcbiAgICAgICAgc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSBmYWxzZVxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IHsgYWRkaXRpb25hbFByb3BlcnRpZXMsIC4uLnJlc3QgfSA9IHNjaGVtYTtcbiAgICAgICAgbmVzdGVkU2NoZW1hID0gcmVzdDtcbiAgICAgIH1cbiAgICAgIG1lcmdlZEFsbE9mLnB1c2gobmVzdGVkU2NoZW1hKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gbWVyZ2VkQWxsT2YubGVuZ3RoID8geyBhbGxPZjogbWVyZ2VkQWxsT2YgfSA6IHVuZGVmaW5lZDtcbn1cbiIsICJpbXBvcnQgeyBab2RMaXRlcmFsRGVmIH0gZnJvbSAnem9kL3YzJztcblxuZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdMaXRlcmFsVHlwZSA9XG4gIHwge1xuICAgICAgdHlwZTogJ3N0cmluZycgfCAnbnVtYmVyJyB8ICdpbnRlZ2VyJyB8ICdib29sZWFuJztcbiAgICAgIGNvbnN0OiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAnb2JqZWN0JyB8ICdhcnJheSc7XG4gICAgfTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTGl0ZXJhbERlZihkZWY6IFpvZExpdGVyYWxEZWYpOiBKc29uU2NoZW1hN0xpdGVyYWxUeXBlIHtcbiAgY29uc3QgcGFyc2VkVHlwZSA9IHR5cGVvZiBkZWYudmFsdWU7XG4gIGlmIChcbiAgICBwYXJzZWRUeXBlICE9PSAnYmlnaW50JyAmJlxuICAgIHBhcnNlZFR5cGUgIT09ICdudW1iZXInICYmXG4gICAgcGFyc2VkVHlwZSAhPT0gJ2Jvb2xlYW4nICYmXG4gICAgcGFyc2VkVHlwZSAhPT0gJ3N0cmluZydcbiAgKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IEFycmF5LmlzQXJyYXkoZGVmLnZhbHVlKSA/ICdhcnJheScgOiAnb2JqZWN0JyxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBwYXJzZWRUeXBlID09PSAnYmlnaW50JyA/ICdpbnRlZ2VyJyA6IHBhcnNlZFR5cGUsXG4gICAgY29uc3Q6IGRlZi52YWx1ZSxcbiAgfTtcbn1cbiIsICJpbXBvcnQge1xuICBab2RGaXJzdFBhcnR5VHlwZUtpbmQsXG4gIFpvZE1hcERlZixcbiAgWm9kUmVjb3JkRGVmLFxuICBab2RUeXBlQW55LFxufSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi4vcGFyc2UtdHlwZXMnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuaW1wb3J0IHsgcGFyc2VCcmFuZGVkRGVmIH0gZnJvbSAnLi9icmFuZGVkJztcbmltcG9ydCB7IEpzb25TY2hlbWE3RW51bVR5cGUgfSBmcm9tICcuL2VudW0nO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdTdHJpbmdUeXBlLCBwYXJzZVN0cmluZ0RlZiB9IGZyb20gJy4vc3RyaW5nJztcblxudHlwZSBKc29uU2NoZW1hN1JlY29yZFByb3BlcnR5TmFtZXNUeXBlID1cbiAgfCBPbWl0PEpzb25TY2hlbWE3U3RyaW5nVHlwZSwgJ3R5cGUnPlxuICB8IE9taXQ8SnNvblNjaGVtYTdFbnVtVHlwZSwgJ3R5cGUnPjtcblxuZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdSZWNvcmRUeXBlID0ge1xuICB0eXBlOiAnb2JqZWN0JztcbiAgYWRkaXRpb25hbFByb3BlcnRpZXM/OiBKc29uU2NoZW1hN1R5cGUgfCB0cnVlO1xuICBwcm9wZXJ0eU5hbWVzPzogSnNvblNjaGVtYTdSZWNvcmRQcm9wZXJ0eU5hbWVzVHlwZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVJlY29yZERlZihcbiAgZGVmOiBab2RSZWNvcmREZWY8Wm9kVHlwZUFueSwgWm9kVHlwZUFueT4gfCBab2RNYXBEZWYsXG4gIHJlZnM6IFJlZnMsXG4pOiBKc29uU2NoZW1hN1JlY29yZFR5cGUge1xuICBjb25zdCBzY2hlbWE6IEpzb25TY2hlbWE3UmVjb3JkVHlwZSA9IHtcbiAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICBhZGRpdGlvbmFsUHJvcGVydGllczpcbiAgICAgIHBhcnNlRGVmKGRlZi52YWx1ZVR5cGUuX2RlZiwge1xuICAgICAgICAuLi5yZWZzLFxuICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhZGRpdGlvbmFsUHJvcGVydGllcyddLFxuICAgICAgfSkgPz8gcmVmcy5hbGxvd2VkQWRkaXRpb25hbFByb3BlcnRpZXMsXG4gIH07XG5cbiAgaWYgKFxuICAgIGRlZi5rZXlUeXBlPy5fZGVmLnR5cGVOYW1lID09PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3RyaW5nICYmXG4gICAgZGVmLmtleVR5cGUuX2RlZi5jaGVja3M/Lmxlbmd0aFxuICApIHtcbiAgICBjb25zdCB7IHR5cGUsIC4uLmtleVR5cGUgfSA9IHBhcnNlU3RyaW5nRGVmKGRlZi5rZXlUeXBlLl9kZWYsIHJlZnMpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnNjaGVtYSxcbiAgICAgIHByb3BlcnR5TmFtZXM6IGtleVR5cGUsXG4gICAgfTtcbiAgfSBlbHNlIGlmIChkZWYua2V5VHlwZT8uX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVudW0pIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc2NoZW1hLFxuICAgICAgcHJvcGVydHlOYW1lczoge1xuICAgICAgICBlbnVtOiBkZWYua2V5VHlwZS5fZGVmLnZhbHVlcyxcbiAgICAgIH0sXG4gICAgfTtcbiAgfSBlbHNlIGlmIChcbiAgICBkZWYua2V5VHlwZT8uX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJyYW5kZWQgJiZcbiAgICBkZWYua2V5VHlwZS5fZGVmLnR5cGUuX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN0cmluZyAmJlxuICAgIGRlZi5rZXlUeXBlLl9kZWYudHlwZS5fZGVmLmNoZWNrcz8ubGVuZ3RoXG4gICkge1xuICAgIGNvbnN0IHsgdHlwZSwgLi4ua2V5VHlwZSB9ID0gcGFyc2VCcmFuZGVkRGVmKFxuICAgICAgZGVmLmtleVR5cGUuX2RlZixcbiAgICAgIHJlZnMsXG4gICAgKSBhcyBKc29uU2NoZW1hN1N0cmluZ1R5cGU7XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc2NoZW1hLFxuICAgICAgcHJvcGVydHlOYW1lczoga2V5VHlwZSxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHNjaGVtYTtcbn1cbiIsICJpbXBvcnQgeyBab2RTdHJpbmdEZWYgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuXG5sZXQgZW1vamlSZWdleDogUmVnRXhwIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4vKipcbiAqIEdlbmVyYXRlZCBmcm9tIHRoZSByZWd1bGFyIGV4cHJlc3Npb25zIGZvdW5kIGhlcmUgYXMgb2YgMjAyNC0wNS0yMjpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jb2xpbmhhY2tzL3pvZC9ibG9iL21hc3Rlci9zcmMvdHlwZXMudHMuXG4gKlxuICogRXhwcmVzc2lvbnMgd2l0aCAvaSBmbGFnIGhhdmUgYmVlbiBjaGFuZ2VkIGFjY29yZGluZ2x5LlxuICovXG5leHBvcnQgY29uc3Qgem9kUGF0dGVybnMgPSB7XG4gIC8qKlxuICAgKiBgY2Agd2FzIGNoYW5nZWQgdG8gYFtjQ11gIHRvIHJlcGxpY2F0ZSAvaSBmbGFnXG4gICAqL1xuICBjdWlkOiAvXltjQ11bXlxccy1dezgsfSQvLFxuICBjdWlkMjogL15bMC05YS16XSskLyxcbiAgdWxpZDogL15bMC05QS1ISktNTlAtVFYtWl17MjZ9JC8sXG4gIC8qKlxuICAgKiBgYS16YCB3YXMgYWRkZWQgdG8gcmVwbGljYXRlIC9pIGZsYWdcbiAgICovXG4gIGVtYWlsOlxuICAgIC9eKD8hXFwuKSg/IS4qXFwuXFwuKShbYS16QS1aMC05XycrXFwtXFwuXSopW2EtekEtWjAtOV8rLV1AKFthLXpBLVowLTldW2EtekEtWjAtOVxcLV0qXFwuKStbYS16QS1aXXsyLH0kLyxcbiAgLyoqXG4gICAqIENvbnN0cnVjdGVkIGEgdmFsaWQgVW5pY29kZSBSZWdFeHBcbiAgICpcbiAgICogTGF6aWx5IGluc3RhbnRpYXRlIHNpbmNlIHRoaXMgdHlwZSBvZiByZWdleCBpc24ndCBzdXBwb3J0ZWRcbiAgICogaW4gYWxsIGVudnMgKGUuZy4gUmVhY3QgTmF0aXZlKS5cbiAgICpcbiAgICogU2VlOlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vY29saW5oYWNrcy96b2QvaXNzdWVzLzI0MzNcbiAgICogRml4IGluIFpvZDpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2NvbGluaGFja3Mvem9kL2NvbW1pdC85MzQwZmQ1MWU0ODU3NmE3NWFkYzkxOWJmZjY1ZGJjNGE1ZDRjOTliXG4gICAqL1xuICBlbW9qaTogKCkgPT4ge1xuICAgIGlmIChlbW9qaVJlZ2V4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVtb2ppUmVnZXggPSBSZWdFeHAoXG4gICAgICAgICdeKFxcXFxwe0V4dGVuZGVkX1BpY3RvZ3JhcGhpY318XFxcXHB7RW1vamlfQ29tcG9uZW50fSkrJCcsXG4gICAgICAgICd1JyxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBlbW9qaVJlZ2V4O1xuICB9LFxuICAvKipcbiAgICogVW51c2VkXG4gICAqL1xuICB1dWlkOiAvXlswLTlhLWZBLUZdezh9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezEyfSQvLFxuICAvKipcbiAgICogVW51c2VkXG4gICAqL1xuICBpcHY0OiAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKSQvLFxuICBpcHY0Q2lkcjpcbiAgICAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLygzWzAtMl18WzEyXT9bMC05XSkkLyxcbiAgLyoqXG4gICAqIFVudXNlZFxuICAgKi9cbiAgaXB2NjogL14oKFthLWYwLTldezEsNH06KXs3fXw6OihbYS1mMC05XXsxLDR9Oil7MCw2fXwoW2EtZjAtOV17MSw0fTopezF9OihbYS1mMC05XXsxLDR9Oil7MCw1fXwoW2EtZjAtOV17MSw0fTopezJ9OihbYS1mMC05XXsxLDR9Oil7MCw0fXwoW2EtZjAtOV17MSw0fTopezN9OihbYS1mMC05XXsxLDR9Oil7MCwzfXwoW2EtZjAtOV17MSw0fTopezR9OihbYS1mMC05XXsxLDR9Oil7MCwyfXwoW2EtZjAtOV17MSw0fTopezV9OihbYS1mMC05XXsxLDR9Oil7MCwxfSkoW2EtZjAtOV17MSw0fXwoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSkpJC8sXG4gIGlwdjZDaWRyOlxuICAgIC9eKChbMC05YS1mQS1GXXsxLDR9Oil7Nyw3fVswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDd9OnwoWzAtOWEtZkEtRl17MSw0fTopezEsNn06WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsNX0oOlswLTlhLWZBLUZdezEsNH0pezEsMn18KFswLTlhLWZBLUZdezEsNH06KXsxLDR9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDN9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwzfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsMn0oOlswLTlhLWZBLUZdezEsNH0pezEsNX18WzAtOWEtZkEtRl17MSw0fTooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDZ9KXw6KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw3fXw6KXxmZTgwOig6WzAtOWEtZkEtRl17MCw0fSl7MCw0fSVbMC05YS16QS1aXXsxLH18OjooZmZmZig6MHsxLDR9KXswLDF9Oil7MCwxfSgoMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pXFwuKXszLDN9KDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH06KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pKVxcLygxMlswLThdfDFbMDFdWzAtOV18WzEtOV0/WzAtOV0pJC8sXG4gIGJhc2U2NDogL14oWzAtOWEtekEtWisvXXs0fSkqKChbMC05YS16QS1aKy9dezJ9PT0pfChbMC05YS16QS1aKy9dezN9PSkpPyQvLFxuICBiYXNlNjR1cmw6XG4gICAgL14oWzAtOWEtekEtWi1fXXs0fSkqKChbMC05YS16QS1aLV9dezJ9KD09KT8pfChbMC05YS16QS1aLV9dezN9KD0pPykpPyQvLFxuICBuYW5vaWQ6IC9eW2EtekEtWjAtOV8tXXsyMX0kLyxcbiAgand0OiAvXltBLVphLXowLTktX10rXFwuW0EtWmEtejAtOS1fXStcXC5bQS1aYS16MC05LV9dKiQvLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdTdHJpbmdUeXBlID0ge1xuICB0eXBlOiAnc3RyaW5nJztcbiAgbWluTGVuZ3RoPzogbnVtYmVyO1xuICBtYXhMZW5ndGg/OiBudW1iZXI7XG4gIGZvcm1hdD86XG4gICAgfCAnZW1haWwnXG4gICAgfCAnaWRuLWVtYWlsJ1xuICAgIHwgJ3VyaSdcbiAgICB8ICd1dWlkJ1xuICAgIHwgJ2RhdGUtdGltZSdcbiAgICB8ICdpcHY0J1xuICAgIHwgJ2lwdjYnXG4gICAgfCAnZGF0ZSdcbiAgICB8ICd0aW1lJ1xuICAgIHwgJ2R1cmF0aW9uJztcbiAgcGF0dGVybj86IHN0cmluZztcbiAgYWxsT2Y/OiB7XG4gICAgcGF0dGVybjogc3RyaW5nO1xuICB9W107XG4gIGFueU9mPzoge1xuICAgIGZvcm1hdDogc3RyaW5nO1xuICB9W107XG4gIGNvbnRlbnRFbmNvZGluZz86IHN0cmluZztcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVN0cmluZ0RlZihcbiAgZGVmOiBab2RTdHJpbmdEZWYsXG4gIHJlZnM6IFJlZnMsXG4pOiBKc29uU2NoZW1hN1N0cmluZ1R5cGUge1xuICBjb25zdCByZXM6IEpzb25TY2hlbWE3U3RyaW5nVHlwZSA9IHtcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgfTtcblxuICBpZiAoZGVmLmNoZWNrcykge1xuICAgIGZvciAoY29uc3QgY2hlY2sgb2YgZGVmLmNoZWNrcykge1xuICAgICAgc3dpdGNoIChjaGVjay5raW5kKSB7XG4gICAgICAgIGNhc2UgJ21pbic6XG4gICAgICAgICAgcmVzLm1pbkxlbmd0aCA9XG4gICAgICAgICAgICB0eXBlb2YgcmVzLm1pbkxlbmd0aCA9PT0gJ251bWJlcidcbiAgICAgICAgICAgICAgPyBNYXRoLm1heChyZXMubWluTGVuZ3RoLCBjaGVjay52YWx1ZSlcbiAgICAgICAgICAgICAgOiBjaGVjay52YWx1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbWF4JzpcbiAgICAgICAgICByZXMubWF4TGVuZ3RoID1cbiAgICAgICAgICAgIHR5cGVvZiByZXMubWF4TGVuZ3RoID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgICA/IE1hdGgubWluKHJlcy5tYXhMZW5ndGgsIGNoZWNrLnZhbHVlKVxuICAgICAgICAgICAgICA6IGNoZWNrLnZhbHVlO1xuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2VtYWlsJzpcbiAgICAgICAgICBzd2l0Y2ggKHJlZnMuZW1haWxTdHJhdGVneSkge1xuICAgICAgICAgICAgY2FzZSAnZm9ybWF0OmVtYWlsJzpcbiAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ2VtYWlsJywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZm9ybWF0Omlkbi1lbWFpbCc6XG4gICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICdpZG4tZW1haWwnLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdwYXR0ZXJuOnpvZCc6XG4gICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5lbWFpbCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd1cmwnOlxuICAgICAgICAgIGFkZEZvcm1hdChyZXMsICd1cmknLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndXVpZCc6XG4gICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ3V1aWQnLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncmVnZXgnOlxuICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCBjaGVjay5yZWdleCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2N1aWQnOlxuICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5jdWlkLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY3VpZDInOlxuICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5jdWlkMiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3N0YXJ0c1dpdGgnOlxuICAgICAgICAgIGFkZFBhdHRlcm4oXG4gICAgICAgICAgICByZXMsXG4gICAgICAgICAgICBSZWdFeHAoYF4ke2VzY2FwZUxpdGVyYWxDaGVja1ZhbHVlKGNoZWNrLnZhbHVlLCByZWZzKX1gKSxcbiAgICAgICAgICAgIGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICByZWZzLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2VuZHNXaXRoJzpcbiAgICAgICAgICBhZGRQYXR0ZXJuKFxuICAgICAgICAgICAgcmVzLFxuICAgICAgICAgICAgUmVnRXhwKGAke2VzY2FwZUxpdGVyYWxDaGVja1ZhbHVlKGNoZWNrLnZhbHVlLCByZWZzKX0kYCksXG4gICAgICAgICAgICBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgcmVmcyxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdkYXRldGltZSc6XG4gICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ2RhdGUtdGltZScsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICBhZGRGb3JtYXQocmVzLCAnZGF0ZScsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0aW1lJzpcbiAgICAgICAgICBhZGRGb3JtYXQocmVzLCAndGltZScsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdkdXJhdGlvbic6XG4gICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ2R1cmF0aW9uJywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2xlbmd0aCc6XG4gICAgICAgICAgcmVzLm1pbkxlbmd0aCA9XG4gICAgICAgICAgICB0eXBlb2YgcmVzLm1pbkxlbmd0aCA9PT0gJ251bWJlcidcbiAgICAgICAgICAgICAgPyBNYXRoLm1heChyZXMubWluTGVuZ3RoLCBjaGVjay52YWx1ZSlcbiAgICAgICAgICAgICAgOiBjaGVjay52YWx1ZTtcbiAgICAgICAgICByZXMubWF4TGVuZ3RoID1cbiAgICAgICAgICAgIHR5cGVvZiByZXMubWF4TGVuZ3RoID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgICA/IE1hdGgubWluKHJlcy5tYXhMZW5ndGgsIGNoZWNrLnZhbHVlKVxuICAgICAgICAgICAgICA6IGNoZWNrLnZhbHVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdpbmNsdWRlcyc6IHtcbiAgICAgICAgICBhZGRQYXR0ZXJuKFxuICAgICAgICAgICAgcmVzLFxuICAgICAgICAgICAgUmVnRXhwKGVzY2FwZUxpdGVyYWxDaGVja1ZhbHVlKGNoZWNrLnZhbHVlLCByZWZzKSksXG4gICAgICAgICAgICBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgcmVmcyxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2lwJzoge1xuICAgICAgICAgIGlmIChjaGVjay52ZXJzaW9uICE9PSAndjYnKSB7XG4gICAgICAgICAgICBhZGRGb3JtYXQocmVzLCAnaXB2NCcsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY2hlY2sudmVyc2lvbiAhPT0gJ3Y0Jykge1xuICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ2lwdjYnLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnYmFzZTY0dXJsJzpcbiAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuYmFzZTY0dXJsLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnand0JzpcbiAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuand0LCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2lkcic6IHtcbiAgICAgICAgICBpZiAoY2hlY2sudmVyc2lvbiAhPT0gJ3Y2Jykge1xuICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmlwdjRDaWRyLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNoZWNrLnZlcnNpb24gIT09ICd2NCcpIHtcbiAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5pcHY2Q2lkciwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2Vtb2ppJzpcbiAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuZW1vamkoKSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3VsaWQnOiB7XG4gICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLnVsaWQsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2Jhc2U2NCc6IHtcbiAgICAgICAgICBzd2l0Y2ggKHJlZnMuYmFzZTY0U3RyYXRlZ3kpIHtcbiAgICAgICAgICAgIGNhc2UgJ2Zvcm1hdDpiaW5hcnknOiB7XG4gICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICdiaW5hcnknIGFzIGFueSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdjb250ZW50RW5jb2Rpbmc6YmFzZTY0Jzoge1xuICAgICAgICAgICAgICByZXMuY29udGVudEVuY29kaW5nID0gJ2Jhc2U2NCc7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdwYXR0ZXJuOnpvZCc6IHtcbiAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmJhc2U2NCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICduYW5vaWQnOiB7XG4gICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLm5hbm9pZCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAndG9Mb3dlckNhc2UnOlxuICAgICAgICBjYXNlICd0b1VwcGVyQ2FzZSc6XG4gICAgICAgIGNhc2UgJ3RyaW0nOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8qIGM4IGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgKChfOiBuZXZlcikgPT4ge30pKGNoZWNrKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBlc2NhcGVMaXRlcmFsQ2hlY2tWYWx1ZShsaXRlcmFsOiBzdHJpbmcsIHJlZnM6IFJlZnMpOiBzdHJpbmcge1xuICByZXR1cm4gcmVmcy5wYXR0ZXJuU3RyYXRlZ3kgPT09ICdlc2NhcGUnXG4gICAgPyBlc2NhcGVOb25BbHBoYU51bWVyaWMobGl0ZXJhbClcbiAgICA6IGxpdGVyYWw7XG59XG5cbmNvbnN0IEFMUEhBX05VTUVSSUMgPSBuZXcgU2V0KFxuICAnQUJDREVGR0hJSktMTU5PUFFSU1RVVlhZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ4eXowMTIzNDU2Nzg5Jyxcbik7XG5cbmZ1bmN0aW9uIGVzY2FwZU5vbkFscGhhTnVtZXJpYyhzb3VyY2U6IHN0cmluZykge1xuICBsZXQgcmVzdWx0ID0gJyc7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIUFMUEhBX05VTUVSSUMuaGFzKHNvdXJjZVtpXSkpIHtcbiAgICAgIHJlc3VsdCArPSAnXFxcXCc7XG4gICAgfVxuXG4gICAgcmVzdWx0ICs9IHNvdXJjZVtpXTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIEFkZHMgYSBcImZvcm1hdFwiIGtleXdvcmQgdG8gdGhlIHNjaGVtYS4gSWYgYSBmb3JtYXQgZXhpc3RzLCBib3RoIGZvcm1hdHMgd2lsbCBiZSBqb2luZWQgaW4gYW4gYWxsT2Ytbm9kZSwgYWxvbmcgd2l0aCBzdWJzZXF1ZW50IG9uZXMuXG5mdW5jdGlvbiBhZGRGb3JtYXQoXG4gIHNjaGVtYTogSnNvblNjaGVtYTdTdHJpbmdUeXBlLFxuICB2YWx1ZTogUmVxdWlyZWQ8SnNvblNjaGVtYTdTdHJpbmdUeXBlPlsnZm9ybWF0J10sXG4gIG1lc3NhZ2U6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgcmVmczogUmVmcyxcbikge1xuICBpZiAoc2NoZW1hLmZvcm1hdCB8fCBzY2hlbWEuYW55T2Y/LnNvbWUoeCA9PiB4LmZvcm1hdCkpIHtcbiAgICBpZiAoIXNjaGVtYS5hbnlPZikge1xuICAgICAgc2NoZW1hLmFueU9mID0gW107XG4gICAgfVxuXG4gICAgaWYgKHNjaGVtYS5mb3JtYXQpIHtcbiAgICAgIHNjaGVtYS5hbnlPZiEucHVzaCh7XG4gICAgICAgIGZvcm1hdDogc2NoZW1hLmZvcm1hdCxcbiAgICAgIH0pO1xuICAgICAgZGVsZXRlIHNjaGVtYS5mb3JtYXQ7XG4gICAgfVxuXG4gICAgc2NoZW1hLmFueU9mIS5wdXNoKHtcbiAgICAgIGZvcm1hdDogdmFsdWUsXG4gICAgICAuLi4obWVzc2FnZSAmJlxuICAgICAgICByZWZzLmVycm9yTWVzc2FnZXMgJiYgeyBlcnJvck1lc3NhZ2U6IHsgZm9ybWF0OiBtZXNzYWdlIH0gfSksXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgc2NoZW1hLmZvcm1hdCA9IHZhbHVlO1xuICB9XG59XG5cbi8vIEFkZHMgYSBcInBhdHRlcm5cIiBrZXl3b3JkIHRvIHRoZSBzY2hlbWEuIElmIGEgcGF0dGVybiBleGlzdHMsIGJvdGggcGF0dGVybnMgd2lsbCBiZSBqb2luZWQgaW4gYW4gYWxsT2Ytbm9kZSwgYWxvbmcgd2l0aCBzdWJzZXF1ZW50IG9uZXMuXG5mdW5jdGlvbiBhZGRQYXR0ZXJuKFxuICBzY2hlbWE6IEpzb25TY2hlbWE3U3RyaW5nVHlwZSxcbiAgcmVnZXg6IFJlZ0V4cCxcbiAgbWVzc2FnZTogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICByZWZzOiBSZWZzLFxuKSB7XG4gIGlmIChzY2hlbWEucGF0dGVybiB8fCBzY2hlbWEuYWxsT2Y/LnNvbWUoeCA9PiB4LnBhdHRlcm4pKSB7XG4gICAgaWYgKCFzY2hlbWEuYWxsT2YpIHtcbiAgICAgIHNjaGVtYS5hbGxPZiA9IFtdO1xuICAgIH1cblxuICAgIGlmIChzY2hlbWEucGF0dGVybikge1xuICAgICAgc2NoZW1hLmFsbE9mIS5wdXNoKHtcbiAgICAgICAgcGF0dGVybjogc2NoZW1hLnBhdHRlcm4sXG4gICAgICB9KTtcbiAgICAgIGRlbGV0ZSBzY2hlbWEucGF0dGVybjtcbiAgICB9XG5cbiAgICBzY2hlbWEuYWxsT2YhLnB1c2goe1xuICAgICAgcGF0dGVybjogc3RyaW5naWZ5UmVnRXhwV2l0aEZsYWdzKHJlZ2V4LCByZWZzKSxcbiAgICAgIC4uLihtZXNzYWdlICYmXG4gICAgICAgIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7IGVycm9yTWVzc2FnZTogeyBwYXR0ZXJuOiBtZXNzYWdlIH0gfSksXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgc2NoZW1hLnBhdHRlcm4gPSBzdHJpbmdpZnlSZWdFeHBXaXRoRmxhZ3MocmVnZXgsIHJlZnMpO1xuICB9XG59XG5cbi8vIE11dGF0ZSB6LnN0cmluZy5yZWdleCgpIGluIGEgYmVzdCBhdHRlbXB0IHRvIGFjY29tbW9kYXRlIGZvciByZWdleCBmbGFncyB3aGVuIGFwcGx5UmVnZXhGbGFncyBpcyB0cnVlXG5mdW5jdGlvbiBzdHJpbmdpZnlSZWdFeHBXaXRoRmxhZ3MocmVnZXg6IFJlZ0V4cCwgcmVmczogUmVmcyk6IHN0cmluZyB7XG4gIGlmICghcmVmcy5hcHBseVJlZ2V4RmxhZ3MgfHwgIXJlZ2V4LmZsYWdzKSB7XG4gICAgcmV0dXJuIHJlZ2V4LnNvdXJjZTtcbiAgfVxuXG4gIC8vIEN1cnJlbnRseSBoYW5kbGVkIGZsYWdzXG4gIGNvbnN0IGZsYWdzID0ge1xuICAgIGk6IHJlZ2V4LmZsYWdzLmluY2x1ZGVzKCdpJyksIC8vIENhc2UtaW5zZW5zaXRpdmVcbiAgICBtOiByZWdleC5mbGFncy5pbmNsdWRlcygnbScpLCAvLyBgXmAgYW5kIGAkYCBtYXRjaGVzIGFkamFjZW50IHRvIG5ld2xpbmUgY2hhcmFjdGVyc1xuICAgIHM6IHJlZ2V4LmZsYWdzLmluY2x1ZGVzKCdzJyksIC8vIGAuYCBtYXRjaGVzIG5ld2xpbmVzXG4gIH07XG5cbiAgLy8gVGhlIGdlbmVyYWwgcHJpbmNpcGxlIGhlcmUgaXMgdG8gc3RlcCB0aHJvdWdoIGVhY2ggY2hhcmFjdGVyLCBvbmUgYXQgYSB0aW1lLCBhcHBseWluZyBtdXRhdGlvbnMgYXMgZmxhZ3MgcmVxdWlyZS4gV2Uga2VlcCB0cmFjayB3aGVuIHRoZSBjdXJyZW50IGNoYXJhY3RlciBpcyBlc2NhcGVkLCBhbmQgd2hlbiBpdCdzIGluc2lkZSBhIGdyb3VwIC9saWtlIFt0aGlzXS8gb3IgKGFsc28pIGEgcmFuZ2UgbGlrZSAvW2Etel0vLiBUaGUgZm9sbG93aW5nIGlzIGZhaXJseSBicml0dGxlIGltcGVyYXRpdmUgY29kZTsgZWRpdCBhdCB5b3VyIHBlcmlsIVxuICBjb25zdCBzb3VyY2UgPSBmbGFncy5pID8gcmVnZXguc291cmNlLnRvTG93ZXJDYXNlKCkgOiByZWdleC5zb3VyY2U7XG4gIGxldCBwYXR0ZXJuID0gJyc7XG4gIGxldCBpc0VzY2FwZWQgPSBmYWxzZTtcbiAgbGV0IGluQ2hhckdyb3VwID0gZmFsc2U7XG4gIGxldCBpbkNoYXJSYW5nZSA9IGZhbHNlO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGlzRXNjYXBlZCkge1xuICAgICAgcGF0dGVybiArPSBzb3VyY2VbaV07XG4gICAgICBpc0VzY2FwZWQgPSBmYWxzZTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChmbGFncy5pKSB7XG4gICAgICBpZiAoaW5DaGFyR3JvdXApIHtcbiAgICAgICAgaWYgKHNvdXJjZVtpXS5tYXRjaCgvW2Etel0vKSkge1xuICAgICAgICAgIGlmIChpbkNoYXJSYW5nZSkge1xuICAgICAgICAgICAgcGF0dGVybiArPSBzb3VyY2VbaV07XG4gICAgICAgICAgICBwYXR0ZXJuICs9IGAke3NvdXJjZVtpIC0gMl19LSR7c291cmNlW2ldfWAudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIGluQ2hhclJhbmdlID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIGlmIChzb3VyY2VbaSArIDFdID09PSAnLScgJiYgc291cmNlW2kgKyAyXT8ubWF0Y2goL1thLXpdLykpIHtcbiAgICAgICAgICAgIHBhdHRlcm4gKz0gc291cmNlW2ldO1xuICAgICAgICAgICAgaW5DaGFyUmFuZ2UgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXR0ZXJuICs9IGAke3NvdXJjZVtpXX0ke3NvdXJjZVtpXS50b1VwcGVyQ2FzZSgpfWA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNvdXJjZVtpXS5tYXRjaCgvW2Etel0vKSkge1xuICAgICAgICBwYXR0ZXJuICs9IGBbJHtzb3VyY2VbaV19JHtzb3VyY2VbaV0udG9VcHBlckNhc2UoKX1dYDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZsYWdzLm0pIHtcbiAgICAgIGlmIChzb3VyY2VbaV0gPT09ICdeJykge1xuICAgICAgICBwYXR0ZXJuICs9IGAoXnwoPzw9W1xcclxcbl0pKWA7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSBlbHNlIGlmIChzb3VyY2VbaV0gPT09ICckJykge1xuICAgICAgICBwYXR0ZXJuICs9IGAoJHwoPz1bXFxyXFxuXSkpYDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZsYWdzLnMgJiYgc291cmNlW2ldID09PSAnLicpIHtcbiAgICAgIHBhdHRlcm4gKz0gaW5DaGFyR3JvdXAgPyBgJHtzb3VyY2VbaV19XFxyXFxuYCA6IGBbJHtzb3VyY2VbaV19XFxyXFxuXWA7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBwYXR0ZXJuICs9IHNvdXJjZVtpXTtcbiAgICBpZiAoc291cmNlW2ldID09PSAnXFxcXCcpIHtcbiAgICAgIGlzRXNjYXBlZCA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChpbkNoYXJHcm91cCAmJiBzb3VyY2VbaV0gPT09ICddJykge1xuICAgICAgaW5DaGFyR3JvdXAgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKCFpbkNoYXJHcm91cCAmJiBzb3VyY2VbaV0gPT09ICdbJykge1xuICAgICAgaW5DaGFyR3JvdXAgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHRyeSB7XG4gICAgbmV3IFJlZ0V4cChwYXR0ZXJuKTtcbiAgfSBjYXRjaCB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgYENvdWxkIG5vdCBjb252ZXJ0IHJlZ2V4IHBhdHRlcm4gYXQgJHtyZWZzLmN1cnJlbnRQYXRoLmpvaW4oXG4gICAgICAgICcvJyxcbiAgICAgICl9IHRvIGEgZmxhZy1pbmRlcGVuZGVudCBmb3JtISBGYWxsaW5nIGJhY2sgdG8gdGhlIGZsYWctaWdub3JhbnQgc291cmNlYCxcbiAgICApO1xuICAgIHJldHVybiByZWdleC5zb3VyY2U7XG4gIH1cblxuICByZXR1cm4gcGF0dGVybjtcbn1cbiIsICJpbXBvcnQgeyBab2RNYXBEZWYgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi4vcGFyc2UtdHlwZXMnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuaW1wb3J0IHsgcGFyc2VBbnlEZWYgfSBmcm9tICcuL2FueSc7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1JlY29yZFR5cGUsIHBhcnNlUmVjb3JkRGVmIH0gZnJvbSAnLi9yZWNvcmQnO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN01hcFR5cGUgPSB7XG4gIHR5cGU6ICdhcnJheSc7XG4gIG1heEl0ZW1zOiAxMjU7XG4gIGl0ZW1zOiB7XG4gICAgdHlwZTogJ2FycmF5JztcbiAgICBpdGVtczogW0pzb25TY2hlbWE3VHlwZSwgSnNvblNjaGVtYTdUeXBlXTtcbiAgICBtaW5JdGVtczogMjtcbiAgICBtYXhJdGVtczogMjtcbiAgfTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU1hcERlZihcbiAgZGVmOiBab2RNYXBEZWYsXG4gIHJlZnM6IFJlZnMsXG4pOiBKc29uU2NoZW1hN01hcFR5cGUgfCBKc29uU2NoZW1hN1JlY29yZFR5cGUge1xuICBpZiAocmVmcy5tYXBTdHJhdGVneSA9PT0gJ3JlY29yZCcpIHtcbiAgICByZXR1cm4gcGFyc2VSZWNvcmREZWYoZGVmLCByZWZzKTtcbiAgfVxuXG4gIGNvbnN0IGtleXMgPVxuICAgIHBhcnNlRGVmKGRlZi5rZXlUeXBlLl9kZWYsIHtcbiAgICAgIC4uLnJlZnMsXG4gICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdpdGVtcycsICdpdGVtcycsICcwJ10sXG4gICAgfSkgfHwgcGFyc2VBbnlEZWYoKTtcbiAgY29uc3QgdmFsdWVzID1cbiAgICBwYXJzZURlZihkZWYudmFsdWVUeXBlLl9kZWYsIHtcbiAgICAgIC4uLnJlZnMsXG4gICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdpdGVtcycsICdpdGVtcycsICcxJ10sXG4gICAgfSkgfHwgcGFyc2VBbnlEZWYoKTtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnYXJyYXknLFxuICAgIG1heEl0ZW1zOiAxMjUsXG4gICAgaXRlbXM6IHtcbiAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICBpdGVtczogW2tleXMsIHZhbHVlc10sXG4gICAgICBtaW5JdGVtczogMixcbiAgICAgIG1heEl0ZW1zOiAyLFxuICAgIH0sXG4gIH07XG59XG4iLCAiaW1wb3J0IHsgWm9kTmF0aXZlRW51bURlZiB9IGZyb20gJ3pvZC92Myc7XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3TmF0aXZlRW51bVR5cGUgPSB7XG4gIHR5cGU6ICdzdHJpbmcnIHwgJ251bWJlcicgfCBbJ3N0cmluZycsICdudW1iZXInXTtcbiAgZW51bTogKHN0cmluZyB8IG51bWJlcilbXTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU5hdGl2ZUVudW1EZWYoXG4gIGRlZjogWm9kTmF0aXZlRW51bURlZixcbik6IEpzb25TY2hlbWE3TmF0aXZlRW51bVR5cGUge1xuICBjb25zdCBvYmplY3QgPSBkZWYudmFsdWVzO1xuICBjb25zdCBhY3R1YWxLZXlzID0gT2JqZWN0LmtleXMoZGVmLnZhbHVlcykuZmlsdGVyKChrZXk6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0W29iamVjdFtrZXldXSAhPT0gJ251bWJlcic7XG4gIH0pO1xuXG4gIGNvbnN0IGFjdHVhbFZhbHVlcyA9IGFjdHVhbEtleXMubWFwKChrZXk6IHN0cmluZykgPT4gb2JqZWN0W2tleV0pO1xuXG4gIGNvbnN0IHBhcnNlZFR5cGVzID0gQXJyYXkuZnJvbShcbiAgICBuZXcgU2V0KGFjdHVhbFZhbHVlcy5tYXAoKHZhbHVlczogc3RyaW5nIHwgbnVtYmVyKSA9PiB0eXBlb2YgdmFsdWVzKSksXG4gICk7XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOlxuICAgICAgcGFyc2VkVHlwZXMubGVuZ3RoID09PSAxXG4gICAgICAgID8gcGFyc2VkVHlwZXNbMF0gPT09ICdzdHJpbmcnXG4gICAgICAgICAgPyAnc3RyaW5nJ1xuICAgICAgICAgIDogJ251bWJlcidcbiAgICAgICAgOiBbJ3N0cmluZycsICdudW1iZXInXSxcbiAgICBlbnVtOiBhY3R1YWxWYWx1ZXMsXG4gIH07XG59XG4iLCAiaW1wb3J0IHsgSnNvblNjaGVtYTdBbnlUeXBlLCBwYXJzZUFueURlZiB9IGZyb20gJy4vYW55JztcblxuZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdOZXZlclR5cGUgPSB7XG4gIG5vdDogSnNvblNjaGVtYTdBbnlUeXBlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTmV2ZXJEZWYoKTogSnNvblNjaGVtYTdOZXZlclR5cGUgfCB1bmRlZmluZWQge1xuICByZXR1cm4geyBub3Q6IHBhcnNlQW55RGVmKCkgfTtcbn1cbiIsICJleHBvcnQgdHlwZSBKc29uU2NoZW1hN051bGxUeXBlID0ge1xuICB0eXBlOiAnbnVsbCc7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VOdWxsRGVmKCk6IEpzb25TY2hlbWE3TnVsbFR5cGUge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdudWxsJyxcbiAgfTtcbn1cbiIsICJpbXBvcnQge1xuICBab2REaXNjcmltaW5hdGVkVW5pb25EZWYsXG4gIFpvZExpdGVyYWxEZWYsXG4gIFpvZFR5cGVBbnksXG4gIFpvZFVuaW9uRGVmLFxufSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi4vcGFyc2UtdHlwZXMnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuXG5leHBvcnQgY29uc3QgcHJpbWl0aXZlTWFwcGluZ3MgPSB7XG4gIFpvZFN0cmluZzogJ3N0cmluZycsXG4gIFpvZE51bWJlcjogJ251bWJlcicsXG4gIFpvZEJpZ0ludDogJ2ludGVnZXInLFxuICBab2RCb29sZWFuOiAnYm9vbGVhbicsXG4gIFpvZE51bGw6ICdudWxsJyxcbn0gYXMgY29uc3Q7XG50eXBlIFpvZFByaW1pdGl2ZSA9IGtleW9mIHR5cGVvZiBwcmltaXRpdmVNYXBwaW5ncztcbnR5cGUgSnNvblNjaGVtYTdQcmltaXRpdmUgPVxuICAodHlwZW9mIHByaW1pdGl2ZU1hcHBpbmdzKVtrZXlvZiB0eXBlb2YgcHJpbWl0aXZlTWFwcGluZ3NdO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN1VuaW9uVHlwZSA9XG4gIHwgSnNvblNjaGVtYTdQcmltaXRpdmVVbmlvblR5cGVcbiAgfCBKc29uU2NoZW1hN0FueU9mVHlwZTtcblxudHlwZSBKc29uU2NoZW1hN1ByaW1pdGl2ZVVuaW9uVHlwZSA9XG4gIHwge1xuICAgICAgdHlwZTogSnNvblNjaGVtYTdQcmltaXRpdmUgfCBKc29uU2NoZW1hN1ByaW1pdGl2ZVtdO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiBKc29uU2NoZW1hN1ByaW1pdGl2ZSB8IEpzb25TY2hlbWE3UHJpbWl0aXZlW107XG4gICAgICBlbnVtOiAoc3RyaW5nIHwgbnVtYmVyIHwgYmlnaW50IHwgYm9vbGVhbiB8IG51bGwpW107XG4gICAgfTtcblxudHlwZSBKc29uU2NoZW1hN0FueU9mVHlwZSA9IHtcbiAgYW55T2Y6IEpzb25TY2hlbWE3VHlwZVtdO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVW5pb25EZWYoXG4gIGRlZjogWm9kVW5pb25EZWYgfCBab2REaXNjcmltaW5hdGVkVW5pb25EZWY8YW55LCBhbnk+LFxuICByZWZzOiBSZWZzLFxuKTogSnNvblNjaGVtYTdQcmltaXRpdmVVbmlvblR5cGUgfCBKc29uU2NoZW1hN0FueU9mVHlwZSB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IG9wdGlvbnM6IHJlYWRvbmx5IFpvZFR5cGVBbnlbXSA9XG4gICAgZGVmLm9wdGlvbnMgaW5zdGFuY2VvZiBNYXAgPyBBcnJheS5mcm9tKGRlZi5vcHRpb25zLnZhbHVlcygpKSA6IGRlZi5vcHRpb25zO1xuXG4gIC8vIFRoaXMgYmxvY2tzIHRyaWVzIHRvIGxvb2sgYWhlYWQgYSBiaXQgdG8gcHJvZHVjZSBuaWNlciBsb29raW5nIHNjaGVtYXMgd2l0aCB0eXBlIGFycmF5IGluc3RlYWQgb2YgYW55T2YuXG4gIGlmIChcbiAgICBvcHRpb25zLmV2ZXJ5KFxuICAgICAgeCA9PlxuICAgICAgICB4Ll9kZWYudHlwZU5hbWUgaW4gcHJpbWl0aXZlTWFwcGluZ3MgJiZcbiAgICAgICAgKCF4Ll9kZWYuY2hlY2tzIHx8ICF4Ll9kZWYuY2hlY2tzLmxlbmd0aCksXG4gICAgKVxuICApIHtcbiAgICAvLyBhbGwgdHlwZXMgaW4gdW5pb24gYXJlIHByaW1pdGl2ZSBhbmQgbGFjayBjaGVja3MsIHNvIG1pZ2h0IGFzIHdlbGwgc3F1YXNoIGludG8ge3R5cGU6IFsuLi5dfVxuXG4gICAgY29uc3QgdHlwZXMgPSBvcHRpb25zLnJlZHVjZSgodHlwZXM6IEpzb25TY2hlbWE3UHJpbWl0aXZlW10sIHgpID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSBwcmltaXRpdmVNYXBwaW5nc1t4Ll9kZWYudHlwZU5hbWUgYXMgWm9kUHJpbWl0aXZlXTsgLy9DYW4gYmUgc2FmZWx5IGNhc3RlZCBkdWUgdG8gcm93IDQzXG4gICAgICByZXR1cm4gdHlwZSAmJiAhdHlwZXMuaW5jbHVkZXModHlwZSkgPyBbLi4udHlwZXMsIHR5cGVdIDogdHlwZXM7XG4gICAgfSwgW10pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IHR5cGVzLmxlbmd0aCA+IDEgPyB0eXBlcyA6IHR5cGVzWzBdLFxuICAgIH07XG4gIH0gZWxzZSBpZiAoXG4gICAgb3B0aW9ucy5ldmVyeSh4ID0+IHguX2RlZi50eXBlTmFtZSA9PT0gJ1pvZExpdGVyYWwnICYmICF4LmRlc2NyaXB0aW9uKVxuICApIHtcbiAgICAvLyBhbGwgb3B0aW9ucyBsaXRlcmFsc1xuXG4gICAgY29uc3QgdHlwZXMgPSBvcHRpb25zLnJlZHVjZShcbiAgICAgIChhY2M6IEpzb25TY2hlbWE3UHJpbWl0aXZlW10sIHg6IHsgX2RlZjogWm9kTGl0ZXJhbERlZiB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgeC5fZGVmLnZhbHVlO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgICByZXR1cm4gWy4uLmFjYywgdHlwZV07XG4gICAgICAgICAgY2FzZSAnYmlnaW50JzpcbiAgICAgICAgICAgIHJldHVybiBbLi4uYWNjLCAnaW50ZWdlcicgYXMgY29uc3RdO1xuICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICBpZiAoeC5fZGVmLnZhbHVlID09PSBudWxsKSByZXR1cm4gWy4uLmFjYywgJ251bGwnIGFzIGNvbnN0XTtcbiAgICAgICAgICBjYXNlICdzeW1ib2wnOlxuICAgICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgW10sXG4gICAgKTtcblxuICAgIGlmICh0eXBlcy5sZW5ndGggPT09IG9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICAvLyBhbGwgdGhlIGxpdGVyYWxzIGFyZSBwcmltaXRpdmUsIGFzIGZhciBhcyBudWxsIGNhbiBiZSBjb25zaWRlcmVkIHByaW1pdGl2ZVxuXG4gICAgICBjb25zdCB1bmlxdWVUeXBlcyA9IHR5cGVzLmZpbHRlcigoeCwgaSwgYSkgPT4gYS5pbmRleE9mKHgpID09PSBpKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHVuaXF1ZVR5cGVzLmxlbmd0aCA+IDEgPyB1bmlxdWVUeXBlcyA6IHVuaXF1ZVR5cGVzWzBdLFxuICAgICAgICBlbnVtOiBvcHRpb25zLnJlZHVjZShcbiAgICAgICAgICAoYWNjLCB4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYWNjLmluY2x1ZGVzKHguX2RlZi52YWx1ZSkgPyBhY2MgOiBbLi4uYWNjLCB4Ll9kZWYudmFsdWVdO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgW10gYXMgKHN0cmluZyB8IG51bWJlciB8IGJpZ2ludCB8IGJvb2xlYW4gfCBudWxsKVtdLFxuICAgICAgICApLFxuICAgICAgfTtcbiAgICB9XG4gIH0gZWxzZSBpZiAob3B0aW9ucy5ldmVyeSh4ID0+IHguX2RlZi50eXBlTmFtZSA9PT0gJ1pvZEVudW0nKSkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGVudW06IG9wdGlvbnMucmVkdWNlKFxuICAgICAgICAoYWNjOiBzdHJpbmdbXSwgeCkgPT4gW1xuICAgICAgICAgIC4uLmFjYyxcbiAgICAgICAgICAuLi54Ll9kZWYudmFsdWVzLmZpbHRlcigoeDogc3RyaW5nKSA9PiAhYWNjLmluY2x1ZGVzKHgpKSxcbiAgICAgICAgXSxcbiAgICAgICAgW10sXG4gICAgICApLFxuICAgIH07XG4gIH1cblxuICByZXR1cm4gYXNBbnlPZihkZWYsIHJlZnMpO1xufVxuXG5jb25zdCBhc0FueU9mID0gKFxuICBkZWY6IFpvZFVuaW9uRGVmIHwgWm9kRGlzY3JpbWluYXRlZFVuaW9uRGVmPGFueSwgYW55PixcbiAgcmVmczogUmVmcyxcbik6IEpzb25TY2hlbWE3UHJpbWl0aXZlVW5pb25UeXBlIHwgSnNvblNjaGVtYTdBbnlPZlR5cGUgfCB1bmRlZmluZWQgPT4ge1xuICBjb25zdCBhbnlPZiA9IChcbiAgICAoZGVmLm9wdGlvbnMgaW5zdGFuY2VvZiBNYXBcbiAgICAgID8gQXJyYXkuZnJvbShkZWYub3B0aW9ucy52YWx1ZXMoKSlcbiAgICAgIDogZGVmLm9wdGlvbnMpIGFzIGFueVtdXG4gIClcbiAgICAubWFwKCh4LCBpKSA9PlxuICAgICAgcGFyc2VEZWYoeC5fZGVmLCB7XG4gICAgICAgIC4uLnJlZnMsXG4gICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FueU9mJywgYCR7aX1gXSxcbiAgICAgIH0pLFxuICAgIClcbiAgICAuZmlsdGVyKFxuICAgICAgKHgpOiB4IGlzIEpzb25TY2hlbWE3VHlwZSA9PlxuICAgICAgICAhIXggJiZcbiAgICAgICAgKCFyZWZzLnN0cmljdFVuaW9ucyB8fFxuICAgICAgICAgICh0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoeCkubGVuZ3RoID4gMCkpLFxuICAgICk7XG5cbiAgcmV0dXJuIGFueU9mLmxlbmd0aCA/IHsgYW55T2YgfSA6IHVuZGVmaW5lZDtcbn07XG4iLCAiaW1wb3J0IHsgWm9kTnVsbGFibGVEZWYgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi4vcGFyc2UtdHlwZXMnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdOdWxsVHlwZSB9IGZyb20gJy4vbnVsbCc7XG5pbXBvcnQgeyBwcmltaXRpdmVNYXBwaW5ncyB9IGZyb20gJy4vdW5pb24nO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN051bGxhYmxlVHlwZSA9XG4gIHwge1xuICAgICAgYW55T2Y6IFtKc29uU2NoZW1hN1R5cGUsIEpzb25TY2hlbWE3TnVsbFR5cGVdO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiBbc3RyaW5nLCAnbnVsbCddO1xuICAgIH07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU51bGxhYmxlRGVmKFxuICBkZWY6IFpvZE51bGxhYmxlRGVmLFxuICByZWZzOiBSZWZzLFxuKTogSnNvblNjaGVtYTdOdWxsYWJsZVR5cGUgfCB1bmRlZmluZWQge1xuICBpZiAoXG4gICAgWydab2RTdHJpbmcnLCAnWm9kTnVtYmVyJywgJ1pvZEJpZ0ludCcsICdab2RCb29sZWFuJywgJ1pvZE51bGwnXS5pbmNsdWRlcyhcbiAgICAgIGRlZi5pbm5lclR5cGUuX2RlZi50eXBlTmFtZSxcbiAgICApICYmXG4gICAgKCFkZWYuaW5uZXJUeXBlLl9kZWYuY2hlY2tzIHx8ICFkZWYuaW5uZXJUeXBlLl9kZWYuY2hlY2tzLmxlbmd0aClcbiAgKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFtcbiAgICAgICAgcHJpbWl0aXZlTWFwcGluZ3NbXG4gICAgICAgICAgZGVmLmlubmVyVHlwZS5fZGVmLnR5cGVOYW1lIGFzIGtleW9mIHR5cGVvZiBwcmltaXRpdmVNYXBwaW5nc1xuICAgICAgICBdLFxuICAgICAgICAnbnVsbCcsXG4gICAgICBdLFxuICAgIH07XG4gIH1cblxuICBjb25zdCBiYXNlID0gcGFyc2VEZWYoZGVmLmlubmVyVHlwZS5fZGVmLCB7XG4gICAgLi4ucmVmcyxcbiAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhbnlPZicsICcwJ10sXG4gIH0pO1xuXG4gIHJldHVybiBiYXNlICYmIHsgYW55T2Y6IFtiYXNlLCB7IHR5cGU6ICdudWxsJyB9XSB9O1xufVxuIiwgImltcG9ydCB7IFpvZE51bWJlckRlZiB9IGZyb20gJ3pvZC92Myc7XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3TnVtYmVyVHlwZSA9IHtcbiAgdHlwZTogJ251bWJlcicgfCAnaW50ZWdlcic7XG4gIG1pbmltdW0/OiBudW1iZXI7XG4gIGV4Y2x1c2l2ZU1pbmltdW0/OiBudW1iZXI7XG4gIG1heGltdW0/OiBudW1iZXI7XG4gIGV4Y2x1c2l2ZU1heGltdW0/OiBudW1iZXI7XG4gIG11bHRpcGxlT2Y/OiBudW1iZXI7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VOdW1iZXJEZWYoZGVmOiBab2ROdW1iZXJEZWYpOiBKc29uU2NoZW1hN051bWJlclR5cGUge1xuICBjb25zdCByZXM6IEpzb25TY2hlbWE3TnVtYmVyVHlwZSA9IHtcbiAgICB0eXBlOiAnbnVtYmVyJyxcbiAgfTtcblxuICBpZiAoIWRlZi5jaGVja3MpIHJldHVybiByZXM7XG5cbiAgZm9yIChjb25zdCBjaGVjayBvZiBkZWYuY2hlY2tzKSB7XG4gICAgc3dpdGNoIChjaGVjay5raW5kKSB7XG4gICAgICBjYXNlICdpbnQnOlxuICAgICAgICByZXMudHlwZSA9ICdpbnRlZ2VyJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtaW4nOlxuICAgICAgICBpZiAoY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgcmVzLm1pbmltdW0gPSBjaGVjay52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXMuZXhjbHVzaXZlTWluaW11bSA9IGNoZWNrLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbWF4JzpcbiAgICAgICAgaWYgKGNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgIHJlcy5tYXhpbXVtID0gY2hlY2sudmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzLmV4Y2x1c2l2ZU1heGltdW0gPSBjaGVjay52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ211bHRpcGxlT2YnOlxuICAgICAgICByZXMubXVsdGlwbGVPZiA9IGNoZWNrLnZhbHVlO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbiIsICJpbXBvcnQgeyBab2RPYmplY3REZWYsIFpvZFR5cGVBbnkgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi4vcGFyc2UtdHlwZXMnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN09iamVjdFR5cGUgPSB7XG4gIHR5cGU6ICdvYmplY3QnO1xuICBwcm9wZXJ0aWVzOiBSZWNvcmQ8c3RyaW5nLCBKc29uU2NoZW1hN1R5cGU+O1xuICBhZGRpdGlvbmFsUHJvcGVydGllcz86IGJvb2xlYW4gfCBKc29uU2NoZW1hN1R5cGU7XG4gIHJlcXVpcmVkPzogc3RyaW5nW107XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VPYmplY3REZWYoZGVmOiBab2RPYmplY3REZWYsIHJlZnM6IFJlZnMpIHtcbiAgY29uc3QgcmVzdWx0OiBKc29uU2NoZW1hN09iamVjdFR5cGUgPSB7XG4gICAgdHlwZTogJ29iamVjdCcsXG4gICAgcHJvcGVydGllczoge30sXG4gIH07XG5cbiAgY29uc3QgcmVxdWlyZWQ6IHN0cmluZ1tdID0gW107XG5cbiAgY29uc3Qgc2hhcGUgPSBkZWYuc2hhcGUoKTtcblxuICBmb3IgKGNvbnN0IHByb3BOYW1lIGluIHNoYXBlKSB7XG4gICAgbGV0IHByb3BEZWYgPSBzaGFwZVtwcm9wTmFtZV07XG5cbiAgICBpZiAocHJvcERlZiA9PT0gdW5kZWZpbmVkIHx8IHByb3BEZWYuX2RlZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9wT3B0aW9uYWwgPSBzYWZlSXNPcHRpb25hbChwcm9wRGVmKTtcblxuICAgIGNvbnN0IHBhcnNlZERlZiA9IHBhcnNlRGVmKHByb3BEZWYuX2RlZiwge1xuICAgICAgLi4ucmVmcyxcbiAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ3Byb3BlcnRpZXMnLCBwcm9wTmFtZV0sXG4gICAgICBwcm9wZXJ0eVBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAncHJvcGVydGllcycsIHByb3BOYW1lXSxcbiAgICB9KTtcblxuICAgIGlmIChwYXJzZWREZWYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgcmVzdWx0LnByb3BlcnRpZXNbcHJvcE5hbWVdID0gcGFyc2VkRGVmO1xuXG4gICAgaWYgKCFwcm9wT3B0aW9uYWwpIHtcbiAgICAgIHJlcXVpcmVkLnB1c2gocHJvcE5hbWUpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChyZXF1aXJlZC5sZW5ndGgpIHtcbiAgICByZXN1bHQucmVxdWlyZWQgPSByZXF1aXJlZDtcbiAgfVxuXG4gIGNvbnN0IGFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gZGVjaWRlQWRkaXRpb25hbFByb3BlcnRpZXMoZGVmLCByZWZzKTtcblxuICBpZiAoYWRkaXRpb25hbFByb3BlcnRpZXMgIT09IHVuZGVmaW5lZCkge1xuICAgIHJlc3VsdC5hZGRpdGlvbmFsUHJvcGVydGllcyA9IGFkZGl0aW9uYWxQcm9wZXJ0aWVzO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gZGVjaWRlQWRkaXRpb25hbFByb3BlcnRpZXMoZGVmOiBab2RPYmplY3REZWYsIHJlZnM6IFJlZnMpIHtcbiAgaWYgKGRlZi5jYXRjaGFsbC5fZGVmLnR5cGVOYW1lICE9PSAnWm9kTmV2ZXInKSB7XG4gICAgcmV0dXJuIHBhcnNlRGVmKGRlZi5jYXRjaGFsbC5fZGVmLCB7XG4gICAgICAuLi5yZWZzLFxuICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYWRkaXRpb25hbFByb3BlcnRpZXMnXSxcbiAgICB9KTtcbiAgfVxuXG4gIHN3aXRjaCAoZGVmLnVua25vd25LZXlzKSB7XG4gICAgY2FzZSAncGFzc3Rocm91Z2gnOlxuICAgICAgcmV0dXJuIHJlZnMuYWxsb3dlZEFkZGl0aW9uYWxQcm9wZXJ0aWVzO1xuICAgIGNhc2UgJ3N0cmljdCc6XG4gICAgICByZXR1cm4gcmVmcy5yZWplY3RlZEFkZGl0aW9uYWxQcm9wZXJ0aWVzO1xuICAgIGNhc2UgJ3N0cmlwJzpcbiAgICAgIHJldHVybiByZWZzLnJlbW92ZUFkZGl0aW9uYWxTdHJhdGVneSA9PT0gJ3N0cmljdCdcbiAgICAgICAgPyByZWZzLmFsbG93ZWRBZGRpdGlvbmFsUHJvcGVydGllc1xuICAgICAgICA6IHJlZnMucmVqZWN0ZWRBZGRpdGlvbmFsUHJvcGVydGllcztcbiAgfVxufVxuXG5mdW5jdGlvbiBzYWZlSXNPcHRpb25hbChzY2hlbWE6IFpvZFR5cGVBbnkpOiBib29sZWFuIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gc2NoZW1hLmlzT3B0aW9uYWwoKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBab2RPcHRpb25hbERlZiB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gJy4uL3BhcnNlLWRlZic7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuLi9wYXJzZS10eXBlcyc7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi4vcmVmcyc7XG5pbXBvcnQgeyBwYXJzZUFueURlZiB9IGZyb20gJy4vYW55JztcblxuZXhwb3J0IGNvbnN0IHBhcnNlT3B0aW9uYWxEZWYgPSAoXG4gIGRlZjogWm9kT3B0aW9uYWxEZWYsXG4gIHJlZnM6IFJlZnMsXG4pOiBKc29uU2NoZW1hN1R5cGUgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAocmVmcy5jdXJyZW50UGF0aC50b1N0cmluZygpID09PSByZWZzLnByb3BlcnR5UGF0aD8udG9TdHJpbmcoKSkge1xuICAgIHJldHVybiBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHJlZnMpO1xuICB9XG5cbiAgY29uc3QgaW5uZXJTY2hlbWEgPSBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHtcbiAgICAuLi5yZWZzLFxuICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FueU9mJywgJzEnXSxcbiAgfSk7XG5cbiAgcmV0dXJuIGlubmVyU2NoZW1hXG4gICAgPyB7IGFueU9mOiBbeyBub3Q6IHBhcnNlQW55RGVmKCkgfSwgaW5uZXJTY2hlbWFdIH1cbiAgICA6IHBhcnNlQW55RGVmKCk7XG59O1xuIiwgImltcG9ydCB7IFpvZFBpcGVsaW5lRGVmIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSAnLi4vcGFyc2UtZGVmJztcbmltcG9ydCB7IEpzb25TY2hlbWE3VHlwZSB9IGZyb20gJy4uL3BhcnNlLXR5cGVzJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuLi9yZWZzJztcbmltcG9ydCB7IEpzb25TY2hlbWE3QWxsT2ZUeXBlIH0gZnJvbSAnLi9pbnRlcnNlY3Rpb24nO1xuXG5leHBvcnQgY29uc3QgcGFyc2VQaXBlbGluZURlZiA9IChcbiAgZGVmOiBab2RQaXBlbGluZURlZjxhbnksIGFueT4sXG4gIHJlZnM6IFJlZnMsXG4pOiBKc29uU2NoZW1hN0FsbE9mVHlwZSB8IEpzb25TY2hlbWE3VHlwZSB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmIChyZWZzLnBpcGVTdHJhdGVneSA9PT0gJ2lucHV0Jykge1xuICAgIHJldHVybiBwYXJzZURlZihkZWYuaW4uX2RlZiwgcmVmcyk7XG4gIH0gZWxzZSBpZiAocmVmcy5waXBlU3RyYXRlZ3kgPT09ICdvdXRwdXQnKSB7XG4gICAgcmV0dXJuIHBhcnNlRGVmKGRlZi5vdXQuX2RlZiwgcmVmcyk7XG4gIH1cblxuICBjb25zdCBhID0gcGFyc2VEZWYoZGVmLmluLl9kZWYsIHtcbiAgICAuLi5yZWZzLFxuICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FsbE9mJywgJzAnXSxcbiAgfSk7XG4gIGNvbnN0IGIgPSBwYXJzZURlZihkZWYub3V0Ll9kZWYsIHtcbiAgICAuLi5yZWZzLFxuICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FsbE9mJywgYSA/ICcxJyA6ICcwJ10sXG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgYWxsT2Y6IFthLCBiXS5maWx0ZXIoKHgpOiB4IGlzIEpzb25TY2hlbWE3VHlwZSA9PiB4ICE9PSB1bmRlZmluZWQpLFxuICB9O1xufTtcbiIsICJpbXBvcnQgeyBab2RQcm9taXNlRGVmIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSAnLi4vcGFyc2UtZGVmJztcbmltcG9ydCB7IEpzb25TY2hlbWE3VHlwZSB9IGZyb20gJy4uL3BhcnNlLXR5cGVzJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuLi9yZWZzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUHJvbWlzZURlZihcbiAgZGVmOiBab2RQcm9taXNlRGVmLFxuICByZWZzOiBSZWZzLFxuKTogSnNvblNjaGVtYTdUeXBlIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIHBhcnNlRGVmKGRlZi50eXBlLl9kZWYsIHJlZnMpO1xufVxuIiwgImltcG9ydCB7IFpvZFNldERlZiB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gJy4uL3BhcnNlLWRlZic7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuLi9wYXJzZS10eXBlcyc7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi4vcmVmcyc7XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3U2V0VHlwZSA9IHtcbiAgdHlwZTogJ2FycmF5JztcbiAgdW5pcXVlSXRlbXM6IHRydWU7XG4gIGl0ZW1zPzogSnNvblNjaGVtYTdUeXBlO1xuICBtaW5JdGVtcz86IG51bWJlcjtcbiAgbWF4SXRlbXM/OiBudW1iZXI7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VTZXREZWYoZGVmOiBab2RTZXREZWYsIHJlZnM6IFJlZnMpOiBKc29uU2NoZW1hN1NldFR5cGUge1xuICBjb25zdCBpdGVtcyA9IHBhcnNlRGVmKGRlZi52YWx1ZVR5cGUuX2RlZiwge1xuICAgIC4uLnJlZnMsXG4gICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnaXRlbXMnXSxcbiAgfSk7XG5cbiAgY29uc3Qgc2NoZW1hOiBKc29uU2NoZW1hN1NldFR5cGUgPSB7XG4gICAgdHlwZTogJ2FycmF5JyxcbiAgICB1bmlxdWVJdGVtczogdHJ1ZSxcbiAgICBpdGVtcyxcbiAgfTtcblxuICBpZiAoZGVmLm1pblNpemUpIHtcbiAgICBzY2hlbWEubWluSXRlbXMgPSBkZWYubWluU2l6ZS52YWx1ZTtcbiAgfVxuXG4gIGlmIChkZWYubWF4U2l6ZSkge1xuICAgIHNjaGVtYS5tYXhJdGVtcyA9IGRlZi5tYXhTaXplLnZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHNjaGVtYTtcbn1cbiIsICJpbXBvcnQgeyBab2RUdXBsZURlZiwgWm9kVHVwbGVJdGVtcywgWm9kVHlwZUFueSB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gJy4uL3BhcnNlLWRlZic7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuLi9wYXJzZS10eXBlcyc7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi4vcmVmcyc7XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3VHVwbGVUeXBlID0ge1xuICB0eXBlOiAnYXJyYXknO1xuICBtaW5JdGVtczogbnVtYmVyO1xuICBpdGVtczogSnNvblNjaGVtYTdUeXBlW107XG59ICYgKFxuICB8IHtcbiAgICAgIG1heEl0ZW1zOiBudW1iZXI7XG4gICAgfVxuICB8IHtcbiAgICAgIGFkZGl0aW9uYWxJdGVtcz86IEpzb25TY2hlbWE3VHlwZTtcbiAgICB9XG4pO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VUdXBsZURlZihcbiAgZGVmOiBab2RUdXBsZURlZjxab2RUdXBsZUl0ZW1zIHwgW10sIFpvZFR5cGVBbnkgfCBudWxsPixcbiAgcmVmczogUmVmcyxcbik6IEpzb25TY2hlbWE3VHVwbGVUeXBlIHtcbiAgaWYgKGRlZi5yZXN0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICBtaW5JdGVtczogZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgIGl0ZW1zOiBkZWYuaXRlbXNcbiAgICAgICAgLm1hcCgoeCwgaSkgPT5cbiAgICAgICAgICBwYXJzZURlZih4Ll9kZWYsIHtcbiAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdpdGVtcycsIGAke2l9YF0sXG4gICAgICAgICAgfSksXG4gICAgICAgIClcbiAgICAgICAgLnJlZHVjZShcbiAgICAgICAgICAoYWNjOiBKc29uU2NoZW1hN1R5cGVbXSwgeCkgPT4gKHggPT09IHVuZGVmaW5lZCA/IGFjYyA6IFsuLi5hY2MsIHhdKSxcbiAgICAgICAgICBbXSxcbiAgICAgICAgKSxcbiAgICAgIGFkZGl0aW9uYWxJdGVtczogcGFyc2VEZWYoZGVmLnJlc3QuX2RlZiwge1xuICAgICAgICAuLi5yZWZzLFxuICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhZGRpdGlvbmFsSXRlbXMnXSxcbiAgICAgIH0pLFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICBtaW5JdGVtczogZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgIG1heEl0ZW1zOiBkZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgaXRlbXM6IGRlZi5pdGVtc1xuICAgICAgICAubWFwKCh4LCBpKSA9PlxuICAgICAgICAgIHBhcnNlRGVmKHguX2RlZiwge1xuICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2l0ZW1zJywgYCR7aX1gXSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKVxuICAgICAgICAucmVkdWNlKFxuICAgICAgICAgIChhY2M6IEpzb25TY2hlbWE3VHlwZVtdLCB4KSA9PiAoeCA9PT0gdW5kZWZpbmVkID8gYWNjIDogWy4uLmFjYywgeF0pLFxuICAgICAgICAgIFtdLFxuICAgICAgICApLFxuICAgIH07XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBKc29uU2NoZW1hN0FueVR5cGUsIHBhcnNlQW55RGVmIH0gZnJvbSAnLi9hbnknO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN1VuZGVmaW5lZFR5cGUgPSB7XG4gIG5vdDogSnNvblNjaGVtYTdBbnlUeXBlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVW5kZWZpbmVkRGVmKCk6IEpzb25TY2hlbWE3VW5kZWZpbmVkVHlwZSB7XG4gIHJldHVybiB7XG4gICAgbm90OiBwYXJzZUFueURlZigpLFxuICB9O1xufVxuIiwgImltcG9ydCB7IEpzb25TY2hlbWE3QW55VHlwZSwgcGFyc2VBbnlEZWYgfSBmcm9tICcuL2FueSc7XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3VW5rbm93blR5cGUgPSBKc29uU2NoZW1hN0FueVR5cGU7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVVua25vd25EZWYoKTogSnNvblNjaGVtYTdVbmtub3duVHlwZSB7XG4gIHJldHVybiBwYXJzZUFueURlZigpO1xufVxuIiwgImltcG9ydCB7IFpvZFJlYWRvbmx5RGVmIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSAnLi4vcGFyc2UtZGVmJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuLi9yZWZzJztcblxuZXhwb3J0IGNvbnN0IHBhcnNlUmVhZG9ubHlEZWYgPSAoZGVmOiBab2RSZWFkb25seURlZjxhbnk+LCByZWZzOiBSZWZzKSA9PiB7XG4gIHJldHVybiBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHJlZnMpO1xufTtcbiIsICJpbXBvcnQgeyBab2RUeXBlRGVmIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IFJlZnMsIFNlZW4gfSBmcm9tICcuL3JlZnMnO1xuaW1wb3J0IHsgaWdub3JlT3ZlcnJpZGUgfSBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi9wYXJzZS10eXBlcyc7XG5pbXBvcnQgeyBzZWxlY3RQYXJzZXIgfSBmcm9tICcuL3NlbGVjdC1wYXJzZXInO1xuaW1wb3J0IHsgZ2V0UmVsYXRpdmVQYXRoIH0gZnJvbSAnLi9nZXQtcmVsYXRpdmUtcGF0aCc7XG5pbXBvcnQgeyBwYXJzZUFueURlZiB9IGZyb20gJy4vcGFyc2Vycy9hbnknO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VEZWYoXG4gIGRlZjogWm9kVHlwZURlZixcbiAgcmVmczogUmVmcyxcbiAgZm9yY2VSZXNvbHV0aW9uID0gZmFsc2UsIC8vIEZvcmNlcyBhIG5ldyBzY2hlbWEgdG8gYmUgaW5zdGFudGlhdGVkIGV2ZW4gdGhvdWdoIGl0cyBkZWYgaGFzIGJlZW4gc2Vlbi4gVXNlZCBmb3IgaW1wcm92aW5nIHJlZnMgaW4gZGVmaW5pdGlvbnMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vU3RlZmFuVGVyZGVsbC96b2QtdG8tanNvbi1zY2hlbWEvcHVsbC82MS5cbik6IEpzb25TY2hlbWE3VHlwZSB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IHNlZW5JdGVtID0gcmVmcy5zZWVuLmdldChkZWYpO1xuXG4gIGlmIChyZWZzLm92ZXJyaWRlKSB7XG4gICAgY29uc3Qgb3ZlcnJpZGVSZXN1bHQgPSByZWZzLm92ZXJyaWRlPy4oXG4gICAgICBkZWYsXG4gICAgICByZWZzLFxuICAgICAgc2Vlbkl0ZW0sXG4gICAgICBmb3JjZVJlc29sdXRpb24sXG4gICAgKTtcblxuICAgIGlmIChvdmVycmlkZVJlc3VsdCAhPT0gaWdub3JlT3ZlcnJpZGUpIHtcbiAgICAgIHJldHVybiBvdmVycmlkZVJlc3VsdDtcbiAgICB9XG4gIH1cblxuICBpZiAoc2Vlbkl0ZW0gJiYgIWZvcmNlUmVzb2x1dGlvbikge1xuICAgIGNvbnN0IHNlZW5TY2hlbWEgPSBnZXQkcmVmKHNlZW5JdGVtLCByZWZzKTtcblxuICAgIGlmIChzZWVuU2NoZW1hICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBzZWVuU2NoZW1hO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IG5ld0l0ZW06IFNlZW4gPSB7IGRlZiwgcGF0aDogcmVmcy5jdXJyZW50UGF0aCwganNvblNjaGVtYTogdW5kZWZpbmVkIH07XG5cbiAgcmVmcy5zZWVuLnNldChkZWYsIG5ld0l0ZW0pO1xuXG4gIGNvbnN0IGpzb25TY2hlbWFPckdldHRlciA9IHNlbGVjdFBhcnNlcihkZWYsIChkZWYgYXMgYW55KS50eXBlTmFtZSwgcmVmcyk7XG5cbiAgLy8gSWYgdGhlIHJldHVybiB3YXMgYSBmdW5jdGlvbiwgdGhlbiB0aGUgaW5uZXIgZGVmaW5pdGlvbiBuZWVkcyB0byBiZSBleHRyYWN0ZWQgYmVmb3JlIGEgY2FsbCB0byBwYXJzZURlZiAocmVjdXJzaXZlKVxuICBjb25zdCBqc29uU2NoZW1hID1cbiAgICB0eXBlb2YganNvblNjaGVtYU9yR2V0dGVyID09PSAnZnVuY3Rpb24nXG4gICAgICA/IHBhcnNlRGVmKGpzb25TY2hlbWFPckdldHRlcigpLCByZWZzKVxuICAgICAgOiBqc29uU2NoZW1hT3JHZXR0ZXI7XG5cbiAgaWYgKGpzb25TY2hlbWEpIHtcbiAgICBhZGRNZXRhKGRlZiwgcmVmcywganNvblNjaGVtYSk7XG4gIH1cblxuICBpZiAocmVmcy5wb3N0UHJvY2Vzcykge1xuICAgIGNvbnN0IHBvc3RQcm9jZXNzUmVzdWx0ID0gcmVmcy5wb3N0UHJvY2Vzcyhqc29uU2NoZW1hLCBkZWYsIHJlZnMpO1xuXG4gICAgbmV3SXRlbS5qc29uU2NoZW1hID0ganNvblNjaGVtYTtcblxuICAgIHJldHVybiBwb3N0UHJvY2Vzc1Jlc3VsdDtcbiAgfVxuXG4gIG5ld0l0ZW0uanNvblNjaGVtYSA9IGpzb25TY2hlbWE7XG5cbiAgcmV0dXJuIGpzb25TY2hlbWE7XG59XG5cbmNvbnN0IGdldCRyZWYgPSAoXG4gIGl0ZW06IFNlZW4sXG4gIHJlZnM6IFJlZnMsXG4pOlxuICB8IHtcbiAgICAgICRyZWY6IHN0cmluZztcbiAgICB9XG4gIHwge31cbiAgfCB1bmRlZmluZWQgPT4ge1xuICBzd2l0Y2ggKHJlZnMuJHJlZlN0cmF0ZWd5KSB7XG4gICAgY2FzZSAncm9vdCc6XG4gICAgICByZXR1cm4geyAkcmVmOiBpdGVtLnBhdGguam9pbignLycpIH07XG4gICAgY2FzZSAncmVsYXRpdmUnOlxuICAgICAgcmV0dXJuIHsgJHJlZjogZ2V0UmVsYXRpdmVQYXRoKHJlZnMuY3VycmVudFBhdGgsIGl0ZW0ucGF0aCkgfTtcbiAgICBjYXNlICdub25lJzpcbiAgICBjYXNlICdzZWVuJzoge1xuICAgICAgaWYgKFxuICAgICAgICBpdGVtLnBhdGgubGVuZ3RoIDwgcmVmcy5jdXJyZW50UGF0aC5sZW5ndGggJiZcbiAgICAgICAgaXRlbS5wYXRoLmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IHJlZnMuY3VycmVudFBhdGhbaW5kZXhdID09PSB2YWx1ZSlcbiAgICAgICkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgYFJlY3Vyc2l2ZSByZWZlcmVuY2UgZGV0ZWN0ZWQgYXQgJHtyZWZzLmN1cnJlbnRQYXRoLmpvaW4oXG4gICAgICAgICAgICAnLycsXG4gICAgICAgICAgKX0hIERlZmF1bHRpbmcgdG8gYW55YCxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gcGFyc2VBbnlEZWYoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlZnMuJHJlZlN0cmF0ZWd5ID09PSAnc2VlbicgPyBwYXJzZUFueURlZigpIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3QgYWRkTWV0YSA9IChcbiAgZGVmOiBab2RUeXBlRGVmLFxuICByZWZzOiBSZWZzLFxuICBqc29uU2NoZW1hOiBKc29uU2NoZW1hN1R5cGUsXG4pOiBKc29uU2NoZW1hN1R5cGUgPT4ge1xuICBpZiAoZGVmLmRlc2NyaXB0aW9uKSB7XG4gICAganNvblNjaGVtYS5kZXNjcmlwdGlvbiA9IGRlZi5kZXNjcmlwdGlvbjtcbiAgfVxuICByZXR1cm4ganNvblNjaGVtYTtcbn07XG4iLCAiaW1wb3J0IHsgWm9kVHlwZURlZiB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBnZXREZWZhdWx0T3B0aW9ucywgT3B0aW9ucyB9IGZyb20gJy4vb3B0aW9ucyc7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuL3BhcnNlLXR5cGVzJztcblxuZXhwb3J0IHR5cGUgUmVmcyA9IHtcbiAgc2VlbjogTWFwPFpvZFR5cGVEZWYsIFNlZW4+O1xuICBjdXJyZW50UGF0aDogc3RyaW5nW107XG4gIHByb3BlcnR5UGF0aDogc3RyaW5nW10gfCB1bmRlZmluZWQ7XG59ICYgT3B0aW9ucztcblxuZXhwb3J0IHR5cGUgU2VlbiA9IHtcbiAgZGVmOiBab2RUeXBlRGVmO1xuICBwYXRoOiBzdHJpbmdbXTtcbiAganNvblNjaGVtYTogSnNvblNjaGVtYTdUeXBlIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFJlZnMgPSAob3B0aW9ucz86IHN0cmluZyB8IFBhcnRpYWw8T3B0aW9ucz4pOiBSZWZzID0+IHtcbiAgY29uc3QgX29wdGlvbnMgPSBnZXREZWZhdWx0T3B0aW9ucyhvcHRpb25zKTtcbiAgY29uc3QgY3VycmVudFBhdGggPVxuICAgIF9vcHRpb25zLm5hbWUgIT09IHVuZGVmaW5lZFxuICAgICAgPyBbLi4uX29wdGlvbnMuYmFzZVBhdGgsIF9vcHRpb25zLmRlZmluaXRpb25QYXRoLCBfb3B0aW9ucy5uYW1lXVxuICAgICAgOiBfb3B0aW9ucy5iYXNlUGF0aDtcbiAgcmV0dXJuIHtcbiAgICAuLi5fb3B0aW9ucyxcbiAgICBjdXJyZW50UGF0aDogY3VycmVudFBhdGgsXG4gICAgcHJvcGVydHlQYXRoOiB1bmRlZmluZWQsXG4gICAgc2VlbjogbmV3IE1hcChcbiAgICAgIE9iamVjdC5lbnRyaWVzKF9vcHRpb25zLmRlZmluaXRpb25zKS5tYXAoKFtuYW1lLCBkZWZdKSA9PiBbXG4gICAgICAgIGRlZi5fZGVmLFxuICAgICAgICB7XG4gICAgICAgICAgZGVmOiBkZWYuX2RlZixcbiAgICAgICAgICBwYXRoOiBbLi4uX29wdGlvbnMuYmFzZVBhdGgsIF9vcHRpb25zLmRlZmluaXRpb25QYXRoLCBuYW1lXSxcbiAgICAgICAgICAvLyBSZXNvbHV0aW9uIG9mIHJlZmVyZW5jZXMgd2lsbCBiZSBmb3JjZWQgZXZlbiB0aG91Z2ggc2Vlbiwgc28gaXQncyBvayB0aGF0IHRoZSBzY2hlbWEgaXMgdW5kZWZpbmVkIGhlcmUgZm9yIG5vdy5cbiAgICAgICAgICBqc29uU2NoZW1hOiB1bmRlZmluZWQsXG4gICAgICAgIH0sXG4gICAgICBdKSxcbiAgICApLFxuICB9O1xufTtcbiIsICJpbXBvcnQgeyBab2RTY2hlbWEgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgT3B0aW9ucyB9IGZyb20gJy4vb3B0aW9ucyc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gJy4vcGFyc2UtZGVmJztcbmltcG9ydCB7IEpzb25TY2hlbWE3VHlwZSB9IGZyb20gJy4vcGFyc2UtdHlwZXMnO1xuaW1wb3J0IHsgZ2V0UmVmcyB9IGZyb20gJy4vcmVmcyc7XG5pbXBvcnQgeyBwYXJzZUFueURlZiB9IGZyb20gJy4vcGFyc2Vycy9hbnknO1xuXG5jb25zdCB6b2RUb0pzb25TY2hlbWEgPSAoXG4gIHNjaGVtYTogWm9kU2NoZW1hPGFueT4sXG4gIG9wdGlvbnM/OiBQYXJ0aWFsPE9wdGlvbnM+IHwgc3RyaW5nLFxuKTogSnNvblNjaGVtYTdUeXBlICYge1xuICAkc2NoZW1hPzogc3RyaW5nO1xuICBkZWZpbml0aW9ucz86IHtcbiAgICBba2V5OiBzdHJpbmddOiBKc29uU2NoZW1hN1R5cGU7XG4gIH07XG59ID0+IHtcbiAgY29uc3QgcmVmcyA9IGdldFJlZnMob3B0aW9ucyk7XG5cbiAgbGV0IGRlZmluaXRpb25zID1cbiAgICB0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcgJiYgb3B0aW9ucy5kZWZpbml0aW9uc1xuICAgICAgPyBPYmplY3QuZW50cmllcyhvcHRpb25zLmRlZmluaXRpb25zKS5yZWR1Y2UoXG4gICAgICAgICAgKGFjYzogeyBba2V5OiBzdHJpbmddOiBKc29uU2NoZW1hN1R5cGUgfSwgW25hbWUsIHNjaGVtYV0pID0+ICh7XG4gICAgICAgICAgICAuLi5hY2MsXG4gICAgICAgICAgICBbbmFtZV06XG4gICAgICAgICAgICAgIHBhcnNlRGVmKFxuICAgICAgICAgICAgICAgIHNjaGVtYS5fZGVmLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuYmFzZVBhdGgsIHJlZnMuZGVmaW5pdGlvblBhdGgsIG5hbWVdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgKSA/PyBwYXJzZUFueURlZigpLFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHt9LFxuICAgICAgICApXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICBjb25zdCBuYW1lID1cbiAgICB0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZydcbiAgICAgID8gb3B0aW9uc1xuICAgICAgOiBvcHRpb25zPy5uYW1lU3RyYXRlZ3kgPT09ICd0aXRsZSdcbiAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgOiBvcHRpb25zPy5uYW1lO1xuXG4gIGNvbnN0IG1haW4gPVxuICAgIHBhcnNlRGVmKFxuICAgICAgc2NoZW1hLl9kZWYsXG4gICAgICBuYW1lID09PSB1bmRlZmluZWRcbiAgICAgICAgPyByZWZzXG4gICAgICAgIDoge1xuICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5iYXNlUGF0aCwgcmVmcy5kZWZpbml0aW9uUGF0aCwgbmFtZV0sXG4gICAgICAgICAgfSxcbiAgICAgIGZhbHNlLFxuICAgICkgPz8gKHBhcnNlQW55RGVmKCkgYXMgSnNvblNjaGVtYTdUeXBlKTtcblxuICBjb25zdCB0aXRsZSA9XG4gICAgdHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnICYmXG4gICAgb3B0aW9ucy5uYW1lICE9PSB1bmRlZmluZWQgJiZcbiAgICBvcHRpb25zLm5hbWVTdHJhdGVneSA9PT0gJ3RpdGxlJ1xuICAgICAgPyBvcHRpb25zLm5hbWVcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gIGlmICh0aXRsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgbWFpbi50aXRsZSA9IHRpdGxlO1xuICB9XG5cbiAgY29uc3QgY29tYmluZWQ6IFJldHVyblR5cGU8dHlwZW9mIHpvZFRvSnNvblNjaGVtYT4gPVxuICAgIG5hbWUgPT09IHVuZGVmaW5lZFxuICAgICAgPyBkZWZpbml0aW9uc1xuICAgICAgICA/IHtcbiAgICAgICAgICAgIC4uLm1haW4sXG4gICAgICAgICAgICBbcmVmcy5kZWZpbml0aW9uUGF0aF06IGRlZmluaXRpb25zLFxuICAgICAgICAgIH1cbiAgICAgICAgOiBtYWluXG4gICAgICA6IHtcbiAgICAgICAgICAkcmVmOiBbXG4gICAgICAgICAgICAuLi4ocmVmcy4kcmVmU3RyYXRlZ3kgPT09ICdyZWxhdGl2ZScgPyBbXSA6IHJlZnMuYmFzZVBhdGgpLFxuICAgICAgICAgICAgcmVmcy5kZWZpbml0aW9uUGF0aCxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgXS5qb2luKCcvJyksXG4gICAgICAgICAgW3JlZnMuZGVmaW5pdGlvblBhdGhdOiB7XG4gICAgICAgICAgICAuLi5kZWZpbml0aW9ucyxcbiAgICAgICAgICAgIFtuYW1lXTogbWFpbixcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuXG4gIGNvbWJpbmVkLiRzY2hlbWEgPSAnaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNy9zY2hlbWEjJztcblxuICByZXR1cm4gY29tYmluZWQ7XG59O1xuXG5leHBvcnQgeyB6b2RUb0pzb25TY2hlbWEgfTtcbiIsICJleHBvcnQgKiBmcm9tICcuL2dldC1yZWxhdGl2ZS1wYXRoJztcbmV4cG9ydCAqIGZyb20gJy4vb3B0aW9ucyc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlLWRlZic7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlLXR5cGVzJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9hbnknO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL2FycmF5JztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9iaWdpbnQnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL2Jvb2xlYW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL2JyYW5kZWQnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL2NhdGNoJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9kYXRlJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9kZWZhdWx0JztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9lZmZlY3RzJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9lbnVtJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9pbnRlcnNlY3Rpb24nO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL2xpdGVyYWwnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL21hcCc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvbmF0aXZlLWVudW0nO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL25ldmVyJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9udWxsJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9udWxsYWJsZSc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvbnVtYmVyJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9vYmplY3QnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL29wdGlvbmFsJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9waXBlbGluZSc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvcHJvbWlzZSc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvcmVhZG9ubHknO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL3JlY29yZCc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvc2V0JztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9zdHJpbmcnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL3R1cGxlJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy91bmRlZmluZWQnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL3VuaW9uJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy91bmtub3duJztcbmV4cG9ydCAqIGZyb20gJy4vcmVmcyc7XG5leHBvcnQgKiBmcm9tICcuL3NlbGVjdC1wYXJzZXInO1xuZXhwb3J0ICogZnJvbSAnLi96b2QtdG8tanNvbi1zY2hlbWEnO1xuaW1wb3J0IHsgem9kVG9Kc29uU2NoZW1hIH0gZnJvbSAnLi96b2QtdG8tanNvbi1zY2hlbWEnO1xuZXhwb3J0IGRlZmF1bHQgem9kVG9Kc29uU2NoZW1hO1xuIiwgImltcG9ydCB7IFZhbGlkYXRvciwgdmFsaWRhdG9yU3ltYm9sLCB0eXBlIFZhbGlkYXRpb25SZXN1bHQgfSBmcm9tICcuL3ZhbGlkYXRvcic7XG5pbXBvcnQgeyBKU09OU2NoZW1hNyB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0ICogYXMgejMgZnJvbSAnem9kL3YzJztcbmltcG9ydCAqIGFzIHo0IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgeyB6b2RTY2hlbWEgfSBmcm9tICcuL3pvZC1zY2hlbWEnO1xuXG4vKipcbiAqIFVzZWQgdG8gbWFyayBzY2hlbWFzIHNvIHdlIGNhbiBzdXBwb3J0IGJvdGggWm9kIGFuZCBjdXN0b20gc2NoZW1hcy5cbiAqL1xuY29uc3Qgc2NoZW1hU3ltYm9sID0gU3ltYm9sLmZvcigndmVyY2VsLmFpLnNjaGVtYScpO1xuXG5leHBvcnQgdHlwZSBTY2hlbWE8T0JKRUNUID0gdW5rbm93bj4gPSBWYWxpZGF0b3I8T0JKRUNUPiAmIHtcbiAgLyoqXG4gICAqIFVzZWQgdG8gbWFyayBzY2hlbWFzIHNvIHdlIGNhbiBzdXBwb3J0IGJvdGggWm9kIGFuZCBjdXN0b20gc2NoZW1hcy5cbiAgICovXG4gIFtzY2hlbWFTeW1ib2xdOiB0cnVlO1xuXG4gIC8qKlxuICAgKiBTY2hlbWEgdHlwZSBmb3IgaW5mZXJlbmNlLlxuICAgKi9cbiAgX3R5cGU6IE9CSkVDVDtcblxuICAvKipcbiAgICogVGhlIEpTT04gU2NoZW1hIGZvciB0aGUgc2NoZW1hLiBJdCBpcyBwYXNzZWQgdG8gdGhlIHByb3ZpZGVycy5cbiAgICovXG4gIHJlYWRvbmx5IGpzb25TY2hlbWE6IEpTT05TY2hlbWE3O1xufTtcblxuLy8gTm90ZTogWm9kIHR5cGVzIGhlcmUgZXhhY3RseSBtYXRjaCB0aGUgdHlwZXMgaW4gem9kLXNjaGVtYS50c1xuLy8gdG8gcHJldmVudCB0eXBlIGVycm9ycyB3aGVuIHVzaW5nIHpvZCBzY2hlbWFzIHdpdGggZmxleGlibGUgc2NoZW1hcy5cbmV4cG9ydCB0eXBlIEZsZXhpYmxlU2NoZW1hPFQ+ID1cbiAgfCB6NC5jb3JlLiRab2RUeXBlPFQsIGFueT5cbiAgfCB6My5TY2hlbWE8VCwgejMuWm9kVHlwZURlZiwgYW55PlxuICB8IFNjaGVtYTxUPjtcblxuZXhwb3J0IHR5cGUgSW5mZXJTY2hlbWE8U0NIRU1BPiA9IFNDSEVNQSBleHRlbmRzIHozLlNjaGVtYVxuICA/IHozLmluZmVyPFNDSEVNQT5cbiAgOiBTQ0hFTUEgZXh0ZW5kcyB6NC5jb3JlLiRab2RUeXBlXG4gICAgPyB6NC5pbmZlcjxTQ0hFTUE+XG4gICAgOiBTQ0hFTUEgZXh0ZW5kcyBTY2hlbWE8aW5mZXIgVD5cbiAgICAgID8gVFxuICAgICAgOiBuZXZlcjtcblxuLyoqXG4gKiBDcmVhdGUgYSBzY2hlbWEgdXNpbmcgYSBKU09OIFNjaGVtYS5cbiAqXG4gKiBAcGFyYW0ganNvblNjaGVtYSBUaGUgSlNPTiBTY2hlbWEgZm9yIHRoZSBzY2hlbWEuXG4gKiBAcGFyYW0gb3B0aW9ucy52YWxpZGF0ZSBPcHRpb25hbC4gQSB2YWxpZGF0aW9uIGZ1bmN0aW9uIGZvciB0aGUgc2NoZW1hLlxuICovXG5leHBvcnQgZnVuY3Rpb24ganNvblNjaGVtYTxPQkpFQ1QgPSB1bmtub3duPihcbiAganNvblNjaGVtYTogSlNPTlNjaGVtYTcsXG4gIHtcbiAgICB2YWxpZGF0ZSxcbiAgfToge1xuICAgIHZhbGlkYXRlPzogKFxuICAgICAgdmFsdWU6IHVua25vd24sXG4gICAgKSA9PiBWYWxpZGF0aW9uUmVzdWx0PE9CSkVDVD4gfCBQcm9taXNlTGlrZTxWYWxpZGF0aW9uUmVzdWx0PE9CSkVDVD4+O1xuICB9ID0ge30sXG4pOiBTY2hlbWE8T0JKRUNUPiB7XG4gIHJldHVybiB7XG4gICAgW3NjaGVtYVN5bWJvbF06IHRydWUsXG4gICAgX3R5cGU6IHVuZGVmaW5lZCBhcyBPQkpFQ1QsIC8vIHNob3VsZCBuZXZlciBiZSB1c2VkIGRpcmVjdGx5XG4gICAgW3ZhbGlkYXRvclN5bWJvbF06IHRydWUsXG4gICAganNvblNjaGVtYSxcbiAgICB2YWxpZGF0ZSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gaXNTY2hlbWEodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBTY2hlbWEge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICB2YWx1ZSAhPT0gbnVsbCAmJlxuICAgIHNjaGVtYVN5bWJvbCBpbiB2YWx1ZSAmJlxuICAgIHZhbHVlW3NjaGVtYVN5bWJvbF0gPT09IHRydWUgJiZcbiAgICAnanNvblNjaGVtYScgaW4gdmFsdWUgJiZcbiAgICAndmFsaWRhdGUnIGluIHZhbHVlXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc1NjaGVtYTxPQkpFQ1Q+KFxuICBzY2hlbWE6XG4gICAgfCB6NC5jb3JlLiRab2RUeXBlPE9CSkVDVCwgYW55PlxuICAgIHwgejMuU2NoZW1hPE9CSkVDVCwgejMuWm9kVHlwZURlZiwgYW55PlxuICAgIHwgU2NoZW1hPE9CSkVDVD5cbiAgICB8IHVuZGVmaW5lZCxcbik6IFNjaGVtYTxPQkpFQ1Q+IHtcbiAgcmV0dXJuIHNjaGVtYSA9PSBudWxsXG4gICAgPyBqc29uU2NoZW1hKHtcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgICAgIH0pXG4gICAgOiBpc1NjaGVtYShzY2hlbWEpXG4gICAgICA/IHNjaGVtYVxuICAgICAgOiB6b2RTY2hlbWEoc2NoZW1hKTtcbn1cbiIsICIvLyBidG9hIGFuZCBhdG9iIG5lZWQgdG8gYmUgaW52b2tlZCBhcyBhIGZ1bmN0aW9uIGNhbGwsIG5vdCBhcyBhIG1ldGhvZCBjYWxsLlxuLy8gT3RoZXJ3aXNlIENsb3VkRmxhcmUgd2lsbCB0aHJvdyBhXG4vLyBcIlR5cGVFcnJvcjogSWxsZWdhbCBpbnZvY2F0aW9uOiBmdW5jdGlvbiBjYWxsZWQgd2l0aCBpbmNvcnJlY3QgdGhpcyByZWZlcmVuY2VcIlxuY29uc3QgeyBidG9hLCBhdG9iIH0gPSBnbG9iYWxUaGlzO1xuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydEJhc2U2NFRvVWludDhBcnJheShiYXNlNjRTdHJpbmc6IHN0cmluZykge1xuICBjb25zdCBiYXNlNjRVcmwgPSBiYXNlNjRTdHJpbmcucmVwbGFjZSgvLS9nLCAnKycpLnJlcGxhY2UoL18vZywgJy8nKTtcbiAgY29uc3QgbGF0aW4xc3RyaW5nID0gYXRvYihiYXNlNjRVcmwpO1xuICByZXR1cm4gVWludDhBcnJheS5mcm9tKGxhdGluMXN0cmluZywgYnl0ZSA9PiBieXRlLmNvZGVQb2ludEF0KDApISk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VWludDhBcnJheVRvQmFzZTY0KGFycmF5OiBVaW50OEFycmF5KTogc3RyaW5nIHtcbiAgbGV0IGxhdGluMXN0cmluZyA9ICcnO1xuXG4gIC8vIE5vdGU6IHJlZ3VsYXIgZm9yIGxvb3AgdG8gc3VwcG9ydCBvbGRlciBKYXZhU2NyaXB0IHZlcnNpb25zIHRoYXRcbiAgLy8gZG8gbm90IHN1cHBvcnQgZm9yLi5vZiBvbiBVaW50OEFycmF5XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICBsYXRpbjFzdHJpbmcgKz0gU3RyaW5nLmZyb21Db2RlUG9pbnQoYXJyYXlbaV0pO1xuICB9XG5cbiAgcmV0dXJuIGJ0b2EobGF0aW4xc3RyaW5nKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb0Jhc2U2NCh2YWx1ZTogc3RyaW5nIHwgVWludDhBcnJheSk6IHN0cmluZyB7XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBjb252ZXJ0VWludDhBcnJheVRvQmFzZTY0KHZhbHVlKSA6IHZhbHVlO1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiB3aXRob3V0VHJhaWxpbmdTbGFzaCh1cmw6IHN0cmluZyB8IHVuZGVmaW5lZCkge1xuICByZXR1cm4gdXJsPy5yZXBsYWNlKC9cXC8kLywgJycpO1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBpc0FzeW5jSXRlcmFibGU8VCA9IGFueT4ob2JqOiBhbnkpOiBvYmogaXMgQXN5bmNJdGVyYWJsZTxUPiB7XG4gIHJldHVybiBvYmogIT0gbnVsbCAmJiB0eXBlb2Ygb2JqW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJztcbn1cbiIsICJpbXBvcnQgeyBUb29sLCBUb29sQ2FsbE9wdGlvbnMsIFRvb2xFeGVjdXRlRnVuY3Rpb24gfSBmcm9tICcuL3Rvb2wnO1xuaW1wb3J0IHsgaXNBc3luY0l0ZXJhYmxlIH0gZnJvbSAnLi4vaXMtYXN5bmMtaXRlcmFibGUnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24qIGV4ZWN1dGVUb29sPElOUFVULCBPVVRQVVQ+KHtcbiAgZXhlY3V0ZSxcbiAgaW5wdXQsXG4gIG9wdGlvbnMsXG59OiB7XG4gIGV4ZWN1dGU6IFRvb2xFeGVjdXRlRnVuY3Rpb248SU5QVVQsIE9VVFBVVD47XG4gIGlucHV0OiBJTlBVVDtcbiAgb3B0aW9uczogVG9vbENhbGxPcHRpb25zO1xufSk6IEFzeW5jR2VuZXJhdG9yPFxuICB7IHR5cGU6ICdwcmVsaW1pbmFyeSc7IG91dHB1dDogT1VUUFVUIH0gfCB7IHR5cGU6ICdmaW5hbCc7IG91dHB1dDogT1VUUFVUIH1cbj4ge1xuICBjb25zdCByZXN1bHQgPSBleGVjdXRlKGlucHV0LCBvcHRpb25zKTtcblxuICBpZiAoaXNBc3luY0l0ZXJhYmxlKHJlc3VsdCkpIHtcbiAgICBsZXQgbGFzdE91dHB1dDogT1VUUFVUIHwgdW5kZWZpbmVkO1xuICAgIGZvciBhd2FpdCAoY29uc3Qgb3V0cHV0IG9mIHJlc3VsdCkge1xuICAgICAgbGFzdE91dHB1dCA9IG91dHB1dDtcbiAgICAgIHlpZWxkIHsgdHlwZTogJ3ByZWxpbWluYXJ5Jywgb3V0cHV0IH07XG4gICAgfVxuICAgIHlpZWxkIHsgdHlwZTogJ2ZpbmFsJywgb3V0cHV0OiBsYXN0T3V0cHV0ISB9O1xuICB9IGVsc2Uge1xuICAgIHlpZWxkIHsgdHlwZTogJ2ZpbmFsJywgb3V0cHV0OiBhd2FpdCByZXN1bHQgfTtcbiAgfVxufVxuIiwgImV4cG9ydCAqIGZyb20gJy4vY29tYmluZS1oZWFkZXJzJztcbmV4cG9ydCB7IGNvbnZlcnRBc3luY0l0ZXJhdG9yVG9SZWFkYWJsZVN0cmVhbSB9IGZyb20gJy4vY29udmVydC1hc3luYy1pdGVyYXRvci10by1yZWFkYWJsZS1zdHJlYW0nO1xuZXhwb3J0ICogZnJvbSAnLi9kZWxheSc7XG5leHBvcnQgKiBmcm9tICcuL2V4dHJhY3QtcmVzcG9uc2UtaGVhZGVycyc7XG5leHBvcnQgKiBmcm9tICcuL2ZldGNoLWZ1bmN0aW9uJztcbmV4cG9ydCB7IGdldFJ1bnRpbWVFbnZpcm9ubWVudFVzZXJBZ2VudCB9IGZyb20gJy4vZ2V0LXJ1bnRpbWUtZW52aXJvbm1lbnQtdXNlci1hZ2VudCc7XG5leHBvcnQgeyB3aXRoVXNlckFnZW50U3VmZml4IH0gZnJvbSAnLi93aXRoLXVzZXItYWdlbnQtc3VmZml4JztcbmV4cG9ydCB7IGNyZWF0ZUlkR2VuZXJhdG9yLCBnZW5lcmF0ZUlkLCB0eXBlIElkR2VuZXJhdG9yIH0gZnJvbSAnLi9nZW5lcmF0ZS1pZCc7XG5leHBvcnQgKiBmcm9tICcuL2dldC1lcnJvci1tZXNzYWdlJztcbmV4cG9ydCAqIGZyb20gJy4vZ2V0LWZyb20tYXBpJztcbmV4cG9ydCB7IGluamVjdEpzb25JbnN0cnVjdGlvbkludG9NZXNzYWdlcyB9IGZyb20gJy4vaW5qZWN0LWpzb24taW5zdHJ1Y3Rpb24nO1xuZXhwb3J0ICogZnJvbSAnLi9pcy1hYm9ydC1lcnJvcic7XG5leHBvcnQgeyBpc1VybFN1cHBvcnRlZCB9IGZyb20gJy4vaXMtdXJsLXN1cHBvcnRlZCc7XG5leHBvcnQgKiBmcm9tICcuL2xvYWQtYXBpLWtleSc7XG5leHBvcnQgeyBsb2FkT3B0aW9uYWxTZXR0aW5nIH0gZnJvbSAnLi9sb2FkLW9wdGlvbmFsLXNldHRpbmcnO1xuZXhwb3J0IHsgbG9hZFNldHRpbmcgfSBmcm9tICcuL2xvYWQtc2V0dGluZyc7XG5leHBvcnQgeyBtZWRpYVR5cGVUb0V4dGVuc2lvbiB9IGZyb20gJy4vbWVkaWEtdHlwZS10by1leHRlbnNpb24nO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZS1qc29uJztcbmV4cG9ydCB7IHBhcnNlSnNvbkV2ZW50U3RyZWFtIH0gZnJvbSAnLi9wYXJzZS1qc29uLWV2ZW50LXN0cmVhbSc7XG5leHBvcnQgeyBwYXJzZVByb3ZpZGVyT3B0aW9ucyB9IGZyb20gJy4vcGFyc2UtcHJvdmlkZXItb3B0aW9ucyc7XG5leHBvcnQgKiBmcm9tICcuL3Bvc3QtdG8tYXBpJztcbmV4cG9ydCB7XG4gIGNyZWF0ZVByb3ZpZGVyRGVmaW5lZFRvb2xGYWN0b3J5LFxuICBjcmVhdGVQcm92aWRlckRlZmluZWRUb29sRmFjdG9yeVdpdGhPdXRwdXRTY2hlbWEsXG4gIHR5cGUgUHJvdmlkZXJEZWZpbmVkVG9vbEZhY3RvcnksXG4gIHR5cGUgUHJvdmlkZXJEZWZpbmVkVG9vbEZhY3RvcnlXaXRoT3V0cHV0U2NoZW1hLFxufSBmcm9tICcuL3Byb3ZpZGVyLWRlZmluZWQtdG9vbC1mYWN0b3J5JztcbmV4cG9ydCAqIGZyb20gJy4vcmVtb3ZlLXVuZGVmaW5lZC1lbnRyaWVzJztcbmV4cG9ydCAqIGZyb20gJy4vcmVzb2x2ZSc7XG5leHBvcnQgKiBmcm9tICcuL3Jlc3BvbnNlLWhhbmRsZXInO1xuZXhwb3J0IHtcbiAgYXNTY2hlbWEsXG4gIGpzb25TY2hlbWEsXG4gIHR5cGUgRmxleGlibGVTY2hlbWEsXG4gIHR5cGUgSW5mZXJTY2hlbWEsXG4gIHR5cGUgU2NoZW1hLFxufSBmcm9tICcuL3NjaGVtYSc7XG5leHBvcnQgKiBmcm9tICcuL3VpbnQ4LXV0aWxzJztcbmV4cG9ydCAqIGZyb20gJy4vdmFsaWRhdGUtdHlwZXMnO1xuZXhwb3J0ICogZnJvbSAnLi92YWxpZGF0b3InO1xuZXhwb3J0ICogZnJvbSAnLi93aXRob3V0LXRyYWlsaW5nLXNsYXNoJztcbmV4cG9ydCB7IHpvZFNjaGVtYSB9IGZyb20gJy4vem9kLXNjaGVtYSc7XG5cbi8vIGZvbGRlciByZS1leHBvcnRzXG5leHBvcnQgKiBmcm9tICcuL3R5cGVzJztcblxuLy8gZXh0ZXJuYWwgcmUtZXhwb3J0c1xuZXhwb3J0ICogZnJvbSAnQHN0YW5kYXJkLXNjaGVtYS9zcGVjJztcbmV4cG9ydCB7XG4gIEV2ZW50U291cmNlUGFyc2VyU3RyZWFtLFxuICB0eXBlIEV2ZW50U291cmNlTWVzc2FnZSxcbn0gZnJvbSAnZXZlbnRzb3VyY2UtcGFyc2VyL3N0cmVhbSc7XG5cbi8vIHVzZXItYWdlbnQgZXhwb3J0c1xuZXhwb3J0IHsgVkVSU0lPTiB9IGZyb20gJy4vdmVyc2lvbic7XG4iLCAiaW1wb3J0IHsgTm9TdWNoTW9kZWxFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHtcbiAgbG9hZE9wdGlvbmFsU2V0dGluZyxcbiAgd2l0aG91dFRyYWlsaW5nU2xhc2gsXG4gIHR5cGUgRmV0Y2hGdW5jdGlvbixcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBhc0dhdGV3YXlFcnJvciwgR2F0ZXdheUF1dGhlbnRpY2F0aW9uRXJyb3IgfSBmcm9tICcuL2Vycm9ycyc7XG5pbXBvcnQge1xuICBHQVRFV0FZX0FVVEhfTUVUSE9EX0hFQURFUixcbiAgcGFyc2VBdXRoTWV0aG9kLFxufSBmcm9tICcuL2Vycm9ycy9wYXJzZS1hdXRoLW1ldGhvZCc7XG5pbXBvcnQge1xuICBHYXRld2F5RmV0Y2hNZXRhZGF0YSxcbiAgdHlwZSBHYXRld2F5RmV0Y2hNZXRhZGF0YVJlc3BvbnNlLFxufSBmcm9tICcuL2dhdGV3YXktZmV0Y2gtbWV0YWRhdGEnO1xuaW1wb3J0IHsgR2F0ZXdheUxhbmd1YWdlTW9kZWwgfSBmcm9tICcuL2dhdGV3YXktbGFuZ3VhZ2UtbW9kZWwnO1xuaW1wb3J0IHsgR2F0ZXdheUVtYmVkZGluZ01vZGVsIH0gZnJvbSAnLi9nYXRld2F5LWVtYmVkZGluZy1tb2RlbCc7XG5pbXBvcnQgdHlwZSB7IEdhdGV3YXlFbWJlZGRpbmdNb2RlbElkIH0gZnJvbSAnLi9nYXRld2F5LWVtYmVkZGluZy1tb2RlbC1zZXR0aW5ncyc7XG5pbXBvcnQgeyBnZXRWZXJjZWxPaWRjVG9rZW4sIGdldFZlcmNlbFJlcXVlc3RJZCB9IGZyb20gJy4vdmVyY2VsLWVudmlyb25tZW50JztcbmltcG9ydCB0eXBlIHsgR2F0ZXdheU1vZGVsSWQgfSBmcm9tICcuL2dhdGV3YXktbGFuZ3VhZ2UtbW9kZWwtc2V0dGluZ3MnO1xuaW1wb3J0IHR5cGUge1xuICBMYW5ndWFnZU1vZGVsVjIsXG4gIEVtYmVkZGluZ01vZGVsVjIsXG4gIFByb3ZpZGVyVjIsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIEdhdGV3YXlQcm92aWRlciBleHRlbmRzIFByb3ZpZGVyVjIge1xuICAobW9kZWxJZDogR2F0ZXdheU1vZGVsSWQpOiBMYW5ndWFnZU1vZGVsVjI7XG5cbiAgLyoqXG5DcmVhdGVzIGEgbW9kZWwgZm9yIHRleHQgZ2VuZXJhdGlvbi5cbiovXG4gIGxhbmd1YWdlTW9kZWwobW9kZWxJZDogR2F0ZXdheU1vZGVsSWQpOiBMYW5ndWFnZU1vZGVsVjI7XG5cbiAgLyoqXG5SZXR1cm5zIGF2YWlsYWJsZSBwcm92aWRlcnMgYW5kIG1vZGVscyBmb3IgdXNlIHdpdGggdGhlIHJlbW90ZSBwcm92aWRlci5cbiAqL1xuICBnZXRBdmFpbGFibGVNb2RlbHMoKTogUHJvbWlzZTxHYXRld2F5RmV0Y2hNZXRhZGF0YVJlc3BvbnNlPjtcblxuICAvKipcbkNyZWF0ZXMgYSBtb2RlbCBmb3IgZ2VuZXJhdGluZyB0ZXh0IGVtYmVkZGluZ3MuXG4qL1xuICB0ZXh0RW1iZWRkaW5nTW9kZWwoXG4gICAgbW9kZWxJZDogR2F0ZXdheUVtYmVkZGluZ01vZGVsSWQsXG4gICk6IEVtYmVkZGluZ01vZGVsVjI8c3RyaW5nPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHYXRld2F5UHJvdmlkZXJTZXR0aW5ncyB7XG4gIC8qKlxuVGhlIGJhc2UgVVJMIHByZWZpeCBmb3IgQVBJIGNhbGxzLiBEZWZhdWx0cyB0byBgaHR0cHM6Ly9haS1nYXRld2F5LnZlcmNlbC5zaC92MS9haWAuXG4gICAqL1xuICBiYXNlVVJMPzogc3RyaW5nO1xuXG4gIC8qKlxuQVBJIGtleSB0aGF0IGlzIGJlaW5nIHNlbnQgdXNpbmcgdGhlIGBBdXRob3JpemF0aW9uYCBoZWFkZXIuXG4gICAqL1xuICBhcGlLZXk/OiBzdHJpbmc7XG5cbiAgLyoqXG5DdXN0b20gaGVhZGVycyB0byBpbmNsdWRlIGluIHRoZSByZXF1ZXN0cy5cbiAgICAgKi9cbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG5cbiAgLyoqXG5DdXN0b20gZmV0Y2ggaW1wbGVtZW50YXRpb24uIFlvdSBjYW4gdXNlIGl0IGFzIGEgbWlkZGxld2FyZSB0byBpbnRlcmNlcHQgcmVxdWVzdHMsXG5vciB0byBwcm92aWRlIGEgY3VzdG9tIGZldGNoIGltcGxlbWVudGF0aW9uIGZvciBlLmcuIHRlc3RpbmcuXG4gICAgKi9cbiAgZmV0Y2g/OiBGZXRjaEZ1bmN0aW9uO1xuXG4gIC8qKlxuSG93IGZyZXF1ZW50bHkgdG8gcmVmcmVzaCB0aGUgbWV0YWRhdGEgY2FjaGUgaW4gbWlsbGlzZWNvbmRzLlxuICAgKi9cbiAgbWV0YWRhdGFDYWNoZVJlZnJlc2hNaWxsaXM/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbCBGb3IgdGVzdGluZyBwdXJwb3NlcyBvbmx5XG4gICAqL1xuICBfaW50ZXJuYWw/OiB7XG4gICAgY3VycmVudERhdGU/OiAoKSA9PiBEYXRlO1xuICB9O1xufVxuXG5jb25zdCBBSV9HQVRFV0FZX1BST1RPQ09MX1ZFUlNJT04gPSAnMC4wLjEnO1xuXG4vKipcbkNyZWF0ZSBhIHJlbW90ZSBwcm92aWRlciBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUdhdGV3YXlQcm92aWRlcihcbiAgb3B0aW9uczogR2F0ZXdheVByb3ZpZGVyU2V0dGluZ3MgPSB7fSxcbik6IEdhdGV3YXlQcm92aWRlciB7XG4gIGxldCBwZW5kaW5nTWV0YWRhdGE6IFByb21pc2U8R2F0ZXdheUZldGNoTWV0YWRhdGFSZXNwb25zZT4gfCBudWxsID0gbnVsbDtcbiAgbGV0IG1ldGFkYXRhQ2FjaGU6IEdhdGV3YXlGZXRjaE1ldGFkYXRhUmVzcG9uc2UgfCBudWxsID0gbnVsbDtcbiAgY29uc3QgY2FjaGVSZWZyZXNoTWlsbGlzID1cbiAgICBvcHRpb25zLm1ldGFkYXRhQ2FjaGVSZWZyZXNoTWlsbGlzID8/IDEwMDAgKiA2MCAqIDU7XG4gIGxldCBsYXN0RmV0Y2hUaW1lID0gMDtcblxuICBjb25zdCBiYXNlVVJMID1cbiAgICB3aXRob3V0VHJhaWxpbmdTbGFzaChvcHRpb25zLmJhc2VVUkwpID8/XG4gICAgJ2h0dHBzOi8vYWktZ2F0ZXdheS52ZXJjZWwuc2gvdjEvYWknO1xuXG4gIGNvbnN0IGdldEhlYWRlcnMgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgYXV0aCA9IGF3YWl0IGdldEdhdGV3YXlBdXRoVG9rZW4ob3B0aW9ucyk7XG4gICAgaWYgKGF1dGgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHthdXRoLnRva2VufWAsXG4gICAgICAgICdhaS1nYXRld2F5LXByb3RvY29sLXZlcnNpb24nOiBBSV9HQVRFV0FZX1BST1RPQ09MX1ZFUlNJT04sXG4gICAgICAgIFtHQVRFV0FZX0FVVEhfTUVUSE9EX0hFQURFUl06IGF1dGguYXV0aE1ldGhvZCxcbiAgICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICB0aHJvdyBHYXRld2F5QXV0aGVudGljYXRpb25FcnJvci5jcmVhdGVDb250ZXh0dWFsRXJyb3Ioe1xuICAgICAgYXBpS2V5UHJvdmlkZWQ6IGZhbHNlLFxuICAgICAgb2lkY1Rva2VuUHJvdmlkZWQ6IGZhbHNlLFxuICAgICAgc3RhdHVzQ29kZTogNDAxLFxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGNyZWF0ZU8xMXlIZWFkZXJzID0gKCkgPT4ge1xuICAgIGNvbnN0IGRlcGxveW1lbnRJZCA9IGxvYWRPcHRpb25hbFNldHRpbmcoe1xuICAgICAgc2V0dGluZ1ZhbHVlOiB1bmRlZmluZWQsXG4gICAgICBlbnZpcm9ubWVudFZhcmlhYmxlTmFtZTogJ1ZFUkNFTF9ERVBMT1lNRU5UX0lEJyxcbiAgICB9KTtcbiAgICBjb25zdCBlbnZpcm9ubWVudCA9IGxvYWRPcHRpb25hbFNldHRpbmcoe1xuICAgICAgc2V0dGluZ1ZhbHVlOiB1bmRlZmluZWQsXG4gICAgICBlbnZpcm9ubWVudFZhcmlhYmxlTmFtZTogJ1ZFUkNFTF9FTlYnLFxuICAgIH0pO1xuICAgIGNvbnN0IHJlZ2lvbiA9IGxvYWRPcHRpb25hbFNldHRpbmcoe1xuICAgICAgc2V0dGluZ1ZhbHVlOiB1bmRlZmluZWQsXG4gICAgICBlbnZpcm9ubWVudFZhcmlhYmxlTmFtZTogJ1ZFUkNFTF9SRUdJT04nLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3RJZCA9IGF3YWl0IGdldFZlcmNlbFJlcXVlc3RJZCgpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uKGRlcGxveW1lbnRJZCAmJiB7ICdhaS1vMTF5LWRlcGxveW1lbnQtaWQnOiBkZXBsb3ltZW50SWQgfSksXG4gICAgICAgIC4uLihlbnZpcm9ubWVudCAmJiB7ICdhaS1vMTF5LWVudmlyb25tZW50JzogZW52aXJvbm1lbnQgfSksXG4gICAgICAgIC4uLihyZWdpb24gJiYgeyAnYWktbzExeS1yZWdpb24nOiByZWdpb24gfSksXG4gICAgICAgIC4uLihyZXF1ZXN0SWQgJiYgeyAnYWktbzExeS1yZXF1ZXN0LWlkJzogcmVxdWVzdElkIH0pLFxuICAgICAgfTtcbiAgICB9O1xuICB9O1xuXG4gIGNvbnN0IGNyZWF0ZUxhbmd1YWdlTW9kZWwgPSAobW9kZWxJZDogR2F0ZXdheU1vZGVsSWQpID0+IHtcbiAgICByZXR1cm4gbmV3IEdhdGV3YXlMYW5ndWFnZU1vZGVsKG1vZGVsSWQsIHtcbiAgICAgIHByb3ZpZGVyOiAnZ2F0ZXdheScsXG4gICAgICBiYXNlVVJMLFxuICAgICAgaGVhZGVyczogZ2V0SGVhZGVycyxcbiAgICAgIGZldGNoOiBvcHRpb25zLmZldGNoLFxuICAgICAgbzExeUhlYWRlcnM6IGNyZWF0ZU8xMXlIZWFkZXJzKCksXG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgZ2V0QXZhaWxhYmxlTW9kZWxzID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG5vdyA9IG9wdGlvbnMuX2ludGVybmFsPy5jdXJyZW50RGF0ZT8uKCkuZ2V0VGltZSgpID8/IERhdGUubm93KCk7XG4gICAgaWYgKCFwZW5kaW5nTWV0YWRhdGEgfHwgbm93IC0gbGFzdEZldGNoVGltZSA+IGNhY2hlUmVmcmVzaE1pbGxpcykge1xuICAgICAgbGFzdEZldGNoVGltZSA9IG5vdztcblxuICAgICAgcGVuZGluZ01ldGFkYXRhID0gbmV3IEdhdGV3YXlGZXRjaE1ldGFkYXRhKHtcbiAgICAgICAgYmFzZVVSTCxcbiAgICAgICAgaGVhZGVyczogZ2V0SGVhZGVycyxcbiAgICAgICAgZmV0Y2g6IG9wdGlvbnMuZmV0Y2gsXG4gICAgICB9KVxuICAgICAgICAuZ2V0QXZhaWxhYmxlTW9kZWxzKClcbiAgICAgICAgLnRoZW4obWV0YWRhdGEgPT4ge1xuICAgICAgICAgIG1ldGFkYXRhQ2FjaGUgPSBtZXRhZGF0YTtcbiAgICAgICAgICByZXR1cm4gbWV0YWRhdGE7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChhc3luYyAoZXJyb3I6IHVua25vd24pID0+IHtcbiAgICAgICAgICB0aHJvdyBhc0dhdGV3YXlFcnJvcihlcnJvciwgcGFyc2VBdXRoTWV0aG9kKGF3YWl0IGdldEhlYWRlcnMoKSkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWV0YWRhdGFDYWNoZSA/IFByb21pc2UucmVzb2x2ZShtZXRhZGF0YUNhY2hlKSA6IHBlbmRpbmdNZXRhZGF0YTtcbiAgfTtcblxuICBjb25zdCBwcm92aWRlciA9IGZ1bmN0aW9uIChtb2RlbElkOiBHYXRld2F5TW9kZWxJZCkge1xuICAgIGlmIChuZXcudGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGUgR2F0ZXdheSBQcm92aWRlciBtb2RlbCBmdW5jdGlvbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBrZXl3b3JkLicsXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVMYW5ndWFnZU1vZGVsKG1vZGVsSWQpO1xuICB9O1xuXG4gIHByb3ZpZGVyLmdldEF2YWlsYWJsZU1vZGVscyA9IGdldEF2YWlsYWJsZU1vZGVscztcbiAgcHJvdmlkZXIuaW1hZ2VNb2RlbCA9IChtb2RlbElkOiBzdHJpbmcpID0+IHtcbiAgICB0aHJvdyBuZXcgTm9TdWNoTW9kZWxFcnJvcih7IG1vZGVsSWQsIG1vZGVsVHlwZTogJ2ltYWdlTW9kZWwnIH0pO1xuICB9O1xuICBwcm92aWRlci5sYW5ndWFnZU1vZGVsID0gY3JlYXRlTGFuZ3VhZ2VNb2RlbDtcbiAgcHJvdmlkZXIudGV4dEVtYmVkZGluZ01vZGVsID0gKG1vZGVsSWQ6IEdhdGV3YXlFbWJlZGRpbmdNb2RlbElkKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBHYXRld2F5RW1iZWRkaW5nTW9kZWwobW9kZWxJZCwge1xuICAgICAgcHJvdmlkZXI6ICdnYXRld2F5JyxcbiAgICAgIGJhc2VVUkwsXG4gICAgICBoZWFkZXJzOiBnZXRIZWFkZXJzLFxuICAgICAgZmV0Y2g6IG9wdGlvbnMuZmV0Y2gsXG4gICAgICBvMTF5SGVhZGVyczogY3JlYXRlTzExeUhlYWRlcnMoKSxcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gcHJvdmlkZXI7XG59XG5cbmV4cG9ydCBjb25zdCBnYXRld2F5ID0gY3JlYXRlR2F0ZXdheVByb3ZpZGVyKCk7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRHYXRld2F5QXV0aFRva2VuKFxuICBvcHRpb25zOiBHYXRld2F5UHJvdmlkZXJTZXR0aW5ncyxcbik6IFByb21pc2U8e1xuICB0b2tlbjogc3RyaW5nO1xuICBhdXRoTWV0aG9kOiAnYXBpLWtleScgfCAnb2lkYyc7XG59IHwgbnVsbD4ge1xuICBjb25zdCBhcGlLZXkgPSBsb2FkT3B0aW9uYWxTZXR0aW5nKHtcbiAgICBzZXR0aW5nVmFsdWU6IG9wdGlvbnMuYXBpS2V5LFxuICAgIGVudmlyb25tZW50VmFyaWFibGVOYW1lOiAnQUlfR0FURVdBWV9BUElfS0VZJyxcbiAgfSk7XG5cbiAgaWYgKGFwaUtleSkge1xuICAgIHJldHVybiB7XG4gICAgICB0b2tlbjogYXBpS2V5LFxuICAgICAgYXV0aE1ldGhvZDogJ2FwaS1rZXknLFxuICAgIH07XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IG9pZGNUb2tlbiA9IGF3YWl0IGdldFZlcmNlbE9pZGNUb2tlbigpO1xuICAgIHJldHVybiB7XG4gICAgICB0b2tlbjogb2lkY1Rva2VuLFxuICAgICAgYXV0aE1ldGhvZDogJ29pZGMnLFxuICAgIH07XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQVBJQ2FsbEVycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBleHRyYWN0QXBpQ2FsbFJlc3BvbnNlLCBHYXRld2F5RXJyb3IgfSBmcm9tICcuJztcbmltcG9ydCB7IGNyZWF0ZUdhdGV3YXlFcnJvckZyb21SZXNwb25zZSB9IGZyb20gJy4vY3JlYXRlLWdhdGV3YXktZXJyb3InO1xuXG5leHBvcnQgZnVuY3Rpb24gYXNHYXRld2F5RXJyb3IoXG4gIGVycm9yOiB1bmtub3duLFxuICBhdXRoTWV0aG9kPzogJ2FwaS1rZXknIHwgJ29pZGMnLFxuKSB7XG4gIGlmIChHYXRld2F5RXJyb3IuaXNJbnN0YW5jZShlcnJvcikpIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cblxuICBpZiAoQVBJQ2FsbEVycm9yLmlzSW5zdGFuY2UoZXJyb3IpKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUdhdGV3YXlFcnJvckZyb21SZXNwb25zZSh7XG4gICAgICByZXNwb25zZTogZXh0cmFjdEFwaUNhbGxSZXNwb25zZShlcnJvciksXG4gICAgICBzdGF0dXNDb2RlOiBlcnJvci5zdGF0dXNDb2RlID8/IDUwMCxcbiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnR2F0ZXdheSByZXF1ZXN0IGZhaWxlZCcsXG4gICAgICBjYXVzZTogZXJyb3IsXG4gICAgICBhdXRoTWV0aG9kLFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZUdhdGV3YXlFcnJvckZyb21SZXNwb25zZSh7XG4gICAgcmVzcG9uc2U6IHt9LFxuICAgIHN0YXR1c0NvZGU6IDUwMCxcbiAgICBkZWZhdWx0TWVzc2FnZTpcbiAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3JcbiAgICAgICAgPyBgR2F0ZXdheSByZXF1ZXN0IGZhaWxlZDogJHtlcnJvci5tZXNzYWdlfWBcbiAgICAgICAgOiAnVW5rbm93biBHYXRld2F5IGVycm9yJyxcbiAgICBjYXVzZTogZXJyb3IsXG4gICAgYXV0aE1ldGhvZCxcbiAgfSk7XG59XG4iLCAiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgdHlwZSB7IEdhdGV3YXlFcnJvciB9IGZyb20gJy4vZ2F0ZXdheS1lcnJvcic7XG5pbXBvcnQgeyBHYXRld2F5QXV0aGVudGljYXRpb25FcnJvciB9IGZyb20gJy4vZ2F0ZXdheS1hdXRoZW50aWNhdGlvbi1lcnJvcic7XG5pbXBvcnQgeyBHYXRld2F5SW52YWxpZFJlcXVlc3RFcnJvciB9IGZyb20gJy4vZ2F0ZXdheS1pbnZhbGlkLXJlcXVlc3QtZXJyb3InO1xuaW1wb3J0IHsgR2F0ZXdheVJhdGVMaW1pdEVycm9yIH0gZnJvbSAnLi9nYXRld2F5LXJhdGUtbGltaXQtZXJyb3InO1xuaW1wb3J0IHtcbiAgR2F0ZXdheU1vZGVsTm90Rm91bmRFcnJvcixcbiAgbW9kZWxOb3RGb3VuZFBhcmFtU2NoZW1hLFxufSBmcm9tICcuL2dhdGV3YXktbW9kZWwtbm90LWZvdW5kLWVycm9yJztcbmltcG9ydCB7IEdhdGV3YXlJbnRlcm5hbFNlcnZlckVycm9yIH0gZnJvbSAnLi9nYXRld2F5LWludGVybmFsLXNlcnZlci1lcnJvcic7XG5pbXBvcnQgeyBHYXRld2F5UmVzcG9uc2VFcnJvciB9IGZyb20gJy4vZ2F0ZXdheS1yZXNwb25zZS1lcnJvcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVHYXRld2F5RXJyb3JGcm9tUmVzcG9uc2Uoe1xuICByZXNwb25zZSxcbiAgc3RhdHVzQ29kZSxcbiAgZGVmYXVsdE1lc3NhZ2UgPSAnR2F0ZXdheSByZXF1ZXN0IGZhaWxlZCcsXG4gIGNhdXNlLFxuICBhdXRoTWV0aG9kLFxufToge1xuICByZXNwb25zZTogdW5rbm93bjtcbiAgc3RhdHVzQ29kZTogbnVtYmVyO1xuICBkZWZhdWx0TWVzc2FnZT86IHN0cmluZztcbiAgY2F1c2U/OiB1bmtub3duO1xuICBhdXRoTWV0aG9kPzogJ2FwaS1rZXknIHwgJ29pZGMnO1xufSk6IEdhdGV3YXlFcnJvciB7XG4gIGNvbnN0IHBhcnNlUmVzdWx0ID0gZ2F0ZXdheUVycm9yUmVzcG9uc2VTY2hlbWEuc2FmZVBhcnNlKHJlc3BvbnNlKTtcbiAgaWYgKCFwYXJzZVJlc3VsdC5zdWNjZXNzKSB7XG4gICAgcmV0dXJuIG5ldyBHYXRld2F5UmVzcG9uc2VFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgSW52YWxpZCBlcnJvciByZXNwb25zZSBmb3JtYXQ6ICR7ZGVmYXVsdE1lc3NhZ2V9YCxcbiAgICAgIHN0YXR1c0NvZGUsXG4gICAgICByZXNwb25zZSxcbiAgICAgIHZhbGlkYXRpb25FcnJvcjogcGFyc2VSZXN1bHQuZXJyb3IsXG4gICAgICBjYXVzZSxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHZhbGlkYXRlZFJlc3BvbnNlOiBHYXRld2F5RXJyb3JSZXNwb25zZSA9IHBhcnNlUmVzdWx0LmRhdGE7XG4gIGNvbnN0IGVycm9yVHlwZSA9IHZhbGlkYXRlZFJlc3BvbnNlLmVycm9yLnR5cGU7XG4gIGNvbnN0IG1lc3NhZ2UgPSB2YWxpZGF0ZWRSZXNwb25zZS5lcnJvci5tZXNzYWdlO1xuXG4gIHN3aXRjaCAoZXJyb3JUeXBlKSB7XG4gICAgY2FzZSAnYXV0aGVudGljYXRpb25fZXJyb3InOlxuICAgICAgcmV0dXJuIEdhdGV3YXlBdXRoZW50aWNhdGlvbkVycm9yLmNyZWF0ZUNvbnRleHR1YWxFcnJvcih7XG4gICAgICAgIGFwaUtleVByb3ZpZGVkOiBhdXRoTWV0aG9kID09PSAnYXBpLWtleScsXG4gICAgICAgIG9pZGNUb2tlblByb3ZpZGVkOiBhdXRoTWV0aG9kID09PSAnb2lkYycsXG4gICAgICAgIHN0YXR1c0NvZGUsXG4gICAgICAgIGNhdXNlLFxuICAgICAgfSk7XG4gICAgY2FzZSAnaW52YWxpZF9yZXF1ZXN0X2Vycm9yJzpcbiAgICAgIHJldHVybiBuZXcgR2F0ZXdheUludmFsaWRSZXF1ZXN0RXJyb3IoeyBtZXNzYWdlLCBzdGF0dXNDb2RlLCBjYXVzZSB9KTtcbiAgICBjYXNlICdyYXRlX2xpbWl0X2V4Y2VlZGVkJzpcbiAgICAgIHJldHVybiBuZXcgR2F0ZXdheVJhdGVMaW1pdEVycm9yKHsgbWVzc2FnZSwgc3RhdHVzQ29kZSwgY2F1c2UgfSk7XG4gICAgY2FzZSAnbW9kZWxfbm90X2ZvdW5kJzoge1xuICAgICAgY29uc3QgbW9kZWxSZXN1bHQgPSBtb2RlbE5vdEZvdW5kUGFyYW1TY2hlbWEuc2FmZVBhcnNlKFxuICAgICAgICB2YWxpZGF0ZWRSZXNwb25zZS5lcnJvci5wYXJhbSxcbiAgICAgICk7XG4gICAgICByZXR1cm4gbmV3IEdhdGV3YXlNb2RlbE5vdEZvdW5kRXJyb3Ioe1xuICAgICAgICBtZXNzYWdlLFxuICAgICAgICBzdGF0dXNDb2RlLFxuICAgICAgICBtb2RlbElkOiBtb2RlbFJlc3VsdC5zdWNjZXNzID8gbW9kZWxSZXN1bHQuZGF0YS5tb2RlbElkIDogdW5kZWZpbmVkLFxuICAgICAgICBjYXVzZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjYXNlICdpbnRlcm5hbF9zZXJ2ZXJfZXJyb3InOlxuICAgICAgcmV0dXJuIG5ldyBHYXRld2F5SW50ZXJuYWxTZXJ2ZXJFcnJvcih7IG1lc3NhZ2UsIHN0YXR1c0NvZGUsIGNhdXNlIH0pO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbmV3IEdhdGV3YXlJbnRlcm5hbFNlcnZlckVycm9yKHsgbWVzc2FnZSwgc3RhdHVzQ29kZSwgY2F1c2UgfSk7XG4gIH1cbn1cblxuY29uc3QgZ2F0ZXdheUVycm9yUmVzcG9uc2VTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGVycm9yOiB6Lm9iamVjdCh7XG4gICAgbWVzc2FnZTogei5zdHJpbmcoKSxcbiAgICB0eXBlOiB6LnN0cmluZygpLm51bGxpc2goKSxcbiAgICBwYXJhbTogei51bmtub3duKCkubnVsbGlzaCgpLFxuICAgIGNvZGU6IHoudW5pb24oW3ouc3RyaW5nKCksIHoubnVtYmVyKCldKS5udWxsaXNoKCksXG4gIH0pLFxufSk7XG5cbmV4cG9ydCB0eXBlIEdhdGV3YXlFcnJvclJlc3BvbnNlID0gei5pbmZlcjx0eXBlb2YgZ2F0ZXdheUVycm9yUmVzcG9uc2VTY2hlbWE+O1xuIiwgImNvbnN0IG1hcmtlciA9ICd2ZXJjZWwuYWkuZ2F0ZXdheS5lcnJvcic7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBHYXRld2F5RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICBhYnN0cmFjdCByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIGFic3RyYWN0IHJlYWRvbmx5IHR5cGU6IHN0cmluZztcbiAgcmVhZG9ubHkgc3RhdHVzQ29kZTogbnVtYmVyO1xuICByZWFkb25seSBjYXVzZT86IHVua25vd247XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UsXG4gICAgc3RhdHVzQ29kZSA9IDUwMCxcbiAgICBjYXVzZSxcbiAgfToge1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBzdGF0dXNDb2RlPzogbnVtYmVyO1xuICAgIGNhdXNlPzogdW5rbm93bjtcbiAgfSkge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMuc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGU7XG4gICAgdGhpcy5jYXVzZSA9IGNhdXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gZXJyb3IgaXMgYSBHYXRld2F5IEVycm9yLlxuICAgKiBAcGFyYW0ge3Vua25vd259IGVycm9yIC0gVGhlIGVycm9yIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZXJyb3IgaXMgYSBHYXRld2F5IEVycm9yLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEdhdGV3YXlFcnJvciB7XG4gICAgcmV0dXJuIEdhdGV3YXlFcnJvci5oYXNNYXJrZXIoZXJyb3IpO1xuICB9XG5cbiAgc3RhdGljIGhhc01hcmtlcihlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEdhdGV3YXlFcnJvciB7XG4gICAgcmV0dXJuIChcbiAgICAgIHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiZcbiAgICAgIGVycm9yICE9PSBudWxsICYmXG4gICAgICBzeW1ib2wgaW4gZXJyb3IgJiZcbiAgICAgIChlcnJvciBhcyBhbnkpW3N5bWJvbF0gPT09IHRydWVcbiAgICApO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgR2F0ZXdheUVycm9yIH0gZnJvbSAnLi9nYXRld2F5LWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdHYXRld2F5QXV0aGVudGljYXRpb25FcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmdhdGV3YXkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbi8qKlxuICogQXV0aGVudGljYXRpb24gZmFpbGVkIC0gaW52YWxpZCBBUEkga2V5IG9yIE9JREMgdG9rZW5cbiAqL1xuZXhwb3J0IGNsYXNzIEdhdGV3YXlBdXRoZW50aWNhdGlvbkVycm9yIGV4dGVuZHMgR2F0ZXdheUVycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IG5hbWUgPSBuYW1lO1xuICByZWFkb25seSB0eXBlID0gJ2F1dGhlbnRpY2F0aW9uX2Vycm9yJztcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSA9ICdBdXRoZW50aWNhdGlvbiBmYWlsZWQnLFxuICAgIHN0YXR1c0NvZGUgPSA0MDEsXG4gICAgY2F1c2UsXG4gIH06IHtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICAgIHN0YXR1c0NvZGU/OiBudW1iZXI7XG4gICAgY2F1c2U/OiB1bmtub3duO1xuICB9ID0ge30pIHtcbiAgICBzdXBlcih7IG1lc3NhZ2UsIHN0YXR1c0NvZGUsIGNhdXNlIH0pO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBHYXRld2F5QXV0aGVudGljYXRpb25FcnJvciB7XG4gICAgcmV0dXJuIEdhdGV3YXlFcnJvci5oYXNNYXJrZXIoZXJyb3IpICYmIHN5bWJvbCBpbiBlcnJvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY29udGV4dHVhbCBlcnJvciBtZXNzYWdlIHdoZW4gYXV0aGVudGljYXRpb24gZmFpbHNcbiAgICovXG4gIHN0YXRpYyBjcmVhdGVDb250ZXh0dWFsRXJyb3Ioe1xuICAgIGFwaUtleVByb3ZpZGVkLFxuICAgIG9pZGNUb2tlblByb3ZpZGVkLFxuICAgIG1lc3NhZ2UgPSAnQXV0aGVudGljYXRpb24gZmFpbGVkJyxcbiAgICBzdGF0dXNDb2RlID0gNDAxLFxuICAgIGNhdXNlLFxuICB9OiB7XG4gICAgYXBpS2V5UHJvdmlkZWQ6IGJvb2xlYW47XG4gICAgb2lkY1Rva2VuUHJvdmlkZWQ6IGJvb2xlYW47XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgICBzdGF0dXNDb2RlPzogbnVtYmVyO1xuICAgIGNhdXNlPzogdW5rbm93bjtcbiAgfSk6IEdhdGV3YXlBdXRoZW50aWNhdGlvbkVycm9yIHtcbiAgICBsZXQgY29udGV4dHVhbE1lc3NhZ2U6IHN0cmluZztcblxuICAgIGlmIChhcGlLZXlQcm92aWRlZCkge1xuICAgICAgY29udGV4dHVhbE1lc3NhZ2UgPSBgQUkgR2F0ZXdheSBhdXRoZW50aWNhdGlvbiBmYWlsZWQ6IEludmFsaWQgQVBJIGtleSBwcm92aWRlZC5cblxuVGhlIHRva2VuIGlzIGV4cGVjdGVkIHRvIGJlIHByb3ZpZGVkIHZpYSB0aGUgJ2FwaUtleScgb3B0aW9uIG9yICdBSV9HQVRFV0FZX0FQSV9LRVknIGVudmlyb25tZW50IHZhcmlhYmxlLmA7XG4gICAgfSBlbHNlIGlmIChvaWRjVG9rZW5Qcm92aWRlZCkge1xuICAgICAgY29udGV4dHVhbE1lc3NhZ2UgPSBgQUkgR2F0ZXdheSBhdXRoZW50aWNhdGlvbiBmYWlsZWQ6IEludmFsaWQgT0lEQyB0b2tlbiBwcm92aWRlZC5cblxuVGhlIHRva2VuIGlzIGV4cGVjdGVkIHRvIGJlIHByb3ZpZGVkIHZpYSB0aGUgJ1ZFUkNFTF9PSURDX1RPS0VOJyBlbnZpcm9ubWVudCB2YXJpYWJsZS4gSXQgZXhwaXJlcyBldmVyeSAxMiBob3Vycy5cbi0gbWFrZSBzdXJlIHlvdXIgVmVyY2VsIHByb2plY3Qgc2V0dGluZ3MgaGF2ZSBPSURDIGVuYWJsZWRcbi0gaWYgcnVubmluZyBsb2NhbGx5IHdpdGggJ3ZlcmNlbCBkZXYnLCB0aGUgdG9rZW4gaXMgYXV0b21hdGljYWxseSBvYnRhaW5lZCBhbmQgcmVmcmVzaGVkXG4tIGlmIHJ1bm5pbmcgbG9jYWxseSB3aXRoIHlvdXIgb3duIGRldiBzZXJ2ZXIsIHJ1biAndmVyY2VsIGVudiBwdWxsJyB0byBmZXRjaCB0aGUgdG9rZW5cbi0gaW4gcHJvZHVjdGlvbi9wcmV2aWV3LCB0aGUgdG9rZW4gaXMgYXV0b21hdGljYWxseSBvYnRhaW5lZCBhbmQgcmVmcmVzaGVkXG5cbkFsdGVybmF0aXZlOiBQcm92aWRlIGFuIEFQSSBrZXkgdmlhICdhcGlLZXknIG9wdGlvbiBvciAnQUlfR0FURVdBWV9BUElfS0VZJyBlbnZpcm9ubWVudCB2YXJpYWJsZS5gO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZXh0dWFsTWVzc2FnZSA9IGBBSSBHYXRld2F5IGF1dGhlbnRpY2F0aW9uIGZhaWxlZDogTm8gYXV0aGVudGljYXRpb24gcHJvdmlkZWQuXG5cblByb3ZpZGUgZWl0aGVyIGFuIEFQSSBrZXkgb3IgT0lEQyB0b2tlbi5cblxuQVBJIGtleSBpbnN0cnVjdGlvbnM6XG5cblRoZSB0b2tlbiBpcyBleHBlY3RlZCB0byBiZSBwcm92aWRlZCB2aWEgdGhlICdhcGlLZXknIG9wdGlvbiBvciAnQUlfR0FURVdBWV9BUElfS0VZJyBlbnZpcm9ubWVudCB2YXJpYWJsZS5cblxuT0lEQyB0b2tlbiBpbnN0cnVjdGlvbnM6XG5cblRoZSB0b2tlbiBpcyBleHBlY3RlZCB0byBiZSBwcm92aWRlZCB2aWEgdGhlICdWRVJDRUxfT0lEQ19UT0tFTicgZW52aXJvbm1lbnQgdmFyaWFibGUuIEl0IGV4cGlyZXMgZXZlcnkgMTIgaG91cnMuXG4tIG1ha2Ugc3VyZSB5b3VyIFZlcmNlbCBwcm9qZWN0IHNldHRpbmdzIGhhdmUgT0lEQyBlbmFibGVkXG4tIGlmIHJ1bm5pbmcgbG9jYWxseSB3aXRoICd2ZXJjZWwgZGV2JywgdGhlIHRva2VuIGlzIGF1dG9tYXRpY2FsbHkgb2J0YWluZWQgYW5kIHJlZnJlc2hlZFxuLSBpZiBydW5uaW5nIGxvY2FsbHkgd2l0aCB5b3VyIG93biBkZXYgc2VydmVyLCBydW4gJ3ZlcmNlbCBlbnYgcHVsbCcgdG8gZmV0Y2ggdGhlIHRva2VuXG4tIGluIHByb2R1Y3Rpb24vcHJldmlldywgdGhlIHRva2VuIGlzIGF1dG9tYXRpY2FsbHkgb2J0YWluZWQgYW5kIHJlZnJlc2hlZGA7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBHYXRld2F5QXV0aGVudGljYXRpb25FcnJvcih7XG4gICAgICBtZXNzYWdlOiBjb250ZXh0dWFsTWVzc2FnZSxcbiAgICAgIHN0YXR1c0NvZGUsXG4gICAgICBjYXVzZSxcbiAgICB9KTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEdhdGV3YXlFcnJvciB9IGZyb20gJy4vZ2F0ZXdheS1lcnJvcic7XG5cbmNvbnN0IG5hbWUgPSAnR2F0ZXdheUludmFsaWRSZXF1ZXN0RXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5nYXRld2F5LmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG4vKipcbiAqIEludmFsaWQgcmVxdWVzdCAtIG1pc3NpbmcgaGVhZGVycywgbWFsZm9ybWVkIGRhdGEsIGV0Yy5cbiAqL1xuZXhwb3J0IGNsYXNzIEdhdGV3YXlJbnZhbGlkUmVxdWVzdEVycm9yIGV4dGVuZHMgR2F0ZXdheUVycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IG5hbWUgPSBuYW1lO1xuICByZWFkb25seSB0eXBlID0gJ2ludmFsaWRfcmVxdWVzdF9lcnJvcic7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UgPSAnSW52YWxpZCByZXF1ZXN0JyxcbiAgICBzdGF0dXNDb2RlID0gNDAwLFxuICAgIGNhdXNlLFxuICB9OiB7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgICBzdGF0dXNDb2RlPzogbnVtYmVyO1xuICAgIGNhdXNlPzogdW5rbm93bjtcbiAgfSA9IHt9KSB7XG4gICAgc3VwZXIoeyBtZXNzYWdlLCBzdGF0dXNDb2RlLCBjYXVzZSB9KTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgR2F0ZXdheUludmFsaWRSZXF1ZXN0RXJyb3Ige1xuICAgIHJldHVybiBHYXRld2F5RXJyb3IuaGFzTWFya2VyKGVycm9yKSAmJiBzeW1ib2wgaW4gZXJyb3I7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBHYXRld2F5RXJyb3IgfSBmcm9tICcuL2dhdGV3YXktZXJyb3InO1xuXG5jb25zdCBuYW1lID0gJ0dhdGV3YXlSYXRlTGltaXRFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmdhdGV3YXkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbi8qKlxuICogUmF0ZSBsaW1pdCBleGNlZWRlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIEdhdGV3YXlSYXRlTGltaXRFcnJvciBleHRlbmRzIEdhdGV3YXlFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSBuYW1lID0gbmFtZTtcbiAgcmVhZG9ubHkgdHlwZSA9ICdyYXRlX2xpbWl0X2V4Y2VlZGVkJztcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSA9ICdSYXRlIGxpbWl0IGV4Y2VlZGVkJyxcbiAgICBzdGF0dXNDb2RlID0gNDI5LFxuICAgIGNhdXNlLFxuICB9OiB7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgICBzdGF0dXNDb2RlPzogbnVtYmVyO1xuICAgIGNhdXNlPzogdW5rbm93bjtcbiAgfSA9IHt9KSB7XG4gICAgc3VwZXIoeyBtZXNzYWdlLCBzdGF0dXNDb2RlLCBjYXVzZSB9KTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgR2F0ZXdheVJhdGVMaW1pdEVycm9yIHtcbiAgICByZXR1cm4gR2F0ZXdheUVycm9yLmhhc01hcmtlcihlcnJvcikgJiYgc3ltYm9sIGluIGVycm9yO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgeyBHYXRld2F5RXJyb3IgfSBmcm9tICcuL2dhdGV3YXktZXJyb3InO1xuXG5jb25zdCBuYW1lID0gJ0dhdGV3YXlNb2RlbE5vdEZvdW5kRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5nYXRld2F5LmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY29uc3QgbW9kZWxOb3RGb3VuZFBhcmFtU2NoZW1hID0gei5vYmplY3Qoe1xuICBtb2RlbElkOiB6LnN0cmluZygpLFxufSk7XG5cbi8qKlxuICogTW9kZWwgbm90IGZvdW5kIG9yIG5vdCBhdmFpbGFibGVcbiAqL1xuZXhwb3J0IGNsYXNzIEdhdGV3YXlNb2RlbE5vdEZvdW5kRXJyb3IgZXh0ZW5kcyBHYXRld2F5RXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgbmFtZSA9IG5hbWU7XG4gIHJlYWRvbmx5IHR5cGUgPSAnbW9kZWxfbm90X2ZvdW5kJztcbiAgcmVhZG9ubHkgbW9kZWxJZD86IHN0cmluZztcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSA9ICdNb2RlbCBub3QgZm91bmQnLFxuICAgIHN0YXR1c0NvZGUgPSA0MDQsXG4gICAgbW9kZWxJZCxcbiAgICBjYXVzZSxcbiAgfToge1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgc3RhdHVzQ29kZT86IG51bWJlcjtcbiAgICBtb2RlbElkPzogc3RyaW5nO1xuICAgIGNhdXNlPzogdW5rbm93bjtcbiAgfSA9IHt9KSB7XG4gICAgc3VwZXIoeyBtZXNzYWdlLCBzdGF0dXNDb2RlLCBjYXVzZSB9KTtcbiAgICB0aGlzLm1vZGVsSWQgPSBtb2RlbElkO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBHYXRld2F5TW9kZWxOb3RGb3VuZEVycm9yIHtcbiAgICByZXR1cm4gR2F0ZXdheUVycm9yLmhhc01hcmtlcihlcnJvcikgJiYgc3ltYm9sIGluIGVycm9yO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgR2F0ZXdheUVycm9yIH0gZnJvbSAnLi9nYXRld2F5LWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdHYXRld2F5SW50ZXJuYWxTZXJ2ZXJFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmdhdGV3YXkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbi8qKlxuICogSW50ZXJuYWwgc2VydmVyIGVycm9yIGZyb20gdGhlIEdhdGV3YXlcbiAqL1xuZXhwb3J0IGNsYXNzIEdhdGV3YXlJbnRlcm5hbFNlcnZlckVycm9yIGV4dGVuZHMgR2F0ZXdheUVycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IG5hbWUgPSBuYW1lO1xuICByZWFkb25seSB0eXBlID0gJ2ludGVybmFsX3NlcnZlcl9lcnJvcic7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UgPSAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyxcbiAgICBzdGF0dXNDb2RlID0gNTAwLFxuICAgIGNhdXNlLFxuICB9OiB7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgICBzdGF0dXNDb2RlPzogbnVtYmVyO1xuICAgIGNhdXNlPzogdW5rbm93bjtcbiAgfSA9IHt9KSB7XG4gICAgc3VwZXIoeyBtZXNzYWdlLCBzdGF0dXNDb2RlLCBjYXVzZSB9KTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgR2F0ZXdheUludGVybmFsU2VydmVyRXJyb3Ige1xuICAgIHJldHVybiBHYXRld2F5RXJyb3IuaGFzTWFya2VyKGVycm9yKSAmJiBzeW1ib2wgaW4gZXJyb3I7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBHYXRld2F5RXJyb3IgfSBmcm9tICcuL2dhdGV3YXktZXJyb3InO1xuaW1wb3J0IHR5cGUgeyBab2RFcnJvciB9IGZyb20gJ3pvZC92NCc7XG5cbmNvbnN0IG5hbWUgPSAnR2F0ZXdheVJlc3BvbnNlRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5nYXRld2F5LmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG4vKipcbiAqIEdhdGV3YXkgcmVzcG9uc2UgcGFyc2luZyBlcnJvclxuICovXG5leHBvcnQgY2xhc3MgR2F0ZXdheVJlc3BvbnNlRXJyb3IgZXh0ZW5kcyBHYXRld2F5RXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgbmFtZSA9IG5hbWU7XG4gIHJlYWRvbmx5IHR5cGUgPSAncmVzcG9uc2VfZXJyb3InO1xuICByZWFkb25seSByZXNwb25zZT86IHVua25vd247XG4gIHJlYWRvbmx5IHZhbGlkYXRpb25FcnJvcj86IFpvZEVycm9yO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlID0gJ0ludmFsaWQgcmVzcG9uc2UgZnJvbSBHYXRld2F5JyxcbiAgICBzdGF0dXNDb2RlID0gNTAyLFxuICAgIHJlc3BvbnNlLFxuICAgIHZhbGlkYXRpb25FcnJvcixcbiAgICBjYXVzZSxcbiAgfToge1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgc3RhdHVzQ29kZT86IG51bWJlcjtcbiAgICByZXNwb25zZT86IHVua25vd247XG4gICAgdmFsaWRhdGlvbkVycm9yPzogWm9kRXJyb3I7XG4gICAgY2F1c2U/OiB1bmtub3duO1xuICB9ID0ge30pIHtcbiAgICBzdXBlcih7IG1lc3NhZ2UsIHN0YXR1c0NvZGUsIGNhdXNlIH0pO1xuICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICB0aGlzLnZhbGlkYXRpb25FcnJvciA9IHZhbGlkYXRpb25FcnJvcjtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgR2F0ZXdheVJlc3BvbnNlRXJyb3Ige1xuICAgIHJldHVybiBHYXRld2F5RXJyb3IuaGFzTWFya2VyKGVycm9yKSAmJiBzeW1ib2wgaW4gZXJyb3I7XG4gIH1cbn1cbiIsICJpbXBvcnQgdHlwZSB7IEFQSUNhbGxFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdEFwaUNhbGxSZXNwb25zZShlcnJvcjogQVBJQ2FsbEVycm9yKTogdW5rbm93biB7XG4gIGlmIChlcnJvci5kYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gZXJyb3IuZGF0YTtcbiAgfVxuICBpZiAoZXJyb3IucmVzcG9uc2VCb2R5ICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZXJyb3IucmVzcG9uc2VCb2R5KTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBlcnJvci5yZXNwb25zZUJvZHk7XG4gICAgfVxuICB9XG4gIHJldHVybiB7fTtcbn1cbiIsICJpbXBvcnQgeyB6IH0gZnJvbSAnem9kL3Y0JztcblxuZXhwb3J0IGNvbnN0IEdBVEVXQVlfQVVUSF9NRVRIT0RfSEVBREVSID0gJ2FpLWdhdGV3YXktYXV0aC1tZXRob2QnIGFzIGNvbnN0O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VBdXRoTWV0aG9kKGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD4pIHtcbiAgY29uc3QgcmVzdWx0ID0gZ2F0ZXdheUF1dGhNZXRob2RTY2hlbWEuc2FmZVBhcnNlKFxuICAgIGhlYWRlcnNbR0FURVdBWV9BVVRIX01FVEhPRF9IRUFERVJdLFxuICApO1xuICByZXR1cm4gcmVzdWx0LnN1Y2Nlc3MgPyByZXN1bHQuZGF0YSA6IHVuZGVmaW5lZDtcbn1cblxuY29uc3QgZ2F0ZXdheUF1dGhNZXRob2RTY2hlbWEgPSB6LnVuaW9uKFtcbiAgei5saXRlcmFsKCdhcGkta2V5JyksXG4gIHoubGl0ZXJhbCgnb2lkYycpLFxuXSk7XG4iLCAiaW1wb3J0IHtcbiAgY3JlYXRlSnNvbkVycm9yUmVzcG9uc2VIYW5kbGVyLFxuICBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyLFxuICBnZXRGcm9tQXBpLFxuICByZXNvbHZlLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IGFzR2F0ZXdheUVycm9yIH0gZnJvbSAnLi9lcnJvcnMnO1xuaW1wb3J0IHR5cGUgeyBHYXRld2F5Q29uZmlnIH0gZnJvbSAnLi9nYXRld2F5LWNvbmZpZyc7XG5pbXBvcnQgdHlwZSB7IEdhdGV3YXlMYW5ndWFnZU1vZGVsRW50cnkgfSBmcm9tICcuL2dhdGV3YXktbW9kZWwtZW50cnknO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZC92NCc7XG5cbnR5cGUgR2F0ZXdheUZldGNoTWV0YWRhdGFDb25maWcgPSBHYXRld2F5Q29uZmlnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEdhdGV3YXlGZXRjaE1ldGFkYXRhUmVzcG9uc2Uge1xuICBtb2RlbHM6IEdhdGV3YXlMYW5ndWFnZU1vZGVsRW50cnlbXTtcbn1cblxuZXhwb3J0IGNsYXNzIEdhdGV3YXlGZXRjaE1ldGFkYXRhIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBjb25maWc6IEdhdGV3YXlGZXRjaE1ldGFkYXRhQ29uZmlnKSB7fVxuXG4gIGFzeW5jIGdldEF2YWlsYWJsZU1vZGVscygpOiBQcm9taXNlPEdhdGV3YXlGZXRjaE1ldGFkYXRhUmVzcG9uc2U+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyB2YWx1ZSB9ID0gYXdhaXQgZ2V0RnJvbUFwaSh7XG4gICAgICAgIHVybDogYCR7dGhpcy5jb25maWcuYmFzZVVSTH0vY29uZmlnYCxcbiAgICAgICAgaGVhZGVyczogYXdhaXQgcmVzb2x2ZSh0aGlzLmNvbmZpZy5oZWFkZXJzKCkpLFxuICAgICAgICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyOiBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyKFxuICAgICAgICAgIGdhdGV3YXlGZXRjaE1ldGFkYXRhU2NoZW1hLFxuICAgICAgICApLFxuICAgICAgICBmYWlsZWRSZXNwb25zZUhhbmRsZXI6IGNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlcih7XG4gICAgICAgICAgZXJyb3JTY2hlbWE6IHouYW55KCksXG4gICAgICAgICAgZXJyb3JUb01lc3NhZ2U6IGRhdGEgPT4gZGF0YSxcbiAgICAgICAgfSksXG4gICAgICAgIGZldGNoOiB0aGlzLmNvbmZpZy5mZXRjaCxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGFzR2F0ZXdheUVycm9yKGVycm9yKTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgZ2F0ZXdheUxhbmd1YWdlTW9kZWxTcGVjaWZpY2F0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xuICBzcGVjaWZpY2F0aW9uVmVyc2lvbjogei5saXRlcmFsKCd2MicpLFxuICBwcm92aWRlcjogei5zdHJpbmcoKSxcbiAgbW9kZWxJZDogei5zdHJpbmcoKSxcbn0pO1xuXG5jb25zdCBnYXRld2F5TGFuZ3VhZ2VNb2RlbFByaWNpbmdTY2hlbWEgPSB6XG4gIC5vYmplY3Qoe1xuICAgIGlucHV0OiB6LnN0cmluZygpLFxuICAgIG91dHB1dDogei5zdHJpbmcoKSxcbiAgICBpbnB1dF9jYWNoZV9yZWFkOiB6LnN0cmluZygpLm51bGxpc2goKSxcbiAgICBpbnB1dF9jYWNoZV93cml0ZTogei5zdHJpbmcoKS5udWxsaXNoKCksXG4gIH0pXG4gIC50cmFuc2Zvcm0oKHsgaW5wdXQsIG91dHB1dCwgaW5wdXRfY2FjaGVfcmVhZCwgaW5wdXRfY2FjaGVfd3JpdGUgfSkgPT4gKHtcbiAgICBpbnB1dCxcbiAgICBvdXRwdXQsXG4gICAgLi4uKGlucHV0X2NhY2hlX3JlYWQgPyB7IGNhY2hlZElucHV0VG9rZW5zOiBpbnB1dF9jYWNoZV9yZWFkIH0gOiB7fSksXG4gICAgLi4uKGlucHV0X2NhY2hlX3dyaXRlXG4gICAgICA/IHsgY2FjaGVDcmVhdGlvbklucHV0VG9rZW5zOiBpbnB1dF9jYWNoZV93cml0ZSB9XG4gICAgICA6IHt9KSxcbiAgfSkpO1xuXG5jb25zdCBnYXRld2F5TGFuZ3VhZ2VNb2RlbEVudHJ5U2NoZW1hID0gei5vYmplY3Qoe1xuICBpZDogei5zdHJpbmcoKSxcbiAgbmFtZTogei5zdHJpbmcoKSxcbiAgZGVzY3JpcHRpb246IHouc3RyaW5nKCkubnVsbGlzaCgpLFxuICBwcmljaW5nOiBnYXRld2F5TGFuZ3VhZ2VNb2RlbFByaWNpbmdTY2hlbWEubnVsbGlzaCgpLFxuICBzcGVjaWZpY2F0aW9uOiBnYXRld2F5TGFuZ3VhZ2VNb2RlbFNwZWNpZmljYXRpb25TY2hlbWEsXG4gIG1vZGVsVHlwZTogei5lbnVtKFsnbGFuZ3VhZ2UnLCAnZW1iZWRkaW5nJywgJ2ltYWdlJ10pLm51bGxpc2goKSxcbn0pO1xuXG5jb25zdCBnYXRld2F5RmV0Y2hNZXRhZGF0YVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgbW9kZWxzOiB6LmFycmF5KGdhdGV3YXlMYW5ndWFnZU1vZGVsRW50cnlTY2hlbWEpLFxufSk7XG4iLCAiaW1wb3J0IHR5cGUge1xuICBMYW5ndWFnZU1vZGVsVjIsXG4gIExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zLFxuICBMYW5ndWFnZU1vZGVsVjJDYWxsV2FybmluZyxcbiAgTGFuZ3VhZ2VNb2RlbFYyRmlsZVBhcnQsXG4gIExhbmd1YWdlTW9kZWxWMlN0cmVhbVBhcnQsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHtcbiAgY29tYmluZUhlYWRlcnMsXG4gIGNyZWF0ZUV2ZW50U291cmNlUmVzcG9uc2VIYW5kbGVyLFxuICBjcmVhdGVKc29uRXJyb3JSZXNwb25zZUhhbmRsZXIsXG4gIGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIsXG4gIHBvc3RKc29uVG9BcGksXG4gIHJlc29sdmUsXG4gIHR5cGUgUGFyc2VSZXN1bHQsXG4gIHR5cGUgUmVzb2x2YWJsZSxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kL3Y0JztcbmltcG9ydCB0eXBlIHsgR2F0ZXdheUNvbmZpZyB9IGZyb20gJy4vZ2F0ZXdheS1jb25maWcnO1xuaW1wb3J0IHR5cGUgeyBHYXRld2F5TW9kZWxJZCB9IGZyb20gJy4vZ2F0ZXdheS1sYW5ndWFnZS1tb2RlbC1zZXR0aW5ncyc7XG5pbXBvcnQgeyBhc0dhdGV3YXlFcnJvciB9IGZyb20gJy4vZXJyb3JzJztcbmltcG9ydCB7IHBhcnNlQXV0aE1ldGhvZCB9IGZyb20gJy4vZXJyb3JzL3BhcnNlLWF1dGgtbWV0aG9kJztcblxudHlwZSBHYXRld2F5Q2hhdENvbmZpZyA9IEdhdGV3YXlDb25maWcgJiB7XG4gIHByb3ZpZGVyOiBzdHJpbmc7XG4gIG8xMXlIZWFkZXJzOiBSZXNvbHZhYmxlPFJlY29yZDxzdHJpbmcsIHN0cmluZz4+O1xufTtcblxuZXhwb3J0IGNsYXNzIEdhdGV3YXlMYW5ndWFnZU1vZGVsIGltcGxlbWVudHMgTGFuZ3VhZ2VNb2RlbFYyIHtcbiAgcmVhZG9ubHkgc3BlY2lmaWNhdGlvblZlcnNpb24gPSAndjInO1xuICByZWFkb25seSBzdXBwb3J0ZWRVcmxzID0geyAnKi8qJzogWy8uKi9dIH07XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcmVhZG9ubHkgbW9kZWxJZDogR2F0ZXdheU1vZGVsSWQsXG4gICAgcHJpdmF0ZSByZWFkb25seSBjb25maWc6IEdhdGV3YXlDaGF0Q29uZmlnLFxuICApIHt9XG5cbiAgZ2V0IHByb3ZpZGVyKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLnByb3ZpZGVyO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZXRBcmdzKG9wdGlvbnM6IFBhcmFtZXRlcnM8TGFuZ3VhZ2VNb2RlbFYyWydkb0dlbmVyYXRlJ10+WzBdKSB7XG4gICAgY29uc3QgeyBhYm9ydFNpZ25hbDogX2Fib3J0U2lnbmFsLCAuLi5vcHRpb25zV2l0aG91dFNpZ25hbCB9ID0gb3B0aW9ucztcblxuICAgIHJldHVybiB7XG4gICAgICBhcmdzOiB0aGlzLm1heWJlRW5jb2RlRmlsZVBhcnRzKG9wdGlvbnNXaXRob3V0U2lnbmFsKSxcbiAgICAgIHdhcm5pbmdzOiBbXSxcbiAgICB9O1xuICB9XG5cbiAgYXN5bmMgZG9HZW5lcmF0ZShcbiAgICBvcHRpb25zOiBQYXJhbWV0ZXJzPExhbmd1YWdlTW9kZWxWMlsnZG9HZW5lcmF0ZSddPlswXSxcbiAgKTogUHJvbWlzZTxBd2FpdGVkPFJldHVyblR5cGU8TGFuZ3VhZ2VNb2RlbFYyWydkb0dlbmVyYXRlJ10+Pj4ge1xuICAgIGNvbnN0IHsgYXJncywgd2FybmluZ3MgfSA9IGF3YWl0IHRoaXMuZ2V0QXJncyhvcHRpb25zKTtcbiAgICBjb25zdCB7IGFib3J0U2lnbmFsIH0gPSBvcHRpb25zO1xuXG4gICAgY29uc3QgcmVzb2x2ZWRIZWFkZXJzID0gYXdhaXQgcmVzb2x2ZSh0aGlzLmNvbmZpZy5oZWFkZXJzKCkpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICB2YWx1ZTogcmVzcG9uc2VCb2R5LFxuICAgICAgICByYXdWYWx1ZTogcmF3UmVzcG9uc2UsXG4gICAgICB9ID0gYXdhaXQgcG9zdEpzb25Ub0FwaSh7XG4gICAgICAgIHVybDogdGhpcy5nZXRVcmwoKSxcbiAgICAgICAgaGVhZGVyczogY29tYmluZUhlYWRlcnMoXG4gICAgICAgICAgcmVzb2x2ZWRIZWFkZXJzLFxuICAgICAgICAgIG9wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgICB0aGlzLmdldE1vZGVsQ29uZmlnSGVhZGVycyh0aGlzLm1vZGVsSWQsIGZhbHNlKSxcbiAgICAgICAgICBhd2FpdCByZXNvbHZlKHRoaXMuY29uZmlnLm8xMXlIZWFkZXJzKSxcbiAgICAgICAgKSxcbiAgICAgICAgYm9keTogYXJncyxcbiAgICAgICAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcih6LmFueSgpKSxcbiAgICAgICAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyOiBjcmVhdGVKc29uRXJyb3JSZXNwb25zZUhhbmRsZXIoe1xuICAgICAgICAgIGVycm9yU2NoZW1hOiB6LmFueSgpLFxuICAgICAgICAgIGVycm9yVG9NZXNzYWdlOiBkYXRhID0+IGRhdGEsXG4gICAgICAgIH0pLFxuICAgICAgICAuLi4oYWJvcnRTaWduYWwgJiYgeyBhYm9ydFNpZ25hbCB9KSxcbiAgICAgICAgZmV0Y2g6IHRoaXMuY29uZmlnLmZldGNoLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnJlc3BvbnNlQm9keSxcbiAgICAgICAgcmVxdWVzdDogeyBib2R5OiBhcmdzIH0sXG4gICAgICAgIHJlc3BvbnNlOiB7IGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycywgYm9keTogcmF3UmVzcG9uc2UgfSxcbiAgICAgICAgd2FybmluZ3MsXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBhc0dhdGV3YXlFcnJvcihlcnJvciwgcGFyc2VBdXRoTWV0aG9kKHJlc29sdmVkSGVhZGVycykpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGRvU3RyZWFtKFxuICAgIG9wdGlvbnM6IFBhcmFtZXRlcnM8TGFuZ3VhZ2VNb2RlbFYyWydkb1N0cmVhbSddPlswXSxcbiAgKTogUHJvbWlzZTxBd2FpdGVkPFJldHVyblR5cGU8TGFuZ3VhZ2VNb2RlbFYyWydkb1N0cmVhbSddPj4+IHtcbiAgICBjb25zdCB7IGFyZ3MsIHdhcm5pbmdzIH0gPSBhd2FpdCB0aGlzLmdldEFyZ3Mob3B0aW9ucyk7XG4gICAgY29uc3QgeyBhYm9ydFNpZ25hbCB9ID0gb3B0aW9ucztcblxuICAgIGNvbnN0IHJlc29sdmVkSGVhZGVycyA9IGF3YWl0IHJlc29sdmUodGhpcy5jb25maWcuaGVhZGVycygpKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IHZhbHVlOiByZXNwb25zZSwgcmVzcG9uc2VIZWFkZXJzIH0gPSBhd2FpdCBwb3N0SnNvblRvQXBpKHtcbiAgICAgICAgdXJsOiB0aGlzLmdldFVybCgpLFxuICAgICAgICBoZWFkZXJzOiBjb21iaW5lSGVhZGVycyhcbiAgICAgICAgICByZXNvbHZlZEhlYWRlcnMsXG4gICAgICAgICAgb3B0aW9ucy5oZWFkZXJzLFxuICAgICAgICAgIHRoaXMuZ2V0TW9kZWxDb25maWdIZWFkZXJzKHRoaXMubW9kZWxJZCwgdHJ1ZSksXG4gICAgICAgICAgYXdhaXQgcmVzb2x2ZSh0aGlzLmNvbmZpZy5vMTF5SGVhZGVycyksXG4gICAgICAgICksXG4gICAgICAgIGJvZHk6IGFyZ3MsXG4gICAgICAgIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXI6IGNyZWF0ZUV2ZW50U291cmNlUmVzcG9uc2VIYW5kbGVyKHouYW55KCkpLFxuICAgICAgICBmYWlsZWRSZXNwb25zZUhhbmRsZXI6IGNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlcih7XG4gICAgICAgICAgZXJyb3JTY2hlbWE6IHouYW55KCksXG4gICAgICAgICAgZXJyb3JUb01lc3NhZ2U6IGRhdGEgPT4gZGF0YSxcbiAgICAgICAgfSksXG4gICAgICAgIC4uLihhYm9ydFNpZ25hbCAmJiB7IGFib3J0U2lnbmFsIH0pLFxuICAgICAgICBmZXRjaDogdGhpcy5jb25maWcuZmV0Y2gsXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RyZWFtOiByZXNwb25zZS5waXBlVGhyb3VnaChcbiAgICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPFxuICAgICAgICAgICAgUGFyc2VSZXN1bHQ8TGFuZ3VhZ2VNb2RlbFYyU3RyZWFtUGFydD4sXG4gICAgICAgICAgICBMYW5ndWFnZU1vZGVsVjJTdHJlYW1QYXJ0XG4gICAgICAgICAgPih7XG4gICAgICAgICAgICBzdGFydChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgIGlmICh3YXJuaW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ3N0cmVhbS1zdGFydCcsIHdhcm5pbmdzIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgIGlmIChjaHVuay5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyZWFtUGFydCA9IGNodW5rLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHJhdyBjaHVua3M6IGlmIHRoaXMgaXMgYSByYXcgY2h1bmsgZnJvbSB0aGUgZ2F0ZXdheSBBUEksXG4gICAgICAgICAgICAgICAgLy8gb25seSBlbWl0IGl0IGlmIGluY2x1ZGVSYXdDaHVua3MgaXMgdHJ1ZVxuICAgICAgICAgICAgICAgIGlmIChzdHJlYW1QYXJ0LnR5cGUgPT09ICdyYXcnICYmICFvcHRpb25zLmluY2x1ZGVSYXdDaHVua3MpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gU2tpcCByYXcgY2h1bmtzIGlmIG5vdCByZXF1ZXN0ZWRcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBzdHJlYW1QYXJ0LnR5cGUgPT09ICdyZXNwb25zZS1tZXRhZGF0YScgJiZcbiAgICAgICAgICAgICAgICAgIHN0cmVhbVBhcnQudGltZXN0YW1wICYmXG4gICAgICAgICAgICAgICAgICB0eXBlb2Ygc3RyZWFtUGFydC50aW1lc3RhbXAgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBzdHJlYW1QYXJ0LnRpbWVzdGFtcCA9IG5ldyBEYXRlKHN0cmVhbVBhcnQudGltZXN0YW1wKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoc3RyZWFtUGFydCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lcnJvcihcbiAgICAgICAgICAgICAgICAgIChjaHVuayBhcyB7IHN1Y2Nlc3M6IGZhbHNlOyBlcnJvcjogdW5rbm93biB9KS5lcnJvcixcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICApLFxuICAgICAgICByZXF1ZXN0OiB7IGJvZHk6IGFyZ3MgfSxcbiAgICAgICAgcmVzcG9uc2U6IHsgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzIH0sXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBhc0dhdGV3YXlFcnJvcihlcnJvciwgcGFyc2VBdXRoTWV0aG9kKHJlc29sdmVkSGVhZGVycykpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaXNGaWxlUGFydChwYXJ0OiB1bmtub3duKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHBhcnQgJiYgdHlwZW9mIHBhcnQgPT09ICdvYmplY3QnICYmICd0eXBlJyBpbiBwYXJ0ICYmIHBhcnQudHlwZSA9PT0gJ2ZpbGUnXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmNvZGVzIGZpbGUgcGFydHMgaW4gdGhlIHByb21wdCB0byBiYXNlNjQuIE11dGF0ZXMgdGhlIHBhc3NlZCBvcHRpb25zXG4gICAqIGluc3RhbmNlIGRpcmVjdGx5IHRvIGF2b2lkIGNvcHlpbmcgdGhlIGZpbGUgZGF0YS5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyB0byBlbmNvZGUuXG4gICAqIEByZXR1cm5zIFRoZSBvcHRpb25zIHdpdGggdGhlIGZpbGUgcGFydHMgZW5jb2RlZC5cbiAgICovXG4gIHByaXZhdGUgbWF5YmVFbmNvZGVGaWxlUGFydHMob3B0aW9uczogTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnMpIHtcbiAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2Ygb3B0aW9ucy5wcm9tcHQpIHtcbiAgICAgIGZvciAoY29uc3QgcGFydCBvZiBtZXNzYWdlLmNvbnRlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNGaWxlUGFydChwYXJ0KSkge1xuICAgICAgICAgIGNvbnN0IGZpbGVQYXJ0ID0gcGFydCBhcyBMYW5ndWFnZU1vZGVsVjJGaWxlUGFydDtcbiAgICAgICAgICAvLyBJZiB0aGUgZmlsZSBwYXJ0IGlzIGEgVVJMIGl0IHdpbGwgZ2V0IGNsZWFubHkgY29udmVydGVkIHRvIGEgc3RyaW5nLlxuICAgICAgICAgIC8vIElmIGl0J3MgYSBiaW5hcnkgZmlsZSBhdHRhY2htZW50IHdlIGNvbnZlcnQgaXQgdG8gYSBkYXRhIHVybC5cbiAgICAgICAgICAvLyBJbiBlaXRoZXIgY2FzZSwgc2VydmVyLXNpZGUgd2Ugc2hvdWxkIG9ubHkgZXZlciBzZWUgVVJMcyBhcyBzdHJpbmdzLlxuICAgICAgICAgIGlmIChmaWxlUGFydC5kYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gVWludDhBcnJheS5mcm9tKGZpbGVQYXJ0LmRhdGEpO1xuICAgICAgICAgICAgY29uc3QgYmFzZTY0RGF0YSA9IEJ1ZmZlci5mcm9tKGJ1ZmZlcikudG9TdHJpbmcoJ2Jhc2U2NCcpO1xuICAgICAgICAgICAgZmlsZVBhcnQuZGF0YSA9IG5ldyBVUkwoXG4gICAgICAgICAgICAgIGBkYXRhOiR7ZmlsZVBhcnQubWVkaWFUeXBlIHx8ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nfTtiYXNlNjQsJHtiYXNlNjREYXRhfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfVxuXG4gIHByaXZhdGUgZ2V0VXJsKCkge1xuICAgIHJldHVybiBgJHt0aGlzLmNvbmZpZy5iYXNlVVJMfS9sYW5ndWFnZS1tb2RlbGA7XG4gIH1cblxuICBwcml2YXRlIGdldE1vZGVsQ29uZmlnSGVhZGVycyhtb2RlbElkOiBzdHJpbmcsIHN0cmVhbWluZzogYm9vbGVhbikge1xuICAgIHJldHVybiB7XG4gICAgICAnYWktbGFuZ3VhZ2UtbW9kZWwtc3BlY2lmaWNhdGlvbi12ZXJzaW9uJzogJzInLFxuICAgICAgJ2FpLWxhbmd1YWdlLW1vZGVsLWlkJzogbW9kZWxJZCxcbiAgICAgICdhaS1sYW5ndWFnZS1tb2RlbC1zdHJlYW1pbmcnOiBTdHJpbmcoc3RyZWFtaW5nKSxcbiAgICB9O1xuICB9XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBFbWJlZGRpbmdNb2RlbFYyIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQge1xuICBjb21iaW5lSGVhZGVycyxcbiAgY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcixcbiAgY3JlYXRlSnNvbkVycm9yUmVzcG9uc2VIYW5kbGVyLFxuICBwb3N0SnNvblRvQXBpLFxuICByZXNvbHZlLFxuICB0eXBlIFJlc29sdmFibGUsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgdHlwZSB7IEdhdGV3YXlDb25maWcgfSBmcm9tICcuL2dhdGV3YXktY29uZmlnJztcbmltcG9ydCB7IGFzR2F0ZXdheUVycm9yIH0gZnJvbSAnLi9lcnJvcnMnO1xuaW1wb3J0IHsgcGFyc2VBdXRoTWV0aG9kIH0gZnJvbSAnLi9lcnJvcnMvcGFyc2UtYXV0aC1tZXRob2QnO1xuaW1wb3J0IHR5cGUgeyBTaGFyZWRWMlByb3ZpZGVyTWV0YWRhdGEgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuZXhwb3J0IGNsYXNzIEdhdGV3YXlFbWJlZGRpbmdNb2RlbCBpbXBsZW1lbnRzIEVtYmVkZGluZ01vZGVsVjI8c3RyaW5nPiB7XG4gIHJlYWRvbmx5IHNwZWNpZmljYXRpb25WZXJzaW9uID0gJ3YyJztcbiAgcmVhZG9ubHkgbWF4RW1iZWRkaW5nc1BlckNhbGwgPSAyMDQ4O1xuICByZWFkb25seSBzdXBwb3J0c1BhcmFsbGVsQ2FsbHMgPSB0cnVlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHJlYWRvbmx5IG1vZGVsSWQ6IHN0cmluZyxcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNvbmZpZzogR2F0ZXdheUNvbmZpZyAmIHtcbiAgICAgIHByb3ZpZGVyOiBzdHJpbmc7XG4gICAgICBvMTF5SGVhZGVyczogUmVzb2x2YWJsZTxSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+PjtcbiAgICB9LFxuICApIHt9XG5cbiAgZ2V0IHByb3ZpZGVyKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLnByb3ZpZGVyO1xuICB9XG5cbiAgYXN5bmMgZG9FbWJlZCh7XG4gICAgdmFsdWVzLFxuICAgIGhlYWRlcnMsXG4gICAgYWJvcnRTaWduYWwsXG4gICAgcHJvdmlkZXJPcHRpb25zLFxuICB9OiBQYXJhbWV0ZXJzPEVtYmVkZGluZ01vZGVsVjI8c3RyaW5nPlsnZG9FbWJlZCddPlswXSk6IFByb21pc2U8XG4gICAgQXdhaXRlZDxSZXR1cm5UeXBlPEVtYmVkZGluZ01vZGVsVjI8c3RyaW5nPlsnZG9FbWJlZCddPj5cbiAgPiB7XG4gICAgY29uc3QgcmVzb2x2ZWRIZWFkZXJzID0gYXdhaXQgcmVzb2x2ZSh0aGlzLmNvbmZpZy5oZWFkZXJzKCkpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgdmFsdWU6IHJlc3BvbnNlQm9keSxcbiAgICAgICAgcmF3VmFsdWUsXG4gICAgICB9ID0gYXdhaXQgcG9zdEpzb25Ub0FwaSh7XG4gICAgICAgIHVybDogdGhpcy5nZXRVcmwoKSxcbiAgICAgICAgaGVhZGVyczogY29tYmluZUhlYWRlcnMoXG4gICAgICAgICAgcmVzb2x2ZWRIZWFkZXJzLFxuICAgICAgICAgIGhlYWRlcnMgPz8ge30sXG4gICAgICAgICAgdGhpcy5nZXRNb2RlbENvbmZpZ0hlYWRlcnMoKSxcbiAgICAgICAgICBhd2FpdCByZXNvbHZlKHRoaXMuY29uZmlnLm8xMXlIZWFkZXJzKSxcbiAgICAgICAgKSxcbiAgICAgICAgYm9keToge1xuICAgICAgICAgIGlucHV0OiB2YWx1ZXMubGVuZ3RoID09PSAxID8gdmFsdWVzWzBdIDogdmFsdWVzLFxuICAgICAgICAgIC4uLihwcm92aWRlck9wdGlvbnMgPyB7IHByb3ZpZGVyT3B0aW9ucyB9IDoge30pLFxuICAgICAgICB9LFxuICAgICAgICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyOiBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyKFxuICAgICAgICAgIGdhdGV3YXlFbWJlZGRpbmdSZXNwb25zZVNjaGVtYSxcbiAgICAgICAgKSxcbiAgICAgICAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyOiBjcmVhdGVKc29uRXJyb3JSZXNwb25zZUhhbmRsZXIoe1xuICAgICAgICAgIGVycm9yU2NoZW1hOiB6LmFueSgpLFxuICAgICAgICAgIGVycm9yVG9NZXNzYWdlOiBkYXRhID0+IGRhdGEsXG4gICAgICAgIH0pLFxuICAgICAgICAuLi4oYWJvcnRTaWduYWwgJiYgeyBhYm9ydFNpZ25hbCB9KSxcbiAgICAgICAgZmV0Y2g6IHRoaXMuY29uZmlnLmZldGNoLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVtYmVkZGluZ3M6IHJlc3BvbnNlQm9keS5lbWJlZGRpbmdzLFxuICAgICAgICB1c2FnZTogcmVzcG9uc2VCb2R5LnVzYWdlID8/IHVuZGVmaW5lZCxcbiAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTpcbiAgICAgICAgICByZXNwb25zZUJvZHkucHJvdmlkZXJNZXRhZGF0YSBhcyB1bmtub3duIGFzIFNoYXJlZFYyUHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgcmVzcG9uc2U6IHsgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLCBib2R5OiByYXdWYWx1ZSB9LFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgYXNHYXRld2F5RXJyb3IoZXJyb3IsIHBhcnNlQXV0aE1ldGhvZChyZXNvbHZlZEhlYWRlcnMpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldFVybCgpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5jb25maWcuYmFzZVVSTH0vZW1iZWRkaW5nLW1vZGVsYDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0TW9kZWxDb25maWdIZWFkZXJzKCkge1xuICAgIHJldHVybiB7XG4gICAgICAnYWktZW1iZWRkaW5nLW1vZGVsLXNwZWNpZmljYXRpb24tdmVyc2lvbic6ICcyJyxcbiAgICAgICdhaS1tb2RlbC1pZCc6IHRoaXMubW9kZWxJZCxcbiAgICB9O1xuICB9XG59XG5cbmNvbnN0IGdhdGV3YXlFbWJlZGRpbmdSZXNwb25zZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgZW1iZWRkaW5nczogei5hcnJheSh6LmFycmF5KHoubnVtYmVyKCkpKSxcbiAgdXNhZ2U6IHoub2JqZWN0KHsgdG9rZW5zOiB6Lm51bWJlcigpIH0pLm51bGxpc2goKSxcbiAgcHJvdmlkZXJNZXRhZGF0YTogelxuICAgIC5yZWNvcmQoei5zdHJpbmcoKSwgei5yZWNvcmQoei5zdHJpbmcoKSwgei51bmtub3duKCkpKVxuICAgIC5vcHRpb25hbCgpLFxufSk7XG4iLCAiaW1wb3J0IHsgR2F0ZXdheUF1dGhlbnRpY2F0aW9uRXJyb3IgfSBmcm9tICcuL2Vycm9ycyc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRWZXJjZWxPaWRjVG9rZW4oKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgY29uc3QgdG9rZW4gPVxuICAgIGdldENvbnRleHQoKS5oZWFkZXJzPy5bJ3gtdmVyY2VsLW9pZGMtdG9rZW4nXSA/P1xuICAgIHByb2Nlc3MuZW52LlZFUkNFTF9PSURDX1RPS0VOO1xuXG4gIGlmICghdG9rZW4pIHtcbiAgICB0aHJvdyBuZXcgR2F0ZXdheUF1dGhlbnRpY2F0aW9uRXJyb3Ioe1xuICAgICAgbWVzc2FnZTogJ09JREMgdG9rZW4gbm90IGF2YWlsYWJsZScsXG4gICAgICBzdGF0dXNDb2RlOiA0MDEsXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gdG9rZW47XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRWZXJjZWxSZXF1ZXN0SWQoKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcbiAgcmV0dXJuIGdldENvbnRleHQoKS5oZWFkZXJzPy5bJ3gtdmVyY2VsLWlkJ107XG59XG5cbnR5cGUgQ29udGV4dCA9IHtcbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG59O1xuXG5jb25zdCBTWU1CT0xfRk9SX1JFUV9DT05URVhUID0gU3ltYm9sLmZvcignQHZlcmNlbC9yZXF1ZXN0LWNvbnRleHQnKTtcblxuZnVuY3Rpb24gZ2V0Q29udGV4dCgpOiBDb250ZXh0IHtcbiAgY29uc3QgZnJvbVN5bWJvbDogdHlwZW9mIGdsb2JhbFRoaXMgJiB7XG4gICAgW1NZTUJPTF9GT1JfUkVRX0NPTlRFWFRdPzogeyBnZXQ/OiAoKSA9PiBDb250ZXh0IH07XG4gIH0gPSBnbG9iYWxUaGlzO1xuICByZXR1cm4gZnJvbVN5bWJvbFtTWU1CT0xfRk9SX1JFUV9DT05URVhUXT8uZ2V0Py4oKSA/PyB7fTtcbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKiogb25seSBnbG9iYWxzIHRoYXQgY29tbW9uIHRvIG5vZGUgYW5kIGJyb3dzZXJzIGFyZSBhbGxvd2VkICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm9kZS9uby11bnN1cHBvcnRlZC1mZWF0dXJlcy9lcy1idWlsdGluc1xuZXhwb3J0IGNvbnN0IF9nbG9iYWxUaGlzID0gdHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnID8gZ2xvYmFsVGhpcyA6IGdsb2JhbDtcbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vLyB0aGlzIGlzIGF1dG9nZW5lcmF0ZWQgZmlsZSwgc2VlIHNjcmlwdHMvdmVyc2lvbi11cGRhdGUuanNcbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gJzEuOS4wJztcbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi4vdmVyc2lvbic7XG5cbmNvbnN0IHJlID0gL14oXFxkKylcXC4oXFxkKylcXC4oXFxkKykoLSguKykpPyQvO1xuXG4vKipcbiAqIENyZWF0ZSBhIGZ1bmN0aW9uIHRvIHRlc3QgYW4gQVBJIHZlcnNpb24gdG8gc2VlIGlmIGl0IGlzIGNvbXBhdGlibGUgd2l0aCB0aGUgcHJvdmlkZWQgb3duVmVyc2lvbi5cbiAqXG4gKiBUaGUgcmV0dXJuZWQgZnVuY3Rpb24gaGFzIHRoZSBmb2xsb3dpbmcgc2VtYW50aWNzOlxuICogLSBFeGFjdCBtYXRjaCBpcyBhbHdheXMgY29tcGF0aWJsZVxuICogLSBNYWpvciB2ZXJzaW9ucyBtdXN0IG1hdGNoIGV4YWN0bHlcbiAqICAgIC0gMS54IHBhY2thZ2UgY2Fubm90IHVzZSBnbG9iYWwgMi54IHBhY2thZ2VcbiAqICAgIC0gMi54IHBhY2thZ2UgY2Fubm90IHVzZSBnbG9iYWwgMS54IHBhY2thZ2VcbiAqIC0gVGhlIG1pbm9yIHZlcnNpb24gb2YgdGhlIEFQSSBtb2R1bGUgcmVxdWVzdGluZyBhY2Nlc3MgdG8gdGhlIGdsb2JhbCBBUEkgbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIG1pbm9yIHZlcnNpb24gb2YgdGhpcyBBUElcbiAqICAgIC0gMS4zIHBhY2thZ2UgbWF5IHVzZSAxLjQgZ2xvYmFsIGJlY2F1c2UgdGhlIGxhdGVyIGdsb2JhbCBjb250YWlucyBhbGwgZnVuY3Rpb25zIDEuMyBleHBlY3RzXG4gKiAgICAtIDEuNCBwYWNrYWdlIG1heSBOT1QgdXNlIDEuMyBnbG9iYWwgYmVjYXVzZSBpdCBtYXkgdHJ5IHRvIGNhbGwgZnVuY3Rpb25zIHdoaWNoIGRvbid0IGV4aXN0IG9uIDEuM1xuICogLSBJZiB0aGUgbWFqb3IgdmVyc2lvbiBpcyAwLCB0aGUgbWlub3IgdmVyc2lvbiBpcyB0cmVhdGVkIGFzIHRoZSBtYWpvciBhbmQgdGhlIHBhdGNoIGlzIHRyZWF0ZWQgYXMgdGhlIG1pbm9yXG4gKiAtIFBhdGNoIGFuZCBidWlsZCB0YWcgZGlmZmVyZW5jZXMgYXJlIG5vdCBjb25zaWRlcmVkIGF0IHRoaXMgdGltZVxuICpcbiAqIEBwYXJhbSBvd25WZXJzaW9uIHZlcnNpb24gd2hpY2ggc2hvdWxkIGJlIGNoZWNrZWQgYWdhaW5zdFxuICovXG5leHBvcnQgZnVuY3Rpb24gX21ha2VDb21wYXRpYmlsaXR5Q2hlY2soXG4gIG93blZlcnNpb246IHN0cmluZ1xuKTogKGdsb2JhbFZlcnNpb246IHN0cmluZykgPT4gYm9vbGVhbiB7XG4gIGNvbnN0IGFjY2VwdGVkVmVyc2lvbnMgPSBuZXcgU2V0PHN0cmluZz4oW293blZlcnNpb25dKTtcbiAgY29uc3QgcmVqZWN0ZWRWZXJzaW9ucyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG4gIGNvbnN0IG15VmVyc2lvbk1hdGNoID0gb3duVmVyc2lvbi5tYXRjaChyZSk7XG4gIGlmICghbXlWZXJzaW9uTWF0Y2gpIHtcbiAgICAvLyB3ZSBjYW5ub3QgZ3VhcmFudGVlIGNvbXBhdGliaWxpdHkgc28gd2UgYWx3YXlzIHJldHVybiBub29wXG4gICAgcmV0dXJuICgpID0+IGZhbHNlO1xuICB9XG5cbiAgY29uc3Qgb3duVmVyc2lvblBhcnNlZCA9IHtcbiAgICBtYWpvcjogK215VmVyc2lvbk1hdGNoWzFdLFxuICAgIG1pbm9yOiArbXlWZXJzaW9uTWF0Y2hbMl0sXG4gICAgcGF0Y2g6ICtteVZlcnNpb25NYXRjaFszXSxcbiAgICBwcmVyZWxlYXNlOiBteVZlcnNpb25NYXRjaFs0XSxcbiAgfTtcblxuICAvLyBpZiBvd25WZXJzaW9uIGhhcyBhIHByZXJlbGVhc2UgdGFnLCB2ZXJzaW9ucyBtdXN0IG1hdGNoIGV4YWN0bHlcbiAgaWYgKG93blZlcnNpb25QYXJzZWQucHJlcmVsZWFzZSAhPSBudWxsKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGlzRXhhY3RtYXRjaChnbG9iYWxWZXJzaW9uOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiBnbG9iYWxWZXJzaW9uID09PSBvd25WZXJzaW9uO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBfcmVqZWN0KHY6IHN0cmluZykge1xuICAgIHJlamVjdGVkVmVyc2lvbnMuYWRkKHYpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9hY2NlcHQodjogc3RyaW5nKSB7XG4gICAgYWNjZXB0ZWRWZXJzaW9ucy5hZGQodik7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gaXNDb21wYXRpYmxlKGdsb2JhbFZlcnNpb246IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGlmIChhY2NlcHRlZFZlcnNpb25zLmhhcyhnbG9iYWxWZXJzaW9uKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHJlamVjdGVkVmVyc2lvbnMuaGFzKGdsb2JhbFZlcnNpb24pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgZ2xvYmFsVmVyc2lvbk1hdGNoID0gZ2xvYmFsVmVyc2lvbi5tYXRjaChyZSk7XG4gICAgaWYgKCFnbG9iYWxWZXJzaW9uTWF0Y2gpIHtcbiAgICAgIC8vIGNhbm5vdCBwYXJzZSBvdGhlciB2ZXJzaW9uXG4gICAgICAvLyB3ZSBjYW5ub3QgZ3VhcmFudGVlIGNvbXBhdGliaWxpdHkgc28gd2UgYWx3YXlzIG5vb3BcbiAgICAgIHJldHVybiBfcmVqZWN0KGdsb2JhbFZlcnNpb24pO1xuICAgIH1cblxuICAgIGNvbnN0IGdsb2JhbFZlcnNpb25QYXJzZWQgPSB7XG4gICAgICBtYWpvcjogK2dsb2JhbFZlcnNpb25NYXRjaFsxXSxcbiAgICAgIG1pbm9yOiArZ2xvYmFsVmVyc2lvbk1hdGNoWzJdLFxuICAgICAgcGF0Y2g6ICtnbG9iYWxWZXJzaW9uTWF0Y2hbM10sXG4gICAgICBwcmVyZWxlYXNlOiBnbG9iYWxWZXJzaW9uTWF0Y2hbNF0sXG4gICAgfTtcblxuICAgIC8vIGlmIGdsb2JhbFZlcnNpb24gaGFzIGEgcHJlcmVsZWFzZSB0YWcsIHZlcnNpb25zIG11c3QgbWF0Y2ggZXhhY3RseVxuICAgIGlmIChnbG9iYWxWZXJzaW9uUGFyc2VkLnByZXJlbGVhc2UgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIF9yZWplY3QoZ2xvYmFsVmVyc2lvbik7XG4gICAgfVxuXG4gICAgLy8gbWFqb3IgdmVyc2lvbnMgbXVzdCBtYXRjaFxuICAgIGlmIChvd25WZXJzaW9uUGFyc2VkLm1ham9yICE9PSBnbG9iYWxWZXJzaW9uUGFyc2VkLm1ham9yKSB7XG4gICAgICByZXR1cm4gX3JlamVjdChnbG9iYWxWZXJzaW9uKTtcbiAgICB9XG5cbiAgICBpZiAob3duVmVyc2lvblBhcnNlZC5tYWpvciA9PT0gMCkge1xuICAgICAgaWYgKFxuICAgICAgICBvd25WZXJzaW9uUGFyc2VkLm1pbm9yID09PSBnbG9iYWxWZXJzaW9uUGFyc2VkLm1pbm9yICYmXG4gICAgICAgIG93blZlcnNpb25QYXJzZWQucGF0Y2ggPD0gZ2xvYmFsVmVyc2lvblBhcnNlZC5wYXRjaFxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBfYWNjZXB0KGdsb2JhbFZlcnNpb24pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JlamVjdChnbG9iYWxWZXJzaW9uKTtcbiAgICB9XG5cbiAgICBpZiAob3duVmVyc2lvblBhcnNlZC5taW5vciA8PSBnbG9iYWxWZXJzaW9uUGFyc2VkLm1pbm9yKSB7XG4gICAgICByZXR1cm4gX2FjY2VwdChnbG9iYWxWZXJzaW9uKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JlamVjdChnbG9iYWxWZXJzaW9uKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBUZXN0IGFuIEFQSSB2ZXJzaW9uIHRvIHNlZSBpZiBpdCBpcyBjb21wYXRpYmxlIHdpdGggdGhpcyBBUEkuXG4gKlxuICogLSBFeGFjdCBtYXRjaCBpcyBhbHdheXMgY29tcGF0aWJsZVxuICogLSBNYWpvciB2ZXJzaW9ucyBtdXN0IG1hdGNoIGV4YWN0bHlcbiAqICAgIC0gMS54IHBhY2thZ2UgY2Fubm90IHVzZSBnbG9iYWwgMi54IHBhY2thZ2VcbiAqICAgIC0gMi54IHBhY2thZ2UgY2Fubm90IHVzZSBnbG9iYWwgMS54IHBhY2thZ2VcbiAqIC0gVGhlIG1pbm9yIHZlcnNpb24gb2YgdGhlIEFQSSBtb2R1bGUgcmVxdWVzdGluZyBhY2Nlc3MgdG8gdGhlIGdsb2JhbCBBUEkgbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIG1pbm9yIHZlcnNpb24gb2YgdGhpcyBBUElcbiAqICAgIC0gMS4zIHBhY2thZ2UgbWF5IHVzZSAxLjQgZ2xvYmFsIGJlY2F1c2UgdGhlIGxhdGVyIGdsb2JhbCBjb250YWlucyBhbGwgZnVuY3Rpb25zIDEuMyBleHBlY3RzXG4gKiAgICAtIDEuNCBwYWNrYWdlIG1heSBOT1QgdXNlIDEuMyBnbG9iYWwgYmVjYXVzZSBpdCBtYXkgdHJ5IHRvIGNhbGwgZnVuY3Rpb25zIHdoaWNoIGRvbid0IGV4aXN0IG9uIDEuM1xuICogLSBJZiB0aGUgbWFqb3IgdmVyc2lvbiBpcyAwLCB0aGUgbWlub3IgdmVyc2lvbiBpcyB0cmVhdGVkIGFzIHRoZSBtYWpvciBhbmQgdGhlIHBhdGNoIGlzIHRyZWF0ZWQgYXMgdGhlIG1pbm9yXG4gKiAtIFBhdGNoIGFuZCBidWlsZCB0YWcgZGlmZmVyZW5jZXMgYXJlIG5vdCBjb25zaWRlcmVkIGF0IHRoaXMgdGltZVxuICpcbiAqIEBwYXJhbSB2ZXJzaW9uIHZlcnNpb24gb2YgdGhlIEFQSSByZXF1ZXN0aW5nIGFuIGluc3RhbmNlIG9mIHRoZSBnbG9iYWwgQVBJXG4gKi9cbmV4cG9ydCBjb25zdCBpc0NvbXBhdGlibGUgPSBfbWFrZUNvbXBhdGliaWxpdHlDaGVjayhWRVJTSU9OKTtcbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBNZXRlclByb3ZpZGVyIH0gZnJvbSAnLi4vbWV0cmljcy9NZXRlclByb3ZpZGVyJztcbmltcG9ydCB7IENvbnRleHRNYW5hZ2VyIH0gZnJvbSAnLi4vY29udGV4dC90eXBlcyc7XG5pbXBvcnQgeyBEaWFnTG9nZ2VyIH0gZnJvbSAnLi4vZGlhZy90eXBlcyc7XG5pbXBvcnQgeyBfZ2xvYmFsVGhpcyB9IGZyb20gJy4uL3BsYXRmb3JtJztcbmltcG9ydCB7IFRleHRNYXBQcm9wYWdhdG9yIH0gZnJvbSAnLi4vcHJvcGFnYXRpb24vVGV4dE1hcFByb3BhZ2F0b3InO1xuaW1wb3J0IHR5cGUgeyBUcmFjZXJQcm92aWRlciB9IGZyb20gJy4uL3RyYWNlL3RyYWNlcl9wcm92aWRlcic7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi4vdmVyc2lvbic7XG5pbXBvcnQgeyBpc0NvbXBhdGlibGUgfSBmcm9tICcuL3NlbXZlcic7XG5cbmNvbnN0IG1ham9yID0gVkVSU0lPTi5zcGxpdCgnLicpWzBdO1xuY29uc3QgR0xPQkFMX09QRU5URUxFTUVUUllfQVBJX0tFWSA9IFN5bWJvbC5mb3IoXG4gIGBvcGVudGVsZW1ldHJ5LmpzLmFwaS4ke21ham9yfWBcbik7XG5cbmNvbnN0IF9nbG9iYWwgPSBfZ2xvYmFsVGhpcyBhcyBPVGVsR2xvYmFsO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJHbG9iYWw8VHlwZSBleHRlbmRzIGtleW9mIE9UZWxHbG9iYWxBUEk+KFxuICB0eXBlOiBUeXBlLFxuICBpbnN0YW5jZTogT1RlbEdsb2JhbEFQSVtUeXBlXSxcbiAgZGlhZzogRGlhZ0xvZ2dlcixcbiAgYWxsb3dPdmVycmlkZSA9IGZhbHNlXG4pOiBib29sZWFuIHtcbiAgY29uc3QgYXBpID0gKF9nbG9iYWxbR0xPQkFMX09QRU5URUxFTUVUUllfQVBJX0tFWV0gPSBfZ2xvYmFsW1xuICAgIEdMT0JBTF9PUEVOVEVMRU1FVFJZX0FQSV9LRVlcbiAgXSA/PyB7XG4gICAgdmVyc2lvbjogVkVSU0lPTixcbiAgfSk7XG5cbiAgaWYgKCFhbGxvd092ZXJyaWRlICYmIGFwaVt0eXBlXSkge1xuICAgIC8vIGFscmVhZHkgcmVnaXN0ZXJlZCBhbiBBUEkgb2YgdGhpcyB0eXBlXG4gICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFxuICAgICAgYEBvcGVudGVsZW1ldHJ5L2FwaTogQXR0ZW1wdGVkIGR1cGxpY2F0ZSByZWdpc3RyYXRpb24gb2YgQVBJOiAke3R5cGV9YFxuICAgICk7XG4gICAgZGlhZy5lcnJvcihlcnIuc3RhY2sgfHwgZXJyLm1lc3NhZ2UpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChhcGkudmVyc2lvbiAhPT0gVkVSU0lPTikge1xuICAgIC8vIEFsbCByZWdpc3RlcmVkIEFQSXMgbXVzdCBiZSBvZiB0aGUgc2FtZSB2ZXJzaW9uIGV4YWN0bHlcbiAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoXG4gICAgICBgQG9wZW50ZWxlbWV0cnkvYXBpOiBSZWdpc3RyYXRpb24gb2YgdmVyc2lvbiB2JHthcGkudmVyc2lvbn0gZm9yICR7dHlwZX0gZG9lcyBub3QgbWF0Y2ggcHJldmlvdXNseSByZWdpc3RlcmVkIEFQSSB2JHtWRVJTSU9OfWBcbiAgICApO1xuICAgIGRpYWcuZXJyb3IoZXJyLnN0YWNrIHx8IGVyci5tZXNzYWdlKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBhcGlbdHlwZV0gPSBpbnN0YW5jZTtcbiAgZGlhZy5kZWJ1ZyhcbiAgICBgQG9wZW50ZWxlbWV0cnkvYXBpOiBSZWdpc3RlcmVkIGEgZ2xvYmFsIGZvciAke3R5cGV9IHYke1ZFUlNJT059LmBcbiAgKTtcblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEdsb2JhbDxUeXBlIGV4dGVuZHMga2V5b2YgT1RlbEdsb2JhbEFQST4oXG4gIHR5cGU6IFR5cGVcbik6IE9UZWxHbG9iYWxBUElbVHlwZV0gfCB1bmRlZmluZWQge1xuICBjb25zdCBnbG9iYWxWZXJzaW9uID0gX2dsb2JhbFtHTE9CQUxfT1BFTlRFTEVNRVRSWV9BUElfS0VZXT8udmVyc2lvbjtcbiAgaWYgKCFnbG9iYWxWZXJzaW9uIHx8ICFpc0NvbXBhdGlibGUoZ2xvYmFsVmVyc2lvbikpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcmV0dXJuIF9nbG9iYWxbR0xPQkFMX09QRU5URUxFTUVUUllfQVBJX0tFWV0/Llt0eXBlXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVucmVnaXN0ZXJHbG9iYWwodHlwZToga2V5b2YgT1RlbEdsb2JhbEFQSSwgZGlhZzogRGlhZ0xvZ2dlcikge1xuICBkaWFnLmRlYnVnKFxuICAgIGBAb3BlbnRlbGVtZXRyeS9hcGk6IFVucmVnaXN0ZXJpbmcgYSBnbG9iYWwgZm9yICR7dHlwZX0gdiR7VkVSU0lPTn0uYFxuICApO1xuICBjb25zdCBhcGkgPSBfZ2xvYmFsW0dMT0JBTF9PUEVOVEVMRU1FVFJZX0FQSV9LRVldO1xuXG4gIGlmIChhcGkpIHtcbiAgICBkZWxldGUgYXBpW3R5cGVdO1xuICB9XG59XG5cbnR5cGUgT1RlbEdsb2JhbCA9IHtcbiAgW0dMT0JBTF9PUEVOVEVMRU1FVFJZX0FQSV9LRVldPzogT1RlbEdsb2JhbEFQSTtcbn07XG5cbnR5cGUgT1RlbEdsb2JhbEFQSSA9IHtcbiAgdmVyc2lvbjogc3RyaW5nO1xuXG4gIGRpYWc/OiBEaWFnTG9nZ2VyO1xuICB0cmFjZT86IFRyYWNlclByb3ZpZGVyO1xuICBjb250ZXh0PzogQ29udGV4dE1hbmFnZXI7XG4gIG1ldHJpY3M/OiBNZXRlclByb3ZpZGVyO1xuICBwcm9wYWdhdGlvbj86IFRleHRNYXBQcm9wYWdhdG9yO1xufTtcbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBnZXRHbG9iYWwgfSBmcm9tICcuLi9pbnRlcm5hbC9nbG9iYWwtdXRpbHMnO1xuaW1wb3J0IHsgQ29tcG9uZW50TG9nZ2VyT3B0aW9ucywgRGlhZ0xvZ2dlciwgRGlhZ0xvZ0Z1bmN0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5cbi8qKlxuICogQ29tcG9uZW50IExvZ2dlciB3aGljaCBpcyBtZWFudCB0byBiZSB1c2VkIGFzIHBhcnQgb2YgYW55IGNvbXBvbmVudCB3aGljaFxuICogd2lsbCBhZGQgYXV0b21hdGljYWxseSBhZGRpdGlvbmFsIG5hbWVzcGFjZSBpbiBmcm9udCBvZiB0aGUgbG9nIG1lc3NhZ2UuXG4gKiBJdCB3aWxsIHRoZW4gZm9yd2FyZCBhbGwgbWVzc2FnZSB0byBnbG9iYWwgZGlhZyBsb2dnZXJcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBjTG9nZ2VyID0gZGlhZy5jcmVhdGVDb21wb25lbnRMb2dnZXIoeyBuYW1lc3BhY2U6ICdAb3BlbnRlbGVtZXRyeS9pbnN0cnVtZW50YXRpb24taHR0cCcgfSk7XG4gKiBjTG9nZ2VyLmRlYnVnKCd0ZXN0Jyk7XG4gKiAvLyBAb3BlbnRlbGVtZXRyeS9pbnN0cnVtZW50YXRpb24taHR0cCB0ZXN0XG4gKi9cbmV4cG9ydCBjbGFzcyBEaWFnQ29tcG9uZW50TG9nZ2VyIGltcGxlbWVudHMgRGlhZ0xvZ2dlciB7XG4gIHByaXZhdGUgX25hbWVzcGFjZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzOiBDb21wb25lbnRMb2dnZXJPcHRpb25zKSB7XG4gICAgdGhpcy5fbmFtZXNwYWNlID0gcHJvcHMubmFtZXNwYWNlIHx8ICdEaWFnQ29tcG9uZW50TG9nZ2VyJztcbiAgfVxuXG4gIHB1YmxpYyBkZWJ1ZyguLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgIHJldHVybiBsb2dQcm94eSgnZGVidWcnLCB0aGlzLl9uYW1lc3BhY2UsIGFyZ3MpO1xuICB9XG5cbiAgcHVibGljIGVycm9yKC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgcmV0dXJuIGxvZ1Byb3h5KCdlcnJvcicsIHRoaXMuX25hbWVzcGFjZSwgYXJncyk7XG4gIH1cblxuICBwdWJsaWMgaW5mbyguLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgIHJldHVybiBsb2dQcm94eSgnaW5mbycsIHRoaXMuX25hbWVzcGFjZSwgYXJncyk7XG4gIH1cblxuICBwdWJsaWMgd2FybiguLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgIHJldHVybiBsb2dQcm94eSgnd2FybicsIHRoaXMuX25hbWVzcGFjZSwgYXJncyk7XG4gIH1cblxuICBwdWJsaWMgdmVyYm9zZSguLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgIHJldHVybiBsb2dQcm94eSgndmVyYm9zZScsIHRoaXMuX25hbWVzcGFjZSwgYXJncyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbG9nUHJveHkoXG4gIGZ1bmNOYW1lOiBrZXlvZiBEaWFnTG9nZ2VyLFxuICBuYW1lc3BhY2U6IHN0cmluZyxcbiAgYXJnczogYW55XG4pOiB2b2lkIHtcbiAgY29uc3QgbG9nZ2VyID0gZ2V0R2xvYmFsKCdkaWFnJyk7XG4gIC8vIHNob3J0Y3V0IGlmIGxvZ2dlciBub3Qgc2V0XG4gIGlmICghbG9nZ2VyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgYXJncy51bnNoaWZ0KG5hbWVzcGFjZSk7XG4gIHJldHVybiBsb2dnZXJbZnVuY05hbWVdKC4uLihhcmdzIGFzIFBhcmFtZXRlcnM8RGlhZ0xvZ0Z1bmN0aW9uPikpO1xufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCB0eXBlIERpYWdMb2dGdW5jdGlvbiA9IChtZXNzYWdlOiBzdHJpbmcsIC4uLmFyZ3M6IHVua25vd25bXSkgPT4gdm9pZDtcblxuLyoqXG4gKiBEZWZpbmVzIGFuIGludGVybmFsIGRpYWdub3N0aWMgbG9nZ2VyIGludGVyZmFjZSB3aGljaCBpcyB1c2VkIHRvIGxvZyBpbnRlcm5hbCBkaWFnbm9zdGljXG4gKiBtZXNzYWdlcywgeW91IGNhbiBzZXQgdGhlIGRlZmF1bHQgZGlhZ25vc3RpYyBsb2dnZXIgdmlhIHRoZSB7QGxpbmsgRGlhZ0FQSX0gc2V0TG9nZ2VyIGZ1bmN0aW9uLlxuICogQVBJIHByb3ZpZGVkIGltcGxlbWVudGF0aW9ucyBpbmNsdWRlIDotXG4gKiAtIGEgTm8tT3Age0BsaW5rIGNyZWF0ZU5vb3BEaWFnTG9nZ2VyfVxuICogLSBhIHtAbGluayBEaWFnTG9nTGV2ZWx9IGZpbHRlcmluZyB3cmFwcGVyIHtAbGluayBjcmVhdGVMb2dMZXZlbERpYWdMb2dnZXJ9XG4gKiAtIGEgZ2VuZXJhbCBDb25zb2xlIHtAbGluayBEaWFnQ29uc29sZUxvZ2dlcn0gdmVyc2lvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEaWFnTG9nZ2VyIHtcbiAgLyoqIExvZyBhbiBlcnJvciBzY2VuYXJpbyB0aGF0IHdhcyBub3QgZXhwZWN0ZWQgYW5kIGNhdXNlZCB0aGUgcmVxdWVzdGVkIG9wZXJhdGlvbiB0byBmYWlsLiAqL1xuICBlcnJvcjogRGlhZ0xvZ0Z1bmN0aW9uO1xuXG4gIC8qKlxuICAgKiBMb2cgYSB3YXJuaW5nIHNjZW5hcmlvIHRvIGluZm9ybSB0aGUgZGV2ZWxvcGVyIG9mIGFuIGlzc3VlcyB0aGF0IHNob3VsZCBiZSBpbnZlc3RpZ2F0ZWQuXG4gICAqIFRoZSByZXF1ZXN0ZWQgb3BlcmF0aW9uIG1heSBvciBtYXkgbm90IGhhdmUgc3VjY2VlZGVkIG9yIGNvbXBsZXRlZC5cbiAgICovXG4gIHdhcm46IERpYWdMb2dGdW5jdGlvbjtcblxuICAvKipcbiAgICogTG9nIGEgZ2VuZXJhbCBpbmZvcm1hdGlvbmFsIG1lc3NhZ2UsIHRoaXMgc2hvdWxkIG5vdCBhZmZlY3QgZnVuY3Rpb25hbGl0eS5cbiAgICogVGhpcyBpcyBhbHNvIHRoZSBkZWZhdWx0IGxvZ2dpbmcgbGV2ZWwgc28gdGhpcyBzaG91bGQgTk9UIGJlIHVzZWQgZm9yIGxvZ2dpbmdcbiAgICogZGVidWdnaW5nIGxldmVsIGluZm9ybWF0aW9uLlxuICAgKi9cbiAgaW5mbzogRGlhZ0xvZ0Z1bmN0aW9uO1xuXG4gIC8qKlxuICAgKiBMb2cgYSBnZW5lcmFsIGRlYnVnIG1lc3NhZ2UgdGhhdCBjYW4gYmUgdXNlZnVsIGZvciBpZGVudGlmeWluZyBhIGZhaWx1cmUuXG4gICAqIEluZm9ybWF0aW9uIGxvZ2dlZCBhdCB0aGlzIGxldmVsIG1heSBpbmNsdWRlIGRpYWdub3N0aWMgZGV0YWlscyB0aGF0IHdvdWxkXG4gICAqIGhlbHAgaWRlbnRpZnkgYSBmYWlsdXJlIHNjZW5hcmlvLlxuICAgKiBGb3IgZXhhbXBsZTogTG9nZ2luZyB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uIG9mIGFzeW5jIG9wZXJhdGlvbnMuXG4gICAqL1xuICBkZWJ1ZzogRGlhZ0xvZ0Z1bmN0aW9uO1xuXG4gIC8qKlxuICAgKiBMb2cgYSBkZXRhaWxlZCAodmVyYm9zZSkgdHJhY2UgbGV2ZWwgbG9nZ2luZyB0aGF0IGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IGZhaWx1cmVzXG4gICAqIHdoZXJlIGRlYnVnIGxldmVsIGxvZ2dpbmcgd291bGQgYmUgaW5zdWZmaWNpZW50LCB0aGlzIGxldmVsIG9mIHRyYWNpbmcgY2FuIGluY2x1ZGVcbiAgICogaW5wdXQgYW5kIG91dHB1dCBwYXJhbWV0ZXJzIGFuZCBhcyBzdWNoIG1heSBpbmNsdWRlIFBJSSBpbmZvcm1hdGlvbiBwYXNzaW5nIHRocm91Z2hcbiAgICogdGhlIEFQSS4gQXMgc3VjaCBpdCBpcyByZWNvbW1lbmRlZCB0aGF0IHRoaXMgbGV2ZWwgb2YgdHJhY2luZyBzaG91bGQgbm90IGJlIGVuYWJsZWRcbiAgICogaW4gYSBwcm9kdWN0aW9uIGVudmlyb25tZW50LlxuICAgKi9cbiAgdmVyYm9zZTogRGlhZ0xvZ0Z1bmN0aW9uO1xufVxuXG4vKipcbiAqIERlZmluZXMgdGhlIGF2YWlsYWJsZSBpbnRlcm5hbCBsb2dnaW5nIGxldmVscyBmb3IgdGhlIGRpYWdub3N0aWMgbG9nZ2VyLCB0aGUgbnVtZXJpYyB2YWx1ZXNcbiAqIG9mIHRoZSBsZXZlbHMgYXJlIGRlZmluZWQgdG8gbWF0Y2ggdGhlIG9yaWdpbmFsIHZhbHVlcyBmcm9tIHRoZSBpbml0aWFsIExvZ0xldmVsIHRvIGF2b2lkXG4gKiBjb21wYXRpYmlsaXR5L21pZ3JhdGlvbiBpc3N1ZXMgZm9yIGFueSBpbXBsZW1lbnRhdGlvbiB0aGF0IGFzc3VtZSB0aGUgbnVtZXJpYyBvcmRlcmluZy5cbiAqL1xuZXhwb3J0IGVudW0gRGlhZ0xvZ0xldmVsIHtcbiAgLyoqIERpYWdub3N0aWMgTG9nZ2luZyBsZXZlbCBzZXR0aW5nIHRvIGRpc2FibGUgYWxsIGxvZ2dpbmcgKGV4Y2VwdCBhbmQgZm9yY2VkIGxvZ3MpICovXG4gIE5PTkUgPSAwLFxuXG4gIC8qKiBJZGVudGlmaWVzIGFuIGVycm9yIHNjZW5hcmlvICovXG4gIEVSUk9SID0gMzAsXG5cbiAgLyoqIElkZW50aWZpZXMgYSB3YXJuaW5nIHNjZW5hcmlvICovXG4gIFdBUk4gPSA1MCxcblxuICAvKiogR2VuZXJhbCBpbmZvcm1hdGlvbmFsIGxvZyBtZXNzYWdlICovXG4gIElORk8gPSA2MCxcblxuICAvKiogR2VuZXJhbCBkZWJ1ZyBsb2cgbWVzc2FnZSAqL1xuICBERUJVRyA9IDcwLFxuXG4gIC8qKlxuICAgKiBEZXRhaWxlZCB0cmFjZSBsZXZlbCBsb2dnaW5nIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yIGRldmVsb3BtZW50LCBzaG91bGQgb25seSBiZSBzZXRcbiAgICogaW4gYSBkZXZlbG9wbWVudCBlbnZpcm9ubWVudC5cbiAgICovXG4gIFZFUkJPU0UgPSA4MCxcblxuICAvKiogVXNlZCB0byBzZXQgdGhlIGxvZ2dpbmcgbGV2ZWwgdG8gaW5jbHVkZSBhbGwgbG9nZ2luZyAqL1xuICBBTEwgPSA5OTk5LFxufVxuXG4vKipcbiAqIERlZmluZXMgb3B0aW9ucyBmb3IgQ29tcG9uZW50TG9nZ2VyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9uZW50TG9nZ2VyT3B0aW9ucyB7XG4gIG5hbWVzcGFjZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERpYWdMb2dnZXJPcHRpb25zIHtcbiAgLyoqXG4gICAqIFRoZSB7QGxpbmsgRGlhZ0xvZ0xldmVsfSB1c2VkIHRvIGZpbHRlciBsb2dzIHNlbnQgdG8gdGhlIGxvZ2dlci5cbiAgICpcbiAgICogQGRlZmF1bHRWYWx1ZSBEaWFnTG9nTGV2ZWwuSU5GT1xuICAgKi9cbiAgbG9nTGV2ZWw/OiBEaWFnTG9nTGV2ZWw7XG5cbiAgLyoqXG4gICAqIFNldHRpbmcgdGhpcyB2YWx1ZSB0byBgdHJ1ZWAgd2lsbCBzdXBwcmVzcyB0aGUgd2FybmluZyBtZXNzYWdlIG5vcm1hbGx5IGVtaXR0ZWQgd2hlbiByZWdpc3RlcmluZyBhIGxvZ2dlciB3aGVuIGFub3RoZXIgbG9nZ2VyIGlzIGFscmVhZHkgcmVnaXN0ZXJlZC5cbiAgICovXG4gIHN1cHByZXNzT3ZlcnJpZGVNZXNzYWdlPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaWFnTG9nZ2VyQXBpIHtcbiAgLyoqXG4gICAqIFNldCB0aGUgZ2xvYmFsIERpYWdMb2dnZXIgYW5kIERpYWdMb2dMZXZlbC5cbiAgICogSWYgYSBnbG9iYWwgZGlhZyBsb2dnZXIgaXMgYWxyZWFkeSBzZXQsIHRoaXMgd2lsbCBvdmVycmlkZSBpdC5cbiAgICpcbiAgICogQHBhcmFtIGxvZ2dlciAtIFRoZSB7QGxpbmsgRGlhZ0xvZ2dlcn0gaW5zdGFuY2UgdG8gc2V0IGFzIHRoZSBkZWZhdWx0IGxvZ2dlci5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBBIHtAbGluayBEaWFnTG9nZ2VyT3B0aW9uc30gb2JqZWN0LiBJZiBub3QgcHJvdmlkZWQsIGRlZmF1bHQgdmFsdWVzIHdpbGwgYmUgc2V0LlxuICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGxvZ2dlciB3YXMgc3VjY2Vzc2Z1bGx5IHJlZ2lzdGVyZWQsIGVsc2UgYGZhbHNlYFxuICAgKi9cbiAgc2V0TG9nZ2VyKGxvZ2dlcjogRGlhZ0xvZ2dlciwgb3B0aW9ucz86IERpYWdMb2dnZXJPcHRpb25zKTogYm9vbGVhbjtcblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIGxvZ2dlciAtIFRoZSB7QGxpbmsgRGlhZ0xvZ2dlcn0gaW5zdGFuY2UgdG8gc2V0IGFzIHRoZSBkZWZhdWx0IGxvZ2dlci5cbiAgICogQHBhcmFtIGxvZ0xldmVsIC0gVGhlIHtAbGluayBEaWFnTG9nTGV2ZWx9IHVzZWQgdG8gZmlsdGVyIGxvZ3Mgc2VudCB0byB0aGUgbG9nZ2VyLiBJZiBub3QgcHJvdmlkZWQgaXQgd2lsbCBkZWZhdWx0IHRvIHtAbGluayBEaWFnTG9nTGV2ZWwuSU5GT30uXG4gICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbG9nZ2VyIHdhcyBzdWNjZXNzZnVsbHkgcmVnaXN0ZXJlZCwgZWxzZSBgZmFsc2VgXG4gICAqL1xuICBzZXRMb2dnZXIobG9nZ2VyOiBEaWFnTG9nZ2VyLCBsb2dMZXZlbD86IERpYWdMb2dMZXZlbCk6IGJvb2xlYW47XG59XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRGlhZ0xvZ0Z1bmN0aW9uLCBEaWFnTG9nZ2VyLCBEaWFnTG9nTGV2ZWwgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMb2dMZXZlbERpYWdMb2dnZXIoXG4gIG1heExldmVsOiBEaWFnTG9nTGV2ZWwsXG4gIGxvZ2dlcjogRGlhZ0xvZ2dlclxuKTogRGlhZ0xvZ2dlciB7XG4gIGlmIChtYXhMZXZlbCA8IERpYWdMb2dMZXZlbC5OT05FKSB7XG4gICAgbWF4TGV2ZWwgPSBEaWFnTG9nTGV2ZWwuTk9ORTtcbiAgfSBlbHNlIGlmIChtYXhMZXZlbCA+IERpYWdMb2dMZXZlbC5BTEwpIHtcbiAgICBtYXhMZXZlbCA9IERpYWdMb2dMZXZlbC5BTEw7XG4gIH1cblxuICAvLyBJbiBjYXNlIHRoZSBsb2dnZXIgaXMgbnVsbCBvciB1bmRlZmluZWRcbiAgbG9nZ2VyID0gbG9nZ2VyIHx8IHt9O1xuXG4gIGZ1bmN0aW9uIF9maWx0ZXJGdW5jKFxuICAgIGZ1bmNOYW1lOiBrZXlvZiBEaWFnTG9nZ2VyLFxuICAgIHRoZUxldmVsOiBEaWFnTG9nTGV2ZWxcbiAgKTogRGlhZ0xvZ0Z1bmN0aW9uIHtcbiAgICBjb25zdCB0aGVGdW5jID0gbG9nZ2VyW2Z1bmNOYW1lXTtcblxuICAgIGlmICh0eXBlb2YgdGhlRnVuYyA9PT0gJ2Z1bmN0aW9uJyAmJiBtYXhMZXZlbCA+PSB0aGVMZXZlbCkge1xuICAgICAgcmV0dXJuIHRoZUZ1bmMuYmluZChsb2dnZXIpO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge307XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGVycm9yOiBfZmlsdGVyRnVuYygnZXJyb3InLCBEaWFnTG9nTGV2ZWwuRVJST1IpLFxuICAgIHdhcm46IF9maWx0ZXJGdW5jKCd3YXJuJywgRGlhZ0xvZ0xldmVsLldBUk4pLFxuICAgIGluZm86IF9maWx0ZXJGdW5jKCdpbmZvJywgRGlhZ0xvZ0xldmVsLklORk8pLFxuICAgIGRlYnVnOiBfZmlsdGVyRnVuYygnZGVidWcnLCBEaWFnTG9nTGV2ZWwuREVCVUcpLFxuICAgIHZlcmJvc2U6IF9maWx0ZXJGdW5jKCd2ZXJib3NlJywgRGlhZ0xvZ0xldmVsLlZFUkJPU0UpLFxuICB9O1xufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IERpYWdDb21wb25lbnRMb2dnZXIgfSBmcm9tICcuLi9kaWFnL0NvbXBvbmVudExvZ2dlcic7XG5pbXBvcnQgeyBjcmVhdGVMb2dMZXZlbERpYWdMb2dnZXIgfSBmcm9tICcuLi9kaWFnL2ludGVybmFsL2xvZ0xldmVsTG9nZ2VyJztcbmltcG9ydCB7XG4gIENvbXBvbmVudExvZ2dlck9wdGlvbnMsXG4gIERpYWdMb2dGdW5jdGlvbixcbiAgRGlhZ0xvZ2dlcixcbiAgRGlhZ0xvZ2dlckFwaSxcbiAgRGlhZ0xvZ0xldmVsLFxufSBmcm9tICcuLi9kaWFnL3R5cGVzJztcbmltcG9ydCB7XG4gIGdldEdsb2JhbCxcbiAgcmVnaXN0ZXJHbG9iYWwsXG4gIHVucmVnaXN0ZXJHbG9iYWwsXG59IGZyb20gJy4uL2ludGVybmFsL2dsb2JhbC11dGlscyc7XG5cbmNvbnN0IEFQSV9OQU1FID0gJ2RpYWcnO1xuXG4vKipcbiAqIFNpbmdsZXRvbiBvYmplY3Qgd2hpY2ggcmVwcmVzZW50cyB0aGUgZW50cnkgcG9pbnQgdG8gdGhlIE9wZW5UZWxlbWV0cnkgaW50ZXJuYWxcbiAqIGRpYWdub3N0aWMgQVBJXG4gKi9cbmV4cG9ydCBjbGFzcyBEaWFnQVBJIGltcGxlbWVudHMgRGlhZ0xvZ2dlciwgRGlhZ0xvZ2dlckFwaSB7XG4gIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZT86IERpYWdBUEk7XG5cbiAgLyoqIEdldCB0aGUgc2luZ2xldG9uIGluc3RhbmNlIG9mIHRoZSBEaWFnQVBJIEFQSSAqL1xuICBwdWJsaWMgc3RhdGljIGluc3RhbmNlKCk6IERpYWdBUEkge1xuICAgIGlmICghdGhpcy5faW5zdGFuY2UpIHtcbiAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IERpYWdBUEkoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XG4gIH1cblxuICAvKipcbiAgICogUHJpdmF0ZSBpbnRlcm5hbCBjb25zdHJ1Y3RvclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICBmdW5jdGlvbiBfbG9nUHJveHkoZnVuY05hbWU6IGtleW9mIERpYWdMb2dnZXIpOiBEaWFnTG9nRnVuY3Rpb24ge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IGdldEdsb2JhbCgnZGlhZycpO1xuICAgICAgICAvLyBzaG9ydGN1dCBpZiBsb2dnZXIgbm90IHNldFxuICAgICAgICBpZiAoIWxvZ2dlcikgcmV0dXJuO1xuICAgICAgICByZXR1cm4gbG9nZ2VyW2Z1bmNOYW1lXSguLi5hcmdzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gVXNpbmcgc2VsZiBsb2NhbCB2YXJpYWJsZSBmb3IgbWluaWZpY2F0aW9uIHB1cnBvc2VzIGFzICd0aGlzJyBjYW5ub3QgYmUgbWluaWZpZWRcbiAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgIC8vIERpYWdBUEkgc3BlY2lmaWMgZnVuY3Rpb25zXG5cbiAgICBjb25zdCBzZXRMb2dnZXI6IERpYWdMb2dnZXJBcGlbJ3NldExvZ2dlciddID0gKFxuICAgICAgbG9nZ2VyLFxuICAgICAgb3B0aW9uc09yTG9nTGV2ZWwgPSB7IGxvZ0xldmVsOiBEaWFnTG9nTGV2ZWwuSU5GTyB9XG4gICAgKSA9PiB7XG4gICAgICBpZiAobG9nZ2VyID09PSBzZWxmKSB7XG4gICAgICAgIC8vIFRoZXJlIGlzbid0IG11Y2ggd2UgY2FuIGRvIGhlcmUuXG4gICAgICAgIC8vIExvZ2dpbmcgdG8gdGhlIGNvbnNvbGUgbWlnaHQgYnJlYWsgdGhlIHVzZXIgYXBwbGljYXRpb24uXG4gICAgICAgIC8vIFRyeSB0byBsb2cgdG8gc2VsZi4gSWYgYSBsb2dnZXIgd2FzIHByZXZpb3VzbHkgcmVnaXN0ZXJlZCBpdCB3aWxsIHJlY2VpdmUgdGhlIGxvZy5cbiAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFxuICAgICAgICAgICdDYW5ub3QgdXNlIGRpYWcgYXMgdGhlIGxvZ2dlciBmb3IgaXRzZWxmLiBQbGVhc2UgdXNlIGEgRGlhZ0xvZ2dlciBpbXBsZW1lbnRhdGlvbiBsaWtlIENvbnNvbGVEaWFnTG9nZ2VyIG9yIGEgY3VzdG9tIGltcGxlbWVudGF0aW9uJ1xuICAgICAgICApO1xuICAgICAgICBzZWxmLmVycm9yKGVyci5zdGFjayA/PyBlcnIubWVzc2FnZSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zT3JMb2dMZXZlbCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgb3B0aW9uc09yTG9nTGV2ZWwgPSB7XG4gICAgICAgICAgbG9nTGV2ZWw6IG9wdGlvbnNPckxvZ0xldmVsLFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBvbGRMb2dnZXIgPSBnZXRHbG9iYWwoJ2RpYWcnKTtcbiAgICAgIGNvbnN0IG5ld0xvZ2dlciA9IGNyZWF0ZUxvZ0xldmVsRGlhZ0xvZ2dlcihcbiAgICAgICAgb3B0aW9uc09yTG9nTGV2ZWwubG9nTGV2ZWwgPz8gRGlhZ0xvZ0xldmVsLklORk8sXG4gICAgICAgIGxvZ2dlclxuICAgICAgKTtcbiAgICAgIC8vIFRoZXJlIGFscmVhZHkgaXMgYW4gbG9nZ2VyIHJlZ2lzdGVyZWQuIFdlJ2xsIGxldCBpdCBrbm93IGJlZm9yZSBvdmVyd3JpdGluZyBpdC5cbiAgICAgIGlmIChvbGRMb2dnZXIgJiYgIW9wdGlvbnNPckxvZ0xldmVsLnN1cHByZXNzT3ZlcnJpZGVNZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2sgPz8gJzxmYWlsZWQgdG8gZ2VuZXJhdGUgc3RhY2t0cmFjZT4nO1xuICAgICAgICBvbGRMb2dnZXIud2FybihgQ3VycmVudCBsb2dnZXIgd2lsbCBiZSBvdmVyd3JpdHRlbiBmcm9tICR7c3RhY2t9YCk7XG4gICAgICAgIG5ld0xvZ2dlci53YXJuKFxuICAgICAgICAgIGBDdXJyZW50IGxvZ2dlciB3aWxsIG92ZXJ3cml0ZSBvbmUgYWxyZWFkeSByZWdpc3RlcmVkIGZyb20gJHtzdGFja31gXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZWdpc3Rlckdsb2JhbCgnZGlhZycsIG5ld0xvZ2dlciwgc2VsZiwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIHNlbGYuc2V0TG9nZ2VyID0gc2V0TG9nZ2VyO1xuXG4gICAgc2VsZi5kaXNhYmxlID0gKCkgPT4ge1xuICAgICAgdW5yZWdpc3Rlckdsb2JhbChBUElfTkFNRSwgc2VsZik7XG4gICAgfTtcblxuICAgIHNlbGYuY3JlYXRlQ29tcG9uZW50TG9nZ2VyID0gKG9wdGlvbnM6IENvbXBvbmVudExvZ2dlck9wdGlvbnMpID0+IHtcbiAgICAgIHJldHVybiBuZXcgRGlhZ0NvbXBvbmVudExvZ2dlcihvcHRpb25zKTtcbiAgICB9O1xuXG4gICAgc2VsZi52ZXJib3NlID0gX2xvZ1Byb3h5KCd2ZXJib3NlJyk7XG4gICAgc2VsZi5kZWJ1ZyA9IF9sb2dQcm94eSgnZGVidWcnKTtcbiAgICBzZWxmLmluZm8gPSBfbG9nUHJveHkoJ2luZm8nKTtcbiAgICBzZWxmLndhcm4gPSBfbG9nUHJveHkoJ3dhcm4nKTtcbiAgICBzZWxmLmVycm9yID0gX2xvZ1Byb3h5KCdlcnJvcicpO1xuICB9XG5cbiAgcHVibGljIHNldExvZ2dlciE6IERpYWdMb2dnZXJBcGlbJ3NldExvZ2dlciddO1xuICAvKipcbiAgICpcbiAgICovXG4gIHB1YmxpYyBjcmVhdGVDb21wb25lbnRMb2dnZXIhOiAoXG4gICAgb3B0aW9uczogQ29tcG9uZW50TG9nZ2VyT3B0aW9uc1xuICApID0+IERpYWdMb2dnZXI7XG5cbiAgLy8gRGlhZ0xvZ2dlciBpbXBsZW1lbnRhdGlvblxuICBwdWJsaWMgdmVyYm9zZSE6IERpYWdMb2dGdW5jdGlvbjtcbiAgcHVibGljIGRlYnVnITogRGlhZ0xvZ0Z1bmN0aW9uO1xuICBwdWJsaWMgaW5mbyE6IERpYWdMb2dGdW5jdGlvbjtcbiAgcHVibGljIHdhcm4hOiBEaWFnTG9nRnVuY3Rpb247XG4gIHB1YmxpYyBlcnJvciE6IERpYWdMb2dGdW5jdGlvbjtcblxuICAvKipcbiAgICogVW5yZWdpc3RlciB0aGUgZ2xvYmFsIGxvZ2dlciBhbmQgcmV0dXJuIHRvIE5vb3BcbiAgICovXG4gIHB1YmxpYyBkaXNhYmxlITogKCkgPT4gdm9pZDtcbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb250ZXh0IH0gZnJvbSAnLi90eXBlcyc7XG5cbi8qKiBHZXQgYSBrZXkgdG8gdW5pcXVlbHkgaWRlbnRpZnkgYSBjb250ZXh0IHZhbHVlICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29udGV4dEtleShkZXNjcmlwdGlvbjogc3RyaW5nKSB7XG4gIC8vIFRoZSBzcGVjaWZpY2F0aW9uIHN0YXRlcyB0aGF0IGZvciB0aGUgc2FtZSBpbnB1dCwgbXVsdGlwbGUgY2FsbHMgc2hvdWxkXG4gIC8vIHJldHVybiBkaWZmZXJlbnQga2V5cy4gRHVlIHRvIHRoZSBuYXR1cmUgb2YgdGhlIEpTIGRlcGVuZGVuY3kgbWFuYWdlbWVudFxuICAvLyBzeXN0ZW0sIHRoaXMgY3JlYXRlcyBwcm9ibGVtcyB3aGVyZSBtdWx0aXBsZSB2ZXJzaW9ucyBvZiBzb21lIHBhY2thZ2VcbiAgLy8gY291bGQgaG9sZCBkaWZmZXJlbnQga2V5cyBmb3IgdGhlIHNhbWUgcHJvcGVydHkuXG4gIC8vXG4gIC8vIFRoZXJlZm9yZSwgd2UgdXNlIFN5bWJvbC5mb3Igd2hpY2ggcmV0dXJucyB0aGUgc2FtZSBrZXkgZm9yIHRoZSBzYW1lIGlucHV0LlxuICByZXR1cm4gU3ltYm9sLmZvcihkZXNjcmlwdGlvbik7XG59XG5cbmNsYXNzIEJhc2VDb250ZXh0IGltcGxlbWVudHMgQ29udGV4dCB7XG4gIHByaXZhdGUgX2N1cnJlbnRDb250ZXh0ITogTWFwPHN5bWJvbCwgdW5rbm93bj47XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIG5ldyBjb250ZXh0IHdoaWNoIGluaGVyaXRzIHZhbHVlcyBmcm9tIGFuIG9wdGlvbmFsIHBhcmVudCBjb250ZXh0LlxuICAgKlxuICAgKiBAcGFyYW0gcGFyZW50Q29udGV4dCBhIGNvbnRleHQgZnJvbSB3aGljaCB0byBpbmhlcml0IHZhbHVlc1xuICAgKi9cbiAgY29uc3RydWN0b3IocGFyZW50Q29udGV4dD86IE1hcDxzeW1ib2wsIHVua25vd24+KSB7XG4gICAgLy8gZm9yIG1pbmlmaWNhdGlvblxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgc2VsZi5fY3VycmVudENvbnRleHQgPSBwYXJlbnRDb250ZXh0ID8gbmV3IE1hcChwYXJlbnRDb250ZXh0KSA6IG5ldyBNYXAoKTtcblxuICAgIHNlbGYuZ2V0VmFsdWUgPSAoa2V5OiBzeW1ib2wpID0+IHNlbGYuX2N1cnJlbnRDb250ZXh0LmdldChrZXkpO1xuXG4gICAgc2VsZi5zZXRWYWx1ZSA9IChrZXk6IHN5bWJvbCwgdmFsdWU6IHVua25vd24pOiBDb250ZXh0ID0+IHtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSBuZXcgQmFzZUNvbnRleHQoc2VsZi5fY3VycmVudENvbnRleHQpO1xuICAgICAgY29udGV4dC5fY3VycmVudENvbnRleHQuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfTtcblxuICAgIHNlbGYuZGVsZXRlVmFsdWUgPSAoa2V5OiBzeW1ib2wpOiBDb250ZXh0ID0+IHtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSBuZXcgQmFzZUNvbnRleHQoc2VsZi5fY3VycmVudENvbnRleHQpO1xuICAgICAgY29udGV4dC5fY3VycmVudENvbnRleHQuZGVsZXRlKGtleSk7XG4gICAgICByZXR1cm4gY29udGV4dDtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHZhbHVlIGZyb20gdGhlIGNvbnRleHQuXG4gICAqXG4gICAqIEBwYXJhbSBrZXkga2V5IHdoaWNoIGlkZW50aWZpZXMgYSBjb250ZXh0IHZhbHVlXG4gICAqL1xuICBwdWJsaWMgZ2V0VmFsdWUhOiAoa2V5OiBzeW1ib2wpID0+IHVua25vd247XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBjb250ZXh0IHdoaWNoIGluaGVyaXRzIGZyb20gdGhpcyBjb250ZXh0IGFuZCBoYXNcbiAgICogdGhlIGdpdmVuIGtleSBzZXQgdG8gdGhlIGdpdmVuIHZhbHVlLlxuICAgKlxuICAgKiBAcGFyYW0ga2V5IGNvbnRleHQga2V5IGZvciB3aGljaCB0byBzZXQgdGhlIHZhbHVlXG4gICAqIEBwYXJhbSB2YWx1ZSB2YWx1ZSB0byBzZXQgZm9yIHRoZSBnaXZlbiBrZXlcbiAgICovXG4gIHB1YmxpYyBzZXRWYWx1ZSE6IChrZXk6IHN5bWJvbCwgdmFsdWU6IHVua25vd24pID0+IENvbnRleHQ7XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIG5ldyBjb250ZXh0IHdoaWNoIGluaGVyaXRzIGZyb20gdGhpcyBjb250ZXh0IGJ1dCBkb2VzXG4gICAqIG5vdCBjb250YWluIGEgdmFsdWUgZm9yIHRoZSBnaXZlbiBrZXkuXG4gICAqXG4gICAqIEBwYXJhbSBrZXkgY29udGV4dCBrZXkgZm9yIHdoaWNoIHRvIGNsZWFyIGEgdmFsdWVcbiAgICovXG4gIHB1YmxpYyBkZWxldGVWYWx1ZSE6IChrZXk6IHN5bWJvbCkgPT4gQ29udGV4dDtcbn1cblxuLyoqIFRoZSByb290IGNvbnRleHQgaXMgdXNlZCBhcyB0aGUgZGVmYXVsdCBwYXJlbnQgY29udGV4dCB3aGVuIHRoZXJlIGlzIG5vIGFjdGl2ZSBjb250ZXh0ICovXG5leHBvcnQgY29uc3QgUk9PVF9DT05URVhUOiBDb250ZXh0ID0gbmV3IEJhc2VDb250ZXh0KCk7XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgUk9PVF9DT05URVhUIH0gZnJvbSAnLi9jb250ZXh0JztcbmltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgTm9vcENvbnRleHRNYW5hZ2VyIGltcGxlbWVudHMgdHlwZXMuQ29udGV4dE1hbmFnZXIge1xuICBhY3RpdmUoKTogdHlwZXMuQ29udGV4dCB7XG4gICAgcmV0dXJuIFJPT1RfQ09OVEVYVDtcbiAgfVxuXG4gIHdpdGg8QSBleHRlbmRzIHVua25vd25bXSwgRiBleHRlbmRzICguLi5hcmdzOiBBKSA9PiBSZXR1cm5UeXBlPEY+PihcbiAgICBfY29udGV4dDogdHlwZXMuQ29udGV4dCxcbiAgICBmbjogRixcbiAgICB0aGlzQXJnPzogVGhpc1BhcmFtZXRlclR5cGU8Rj4sXG4gICAgLi4uYXJnczogQVxuICApOiBSZXR1cm5UeXBlPEY+IHtcbiAgICByZXR1cm4gZm4uY2FsbCh0aGlzQXJnLCAuLi5hcmdzKTtcbiAgfVxuXG4gIGJpbmQ8VD4oX2NvbnRleHQ6IHR5cGVzLkNvbnRleHQsIHRhcmdldDogVCk6IFQge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBlbmFibGUoKTogdGhpcyB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBkaXNhYmxlKCk6IHRoaXMge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgTm9vcENvbnRleHRNYW5hZ2VyIH0gZnJvbSAnLi4vY29udGV4dC9Ob29wQ29udGV4dE1hbmFnZXInO1xuaW1wb3J0IHsgQ29udGV4dCwgQ29udGV4dE1hbmFnZXIgfSBmcm9tICcuLi9jb250ZXh0L3R5cGVzJztcbmltcG9ydCB7XG4gIGdldEdsb2JhbCxcbiAgcmVnaXN0ZXJHbG9iYWwsXG4gIHVucmVnaXN0ZXJHbG9iYWwsXG59IGZyb20gJy4uL2ludGVybmFsL2dsb2JhbC11dGlscyc7XG5pbXBvcnQgeyBEaWFnQVBJIH0gZnJvbSAnLi9kaWFnJztcblxuY29uc3QgQVBJX05BTUUgPSAnY29udGV4dCc7XG5jb25zdCBOT09QX0NPTlRFWFRfTUFOQUdFUiA9IG5ldyBOb29wQ29udGV4dE1hbmFnZXIoKTtcblxuLyoqXG4gKiBTaW5nbGV0b24gb2JqZWN0IHdoaWNoIHJlcHJlc2VudHMgdGhlIGVudHJ5IHBvaW50IHRvIHRoZSBPcGVuVGVsZW1ldHJ5IENvbnRleHQgQVBJXG4gKi9cbmV4cG9ydCBjbGFzcyBDb250ZXh0QVBJIHtcbiAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlPzogQ29udGV4dEFQSTtcblxuICAvKiogRW1wdHkgcHJpdmF0ZSBjb25zdHJ1Y3RvciBwcmV2ZW50cyBlbmQgdXNlcnMgZnJvbSBjb25zdHJ1Y3RpbmcgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIEFQSSAqL1xuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge31cblxuICAvKiogR2V0IHRoZSBzaW5nbGV0b24gaW5zdGFuY2Ugb2YgdGhlIENvbnRleHQgQVBJICovXG4gIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogQ29udGV4dEFQSSB7XG4gICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgQ29udGV4dEFQSSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGN1cnJlbnQgY29udGV4dCBtYW5hZ2VyLlxuICAgKlxuICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBjb250ZXh0IG1hbmFnZXIgd2FzIHN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkLCBlbHNlIGZhbHNlXG4gICAqL1xuICBwdWJsaWMgc2V0R2xvYmFsQ29udGV4dE1hbmFnZXIoY29udGV4dE1hbmFnZXI6IENvbnRleHRNYW5hZ2VyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHJlZ2lzdGVyR2xvYmFsKEFQSV9OQU1FLCBjb250ZXh0TWFuYWdlciwgRGlhZ0FQSS5pbnN0YW5jZSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnRseSBhY3RpdmUgY29udGV4dFxuICAgKi9cbiAgcHVibGljIGFjdGl2ZSgpOiBDb250ZXh0IHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0Q29udGV4dE1hbmFnZXIoKS5hY3RpdmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgZnVuY3Rpb24gd2l0aCBhbiBhY3RpdmUgY29udGV4dFxuICAgKlxuICAgKiBAcGFyYW0gY29udGV4dCBjb250ZXh0IHRvIGJlIGFjdGl2ZSBkdXJpbmcgZnVuY3Rpb24gZXhlY3V0aW9uXG4gICAqIEBwYXJhbSBmbiBmdW5jdGlvbiB0byBleGVjdXRlIGluIGEgY29udGV4dFxuICAgKiBAcGFyYW0gdGhpc0FyZyBvcHRpb25hbCByZWNlaXZlciB0byBiZSB1c2VkIGZvciBjYWxsaW5nIGZuXG4gICAqIEBwYXJhbSBhcmdzIG9wdGlvbmFsIGFyZ3VtZW50cyBmb3J3YXJkZWQgdG8gZm5cbiAgICovXG4gIHB1YmxpYyB3aXRoPEEgZXh0ZW5kcyB1bmtub3duW10sIEYgZXh0ZW5kcyAoLi4uYXJnczogQSkgPT4gUmV0dXJuVHlwZTxGPj4oXG4gICAgY29udGV4dDogQ29udGV4dCxcbiAgICBmbjogRixcbiAgICB0aGlzQXJnPzogVGhpc1BhcmFtZXRlclR5cGU8Rj4sXG4gICAgLi4uYXJnczogQVxuICApOiBSZXR1cm5UeXBlPEY+IHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0Q29udGV4dE1hbmFnZXIoKS53aXRoKGNvbnRleHQsIGZuLCB0aGlzQXJnLCAuLi5hcmdzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCaW5kIGEgY29udGV4dCB0byBhIHRhcmdldCBmdW5jdGlvbiBvciBldmVudCBlbWl0dGVyXG4gICAqXG4gICAqIEBwYXJhbSBjb250ZXh0IGNvbnRleHQgdG8gYmluZCB0byB0aGUgZXZlbnQgZW1pdHRlciBvciBmdW5jdGlvbi4gRGVmYXVsdHMgdG8gdGhlIGN1cnJlbnRseSBhY3RpdmUgY29udGV4dFxuICAgKiBAcGFyYW0gdGFyZ2V0IGZ1bmN0aW9uIG9yIGV2ZW50IGVtaXR0ZXIgdG8gYmluZFxuICAgKi9cbiAgcHVibGljIGJpbmQ8VD4oY29udGV4dDogQ29udGV4dCwgdGFyZ2V0OiBUKTogVCB7XG4gICAgcmV0dXJuIHRoaXMuX2dldENvbnRleHRNYW5hZ2VyKCkuYmluZChjb250ZXh0LCB0YXJnZXQpO1xuICB9XG5cbiAgcHJpdmF0ZSBfZ2V0Q29udGV4dE1hbmFnZXIoKTogQ29udGV4dE1hbmFnZXIge1xuICAgIHJldHVybiBnZXRHbG9iYWwoQVBJX05BTUUpIHx8IE5PT1BfQ09OVEVYVF9NQU5BR0VSO1xuICB9XG5cbiAgLyoqIERpc2FibGUgYW5kIHJlbW92ZSB0aGUgZ2xvYmFsIGNvbnRleHQgbWFuYWdlciAqL1xuICBwdWJsaWMgZGlzYWJsZSgpIHtcbiAgICB0aGlzLl9nZXRDb250ZXh0TWFuYWdlcigpLmRpc2FibGUoKTtcbiAgICB1bnJlZ2lzdGVyR2xvYmFsKEFQSV9OQU1FLCBEaWFnQVBJLmluc3RhbmNlKCkpO1xuICB9XG59XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmV4cG9ydCBlbnVtIFRyYWNlRmxhZ3Mge1xuICAvKiogUmVwcmVzZW50cyBubyBmbGFnIHNldC4gKi9cbiAgTk9ORSA9IDB4MCxcbiAgLyoqIEJpdCB0byByZXByZXNlbnQgd2hldGhlciB0cmFjZSBpcyBzYW1wbGVkIGluIHRyYWNlIGZsYWdzLiAqL1xuICBTQU1QTEVEID0gMHgxIDw8IDAsXG59XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgU3BhbkNvbnRleHQgfSBmcm9tICcuL3NwYW5fY29udGV4dCc7XG5pbXBvcnQgeyBUcmFjZUZsYWdzIH0gZnJvbSAnLi90cmFjZV9mbGFncyc7XG5cbmV4cG9ydCBjb25zdCBJTlZBTElEX1NQQU5JRCA9ICcwMDAwMDAwMDAwMDAwMDAwJztcbmV4cG9ydCBjb25zdCBJTlZBTElEX1RSQUNFSUQgPSAnMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnO1xuZXhwb3J0IGNvbnN0IElOVkFMSURfU1BBTl9DT05URVhUOiBTcGFuQ29udGV4dCA9IHtcbiAgdHJhY2VJZDogSU5WQUxJRF9UUkFDRUlELFxuICBzcGFuSWQ6IElOVkFMSURfU1BBTklELFxuICB0cmFjZUZsYWdzOiBUcmFjZUZsYWdzLk5PTkUsXG59O1xuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEV4Y2VwdGlvbiB9IGZyb20gJy4uL2NvbW1vbi9FeGNlcHRpb24nO1xuaW1wb3J0IHsgVGltZUlucHV0IH0gZnJvbSAnLi4vY29tbW9uL1RpbWUnO1xuaW1wb3J0IHsgU3BhbkF0dHJpYnV0ZXMgfSBmcm9tICcuL2F0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgSU5WQUxJRF9TUEFOX0NPTlRFWFQgfSBmcm9tICcuL2ludmFsaWQtc3Bhbi1jb25zdGFudHMnO1xuaW1wb3J0IHsgU3BhbiB9IGZyb20gJy4vc3Bhbic7XG5pbXBvcnQgeyBTcGFuQ29udGV4dCB9IGZyb20gJy4vc3Bhbl9jb250ZXh0JztcbmltcG9ydCB7IFNwYW5TdGF0dXMgfSBmcm9tICcuL3N0YXR1cyc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAnLi9saW5rJztcblxuLyoqXG4gKiBUaGUgTm9uUmVjb3JkaW5nU3BhbiBpcyB0aGUgZGVmYXVsdCB7QGxpbmsgU3Bhbn0gdGhhdCBpcyB1c2VkIHdoZW4gbm8gU3BhblxuICogaW1wbGVtZW50YXRpb24gaXMgYXZhaWxhYmxlLiBBbGwgb3BlcmF0aW9ucyBhcmUgbm8tb3AgaW5jbHVkaW5nIGNvbnRleHRcbiAqIHByb3BhZ2F0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgTm9uUmVjb3JkaW5nU3BhbiBpbXBsZW1lbnRzIFNwYW4ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9zcGFuQ29udGV4dDogU3BhbkNvbnRleHQgPSBJTlZBTElEX1NQQU5fQ09OVEVYVFxuICApIHt9XG5cbiAgLy8gUmV0dXJucyBhIFNwYW5Db250ZXh0LlxuICBzcGFuQ29udGV4dCgpOiBTcGFuQ29udGV4dCB7XG4gICAgcmV0dXJuIHRoaXMuX3NwYW5Db250ZXh0O1xuICB9XG5cbiAgLy8gQnkgZGVmYXVsdCBkb2VzIG5vdGhpbmdcbiAgc2V0QXR0cmlidXRlKF9rZXk6IHN0cmluZywgX3ZhbHVlOiB1bmtub3duKTogdGhpcyB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBCeSBkZWZhdWx0IGRvZXMgbm90aGluZ1xuICBzZXRBdHRyaWJ1dGVzKF9hdHRyaWJ1dGVzOiBTcGFuQXR0cmlidXRlcyk6IHRoaXMge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gQnkgZGVmYXVsdCBkb2VzIG5vdGhpbmdcbiAgYWRkRXZlbnQoX25hbWU6IHN0cmluZywgX2F0dHJpYnV0ZXM/OiBTcGFuQXR0cmlidXRlcyk6IHRoaXMge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgYWRkTGluayhfbGluazogTGluayk6IHRoaXMge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgYWRkTGlua3MoX2xpbmtzOiBMaW5rW10pOiB0aGlzIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIEJ5IGRlZmF1bHQgZG9lcyBub3RoaW5nXG4gIHNldFN0YXR1cyhfc3RhdHVzOiBTcGFuU3RhdHVzKTogdGhpcyB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBCeSBkZWZhdWx0IGRvZXMgbm90aGluZ1xuICB1cGRhdGVOYW1lKF9uYW1lOiBzdHJpbmcpOiB0aGlzIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIEJ5IGRlZmF1bHQgZG9lcyBub3RoaW5nXG4gIGVuZChfZW5kVGltZT86IFRpbWVJbnB1dCk6IHZvaWQge31cblxuICAvLyBpc1JlY29yZGluZyBhbHdheXMgcmV0dXJucyBmYWxzZSBmb3IgTm9uUmVjb3JkaW5nU3Bhbi5cbiAgaXNSZWNvcmRpbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gQnkgZGVmYXVsdCBkb2VzIG5vdGhpbmdcbiAgcmVjb3JkRXhjZXB0aW9uKF9leGNlcHRpb246IEV4Y2VwdGlvbiwgX3RpbWU/OiBUaW1lSW5wdXQpOiB2b2lkIHt9XG59XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgY3JlYXRlQ29udGV4dEtleSB9IGZyb20gJy4uL2NvbnRleHQvY29udGV4dCc7XG5pbXBvcnQgeyBDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC90eXBlcyc7XG5pbXBvcnQgeyBTcGFuIH0gZnJvbSAnLi9zcGFuJztcbmltcG9ydCB7IFNwYW5Db250ZXh0IH0gZnJvbSAnLi9zcGFuX2NvbnRleHQnO1xuaW1wb3J0IHsgTm9uUmVjb3JkaW5nU3BhbiB9IGZyb20gJy4vTm9uUmVjb3JkaW5nU3Bhbic7XG5pbXBvcnQgeyBDb250ZXh0QVBJIH0gZnJvbSAnLi4vYXBpL2NvbnRleHQnO1xuXG4vKipcbiAqIHNwYW4ga2V5XG4gKi9cbmNvbnN0IFNQQU5fS0VZID0gY3JlYXRlQ29udGV4dEtleSgnT3BlblRlbGVtZXRyeSBDb250ZXh0IEtleSBTUEFOJyk7XG5cbi8qKlxuICogUmV0dXJuIHRoZSBzcGFuIGlmIG9uZSBleGlzdHNcbiAqXG4gKiBAcGFyYW0gY29udGV4dCBjb250ZXh0IHRvIGdldCBzcGFuIGZyb21cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNwYW4oY29udGV4dDogQ29udGV4dCk6IFNwYW4gfCB1bmRlZmluZWQge1xuICByZXR1cm4gKGNvbnRleHQuZ2V0VmFsdWUoU1BBTl9LRVkpIGFzIFNwYW4pIHx8IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBzcGFuIGZyb20gdGhlIGN1cnJlbnQgY29udGV4dCwgaWYgb25lIGV4aXN0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFjdGl2ZVNwYW4oKTogU3BhbiB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiBnZXRTcGFuKENvbnRleHRBUEkuZ2V0SW5zdGFuY2UoKS5hY3RpdmUoKSk7XG59XG5cbi8qKlxuICogU2V0IHRoZSBzcGFuIG9uIGEgY29udGV4dFxuICpcbiAqIEBwYXJhbSBjb250ZXh0IGNvbnRleHQgdG8gdXNlIGFzIHBhcmVudFxuICogQHBhcmFtIHNwYW4gc3BhbiB0byBzZXQgYWN0aXZlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTcGFuKGNvbnRleHQ6IENvbnRleHQsIHNwYW46IFNwYW4pOiBDb250ZXh0IHtcbiAgcmV0dXJuIGNvbnRleHQuc2V0VmFsdWUoU1BBTl9LRVksIHNwYW4pO1xufVxuXG4vKipcbiAqIFJlbW92ZSBjdXJyZW50IHNwYW4gc3RvcmVkIGluIHRoZSBjb250ZXh0XG4gKlxuICogQHBhcmFtIGNvbnRleHQgY29udGV4dCB0byBkZWxldGUgc3BhbiBmcm9tXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVTcGFuKGNvbnRleHQ6IENvbnRleHQpOiBDb250ZXh0IHtcbiAgcmV0dXJuIGNvbnRleHQuZGVsZXRlVmFsdWUoU1BBTl9LRVkpO1xufVxuXG4vKipcbiAqIFdyYXAgc3BhbiBjb250ZXh0IGluIGEgTm9vcFNwYW4gYW5kIHNldCBhcyBzcGFuIGluIGEgbmV3XG4gKiBjb250ZXh0XG4gKlxuICogQHBhcmFtIGNvbnRleHQgY29udGV4dCB0byBzZXQgYWN0aXZlIHNwYW4gb25cbiAqIEBwYXJhbSBzcGFuQ29udGV4dCBzcGFuIGNvbnRleHQgdG8gYmUgd3JhcHBlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U3BhbkNvbnRleHQoXG4gIGNvbnRleHQ6IENvbnRleHQsXG4gIHNwYW5Db250ZXh0OiBTcGFuQ29udGV4dFxuKTogQ29udGV4dCB7XG4gIHJldHVybiBzZXRTcGFuKGNvbnRleHQsIG5ldyBOb25SZWNvcmRpbmdTcGFuKHNwYW5Db250ZXh0KSk7XG59XG5cbi8qKlxuICogR2V0IHRoZSBzcGFuIGNvbnRleHQgb2YgdGhlIHNwYW4gaWYgaXQgZXhpc3RzLlxuICpcbiAqIEBwYXJhbSBjb250ZXh0IGNvbnRleHQgdG8gZ2V0IHZhbHVlcyBmcm9tXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTcGFuQ29udGV4dChjb250ZXh0OiBDb250ZXh0KTogU3BhbkNvbnRleHQgfCB1bmRlZmluZWQge1xuICByZXR1cm4gZ2V0U3Bhbihjb250ZXh0KT8uc3BhbkNvbnRleHQoKTtcbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgSU5WQUxJRF9TUEFOSUQsIElOVkFMSURfVFJBQ0VJRCB9IGZyb20gJy4vaW52YWxpZC1zcGFuLWNvbnN0YW50cyc7XG5pbXBvcnQgeyBOb25SZWNvcmRpbmdTcGFuIH0gZnJvbSAnLi9Ob25SZWNvcmRpbmdTcGFuJztcbmltcG9ydCB7IFNwYW4gfSBmcm9tICcuL3NwYW4nO1xuaW1wb3J0IHsgU3BhbkNvbnRleHQgfSBmcm9tICcuL3NwYW5fY29udGV4dCc7XG5cbmNvbnN0IFZBTElEX1RSQUNFSURfUkVHRVggPSAvXihbMC05YS1mXXszMn0pJC9pO1xuY29uc3QgVkFMSURfU1BBTklEX1JFR0VYID0gL15bMC05YS1mXXsxNn0kL2k7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkVHJhY2VJZCh0cmFjZUlkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIFZBTElEX1RSQUNFSURfUkVHRVgudGVzdCh0cmFjZUlkKSAmJiB0cmFjZUlkICE9PSBJTlZBTElEX1RSQUNFSUQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkU3BhbklkKHNwYW5JZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBWQUxJRF9TUEFOSURfUkVHRVgudGVzdChzcGFuSWQpICYmIHNwYW5JZCAhPT0gSU5WQUxJRF9TUEFOSUQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoaXMge0BsaW5rIFNwYW5Db250ZXh0fSBpcyB2YWxpZC5cbiAqIEByZXR1cm4gdHJ1ZSBpZiB0aGlzIHtAbGluayBTcGFuQ29udGV4dH0gaXMgdmFsaWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NwYW5Db250ZXh0VmFsaWQoc3BhbkNvbnRleHQ6IFNwYW5Db250ZXh0KTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgaXNWYWxpZFRyYWNlSWQoc3BhbkNvbnRleHQudHJhY2VJZCkgJiYgaXNWYWxpZFNwYW5JZChzcGFuQ29udGV4dC5zcGFuSWQpXG4gICk7XG59XG5cbi8qKlxuICogV3JhcCB0aGUgZ2l2ZW4ge0BsaW5rIFNwYW5Db250ZXh0fSBpbiBhIG5ldyBub24tcmVjb3JkaW5nIHtAbGluayBTcGFufVxuICpcbiAqIEBwYXJhbSBzcGFuQ29udGV4dCBzcGFuIGNvbnRleHQgdG8gYmUgd3JhcHBlZFxuICogQHJldHVybnMgYSBuZXcgbm9uLXJlY29yZGluZyB7QGxpbmsgU3Bhbn0gd2l0aCB0aGUgcHJvdmlkZWQgY29udGV4dFxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JhcFNwYW5Db250ZXh0KHNwYW5Db250ZXh0OiBTcGFuQ29udGV4dCk6IFNwYW4ge1xuICByZXR1cm4gbmV3IE5vblJlY29yZGluZ1NwYW4oc3BhbkNvbnRleHQpO1xufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbnRleHRBUEkgfSBmcm9tICcuLi9hcGkvY29udGV4dCc7XG5pbXBvcnQgeyBDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC90eXBlcyc7XG5pbXBvcnQgeyBnZXRTcGFuQ29udGV4dCwgc2V0U3BhbiB9IGZyb20gJy4uL3RyYWNlL2NvbnRleHQtdXRpbHMnO1xuaW1wb3J0IHsgTm9uUmVjb3JkaW5nU3BhbiB9IGZyb20gJy4vTm9uUmVjb3JkaW5nU3Bhbic7XG5pbXBvcnQgeyBTcGFuIH0gZnJvbSAnLi9zcGFuJztcbmltcG9ydCB7IGlzU3BhbkNvbnRleHRWYWxpZCB9IGZyb20gJy4vc3BhbmNvbnRleHQtdXRpbHMnO1xuaW1wb3J0IHsgU3Bhbk9wdGlvbnMgfSBmcm9tICcuL1NwYW5PcHRpb25zJztcbmltcG9ydCB7IFNwYW5Db250ZXh0IH0gZnJvbSAnLi9zcGFuX2NvbnRleHQnO1xuaW1wb3J0IHsgVHJhY2VyIH0gZnJvbSAnLi90cmFjZXInO1xuXG5jb25zdCBjb250ZXh0QXBpID0gQ29udGV4dEFQSS5nZXRJbnN0YW5jZSgpO1xuXG4vKipcbiAqIE5vLW9wIGltcGxlbWVudGF0aW9ucyBvZiB7QGxpbmsgVHJhY2VyfS5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vb3BUcmFjZXIgaW1wbGVtZW50cyBUcmFjZXIge1xuICAvLyBzdGFydFNwYW4gc3RhcnRzIGEgbm9vcCBzcGFuLlxuICBzdGFydFNwYW4oXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiBTcGFuT3B0aW9ucyxcbiAgICBjb250ZXh0ID0gY29udGV4dEFwaS5hY3RpdmUoKVxuICApOiBTcGFuIHtcbiAgICBjb25zdCByb290ID0gQm9vbGVhbihvcHRpb25zPy5yb290KTtcbiAgICBpZiAocm9vdCkge1xuICAgICAgcmV0dXJuIG5ldyBOb25SZWNvcmRpbmdTcGFuKCk7XG4gICAgfVxuXG4gICAgY29uc3QgcGFyZW50RnJvbUNvbnRleHQgPSBjb250ZXh0ICYmIGdldFNwYW5Db250ZXh0KGNvbnRleHQpO1xuXG4gICAgaWYgKFxuICAgICAgaXNTcGFuQ29udGV4dChwYXJlbnRGcm9tQ29udGV4dCkgJiZcbiAgICAgIGlzU3BhbkNvbnRleHRWYWxpZChwYXJlbnRGcm9tQ29udGV4dClcbiAgICApIHtcbiAgICAgIHJldHVybiBuZXcgTm9uUmVjb3JkaW5nU3BhbihwYXJlbnRGcm9tQ29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgTm9uUmVjb3JkaW5nU3BhbigpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXJ0QWN0aXZlU3BhbjxGIGV4dGVuZHMgKHNwYW46IFNwYW4pID0+IFJldHVyblR5cGU8Rj4+KFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBmbjogRlxuICApOiBSZXR1cm5UeXBlPEY+O1xuICBzdGFydEFjdGl2ZVNwYW48RiBleHRlbmRzIChzcGFuOiBTcGFuKSA9PiBSZXR1cm5UeXBlPEY+PihcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgb3B0czogU3Bhbk9wdGlvbnMgfCB1bmRlZmluZWQsXG4gICAgZm46IEZcbiAgKTogUmV0dXJuVHlwZTxGPjtcbiAgc3RhcnRBY3RpdmVTcGFuPEYgZXh0ZW5kcyAoc3BhbjogU3BhbikgPT4gUmV0dXJuVHlwZTxGPj4oXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIG9wdHM6IFNwYW5PcHRpb25zIHwgdW5kZWZpbmVkLFxuICAgIGN0eDogQ29udGV4dCB8IHVuZGVmaW5lZCxcbiAgICBmbjogRlxuICApOiBSZXR1cm5UeXBlPEY+O1xuICBzdGFydEFjdGl2ZVNwYW48RiBleHRlbmRzIChzcGFuOiBTcGFuKSA9PiBSZXR1cm5UeXBlPEY+PihcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgYXJnMj86IEYgfCBTcGFuT3B0aW9ucyxcbiAgICBhcmczPzogRiB8IENvbnRleHQsXG4gICAgYXJnND86IEZcbiAgKTogUmV0dXJuVHlwZTxGPiB8IHVuZGVmaW5lZCB7XG4gICAgbGV0IG9wdHM6IFNwYW5PcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgIGxldCBjdHg6IENvbnRleHQgfCB1bmRlZmluZWQ7XG4gICAgbGV0IGZuOiBGO1xuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICBmbiA9IGFyZzIgYXMgRjtcbiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMpIHtcbiAgICAgIG9wdHMgPSBhcmcyIGFzIFNwYW5PcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgZm4gPSBhcmczIGFzIEY7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdHMgPSBhcmcyIGFzIFNwYW5PcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgY3R4ID0gYXJnMyBhcyBDb250ZXh0IHwgdW5kZWZpbmVkO1xuICAgICAgZm4gPSBhcmc0IGFzIEY7XG4gICAgfVxuXG4gICAgY29uc3QgcGFyZW50Q29udGV4dCA9IGN0eCA/PyBjb250ZXh0QXBpLmFjdGl2ZSgpO1xuICAgIGNvbnN0IHNwYW4gPSB0aGlzLnN0YXJ0U3BhbihuYW1lLCBvcHRzLCBwYXJlbnRDb250ZXh0KTtcbiAgICBjb25zdCBjb250ZXh0V2l0aFNwYW5TZXQgPSBzZXRTcGFuKHBhcmVudENvbnRleHQsIHNwYW4pO1xuXG4gICAgcmV0dXJuIGNvbnRleHRBcGkud2l0aChjb250ZXh0V2l0aFNwYW5TZXQsIGZuLCB1bmRlZmluZWQsIHNwYW4pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzU3BhbkNvbnRleHQoc3BhbkNvbnRleHQ6IGFueSk6IHNwYW5Db250ZXh0IGlzIFNwYW5Db250ZXh0IHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2Ygc3BhbkNvbnRleHQgPT09ICdvYmplY3QnICYmXG4gICAgdHlwZW9mIHNwYW5Db250ZXh0WydzcGFuSWQnXSA9PT0gJ3N0cmluZycgJiZcbiAgICB0eXBlb2Ygc3BhbkNvbnRleHRbJ3RyYWNlSWQnXSA9PT0gJ3N0cmluZycgJiZcbiAgICB0eXBlb2Ygc3BhbkNvbnRleHRbJ3RyYWNlRmxhZ3MnXSA9PT0gJ251bWJlcidcbiAgKTtcbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC90eXBlcyc7XG5pbXBvcnQgeyBOb29wVHJhY2VyIH0gZnJvbSAnLi9Ob29wVHJhY2VyJztcbmltcG9ydCB7IFNwYW4gfSBmcm9tICcuL3NwYW4nO1xuaW1wb3J0IHsgU3Bhbk9wdGlvbnMgfSBmcm9tICcuL1NwYW5PcHRpb25zJztcbmltcG9ydCB7IFRyYWNlciB9IGZyb20gJy4vdHJhY2VyJztcbmltcG9ydCB7IFRyYWNlck9wdGlvbnMgfSBmcm9tICcuL3RyYWNlcl9vcHRpb25zJztcblxuY29uc3QgTk9PUF9UUkFDRVIgPSBuZXcgTm9vcFRyYWNlcigpO1xuXG4vKipcbiAqIFByb3h5IHRyYWNlciBwcm92aWRlZCBieSB0aGUgcHJveHkgdHJhY2VyIHByb3ZpZGVyXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm94eVRyYWNlciBpbXBsZW1lbnRzIFRyYWNlciB7XG4gIC8vIFdoZW4gYSByZWFsIGltcGxlbWVudGF0aW9uIGlzIHByb3ZpZGVkLCB0aGlzIHdpbGwgYmUgaXRcbiAgcHJpdmF0ZSBfZGVsZWdhdGU/OiBUcmFjZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBfcHJvdmlkZXI6IFRyYWNlckRlbGVnYXRvcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nLFxuICAgIHB1YmxpYyByZWFkb25seSB2ZXJzaW9uPzogc3RyaW5nLFxuICAgIHB1YmxpYyByZWFkb25seSBvcHRpb25zPzogVHJhY2VyT3B0aW9uc1xuICApIHt9XG5cbiAgc3RhcnRTcGFuKG5hbWU6IHN0cmluZywgb3B0aW9ucz86IFNwYW5PcHRpb25zLCBjb250ZXh0PzogQ29udGV4dCk6IFNwYW4ge1xuICAgIHJldHVybiB0aGlzLl9nZXRUcmFjZXIoKS5zdGFydFNwYW4obmFtZSwgb3B0aW9ucywgY29udGV4dCk7XG4gIH1cblxuICBzdGFydEFjdGl2ZVNwYW48RiBleHRlbmRzIChzcGFuOiBTcGFuKSA9PiB1bmtub3duPihcbiAgICBfbmFtZTogc3RyaW5nLFxuICAgIF9vcHRpb25zOiBGIHwgU3Bhbk9wdGlvbnMsXG4gICAgX2NvbnRleHQ/OiBGIHwgQ29udGV4dCxcbiAgICBfZm4/OiBGXG4gICk6IFJldHVyblR5cGU8Rj4ge1xuICAgIGNvbnN0IHRyYWNlciA9IHRoaXMuX2dldFRyYWNlcigpO1xuICAgIHJldHVybiBSZWZsZWN0LmFwcGx5KHRyYWNlci5zdGFydEFjdGl2ZVNwYW4sIHRyYWNlciwgYXJndW1lbnRzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcnkgdG8gZ2V0IGEgdHJhY2VyIGZyb20gdGhlIHByb3h5IHRyYWNlciBwcm92aWRlci5cbiAgICogSWYgdGhlIHByb3h5IHRyYWNlciBwcm92aWRlciBoYXMgbm8gZGVsZWdhdGUsIHJldHVybiBhIG5vb3AgdHJhY2VyLlxuICAgKi9cbiAgcHJpdmF0ZSBfZ2V0VHJhY2VyKCkge1xuICAgIGlmICh0aGlzLl9kZWxlZ2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RlbGVnYXRlO1xuICAgIH1cblxuICAgIGNvbnN0IHRyYWNlciA9IHRoaXMuX3Byb3ZpZGVyLmdldERlbGVnYXRlVHJhY2VyKFxuICAgICAgdGhpcy5uYW1lLFxuICAgICAgdGhpcy52ZXJzaW9uLFxuICAgICAgdGhpcy5vcHRpb25zXG4gICAgKTtcblxuICAgIGlmICghdHJhY2VyKSB7XG4gICAgICByZXR1cm4gTk9PUF9UUkFDRVI7XG4gICAgfVxuXG4gICAgdGhpcy5fZGVsZWdhdGUgPSB0cmFjZXI7XG4gICAgcmV0dXJuIHRoaXMuX2RlbGVnYXRlO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhY2VyRGVsZWdhdG9yIHtcbiAgZ2V0RGVsZWdhdGVUcmFjZXIoXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIHZlcnNpb24/OiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IFRyYWNlck9wdGlvbnNcbiAgKTogVHJhY2VyIHwgdW5kZWZpbmVkO1xufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IE5vb3BUcmFjZXIgfSBmcm9tICcuL05vb3BUcmFjZXInO1xuaW1wb3J0IHsgVHJhY2VyIH0gZnJvbSAnLi90cmFjZXInO1xuaW1wb3J0IHsgVHJhY2VyT3B0aW9ucyB9IGZyb20gJy4vdHJhY2VyX29wdGlvbnMnO1xuaW1wb3J0IHsgVHJhY2VyUHJvdmlkZXIgfSBmcm9tICcuL3RyYWNlcl9wcm92aWRlcic7XG5cbi8qKlxuICogQW4gaW1wbGVtZW50YXRpb24gb2YgdGhlIHtAbGluayBUcmFjZXJQcm92aWRlcn0gd2hpY2ggcmV0dXJucyBhbiBpbXBvdGVudFxuICogVHJhY2VyIGZvciBhbGwgY2FsbHMgdG8gYGdldFRyYWNlcmAuXG4gKlxuICogQWxsIG9wZXJhdGlvbnMgYXJlIG5vLW9wLlxuICovXG5leHBvcnQgY2xhc3MgTm9vcFRyYWNlclByb3ZpZGVyIGltcGxlbWVudHMgVHJhY2VyUHJvdmlkZXIge1xuICBnZXRUcmFjZXIoXG4gICAgX25hbWU/OiBzdHJpbmcsXG4gICAgX3ZlcnNpb24/OiBzdHJpbmcsXG4gICAgX29wdGlvbnM/OiBUcmFjZXJPcHRpb25zXG4gICk6IFRyYWNlciB7XG4gICAgcmV0dXJuIG5ldyBOb29wVHJhY2VyKCk7XG4gIH1cbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBUcmFjZXIgfSBmcm9tICcuL3RyYWNlcic7XG5pbXBvcnQgeyBUcmFjZXJQcm92aWRlciB9IGZyb20gJy4vdHJhY2VyX3Byb3ZpZGVyJztcbmltcG9ydCB7IFByb3h5VHJhY2VyIH0gZnJvbSAnLi9Qcm94eVRyYWNlcic7XG5pbXBvcnQgeyBOb29wVHJhY2VyUHJvdmlkZXIgfSBmcm9tICcuL05vb3BUcmFjZXJQcm92aWRlcic7XG5pbXBvcnQgeyBUcmFjZXJPcHRpb25zIH0gZnJvbSAnLi90cmFjZXJfb3B0aW9ucyc7XG5cbmNvbnN0IE5PT1BfVFJBQ0VSX1BST1ZJREVSID0gbmV3IE5vb3BUcmFjZXJQcm92aWRlcigpO1xuXG4vKipcbiAqIFRyYWNlciBwcm92aWRlciB3aGljaCBwcm92aWRlcyB7QGxpbmsgUHJveHlUcmFjZXJ9cy5cbiAqXG4gKiBCZWZvcmUgYSBkZWxlZ2F0ZSBpcyBzZXQsIHRyYWNlcnMgcHJvdmlkZWQgYXJlIE5vT3AuXG4gKiAgIFdoZW4gYSBkZWxlZ2F0ZSBpcyBzZXQsIHRyYWNlcyBhcmUgcHJvdmlkZWQgZnJvbSB0aGUgZGVsZWdhdGUuXG4gKiAgIFdoZW4gYSBkZWxlZ2F0ZSBpcyBzZXQgYWZ0ZXIgdHJhY2VycyBoYXZlIGFscmVhZHkgYmVlbiBwcm92aWRlZCxcbiAqICAgYWxsIHRyYWNlcnMgYWxyZWFkeSBwcm92aWRlZCB3aWxsIHVzZSB0aGUgcHJvdmlkZWQgZGVsZWdhdGUgaW1wbGVtZW50YXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm94eVRyYWNlclByb3ZpZGVyIGltcGxlbWVudHMgVHJhY2VyUHJvdmlkZXIge1xuICBwcml2YXRlIF9kZWxlZ2F0ZT86IFRyYWNlclByb3ZpZGVyO1xuXG4gIC8qKlxuICAgKiBHZXQgYSB7QGxpbmsgUHJveHlUcmFjZXJ9XG4gICAqL1xuICBnZXRUcmFjZXIobmFtZTogc3RyaW5nLCB2ZXJzaW9uPzogc3RyaW5nLCBvcHRpb25zPzogVHJhY2VyT3B0aW9ucyk6IFRyYWNlciB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuZ2V0RGVsZWdhdGVUcmFjZXIobmFtZSwgdmVyc2lvbiwgb3B0aW9ucykgPz9cbiAgICAgIG5ldyBQcm94eVRyYWNlcih0aGlzLCBuYW1lLCB2ZXJzaW9uLCBvcHRpb25zKVxuICAgICk7XG4gIH1cblxuICBnZXREZWxlZ2F0ZSgpOiBUcmFjZXJQcm92aWRlciB7XG4gICAgcmV0dXJuIHRoaXMuX2RlbGVnYXRlID8/IE5PT1BfVFJBQ0VSX1BST1ZJREVSO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgZGVsZWdhdGUgdHJhY2VyIHByb3ZpZGVyXG4gICAqL1xuICBzZXREZWxlZ2F0ZShkZWxlZ2F0ZTogVHJhY2VyUHJvdmlkZXIpIHtcbiAgICB0aGlzLl9kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICB9XG5cbiAgZ2V0RGVsZWdhdGVUcmFjZXIoXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIHZlcnNpb24/OiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IFRyYWNlck9wdGlvbnNcbiAgKTogVHJhY2VyIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5fZGVsZWdhdGU/LmdldFRyYWNlcihuYW1lLCB2ZXJzaW9uLCBvcHRpb25zKTtcbiAgfVxufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNwYW5TdGF0dXMge1xuICAvKiogVGhlIHN0YXR1cyBjb2RlIG9mIHRoaXMgbWVzc2FnZS4gKi9cbiAgY29kZTogU3BhblN0YXR1c0NvZGU7XG4gIC8qKiBBIGRldmVsb3Blci1mYWNpbmcgZXJyb3IgbWVzc2FnZS4gKi9cbiAgbWVzc2FnZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBBbiBlbnVtZXJhdGlvbiBvZiBzdGF0dXMgY29kZXMuXG4gKi9cbmV4cG9ydCBlbnVtIFNwYW5TdGF0dXNDb2RlIHtcbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IHN0YXR1cy5cbiAgICovXG4gIFVOU0VUID0gMCxcbiAgLyoqXG4gICAqIFRoZSBvcGVyYXRpb24gaGFzIGJlZW4gdmFsaWRhdGVkIGJ5IGFuIEFwcGxpY2F0aW9uIGRldmVsb3BlciBvclxuICAgKiBPcGVyYXRvciB0byBoYXZlIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkuXG4gICAqL1xuICBPSyA9IDEsXG4gIC8qKlxuICAgKiBUaGUgb3BlcmF0aW9uIGNvbnRhaW5zIGFuIGVycm9yLlxuICAgKi9cbiAgRVJST1IgPSAyLFxufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIGdldEdsb2JhbCxcbiAgcmVnaXN0ZXJHbG9iYWwsXG4gIHVucmVnaXN0ZXJHbG9iYWwsXG59IGZyb20gJy4uL2ludGVybmFsL2dsb2JhbC11dGlscyc7XG5pbXBvcnQgeyBQcm94eVRyYWNlclByb3ZpZGVyIH0gZnJvbSAnLi4vdHJhY2UvUHJveHlUcmFjZXJQcm92aWRlcic7XG5pbXBvcnQge1xuICBpc1NwYW5Db250ZXh0VmFsaWQsXG4gIHdyYXBTcGFuQ29udGV4dCxcbn0gZnJvbSAnLi4vdHJhY2Uvc3BhbmNvbnRleHQtdXRpbHMnO1xuaW1wb3J0IHsgVHJhY2VyIH0gZnJvbSAnLi4vdHJhY2UvdHJhY2VyJztcbmltcG9ydCB7IFRyYWNlclByb3ZpZGVyIH0gZnJvbSAnLi4vdHJhY2UvdHJhY2VyX3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIGRlbGV0ZVNwYW4sXG4gIGdldEFjdGl2ZVNwYW4sXG4gIGdldFNwYW4sXG4gIGdldFNwYW5Db250ZXh0LFxuICBzZXRTcGFuLFxuICBzZXRTcGFuQ29udGV4dCxcbn0gZnJvbSAnLi4vdHJhY2UvY29udGV4dC11dGlscyc7XG5pbXBvcnQgeyBEaWFnQVBJIH0gZnJvbSAnLi9kaWFnJztcblxuY29uc3QgQVBJX05BTUUgPSAndHJhY2UnO1xuXG4vKipcbiAqIFNpbmdsZXRvbiBvYmplY3Qgd2hpY2ggcmVwcmVzZW50cyB0aGUgZW50cnkgcG9pbnQgdG8gdGhlIE9wZW5UZWxlbWV0cnkgVHJhY2luZyBBUElcbiAqL1xuZXhwb3J0IGNsYXNzIFRyYWNlQVBJIHtcbiAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlPzogVHJhY2VBUEk7XG5cbiAgcHJpdmF0ZSBfcHJveHlUcmFjZXJQcm92aWRlciA9IG5ldyBQcm94eVRyYWNlclByb3ZpZGVyKCk7XG5cbiAgLyoqIEVtcHR5IHByaXZhdGUgY29uc3RydWN0b3IgcHJldmVudHMgZW5kIHVzZXJzIGZyb20gY29uc3RydWN0aW5nIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBBUEkgKi9cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgLyoqIEdldCB0aGUgc2luZ2xldG9uIGluc3RhbmNlIG9mIHRoZSBUcmFjZSBBUEkgKi9cbiAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBUcmFjZUFQSSB7XG4gICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgVHJhY2VBUEkoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBjdXJyZW50IGdsb2JhbCB0cmFjZXIuXG4gICAqXG4gICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHRyYWNlciBwcm92aWRlciB3YXMgc3VjY2Vzc2Z1bGx5IHJlZ2lzdGVyZWQsIGVsc2UgZmFsc2VcbiAgICovXG4gIHB1YmxpYyBzZXRHbG9iYWxUcmFjZXJQcm92aWRlcihwcm92aWRlcjogVHJhY2VyUHJvdmlkZXIpOiBib29sZWFuIHtcbiAgICBjb25zdCBzdWNjZXNzID0gcmVnaXN0ZXJHbG9iYWwoXG4gICAgICBBUElfTkFNRSxcbiAgICAgIHRoaXMuX3Byb3h5VHJhY2VyUHJvdmlkZXIsXG4gICAgICBEaWFnQVBJLmluc3RhbmNlKClcbiAgICApO1xuICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICB0aGlzLl9wcm94eVRyYWNlclByb3ZpZGVyLnNldERlbGVnYXRlKHByb3ZpZGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHN1Y2Nlc3M7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZ2xvYmFsIHRyYWNlciBwcm92aWRlci5cbiAgICovXG4gIHB1YmxpYyBnZXRUcmFjZXJQcm92aWRlcigpOiBUcmFjZXJQcm92aWRlciB7XG4gICAgcmV0dXJuIGdldEdsb2JhbChBUElfTkFNRSkgfHwgdGhpcy5fcHJveHlUcmFjZXJQcm92aWRlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgdHJhY2VyIGZyb20gdGhlIGdsb2JhbCB0cmFjZXIgcHJvdmlkZXIuXG4gICAqL1xuICBwdWJsaWMgZ2V0VHJhY2VyKG5hbWU6IHN0cmluZywgdmVyc2lvbj86IHN0cmluZyk6IFRyYWNlciB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VHJhY2VyUHJvdmlkZXIoKS5nZXRUcmFjZXIobmFtZSwgdmVyc2lvbik7XG4gIH1cblxuICAvKiogUmVtb3ZlIHRoZSBnbG9iYWwgdHJhY2VyIHByb3ZpZGVyICovXG4gIHB1YmxpYyBkaXNhYmxlKCkge1xuICAgIHVucmVnaXN0ZXJHbG9iYWwoQVBJX05BTUUsIERpYWdBUEkuaW5zdGFuY2UoKSk7XG4gICAgdGhpcy5fcHJveHlUcmFjZXJQcm92aWRlciA9IG5ldyBQcm94eVRyYWNlclByb3ZpZGVyKCk7XG4gIH1cblxuICBwdWJsaWMgd3JhcFNwYW5Db250ZXh0ID0gd3JhcFNwYW5Db250ZXh0O1xuXG4gIHB1YmxpYyBpc1NwYW5Db250ZXh0VmFsaWQgPSBpc1NwYW5Db250ZXh0VmFsaWQ7XG5cbiAgcHVibGljIGRlbGV0ZVNwYW4gPSBkZWxldGVTcGFuO1xuXG4gIHB1YmxpYyBnZXRTcGFuID0gZ2V0U3BhbjtcblxuICBwdWJsaWMgZ2V0QWN0aXZlU3BhbiA9IGdldEFjdGl2ZVNwYW47XG5cbiAgcHVibGljIGdldFNwYW5Db250ZXh0ID0gZ2V0U3BhbkNvbnRleHQ7XG5cbiAgcHVibGljIHNldFNwYW4gPSBzZXRTcGFuO1xuXG4gIHB1YmxpYyBzZXRTcGFuQ29udGV4dCA9IHNldFNwYW5Db250ZXh0O1xufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8vIFNwbGl0IG1vZHVsZS1sZXZlbCB2YXJpYWJsZSBkZWZpbml0aW9uIGludG8gc2VwYXJhdGUgZmlsZXMgdG8gYWxsb3dcbi8vIHRyZWUtc2hha2luZyBvbiBlYWNoIGFwaSBpbnN0YW5jZS5cbmltcG9ydCB7IFRyYWNlQVBJIH0gZnJvbSAnLi9hcGkvdHJhY2UnO1xuLyoqIEVudHJ5cG9pbnQgZm9yIHRyYWNlIEFQSSAqL1xuZXhwb3J0IGNvbnN0IHRyYWNlID0gVHJhY2VBUEkuZ2V0SW5zdGFuY2UoKTtcbiIsICIvLyByZS1leHBvcnRzOlxuZXhwb3J0IHsgZ2F0ZXdheSwgY3JlYXRlR2F0ZXdheSB9IGZyb20gJ0BhaS1zZGsvZ2F0ZXdheSc7XG5leHBvcnQge1xuICBhc1NjaGVtYSxcbiAgY3JlYXRlSWRHZW5lcmF0b3IsXG4gIGR5bmFtaWNUb29sLFxuICBnZW5lcmF0ZUlkLFxuICBqc29uU2NoZW1hLFxuICB0b29sLFxuICB6b2RTY2hlbWEsXG4gIHR5cGUgSWRHZW5lcmF0b3IsXG4gIHR5cGUgSW5mZXJUb29sSW5wdXQsXG4gIHR5cGUgSW5mZXJUb29sT3V0cHV0LFxuICB0eXBlIFNjaGVtYSxcbiAgdHlwZSBUb29sLFxuICB0eXBlIFRvb2xDYWxsT3B0aW9ucyxcbiAgdHlwZSBUb29sRXhlY3V0ZUZ1bmN0aW9uLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcblxuLy8gZGlyZWN0b3J5IGV4cG9ydHNcbmV4cG9ydCAqIGZyb20gJy4vYWdlbnQnO1xuZXhwb3J0ICogZnJvbSAnLi9lbWJlZCc7XG5leHBvcnQgKiBmcm9tICcuL2Vycm9yJztcbmV4cG9ydCAqIGZyb20gJy4vZ2VuZXJhdGUtaW1hZ2UnO1xuZXhwb3J0ICogZnJvbSAnLi9nZW5lcmF0ZS1vYmplY3QnO1xuZXhwb3J0ICogZnJvbSAnLi9nZW5lcmF0ZS1zcGVlY2gnO1xuZXhwb3J0ICogZnJvbSAnLi9nZW5lcmF0ZS10ZXh0JztcbmV4cG9ydCAqIGZyb20gJy4vbG9nZ2VyJztcbmV4cG9ydCAqIGZyb20gJy4vbWlkZGxld2FyZSc7XG5leHBvcnQgKiBmcm9tICcuL3Byb21wdCc7XG5leHBvcnQgKiBmcm9tICcuL3JlZ2lzdHJ5JztcbmV4cG9ydCAqIGZyb20gJy4vdGV4dC1zdHJlYW0nO1xuZXhwb3J0ICogZnJvbSAnLi90b29sJztcbmV4cG9ydCAqIGZyb20gJy4vdHJhbnNjcmliZSc7XG5leHBvcnQgKiBmcm9tICcuL3R5cGVzJztcbmV4cG9ydCAqIGZyb20gJy4vdWknO1xuZXhwb3J0ICogZnJvbSAnLi91aS1tZXNzYWdlLXN0cmVhbSc7XG5leHBvcnQgKiBmcm9tICcuL3V0aWwnO1xuXG4vLyB0ZWxlbWV0cnkgdHlwZXM6XG5leHBvcnQgdHlwZSB7IFRlbGVtZXRyeVNldHRpbmdzIH0gZnJvbSAnLi90ZWxlbWV0cnkvdGVsZW1ldHJ5LXNldHRpbmdzJztcblxuLy8gaW1wb3J0IGdsb2JhbHNcbmltcG9ydCAnLi9nbG9iYWwnO1xuIiwgImltcG9ydCB7XG4gIExhbmd1YWdlTW9kZWxWMixcbiAgTGFuZ3VhZ2VNb2RlbFYyQ29udGVudCxcbiAgTGFuZ3VhZ2VNb2RlbFYyVG9vbENhbGwsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHtcbiAgY3JlYXRlSWRHZW5lcmF0b3IsXG4gIGV4ZWN1dGVUb29sLFxuICBnZXRFcnJvck1lc3NhZ2UsXG4gIElkR2VuZXJhdG9yLFxuICBQcm92aWRlck9wdGlvbnMsXG4gIHdpdGhVc2VyQWdlbnRTdWZmaXgsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgVHJhY2VyIH0gZnJvbSAnQG9wZW50ZWxlbWV0cnkvYXBpJztcbmltcG9ydCB7IE5vT3V0cHV0U3BlY2lmaWVkRXJyb3IgfSBmcm9tICcuLi9lcnJvci9uby1vdXRwdXQtc3BlY2lmaWVkLWVycm9yJztcbmltcG9ydCB7IGxvZ1dhcm5pbmdzIH0gZnJvbSAnLi4vbG9nZ2VyL2xvZy13YXJuaW5ncyc7XG5pbXBvcnQgeyByZXNvbHZlTGFuZ3VhZ2VNb2RlbCB9IGZyb20gJy4uL21vZGVsL3Jlc29sdmUtbW9kZWwnO1xuaW1wb3J0IHsgTW9kZWxNZXNzYWdlIH0gZnJvbSAnLi4vcHJvbXB0JztcbmltcG9ydCB7IENhbGxTZXR0aW5ncyB9IGZyb20gJy4uL3Byb21wdC9jYWxsLXNldHRpbmdzJztcbmltcG9ydCB7IGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxQcm9tcHQgfSBmcm9tICcuLi9wcm9tcHQvY29udmVydC10by1sYW5ndWFnZS1tb2RlbC1wcm9tcHQnO1xuaW1wb3J0IHsgcHJlcGFyZUNhbGxTZXR0aW5ncyB9IGZyb20gJy4uL3Byb21wdC9wcmVwYXJlLWNhbGwtc2V0dGluZ3MnO1xuaW1wb3J0IHsgcHJlcGFyZVRvb2xzQW5kVG9vbENob2ljZSB9IGZyb20gJy4uL3Byb21wdC9wcmVwYXJlLXRvb2xzLWFuZC10b29sLWNob2ljZSc7XG5pbXBvcnQgeyBQcm9tcHQgfSBmcm9tICcuLi9wcm9tcHQvcHJvbXB0JztcbmltcG9ydCB7IHN0YW5kYXJkaXplUHJvbXB0IH0gZnJvbSAnLi4vcHJvbXB0L3N0YW5kYXJkaXplLXByb21wdCc7XG5pbXBvcnQgeyB3cmFwR2F0ZXdheUVycm9yIH0gZnJvbSAnLi4vcHJvbXB0L3dyYXAtZ2F0ZXdheS1lcnJvcic7XG5pbXBvcnQgeyBhc3NlbWJsZU9wZXJhdGlvbk5hbWUgfSBmcm9tICcuLi90ZWxlbWV0cnkvYXNzZW1ibGUtb3BlcmF0aW9uLW5hbWUnO1xuaW1wb3J0IHsgZ2V0QmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMgfSBmcm9tICcuLi90ZWxlbWV0cnkvZ2V0LWJhc2UtdGVsZW1ldHJ5LWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgZ2V0VHJhY2VyIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2dldC10cmFjZXInO1xuaW1wb3J0IHsgcmVjb3JkRXJyb3JPblNwYW4sIHJlY29yZFNwYW4gfSBmcm9tICcuLi90ZWxlbWV0cnkvcmVjb3JkLXNwYW4nO1xuaW1wb3J0IHsgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyB9IGZyb20gJy4uL3RlbGVtZXRyeS9zZWxlY3QtdGVsZW1ldHJ5LWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgc3RyaW5naWZ5Rm9yVGVsZW1ldHJ5IH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3N0cmluZ2lmeS1mb3ItdGVsZW1ldHJ5JztcbmltcG9ydCB7IFRlbGVtZXRyeVNldHRpbmdzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3RlbGVtZXRyeS1zZXR0aW5ncyc7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsLCBUb29sQ2hvaWNlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgYWRkTGFuZ3VhZ2VNb2RlbFVzYWdlLCBMYW5ndWFnZU1vZGVsVXNhZ2UgfSBmcm9tICcuLi90eXBlcy91c2FnZSc7XG5pbXBvcnQgeyBhc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9hcy1hcnJheSc7XG5pbXBvcnQgeyBEb3dubG9hZEZ1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9kb3dubG9hZC9kb3dubG9hZC1mdW5jdGlvbic7XG5pbXBvcnQgeyBwcmVwYXJlUmV0cmllcyB9IGZyb20gJy4uL3V0aWwvcHJlcGFyZS1yZXRyaWVzJztcbmltcG9ydCB7IENvbnRlbnRQYXJ0IH0gZnJvbSAnLi9jb250ZW50LXBhcnQnO1xuaW1wb3J0IHsgZXh0cmFjdFRleHRDb250ZW50IH0gZnJvbSAnLi9leHRyYWN0LXRleHQtY29udGVudCc7XG5pbXBvcnQgeyBHZW5lcmF0ZVRleHRSZXN1bHQgfSBmcm9tICcuL2dlbmVyYXRlLXRleHQtcmVzdWx0JztcbmltcG9ydCB7IERlZmF1bHRHZW5lcmF0ZWRGaWxlIH0gZnJvbSAnLi9nZW5lcmF0ZWQtZmlsZSc7XG5pbXBvcnQgeyBPdXRwdXQgfSBmcm9tICcuL291dHB1dCc7XG5pbXBvcnQgeyBwYXJzZVRvb2xDYWxsIH0gZnJvbSAnLi9wYXJzZS10b29sLWNhbGwnO1xuaW1wb3J0IHsgUHJlcGFyZVN0ZXBGdW5jdGlvbiB9IGZyb20gJy4vcHJlcGFyZS1zdGVwJztcbmltcG9ydCB7IFJlc3BvbnNlTWVzc2FnZSB9IGZyb20gJy4vcmVzcG9uc2UtbWVzc2FnZSc7XG5pbXBvcnQgeyBEZWZhdWx0U3RlcFJlc3VsdCwgU3RlcFJlc3VsdCB9IGZyb20gJy4vc3RlcC1yZXN1bHQnO1xuaW1wb3J0IHtcbiAgaXNTdG9wQ29uZGl0aW9uTWV0LFxuICBzdGVwQ291bnRJcyxcbiAgU3RvcENvbmRpdGlvbixcbn0gZnJvbSAnLi9zdG9wLWNvbmRpdGlvbic7XG5pbXBvcnQgeyB0b1Jlc3BvbnNlTWVzc2FnZXMgfSBmcm9tICcuL3RvLXJlc3BvbnNlLW1lc3NhZ2VzJztcbmltcG9ydCB7IFR5cGVkVG9vbENhbGwgfSBmcm9tICcuL3Rvb2wtY2FsbCc7XG5pbXBvcnQgeyBUb29sQ2FsbFJlcGFpckZ1bmN0aW9uIH0gZnJvbSAnLi90b29sLWNhbGwtcmVwYWlyLWZ1bmN0aW9uJztcbmltcG9ydCB7IFR5cGVkVG9vbEVycm9yIH0gZnJvbSAnLi90b29sLWVycm9yJztcbmltcG9ydCB7IFRvb2xPdXRwdXQgfSBmcm9tICcuL3Rvb2wtb3V0cHV0JztcbmltcG9ydCB7IFR5cGVkVG9vbFJlc3VsdCB9IGZyb20gJy4vdG9vbC1yZXN1bHQnO1xuaW1wb3J0IHsgVG9vbFNldCB9IGZyb20gJy4vdG9vbC1zZXQnO1xuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gJy4uL3ZlcnNpb24nO1xuXG5jb25zdCBvcmlnaW5hbEdlbmVyYXRlSWQgPSBjcmVhdGVJZEdlbmVyYXRvcih7XG4gIHByZWZpeDogJ2FpdHh0JyxcbiAgc2l6ZTogMjQsXG59KTtcblxuLyoqXG5DYWxsYmFjayB0aGF0IGlzIHNldCB1c2luZyB0aGUgYG9uU3RlcEZpbmlzaGAgb3B0aW9uLlxuXG5AcGFyYW0gc3RlcFJlc3VsdCAtIFRoZSByZXN1bHQgb2YgdGhlIHN0ZXAuXG4gKi9cbmV4cG9ydCB0eXBlIEdlbmVyYXRlVGV4dE9uU3RlcEZpbmlzaENhbGxiYWNrPFRPT0xTIGV4dGVuZHMgVG9vbFNldD4gPSAoXG4gIHN0ZXBSZXN1bHQ6IFN0ZXBSZXN1bHQ8VE9PTFM+LFxuKSA9PiBQcm9taXNlPHZvaWQ+IHwgdm9pZDtcblxuLyoqXG5HZW5lcmF0ZSBhIHRleHQgYW5kIGNhbGwgdG9vbHMgZm9yIGEgZ2l2ZW4gcHJvbXB0IHVzaW5nIGEgbGFuZ3VhZ2UgbW9kZWwuXG5cblRoaXMgZnVuY3Rpb24gZG9lcyBub3Qgc3RyZWFtIHRoZSBvdXRwdXQuIElmIHlvdSB3YW50IHRvIHN0cmVhbSB0aGUgb3V0cHV0LCB1c2UgYHN0cmVhbVRleHRgIGluc3RlYWQuXG5cbkBwYXJhbSBtb2RlbCAtIFRoZSBsYW5ndWFnZSBtb2RlbCB0byB1c2UuXG5cbkBwYXJhbSB0b29scyAtIFRvb2xzIHRoYXQgYXJlIGFjY2Vzc2libGUgdG8gYW5kIGNhbiBiZSBjYWxsZWQgYnkgdGhlIG1vZGVsLiBUaGUgbW9kZWwgbmVlZHMgdG8gc3VwcG9ydCBjYWxsaW5nIHRvb2xzLlxuQHBhcmFtIHRvb2xDaG9pY2UgLSBUaGUgdG9vbCBjaG9pY2Ugc3RyYXRlZ3kuIERlZmF1bHQ6ICdhdXRvJy5cblxuQHBhcmFtIHN5c3RlbSAtIEEgc3lzdGVtIG1lc3NhZ2UgdGhhdCB3aWxsIGJlIHBhcnQgb2YgdGhlIHByb21wdC5cbkBwYXJhbSBwcm9tcHQgLSBBIHNpbXBsZSB0ZXh0IHByb21wdC4gWW91IGNhbiBlaXRoZXIgdXNlIGBwcm9tcHRgIG9yIGBtZXNzYWdlc2AgYnV0IG5vdCBib3RoLlxuQHBhcmFtIG1lc3NhZ2VzIC0gQSBsaXN0IG9mIG1lc3NhZ2VzLiBZb3UgY2FuIGVpdGhlciB1c2UgYHByb21wdGAgb3IgYG1lc3NhZ2VzYCBidXQgbm90IGJvdGguXG5cbkBwYXJhbSBtYXhPdXRwdXRUb2tlbnMgLSBNYXhpbXVtIG51bWJlciBvZiB0b2tlbnMgdG8gZ2VuZXJhdGUuXG5AcGFyYW0gdGVtcGVyYXR1cmUgLSBUZW1wZXJhdHVyZSBzZXR0aW5nLlxuVGhlIHZhbHVlIGlzIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlci4gVGhlIHJhbmdlIGRlcGVuZHMgb24gdGhlIHByb3ZpZGVyIGFuZCBtb2RlbC5cbkl0IGlzIHJlY29tbWVuZGVkIHRvIHNldCBlaXRoZXIgYHRlbXBlcmF0dXJlYCBvciBgdG9wUGAsIGJ1dCBub3QgYm90aC5cbkBwYXJhbSB0b3BQIC0gTnVjbGV1cyBzYW1wbGluZy5cblRoZSB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXIuIFRoZSByYW5nZSBkZXBlbmRzIG9uIHRoZSBwcm92aWRlciBhbmQgbW9kZWwuXG5JdCBpcyByZWNvbW1lbmRlZCB0byBzZXQgZWl0aGVyIGB0ZW1wZXJhdHVyZWAgb3IgYHRvcFBgLCBidXQgbm90IGJvdGguXG5AcGFyYW0gdG9wSyAtIE9ubHkgc2FtcGxlIGZyb20gdGhlIHRvcCBLIG9wdGlvbnMgZm9yIGVhY2ggc3Vic2VxdWVudCB0b2tlbi5cblVzZWQgdG8gcmVtb3ZlIFwibG9uZyB0YWlsXCIgbG93IHByb2JhYmlsaXR5IHJlc3BvbnNlcy5cblJlY29tbWVuZGVkIGZvciBhZHZhbmNlZCB1c2UgY2FzZXMgb25seS4gWW91IHVzdWFsbHkgb25seSBuZWVkIHRvIHVzZSB0ZW1wZXJhdHVyZS5cbkBwYXJhbSBwcmVzZW5jZVBlbmFsdHkgLSBQcmVzZW5jZSBwZW5hbHR5IHNldHRpbmcuXG5JdCBhZmZlY3RzIHRoZSBsaWtlbGlob29kIG9mIHRoZSBtb2RlbCB0byByZXBlYXQgaW5mb3JtYXRpb24gdGhhdCBpcyBhbHJlYWR5IGluIHRoZSBwcm9tcHQuXG5UaGUgdmFsdWUgaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyLiBUaGUgcmFuZ2UgZGVwZW5kcyBvbiB0aGUgcHJvdmlkZXIgYW5kIG1vZGVsLlxuQHBhcmFtIGZyZXF1ZW5jeVBlbmFsdHkgLSBGcmVxdWVuY3kgcGVuYWx0eSBzZXR0aW5nLlxuSXQgYWZmZWN0cyB0aGUgbGlrZWxpaG9vZCBvZiB0aGUgbW9kZWwgdG8gcmVwZWF0ZWRseSB1c2UgdGhlIHNhbWUgd29yZHMgb3IgcGhyYXNlcy5cblRoZSB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXIuIFRoZSByYW5nZSBkZXBlbmRzIG9uIHRoZSBwcm92aWRlciBhbmQgbW9kZWwuXG5AcGFyYW0gc3RvcFNlcXVlbmNlcyAtIFN0b3Agc2VxdWVuY2VzLlxuSWYgc2V0LCB0aGUgbW9kZWwgd2lsbCBzdG9wIGdlbmVyYXRpbmcgdGV4dCB3aGVuIG9uZSBvZiB0aGUgc3RvcCBzZXF1ZW5jZXMgaXMgZ2VuZXJhdGVkLlxuQHBhcmFtIHNlZWQgLSBUaGUgc2VlZCAoaW50ZWdlcikgdG8gdXNlIGZvciByYW5kb20gc2FtcGxpbmcuXG5JZiBzZXQgYW5kIHN1cHBvcnRlZCBieSB0aGUgbW9kZWwsIGNhbGxzIHdpbGwgZ2VuZXJhdGUgZGV0ZXJtaW5pc3RpYyByZXN1bHRzLlxuXG5AcGFyYW0gbWF4UmV0cmllcyAtIE1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMuIFNldCB0byAwIHRvIGRpc2FibGUgcmV0cmllcy4gRGVmYXVsdDogMi5cbkBwYXJhbSBhYm9ydFNpZ25hbCAtIEFuIG9wdGlvbmFsIGFib3J0IHNpZ25hbCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgY2FsbC5cbkBwYXJhbSBoZWFkZXJzIC0gQWRkaXRpb25hbCBIVFRQIGhlYWRlcnMgdG8gYmUgc2VudCB3aXRoIHRoZSByZXF1ZXN0LiBPbmx5IGFwcGxpY2FibGUgZm9yIEhUVFAtYmFzZWQgcHJvdmlkZXJzLlxuXG5AcGFyYW0gZXhwZXJpbWVudGFsX2dlbmVyYXRlTWVzc2FnZUlkIC0gR2VuZXJhdGUgYSB1bmlxdWUgSUQgZm9yIGVhY2ggbWVzc2FnZS5cblxuQHBhcmFtIG9uU3RlcEZpbmlzaCAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gZWFjaCBzdGVwIChMTE0gY2FsbCkgaXMgZmluaXNoZWQsIGluY2x1ZGluZyBpbnRlcm1lZGlhdGUgc3RlcHMuXG5cbkByZXR1cm5zXG5BIHJlc3VsdCBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgZ2VuZXJhdGVkIHRleHQsIHRoZSByZXN1bHRzIG9mIHRoZSB0b29sIGNhbGxzLCBhbmQgYWRkaXRpb25hbCBpbmZvcm1hdGlvbi5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlVGV4dDxcbiAgVE9PTFMgZXh0ZW5kcyBUb29sU2V0LFxuICBPVVRQVVQgPSBuZXZlcixcbiAgT1VUUFVUX1BBUlRJQUwgPSBuZXZlcixcbj4oe1xuICBtb2RlbDogbW9kZWxBcmcsXG4gIHRvb2xzLFxuICB0b29sQ2hvaWNlLFxuICBzeXN0ZW0sXG4gIHByb21wdCxcbiAgbWVzc2FnZXMsXG4gIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gIGFib3J0U2lnbmFsLFxuICBoZWFkZXJzLFxuICBzdG9wV2hlbiA9IHN0ZXBDb3VudElzKDEpLFxuICBleHBlcmltZW50YWxfb3V0cHV0OiBvdXRwdXQsXG4gIGV4cGVyaW1lbnRhbF90ZWxlbWV0cnk6IHRlbGVtZXRyeSxcbiAgcHJvdmlkZXJPcHRpb25zLFxuICBleHBlcmltZW50YWxfYWN0aXZlVG9vbHMsXG4gIGFjdGl2ZVRvb2xzID0gZXhwZXJpbWVudGFsX2FjdGl2ZVRvb2xzLFxuICBleHBlcmltZW50YWxfcHJlcGFyZVN0ZXAsXG4gIHByZXBhcmVTdGVwID0gZXhwZXJpbWVudGFsX3ByZXBhcmVTdGVwLFxuICBleHBlcmltZW50YWxfcmVwYWlyVG9vbENhbGw6IHJlcGFpclRvb2xDYWxsLFxuICBleHBlcmltZW50YWxfZG93bmxvYWQ6IGRvd25sb2FkLFxuICBleHBlcmltZW50YWxfY29udGV4dCxcbiAgX2ludGVybmFsOiB7XG4gICAgZ2VuZXJhdGVJZCA9IG9yaWdpbmFsR2VuZXJhdGVJZCxcbiAgICBjdXJyZW50RGF0ZSA9ICgpID0+IG5ldyBEYXRlKCksXG4gIH0gPSB7fSxcbiAgb25TdGVwRmluaXNoLFxuICAuLi5zZXR0aW5nc1xufTogQ2FsbFNldHRpbmdzICZcbiAgUHJvbXB0ICYge1xuICAgIC8qKlxuVGhlIGxhbmd1YWdlIG1vZGVsIHRvIHVzZS5cbiAgICAgKi9cbiAgICBtb2RlbDogTGFuZ3VhZ2VNb2RlbDtcblxuICAgIC8qKlxuVGhlIHRvb2xzIHRoYXQgdGhlIG1vZGVsIGNhbiBjYWxsLiBUaGUgbW9kZWwgbmVlZHMgdG8gc3VwcG9ydCBjYWxsaW5nIHRvb2xzLlxuKi9cbiAgICB0b29scz86IFRPT0xTO1xuXG4gICAgLyoqXG5UaGUgdG9vbCBjaG9pY2Ugc3RyYXRlZ3kuIERlZmF1bHQ6ICdhdXRvJy5cbiAgICAgKi9cbiAgICB0b29sQ2hvaWNlPzogVG9vbENob2ljZTxOb0luZmVyPFRPT0xTPj47XG5cbiAgICAvKipcbkNvbmRpdGlvbiBmb3Igc3RvcHBpbmcgdGhlIGdlbmVyYXRpb24gd2hlbiB0aGVyZSBhcmUgdG9vbCByZXN1bHRzIGluIHRoZSBsYXN0IHN0ZXAuXG5XaGVuIHRoZSBjb25kaXRpb24gaXMgYW4gYXJyYXksIGFueSBvZiB0aGUgY29uZGl0aW9ucyBjYW4gYmUgbWV0IHRvIHN0b3AgdGhlIGdlbmVyYXRpb24uXG5cbkBkZWZhdWx0IHN0ZXBDb3VudElzKDEpXG4gICAgICovXG4gICAgc3RvcFdoZW4/OlxuICAgICAgfCBTdG9wQ29uZGl0aW9uPE5vSW5mZXI8VE9PTFM+PlxuICAgICAgfCBBcnJheTxTdG9wQ29uZGl0aW9uPE5vSW5mZXI8VE9PTFM+Pj47XG5cbiAgICAvKipcbk9wdGlvbmFsIHRlbGVtZXRyeSBjb25maWd1cmF0aW9uIChleHBlcmltZW50YWwpLlxuICAgICAqL1xuICAgIGV4cGVyaW1lbnRhbF90ZWxlbWV0cnk/OiBUZWxlbWV0cnlTZXR0aW5ncztcblxuICAgIC8qKlxuQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBvcHRpb25zLiBUaGV5IGFyZSBwYXNzZWQgdGhyb3VnaFxudG8gdGhlIHByb3ZpZGVyIGZyb20gdGhlIEFJIFNESyBhbmQgZW5hYmxlIHByb3ZpZGVyLXNwZWNpZmljXG5mdW5jdGlvbmFsaXR5IHRoYXQgY2FuIGJlIGZ1bGx5IGVuY2Fwc3VsYXRlZCBpbiB0aGUgcHJvdmlkZXIuXG4gKi9cbiAgICBwcm92aWRlck9wdGlvbnM/OiBQcm92aWRlck9wdGlvbnM7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgYGFjdGl2ZVRvb2xzYCBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGV4cGVyaW1lbnRhbF9hY3RpdmVUb29scz86IEFycmF5PGtleW9mIE5vSW5mZXI8VE9PTFM+PjtcblxuICAgIC8qKlxuTGltaXRzIHRoZSB0b29scyB0aGF0IGFyZSBhdmFpbGFibGUgZm9yIHRoZSBtb2RlbCB0byBjYWxsIHdpdGhvdXRcbmNoYW5naW5nIHRoZSB0b29sIGNhbGwgYW5kIHJlc3VsdCB0eXBlcyBpbiB0aGUgcmVzdWx0LlxuICAgICAqL1xuICAgIGFjdGl2ZVRvb2xzPzogQXJyYXk8a2V5b2YgTm9JbmZlcjxUT09MUz4+O1xuXG4gICAgLyoqXG5PcHRpb25hbCBzcGVjaWZpY2F0aW9uIGZvciBwYXJzaW5nIHN0cnVjdHVyZWQgb3V0cHV0cyBmcm9tIHRoZSBMTE0gcmVzcG9uc2UuXG4gICAgICovXG4gICAgZXhwZXJpbWVudGFsX291dHB1dD86IE91dHB1dDxPVVRQVVQsIE9VVFBVVF9QQVJUSUFMPjtcblxuICAgIC8qKlxuQ3VzdG9tIGRvd25sb2FkIGZ1bmN0aW9uIHRvIHVzZSBmb3IgVVJMcy5cblxuQnkgZGVmYXVsdCwgZmlsZXMgYXJlIGRvd25sb2FkZWQgaWYgdGhlIG1vZGVsIGRvZXMgbm90IHN1cHBvcnQgdGhlIFVSTCBmb3IgdGhlIGdpdmVuIG1lZGlhIHR5cGUuXG4gICAgICovXG4gICAgZXhwZXJpbWVudGFsX2Rvd25sb2FkPzogRG93bmxvYWRGdW5jdGlvbiB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSBgcHJlcGFyZVN0ZXBgIGluc3RlYWQuXG4gICAgICovXG4gICAgZXhwZXJpbWVudGFsX3ByZXBhcmVTdGVwPzogUHJlcGFyZVN0ZXBGdW5jdGlvbjxOb0luZmVyPFRPT0xTPj47XG5cbiAgICAvKipcbk9wdGlvbmFsIGZ1bmN0aW9uIHRoYXQgeW91IGNhbiB1c2UgdG8gcHJvdmlkZSBkaWZmZXJlbnQgc2V0dGluZ3MgZm9yIGEgc3RlcC5cbiAgICAqL1xuICAgIHByZXBhcmVTdGVwPzogUHJlcGFyZVN0ZXBGdW5jdGlvbjxOb0luZmVyPFRPT0xTPj47XG5cbiAgICAvKipcbkEgZnVuY3Rpb24gdGhhdCBhdHRlbXB0cyB0byByZXBhaXIgYSB0b29sIGNhbGwgdGhhdCBmYWlsZWQgdG8gcGFyc2UuXG4gICAgICovXG4gICAgZXhwZXJpbWVudGFsX3JlcGFpclRvb2xDYWxsPzogVG9vbENhbGxSZXBhaXJGdW5jdGlvbjxOb0luZmVyPFRPT0xTPj47XG5cbiAgICAvKipcbiAgICBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIGVhY2ggc3RlcCAoTExNIGNhbGwpIGlzIGZpbmlzaGVkLCBpbmNsdWRpbmcgaW50ZXJtZWRpYXRlIHN0ZXBzLlxuICAgICovXG4gICAgb25TdGVwRmluaXNoPzogR2VuZXJhdGVUZXh0T25TdGVwRmluaXNoQ2FsbGJhY2s8Tm9JbmZlcjxUT09MUz4+O1xuXG4gICAgLyoqXG4gICAgICogQ29udGV4dCB0aGF0IGlzIHBhc3NlZCBpbnRvIHRvb2wgZXhlY3V0aW9uLlxuICAgICAqXG4gICAgICogRXhwZXJpbWVudGFsIChjYW4gYnJlYWsgaW4gcGF0Y2ggcmVsZWFzZXMpLlxuICAgICAqXG4gICAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAgICovXG4gICAgZXhwZXJpbWVudGFsX2NvbnRleHQ/OiB1bmtub3duO1xuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwuIEZvciB0ZXN0IHVzZSBvbmx5LiBNYXkgY2hhbmdlIHdpdGhvdXQgbm90aWNlLlxuICAgICAqL1xuICAgIF9pbnRlcm5hbD86IHtcbiAgICAgIGdlbmVyYXRlSWQ/OiBJZEdlbmVyYXRvcjtcbiAgICAgIGN1cnJlbnREYXRlPzogKCkgPT4gRGF0ZTtcbiAgICB9O1xuICB9KTogUHJvbWlzZTxHZW5lcmF0ZVRleHRSZXN1bHQ8VE9PTFMsIE9VVFBVVD4+IHtcbiAgY29uc3QgbW9kZWwgPSByZXNvbHZlTGFuZ3VhZ2VNb2RlbChtb2RlbEFyZyk7XG4gIGNvbnN0IHN0b3BDb25kaXRpb25zID0gYXNBcnJheShzdG9wV2hlbik7XG4gIGNvbnN0IHsgbWF4UmV0cmllcywgcmV0cnkgfSA9IHByZXBhcmVSZXRyaWVzKHtcbiAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICAgIGFib3J0U2lnbmFsLFxuICB9KTtcblxuICBjb25zdCBjYWxsU2V0dGluZ3MgPSBwcmVwYXJlQ2FsbFNldHRpbmdzKHNldHRpbmdzKTtcblxuICBjb25zdCBoZWFkZXJzV2l0aFVzZXJBZ2VudCA9IHdpdGhVc2VyQWdlbnRTdWZmaXgoXG4gICAgaGVhZGVycyA/PyB7fSxcbiAgICBgYWkvJHtWRVJTSU9OfWAsXG4gICk7XG5cbiAgY29uc3QgYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMgPSBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgbW9kZWwsXG4gICAgdGVsZW1ldHJ5LFxuICAgIGhlYWRlcnM6IGhlYWRlcnNXaXRoVXNlckFnZW50LFxuICAgIHNldHRpbmdzOiB7IC4uLmNhbGxTZXR0aW5ncywgbWF4UmV0cmllcyB9LFxuICB9KTtcblxuICBjb25zdCBpbml0aWFsUHJvbXB0ID0gYXdhaXQgc3RhbmRhcmRpemVQcm9tcHQoe1xuICAgIHN5c3RlbSxcbiAgICBwcm9tcHQsXG4gICAgbWVzc2FnZXMsXG4gIH0gYXMgUHJvbXB0KTtcblxuICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIodGVsZW1ldHJ5KTtcblxuICB0cnkge1xuICAgIHJldHVybiBhd2FpdCByZWNvcmRTcGFuKHtcbiAgICAgIG5hbWU6ICdhaS5nZW5lcmF0ZVRleHQnLFxuICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICBvcGVyYXRpb25JZDogJ2FpLmdlbmVyYXRlVGV4dCcsXG4gICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgfSksXG4gICAgICAgICAgLi4uYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMsXG4gICAgICAgICAgLy8gbW9kZWw6XG4gICAgICAgICAgJ2FpLm1vZGVsLnByb3ZpZGVyJzogbW9kZWwucHJvdmlkZXIsXG4gICAgICAgICAgJ2FpLm1vZGVsLmlkJzogbW9kZWwubW9kZWxJZCxcbiAgICAgICAgICAvLyBzcGVjaWZpYyBzZXR0aW5ncyB0aGF0IG9ubHkgbWFrZSBzZW5zZSBvbiB0aGUgb3V0ZXIgbGV2ZWw6XG4gICAgICAgICAgJ2FpLnByb21wdCc6IHtcbiAgICAgICAgICAgIGlucHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeSh7IHN5c3RlbSwgcHJvbXB0LCBtZXNzYWdlcyB9KSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgICB0cmFjZXIsXG4gICAgICBmbjogYXN5bmMgc3BhbiA9PiB7XG4gICAgICAgIGNvbnN0IGNhbGxTZXR0aW5ncyA9IHByZXBhcmVDYWxsU2V0dGluZ3Moc2V0dGluZ3MpO1xuXG4gICAgICAgIGxldCBjdXJyZW50TW9kZWxSZXNwb25zZTogQXdhaXRlZDxcbiAgICAgICAgICBSZXR1cm5UeXBlPExhbmd1YWdlTW9kZWxWMlsnZG9HZW5lcmF0ZSddPlxuICAgICAgICA+ICYgeyByZXNwb25zZTogeyBpZDogc3RyaW5nOyB0aW1lc3RhbXA6IERhdGU7IG1vZGVsSWQ6IHN0cmluZyB9IH07XG4gICAgICAgIGxldCBjbGllbnRUb29sQ2FsbHM6IEFycmF5PFR5cGVkVG9vbENhbGw8VE9PTFM+PiA9IFtdO1xuICAgICAgICBsZXQgY2xpZW50VG9vbE91dHB1dHM6IEFycmF5PFRvb2xPdXRwdXQ8VE9PTFM+PiA9IFtdO1xuICAgICAgICBjb25zdCByZXNwb25zZU1lc3NhZ2VzOiBBcnJheTxSZXNwb25zZU1lc3NhZ2U+ID0gW107XG4gICAgICAgIGNvbnN0IHN0ZXBzOiBHZW5lcmF0ZVRleHRSZXN1bHQ8VE9PTFMsIE9VVFBVVD5bJ3N0ZXBzJ10gPSBbXTtcblxuICAgICAgICBkbyB7XG4gICAgICAgICAgY29uc3Qgc3RlcElucHV0TWVzc2FnZXMgPSBbXG4gICAgICAgICAgICAuLi5pbml0aWFsUHJvbXB0Lm1lc3NhZ2VzLFxuICAgICAgICAgICAgLi4ucmVzcG9uc2VNZXNzYWdlcyxcbiAgICAgICAgICBdO1xuXG4gICAgICAgICAgY29uc3QgcHJlcGFyZVN0ZXBSZXN1bHQgPSBhd2FpdCBwcmVwYXJlU3RlcD8uKHtcbiAgICAgICAgICAgIG1vZGVsLFxuICAgICAgICAgICAgc3RlcHMsXG4gICAgICAgICAgICBzdGVwTnVtYmVyOiBzdGVwcy5sZW5ndGgsXG4gICAgICAgICAgICBtZXNzYWdlczogc3RlcElucHV0TWVzc2FnZXMsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjb25zdCBwcm9tcHRNZXNzYWdlcyA9IGF3YWl0IGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxQcm9tcHQoe1xuICAgICAgICAgICAgcHJvbXB0OiB7XG4gICAgICAgICAgICAgIHN5c3RlbTogcHJlcGFyZVN0ZXBSZXN1bHQ/LnN5c3RlbSA/PyBpbml0aWFsUHJvbXB0LnN5c3RlbSxcbiAgICAgICAgICAgICAgbWVzc2FnZXM6IHByZXBhcmVTdGVwUmVzdWx0Py5tZXNzYWdlcyA/PyBzdGVwSW5wdXRNZXNzYWdlcyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdXBwb3J0ZWRVcmxzOiBhd2FpdCBtb2RlbC5zdXBwb3J0ZWRVcmxzLFxuICAgICAgICAgICAgZG93bmxvYWQsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjb25zdCBzdGVwTW9kZWwgPSByZXNvbHZlTGFuZ3VhZ2VNb2RlbChcbiAgICAgICAgICAgIHByZXBhcmVTdGVwUmVzdWx0Py5tb2RlbCA/PyBtb2RlbCxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgY29uc3QgeyB0b29sQ2hvaWNlOiBzdGVwVG9vbENob2ljZSwgdG9vbHM6IHN0ZXBUb29scyB9ID1cbiAgICAgICAgICAgIHByZXBhcmVUb29sc0FuZFRvb2xDaG9pY2Uoe1xuICAgICAgICAgICAgICB0b29scyxcbiAgICAgICAgICAgICAgdG9vbENob2ljZTogcHJlcGFyZVN0ZXBSZXN1bHQ/LnRvb2xDaG9pY2UgPz8gdG9vbENob2ljZSxcbiAgICAgICAgICAgICAgYWN0aXZlVG9vbHM6IHByZXBhcmVTdGVwUmVzdWx0Py5hY3RpdmVUb29scyA/PyBhY3RpdmVUb29scyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY3VycmVudE1vZGVsUmVzcG9uc2UgPSBhd2FpdCByZXRyeSgoKSA9PlxuICAgICAgICAgICAgcmVjb3JkU3Bhbih7XG4gICAgICAgICAgICAgIG5hbWU6ICdhaS5nZW5lcmF0ZVRleHQuZG9HZW5lcmF0ZScsXG4gICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25JZDogJ2FpLmdlbmVyYXRlVGV4dC5kb0dlbmVyYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgIC8vIG1vZGVsOlxuICAgICAgICAgICAgICAgICAgJ2FpLm1vZGVsLnByb3ZpZGVyJzogc3RlcE1vZGVsLnByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgJ2FpLm1vZGVsLmlkJzogc3RlcE1vZGVsLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAvLyBwcm9tcHQ6XG4gICAgICAgICAgICAgICAgICAnYWkucHJvbXB0Lm1lc3NhZ2VzJzoge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT4gc3RyaW5naWZ5Rm9yVGVsZW1ldHJ5KHByb21wdE1lc3NhZ2VzKSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAnYWkucHJvbXB0LnRvb2xzJzoge1xuICAgICAgICAgICAgICAgICAgICAvLyBjb252ZXJ0IHRoZSBsYW5ndWFnZSBtb2RlbCBsZXZlbCB0b29sczpcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6ICgpID0+IHN0ZXBUb29scz8ubWFwKHRvb2wgPT4gSlNPTi5zdHJpbmdpZnkodG9vbCkpLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICdhaS5wcm9tcHQudG9vbENob2ljZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6ICgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgc3RlcFRvb2xDaG9pY2UgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBKU09OLnN0cmluZ2lmeShzdGVwVG9vbENob2ljZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgLy8gc3RhbmRhcmRpemVkIGdlbi1haSBsbG0gc3BhbiBhdHRyaWJ1dGVzOlxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5zeXN0ZW0nOiBzdGVwTW9kZWwucHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QubW9kZWwnOiBzdGVwTW9kZWwubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC5mcmVxdWVuY3lfcGVuYWx0eSc6IHNldHRpbmdzLmZyZXF1ZW5jeVBlbmFsdHksXG4gICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QubWF4X3Rva2Vucyc6IHNldHRpbmdzLm1heE91dHB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC5wcmVzZW5jZV9wZW5hbHR5Jzogc2V0dGluZ3MucHJlc2VuY2VQZW5hbHR5LFxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnN0b3Bfc2VxdWVuY2VzJzogc2V0dGluZ3Muc3RvcFNlcXVlbmNlcyxcbiAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC50ZW1wZXJhdHVyZSc6XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLnRlbXBlcmF0dXJlID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC50b3Bfayc6IHNldHRpbmdzLnRvcEssXG4gICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QudG9wX3AnOiBzZXR0aW5ncy50b3BQLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICB0cmFjZXIsXG4gICAgICAgICAgICAgIGZuOiBhc3luYyBzcGFuID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzdGVwTW9kZWwuZG9HZW5lcmF0ZSh7XG4gICAgICAgICAgICAgICAgICAuLi5jYWxsU2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgICB0b29sczogc3RlcFRvb2xzLFxuICAgICAgICAgICAgICAgICAgdG9vbENob2ljZTogc3RlcFRvb2xDaG9pY2UsXG4gICAgICAgICAgICAgICAgICByZXNwb25zZUZvcm1hdDogb3V0cHV0Py5yZXNwb25zZUZvcm1hdCxcbiAgICAgICAgICAgICAgICAgIHByb21wdDogcHJvbXB0TWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnNXaXRoVXNlckFnZW50LFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gRmlsbCBpbiBkZWZhdWx0IHZhbHVlczpcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZURhdGEgPSB7XG4gICAgICAgICAgICAgICAgICBpZDogcmVzdWx0LnJlc3BvbnNlPy5pZCA/PyBnZW5lcmF0ZUlkKCksXG4gICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHJlc3VsdC5yZXNwb25zZT8udGltZXN0YW1wID8/IGN1cnJlbnREYXRlKCksXG4gICAgICAgICAgICAgICAgICBtb2RlbElkOiByZXN1bHQucmVzcG9uc2U/Lm1vZGVsSWQgPz8gc3RlcE1vZGVsLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICBoZWFkZXJzOiByZXN1bHQucmVzcG9uc2U/LmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICBib2R5OiByZXN1bHQucmVzcG9uc2U/LmJvZHksXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIEFkZCByZXNwb25zZSBpbmZvcm1hdGlvbiB0byB0aGUgc3BhbjpcbiAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLmZpbmlzaFJlYXNvbic6IHJlc3VsdC5maW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnRleHQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IGV4dHJhY3RUZXh0Q29udGVudChyZXN1bHQuY29udGVudCksXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UudG9vbENhbGxzJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xDYWxscyA9IGFzVG9vbENhbGxzKHJlc3VsdC5jb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2xDYWxscyA9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IEpTT04uc3RyaW5naWZ5KHRvb2xDYWxscyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLmlkJzogcmVzcG9uc2VEYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5tb2RlbCc6IHJlc3BvbnNlRGF0YS5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS50aW1lc3RhbXAnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLnRpbWVzdGFtcC50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5wcm92aWRlck1ldGFkYXRhJzogSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICApLFxuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyByZW5hbWUgdGVsZW1ldHJ5IGF0dHJpYnV0ZXMgdG8gaW5wdXRUb2tlbnMgYW5kIG91dHB1dFRva2Vuc1xuICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS5wcm9tcHRUb2tlbnMnOiByZXN1bHQudXNhZ2UuaW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLmNvbXBsZXRpb25Ub2tlbnMnOiByZXN1bHQudXNhZ2Uub3V0cHV0VG9rZW5zLFxuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gc3RhbmRhcmRpemVkIGdlbi1haSBsbG0gc3BhbiBhdHRyaWJ1dGVzOlxuICAgICAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVzcG9uc2UuZmluaXNoX3JlYXNvbnMnOiBbcmVzdWx0LmZpbmlzaFJlYXNvbl0sXG4gICAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXNwb25zZS5pZCc6IHJlc3BvbnNlRGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlc3BvbnNlLm1vZGVsJzogcmVzcG9uc2VEYXRhLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS51c2FnZS5pbnB1dF90b2tlbnMnOiByZXN1bHQudXNhZ2UuaW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS51c2FnZS5vdXRwdXRfdG9rZW5zJzogcmVzdWx0LnVzYWdlLm91dHB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5yZXN1bHQsIHJlc3BvbnNlOiByZXNwb25zZURhdGEgfTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICAvLyBwYXJzZSB0b29sIGNhbGxzOlxuICAgICAgICAgIGNvbnN0IHN0ZXBUb29sQ2FsbHM6IFR5cGVkVG9vbENhbGw8VE9PTFM+W10gPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICAgIGN1cnJlbnRNb2RlbFJlc3BvbnNlLmNvbnRlbnRcbiAgICAgICAgICAgICAgLmZpbHRlcihcbiAgICAgICAgICAgICAgICAocGFydCk6IHBhcnQgaXMgTGFuZ3VhZ2VNb2RlbFYyVG9vbENhbGwgPT5cbiAgICAgICAgICAgICAgICAgIHBhcnQudHlwZSA9PT0gJ3Rvb2wtY2FsbCcsXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgLm1hcCh0b29sQ2FsbCA9PlxuICAgICAgICAgICAgICAgIHBhcnNlVG9vbENhbGwoe1xuICAgICAgICAgICAgICAgICAgdG9vbENhbGwsXG4gICAgICAgICAgICAgICAgICB0b29scyxcbiAgICAgICAgICAgICAgICAgIHJlcGFpclRvb2xDYWxsLFxuICAgICAgICAgICAgICAgICAgc3lzdGVtLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZXM6IHN0ZXBJbnB1dE1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICAvLyBub3RpZnkgdGhlIHRvb2xzIHRoYXQgdGhlIHRvb2wgY2FsbHMgYXJlIGF2YWlsYWJsZTpcbiAgICAgICAgICBmb3IgKGNvbnN0IHRvb2xDYWxsIG9mIHN0ZXBUb29sQ2FsbHMpIHtcbiAgICAgICAgICAgIGlmICh0b29sQ2FsbC5pbnZhbGlkKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBpZ25vcmUgaW52YWxpZCB0b29sIGNhbGxzXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHRvb2wgPSB0b29scyFbdG9vbENhbGwudG9vbE5hbWVdO1xuICAgICAgICAgICAgaWYgKHRvb2w/Lm9uSW5wdXRBdmFpbGFibGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBhd2FpdCB0b29sLm9uSW5wdXRBdmFpbGFibGUoe1xuICAgICAgICAgICAgICAgIGlucHV0OiB0b29sQ2FsbC5pbnB1dCxcbiAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiB0b29sQ2FsbC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBzdGVwSW5wdXRNZXNzYWdlcyxcbiAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICBleHBlcmltZW50YWxfY29udGV4dCxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gaW5zZXJ0IGVycm9yIHRvb2wgb3V0cHV0cyBmb3IgaW52YWxpZCB0b29sIGNhbGxzOlxuICAgICAgICAgIC8vIFRPRE8gQUkgU0RLIDY6IGludmFsaWQgaW5wdXRzIHNob3VsZCBub3QgcmVxdWlyZSBvdXRwdXQgcGFydHNcbiAgICAgICAgICBjb25zdCBpbnZhbGlkVG9vbENhbGxzID0gc3RlcFRvb2xDYWxscy5maWx0ZXIoXG4gICAgICAgICAgICB0b29sQ2FsbCA9PiB0b29sQ2FsbC5pbnZhbGlkICYmIHRvb2xDYWxsLmR5bmFtaWMsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGNsaWVudFRvb2xPdXRwdXRzID0gW107XG5cbiAgICAgICAgICBmb3IgKGNvbnN0IHRvb2xDYWxsIG9mIGludmFsaWRUb29sQ2FsbHMpIHtcbiAgICAgICAgICAgIGNsaWVudFRvb2xPdXRwdXRzLnB1c2goe1xuICAgICAgICAgICAgICB0eXBlOiAndG9vbC1lcnJvcicsXG4gICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHRvb2xDYWxsLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgIHRvb2xOYW1lOiB0b29sQ2FsbC50b29sTmFtZSxcbiAgICAgICAgICAgICAgaW5wdXQ6IHRvb2xDYWxsLmlucHV0LFxuICAgICAgICAgICAgICBlcnJvcjogZ2V0RXJyb3JNZXNzYWdlKHRvb2xDYWxsLmVycm9yISksXG4gICAgICAgICAgICAgIGR5bmFtaWM6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBleGVjdXRlIGNsaWVudCB0b29sIGNhbGxzOlxuICAgICAgICAgIGNsaWVudFRvb2xDYWxscyA9IHN0ZXBUb29sQ2FsbHMuZmlsdGVyKFxuICAgICAgICAgICAgdG9vbENhbGwgPT4gIXRvb2xDYWxsLnByb3ZpZGVyRXhlY3V0ZWQsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGlmICh0b29scyAhPSBudWxsKSB7XG4gICAgICAgICAgICBjbGllbnRUb29sT3V0cHV0cy5wdXNoKFxuICAgICAgICAgICAgICAuLi4oYXdhaXQgZXhlY3V0ZVRvb2xzKHtcbiAgICAgICAgICAgICAgICB0b29sQ2FsbHM6IGNsaWVudFRvb2xDYWxscy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbCA9PiAhdG9vbENhbGwuaW52YWxpZCxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHRvb2xzLFxuICAgICAgICAgICAgICAgIHRyYWNlcixcbiAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgbWVzc2FnZXM6IHN0ZXBJbnB1dE1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICAgICAgICAgIGV4cGVyaW1lbnRhbF9jb250ZXh0LFxuICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGNvbnRlbnQ6XG4gICAgICAgICAgY29uc3Qgc3RlcENvbnRlbnQgPSBhc0NvbnRlbnQoe1xuICAgICAgICAgICAgY29udGVudDogY3VycmVudE1vZGVsUmVzcG9uc2UuY29udGVudCxcbiAgICAgICAgICAgIHRvb2xDYWxsczogc3RlcFRvb2xDYWxscyxcbiAgICAgICAgICAgIHRvb2xPdXRwdXRzOiBjbGllbnRUb29sT3V0cHV0cyxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIGFwcGVuZCB0byBtZXNzYWdlcyBmb3IgcG90ZW50aWFsIG5leHQgc3RlcDpcbiAgICAgICAgICByZXNwb25zZU1lc3NhZ2VzLnB1c2goXG4gICAgICAgICAgICAuLi50b1Jlc3BvbnNlTWVzc2FnZXMoe1xuICAgICAgICAgICAgICBjb250ZW50OiBzdGVwQ29udGVudCxcbiAgICAgICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgLy8gQWRkIHN0ZXAgaW5mb3JtYXRpb24gKGFmdGVyIHJlc3BvbnNlIG1lc3NhZ2VzIGFyZSB1cGRhdGVkKTpcbiAgICAgICAgICBjb25zdCBjdXJyZW50U3RlcFJlc3VsdDogU3RlcFJlc3VsdDxUT09MUz4gPSBuZXcgRGVmYXVsdFN0ZXBSZXN1bHQoe1xuICAgICAgICAgICAgY29udGVudDogc3RlcENvbnRlbnQsXG4gICAgICAgICAgICBmaW5pc2hSZWFzb246IGN1cnJlbnRNb2RlbFJlc3BvbnNlLmZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgIHVzYWdlOiBjdXJyZW50TW9kZWxSZXNwb25zZS51c2FnZSxcbiAgICAgICAgICAgIHdhcm5pbmdzOiBjdXJyZW50TW9kZWxSZXNwb25zZS53YXJuaW5ncyxcbiAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IGN1cnJlbnRNb2RlbFJlc3BvbnNlLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICByZXF1ZXN0OiBjdXJyZW50TW9kZWxSZXNwb25zZS5yZXF1ZXN0ID8/IHt9LFxuICAgICAgICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgICAgICAgLi4uY3VycmVudE1vZGVsUmVzcG9uc2UucmVzcG9uc2UsXG4gICAgICAgICAgICAgIC8vIGRlZXAgY2xvbmUgbXNncyB0byBhdm9pZCBtdXRhdGluZyBwYXN0IG1lc3NhZ2VzIGluIG11bHRpLXN0ZXA6XG4gICAgICAgICAgICAgIG1lc3NhZ2VzOiBzdHJ1Y3R1cmVkQ2xvbmUocmVzcG9uc2VNZXNzYWdlcyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgbG9nV2FybmluZ3MoY3VycmVudE1vZGVsUmVzcG9uc2Uud2FybmluZ3MgPz8gW10pO1xuXG4gICAgICAgICAgc3RlcHMucHVzaChjdXJyZW50U3RlcFJlc3VsdCk7XG4gICAgICAgICAgYXdhaXQgb25TdGVwRmluaXNoPy4oY3VycmVudFN0ZXBSZXN1bHQpO1xuICAgICAgICB9IHdoaWxlIChcbiAgICAgICAgICAvLyB0aGVyZSBhcmUgdG9vbCBjYWxsczpcbiAgICAgICAgICBjbGllbnRUb29sQ2FsbHMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgIC8vIGFsbCBjdXJyZW50IHRvb2wgY2FsbHMgaGF2ZSBvdXRwdXRzIChpbmNsLiBleGVjdXRpb24gZXJyb3JzKTpcbiAgICAgICAgICBjbGllbnRUb29sT3V0cHV0cy5sZW5ndGggPT09IGNsaWVudFRvb2xDYWxscy5sZW5ndGggJiZcbiAgICAgICAgICAvLyBjb250aW51ZSB1bnRpbCBhIHN0b3AgY29uZGl0aW9uIGlzIG1ldDpcbiAgICAgICAgICAhKGF3YWl0IGlzU3RvcENvbmRpdGlvbk1ldCh7IHN0b3BDb25kaXRpb25zLCBzdGVwcyB9KSlcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBBZGQgcmVzcG9uc2UgaW5mb3JtYXRpb24gdG8gdGhlIHNwYW46XG4gICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLmZpbmlzaFJlYXNvbic6IGN1cnJlbnRNb2RlbFJlc3BvbnNlLmZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnRleHQnOiB7XG4gICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBleHRyYWN0VGV4dENvbnRlbnQoY3VycmVudE1vZGVsUmVzcG9uc2UuY29udGVudCksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICdhaS5yZXNwb25zZS50b29sQ2FsbHMnOiB7XG4gICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCB0b29sQ2FsbHMgPSBhc1Rvb2xDYWxscyhjdXJyZW50TW9kZWxSZXNwb25zZS5jb250ZW50KTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0b29sQ2FsbHMgPT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA6IEpTT04uc3RyaW5naWZ5KHRvb2xDYWxscyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnByb3ZpZGVyTWV0YWRhdGEnOiBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgICAgICBjdXJyZW50TW9kZWxSZXNwb25zZS5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICApLFxuXG4gICAgICAgICAgICAgIC8vIFRPRE8gcmVuYW1lIHRlbGVtZXRyeSBhdHRyaWJ1dGVzIHRvIGlucHV0VG9rZW5zIGFuZCBvdXRwdXRUb2tlbnNcbiAgICAgICAgICAgICAgJ2FpLnVzYWdlLnByb21wdFRva2Vucyc6IGN1cnJlbnRNb2RlbFJlc3BvbnNlLnVzYWdlLmlucHV0VG9rZW5zLFxuICAgICAgICAgICAgICAnYWkudXNhZ2UuY29tcGxldGlvblRva2Vucyc6XG4gICAgICAgICAgICAgICAgY3VycmVudE1vZGVsUmVzcG9uc2UudXNhZ2Uub3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBsYXN0U3RlcCA9IHN0ZXBzW3N0ZXBzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIHJldHVybiBuZXcgRGVmYXVsdEdlbmVyYXRlVGV4dFJlc3VsdCh7XG4gICAgICAgICAgc3RlcHMsXG4gICAgICAgICAgcmVzb2x2ZWRPdXRwdXQ6IGF3YWl0IG91dHB1dD8ucGFyc2VPdXRwdXQoXG4gICAgICAgICAgICB7IHRleHQ6IGxhc3RTdGVwLnRleHQgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcmVzcG9uc2U6IGxhc3RTdGVwLnJlc3BvbnNlLFxuICAgICAgICAgICAgICB1c2FnZTogbGFzdFN0ZXAudXNhZ2UsXG4gICAgICAgICAgICAgIGZpbmlzaFJlYXNvbjogbGFzdFN0ZXAuZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICApLFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgd3JhcEdhdGV3YXlFcnJvcihlcnJvcik7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZVRvb2xzPFRPT0xTIGV4dGVuZHMgVG9vbFNldD4oe1xuICB0b29sQ2FsbHMsXG4gIHRvb2xzLFxuICB0cmFjZXIsXG4gIHRlbGVtZXRyeSxcbiAgbWVzc2FnZXMsXG4gIGFib3J0U2lnbmFsLFxuICBleHBlcmltZW50YWxfY29udGV4dCxcbn06IHtcbiAgdG9vbENhbGxzOiBBcnJheTxUeXBlZFRvb2xDYWxsPFRPT0xTPj47XG4gIHRvb2xzOiBUT09MUztcbiAgdHJhY2VyOiBUcmFjZXI7XG4gIHRlbGVtZXRyeTogVGVsZW1ldHJ5U2V0dGluZ3MgfCB1bmRlZmluZWQ7XG4gIG1lc3NhZ2VzOiBNb2RlbE1lc3NhZ2VbXTtcbiAgYWJvcnRTaWduYWw6IEFib3J0U2lnbmFsIHwgdW5kZWZpbmVkO1xuICBleHBlcmltZW50YWxfY29udGV4dDogdW5rbm93bjtcbn0pOiBQcm9taXNlPEFycmF5PFRvb2xPdXRwdXQ8VE9PTFM+Pj4ge1xuICBjb25zdCB0b29sT3V0cHV0cyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgIHRvb2xDYWxscy5tYXAoYXN5bmMgKHsgdG9vbENhbGxJZCwgdG9vbE5hbWUsIGlucHV0IH0pID0+IHtcbiAgICAgIGNvbnN0IHRvb2wgPSB0b29sc1t0b29sTmFtZV07XG5cbiAgICAgIGlmICh0b29sPy5leGVjdXRlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlY29yZFNwYW4oe1xuICAgICAgICBuYW1lOiAnYWkudG9vbENhbGwnLFxuICAgICAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgICAgICAgICAgICAgb3BlcmF0aW9uSWQ6ICdhaS50b29sQ2FsbCcsXG4gICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgJ2FpLnRvb2xDYWxsLm5hbWUnOiB0b29sTmFtZSxcbiAgICAgICAgICAgICdhaS50b29sQ2FsbC5pZCc6IHRvb2xDYWxsSWQsXG4gICAgICAgICAgICAnYWkudG9vbENhbGwuYXJncyc6IHtcbiAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeShpbnB1dCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgICB0cmFjZXIsXG4gICAgICAgIGZuOiBhc3luYyBzcGFuID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3RyZWFtID0gZXhlY3V0ZVRvb2woe1xuICAgICAgICAgICAgICBleGVjdXRlOiB0b29sLmV4ZWN1dGUhLmJpbmQodG9vbCksXG4gICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgdG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICBleHBlcmltZW50YWxfY29udGV4dCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZXQgb3V0cHV0OiB1bmtub3duO1xuICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBwYXJ0IG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgICBpZiAocGFydC50eXBlID09PSAnZmluYWwnKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gcGFydC5vdXRwdXQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2FpLnRvb2xDYWxsLnJlc3VsdCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KG91dHB1dCksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBjYXRjaCAoaWdub3JlZCkge1xuICAgICAgICAgICAgICAvLyBKU09OIHN0cmluZ2lmeSBtaWdodCBmYWlsIGlmIHRoZSByZXN1bHQgaXMgbm90IHNlcmlhbGl6YWJsZSxcbiAgICAgICAgICAgICAgLy8gaW4gd2hpY2ggY2FzZSB3ZSBqdXN0IGlnbm9yZSBpdC4gSW4gdGhlIGZ1dHVyZSB3ZSBtaWdodCB3YW50IHRvXG4gICAgICAgICAgICAgIC8vIGFkZCBhbiBvcHRpb25hbCBzZXJpYWxpemUgbWV0aG9kIHRvIHRoZSB0b29sIGludGVyZmFjZSBhbmQgd2FyblxuICAgICAgICAgICAgICAvLyBpZiB0aGUgcmVzdWx0IGlzIG5vdCBzZXJpYWxpemFibGUuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHR5cGU6ICd0b29sLXJlc3VsdCcsXG4gICAgICAgICAgICAgIHRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgIHRvb2xOYW1lLFxuICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICBkeW5hbWljOiB0b29sLnR5cGUgPT09ICdkeW5hbWljJyxcbiAgICAgICAgICAgIH0gYXMgVHlwZWRUb29sUmVzdWx0PFRPT0xTPjtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVjb3JkRXJyb3JPblNwYW4oc3BhbiwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtZXJyb3InLFxuICAgICAgICAgICAgICB0b29sQ2FsbElkLFxuICAgICAgICAgICAgICB0b29sTmFtZSxcbiAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICBkeW5hbWljOiB0b29sLnR5cGUgPT09ICdkeW5hbWljJyxcbiAgICAgICAgICAgIH0gYXMgVHlwZWRUb29sRXJyb3I8VE9PTFM+O1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0pLFxuICApO1xuXG4gIHJldHVybiB0b29sT3V0cHV0cy5maWx0ZXIoXG4gICAgKG91dHB1dCk6IG91dHB1dCBpcyBOb25OdWxsYWJsZTx0eXBlb2Ygb3V0cHV0PiA9PiBvdXRwdXQgIT0gbnVsbCxcbiAgKTtcbn1cblxuY2xhc3MgRGVmYXVsdEdlbmVyYXRlVGV4dFJlc3VsdDxUT09MUyBleHRlbmRzIFRvb2xTZXQsIE9VVFBVVD5cbiAgaW1wbGVtZW50cyBHZW5lcmF0ZVRleHRSZXN1bHQ8VE9PTFMsIE9VVFBVVD5cbntcbiAgcmVhZG9ubHkgc3RlcHM6IEdlbmVyYXRlVGV4dFJlc3VsdDxUT09MUywgT1VUUFVUPlsnc3RlcHMnXTtcblxuICBwcml2YXRlIHJlYWRvbmx5IHJlc29sdmVkT3V0cHV0OiBPVVRQVVQ7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczoge1xuICAgIHN0ZXBzOiBHZW5lcmF0ZVRleHRSZXN1bHQ8VE9PTFMsIE9VVFBVVD5bJ3N0ZXBzJ107XG4gICAgcmVzb2x2ZWRPdXRwdXQ6IE9VVFBVVDtcbiAgfSkge1xuICAgIHRoaXMuc3RlcHMgPSBvcHRpb25zLnN0ZXBzO1xuICAgIHRoaXMucmVzb2x2ZWRPdXRwdXQgPSBvcHRpb25zLnJlc29sdmVkT3V0cHV0O1xuICB9XG5cbiAgcHJpdmF0ZSBnZXQgZmluYWxTdGVwKCkge1xuICAgIHJldHVybiB0aGlzLnN0ZXBzW3RoaXMuc3RlcHMubGVuZ3RoIC0gMV07XG4gIH1cblxuICBnZXQgY29udGVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAuY29udGVudDtcbiAgfVxuXG4gIGdldCB0ZXh0KCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50ZXh0O1xuICB9XG5cbiAgZ2V0IGZpbGVzKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC5maWxlcztcbiAgfVxuXG4gIGdldCByZWFzb25pbmdUZXh0KCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC5yZWFzb25pbmdUZXh0O1xuICB9XG5cbiAgZ2V0IHJlYXNvbmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAucmVhc29uaW5nO1xuICB9XG5cbiAgZ2V0IHRvb2xDYWxscygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudG9vbENhbGxzO1xuICB9XG5cbiAgZ2V0IHN0YXRpY1Rvb2xDYWxscygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAuc3RhdGljVG9vbENhbGxzO1xuICB9XG5cbiAgZ2V0IGR5bmFtaWNUb29sQ2FsbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLmR5bmFtaWNUb29sQ2FsbHM7XG4gIH1cblxuICBnZXQgdG9vbFJlc3VsdHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRvb2xSZXN1bHRzO1xuICB9XG5cbiAgZ2V0IHN0YXRpY1Rvb2xSZXN1bHRzKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC5zdGF0aWNUb29sUmVzdWx0cztcbiAgfVxuXG4gIGdldCBkeW5hbWljVG9vbFJlc3VsdHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLmR5bmFtaWNUb29sUmVzdWx0cztcbiAgfVxuXG4gIGdldCBzb3VyY2VzKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC5zb3VyY2VzO1xuICB9XG5cbiAgZ2V0IGZpbmlzaFJlYXNvbigpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAuZmluaXNoUmVhc29uO1xuICB9XG5cbiAgZ2V0IHdhcm5pbmdzKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC53YXJuaW5ncztcbiAgfVxuXG4gIGdldCBwcm92aWRlck1ldGFkYXRhKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC5wcm92aWRlck1ldGFkYXRhO1xuICB9XG5cbiAgZ2V0IHJlc3BvbnNlKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC5yZXNwb25zZTtcbiAgfVxuXG4gIGdldCByZXF1ZXN0KCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC5yZXF1ZXN0O1xuICB9XG5cbiAgZ2V0IHVzYWdlKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC51c2FnZTtcbiAgfVxuXG4gIGdldCB0b3RhbFVzYWdlKCkge1xuICAgIHJldHVybiB0aGlzLnN0ZXBzLnJlZHVjZShcbiAgICAgICh0b3RhbFVzYWdlLCBzdGVwKSA9PiB7XG4gICAgICAgIHJldHVybiBhZGRMYW5ndWFnZU1vZGVsVXNhZ2UodG90YWxVc2FnZSwgc3RlcC51c2FnZSk7XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpbnB1dFRva2VuczogdW5kZWZpbmVkLFxuICAgICAgICBvdXRwdXRUb2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgdG90YWxUb2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgcmVhc29uaW5nVG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgIGNhY2hlZElucHV0VG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICB9IGFzIExhbmd1YWdlTW9kZWxVc2FnZSxcbiAgICApO1xuICB9XG5cbiAgZ2V0IGV4cGVyaW1lbnRhbF9vdXRwdXQoKSB7XG4gICAgaWYgKHRoaXMucmVzb2x2ZWRPdXRwdXQgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IE5vT3V0cHV0U3BlY2lmaWVkRXJyb3IoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5yZXNvbHZlZE91dHB1dDtcbiAgfVxufVxuXG5mdW5jdGlvbiBhc1Rvb2xDYWxscyhjb250ZW50OiBBcnJheTxMYW5ndWFnZU1vZGVsVjJDb250ZW50Pikge1xuICBjb25zdCBwYXJ0cyA9IGNvbnRlbnQuZmlsdGVyKFxuICAgIChwYXJ0KTogcGFydCBpcyBMYW5ndWFnZU1vZGVsVjJUb29sQ2FsbCA9PiBwYXJ0LnR5cGUgPT09ICd0b29sLWNhbGwnLFxuICApO1xuXG4gIGlmIChwYXJ0cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgcmV0dXJuIHBhcnRzLm1hcCh0b29sQ2FsbCA9PiAoe1xuICAgIHRvb2xDYWxsSWQ6IHRvb2xDYWxsLnRvb2xDYWxsSWQsXG4gICAgdG9vbE5hbWU6IHRvb2xDYWxsLnRvb2xOYW1lLFxuICAgIGlucHV0OiB0b29sQ2FsbC5pbnB1dCxcbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBhc0NvbnRlbnQ8VE9PTFMgZXh0ZW5kcyBUb29sU2V0Pih7XG4gIGNvbnRlbnQsXG4gIHRvb2xDYWxscyxcbiAgdG9vbE91dHB1dHMsXG59OiB7XG4gIGNvbnRlbnQ6IEFycmF5PExhbmd1YWdlTW9kZWxWMkNvbnRlbnQ+O1xuICB0b29sQ2FsbHM6IEFycmF5PFR5cGVkVG9vbENhbGw8VE9PTFM+PjtcbiAgdG9vbE91dHB1dHM6IEFycmF5PFRvb2xPdXRwdXQ8VE9PTFM+Pjtcbn0pOiBBcnJheTxDb250ZW50UGFydDxUT09MUz4+IHtcbiAgcmV0dXJuIFtcbiAgICAuLi5jb250ZW50Lm1hcChwYXJ0ID0+IHtcbiAgICAgIHN3aXRjaCAocGFydC50eXBlKSB7XG4gICAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICBjYXNlICdyZWFzb25pbmcnOlxuICAgICAgICBjYXNlICdzb3VyY2UnOlxuICAgICAgICAgIHJldHVybiBwYXJ0O1xuXG4gICAgICAgIGNhc2UgJ2ZpbGUnOiB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdmaWxlJyBhcyBjb25zdCxcbiAgICAgICAgICAgIGZpbGU6IG5ldyBEZWZhdWx0R2VuZXJhdGVkRmlsZShwYXJ0KSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAndG9vbC1jYWxsJzoge1xuICAgICAgICAgIHJldHVybiB0b29sQ2FsbHMuZmluZChcbiAgICAgICAgICAgIHRvb2xDYWxsID0+IHRvb2xDYWxsLnRvb2xDYWxsSWQgPT09IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgICApITtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ3Rvb2wtcmVzdWx0Jzoge1xuICAgICAgICAgIGNvbnN0IHRvb2xDYWxsID0gdG9vbENhbGxzLmZpbmQoXG4gICAgICAgICAgICB0b29sQ2FsbCA9PiB0b29sQ2FsbC50b29sQ2FsbElkID09PSBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgKSE7XG5cbiAgICAgICAgICBpZiAodG9vbENhbGwgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUb29sIGNhbGwgJHtwYXJ0LnRvb2xDYWxsSWR9IG5vdCBmb3VuZC5gKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocGFydC5pc0Vycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB0eXBlOiAndG9vbC1lcnJvcicgYXMgY29uc3QsXG4gICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbE5hbWUgYXMga2V5b2YgVE9PTFMgJiBzdHJpbmcsXG4gICAgICAgICAgICAgIGlucHV0OiB0b29sQ2FsbC5pbnB1dCxcbiAgICAgICAgICAgICAgZXJyb3I6IHBhcnQucmVzdWx0LFxuICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiB0cnVlLFxuICAgICAgICAgICAgICBkeW5hbWljOiB0b29sQ2FsbC5keW5hbWljLFxuICAgICAgICAgICAgfSBhcyBUeXBlZFRvb2xFcnJvcjxUT09MUz47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICd0b29sLXJlc3VsdCcgYXMgY29uc3QsXG4gICAgICAgICAgICB0b29sQ2FsbElkOiBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgICB0b29sTmFtZTogcGFydC50b29sTmFtZSBhcyBrZXlvZiBUT09MUyAmIHN0cmluZyxcbiAgICAgICAgICAgIGlucHV0OiB0b29sQ2FsbC5pbnB1dCxcbiAgICAgICAgICAgIG91dHB1dDogcGFydC5yZXN1bHQsXG4gICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiB0cnVlLFxuICAgICAgICAgICAgZHluYW1pYzogdG9vbENhbGwuZHluYW1pYyxcbiAgICAgICAgICB9IGFzIFR5cGVkVG9vbFJlc3VsdDxUT09MUz47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSxcbiAgICAuLi50b29sT3V0cHV0cyxcbiAgXTtcbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfTm9PdXRwdXRTcGVjaWZpZWRFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG4vKipcblRocm93biB3aGVuIG5vIG91dHB1dCB0eXBlIGlzIHNwZWNpZmllZCBhbmQgb3V0cHV0LXJlbGF0ZWQgbWV0aG9kcyBhcmUgY2FsbGVkLlxuICovXG5leHBvcnQgY2xhc3MgTm9PdXRwdXRTcGVjaWZpZWRFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgY29uc3RydWN0b3IoeyBtZXNzYWdlID0gJ05vIG91dHB1dCBzcGVjaWZpZWQuJyB9OiB7IG1lc3NhZ2U/OiBzdHJpbmcgfSA9IHt9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlIH0pO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBOb091dHB1dFNwZWNpZmllZEVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQge1xuICBJbWFnZU1vZGVsVjJDYWxsV2FybmluZyxcbiAgTGFuZ3VhZ2VNb2RlbFYyQ2FsbFdhcm5pbmcsXG4gIFNwZWVjaE1vZGVsVjJDYWxsV2FybmluZyxcbiAgVHJhbnNjcmlwdGlvbk1vZGVsVjJDYWxsV2FybmluZyxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmV4cG9ydCB0eXBlIFdhcm5pbmcgPVxuICB8IExhbmd1YWdlTW9kZWxWMkNhbGxXYXJuaW5nXG4gIHwgSW1hZ2VNb2RlbFYyQ2FsbFdhcm5pbmdcbiAgfCBTcGVlY2hNb2RlbFYyQ2FsbFdhcm5pbmdcbiAgfCBUcmFuc2NyaXB0aW9uTW9kZWxWMkNhbGxXYXJuaW5nO1xuXG5leHBvcnQgdHlwZSBMb2dXYXJuaW5nc0Z1bmN0aW9uID0gKHdhcm5pbmdzOiBXYXJuaW5nW10pID0+IHZvaWQ7XG5cbi8qKlxuICogRm9ybWF0cyBhIHdhcm5pbmcgb2JqZWN0IGludG8gYSBodW1hbi1yZWFkYWJsZSBzdHJpbmcgd2l0aCBjbGVhciBBSSBTREsgYnJhbmRpbmdcbiAqL1xuZnVuY3Rpb24gZm9ybWF0V2FybmluZyh3YXJuaW5nOiBXYXJuaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgcHJlZml4ID0gJ0FJIFNESyBXYXJuaW5nOic7XG5cbiAgc3dpdGNoICh3YXJuaW5nLnR5cGUpIHtcbiAgICBjYXNlICd1bnN1cHBvcnRlZC1zZXR0aW5nJzoge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBgJHtwcmVmaXh9IFRoZSBcIiR7d2FybmluZy5zZXR0aW5nfVwiIHNldHRpbmcgaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIG1vZGVsYDtcbiAgICAgIGlmICh3YXJuaW5nLmRldGFpbHMpIHtcbiAgICAgICAgbWVzc2FnZSArPSBgIC0gJHt3YXJuaW5nLmRldGFpbHN9YDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cblxuICAgIGNhc2UgJ3Vuc3VwcG9ydGVkLXRvb2wnOiB7XG4gICAgICBjb25zdCB0b29sTmFtZSA9XG4gICAgICAgICduYW1lJyBpbiB3YXJuaW5nLnRvb2wgPyB3YXJuaW5nLnRvb2wubmFtZSA6ICd1bmtub3duIHRvb2wnO1xuICAgICAgbGV0IG1lc3NhZ2UgPSBgJHtwcmVmaXh9IFRoZSB0b29sIFwiJHt0b29sTmFtZX1cIiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgbW9kZWxgO1xuICAgICAgaWYgKHdhcm5pbmcuZGV0YWlscykge1xuICAgICAgICBtZXNzYWdlICs9IGAgLSAke3dhcm5pbmcuZGV0YWlsc31gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuXG4gICAgY2FzZSAnb3RoZXInOiB7XG4gICAgICByZXR1cm4gYCR7cHJlZml4fSAke3dhcm5pbmcubWVzc2FnZX1gO1xuICAgIH1cblxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIC8vIEZhbGxiYWNrIGZvciBhbnkgdW5rbm93biB3YXJuaW5nIHR5cGVzXG4gICAgICByZXR1cm4gYCR7cHJlZml4fSAke0pTT04uc3RyaW5naWZ5KHdhcm5pbmcsIG51bGwsIDIpfWA7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBGSVJTVF9XQVJOSU5HX0lORk9fTUVTU0FHRSA9XG4gICdBSSBTREsgV2FybmluZyBTeXN0ZW06IFRvIHR1cm4gb2ZmIHdhcm5pbmcgbG9nZ2luZywgc2V0IHRoZSBBSV9TREtfTE9HX1dBUk5JTkdTIGdsb2JhbCB0byBmYWxzZS4nO1xuXG5sZXQgaGFzTG9nZ2VkQmVmb3JlID0gZmFsc2U7XG5cbmV4cG9ydCBjb25zdCBsb2dXYXJuaW5nczogTG9nV2FybmluZ3NGdW5jdGlvbiA9IHdhcm5pbmdzID0+IHtcbiAgLy8gaWYgdGhlIHdhcm5pbmdzIGFycmF5IGlzIGVtcHR5LCBkbyBub3RoaW5nXG4gIGlmICh3YXJuaW5ncy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBsb2dnZXIgPSBnbG9iYWxUaGlzLkFJX1NES19MT0dfV0FSTklOR1M7XG5cbiAgLy8gaWYgdGhlIGxvZ2dlciBpcyBzZXQgdG8gZmFsc2UsIGRvIG5vdGhpbmdcbiAgaWYgKGxvZ2dlciA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyB1c2UgdGhlIHByb3ZpZGVkIGxvZ2dlciBpZiBpdCBpcyBhIGZ1bmN0aW9uXG4gIGlmICh0eXBlb2YgbG9nZ2VyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgbG9nZ2VyKHdhcm5pbmdzKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBkaXNwbGF5IGluZm9ybWF0aW9uIG5vdGUgb24gZmlyc3QgY2FsbFxuICBpZiAoIWhhc0xvZ2dlZEJlZm9yZSkge1xuICAgIGhhc0xvZ2dlZEJlZm9yZSA9IHRydWU7XG4gICAgY29uc29sZS5pbmZvKEZJUlNUX1dBUk5JTkdfSU5GT19NRVNTQUdFKTtcbiAgfVxuXG4gIC8vIGRlZmF1bHQgYmVoYXZpb3I6IGxvZyB3YXJuaW5ncyB0byB0aGUgY29uc29sZVxuICBmb3IgKGNvbnN0IHdhcm5pbmcgb2Ygd2FybmluZ3MpIHtcbiAgICBjb25zb2xlLndhcm4oZm9ybWF0V2FybmluZyh3YXJuaW5nKSk7XG4gIH1cbn07XG5cbi8vIFJlc2V0IGZ1bmN0aW9uIGZvciB0ZXN0aW5nIHB1cnBvc2VzXG5leHBvcnQgY29uc3QgcmVzZXRMb2dXYXJuaW5nc1N0YXRlID0gKCkgPT4ge1xuICBoYXNMb2dnZWRCZWZvcmUgPSBmYWxzZTtcbn07XG4iLCAiaW1wb3J0IHsgZ2F0ZXdheSB9IGZyb20gJ0BhaS1zZGsvZ2F0ZXdheSc7XG5pbXBvcnQge1xuICBFbWJlZGRpbmdNb2RlbFYyLFxuICBMYW5ndWFnZU1vZGVsVjIsXG4gIFByb3ZpZGVyVjIsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgVW5zdXBwb3J0ZWRNb2RlbFZlcnNpb25FcnJvciB9IGZyb20gJy4uL2Vycm9yJztcbmltcG9ydCB7IEVtYmVkZGluZ01vZGVsIH0gZnJvbSAnLi4vdHlwZXMvZW1iZWRkaW5nLW1vZGVsJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWwgfSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbCc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlTGFuZ3VhZ2VNb2RlbChtb2RlbDogTGFuZ3VhZ2VNb2RlbCk6IExhbmd1YWdlTW9kZWxWMiB7XG4gIGlmICh0eXBlb2YgbW9kZWwgIT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKG1vZGVsLnNwZWNpZmljYXRpb25WZXJzaW9uICE9PSAndjInKSB7XG4gICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRNb2RlbFZlcnNpb25FcnJvcih7XG4gICAgICAgIHZlcnNpb246IG1vZGVsLnNwZWNpZmljYXRpb25WZXJzaW9uLFxuICAgICAgICBwcm92aWRlcjogbW9kZWwucHJvdmlkZXIsXG4gICAgICAgIG1vZGVsSWQ6IG1vZGVsLm1vZGVsSWQsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9kZWw7XG4gIH1cblxuICByZXR1cm4gZ2V0R2xvYmFsUHJvdmlkZXIoKS5sYW5ndWFnZU1vZGVsKG1vZGVsKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVFbWJlZGRpbmdNb2RlbDxWQUxVRSA9IHN0cmluZz4oXG4gIG1vZGVsOiBFbWJlZGRpbmdNb2RlbDxWQUxVRT4sXG4pOiBFbWJlZGRpbmdNb2RlbFYyPFZBTFVFPiB7XG4gIGlmICh0eXBlb2YgbW9kZWwgIT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKG1vZGVsLnNwZWNpZmljYXRpb25WZXJzaW9uICE9PSAndjInKSB7XG4gICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRNb2RlbFZlcnNpb25FcnJvcih7XG4gICAgICAgIHZlcnNpb246IG1vZGVsLnNwZWNpZmljYXRpb25WZXJzaW9uLFxuICAgICAgICBwcm92aWRlcjogbW9kZWwucHJvdmlkZXIsXG4gICAgICAgIG1vZGVsSWQ6IG1vZGVsLm1vZGVsSWQsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9kZWw7XG4gIH1cblxuICAvLyBUT0RPIEFJIFNESyA2OiBmaWd1cmUgb3V0IGhvdyB0byBjbGVhbmx5IHN1cHBvcnQgZGlmZmVyZW50IGdlbmVyaWMgdHlwZXNcbiAgcmV0dXJuIGdldEdsb2JhbFByb3ZpZGVyKCkudGV4dEVtYmVkZGluZ01vZGVsKFxuICAgIG1vZGVsLFxuICApIGFzIEVtYmVkZGluZ01vZGVsVjI8VkFMVUU+O1xufVxuXG5mdW5jdGlvbiBnZXRHbG9iYWxQcm92aWRlcigpOiBQcm92aWRlclYyIHtcbiAgcmV0dXJuIGdsb2JhbFRoaXMuQUlfU0RLX0RFRkFVTFRfUFJPVklERVIgPz8gZ2F0ZXdheTtcbn1cbiIsICJleHBvcnQge1xuICBBSVNES0Vycm9yLFxuICBBUElDYWxsRXJyb3IsXG4gIEVtcHR5UmVzcG9uc2VCb2R5RXJyb3IsXG4gIEludmFsaWRQcm9tcHRFcnJvcixcbiAgSW52YWxpZFJlc3BvbnNlRGF0YUVycm9yLFxuICBKU09OUGFyc2VFcnJvcixcbiAgTG9hZEFQSUtleUVycm9yLFxuICBOb0NvbnRlbnRHZW5lcmF0ZWRFcnJvcixcbiAgTm9TdWNoTW9kZWxFcnJvcixcbiAgVG9vTWFueUVtYmVkZGluZ1ZhbHVlc0ZvckNhbGxFcnJvcixcbiAgVHlwZVZhbGlkYXRpb25FcnJvcixcbiAgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5leHBvcnQgeyBJbnZhbGlkQXJndW1lbnRFcnJvciB9IGZyb20gJy4vaW52YWxpZC1hcmd1bWVudC1lcnJvcic7XG5leHBvcnQgeyBJbnZhbGlkU3RyZWFtUGFydEVycm9yIH0gZnJvbSAnLi9pbnZhbGlkLXN0cmVhbS1wYXJ0LWVycm9yJztcbmV4cG9ydCB7IEludmFsaWRUb29sSW5wdXRFcnJvciB9IGZyb20gJy4vaW52YWxpZC10b29sLWlucHV0LWVycm9yJztcbmV4cG9ydCB7IE1DUENsaWVudEVycm9yIH0gZnJvbSAnLi9tY3AtY2xpZW50LWVycm9yJztcbmV4cG9ydCB7IE5vSW1hZ2VHZW5lcmF0ZWRFcnJvciB9IGZyb20gJy4vbm8taW1hZ2UtZ2VuZXJhdGVkLWVycm9yJztcbmV4cG9ydCB7IE5vT2JqZWN0R2VuZXJhdGVkRXJyb3IgfSBmcm9tICcuL25vLW9iamVjdC1nZW5lcmF0ZWQtZXJyb3InO1xuZXhwb3J0IHsgTm9PdXRwdXRHZW5lcmF0ZWRFcnJvciB9IGZyb20gJy4vbm8tb3V0cHV0LWdlbmVyYXRlZC1lcnJvcic7XG5leHBvcnQgeyBOb091dHB1dFNwZWNpZmllZEVycm9yIH0gZnJvbSAnLi9uby1vdXRwdXQtc3BlY2lmaWVkLWVycm9yJztcbmV4cG9ydCB7IE5vU3VjaFRvb2xFcnJvciB9IGZyb20gJy4vbm8tc3VjaC10b29sLWVycm9yJztcbmV4cG9ydCB7IFRvb2xDYWxsUmVwYWlyRXJyb3IgfSBmcm9tICcuL3Rvb2wtY2FsbC1yZXBhaXItZXJyb3InO1xuZXhwb3J0IHsgVW5zdXBwb3J0ZWRNb2RlbFZlcnNpb25FcnJvciB9IGZyb20gJy4vdW5zdXBwb3J0ZWQtbW9kZWwtdmVyc2lvbi1lcnJvcic7XG5cbmV4cG9ydCB7IEludmFsaWREYXRhQ29udGVudEVycm9yIH0gZnJvbSAnLi4vcHJvbXB0L2ludmFsaWQtZGF0YS1jb250ZW50LWVycm9yJztcbmV4cG9ydCB7IEludmFsaWRNZXNzYWdlUm9sZUVycm9yIH0gZnJvbSAnLi4vcHJvbXB0L2ludmFsaWQtbWVzc2FnZS1yb2xlLWVycm9yJztcbmV4cG9ydCB7IE1lc3NhZ2VDb252ZXJzaW9uRXJyb3IgfSBmcm9tICcuLi9wcm9tcHQvbWVzc2FnZS1jb252ZXJzaW9uLWVycm9yJztcbmV4cG9ydCB7IERvd25sb2FkRXJyb3IgfSBmcm9tICcuLi91dGlsL2Rvd25sb2FkL2Rvd25sb2FkLWVycm9yJztcbmV4cG9ydCB7IFJldHJ5RXJyb3IgfSBmcm9tICcuLi91dGlsL3JldHJ5LWVycm9yJztcbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfSW52YWxpZEFyZ3VtZW50RXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGNsYXNzIEludmFsaWRBcmd1bWVudEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSBwYXJhbWV0ZXI6IHN0cmluZztcbiAgcmVhZG9ubHkgdmFsdWU6IHVua25vd247XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIHBhcmFtZXRlcixcbiAgICB2YWx1ZSxcbiAgICBtZXNzYWdlLFxuICB9OiB7XG4gICAgcGFyYW1ldGVyOiBzdHJpbmc7XG4gICAgdmFsdWU6IHVua25vd247XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgbmFtZSxcbiAgICAgIG1lc3NhZ2U6IGBJbnZhbGlkIGFyZ3VtZW50IGZvciBwYXJhbWV0ZXIgJHtwYXJhbWV0ZXJ9OiAke21lc3NhZ2V9YCxcbiAgICB9KTtcblxuICAgIHRoaXMucGFyYW1ldGVyID0gcGFyYW1ldGVyO1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgSW52YWxpZEFyZ3VtZW50RXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IFNpbmdsZVJlcXVlc3RUZXh0U3RyZWFtUGFydCB9IGZyb20gJy4uL2dlbmVyYXRlLXRleHQvcnVuLXRvb2xzLXRyYW5zZm9ybWF0aW9uJztcblxuY29uc3QgbmFtZSA9ICdBSV9JbnZhbGlkU3RyZWFtUGFydEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBJbnZhbGlkU3RyZWFtUGFydEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSBjaHVuazogU2luZ2xlUmVxdWVzdFRleHRTdHJlYW1QYXJ0PGFueT47XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIGNodW5rLFxuICAgIG1lc3NhZ2UsXG4gIH06IHtcbiAgICBjaHVuazogU2luZ2xlUmVxdWVzdFRleHRTdHJlYW1QYXJ0PGFueT47XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlIH0pO1xuXG4gICAgdGhpcy5jaHVuayA9IGNodW5rO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBJbnZhbGlkU3RyZWFtUGFydEVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yLCBnZXRFcnJvck1lc3NhZ2UgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuY29uc3QgbmFtZSA9ICdBSV9JbnZhbGlkVG9vbElucHV0RXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGNsYXNzIEludmFsaWRUb29sSW5wdXRFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgdG9vbE5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgdG9vbElucHV0OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIHRvb2xJbnB1dCxcbiAgICB0b29sTmFtZSxcbiAgICBjYXVzZSxcbiAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXQgZm9yIHRvb2wgJHt0b29sTmFtZX06ICR7Z2V0RXJyb3JNZXNzYWdlKGNhdXNlKX1gLFxuICB9OiB7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgICB0b29sSW5wdXQ6IHN0cmluZztcbiAgICB0b29sTmFtZTogc3RyaW5nO1xuICAgIGNhdXNlOiB1bmtub3duO1xuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlLCBjYXVzZSB9KTtcblxuICAgIHRoaXMudG9vbElucHV0ID0gdG9vbElucHV0O1xuICAgIHRoaXMudG9vbE5hbWUgPSB0b29sTmFtZTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgSW52YWxpZFRvb2xJbnB1dEVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfTUNQQ2xpZW50RXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuLyoqXG4gKiBBbiBlcnJvciBvY2N1cnJlZCB3aXRoIHRoZSBNQ1AgY2xpZW50LlxuICovXG5leHBvcnQgY2xhc3MgTUNQQ2xpZW50RXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG5hbWUgPSAnTUNQQ2xpZW50RXJyb3InLFxuICAgIG1lc3NhZ2UsXG4gICAgY2F1c2UsXG4gIH06IHtcbiAgICBuYW1lPzogc3RyaW5nO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBjYXVzZT86IHVua25vd247XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UsIGNhdXNlIH0pO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBNQ1BDbGllbnRFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgSW1hZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy9pbWFnZS1tb2RlbC1yZXNwb25zZS1tZXRhZGF0YSc7XG5cbmNvbnN0IG5hbWUgPSAnQUlfTm9JbWFnZUdlbmVyYXRlZEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbi8qKlxuVGhyb3duIHdoZW4gbm8gaW1hZ2UgY291bGQgYmUgZ2VuZXJhdGVkLiBUaGlzIGNhbiBoYXZlIG11bHRpcGxlIGNhdXNlczpcblxuLSBUaGUgbW9kZWwgZmFpbGVkIHRvIGdlbmVyYXRlIGEgcmVzcG9uc2UuXG4tIFRoZSBtb2RlbCBnZW5lcmF0ZWQgYSByZXNwb25zZSB0aGF0IGNvdWxkIG5vdCBiZSBwYXJzZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBOb0ltYWdlR2VuZXJhdGVkRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIC8qKlxuVGhlIHJlc3BvbnNlIG1ldGFkYXRhIGZvciBlYWNoIGNhbGwuXG4gICAqL1xuICByZWFkb25seSByZXNwb25zZXM6IEFycmF5PEltYWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhPiB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSA9ICdObyBpbWFnZSBnZW5lcmF0ZWQuJyxcbiAgICBjYXVzZSxcbiAgICByZXNwb25zZXMsXG4gIH06IHtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICAgIGNhdXNlPzogRXJyb3I7XG4gICAgcmVzcG9uc2VzPzogQXJyYXk8SW1hZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGE+O1xuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlLCBjYXVzZSB9KTtcblxuICAgIHRoaXMucmVzcG9uc2VzID0gcmVzcG9uc2VzO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBOb0ltYWdlR2VuZXJhdGVkRXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IEZpbmlzaFJlYXNvbiB9IGZyb20gJy4uL3R5cGVzL2xhbmd1YWdlLW1vZGVsJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwtcmVzcG9uc2UtbWV0YWRhdGEnO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbFVzYWdlIH0gZnJvbSAnLi4vdHlwZXMvdXNhZ2UnO1xuXG5jb25zdCBuYW1lID0gJ0FJX05vT2JqZWN0R2VuZXJhdGVkRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuLyoqXG5UaHJvd24gd2hlbiBubyBvYmplY3QgY291bGQgYmUgZ2VuZXJhdGVkLiBUaGlzIGNhbiBoYXZlIHNldmVyYWwgY2F1c2VzOlxuXG4tIFRoZSBtb2RlbCBmYWlsZWQgdG8gZ2VuZXJhdGUgYSByZXNwb25zZS5cbi0gVGhlIG1vZGVsIGdlbmVyYXRlZCBhIHJlc3BvbnNlIHRoYXQgY291bGQgbm90IGJlIHBhcnNlZC5cbi0gVGhlIG1vZGVsIGdlbmVyYXRlZCBhIHJlc3BvbnNlIHRoYXQgY291bGQgbm90IGJlIHZhbGlkYXRlZCBhZ2FpbnN0IHRoZSBzY2hlbWEuXG5cblRoZSBlcnJvciBjb250YWlucyB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG5cbi0gYHRleHRgOiBUaGUgdGV4dCB0aGF0IHdhcyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLiBUaGlzIGNhbiBiZSB0aGUgcmF3IHRleHQgb3IgdGhlIHRvb2wgY2FsbCB0ZXh0LCBkZXBlbmRpbmcgb24gdGhlIG1vZGVsLlxuICovXG5leHBvcnQgY2xhc3MgTm9PYmplY3RHZW5lcmF0ZWRFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgLyoqXG4gIFRoZSB0ZXh0IHRoYXQgd2FzIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwuIFRoaXMgY2FuIGJlIHRoZSByYXcgdGV4dCBvciB0aGUgdG9vbCBjYWxsIHRleHQsIGRlcGVuZGluZyBvbiB0aGUgbW9kZWwuXG4gICAqL1xuICByZWFkb25seSB0ZXh0OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gIFRoZSByZXNwb25zZSBtZXRhZGF0YS5cbiAgICovXG4gIHJlYWRvbmx5IHJlc3BvbnNlOiBMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YSB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgVGhlIHVzYWdlIG9mIHRoZSBtb2RlbC5cbiAgICovXG4gIHJlYWRvbmx5IHVzYWdlOiBMYW5ndWFnZU1vZGVsVXNhZ2UgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gIFJlYXNvbiB3aHkgdGhlIG1vZGVsIGZpbmlzaGVkIGdlbmVyYXRpbmcgYSByZXNwb25zZS5cbiAgICovXG4gIHJlYWRvbmx5IGZpbmlzaFJlYXNvbjogRmluaXNoUmVhc29uIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlID0gJ05vIG9iamVjdCBnZW5lcmF0ZWQuJyxcbiAgICBjYXVzZSxcbiAgICB0ZXh0LFxuICAgIHJlc3BvbnNlLFxuICAgIHVzYWdlLFxuICAgIGZpbmlzaFJlYXNvbixcbiAgfToge1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgY2F1c2U/OiBFcnJvcjtcbiAgICB0ZXh0Pzogc3RyaW5nO1xuICAgIHJlc3BvbnNlOiBMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YTtcbiAgICB1c2FnZTogTGFuZ3VhZ2VNb2RlbFVzYWdlO1xuICAgIGZpbmlzaFJlYXNvbjogRmluaXNoUmVhc29uO1xuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlLCBjYXVzZSB9KTtcblxuICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIHRoaXMudXNhZ2UgPSB1c2FnZTtcbiAgICB0aGlzLmZpbmlzaFJlYXNvbiA9IGZpbmlzaFJlYXNvbjtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgTm9PYmplY3RHZW5lcmF0ZWRFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5jb25zdCBuYW1lID0gJ0FJX05vT3V0cHV0R2VuZXJhdGVkRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuLyoqXG5UaHJvd24gd2hlbiBubyBMTE0gb3V0cHV0IHdhcyBnZW5lcmF0ZWQsIGUuZy4gYmVjYXVzZSBvZiBlcnJvcnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBOb091dHB1dEdlbmVyYXRlZEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSA9ICdObyBvdXRwdXQgZ2VuZXJhdGVkLicsXG4gICAgY2F1c2UsXG4gIH06IHtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICAgIGNhdXNlPzogRXJyb3I7XG4gIH0gPSB7fSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSwgY2F1c2UgfSk7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIE5vT3V0cHV0R2VuZXJhdGVkRXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuY29uc3QgbmFtZSA9ICdBSV9Ob1N1Y2hUb29sRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGNsYXNzIE5vU3VjaFRvb2xFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgdG9vbE5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgYXZhaWxhYmxlVG9vbHM6IHN0cmluZ1tdIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICB0b29sTmFtZSxcbiAgICBhdmFpbGFibGVUb29scyA9IHVuZGVmaW5lZCxcbiAgICBtZXNzYWdlID0gYE1vZGVsIHRyaWVkIHRvIGNhbGwgdW5hdmFpbGFibGUgdG9vbCAnJHt0b29sTmFtZX0nLiAke1xuICAgICAgYXZhaWxhYmxlVG9vbHMgPT09IHVuZGVmaW5lZFxuICAgICAgICA/ICdObyB0b29scyBhcmUgYXZhaWxhYmxlLidcbiAgICAgICAgOiBgQXZhaWxhYmxlIHRvb2xzOiAke2F2YWlsYWJsZVRvb2xzLmpvaW4oJywgJyl9LmBcbiAgICB9YCxcbiAgfToge1xuICAgIHRvb2xOYW1lOiBzdHJpbmc7XG4gICAgYXZhaWxhYmxlVG9vbHM/OiBzdHJpbmdbXSB8IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlIH0pO1xuXG4gICAgdGhpcy50b29sTmFtZSA9IHRvb2xOYW1lO1xuICAgIHRoaXMuYXZhaWxhYmxlVG9vbHMgPSBhdmFpbGFibGVUb29scztcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgTm9TdWNoVG9vbEVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yLCBnZXRFcnJvck1lc3NhZ2UgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IEludmFsaWRUb29sSW5wdXRFcnJvciB9IGZyb20gJy4vaW52YWxpZC10b29sLWlucHV0LWVycm9yJztcbmltcG9ydCB7IE5vU3VjaFRvb2xFcnJvciB9IGZyb20gJy4vbm8tc3VjaC10b29sLWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdBSV9Ub29sQ2FsbFJlcGFpckVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBUb29sQ2FsbFJlcGFpckVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSBvcmlnaW5hbEVycm9yOiBOb1N1Y2hUb29sRXJyb3IgfCBJbnZhbGlkVG9vbElucHV0RXJyb3I7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIGNhdXNlLFxuICAgIG9yaWdpbmFsRXJyb3IsXG4gICAgbWVzc2FnZSA9IGBFcnJvciByZXBhaXJpbmcgdG9vbCBjYWxsOiAke2dldEVycm9yTWVzc2FnZShjYXVzZSl9YCxcbiAgfToge1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgY2F1c2U6IHVua25vd247XG4gICAgb3JpZ2luYWxFcnJvcjogTm9TdWNoVG9vbEVycm9yIHwgSW52YWxpZFRvb2xJbnB1dEVycm9yO1xuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlLCBjYXVzZSB9KTtcbiAgICB0aGlzLm9yaWdpbmFsRXJyb3IgPSBvcmlnaW5hbEVycm9yO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBUb29sQ2FsbFJlcGFpckVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbi8qKlxuRXJyb3IgdGhhdCBpcyB0aHJvd24gd2hlbiBhIG1vZGVsIHdpdGggYW4gdW5zdXBwb3J0ZWQgdmVyc2lvbiBpcyB1c2VkLlxuICovXG5leHBvcnQgY2xhc3MgVW5zdXBwb3J0ZWRNb2RlbFZlcnNpb25FcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICByZWFkb25seSB2ZXJzaW9uOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHByb3ZpZGVyOiBzdHJpbmc7XG4gIHJlYWRvbmx5IG1vZGVsSWQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7IHZlcnNpb246IHN0cmluZzsgcHJvdmlkZXI6IHN0cmluZzsgbW9kZWxJZDogc3RyaW5nIH0pIHtcbiAgICBzdXBlcih7XG4gICAgICBuYW1lOiAnQUlfVW5zdXBwb3J0ZWRNb2RlbFZlcnNpb25FcnJvcicsXG4gICAgICBtZXNzYWdlOlxuICAgICAgICBgVW5zdXBwb3J0ZWQgbW9kZWwgdmVyc2lvbiAke29wdGlvbnMudmVyc2lvbn0gZm9yIHByb3ZpZGVyIFwiJHtvcHRpb25zLnByb3ZpZGVyfVwiIGFuZCBtb2RlbCBcIiR7b3B0aW9ucy5tb2RlbElkfVwiLiBgICtcbiAgICAgICAgYEFJIFNESyA1IG9ubHkgc3VwcG9ydHMgbW9kZWxzIHRoYXQgaW1wbGVtZW50IHNwZWNpZmljYXRpb24gdmVyc2lvbiBcInYyXCIuYCxcbiAgICB9KTtcblxuICAgIHRoaXMudmVyc2lvbiA9IG9wdGlvbnMudmVyc2lvbjtcbiAgICB0aGlzLnByb3ZpZGVyID0gb3B0aW9ucy5wcm92aWRlcjtcbiAgICB0aGlzLm1vZGVsSWQgPSBvcHRpb25zLm1vZGVsSWQ7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfSW52YWxpZERhdGFDb250ZW50RXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGNsYXNzIEludmFsaWREYXRhQ29udGVudEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSBjb250ZW50OiB1bmtub3duO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBjb250ZW50LFxuICAgIGNhdXNlLFxuICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBkYXRhIGNvbnRlbnQuIEV4cGVjdGVkIGEgYmFzZTY0IHN0cmluZywgVWludDhBcnJheSwgQXJyYXlCdWZmZXIsIG9yIEJ1ZmZlciwgYnV0IGdvdCAke3R5cGVvZiBjb250ZW50fS5gLFxuICB9OiB7XG4gICAgY29udGVudDogdW5rbm93bjtcbiAgICBjYXVzZT86IHVua25vd247XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSwgY2F1c2UgfSk7XG5cbiAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBJbnZhbGlkRGF0YUNvbnRlbnRFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5jb25zdCBuYW1lID0gJ0FJX0ludmFsaWRNZXNzYWdlUm9sZUVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBJbnZhbGlkTWVzc2FnZVJvbGVFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgcm9sZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICByb2xlLFxuICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBtZXNzYWdlIHJvbGU6ICcke3JvbGV9Jy4gTXVzdCBiZSBvbmUgb2Y6IFwic3lzdGVtXCIsIFwidXNlclwiLCBcImFzc2lzdGFudFwiLCBcInRvb2xcIi5gLFxuICB9OiB7XG4gICAgcm9sZTogc3RyaW5nO1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UgfSk7XG5cbiAgICB0aGlzLnJvbGUgPSByb2xlO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBJbnZhbGlkTWVzc2FnZVJvbGVFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgVUlNZXNzYWdlIH0gZnJvbSAnLi4vdWkvdWktbWVzc2FnZXMnO1xuXG5jb25zdCBuYW1lID0gJ0FJX01lc3NhZ2VDb252ZXJzaW9uRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGNsYXNzIE1lc3NhZ2VDb252ZXJzaW9uRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IG9yaWdpbmFsTWVzc2FnZTogT21pdDxVSU1lc3NhZ2UsICdpZCc+O1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBvcmlnaW5hbE1lc3NhZ2UsXG4gICAgbWVzc2FnZSxcbiAgfToge1xuICAgIG9yaWdpbmFsTWVzc2FnZTogT21pdDxVSU1lc3NhZ2UsICdpZCc+O1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSB9KTtcblxuICAgIHRoaXMub3JpZ2luYWxNZXNzYWdlID0gb3JpZ2luYWxNZXNzYWdlO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBNZXNzYWdlQ29udmVyc2lvbkVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfRG93bmxvYWRFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgRG93bmxvYWRFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgdXJsOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHN0YXR1c0NvZGU/OiBudW1iZXI7XG4gIHJlYWRvbmx5IHN0YXR1c1RleHQ/OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIHVybCxcbiAgICBzdGF0dXNDb2RlLFxuICAgIHN0YXR1c1RleHQsXG4gICAgY2F1c2UsXG4gICAgbWVzc2FnZSA9IGNhdXNlID09IG51bGxcbiAgICAgID8gYEZhaWxlZCB0byBkb3dubG9hZCAke3VybH06ICR7c3RhdHVzQ29kZX0gJHtzdGF0dXNUZXh0fWBcbiAgICAgIDogYEZhaWxlZCB0byBkb3dubG9hZCAke3VybH06ICR7Y2F1c2V9YCxcbiAgfToge1xuICAgIHVybDogc3RyaW5nO1xuICAgIHN0YXR1c0NvZGU/OiBudW1iZXI7XG4gICAgc3RhdHVzVGV4dD86IHN0cmluZztcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICAgIGNhdXNlPzogdW5rbm93bjtcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSwgY2F1c2UgfSk7XG5cbiAgICB0aGlzLnVybCA9IHVybDtcbiAgICB0aGlzLnN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlO1xuICAgIHRoaXMuc3RhdHVzVGV4dCA9IHN0YXR1c1RleHQ7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIERvd25sb2FkRXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuY29uc3QgbmFtZSA9ICdBSV9SZXRyeUVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCB0eXBlIFJldHJ5RXJyb3JSZWFzb24gPVxuICB8ICdtYXhSZXRyaWVzRXhjZWVkZWQnXG4gIHwgJ2Vycm9yTm90UmV0cnlhYmxlJ1xuICB8ICdhYm9ydCc7XG5cbmV4cG9ydCBjbGFzcyBSZXRyeUVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICAvLyBub3RlOiBwcm9wZXJ0eSBvcmRlciBkZXRlcm1pbmVzIGRlYnVnZ2luZyBvdXRwdXRcbiAgcmVhZG9ubHkgcmVhc29uOiBSZXRyeUVycm9yUmVhc29uO1xuICByZWFkb25seSBsYXN0RXJyb3I6IHVua25vd247XG4gIHJlYWRvbmx5IGVycm9yczogQXJyYXk8dW5rbm93bj47XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UsXG4gICAgcmVhc29uLFxuICAgIGVycm9ycyxcbiAgfToge1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICByZWFzb246IFJldHJ5RXJyb3JSZWFzb247XG4gICAgZXJyb3JzOiBBcnJheTx1bmtub3duPjtcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSB9KTtcblxuICAgIHRoaXMucmVhc29uID0gcmVhc29uO1xuICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuXG4gICAgLy8gc2VwYXJhdGUgb3VyIGxhc3QgZXJyb3IgdG8gbWFrZSBkZWJ1Z2dpbmcgdmlhIGxvZyBlYXNpZXI6XG4gICAgdGhpcy5sYXN0RXJyb3IgPSBlcnJvcnNbZXJyb3JzLmxlbmd0aCAtIDFdO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBSZXRyeUVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQge1xuICBMYW5ndWFnZU1vZGVsVjJGaWxlUGFydCxcbiAgTGFuZ3VhZ2VNb2RlbFYyTWVzc2FnZSxcbiAgTGFuZ3VhZ2VNb2RlbFYyUHJvbXB0LFxuICBMYW5ndWFnZU1vZGVsVjJUZXh0UGFydCxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQge1xuICBEYXRhQ29udGVudCxcbiAgRmlsZVBhcnQsXG4gIEltYWdlUGFydCxcbiAgaXNVcmxTdXBwb3J0ZWQsXG4gIE1vZGVsTWVzc2FnZSxcbiAgVGV4dFBhcnQsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHtcbiAgZGV0ZWN0TWVkaWFUeXBlLFxuICBpbWFnZU1lZGlhVHlwZVNpZ25hdHVyZXMsXG59IGZyb20gJy4uL3V0aWwvZGV0ZWN0LW1lZGlhLXR5cGUnO1xuaW1wb3J0IHtcbiAgY3JlYXRlRGVmYXVsdERvd25sb2FkRnVuY3Rpb24sXG4gIERvd25sb2FkRnVuY3Rpb24sXG59IGZyb20gJy4uL3V0aWwvZG93bmxvYWQvZG93bmxvYWQtZnVuY3Rpb24nO1xuaW1wb3J0IHsgY29udmVydFRvTGFuZ3VhZ2VNb2RlbFYyRGF0YUNvbnRlbnQgfSBmcm9tICcuL2RhdGEtY29udGVudCc7XG5pbXBvcnQgeyBJbnZhbGlkTWVzc2FnZVJvbGVFcnJvciB9IGZyb20gJy4vaW52YWxpZC1tZXNzYWdlLXJvbGUtZXJyb3InO1xuaW1wb3J0IHsgU3RhbmRhcmRpemVkUHJvbXB0IH0gZnJvbSAnLi9zdGFuZGFyZGl6ZS1wcm9tcHQnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29udmVydFRvTGFuZ3VhZ2VNb2RlbFByb21wdCh7XG4gIHByb21wdCxcbiAgc3VwcG9ydGVkVXJscyxcbiAgZG93bmxvYWQgPSBjcmVhdGVEZWZhdWx0RG93bmxvYWRGdW5jdGlvbigpLFxufToge1xuICBwcm9tcHQ6IFN0YW5kYXJkaXplZFByb21wdDtcbiAgc3VwcG9ydGVkVXJsczogUmVjb3JkPHN0cmluZywgUmVnRXhwW10+O1xuICBkb3dubG9hZDogRG93bmxvYWRGdW5jdGlvbiB8IHVuZGVmaW5lZDtcbn0pOiBQcm9taXNlPExhbmd1YWdlTW9kZWxWMlByb21wdD4ge1xuICBjb25zdCBkb3dubG9hZGVkQXNzZXRzID0gYXdhaXQgZG93bmxvYWRBc3NldHMoXG4gICAgcHJvbXB0Lm1lc3NhZ2VzLFxuICAgIGRvd25sb2FkLFxuICAgIHN1cHBvcnRlZFVybHMsXG4gICk7XG5cbiAgcmV0dXJuIFtcbiAgICAuLi4ocHJvbXB0LnN5c3RlbSAhPSBudWxsXG4gICAgICA/IFt7IHJvbGU6ICdzeXN0ZW0nIGFzIGNvbnN0LCBjb250ZW50OiBwcm9tcHQuc3lzdGVtIH1dXG4gICAgICA6IFtdKSxcbiAgICAuLi5wcm9tcHQubWVzc2FnZXMubWFwKG1lc3NhZ2UgPT5cbiAgICAgIGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxNZXNzYWdlKHsgbWVzc2FnZSwgZG93bmxvYWRlZEFzc2V0cyB9KSxcbiAgICApLFxuICBdO1xufVxuXG4vKipcbiAqIENvbnZlcnQgYSBNb2RlbE1lc3NhZ2UgdG8gYSBMYW5ndWFnZU1vZGVsVjJNZXNzYWdlLlxuICpcbiAqIEBwYXJhbSBtZXNzYWdlIFRoZSBNb2RlbE1lc3NhZ2UgdG8gY29udmVydC5cbiAqIEBwYXJhbSBkb3dubG9hZGVkQXNzZXRzIEEgbWFwIG9mIFVSTHMgdG8gdGhlaXIgZG93bmxvYWRlZCBkYXRhLiBPbmx5XG4gKiAgIGF2YWlsYWJsZSBpZiB0aGUgbW9kZWwgZG9lcyBub3Qgc3VwcG9ydCBVUkxzLCBudWxsIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxNZXNzYWdlKHtcbiAgbWVzc2FnZSxcbiAgZG93bmxvYWRlZEFzc2V0cyxcbn06IHtcbiAgbWVzc2FnZTogTW9kZWxNZXNzYWdlO1xuICBkb3dubG9hZGVkQXNzZXRzOiBSZWNvcmQ8XG4gICAgc3RyaW5nLFxuICAgIHsgbWVkaWFUeXBlOiBzdHJpbmcgfCB1bmRlZmluZWQ7IGRhdGE6IFVpbnQ4QXJyYXkgfVxuICA+O1xufSk6IExhbmd1YWdlTW9kZWxWMk1lc3NhZ2Uge1xuICBjb25zdCByb2xlID0gbWVzc2FnZS5yb2xlO1xuICBzd2l0Y2ggKHJvbGUpIHtcbiAgICBjYXNlICdzeXN0ZW0nOiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByb2xlOiAnc3lzdGVtJyxcbiAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50LFxuICAgICAgICBwcm92aWRlck9wdGlvbnM6IG1lc3NhZ2UucHJvdmlkZXJPcHRpb25zLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjYXNlICd1c2VyJzoge1xuICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgIGNvbnRlbnQ6IFt7IHR5cGU6ICd0ZXh0JywgdGV4dDogbWVzc2FnZS5jb250ZW50IH1dLFxuICAgICAgICAgIHByb3ZpZGVyT3B0aW9uczogbWVzc2FnZS5wcm92aWRlck9wdGlvbnMsXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50XG4gICAgICAgICAgLm1hcChwYXJ0ID0+IGNvbnZlcnRQYXJ0VG9MYW5ndWFnZU1vZGVsUGFydChwYXJ0LCBkb3dubG9hZGVkQXNzZXRzKSlcbiAgICAgICAgICAvLyByZW1vdmUgZW1wdHkgdGV4dCBwYXJ0czpcbiAgICAgICAgICAuZmlsdGVyKHBhcnQgPT4gcGFydC50eXBlICE9PSAndGV4dCcgfHwgcGFydC50ZXh0ICE9PSAnJyksXG4gICAgICAgIHByb3ZpZGVyT3B0aW9uczogbWVzc2FnZS5wcm92aWRlck9wdGlvbnMsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNhc2UgJ2Fzc2lzdGFudCc6IHtcbiAgICAgIGlmICh0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgIGNvbnRlbnQ6IFt7IHR5cGU6ICd0ZXh0JywgdGV4dDogbWVzc2FnZS5jb250ZW50IH1dLFxuICAgICAgICAgIHByb3ZpZGVyT3B0aW9uczogbWVzc2FnZS5wcm92aWRlck9wdGlvbnMsXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnRcbiAgICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgICAgLy8gcmVtb3ZlIGVtcHR5IHRleHQgcGFydHM6XG4gICAgICAgICAgICBwYXJ0ID0+IHBhcnQudHlwZSAhPT0gJ3RleHQnIHx8IHBhcnQudGV4dCAhPT0gJycsXG4gICAgICAgICAgKVxuICAgICAgICAgIC5tYXAocGFydCA9PiB7XG4gICAgICAgICAgICBjb25zdCBwcm92aWRlck9wdGlvbnMgPSBwYXJ0LnByb3ZpZGVyT3B0aW9ucztcblxuICAgICAgICAgICAgc3dpdGNoIChwYXJ0LnR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSAnZmlsZSc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEsIG1lZGlhVHlwZSB9ID0gY29udmVydFRvTGFuZ3VhZ2VNb2RlbFYyRGF0YUNvbnRlbnQoXG4gICAgICAgICAgICAgICAgICBwYXJ0LmRhdGEsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpbGUnLFxuICAgICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBwYXJ0LmZpbGVuYW1lLFxuICAgICAgICAgICAgICAgICAgbWVkaWFUeXBlOiBtZWRpYVR5cGUgPz8gcGFydC5tZWRpYVR5cGUsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjYXNlICdyZWFzb25pbmcnOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZWFzb25pbmcnLFxuICAgICAgICAgICAgICAgICAgdGV4dDogcGFydC50ZXh0LFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2FzZSAndGV4dCc6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgICAgdGV4dDogcGFydC50ZXh0LFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2FzZSAndG9vbC1jYWxsJzoge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1jYWxsJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBwYXJ0LnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHBhcnQuaW5wdXQsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiBwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjYXNlICd0b29sLXJlc3VsdCc6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtcmVzdWx0JyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBwYXJ0LnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgb3V0cHV0OiBwYXJ0Lm91dHB1dCxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSksXG4gICAgICAgIHByb3ZpZGVyT3B0aW9uczogbWVzc2FnZS5wcm92aWRlck9wdGlvbnMsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNhc2UgJ3Rvb2wnOiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByb2xlOiAndG9vbCcsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudC5tYXAocGFydCA9PiAoe1xuICAgICAgICAgIHR5cGU6ICd0b29sLXJlc3VsdCcgYXMgY29uc3QsXG4gICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgIHRvb2xOYW1lOiBwYXJ0LnRvb2xOYW1lLFxuICAgICAgICAgIG91dHB1dDogcGFydC5vdXRwdXQsXG4gICAgICAgICAgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LnByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgfSkpLFxuICAgICAgICBwcm92aWRlck9wdGlvbnM6IG1lc3NhZ2UucHJvdmlkZXJPcHRpb25zLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBkZWZhdWx0OiB7XG4gICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrOiBuZXZlciA9IHJvbGU7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZE1lc3NhZ2VSb2xlRXJyb3IoeyByb2xlOiBfZXhoYXVzdGl2ZUNoZWNrIH0pO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIERvd25sb2FkcyBpbWFnZXMgYW5kIGZpbGVzIGZyb20gVVJMcyBpbiB0aGUgbWVzc2FnZXMuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGRvd25sb2FkQXNzZXRzKFxuICBtZXNzYWdlczogTW9kZWxNZXNzYWdlW10sXG4gIGRvd25sb2FkOiBEb3dubG9hZEZ1bmN0aW9uLFxuICBzdXBwb3J0ZWRVcmxzOiBSZWNvcmQ8c3RyaW5nLCBSZWdFeHBbXT4sXG4pOiBQcm9taXNlPFxuICBSZWNvcmQ8c3RyaW5nLCB7IG1lZGlhVHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkOyBkYXRhOiBVaW50OEFycmF5IH0+XG4+IHtcbiAgY29uc3QgcGxhbm5lZERvd25sb2FkcyA9IG1lc3NhZ2VzXG4gICAgLmZpbHRlcihtZXNzYWdlID0+IG1lc3NhZ2Uucm9sZSA9PT0gJ3VzZXInKVxuICAgIC5tYXAobWVzc2FnZSA9PiBtZXNzYWdlLmNvbnRlbnQpXG4gICAgLmZpbHRlcigoY29udGVudCk6IGNvbnRlbnQgaXMgQXJyYXk8VGV4dFBhcnQgfCBJbWFnZVBhcnQgfCBGaWxlUGFydD4gPT5cbiAgICAgIEFycmF5LmlzQXJyYXkoY29udGVudCksXG4gICAgKVxuICAgIC5mbGF0KClcbiAgICAuZmlsdGVyKFxuICAgICAgKHBhcnQpOiBwYXJ0IGlzIEltYWdlUGFydCB8IEZpbGVQYXJ0ID0+XG4gICAgICAgIHBhcnQudHlwZSA9PT0gJ2ltYWdlJyB8fCBwYXJ0LnR5cGUgPT09ICdmaWxlJyxcbiAgICApXG4gICAgLm1hcChwYXJ0ID0+IHtcbiAgICAgIGNvbnN0IG1lZGlhVHlwZSA9XG4gICAgICAgIHBhcnQubWVkaWFUeXBlID8/IChwYXJ0LnR5cGUgPT09ICdpbWFnZScgPyAnaW1hZ2UvKicgOiB1bmRlZmluZWQpO1xuXG4gICAgICBsZXQgZGF0YSA9IHBhcnQudHlwZSA9PT0gJ2ltYWdlJyA/IHBhcnQuaW1hZ2UgOiBwYXJ0LmRhdGE7XG4gICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZGF0YSA9IG5ldyBVUkwoZGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKGlnbm9yZWQpIHt9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7IG1lZGlhVHlwZSwgZGF0YSB9O1xuICAgIH0pXG5cbiAgICAuZmlsdGVyKFxuICAgICAgKHBhcnQpOiBwYXJ0IGlzIHsgbWVkaWFUeXBlOiBzdHJpbmcgfCB1bmRlZmluZWQ7IGRhdGE6IFVSTCB9ID0+XG4gICAgICAgIHBhcnQuZGF0YSBpbnN0YW5jZW9mIFVSTCxcbiAgICApXG4gICAgLm1hcChwYXJ0ID0+ICh7XG4gICAgICB1cmw6IHBhcnQuZGF0YSxcbiAgICAgIGlzVXJsU3VwcG9ydGVkQnlNb2RlbDpcbiAgICAgICAgcGFydC5tZWRpYVR5cGUgIT0gbnVsbCAmJlxuICAgICAgICBpc1VybFN1cHBvcnRlZCh7XG4gICAgICAgICAgdXJsOiBwYXJ0LmRhdGEudG9TdHJpbmcoKSxcbiAgICAgICAgICBtZWRpYVR5cGU6IHBhcnQubWVkaWFUeXBlLFxuICAgICAgICAgIHN1cHBvcnRlZFVybHMsXG4gICAgICAgIH0pLFxuICAgIH0pKTtcblxuICAvLyBkb3dubG9hZCBpbiBwYXJhbGxlbDpcbiAgY29uc3QgZG93bmxvYWRlZEZpbGVzID0gYXdhaXQgZG93bmxvYWQocGxhbm5lZERvd25sb2Fkcyk7XG5cbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICBkb3dubG9hZGVkRmlsZXNcbiAgICAgIC5maWx0ZXIoXG4gICAgICAgIChcbiAgICAgICAgICBkb3dubG9hZGVkRmlsZSxcbiAgICAgICAgKTogZG93bmxvYWRlZEZpbGUgaXMge1xuICAgICAgICAgIG1lZGlhVHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgICAgIGRhdGE6IFVpbnQ4QXJyYXk7XG4gICAgICAgIH0gPT4gZG93bmxvYWRlZEZpbGU/LmRhdGEgIT0gbnVsbCxcbiAgICAgIClcbiAgICAgIC5tYXAoKHsgZGF0YSwgbWVkaWFUeXBlIH0sIGluZGV4KSA9PiBbXG4gICAgICAgIHBsYW5uZWREb3dubG9hZHNbaW5kZXhdLnVybC50b1N0cmluZygpLFxuICAgICAgICB7IGRhdGEsIG1lZGlhVHlwZSB9LFxuICAgICAgXSksXG4gICk7XG59XG5cbi8qKlxuICogQ29udmVydCBwYXJ0IG9mIGEgbWVzc2FnZSB0byBhIExhbmd1YWdlTW9kZWxWMlBhcnQuXG4gKiBAcGFyYW0gcGFydCBUaGUgcGFydCB0byBjb252ZXJ0LlxuICogQHBhcmFtIGRvd25sb2FkZWRBc3NldHMgQSBtYXAgb2YgVVJMcyB0byB0aGVpciBkb3dubG9hZGVkIGRhdGEuIE9ubHlcbiAqICBhdmFpbGFibGUgaWYgdGhlIG1vZGVsIGRvZXMgbm90IHN1cHBvcnQgVVJMcywgbnVsbCBvdGhlcndpc2UuXG4gKlxuICogQHJldHVybnMgVGhlIGNvbnZlcnRlZCBwYXJ0LlxuICovXG5mdW5jdGlvbiBjb252ZXJ0UGFydFRvTGFuZ3VhZ2VNb2RlbFBhcnQoXG4gIHBhcnQ6IFRleHRQYXJ0IHwgSW1hZ2VQYXJ0IHwgRmlsZVBhcnQsXG4gIGRvd25sb2FkZWRBc3NldHM6IFJlY29yZDxcbiAgICBzdHJpbmcsXG4gICAgeyBtZWRpYVR5cGU6IHN0cmluZyB8IHVuZGVmaW5lZDsgZGF0YTogVWludDhBcnJheSB9XG4gID4sXG4pOiBMYW5ndWFnZU1vZGVsVjJUZXh0UGFydCB8IExhbmd1YWdlTW9kZWxWMkZpbGVQYXJ0IHtcbiAgaWYgKHBhcnQudHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgIHRleHQ6IHBhcnQudGV4dCxcbiAgICAgIHByb3ZpZGVyT3B0aW9uczogcGFydC5wcm92aWRlck9wdGlvbnMsXG4gICAgfTtcbiAgfVxuXG4gIGxldCBvcmlnaW5hbERhdGE6IERhdGFDb250ZW50IHwgVVJMO1xuICBjb25zdCB0eXBlID0gcGFydC50eXBlO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdpbWFnZSc6XG4gICAgICBvcmlnaW5hbERhdGEgPSBwYXJ0LmltYWdlO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZmlsZSc6XG4gICAgICBvcmlnaW5hbERhdGEgPSBwYXJ0LmRhdGE7XG5cbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHBhcnQgdHlwZTogJHt0eXBlfWApO1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiBjb252ZXJ0ZWREYXRhLCBtZWRpYVR5cGU6IGNvbnZlcnRlZE1lZGlhVHlwZSB9ID1cbiAgICBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsVjJEYXRhQ29udGVudChvcmlnaW5hbERhdGEpO1xuXG4gIGxldCBtZWRpYVR5cGU6IHN0cmluZyB8IHVuZGVmaW5lZCA9IGNvbnZlcnRlZE1lZGlhVHlwZSA/PyBwYXJ0Lm1lZGlhVHlwZTtcbiAgbGV0IGRhdGE6IFVpbnQ4QXJyYXkgfCBzdHJpbmcgfCBVUkwgPSBjb252ZXJ0ZWREYXRhOyAvLyBiaW5hcnkgfCBiYXNlNjQgfCB1cmxcblxuICAvLyBJZiB0aGUgY29udGVudCBpcyBhIFVSTCwgd2UgY2hlY2sgaWYgaXQgd2FzIGRvd25sb2FkZWQ6XG4gIGlmIChkYXRhIGluc3RhbmNlb2YgVVJMKSB7XG4gICAgY29uc3QgZG93bmxvYWRlZEZpbGUgPSBkb3dubG9hZGVkQXNzZXRzW2RhdGEudG9TdHJpbmcoKV07XG4gICAgaWYgKGRvd25sb2FkZWRGaWxlKSB7XG4gICAgICBkYXRhID0gZG93bmxvYWRlZEZpbGUuZGF0YTtcbiAgICAgIG1lZGlhVHlwZSA/Pz0gZG93bmxvYWRlZEZpbGUubWVkaWFUeXBlO1xuICAgIH1cbiAgfVxuXG4gIC8vIE5vdyB0aGF0IHdlIGhhdmUgdGhlIG5vcm1hbGl6ZWQgZGF0YSBlaXRoZXIgYXMgYSBVUkwgb3IgYSBVaW50OEFycmF5LFxuICAvLyB3ZSBjYW4gY3JlYXRlIHRoZSBMYW5ndWFnZU1vZGVsVjJQYXJ0LlxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdpbWFnZSc6IHtcbiAgICAgIC8vIFdoZW4gcG9zc2libGUsIHRyeSB0byBkZXRlY3QgdGhlIG1lZGlhIHR5cGUgYXV0b21hdGljYWxseVxuICAgICAgLy8gdG8gZGVhbCB3aXRoIGluY29ycmVjdCBtZWRpYSB0eXBlIGlucHV0cy5cbiAgICAgIC8vIFdoZW4gZGV0ZWN0aW9uIGZhaWxzLCB1c2UgcHJvdmlkZWQgbWVkaWEgdHlwZS5cbiAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSB8fCB0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgbWVkaWFUeXBlID1cbiAgICAgICAgICBkZXRlY3RNZWRpYVR5cGUoeyBkYXRhLCBzaWduYXR1cmVzOiBpbWFnZU1lZGlhVHlwZVNpZ25hdHVyZXMgfSkgPz9cbiAgICAgICAgICBtZWRpYVR5cGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdmaWxlJyxcbiAgICAgICAgbWVkaWFUeXBlOiBtZWRpYVR5cGUgPz8gJ2ltYWdlLyonLCAvLyBhbnkgaW1hZ2VcbiAgICAgICAgZmlsZW5hbWU6IHVuZGVmaW5lZCxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LnByb3ZpZGVyT3B0aW9ucyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY2FzZSAnZmlsZSc6IHtcbiAgICAgIC8vIFdlIG11c3QgaGF2ZSBhIG1lZGlhVHlwZSBmb3IgZmlsZXMsIGlmIG5vdCwgdGhyb3cgYW4gZXJyb3IuXG4gICAgICBpZiAobWVkaWFUeXBlID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNZWRpYSB0eXBlIGlzIG1pc3NpbmcgZm9yIGZpbGUgcGFydGApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnZmlsZScsXG4gICAgICAgIG1lZGlhVHlwZSxcbiAgICAgICAgZmlsZW5hbWU6IHBhcnQuZmlsZW5hbWUsXG4gICAgICAgIGRhdGEsXG4gICAgICAgIHByb3ZpZGVyT3B0aW9uczogcGFydC5wcm92aWRlck9wdGlvbnMsXG4gICAgICB9O1xuICAgIH1cbiAgfVxufVxuIiwgImltcG9ydCB7IGNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXkgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcblxuZXhwb3J0IGNvbnN0IGltYWdlTWVkaWFUeXBlU2lnbmF0dXJlcyA9IFtcbiAge1xuICAgIG1lZGlhVHlwZTogJ2ltYWdlL2dpZicgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFsweDQ3LCAweDQ5LCAweDQ2XSxcbiAgICBiYXNlNjRQcmVmaXg6ICdSMGxHJyxcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2ltYWdlL3BuZycgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFsweDg5LCAweDUwLCAweDRlLCAweDQ3XSxcbiAgICBiYXNlNjRQcmVmaXg6ICdpVkJPUncnLFxuICB9LFxuICB7XG4gICAgbWVkaWFUeXBlOiAnaW1hZ2UvanBlZycgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFsweGZmLCAweGQ4XSxcbiAgICBiYXNlNjRQcmVmaXg6ICcvOWovJyxcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2ltYWdlL3dlYnAnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbMHg1MiwgMHg0OSwgMHg0NiwgMHg0Nl0sXG4gICAgYmFzZTY0UHJlZml4OiAnVWtsR1JnJyxcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2ltYWdlL2JtcCcgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFsweDQyLCAweDRkXSxcbiAgICBiYXNlNjRQcmVmaXg6ICdRaycsXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdpbWFnZS90aWZmJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogWzB4NDksIDB4NDksIDB4MmEsIDB4MDBdLFxuICAgIGJhc2U2NFByZWZpeDogJ1NVa3FBQScsXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdpbWFnZS90aWZmJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogWzB4NGQsIDB4NGQsIDB4MDAsIDB4MmFdLFxuICAgIGJhc2U2NFByZWZpeDogJ1RVMEFLZycsXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdpbWFnZS9hdmlmJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogW1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgyMCwgMHg2NiwgMHg3NCwgMHg3OSwgMHg3MCwgMHg2MSwgMHg3NiwgMHg2OSwgMHg2NixcbiAgICBdLFxuICAgIGJhc2U2NFByZWZpeDogJ0FBQUFJR1owZVhCaGRtbG0nLFxuICB9LFxuICB7XG4gICAgbWVkaWFUeXBlOiAnaW1hZ2UvaGVpYycgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFtcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MjAsIDB4NjYsIDB4NzQsIDB4NzksIDB4NzAsIDB4NjgsIDB4NjUsIDB4NjksIDB4NjMsXG4gICAgXSxcbiAgICBiYXNlNjRQcmVmaXg6ICdBQUFBSUdaMGVYQm9aV2xqJyxcbiAgfSxcbl0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBhdWRpb01lZGlhVHlwZVNpZ25hdHVyZXMgPSBbXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdhdWRpby9tcGVnJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogWzB4ZmYsIDB4ZmJdLFxuICAgIGJhc2U2NFByZWZpeDogJy8vcz0nLFxuICB9LFxuICB7XG4gICAgbWVkaWFUeXBlOiAnYXVkaW8vbXBlZycgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFsweGZmLCAweGZhXSxcbiAgICBiYXNlNjRQcmVmaXg6ICcvL289JyxcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2F1ZGlvL21wZWcnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbMHhmZiwgMHhmM10sXG4gICAgYmFzZTY0UHJlZml4OiAnLy9NPScsXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdhdWRpby9tcGVnJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogWzB4ZmYsIDB4ZjJdLFxuICAgIGJhc2U2NFByZWZpeDogJy8vST0nLFxuICB9LFxuICB7XG4gICAgbWVkaWFUeXBlOiAnYXVkaW8vbXBlZycgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFsweGZmLCAweGUzXSxcbiAgICBiYXNlNjRQcmVmaXg6ICcvK009JyxcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2F1ZGlvL21wZWcnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbMHhmZiwgMHhlMl0sXG4gICAgYmFzZTY0UHJlZml4OiAnLytJPScsXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdhdWRpby93YXYnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbMHg1MiwgMHg0OSwgMHg0NiwgMHg0Nl0sXG4gICAgYmFzZTY0UHJlZml4OiAnVWtsR1InLFxuICB9LFxuICB7XG4gICAgbWVkaWFUeXBlOiAnYXVkaW8vb2dnJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogWzB4NGYsIDB4NjcsIDB4NjcsIDB4NTNdLFxuICAgIGJhc2U2NFByZWZpeDogJ1QyZG5VdycsXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdhdWRpby9mbGFjJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogWzB4NjYsIDB4NGMsIDB4NjEsIDB4NDNdLFxuICAgIGJhc2U2NFByZWZpeDogJ1preGhRdycsXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdhdWRpby9hYWMnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbMHg0MCwgMHgxNSwgMHgwMCwgMHgwMF0sXG4gICAgYmFzZTY0UHJlZml4OiAnUUJVQScsXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdhdWRpby9tcDQnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbMHg2NiwgMHg3NCwgMHg3OSwgMHg3MF0sXG4gICAgYmFzZTY0UHJlZml4OiAnWm5SNWNBJyxcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2F1ZGlvL3dlYm0nLFxuICAgIGJ5dGVzUHJlZml4OiBbMHgxYSwgMHg0NSwgMHhkZiwgMHhhM10sXG4gICAgYmFzZTY0UHJlZml4OiAnR2tYZicsXG4gIH0sXG5dIGFzIGNvbnN0O1xuXG5jb25zdCBzdHJpcElEMyA9IChkYXRhOiBVaW50OEFycmF5IHwgc3RyaW5nKSA9PiB7XG4gIGNvbnN0IGJ5dGVzID1cbiAgICB0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycgPyBjb252ZXJ0QmFzZTY0VG9VaW50OEFycmF5KGRhdGEpIDogZGF0YTtcbiAgY29uc3QgaWQzU2l6ZSA9XG4gICAgKChieXRlc1s2XSAmIDB4N2YpIDw8IDIxKSB8XG4gICAgKChieXRlc1s3XSAmIDB4N2YpIDw8IDE0KSB8XG4gICAgKChieXRlc1s4XSAmIDB4N2YpIDw8IDcpIHxcbiAgICAoYnl0ZXNbOV0gJiAweDdmKTtcblxuICAvLyBUaGUgcmF3IE1QMyBzdGFydHMgaGVyZVxuICByZXR1cm4gYnl0ZXMuc2xpY2UoaWQzU2l6ZSArIDEwKTtcbn07XG5cbmZ1bmN0aW9uIHN0cmlwSUQzVGFnc0lmUHJlc2VudChkYXRhOiBVaW50OEFycmF5IHwgc3RyaW5nKTogVWludDhBcnJheSB8IHN0cmluZyB7XG4gIGNvbnN0IGhhc0lkMyA9XG4gICAgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyAmJiBkYXRhLnN0YXJ0c1dpdGgoJ1NVUXonKSkgfHxcbiAgICAodHlwZW9mIGRhdGEgIT09ICdzdHJpbmcnICYmXG4gICAgICBkYXRhLmxlbmd0aCA+IDEwICYmXG4gICAgICBkYXRhWzBdID09PSAweDQ5ICYmIC8vICdJJ1xuICAgICAgZGF0YVsxXSA9PT0gMHg0NCAmJiAvLyAnRCdcbiAgICAgIGRhdGFbMl0gPT09IDB4MzMpOyAvLyAnMydcblxuICByZXR1cm4gaGFzSWQzID8gc3RyaXBJRDMoZGF0YSkgOiBkYXRhO1xufVxuXG4vKipcbiAqIERldGVjdCB0aGUgbWVkaWEgSUFOQSBtZWRpYSB0eXBlIG9mIGEgZmlsZSB1c2luZyBhIGxpc3Qgb2Ygc2lnbmF0dXJlcy5cbiAqXG4gKiBAcGFyYW0gZGF0YSAtIFRoZSBmaWxlIGRhdGEuXG4gKiBAcGFyYW0gc2lnbmF0dXJlcyAtIFRoZSBzaWduYXR1cmVzIHRvIHVzZSBmb3IgZGV0ZWN0aW9uLlxuICogQHJldHVybnMgVGhlIG1lZGlhIHR5cGUgb2YgdGhlIGZpbGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RNZWRpYVR5cGUoe1xuICBkYXRhLFxuICBzaWduYXR1cmVzLFxufToge1xuICBkYXRhOiBVaW50OEFycmF5IHwgc3RyaW5nO1xuICBzaWduYXR1cmVzOiB0eXBlb2YgYXVkaW9NZWRpYVR5cGVTaWduYXR1cmVzIHwgdHlwZW9mIGltYWdlTWVkaWFUeXBlU2lnbmF0dXJlcztcbn0pOiAodHlwZW9mIHNpZ25hdHVyZXMpW251bWJlcl1bJ21lZGlhVHlwZSddIHwgdW5kZWZpbmVkIHtcbiAgY29uc3QgcHJvY2Vzc2VkRGF0YSA9IHN0cmlwSUQzVGFnc0lmUHJlc2VudChkYXRhKTtcblxuICBmb3IgKGNvbnN0IHNpZ25hdHVyZSBvZiBzaWduYXR1cmVzKSB7XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIHByb2Nlc3NlZERhdGEgPT09ICdzdHJpbmcnXG4gICAgICAgID8gcHJvY2Vzc2VkRGF0YS5zdGFydHNXaXRoKHNpZ25hdHVyZS5iYXNlNjRQcmVmaXgpXG4gICAgICAgIDogcHJvY2Vzc2VkRGF0YS5sZW5ndGggPj0gc2lnbmF0dXJlLmJ5dGVzUHJlZml4Lmxlbmd0aCAmJlxuICAgICAgICAgIHNpZ25hdHVyZS5ieXRlc1ByZWZpeC5ldmVyeShcbiAgICAgICAgICAgIChieXRlLCBpbmRleCkgPT4gcHJvY2Vzc2VkRGF0YVtpbmRleF0gPT09IGJ5dGUsXG4gICAgICAgICAgKVxuICAgICkge1xuICAgICAgcmV0dXJuIHNpZ25hdHVyZS5tZWRpYVR5cGU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbiIsICJpbXBvcnQgeyBEb3dubG9hZEVycm9yIH0gZnJvbSAnLi9kb3dubG9hZC1lcnJvcic7XG5cbi8qKlxuICogRG93bmxvYWQgYSBmaWxlIGZyb20gYSBVUkwuXG4gKlxuICogQHBhcmFtIHVybCAtIFRoZSBVUkwgdG8gZG93bmxvYWQgZnJvbS5cbiAqIEByZXR1cm5zIFRoZSBkb3dubG9hZGVkIGRhdGEgYW5kIG1lZGlhIHR5cGUuXG4gKlxuICogQHRocm93cyBEb3dubG9hZEVycm9yIGlmIHRoZSBkb3dubG9hZCBmYWlscy5cbiAqL1xuZXhwb3J0IGNvbnN0IGRvd25sb2FkID0gYXN5bmMgKHsgdXJsIH06IHsgdXJsOiBVUkwgfSkgPT4ge1xuICBjb25zdCB1cmxUZXh0ID0gdXJsLnRvU3RyaW5nKCk7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmxUZXh0KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBEb3dubG9hZEVycm9yKHtcbiAgICAgICAgdXJsOiB1cmxUZXh0LFxuICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgZGF0YTogbmV3IFVpbnQ4QXJyYXkoYXdhaXQgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKSksXG4gICAgICBtZWRpYVR5cGU6IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSA/PyB1bmRlZmluZWQsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoRG93bmxvYWRFcnJvci5pc0luc3RhbmNlKGVycm9yKSkge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IERvd25sb2FkRXJyb3IoeyB1cmw6IHVybFRleHQsIGNhdXNlOiBlcnJvciB9KTtcbiAgfVxufTtcbiIsICJpbXBvcnQgeyBkb3dubG9hZCBhcyBvcmlnaW5hbERvd25sb2FkIH0gZnJvbSAnLi9kb3dubG9hZCc7XG5cbi8qKlxuICogRXhwZXJpbWVudGFsLiBDYW4gY2hhbmdlIGluIHBhdGNoIHZlcnNpb25zIHdpdGhvdXQgd2FybmluZy5cbiAqXG4gKiBEb3dubG9hZCBmdW5jdGlvbi4gQ2FsbGVkIHdpdGggdGhlIGFycmF5IG9mIFVSTHMgYW5kIGEgYm9vbGVhbiBpbmRpY2F0aW5nXG4gKiB3aGV0aGVyIHRoZSBVUkwgaXMgc3VwcG9ydGVkIGJ5IHRoZSBtb2RlbC5cbiAqXG4gKiBUaGUgZG93bmxvYWQgZnVuY3Rpb24gY2FuIGRlY2lkZSBmb3IgZWFjaCBVUkw6XG4gKiAtIHRvIHJldHVybiBudWxsICh3aGljaCBtZWFucyB0aGF0IHRoZSBVUkwgc2hvdWxkIGJlIHBhc3NlZCB0byB0aGUgbW9kZWwpXG4gKiAtIHRvIGRvd25sb2FkIHRoZSBhc3NldCBhbmQgcmV0dXJuIHRoZSBkYXRhIChpbmNsLiByZXRyaWVzLCBhdXRoZW50aWNhdGlvbiwgZXRjLilcbiAqXG4gKiBTaG91bGQgdGhyb3cgRG93bmxvYWRFcnJvciBpZiB0aGUgZG93bmxvYWQgZmFpbHMuXG4gKlxuICogU2hvdWxkIHJldHVybiBhbiBhcnJheSBvZiBvYmplY3RzIHNvcnRlZCBieSB0aGUgb3JkZXIgb2YgdGhlIHJlcXVlc3RlZCBkb3dubG9hZHMuXG4gKiBGb3IgZWFjaCBvYmplY3QsIHRoZSBkYXRhIHNob3VsZCBiZSBhIFVpbnQ4QXJyYXkgaWYgdGhlIFVSTCB3YXMgZG93bmxvYWRlZC5cbiAqIEZvciBlYWNoIG9iamVjdCwgdGhlIG1lZGlhVHlwZSBzaG91bGQgYmUgdGhlIG1lZGlhIHR5cGUgb2YgdGhlIGRvd25sb2FkZWQgYXNzZXQuXG4gKiBGb3IgZWFjaCBvYmplY3QsIHRoZSBkYXRhIHNob3VsZCBiZSBudWxsIGlmIHRoZSBVUkwgc2hvdWxkIGJlIHBhc3NlZCB0aHJvdWdoIGFzIGlzLlxuICovXG5leHBvcnQgdHlwZSBEb3dubG9hZEZ1bmN0aW9uID0gKFxuICBvcHRpb25zOiBBcnJheTx7XG4gICAgdXJsOiBVUkw7XG4gICAgaXNVcmxTdXBwb3J0ZWRCeU1vZGVsOiBib29sZWFuO1xuICB9PixcbikgPT4gUHJvbWlzZUxpa2U8XG4gIEFycmF5PHtcbiAgICBkYXRhOiBVaW50OEFycmF5O1xuICAgIG1lZGlhVHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICB9IHwgbnVsbD5cbj47XG5cbi8qKlxuICogRGVmYXVsdCBkb3dubG9hZCBmdW5jdGlvbi5cbiAqIERvd25sb2FkcyB0aGUgZmlsZSBpZiBpdCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBtb2RlbC5cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZURlZmF1bHREb3dubG9hZEZ1bmN0aW9uID1cbiAgKGRvd25sb2FkOiB0eXBlb2Ygb3JpZ2luYWxEb3dubG9hZCA9IG9yaWdpbmFsRG93bmxvYWQpOiBEb3dubG9hZEZ1bmN0aW9uID0+XG4gIHJlcXVlc3RlZERvd25sb2FkcyA9PlxuICAgIFByb21pc2UuYWxsKFxuICAgICAgcmVxdWVzdGVkRG93bmxvYWRzLm1hcChhc3luYyByZXF1ZXN0ZWREb3dubG9hZCA9PlxuICAgICAgICByZXF1ZXN0ZWREb3dubG9hZC5pc1VybFN1cHBvcnRlZEJ5TW9kZWxcbiAgICAgICAgICA/IG51bGxcbiAgICAgICAgICA6IGRvd25sb2FkKHJlcXVlc3RlZERvd25sb2FkKSxcbiAgICAgICksXG4gICAgKTtcbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yLCBMYW5ndWFnZU1vZGVsVjJEYXRhQ29udGVudCB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHtcbiAgY29udmVydEJhc2U2NFRvVWludDhBcnJheSxcbiAgY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NCxcbiAgRGF0YUNvbnRlbnQsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgeyBJbnZhbGlkRGF0YUNvbnRlbnRFcnJvciB9IGZyb20gJy4vaW52YWxpZC1kYXRhLWNvbnRlbnQtZXJyb3InO1xuaW1wb3J0IHsgc3BsaXREYXRhVXJsIH0gZnJvbSAnLi9zcGxpdC1kYXRhLXVybCc7XG5cbi8qKlxuQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBkYXRhQ29udGVudFNjaGVtYTogei5ab2RUeXBlPERhdGFDb250ZW50PiA9IHoudW5pb24oW1xuICB6LnN0cmluZygpLFxuICB6Lmluc3RhbmNlb2YoVWludDhBcnJheSksXG4gIHouaW5zdGFuY2VvZihBcnJheUJ1ZmZlciksXG4gIHouY3VzdG9tPEJ1ZmZlcj4oXG4gICAgLy8gQnVmZmVyIG1pZ2h0IG5vdCBiZSBhdmFpbGFibGUgaW4gc29tZSBlbnZpcm9ubWVudHMgc3VjaCBhcyBDbG91ZEZsYXJlOlxuICAgICh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIEJ1ZmZlciA9PlxuICAgICAgZ2xvYmFsVGhpcy5CdWZmZXI/LmlzQnVmZmVyKHZhbHVlKSA/PyBmYWxzZSxcbiAgICB7IG1lc3NhZ2U6ICdNdXN0IGJlIGEgQnVmZmVyJyB9LFxuICApLFxuXSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsVjJEYXRhQ29udGVudChcbiAgY29udGVudDogRGF0YUNvbnRlbnQgfCBVUkwsXG4pOiB7XG4gIGRhdGE6IExhbmd1YWdlTW9kZWxWMkRhdGFDb250ZW50O1xuICBtZWRpYVR5cGU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbn0ge1xuICAvLyBCdWZmZXIgJiBVaW50OEFycmF5OlxuICBpZiAoY29udGVudCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICByZXR1cm4geyBkYXRhOiBjb250ZW50LCBtZWRpYVR5cGU6IHVuZGVmaW5lZCB9O1xuICB9XG5cbiAgLy8gQXJyYXlCdWZmZXIgbmVlZHMgY29udmVyc2lvbiB0byBVaW50OEFycmF5IChsaWdodHdlaWdodCk6XG4gIGlmIChjb250ZW50IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICByZXR1cm4geyBkYXRhOiBuZXcgVWludDhBcnJheShjb250ZW50KSwgbWVkaWFUeXBlOiB1bmRlZmluZWQgfTtcbiAgfVxuXG4gIC8vIEF0dGVtcHQgdG8gY3JlYXRlIGEgVVJMIGZyb20gdGhlIGRhdGEuIElmIGl0IGZhaWxzLCB3ZSBjYW4gYXNzdW1lIHRoZSBkYXRhXG4gIC8vIGlzIG5vdCBhIFVSTCBhbmQgbGlrZWx5IHNvbWUgb3RoZXIgc29ydCBvZiBkYXRhLlxuICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnRlbnQgPSBuZXcgVVJMKGNvbnRlbnQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBpZ25vcmVkXG4gICAgfVxuICB9XG5cbiAgLy8gRXh0cmFjdCBkYXRhIGZyb20gZGF0YSBVUkw6XG4gIGlmIChjb250ZW50IGluc3RhbmNlb2YgVVJMICYmIGNvbnRlbnQucHJvdG9jb2wgPT09ICdkYXRhOicpIHtcbiAgICBjb25zdCB7IG1lZGlhVHlwZTogZGF0YVVybE1lZGlhVHlwZSwgYmFzZTY0Q29udGVudCB9ID0gc3BsaXREYXRhVXJsKFxuICAgICAgY29udGVudC50b1N0cmluZygpLFxuICAgICk7XG5cbiAgICBpZiAoZGF0YVVybE1lZGlhVHlwZSA9PSBudWxsIHx8IGJhc2U2NENvbnRlbnQgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEFJU0RLRXJyb3Ioe1xuICAgICAgICBuYW1lOiAnSW52YWxpZERhdGFDb250ZW50RXJyb3InLFxuICAgICAgICBtZXNzYWdlOiBgSW52YWxpZCBkYXRhIFVSTCBmb3JtYXQgaW4gY29udGVudCAke2NvbnRlbnQudG9TdHJpbmcoKX1gLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgZGF0YTogYmFzZTY0Q29udGVudCwgbWVkaWFUeXBlOiBkYXRhVXJsTWVkaWFUeXBlIH07XG4gIH1cblxuICByZXR1cm4geyBkYXRhOiBjb250ZW50LCBtZWRpYVR5cGU6IHVuZGVmaW5lZCB9O1xufVxuXG4vKipcbkNvbnZlcnRzIGRhdGEgY29udGVudCB0byBhIGJhc2U2NC1lbmNvZGVkIHN0cmluZy5cblxuQHBhcmFtIGNvbnRlbnQgLSBEYXRhIGNvbnRlbnQgdG8gY29udmVydC5cbkByZXR1cm5zIEJhc2U2NC1lbmNvZGVkIHN0cmluZy5cbiovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydERhdGFDb250ZW50VG9CYXNlNjRTdHJpbmcoY29udGVudDogRGF0YUNvbnRlbnQpOiBzdHJpbmcge1xuICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAoY29udGVudCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgcmV0dXJuIGNvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQobmV3IFVpbnQ4QXJyYXkoY29udGVudCkpO1xuICB9XG5cbiAgcmV0dXJuIGNvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQoY29udGVudCk7XG59XG5cbi8qKlxuQ29udmVydHMgZGF0YSBjb250ZW50IHRvIGEgVWludDhBcnJheS5cblxuQHBhcmFtIGNvbnRlbnQgLSBEYXRhIGNvbnRlbnQgdG8gY29udmVydC5cbkByZXR1cm5zIFVpbnQ4QXJyYXkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0RGF0YUNvbnRlbnRUb1VpbnQ4QXJyYXkoXG4gIGNvbnRlbnQ6IERhdGFDb250ZW50LFxuKTogVWludDhBcnJheSB7XG4gIGlmIChjb250ZW50IGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gY29udmVydEJhc2U2NFRvVWludDhBcnJheShjb250ZW50KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWREYXRhQ29udGVudEVycm9yKHtcbiAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAnSW52YWxpZCBkYXRhIGNvbnRlbnQuIENvbnRlbnQgc3RyaW5nIGlzIG5vdCBhIGJhc2U2NC1lbmNvZGVkIG1lZGlhLicsXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmIChjb250ZW50IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoY29udGVudCk7XG4gIH1cblxuICB0aHJvdyBuZXcgSW52YWxpZERhdGFDb250ZW50RXJyb3IoeyBjb250ZW50IH0pO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgVWludDhBcnJheSB0byBhIHN0cmluZyBvZiB0ZXh0LlxuICpcbiAqIEBwYXJhbSB1aW50OEFycmF5IC0gVGhlIFVpbnQ4QXJyYXkgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIFRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFVpbnQ4QXJyYXlUb1RleHQodWludDhBcnJheTogVWludDhBcnJheSk6IHN0cmluZyB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZSh1aW50OEFycmF5KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGRlY29kaW5nIFVpbnQ4QXJyYXkgdG8gdGV4dCcpO1xuICB9XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIHNwbGl0RGF0YVVybChkYXRhVXJsOiBzdHJpbmcpOiB7XG4gIG1lZGlhVHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBiYXNlNjRDb250ZW50OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG59IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBbaGVhZGVyLCBiYXNlNjRDb250ZW50XSA9IGRhdGFVcmwuc3BsaXQoJywnKTtcbiAgICByZXR1cm4ge1xuICAgICAgbWVkaWFUeXBlOiBoZWFkZXIuc3BsaXQoJzsnKVswXS5zcGxpdCgnOicpWzFdLFxuICAgICAgYmFzZTY0Q29udGVudCxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICBtZWRpYVR5cGU6IHVuZGVmaW5lZCxcbiAgICAgIGJhc2U2NENvbnRlbnQ6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9XG59XG4iLCAiaW1wb3J0IHsgSW52YWxpZEFyZ3VtZW50RXJyb3IgfSBmcm9tICcuLi9lcnJvci9pbnZhbGlkLWFyZ3VtZW50LWVycm9yJztcbmltcG9ydCB7IENhbGxTZXR0aW5ncyB9IGZyb20gJy4vY2FsbC1zZXR0aW5ncyc7XG5cbi8qKlxuICogVmFsaWRhdGVzIGNhbGwgc2V0dGluZ3MgYW5kIHJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggbGltaXRlZCB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlQ2FsbFNldHRpbmdzKHtcbiAgbWF4T3V0cHV0VG9rZW5zLFxuICB0ZW1wZXJhdHVyZSxcbiAgdG9wUCxcbiAgdG9wSyxcbiAgcHJlc2VuY2VQZW5hbHR5LFxuICBmcmVxdWVuY3lQZW5hbHR5LFxuICBzZWVkLFxuICBzdG9wU2VxdWVuY2VzLFxufTogT21pdDxDYWxsU2V0dGluZ3MsICdhYm9ydFNpZ25hbCcgfCAnaGVhZGVycycgfCAnbWF4UmV0cmllcyc+KTogT21pdDxcbiAgQ2FsbFNldHRpbmdzLFxuICAnYWJvcnRTaWduYWwnIHwgJ2hlYWRlcnMnIHwgJ21heFJldHJpZXMnXG4+IHtcbiAgaWYgKG1heE91dHB1dFRva2VucyAhPSBudWxsKSB7XG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKG1heE91dHB1dFRva2VucykpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ21heE91dHB1dFRva2VucycsXG4gICAgICAgIHZhbHVlOiBtYXhPdXRwdXRUb2tlbnMsXG4gICAgICAgIG1lc3NhZ2U6ICdtYXhPdXRwdXRUb2tlbnMgbXVzdCBiZSBhbiBpbnRlZ2VyJyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChtYXhPdXRwdXRUb2tlbnMgPCAxKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdtYXhPdXRwdXRUb2tlbnMnLFxuICAgICAgICB2YWx1ZTogbWF4T3V0cHV0VG9rZW5zLFxuICAgICAgICBtZXNzYWdlOiAnbWF4T3V0cHV0VG9rZW5zIG11c3QgYmUgPj0gMScsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpZiAodGVtcGVyYXR1cmUgIT0gbnVsbCkge1xuICAgIGlmICh0eXBlb2YgdGVtcGVyYXR1cmUgIT09ICdudW1iZXInKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICd0ZW1wZXJhdHVyZScsXG4gICAgICAgIHZhbHVlOiB0ZW1wZXJhdHVyZSxcbiAgICAgICAgbWVzc2FnZTogJ3RlbXBlcmF0dXJlIG11c3QgYmUgYSBudW1iZXInLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRvcFAgIT0gbnVsbCkge1xuICAgIGlmICh0eXBlb2YgdG9wUCAhPT0gJ251bWJlcicpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ3RvcFAnLFxuICAgICAgICB2YWx1ZTogdG9wUCxcbiAgICAgICAgbWVzc2FnZTogJ3RvcFAgbXVzdCBiZSBhIG51bWJlcicsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpZiAodG9wSyAhPSBudWxsKSB7XG4gICAgaWYgKHR5cGVvZiB0b3BLICE9PSAnbnVtYmVyJykge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAndG9wSycsXG4gICAgICAgIHZhbHVlOiB0b3BLLFxuICAgICAgICBtZXNzYWdlOiAndG9wSyBtdXN0IGJlIGEgbnVtYmVyJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmIChwcmVzZW5jZVBlbmFsdHkgIT0gbnVsbCkge1xuICAgIGlmICh0eXBlb2YgcHJlc2VuY2VQZW5hbHR5ICE9PSAnbnVtYmVyJykge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAncHJlc2VuY2VQZW5hbHR5JyxcbiAgICAgICAgdmFsdWU6IHByZXNlbmNlUGVuYWx0eSxcbiAgICAgICAgbWVzc2FnZTogJ3ByZXNlbmNlUGVuYWx0eSBtdXN0IGJlIGEgbnVtYmVyJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmIChmcmVxdWVuY3lQZW5hbHR5ICE9IG51bGwpIHtcbiAgICBpZiAodHlwZW9mIGZyZXF1ZW5jeVBlbmFsdHkgIT09ICdudW1iZXInKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdmcmVxdWVuY3lQZW5hbHR5JyxcbiAgICAgICAgdmFsdWU6IGZyZXF1ZW5jeVBlbmFsdHksXG4gICAgICAgIG1lc3NhZ2U6ICdmcmVxdWVuY3lQZW5hbHR5IG11c3QgYmUgYSBudW1iZXInLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHNlZWQgIT0gbnVsbCkge1xuICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihzZWVkKSkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAnc2VlZCcsXG4gICAgICAgIHZhbHVlOiBzZWVkLFxuICAgICAgICBtZXNzYWdlOiAnc2VlZCBtdXN0IGJlIGFuIGludGVnZXInLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBtYXhPdXRwdXRUb2tlbnMsXG4gICAgdGVtcGVyYXR1cmUsXG4gICAgdG9wUCxcbiAgICB0b3BLLFxuICAgIHByZXNlbmNlUGVuYWx0eSxcbiAgICBmcmVxdWVuY3lQZW5hbHR5LFxuICAgIHN0b3BTZXF1ZW5jZXMsXG4gICAgc2VlZCxcbiAgfTtcbn1cbiIsICJpbXBvcnQge1xuICBMYW5ndWFnZU1vZGVsVjJGdW5jdGlvblRvb2wsXG4gIExhbmd1YWdlTW9kZWxWMlByb3ZpZGVyRGVmaW5lZFRvb2wsXG4gIExhbmd1YWdlTW9kZWxWMlRvb2xDaG9pY2UsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgYXNTY2hlbWEgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IGlzTm9uRW1wdHlPYmplY3QgfSBmcm9tICcuLi91dGlsL2lzLW5vbi1lbXB0eS1vYmplY3QnO1xuaW1wb3J0IHsgVG9vbFNldCB9IGZyb20gJy4uL2dlbmVyYXRlLXRleHQnO1xuaW1wb3J0IHsgVG9vbENob2ljZSB9IGZyb20gJy4uL3R5cGVzL2xhbmd1YWdlLW1vZGVsJztcblxuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVUb29sc0FuZFRvb2xDaG9pY2U8VE9PTFMgZXh0ZW5kcyBUb29sU2V0Pih7XG4gIHRvb2xzLFxuICB0b29sQ2hvaWNlLFxuICBhY3RpdmVUb29scyxcbn06IHtcbiAgdG9vbHM6IFRPT0xTIHwgdW5kZWZpbmVkO1xuICB0b29sQ2hvaWNlOiBUb29sQ2hvaWNlPFRPT0xTPiB8IHVuZGVmaW5lZDtcbiAgYWN0aXZlVG9vbHM6IEFycmF5PGtleW9mIFRPT0xTPiB8IHVuZGVmaW5lZDtcbn0pOiB7XG4gIHRvb2xzOlxuICAgIHwgQXJyYXk8TGFuZ3VhZ2VNb2RlbFYyRnVuY3Rpb25Ub29sIHwgTGFuZ3VhZ2VNb2RlbFYyUHJvdmlkZXJEZWZpbmVkVG9vbD5cbiAgICB8IHVuZGVmaW5lZDtcbiAgdG9vbENob2ljZTogTGFuZ3VhZ2VNb2RlbFYyVG9vbENob2ljZSB8IHVuZGVmaW5lZDtcbn0ge1xuICBpZiAoIWlzTm9uRW1wdHlPYmplY3QodG9vbHMpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvb2xzOiB1bmRlZmluZWQsXG4gICAgICB0b29sQ2hvaWNlOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfVxuXG4gIC8vIHdoZW4gYWN0aXZlVG9vbHMgaXMgcHJvdmlkZWQsIHdlIG9ubHkgaW5jbHVkZSB0aGUgdG9vbHMgdGhhdCBhcmUgaW4gdGhlIGxpc3Q6XG4gIGNvbnN0IGZpbHRlcmVkVG9vbHMgPVxuICAgIGFjdGl2ZVRvb2xzICE9IG51bGxcbiAgICAgID8gT2JqZWN0LmVudHJpZXModG9vbHMpLmZpbHRlcigoW25hbWVdKSA9PlxuICAgICAgICAgIGFjdGl2ZVRvb2xzLmluY2x1ZGVzKG5hbWUgYXMga2V5b2YgVE9PTFMpLFxuICAgICAgICApXG4gICAgICA6IE9iamVjdC5lbnRyaWVzKHRvb2xzKTtcblxuICByZXR1cm4ge1xuICAgIHRvb2xzOiBmaWx0ZXJlZFRvb2xzLm1hcCgoW25hbWUsIHRvb2xdKSA9PiB7XG4gICAgICBjb25zdCB0b29sVHlwZSA9IHRvb2wudHlwZTtcbiAgICAgIHN3aXRjaCAodG9vbFR5cGUpIHtcbiAgICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgIGNhc2UgJ2R5bmFtaWMnOlxuICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdmdW5jdGlvbicgYXMgY29uc3QsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHRvb2wuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBpbnB1dFNjaGVtYTogYXNTY2hlbWEodG9vbC5pbnB1dFNjaGVtYSkuanNvblNjaGVtYSxcbiAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9uczogdG9vbC5wcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAncHJvdmlkZXItZGVmaW5lZCc6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdwcm92aWRlci1kZWZpbmVkJyBhcyBjb25zdCxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBpZDogdG9vbC5pZCxcbiAgICAgICAgICAgIGFyZ3M6IHRvb2wuYXJncyxcbiAgICAgICAgICB9O1xuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgY29uc3QgZXhoYXVzdGl2ZUNoZWNrOiBuZXZlciA9IHRvb2xUeXBlO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgdG9vbCB0eXBlOiAke2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLFxuICAgIHRvb2xDaG9pY2U6XG4gICAgICB0b29sQ2hvaWNlID09IG51bGxcbiAgICAgICAgPyB7IHR5cGU6ICdhdXRvJyB9XG4gICAgICAgIDogdHlwZW9mIHRvb2xDaG9pY2UgPT09ICdzdHJpbmcnXG4gICAgICAgICAgPyB7IHR5cGU6IHRvb2xDaG9pY2UgfVxuICAgICAgICAgIDogeyB0eXBlOiAndG9vbCcgYXMgY29uc3QsIHRvb2xOYW1lOiB0b29sQ2hvaWNlLnRvb2xOYW1lIGFzIHN0cmluZyB9LFxuICB9O1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBpc05vbkVtcHR5T2JqZWN0KFxuICBvYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHwgdW5kZWZpbmVkIHwgbnVsbCxcbik6IG9iamVjdCBpcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBPYmplY3Qua2V5cyhvYmplY3QpLmxlbmd0aCA+IDA7XG59XG4iLCAiaW1wb3J0IHsgSW52YWxpZFByb21wdEVycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBNb2RlbE1lc3NhZ2UsIHNhZmVWYWxpZGF0ZVR5cGVzIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7IG1vZGVsTWVzc2FnZVNjaGVtYSB9IGZyb20gJy4vbWVzc2FnZSc7XG5pbXBvcnQgeyBQcm9tcHQgfSBmcm9tICcuL3Byb21wdCc7XG5cbmV4cG9ydCB0eXBlIFN0YW5kYXJkaXplZFByb21wdCA9IHtcbiAgLyoqXG4gICAqIFN5c3RlbSBtZXNzYWdlLlxuICAgKi9cbiAgc3lzdGVtPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBNZXNzYWdlcy5cbiAgICovXG4gIG1lc3NhZ2VzOiBNb2RlbE1lc3NhZ2VbXTtcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdGFuZGFyZGl6ZVByb21wdChcbiAgcHJvbXB0OiBQcm9tcHQsXG4pOiBQcm9taXNlPFN0YW5kYXJkaXplZFByb21wdD4ge1xuICBpZiAocHJvbXB0LnByb21wdCA9PSBudWxsICYmIHByb21wdC5tZXNzYWdlcyA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRQcm9tcHRFcnJvcih7XG4gICAgICBwcm9tcHQsXG4gICAgICBtZXNzYWdlOiAncHJvbXB0IG9yIG1lc3NhZ2VzIG11c3QgYmUgZGVmaW5lZCcsXG4gICAgfSk7XG4gIH1cblxuICBpZiAocHJvbXB0LnByb21wdCAhPSBudWxsICYmIHByb21wdC5tZXNzYWdlcyAhPSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRQcm9tcHRFcnJvcih7XG4gICAgICBwcm9tcHQsXG4gICAgICBtZXNzYWdlOiAncHJvbXB0IGFuZCBtZXNzYWdlcyBjYW5ub3QgYmUgZGVmaW5lZCBhdCB0aGUgc2FtZSB0aW1lJyxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIHZhbGlkYXRlIHRoYXQgc3lzdGVtIGlzIGEgc3RyaW5nXG4gIGlmIChwcm9tcHQuc3lzdGVtICE9IG51bGwgJiYgdHlwZW9mIHByb21wdC5zeXN0ZW0gIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRQcm9tcHRFcnJvcih7XG4gICAgICBwcm9tcHQsXG4gICAgICBtZXNzYWdlOiAnc3lzdGVtIG11c3QgYmUgYSBzdHJpbmcnLFxuICAgIH0pO1xuICB9XG5cbiAgbGV0IG1lc3NhZ2VzOiBNb2RlbE1lc3NhZ2VbXTtcblxuICBpZiAocHJvbXB0LnByb21wdCAhPSBudWxsICYmIHR5cGVvZiBwcm9tcHQucHJvbXB0ID09PSAnc3RyaW5nJykge1xuICAgIG1lc3NhZ2VzID0gW3sgcm9sZTogJ3VzZXInLCBjb250ZW50OiBwcm9tcHQucHJvbXB0IH1dO1xuICB9IGVsc2UgaWYgKHByb21wdC5wcm9tcHQgIT0gbnVsbCAmJiBBcnJheS5pc0FycmF5KHByb21wdC5wcm9tcHQpKSB7XG4gICAgbWVzc2FnZXMgPSBwcm9tcHQucHJvbXB0O1xuICB9IGVsc2UgaWYgKHByb21wdC5tZXNzYWdlcyAhPSBudWxsKSB7XG4gICAgbWVzc2FnZXMgPSBwcm9tcHQubWVzc2FnZXM7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRQcm9tcHRFcnJvcih7XG4gICAgICBwcm9tcHQsXG4gICAgICBtZXNzYWdlOiAncHJvbXB0IG9yIG1lc3NhZ2VzIG11c3QgYmUgZGVmaW5lZCcsXG4gICAgfSk7XG4gIH1cblxuICBpZiAobWVzc2FnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRQcm9tcHRFcnJvcih7XG4gICAgICBwcm9tcHQsXG4gICAgICBtZXNzYWdlOiAnbWVzc2FnZXMgbXVzdCBub3QgYmUgZW1wdHknLFxuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IGF3YWl0IHNhZmVWYWxpZGF0ZVR5cGVzKHtcbiAgICB2YWx1ZTogbWVzc2FnZXMsXG4gICAgc2NoZW1hOiB6LmFycmF5KG1vZGVsTWVzc2FnZVNjaGVtYSksXG4gIH0pO1xuXG4gIGlmICghdmFsaWRhdGlvblJlc3VsdC5zdWNjZXNzKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRQcm9tcHRFcnJvcih7XG4gICAgICBwcm9tcHQsXG4gICAgICBtZXNzYWdlOlxuICAgICAgICAnVGhlIG1lc3NhZ2VzIG11c3QgYmUgYSBNb2RlbE1lc3NhZ2VbXS4gJyArXG4gICAgICAgICdJZiB5b3UgaGF2ZSBwYXNzZWQgYSBVSU1lc3NhZ2VbXSwgeW91IGNhbiB1c2UgY29udmVydFRvTW9kZWxNZXNzYWdlcyB0byBjb252ZXJ0IHRoZW0uJyxcbiAgICAgIGNhdXNlOiB2YWxpZGF0aW9uUmVzdWx0LmVycm9yLFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBtZXNzYWdlcyxcbiAgICBzeXN0ZW06IHByb21wdC5zeXN0ZW0sXG4gIH07XG59XG4iLCAiaW1wb3J0IHtcbiAgQXNzaXN0YW50TW9kZWxNZXNzYWdlLFxuICBNb2RlbE1lc3NhZ2UsXG4gIFN5c3RlbU1vZGVsTWVzc2FnZSxcbiAgVG9vbE1vZGVsTWVzc2FnZSxcbiAgVXNlck1vZGVsTWVzc2FnZSxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEgfSBmcm9tICcuLi90eXBlcy9wcm92aWRlci1tZXRhZGF0YSc7XG5pbXBvcnQge1xuICBmaWxlUGFydFNjaGVtYSxcbiAgaW1hZ2VQYXJ0U2NoZW1hLFxuICByZWFzb25pbmdQYXJ0U2NoZW1hLFxuICB0ZXh0UGFydFNjaGVtYSxcbiAgdG9vbENhbGxQYXJ0U2NoZW1hLFxuICB0b29sUmVzdWx0UGFydFNjaGVtYSxcbn0gZnJvbSAnLi9jb250ZW50LXBhcnQnO1xuXG4vKipcbkBkZXByZWNhdGVkIFVzZSBgU3lzdGVtTW9kZWxNZXNzYWdlYCBpbnN0ZWFkLlxuICovXG4vLyBUT0RPIHJlbW92ZSBpbiBBSSBTREsgNlxuZXhwb3J0IHR5cGUgQ29yZVN5c3RlbU1lc3NhZ2UgPSBTeXN0ZW1Nb2RlbE1lc3NhZ2U7XG5cbmV4cG9ydCBjb25zdCBzeXN0ZW1Nb2RlbE1lc3NhZ2VTY2hlbWE6IHouWm9kVHlwZTxTeXN0ZW1Nb2RlbE1lc3NhZ2U+ID0gei5vYmplY3QoXG4gIHtcbiAgICByb2xlOiB6LmxpdGVyYWwoJ3N5c3RlbScpLFxuICAgIGNvbnRlbnQ6IHouc3RyaW5nKCksXG4gICAgcHJvdmlkZXJPcHRpb25zOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gIH0sXG4pO1xuXG4vKipcbkBkZXByZWNhdGVkIFVzZSBgc3lzdGVtTW9kZWxNZXNzYWdlU2NoZW1hYCBpbnN0ZWFkLlxuICovXG4vLyBUT0RPIHJlbW92ZSBpbiBBSSBTREsgNlxuZXhwb3J0IGNvbnN0IGNvcmVTeXN0ZW1NZXNzYWdlU2NoZW1hID0gc3lzdGVtTW9kZWxNZXNzYWdlU2NoZW1hO1xuXG4vKipcbkBkZXByZWNhdGVkIFVzZSBgVXNlck1vZGVsTWVzc2FnZWAgaW5zdGVhZC5cbiAqL1xuLy8gVE9ETyByZW1vdmUgaW4gQUkgU0RLIDZcbmV4cG9ydCB0eXBlIENvcmVVc2VyTWVzc2FnZSA9IFVzZXJNb2RlbE1lc3NhZ2U7XG5cbmV4cG9ydCBjb25zdCB1c2VyTW9kZWxNZXNzYWdlU2NoZW1hOiB6LlpvZFR5cGU8VXNlck1vZGVsTWVzc2FnZT4gPSB6Lm9iamVjdCh7XG4gIHJvbGU6IHoubGl0ZXJhbCgndXNlcicpLFxuICBjb250ZW50OiB6LnVuaW9uKFtcbiAgICB6LnN0cmluZygpLFxuICAgIHouYXJyYXkoei51bmlvbihbdGV4dFBhcnRTY2hlbWEsIGltYWdlUGFydFNjaGVtYSwgZmlsZVBhcnRTY2hlbWFdKSksXG4gIF0pLFxuICBwcm92aWRlck9wdGlvbnM6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbn0pO1xuXG4vKipcbkBkZXByZWNhdGVkIFVzZSBgdXNlck1vZGVsTWVzc2FnZVNjaGVtYWAgaW5zdGVhZC5cbiAqL1xuLy8gVE9ETyByZW1vdmUgaW4gQUkgU0RLIDZcbmV4cG9ydCBjb25zdCBjb3JlVXNlck1lc3NhZ2VTY2hlbWEgPSB1c2VyTW9kZWxNZXNzYWdlU2NoZW1hO1xuXG4vKipcbkBkZXByZWNhdGVkIFVzZSBgQXNzaXN0YW50TW9kZWxNZXNzYWdlYCBpbnN0ZWFkLlxuICovXG4vLyBUT0RPIHJlbW92ZSBpbiBBSSBTREsgNlxuZXhwb3J0IHR5cGUgQ29yZUFzc2lzdGFudE1lc3NhZ2UgPSBBc3Npc3RhbnRNb2RlbE1lc3NhZ2U7XG5cbmV4cG9ydCBjb25zdCBhc3Npc3RhbnRNb2RlbE1lc3NhZ2VTY2hlbWE6IHouWm9kVHlwZTxBc3Npc3RhbnRNb2RlbE1lc3NhZ2U+ID1cbiAgei5vYmplY3Qoe1xuICAgIHJvbGU6IHoubGl0ZXJhbCgnYXNzaXN0YW50JyksXG4gICAgY29udGVudDogei51bmlvbihbXG4gICAgICB6LnN0cmluZygpLFxuICAgICAgei5hcnJheShcbiAgICAgICAgei51bmlvbihbXG4gICAgICAgICAgdGV4dFBhcnRTY2hlbWEsXG4gICAgICAgICAgZmlsZVBhcnRTY2hlbWEsXG4gICAgICAgICAgcmVhc29uaW5nUGFydFNjaGVtYSxcbiAgICAgICAgICB0b29sQ2FsbFBhcnRTY2hlbWEsXG4gICAgICAgICAgdG9vbFJlc3VsdFBhcnRTY2hlbWEsXG4gICAgICAgIF0pLFxuICAgICAgKSxcbiAgICBdKSxcbiAgICBwcm92aWRlck9wdGlvbnM6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgfSk7XG5cbi8qKlxuQGRlcHJlY2F0ZWQgVXNlIGBhc3Npc3RhbnRNb2RlbE1lc3NhZ2VTY2hlbWFgIGluc3RlYWQuXG4gKi9cbi8vIFRPRE8gcmVtb3ZlIGluIEFJIFNESyA2XG5leHBvcnQgY29uc3QgY29yZUFzc2lzdGFudE1lc3NhZ2VTY2hlbWEgPSBhc3Npc3RhbnRNb2RlbE1lc3NhZ2VTY2hlbWE7XG5cbi8qKlxuQGRlcHJlY2F0ZWQgVXNlIGBUb29sTW9kZWxNZXNzYWdlYCBpbnN0ZWFkLlxuICovXG4vLyBUT0RPIHJlbW92ZSBpbiBBSSBTREsgNlxuZXhwb3J0IHR5cGUgQ29yZVRvb2xNZXNzYWdlID0gVG9vbE1vZGVsTWVzc2FnZTtcblxuZXhwb3J0IGNvbnN0IHRvb2xNb2RlbE1lc3NhZ2VTY2hlbWE6IHouWm9kVHlwZTxUb29sTW9kZWxNZXNzYWdlPiA9IHoub2JqZWN0KHtcbiAgcm9sZTogei5saXRlcmFsKCd0b29sJyksXG4gIGNvbnRlbnQ6IHouYXJyYXkodG9vbFJlc3VsdFBhcnRTY2hlbWEpLFxuICBwcm92aWRlck9wdGlvbnM6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbn0pO1xuXG4vKipcbkBkZXByZWNhdGVkIFVzZSBgdG9vbE1vZGVsTWVzc2FnZVNjaGVtYWAgaW5zdGVhZC5cbiAqL1xuLy8gVE9ETyByZW1vdmUgaW4gQUkgU0RLIDZcbmV4cG9ydCBjb25zdCBjb3JlVG9vbE1lc3NhZ2VTY2hlbWEgPSB0b29sTW9kZWxNZXNzYWdlU2NoZW1hO1xuXG4vKipcbkBkZXByZWNhdGVkIFVzZSBgTW9kZWxNZXNzYWdlYCBpbnN0ZWFkLlxuICAgKi9cbi8vIFRPRE8gcmVtb3ZlIGluIEFJIFNESyA2XG5leHBvcnQgdHlwZSBDb3JlTWVzc2FnZSA9IE1vZGVsTWVzc2FnZTtcblxuZXhwb3J0IGNvbnN0IG1vZGVsTWVzc2FnZVNjaGVtYTogei5ab2RUeXBlPE1vZGVsTWVzc2FnZT4gPSB6LnVuaW9uKFtcbiAgc3lzdGVtTW9kZWxNZXNzYWdlU2NoZW1hLFxuICB1c2VyTW9kZWxNZXNzYWdlU2NoZW1hLFxuICBhc3Npc3RhbnRNb2RlbE1lc3NhZ2VTY2hlbWEsXG4gIHRvb2xNb2RlbE1lc3NhZ2VTY2hlbWEsXG5dKTtcblxuLyoqXG5AZGVwcmVjYXRlZCBVc2UgYG1vZGVsTWVzc2FnZVNjaGVtYWAgaW5zdGVhZC5cbiAqL1xuLy8gVE9ETyByZW1vdmUgaW4gQUkgU0RLIDZcbmV4cG9ydCBjb25zdCBjb3JlTWVzc2FnZVNjaGVtYTogei5ab2RUeXBlPENvcmVNZXNzYWdlPiA9IG1vZGVsTWVzc2FnZVNjaGVtYTtcbiIsICJpbXBvcnQgeyBTaGFyZWRWMlByb3ZpZGVyTWV0YWRhdGEgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsganNvblZhbHVlU2NoZW1hIH0gZnJvbSAnLi9qc29uLXZhbHVlJztcblxuLyoqXG5BZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG1ldGFkYXRhIHRoYXQgaXMgcmV0dXJuZWQgZnJvbSB0aGUgcHJvdmlkZXIuXG5cblRoaXMgaXMgbmVlZGVkIHRvIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpYyBmdW5jdGlvbmFsaXR5IHRoYXQgY2FuIGJlXG5mdWxseSBlbmNhcHN1bGF0ZWQgaW4gdGhlIHByb3ZpZGVyLlxuICovXG5leHBvcnQgdHlwZSBQcm92aWRlck1ldGFkYXRhID0gU2hhcmVkVjJQcm92aWRlck1ldGFkYXRhO1xuXG5leHBvcnQgY29uc3QgcHJvdmlkZXJNZXRhZGF0YVNjaGVtYTogei5ab2RUeXBlPFByb3ZpZGVyTWV0YWRhdGE+ID0gei5yZWNvcmQoXG4gIHouc3RyaW5nKCksXG4gIHoucmVjb3JkKHouc3RyaW5nKCksIGpzb25WYWx1ZVNjaGVtYSksXG4pO1xuIiwgImltcG9ydCB7IEpTT05WYWx1ZSBhcyBPcmlnaW5hbEpTT05WYWx1ZSB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZC92NCc7XG5cbmV4cG9ydCBjb25zdCBqc29uVmFsdWVTY2hlbWE6IHouWm9kVHlwZTxKU09OVmFsdWU+ID0gei5sYXp5KCgpID0+XG4gIHoudW5pb24oW1xuICAgIHoubnVsbCgpLFxuICAgIHouc3RyaW5nKCksXG4gICAgei5udW1iZXIoKSxcbiAgICB6LmJvb2xlYW4oKSxcbiAgICB6LnJlY29yZCh6LnN0cmluZygpLCBqc29uVmFsdWVTY2hlbWEpLFxuICAgIHouYXJyYXkoanNvblZhbHVlU2NoZW1hKSxcbiAgXSksXG4pO1xuXG5leHBvcnQgdHlwZSBKU09OVmFsdWUgPSBPcmlnaW5hbEpTT05WYWx1ZTtcbiIsICJpbXBvcnQgeyBMYW5ndWFnZU1vZGVsVjJUb29sUmVzdWx0T3V0cHV0IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQge1xuICBGaWxlUGFydCxcbiAgSW1hZ2VQYXJ0LFxuICBQcm92aWRlck9wdGlvbnMsXG4gIFJlYXNvbmluZ1BhcnQsXG4gIFRleHRQYXJ0LFxuICBUb29sUmVzdWx0UGFydCxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7IGpzb25WYWx1ZVNjaGVtYSB9IGZyb20gJy4uL3R5cGVzL2pzb24tdmFsdWUnO1xuaW1wb3J0IHsgcHJvdmlkZXJNZXRhZGF0YVNjaGVtYSB9IGZyb20gJy4uL3R5cGVzL3Byb3ZpZGVyLW1ldGFkYXRhJztcbmltcG9ydCB7IGRhdGFDb250ZW50U2NoZW1hIH0gZnJvbSAnLi9kYXRhLWNvbnRlbnQnO1xuXG4vKipcbkBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgdGV4dFBhcnRTY2hlbWE6IHouWm9kVHlwZTxUZXh0UGFydD4gPSB6Lm9iamVjdCh7XG4gIHR5cGU6IHoubGl0ZXJhbCgndGV4dCcpLFxuICB0ZXh0OiB6LnN0cmluZygpLFxuICBwcm92aWRlck9wdGlvbnM6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbn0pO1xuXG4vKipcbkBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgaW1hZ2VQYXJ0U2NoZW1hOiB6LlpvZFR5cGU8SW1hZ2VQYXJ0PiA9IHoub2JqZWN0KHtcbiAgdHlwZTogei5saXRlcmFsKCdpbWFnZScpLFxuICBpbWFnZTogei51bmlvbihbZGF0YUNvbnRlbnRTY2hlbWEsIHouaW5zdGFuY2VvZihVUkwpXSksXG4gIG1lZGlhVHlwZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBwcm92aWRlck9wdGlvbnM6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbn0pO1xuXG4vKipcbkBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgZmlsZVBhcnRTY2hlbWE6IHouWm9kVHlwZTxGaWxlUGFydD4gPSB6Lm9iamVjdCh7XG4gIHR5cGU6IHoubGl0ZXJhbCgnZmlsZScpLFxuICBkYXRhOiB6LnVuaW9uKFtkYXRhQ29udGVudFNjaGVtYSwgei5pbnN0YW5jZW9mKFVSTCldKSxcbiAgZmlsZW5hbWU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgbWVkaWFUeXBlOiB6LnN0cmluZygpLFxuICBwcm92aWRlck9wdGlvbnM6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbn0pO1xuXG4vKipcbkBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgcmVhc29uaW5nUGFydFNjaGVtYTogei5ab2RUeXBlPFJlYXNvbmluZ1BhcnQ+ID0gei5vYmplY3Qoe1xuICB0eXBlOiB6LmxpdGVyYWwoJ3JlYXNvbmluZycpLFxuICB0ZXh0OiB6LnN0cmluZygpLFxuICBwcm92aWRlck9wdGlvbnM6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbn0pO1xuXG4vKipcblRvb2wgY2FsbCBjb250ZW50IHBhcnQgb2YgYSBwcm9tcHQuIEl0IGNvbnRhaW5zIGEgdG9vbCBjYWxsICh1c3VhbGx5IGdlbmVyYXRlZCBieSB0aGUgQUkgbW9kZWwpLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRvb2xDYWxsUGFydCB7XG4gIHR5cGU6ICd0b29sLWNhbGwnO1xuXG4gIC8qKlxuSUQgb2YgdGhlIHRvb2wgY2FsbC4gVGhpcyBJRCBpcyB1c2VkIHRvIG1hdGNoIHRoZSB0b29sIGNhbGwgd2l0aCB0aGUgdG9vbCByZXN1bHQuXG4gKi9cbiAgdG9vbENhbGxJZDogc3RyaW5nO1xuXG4gIC8qKlxuTmFtZSBvZiB0aGUgdG9vbCB0aGF0IGlzIGJlaW5nIGNhbGxlZC5cbiAqL1xuICB0b29sTmFtZTogc3RyaW5nO1xuXG4gIC8qKlxuQXJndW1lbnRzIG9mIHRoZSB0b29sIGNhbGwuIFRoaXMgaXMgYSBKU09OLXNlcmlhbGl6YWJsZSBvYmplY3QgdGhhdCBtYXRjaGVzIHRoZSB0b29sJ3MgaW5wdXQgc2NoZW1hLlxuICAgKi9cbiAgaW5wdXQ6IHVua25vd247XG5cbiAgLyoqXG5BZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG1ldGFkYXRhLiBUaGV5IGFyZSBwYXNzZWQgdGhyb3VnaFxudG8gdGhlIHByb3ZpZGVyIGZyb20gdGhlIEFJIFNESyBhbmQgZW5hYmxlIHByb3ZpZGVyLXNwZWNpZmljXG5mdW5jdGlvbmFsaXR5IHRoYXQgY2FuIGJlIGZ1bGx5IGVuY2Fwc3VsYXRlZCBpbiB0aGUgcHJvdmlkZXIuXG4gKi9cbiAgcHJvdmlkZXJPcHRpb25zPzogUHJvdmlkZXJPcHRpb25zO1xufVxuXG4vKipcbkBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgdG9vbENhbGxQYXJ0U2NoZW1hOiB6LlpvZFR5cGU8VG9vbENhbGxQYXJ0PiA9IHoub2JqZWN0KHtcbiAgdHlwZTogei5saXRlcmFsKCd0b29sLWNhbGwnKSxcbiAgdG9vbENhbGxJZDogei5zdHJpbmcoKSxcbiAgdG9vbE5hbWU6IHouc3RyaW5nKCksXG4gIGlucHV0OiB6LnVua25vd24oKSxcbiAgcHJvdmlkZXJPcHRpb25zOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gIHByb3ZpZGVyRXhlY3V0ZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG59KSBhcyB6LlpvZFR5cGU8VG9vbENhbGxQYXJ0PjsgLy8gbmVjZXNzYXJ5IGJjIGlucHV0IGlzIG9wdGlvbmFsIG9uIFpvZCB0eXBlXG5cbi8qKlxuQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBvdXRwdXRTY2hlbWE6IHouWm9kVHlwZTxMYW5ndWFnZU1vZGVsVjJUb29sUmVzdWx0T3V0cHV0PiA9XG4gIHouZGlzY3JpbWluYXRlZFVuaW9uKCd0eXBlJywgW1xuICAgIHoub2JqZWN0KHtcbiAgICAgIHR5cGU6IHoubGl0ZXJhbCgndGV4dCcpLFxuICAgICAgdmFsdWU6IHouc3RyaW5nKCksXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgdHlwZTogei5saXRlcmFsKCdqc29uJyksXG4gICAgICB2YWx1ZToganNvblZhbHVlU2NoZW1hLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgIHR5cGU6IHoubGl0ZXJhbCgnZXJyb3ItdGV4dCcpLFxuICAgICAgdmFsdWU6IHouc3RyaW5nKCksXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgdHlwZTogei5saXRlcmFsKCdlcnJvci1qc29uJyksXG4gICAgICB2YWx1ZToganNvblZhbHVlU2NoZW1hLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgIHR5cGU6IHoubGl0ZXJhbCgnY29udGVudCcpLFxuICAgICAgdmFsdWU6IHouYXJyYXkoXG4gICAgICAgIHoudW5pb24oW1xuICAgICAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgICAgIHR5cGU6IHoubGl0ZXJhbCgndGV4dCcpLFxuICAgICAgICAgICAgdGV4dDogei5zdHJpbmcoKSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICB6Lm9iamVjdCh7XG4gICAgICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ21lZGlhJyksXG4gICAgICAgICAgICBkYXRhOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgbWVkaWFUeXBlOiB6LnN0cmluZygpLFxuICAgICAgICAgIH0pLFxuICAgICAgICBdKSxcbiAgICAgICksXG4gICAgfSksXG4gIF0pO1xuXG4vKipcbkBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgdG9vbFJlc3VsdFBhcnRTY2hlbWE6IHouWm9kVHlwZTxUb29sUmVzdWx0UGFydD4gPSB6Lm9iamVjdCh7XG4gIHR5cGU6IHoubGl0ZXJhbCgndG9vbC1yZXN1bHQnKSxcbiAgdG9vbENhbGxJZDogei5zdHJpbmcoKSxcbiAgdG9vbE5hbWU6IHouc3RyaW5nKCksXG4gIG91dHB1dDogb3V0cHV0U2NoZW1hLFxuICBwcm92aWRlck9wdGlvbnM6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbn0pIGFzIHouWm9kVHlwZTxUb29sUmVzdWx0UGFydD47IC8vIG5lY2Vzc2FyeSBiYyByZXN1bHQgaXMgb3B0aW9uYWwgb24gWm9kIHR5cGVcbiIsICJpbXBvcnQge1xuICBHYXRld2F5QXV0aGVudGljYXRpb25FcnJvcixcbiAgR2F0ZXdheU1vZGVsTm90Rm91bmRFcnJvcixcbn0gZnJvbSAnQGFpLXNkay9nYXRld2F5JztcbmltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuZXhwb3J0IGZ1bmN0aW9uIHdyYXBHYXRld2F5RXJyb3IoZXJyb3I6IHVua25vd24pOiB1bmtub3duIHtcbiAgaWYgKFxuICAgIEdhdGV3YXlBdXRoZW50aWNhdGlvbkVycm9yLmlzSW5zdGFuY2UoZXJyb3IpIHx8XG4gICAgR2F0ZXdheU1vZGVsTm90Rm91bmRFcnJvci5pc0luc3RhbmNlKGVycm9yKVxuICApIHtcbiAgICByZXR1cm4gbmV3IEFJU0RLRXJyb3Ioe1xuICAgICAgbmFtZTogJ0dhdGV3YXlFcnJvcicsXG4gICAgICBtZXNzYWdlOlxuICAgICAgICAnVmVyY2VsIEFJIEdhdGV3YXkgYWNjZXNzIGZhaWxlZC4gJyArXG4gICAgICAgICdJZiB5b3Ugd2FudCB0byB1c2UgQUkgU0RLIHByb3ZpZGVycyBkaXJlY3RseSwgdXNlIHRoZSBwcm92aWRlcnMsIGUuZy4gQGFpLXNkay9vcGVuYWksICcgK1xuICAgICAgICAnb3IgcmVnaXN0ZXIgYSBkaWZmZXJlbnQgZ2xvYmFsIGRlZmF1bHQgcHJvdmlkZXIuJyxcbiAgICAgIGNhdXNlOiBlcnJvcixcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBlcnJvcjtcbn1cbiIsICJpbXBvcnQgeyBUZWxlbWV0cnlTZXR0aW5ncyB9IGZyb20gJy4vdGVsZW1ldHJ5LXNldHRpbmdzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gIG9wZXJhdGlvbklkLFxuICB0ZWxlbWV0cnksXG59OiB7XG4gIG9wZXJhdGlvbklkOiBzdHJpbmc7XG4gIHRlbGVtZXRyeT86IFRlbGVtZXRyeVNldHRpbmdzO1xufSkge1xuICByZXR1cm4ge1xuICAgIC8vIHN0YW5kYXJkaXplZCBvcGVyYXRpb24gYW5kIHJlc291cmNlIG5hbWU6XG4gICAgJ29wZXJhdGlvbi5uYW1lJzogYCR7b3BlcmF0aW9uSWR9JHtcbiAgICAgIHRlbGVtZXRyeT8uZnVuY3Rpb25JZCAhPSBudWxsID8gYCAke3RlbGVtZXRyeS5mdW5jdGlvbklkfWAgOiAnJ1xuICAgIH1gLFxuICAgICdyZXNvdXJjZS5uYW1lJzogdGVsZW1ldHJ5Py5mdW5jdGlvbklkLFxuXG4gICAgLy8gZGV0YWlsZWQsIEFJIFNESyBzcGVjaWZpYyBkYXRhOlxuICAgICdhaS5vcGVyYXRpb25JZCc6IG9wZXJhdGlvbklkLFxuICAgICdhaS50ZWxlbWV0cnkuZnVuY3Rpb25JZCc6IHRlbGVtZXRyeT8uZnVuY3Rpb25JZCxcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyBBdHRyaWJ1dGVzIH0gZnJvbSAnQG9wZW50ZWxlbWV0cnkvYXBpJztcbmltcG9ydCB7IENhbGxTZXR0aW5ncyB9IGZyb20gJy4uL3Byb21wdC9jYWxsLXNldHRpbmdzJztcbmltcG9ydCB7IFRlbGVtZXRyeVNldHRpbmdzIH0gZnJvbSAnLi90ZWxlbWV0cnktc2V0dGluZ3MnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICBtb2RlbCxcbiAgc2V0dGluZ3MsXG4gIHRlbGVtZXRyeSxcbiAgaGVhZGVycyxcbn06IHtcbiAgbW9kZWw6IHsgbW9kZWxJZDogc3RyaW5nOyBwcm92aWRlcjogc3RyaW5nIH07XG4gIHNldHRpbmdzOiBPbWl0PENhbGxTZXR0aW5ncywgJ2Fib3J0U2lnbmFsJyB8ICdoZWFkZXJzJyB8ICd0ZW1wZXJhdHVyZSc+O1xuICB0ZWxlbWV0cnk6IFRlbGVtZXRyeVNldHRpbmdzIHwgdW5kZWZpbmVkO1xuICBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCB1bmRlZmluZWQ+IHwgdW5kZWZpbmVkO1xufSk6IEF0dHJpYnV0ZXMge1xuICByZXR1cm4ge1xuICAgICdhaS5tb2RlbC5wcm92aWRlcic6IG1vZGVsLnByb3ZpZGVyLFxuICAgICdhaS5tb2RlbC5pZCc6IG1vZGVsLm1vZGVsSWQsXG5cbiAgICAvLyBzZXR0aW5nczpcbiAgICAuLi5PYmplY3QuZW50cmllcyhzZXR0aW5ncykucmVkdWNlKChhdHRyaWJ1dGVzLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIGF0dHJpYnV0ZXNbYGFpLnNldHRpbmdzLiR7a2V5fWBdID0gdmFsdWU7XG4gICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICB9LCB7fSBhcyBBdHRyaWJ1dGVzKSxcblxuICAgIC8vIGFkZCBtZXRhZGF0YSBhcyBhdHRyaWJ1dGVzOlxuICAgIC4uLk9iamVjdC5lbnRyaWVzKHRlbGVtZXRyeT8ubWV0YWRhdGEgPz8ge30pLnJlZHVjZShcbiAgICAgIChhdHRyaWJ1dGVzLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgYXR0cmlidXRlc1tgYWkudGVsZW1ldHJ5Lm1ldGFkYXRhLiR7a2V5fWBdID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgICAgfSxcbiAgICAgIHt9IGFzIEF0dHJpYnV0ZXMsXG4gICAgKSxcblxuICAgIC8vIHJlcXVlc3QgaGVhZGVyc1xuICAgIC4uLk9iamVjdC5lbnRyaWVzKGhlYWRlcnMgPz8ge30pLnJlZHVjZSgoYXR0cmlidXRlcywgW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhdHRyaWJ1dGVzW2BhaS5yZXF1ZXN0LmhlYWRlcnMuJHtrZXl9YF0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgIH0sIHt9IGFzIEF0dHJpYnV0ZXMpLFxuICB9O1xufVxuIiwgImltcG9ydCB7IFRyYWNlciwgdHJhY2UgfSBmcm9tICdAb3BlbnRlbGVtZXRyeS9hcGknO1xuaW1wb3J0IHsgbm9vcFRyYWNlciB9IGZyb20gJy4vbm9vcC10cmFjZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhY2VyKHtcbiAgaXNFbmFibGVkID0gZmFsc2UsXG4gIHRyYWNlcixcbn06IHtcbiAgaXNFbmFibGVkPzogYm9vbGVhbjtcbiAgdHJhY2VyPzogVHJhY2VyO1xufSA9IHt9KTogVHJhY2VyIHtcbiAgaWYgKCFpc0VuYWJsZWQpIHtcbiAgICByZXR1cm4gbm9vcFRyYWNlcjtcbiAgfVxuXG4gIGlmICh0cmFjZXIpIHtcbiAgICByZXR1cm4gdHJhY2VyO1xuICB9XG5cbiAgcmV0dXJuIHRyYWNlLmdldFRyYWNlcignYWknKTtcbn1cbiIsICJpbXBvcnQgeyBTcGFuLCBTcGFuQ29udGV4dCwgVHJhY2VyIH0gZnJvbSAnQG9wZW50ZWxlbWV0cnkvYXBpJztcblxuLyoqXG4gKiBUcmFjZXIgaW1wbGVtZW50YXRpb24gdGhhdCBkb2VzIG5vdGhpbmcgKG51bGwgb2JqZWN0KS5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vb3BUcmFjZXI6IFRyYWNlciA9IHtcbiAgc3RhcnRTcGFuKCk6IFNwYW4ge1xuICAgIHJldHVybiBub29wU3BhbjtcbiAgfSxcblxuICBzdGFydEFjdGl2ZVNwYW48RiBleHRlbmRzIChzcGFuOiBTcGFuKSA9PiB1bmtub3duPihcbiAgICBuYW1lOiB1bmtub3duLFxuICAgIGFyZzE6IHVua25vd24sXG4gICAgYXJnMj86IHVua25vd24sXG4gICAgYXJnMz86IEYsXG4gICk6IFJldHVyblR5cGU8YW55PiB7XG4gICAgaWYgKHR5cGVvZiBhcmcxID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gYXJnMShub29wU3Bhbik7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYXJnMiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGFyZzIobm9vcFNwYW4pO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGFyZzMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBhcmczKG5vb3BTcGFuKTtcbiAgICB9XG4gIH0sXG59O1xuXG5jb25zdCBub29wU3BhbjogU3BhbiA9IHtcbiAgc3BhbkNvbnRleHQoKSB7XG4gICAgcmV0dXJuIG5vb3BTcGFuQ29udGV4dDtcbiAgfSxcbiAgc2V0QXR0cmlidXRlKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBzZXRBdHRyaWJ1dGVzKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBhZGRFdmVudCgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgYWRkTGluaygpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgYWRkTGlua3MoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIHNldFN0YXR1cygpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgdXBkYXRlTmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgZW5kKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBpc1JlY29yZGluZygpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIHJlY29yZEV4Y2VwdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbn07XG5cbmNvbnN0IG5vb3BTcGFuQ29udGV4dDogU3BhbkNvbnRleHQgPSB7XG4gIHRyYWNlSWQ6ICcnLFxuICBzcGFuSWQ6ICcnLFxuICB0cmFjZUZsYWdzOiAwLFxufTtcbiIsICJpbXBvcnQgeyBBdHRyaWJ1dGVzLCBTcGFuLCBUcmFjZXIsIFNwYW5TdGF0dXNDb2RlIH0gZnJvbSAnQG9wZW50ZWxlbWV0cnkvYXBpJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlY29yZFNwYW48VD4oe1xuICBuYW1lLFxuICB0cmFjZXIsXG4gIGF0dHJpYnV0ZXMsXG4gIGZuLFxuICBlbmRXaGVuRG9uZSA9IHRydWUsXG59OiB7XG4gIG5hbWU6IHN0cmluZztcbiAgdHJhY2VyOiBUcmFjZXI7XG4gIGF0dHJpYnV0ZXM6IEF0dHJpYnV0ZXM7XG4gIGZuOiAoc3BhbjogU3BhbikgPT4gUHJvbWlzZTxUPjtcbiAgZW5kV2hlbkRvbmU/OiBib29sZWFuO1xufSkge1xuICByZXR1cm4gdHJhY2VyLnN0YXJ0QWN0aXZlU3BhbihuYW1lLCB7IGF0dHJpYnV0ZXMgfSwgYXN5bmMgc3BhbiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZuKHNwYW4pO1xuXG4gICAgICBpZiAoZW5kV2hlbkRvbmUpIHtcbiAgICAgICAgc3Bhbi5lbmQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVjb3JkRXJyb3JPblNwYW4oc3BhbiwgZXJyb3IpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgLy8gYWx3YXlzIHN0b3AgdGhlIHNwYW4gd2hlbiB0aGVyZSBpcyBhbiBlcnJvcjpcbiAgICAgICAgc3Bhbi5lbmQoKTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBSZWNvcmQgYW4gZXJyb3Igb24gYSBzcGFuLiBJZiB0aGUgZXJyb3IgaXMgYW4gaW5zdGFuY2Ugb2YgRXJyb3IsIGFuIGV4Y2VwdGlvbiBldmVudCB3aWxsIGJlIHJlY29yZGVkIG9uIHRoZSBzcGFuLCBvdGhlcndpc2VcbiAqIHRoZSBzcGFuIHdpbGwgYmUgc2V0IHRvIGFuIGVycm9yIHN0YXR1cy5cbiAqXG4gKiBAcGFyYW0gc3BhbiAtIFRoZSBzcGFuIHRvIHJlY29yZCB0aGUgZXJyb3Igb24uXG4gKiBAcGFyYW0gZXJyb3IgLSBUaGUgZXJyb3IgdG8gcmVjb3JkIG9uIHRoZSBzcGFuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVjb3JkRXJyb3JPblNwYW4oc3BhbjogU3BhbiwgZXJyb3I6IHVua25vd24pIHtcbiAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICBzcGFuLnJlY29yZEV4Y2VwdGlvbih7XG4gICAgICBuYW1lOiBlcnJvci5uYW1lLFxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgIHN0YWNrOiBlcnJvci5zdGFjayxcbiAgICB9KTtcbiAgICBzcGFuLnNldFN0YXR1cyh7XG4gICAgICBjb2RlOiBTcGFuU3RhdHVzQ29kZS5FUlJPUixcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgc3Bhbi5zZXRTdGF0dXMoeyBjb2RlOiBTcGFuU3RhdHVzQ29kZS5FUlJPUiB9KTtcbiAgfVxufVxuIiwgImltcG9ydCB0eXBlIHsgQXR0cmlidXRlcywgQXR0cmlidXRlVmFsdWUgfSBmcm9tICdAb3BlbnRlbGVtZXRyeS9hcGknO1xuaW1wb3J0IHR5cGUgeyBUZWxlbWV0cnlTZXR0aW5ncyB9IGZyb20gJy4vdGVsZW1ldHJ5LXNldHRpbmdzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICB0ZWxlbWV0cnksXG4gIGF0dHJpYnV0ZXMsXG59OiB7XG4gIHRlbGVtZXRyeT86IFRlbGVtZXRyeVNldHRpbmdzO1xuICBhdHRyaWJ1dGVzOiB7XG4gICAgW2F0dHJpYnV0ZUtleTogc3RyaW5nXTpcbiAgICAgIHwgQXR0cmlidXRlVmFsdWVcbiAgICAgIHwgeyBpbnB1dDogKCkgPT4gQXR0cmlidXRlVmFsdWUgfCB1bmRlZmluZWQgfVxuICAgICAgfCB7IG91dHB1dDogKCkgPT4gQXR0cmlidXRlVmFsdWUgfCB1bmRlZmluZWQgfVxuICAgICAgfCB1bmRlZmluZWQ7XG4gIH07XG59KTogQXR0cmlidXRlcyB7XG4gIC8vIHdoZW4gdGVsZW1ldHJ5IGlzIGRpc2FibGVkLCByZXR1cm4gYW4gZW1wdHkgb2JqZWN0IHRvIGF2b2lkIHNlcmlhbGl6YXRpb24gb3ZlcmhlYWQ6XG4gIGlmICh0ZWxlbWV0cnk/LmlzRW5hYmxlZCAhPT0gdHJ1ZSkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIHJldHVybiBPYmplY3QuZW50cmllcyhhdHRyaWJ1dGVzKS5yZWR1Y2UoKGF0dHJpYnV0ZXMsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICB9XG5cbiAgICAvLyBpbnB1dCB2YWx1ZSwgY2hlY2sgaWYgaXQgc2hvdWxkIGJlIHJlY29yZGVkOlxuICAgIGlmIChcbiAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICdpbnB1dCcgaW4gdmFsdWUgJiZcbiAgICAgIHR5cGVvZiB2YWx1ZS5pbnB1dCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICkge1xuICAgICAgLy8gZGVmYXVsdCB0byB0cnVlOlxuICAgICAgaWYgKHRlbGVtZXRyeT8ucmVjb3JkSW5wdXRzID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsdWUuaW5wdXQoKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdCA9PSBudWxsID8gYXR0cmlidXRlcyA6IHsgLi4uYXR0cmlidXRlcywgW2tleV06IHJlc3VsdCB9O1xuICAgIH1cblxuICAgIC8vIG91dHB1dCB2YWx1ZSwgY2hlY2sgaWYgaXQgc2hvdWxkIGJlIHJlY29yZGVkOlxuICAgIGlmIChcbiAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICdvdXRwdXQnIGluIHZhbHVlICYmXG4gICAgICB0eXBlb2YgdmFsdWUub3V0cHV0ID09PSAnZnVuY3Rpb24nXG4gICAgKSB7XG4gICAgICAvLyBkZWZhdWx0IHRvIHRydWU6XG4gICAgICBpZiAodGVsZW1ldHJ5Py5yZWNvcmRPdXRwdXRzID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsdWUub3V0cHV0KCk7XG5cbiAgICAgIHJldHVybiByZXN1bHQgPT0gbnVsbCA/IGF0dHJpYnV0ZXMgOiB7IC4uLmF0dHJpYnV0ZXMsIFtrZXldOiByZXN1bHQgfTtcbiAgICB9XG5cbiAgICAvLyB2YWx1ZSBpcyBhbiBhdHRyaWJ1dGUgdmFsdWUgYWxyZWFkeTpcbiAgICByZXR1cm4geyAuLi5hdHRyaWJ1dGVzLCBba2V5XTogdmFsdWUgfTtcbiAgfSwge30pO1xufVxuIiwgImltcG9ydCB7XG4gIExhbmd1YWdlTW9kZWxWMk1lc3NhZ2UsXG4gIExhbmd1YWdlTW9kZWxWMlByb21wdCxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBjb252ZXJ0RGF0YUNvbnRlbnRUb0Jhc2U2NFN0cmluZyB9IGZyb20gJy4uL3Byb21wdC9kYXRhLWNvbnRlbnQnO1xuXG4vKipcbiAqIEhlbHBlciB1dGlsaXR5IHRvIHNlcmlhbGl6ZSBwcm9tcHQgY29udGVudCBmb3IgT3BlblRlbGVtZXRyeSB0cmFjaW5nLlxuICogSXQgaXMgaW5pdGlhbGx5IGNyZWF0ZWQgYmVjYXVzZSBub3JtYWxpemVkIExhbmd1YWdlTW9kZWxWMVByb21wdCBjYXJyaWVzXG4gKiBpbWFnZXMgYXMgVWludDhBcnJheXMsIG9uIHdoaWNoIEpTT04uc3RyaW5naWZ5IGFjdHMgd2VpcmRseSwgY29udmVydGluZ1xuICogdGhlbSB0byBvYmplY3RzIHdpdGggc3RyaW5naWZpZWQgaW5kaWNlcyBhcyBrZXlzLCBlLmcuIHtcIjBcIjogNDIsIFwiMVwiOiA2OSB9LlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5Rm9yVGVsZW1ldHJ5KHByb21wdDogTGFuZ3VhZ2VNb2RlbFYyUHJvbXB0KTogc3RyaW5nIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KFxuICAgIHByb21wdC5tYXAoKG1lc3NhZ2U6IExhbmd1YWdlTW9kZWxWMk1lc3NhZ2UpID0+ICh7XG4gICAgICAuLi5tZXNzYWdlLFxuICAgICAgY29udGVudDpcbiAgICAgICAgdHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gJ3N0cmluZydcbiAgICAgICAgICA/IG1lc3NhZ2UuY29udGVudFxuICAgICAgICAgIDogbWVzc2FnZS5jb250ZW50Lm1hcChwYXJ0ID0+XG4gICAgICAgICAgICAgIHBhcnQudHlwZSA9PT0gJ2ZpbGUnXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnBhcnQsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6XG4gICAgICAgICAgICAgICAgICAgICAgcGFydC5kYXRhIGluc3RhbmNlb2YgVWludDhBcnJheVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBjb252ZXJ0RGF0YUNvbnRlbnRUb0Jhc2U2NFN0cmluZyhwYXJ0LmRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHBhcnQuZGF0YSxcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHBhcnQsXG4gICAgICAgICAgICApLFxuICAgIH0pKSxcbiAgKTtcbn1cbiIsICJpbXBvcnQgeyBMYW5ndWFnZU1vZGVsVjJVc2FnZSB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG4vKipcblJlcHJlc2VudHMgdGhlIG51bWJlciBvZiB0b2tlbnMgdXNlZCBpbiBhIHByb21wdCBhbmQgY29tcGxldGlvbi5cbiAqL1xuZXhwb3J0IHR5cGUgTGFuZ3VhZ2VNb2RlbFVzYWdlID0gTGFuZ3VhZ2VNb2RlbFYyVXNhZ2U7XG5cbi8qKlxuUmVwcmVzZW50cyB0aGUgbnVtYmVyIG9mIHRva2VucyB1c2VkIGluIGFuIGVtYmVkZGluZy5cbiAqL1xuLy8gVE9ETyByZXBsYWNlIHdpdGggRW1iZWRkaW5nTW9kZWxWMlVzYWdlXG5leHBvcnQgdHlwZSBFbWJlZGRpbmdNb2RlbFVzYWdlID0ge1xuICAvKipcblRoZSBudW1iZXIgb2YgdG9rZW5zIHVzZWQgaW4gdGhlIGVtYmVkZGluZy5cbiAgICovXG4gIHRva2VuczogbnVtYmVyO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZExhbmd1YWdlTW9kZWxVc2FnZShcbiAgdXNhZ2UxOiBMYW5ndWFnZU1vZGVsVXNhZ2UsXG4gIHVzYWdlMjogTGFuZ3VhZ2VNb2RlbFVzYWdlLFxuKTogTGFuZ3VhZ2VNb2RlbFVzYWdlIHtcbiAgcmV0dXJuIHtcbiAgICBpbnB1dFRva2VuczogYWRkVG9rZW5Db3VudHModXNhZ2UxLmlucHV0VG9rZW5zLCB1c2FnZTIuaW5wdXRUb2tlbnMpLFxuICAgIG91dHB1dFRva2VuczogYWRkVG9rZW5Db3VudHModXNhZ2UxLm91dHB1dFRva2VucywgdXNhZ2UyLm91dHB1dFRva2VucyksXG4gICAgdG90YWxUb2tlbnM6IGFkZFRva2VuQ291bnRzKHVzYWdlMS50b3RhbFRva2VucywgdXNhZ2UyLnRvdGFsVG9rZW5zKSxcbiAgICByZWFzb25pbmdUb2tlbnM6IGFkZFRva2VuQ291bnRzKFxuICAgICAgdXNhZ2UxLnJlYXNvbmluZ1Rva2VucyxcbiAgICAgIHVzYWdlMi5yZWFzb25pbmdUb2tlbnMsXG4gICAgKSxcbiAgICBjYWNoZWRJbnB1dFRva2VuczogYWRkVG9rZW5Db3VudHMoXG4gICAgICB1c2FnZTEuY2FjaGVkSW5wdXRUb2tlbnMsXG4gICAgICB1c2FnZTIuY2FjaGVkSW5wdXRUb2tlbnMsXG4gICAgKSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gYWRkVG9rZW5Db3VudHMoXG4gIHRva2VuQ291bnQxOiBudW1iZXIgfCB1bmRlZmluZWQsXG4gIHRva2VuQ291bnQyOiBudW1iZXIgfCB1bmRlZmluZWQsXG4pOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICByZXR1cm4gdG9rZW5Db3VudDEgPT0gbnVsbCAmJiB0b2tlbkNvdW50MiA9PSBudWxsXG4gICAgPyB1bmRlZmluZWRcbiAgICA6ICh0b2tlbkNvdW50MSA/PyAwKSArICh0b2tlbkNvdW50MiA/PyAwKTtcbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gYXNBcnJheTxUPih2YWx1ZTogVCB8IFRbXSB8IHVuZGVmaW5lZCk6IFRbXSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gW10gOiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcbn1cbiIsICJpbXBvcnQgeyBBUElDYWxsRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IGRlbGF5LCBnZXRFcnJvck1lc3NhZ2UsIGlzQWJvcnRFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgUmV0cnlFcnJvciB9IGZyb20gJy4vcmV0cnktZXJyb3InO1xuXG5leHBvcnQgdHlwZSBSZXRyeUZ1bmN0aW9uID0gPE9VVFBVVD4oXG4gIGZuOiAoKSA9PiBQcm9taXNlTGlrZTxPVVRQVVQ+LFxuKSA9PiBQcm9taXNlTGlrZTxPVVRQVVQ+O1xuXG5mdW5jdGlvbiBnZXRSZXRyeURlbGF5SW5Ncyh7XG4gIGVycm9yLFxuICBleHBvbmVudGlhbEJhY2tvZmZEZWxheSxcbn06IHtcbiAgZXJyb3I6IEFQSUNhbGxFcnJvcjtcbiAgZXhwb25lbnRpYWxCYWNrb2ZmRGVsYXk6IG51bWJlcjtcbn0pOiBudW1iZXIge1xuICBjb25zdCBoZWFkZXJzID0gZXJyb3IucmVzcG9uc2VIZWFkZXJzO1xuXG4gIGlmICghaGVhZGVycykgcmV0dXJuIGV4cG9uZW50aWFsQmFja29mZkRlbGF5O1xuXG4gIGxldCBtczogbnVtYmVyIHwgdW5kZWZpbmVkO1xuXG4gIC8vIHJldHJ5LW1zIGlzIG1vcmUgcHJlY2lzZSB0aGFuIHJldHJ5LWFmdGVyIGFuZCB1c2VkIGJ5IGUuZy4gT3BlbkFJXG4gIGNvbnN0IHJldHJ5QWZ0ZXJNcyA9IGhlYWRlcnNbJ3JldHJ5LWFmdGVyLW1zJ107XG4gIGlmIChyZXRyeUFmdGVyTXMpIHtcbiAgICBjb25zdCB0aW1lb3V0TXMgPSBwYXJzZUZsb2F0KHJldHJ5QWZ0ZXJNcyk7XG4gICAgaWYgKCFOdW1iZXIuaXNOYU4odGltZW91dE1zKSkge1xuICAgICAgbXMgPSB0aW1lb3V0TXM7XG4gICAgfVxuICB9XG5cbiAgLy8gQWJvdXQgdGhlIFJldHJ5LUFmdGVyIGhlYWRlcjogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRUUC9IZWFkZXJzL1JldHJ5LUFmdGVyXG4gIGNvbnN0IHJldHJ5QWZ0ZXIgPSBoZWFkZXJzWydyZXRyeS1hZnRlciddO1xuICBpZiAocmV0cnlBZnRlciAmJiBtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgdGltZW91dFNlY29uZHMgPSBwYXJzZUZsb2F0KHJldHJ5QWZ0ZXIpO1xuICAgIGlmICghTnVtYmVyLmlzTmFOKHRpbWVvdXRTZWNvbmRzKSkge1xuICAgICAgbXMgPSB0aW1lb3V0U2Vjb25kcyAqIDEwMDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1zID0gRGF0ZS5wYXJzZShyZXRyeUFmdGVyKSAtIERhdGUubm93KCk7XG4gICAgfVxuICB9XG5cbiAgLy8gY2hlY2sgdGhhdCB0aGUgZGVsYXkgaXMgcmVhc29uYWJsZTpcbiAgaWYgKFxuICAgIG1zICE9IG51bGwgJiZcbiAgICAhTnVtYmVyLmlzTmFOKG1zKSAmJlxuICAgIDAgPD0gbXMgJiZcbiAgICAobXMgPCA2MCAqIDEwMDAgfHwgbXMgPCBleHBvbmVudGlhbEJhY2tvZmZEZWxheSlcbiAgKSB7XG4gICAgcmV0dXJuIG1zO1xuICB9XG5cbiAgcmV0dXJuIGV4cG9uZW50aWFsQmFja29mZkRlbGF5O1xufVxuXG4vKipcblRoZSBgcmV0cnlXaXRoRXhwb25lbnRpYWxCYWNrb2ZmUmVzcGVjdGluZ1JldHJ5SGVhZGVyc2Agc3RyYXRlZ3kgcmV0cmllcyBhIGZhaWxlZCBBUEkgY2FsbCB3aXRoIGFuIGV4cG9uZW50aWFsIGJhY2tvZmYsXG53aGlsZSByZXNwZWN0aW5nIHJhdGUgbGltaXQgaGVhZGVycyAocmV0cnktYWZ0ZXItbXMgYW5kIHJldHJ5LWFmdGVyKSBpZiB0aGV5IGFyZSBwcm92aWRlZCBhbmQgcmVhc29uYWJsZSAoMC02MCBzZWNvbmRzKS5cbllvdSBjYW4gY29uZmlndXJlIHRoZSBtYXhpbXVtIG51bWJlciBvZiByZXRyaWVzLCB0aGUgaW5pdGlhbCBkZWxheSwgYW5kIHRoZSBiYWNrb2ZmIGZhY3Rvci5cbiAqL1xuZXhwb3J0IGNvbnN0IHJldHJ5V2l0aEV4cG9uZW50aWFsQmFja29mZlJlc3BlY3RpbmdSZXRyeUhlYWRlcnMgPVxuICAoe1xuICAgIG1heFJldHJpZXMgPSAyLFxuICAgIGluaXRpYWxEZWxheUluTXMgPSAyMDAwLFxuICAgIGJhY2tvZmZGYWN0b3IgPSAyLFxuICAgIGFib3J0U2lnbmFsLFxuICB9OiB7XG4gICAgbWF4UmV0cmllcz86IG51bWJlcjtcbiAgICBpbml0aWFsRGVsYXlJbk1zPzogbnVtYmVyO1xuICAgIGJhY2tvZmZGYWN0b3I/OiBudW1iZXI7XG4gICAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbiAgfSA9IHt9KTogUmV0cnlGdW5jdGlvbiA9PlxuICBhc3luYyA8T1VUUFVUPihmOiAoKSA9PiBQcm9taXNlTGlrZTxPVVRQVVQ+KSA9PlxuICAgIF9yZXRyeVdpdGhFeHBvbmVudGlhbEJhY2tvZmYoZiwge1xuICAgICAgbWF4UmV0cmllcyxcbiAgICAgIGRlbGF5SW5NczogaW5pdGlhbERlbGF5SW5NcyxcbiAgICAgIGJhY2tvZmZGYWN0b3IsXG4gICAgICBhYm9ydFNpZ25hbCxcbiAgICB9KTtcblxuYXN5bmMgZnVuY3Rpb24gX3JldHJ5V2l0aEV4cG9uZW50aWFsQmFja29mZjxPVVRQVVQ+KFxuICBmOiAoKSA9PiBQcm9taXNlTGlrZTxPVVRQVVQ+LFxuICB7XG4gICAgbWF4UmV0cmllcyxcbiAgICBkZWxheUluTXMsXG4gICAgYmFja29mZkZhY3RvcixcbiAgICBhYm9ydFNpZ25hbCxcbiAgfToge1xuICAgIG1heFJldHJpZXM6IG51bWJlcjtcbiAgICBkZWxheUluTXM6IG51bWJlcjtcbiAgICBiYWNrb2ZmRmFjdG9yOiBudW1iZXI7XG4gICAgYWJvcnRTaWduYWw6IEFib3J0U2lnbmFsIHwgdW5kZWZpbmVkO1xuICB9LFxuICBlcnJvcnM6IHVua25vd25bXSA9IFtdLFxuKTogUHJvbWlzZTxPVVRQVVQ+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgZigpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChpc0Fib3J0RXJyb3IoZXJyb3IpKSB7XG4gICAgICB0aHJvdyBlcnJvcjsgLy8gZG9uJ3QgcmV0cnkgd2hlbiB0aGUgcmVxdWVzdCB3YXMgYWJvcnRlZFxuICAgIH1cblxuICAgIGlmIChtYXhSZXRyaWVzID09PSAwKSB7XG4gICAgICB0aHJvdyBlcnJvcjsgLy8gZG9uJ3Qgd3JhcCB0aGUgZXJyb3Igd2hlbiByZXRyaWVzIGFyZSBkaXNhYmxlZFxuICAgIH1cblxuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGdldEVycm9yTWVzc2FnZShlcnJvcik7XG4gICAgY29uc3QgbmV3RXJyb3JzID0gWy4uLmVycm9ycywgZXJyb3JdO1xuICAgIGNvbnN0IHRyeU51bWJlciA9IG5ld0Vycm9ycy5sZW5ndGg7XG5cbiAgICBpZiAodHJ5TnVtYmVyID4gbWF4UmV0cmllcykge1xuICAgICAgdGhyb3cgbmV3IFJldHJ5RXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiBgRmFpbGVkIGFmdGVyICR7dHJ5TnVtYmVyfSBhdHRlbXB0cy4gTGFzdCBlcnJvcjogJHtlcnJvck1lc3NhZ2V9YCxcbiAgICAgICAgcmVhc29uOiAnbWF4UmV0cmllc0V4Y2VlZGVkJyxcbiAgICAgICAgZXJyb3JzOiBuZXdFcnJvcnMsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmXG4gICAgICBBUElDYWxsRXJyb3IuaXNJbnN0YW5jZShlcnJvcikgJiZcbiAgICAgIGVycm9yLmlzUmV0cnlhYmxlID09PSB0cnVlICYmXG4gICAgICB0cnlOdW1iZXIgPD0gbWF4UmV0cmllc1xuICAgICkge1xuICAgICAgYXdhaXQgZGVsYXkoXG4gICAgICAgIGdldFJldHJ5RGVsYXlJbk1zKHtcbiAgICAgICAgICBlcnJvcixcbiAgICAgICAgICBleHBvbmVudGlhbEJhY2tvZmZEZWxheTogZGVsYXlJbk1zLFxuICAgICAgICB9KSxcbiAgICAgICAgeyBhYm9ydFNpZ25hbCB9LFxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIF9yZXRyeVdpdGhFeHBvbmVudGlhbEJhY2tvZmYoXG4gICAgICAgIGYsXG4gICAgICAgIHtcbiAgICAgICAgICBtYXhSZXRyaWVzLFxuICAgICAgICAgIGRlbGF5SW5NczogYmFja29mZkZhY3RvciAqIGRlbGF5SW5NcyxcbiAgICAgICAgICBiYWNrb2ZmRmFjdG9yLFxuICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICB9LFxuICAgICAgICBuZXdFcnJvcnMsXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh0cnlOdW1iZXIgPT09IDEpIHtcbiAgICAgIHRocm93IGVycm9yOyAvLyBkb24ndCB3cmFwIHRoZSBlcnJvciB3aGVuIGEgbm9uLXJldHJ5YWJsZSBlcnJvciBvY2N1cnMgb24gdGhlIGZpcnN0IHRyeVxuICAgIH1cblxuICAgIHRocm93IG5ldyBSZXRyeUVycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGBGYWlsZWQgYWZ0ZXIgJHt0cnlOdW1iZXJ9IGF0dGVtcHRzIHdpdGggbm9uLXJldHJ5YWJsZSBlcnJvcjogJyR7ZXJyb3JNZXNzYWdlfSdgLFxuICAgICAgcmVhc29uOiAnZXJyb3JOb3RSZXRyeWFibGUnLFxuICAgICAgZXJyb3JzOiBuZXdFcnJvcnMsXG4gICAgfSk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBJbnZhbGlkQXJndW1lbnRFcnJvciB9IGZyb20gJy4uL2Vycm9yL2ludmFsaWQtYXJndW1lbnQtZXJyb3InO1xuaW1wb3J0IHtcbiAgUmV0cnlGdW5jdGlvbixcbiAgcmV0cnlXaXRoRXhwb25lbnRpYWxCYWNrb2ZmUmVzcGVjdGluZ1JldHJ5SGVhZGVycyxcbn0gZnJvbSAnLi4vdXRpbC9yZXRyeS13aXRoLWV4cG9uZW50aWFsLWJhY2tvZmYnO1xuXG4vKipcbiAqIFZhbGlkYXRlIGFuZCBwcmVwYXJlIHJldHJpZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlUmV0cmllcyh7XG4gIG1heFJldHJpZXMsXG4gIGFib3J0U2lnbmFsLFxufToge1xuICBtYXhSZXRyaWVzOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIGFib3J0U2lnbmFsOiBBYm9ydFNpZ25hbCB8IHVuZGVmaW5lZDtcbn0pOiB7XG4gIG1heFJldHJpZXM6IG51bWJlcjtcbiAgcmV0cnk6IFJldHJ5RnVuY3Rpb247XG59IHtcbiAgaWYgKG1heFJldHJpZXMgIT0gbnVsbCkge1xuICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihtYXhSZXRyaWVzKSkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAnbWF4UmV0cmllcycsXG4gICAgICAgIHZhbHVlOiBtYXhSZXRyaWVzLFxuICAgICAgICBtZXNzYWdlOiAnbWF4UmV0cmllcyBtdXN0IGJlIGFuIGludGVnZXInLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKG1heFJldHJpZXMgPCAwKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdtYXhSZXRyaWVzJyxcbiAgICAgICAgdmFsdWU6IG1heFJldHJpZXMsXG4gICAgICAgIG1lc3NhZ2U6ICdtYXhSZXRyaWVzIG11c3QgYmUgPj0gMCcsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBtYXhSZXRyaWVzUmVzdWx0ID0gbWF4UmV0cmllcyA/PyAyO1xuXG4gIHJldHVybiB7XG4gICAgbWF4UmV0cmllczogbWF4UmV0cmllc1Jlc3VsdCxcbiAgICByZXRyeTogcmV0cnlXaXRoRXhwb25lbnRpYWxCYWNrb2ZmUmVzcGVjdGluZ1JldHJ5SGVhZGVycyh7XG4gICAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzUmVzdWx0LFxuICAgICAgYWJvcnRTaWduYWwsXG4gICAgfSksXG4gIH07XG59XG4iLCAiaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbFYyQ29udGVudCwgTGFuZ3VhZ2VNb2RlbFYyVGV4dCB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFRleHRDb250ZW50KFxuICBjb250ZW50OiBMYW5ndWFnZU1vZGVsVjJDb250ZW50W10sXG4pOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICBjb25zdCBwYXJ0cyA9IGNvbnRlbnQuZmlsdGVyKFxuICAgIChjb250ZW50KTogY29udGVudCBpcyBMYW5ndWFnZU1vZGVsVjJUZXh0ID0+IGNvbnRlbnQudHlwZSA9PT0gJ3RleHQnLFxuICApO1xuXG4gIGlmIChwYXJ0cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgcmV0dXJuIHBhcnRzLm1hcChjb250ZW50ID0+IGNvbnRlbnQudGV4dCkuam9pbignJyk7XG59XG4iLCAiaW1wb3J0IHtcbiAgY29udmVydEJhc2U2NFRvVWludDhBcnJheSxcbiAgY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NCxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5cbi8qKlxuICogQSBnZW5lcmF0ZWQgZmlsZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHZW5lcmF0ZWRGaWxlIHtcbiAgLyoqXG5GaWxlIGFzIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nLlxuICAgICAqL1xuICByZWFkb25seSBiYXNlNjQ6IHN0cmluZztcblxuICAvKipcbkZpbGUgYXMgYSBVaW50OEFycmF5LlxuICAgICAqL1xuICByZWFkb25seSB1aW50OEFycmF5OiBVaW50OEFycmF5O1xuXG4gIC8qKlxuVGhlIElBTkEgbWVkaWEgdHlwZSBvZiB0aGUgZmlsZS5cblxuQHNlZSBodHRwczovL3d3dy5pYW5hLm9yZy9hc3NpZ25tZW50cy9tZWRpYS10eXBlcy9tZWRpYS10eXBlcy54aHRtbFxuICAgKi9cbiAgcmVhZG9ubHkgbWVkaWFUeXBlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBEZWZhdWx0R2VuZXJhdGVkRmlsZSBpbXBsZW1lbnRzIEdlbmVyYXRlZEZpbGUge1xuICBwcml2YXRlIGJhc2U2NERhdGE6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSB1aW50OEFycmF5RGF0YTogVWludDhBcnJheSB8IHVuZGVmaW5lZDtcblxuICByZWFkb25seSBtZWRpYVR5cGU6IHN0cmluZztcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgZGF0YSxcbiAgICBtZWRpYVR5cGUsXG4gIH06IHtcbiAgICBkYXRhOiBzdHJpbmcgfCBVaW50OEFycmF5O1xuICAgIG1lZGlhVHlwZTogc3RyaW5nO1xuICB9KSB7XG4gICAgY29uc3QgaXNVaW50OEFycmF5ID0gZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk7XG4gICAgdGhpcy5iYXNlNjREYXRhID0gaXNVaW50OEFycmF5ID8gdW5kZWZpbmVkIDogZGF0YTtcbiAgICB0aGlzLnVpbnQ4QXJyYXlEYXRhID0gaXNVaW50OEFycmF5ID8gZGF0YSA6IHVuZGVmaW5lZDtcbiAgICB0aGlzLm1lZGlhVHlwZSA9IG1lZGlhVHlwZTtcbiAgfVxuXG4gIC8vIGxhenkgY29udmVyc2lvbiB3aXRoIGNhY2hpbmcgdG8gYXZvaWQgdW5uZWNlc3NhcnkgY29udmVyc2lvbiBvdmVyaGVhZDpcbiAgZ2V0IGJhc2U2NCgpIHtcbiAgICBpZiAodGhpcy5iYXNlNjREYXRhID09IG51bGwpIHtcbiAgICAgIHRoaXMuYmFzZTY0RGF0YSA9IGNvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQodGhpcy51aW50OEFycmF5RGF0YSEpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5iYXNlNjREYXRhO1xuICB9XG5cbiAgLy8gbGF6eSBjb252ZXJzaW9uIHdpdGggY2FjaGluZyB0byBhdm9pZCB1bm5lY2Vzc2FyeSBjb252ZXJzaW9uIG92ZXJoZWFkOlxuICBnZXQgdWludDhBcnJheSgpIHtcbiAgICBpZiAodGhpcy51aW50OEFycmF5RGF0YSA9PSBudWxsKSB7XG4gICAgICB0aGlzLnVpbnQ4QXJyYXlEYXRhID0gY29udmVydEJhc2U2NFRvVWludDhBcnJheSh0aGlzLmJhc2U2NERhdGEhKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudWludDhBcnJheURhdGE7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlZmF1bHRHZW5lcmF0ZWRGaWxlV2l0aFR5cGUgZXh0ZW5kcyBEZWZhdWx0R2VuZXJhdGVkRmlsZSB7XG4gIHJlYWRvbmx5IHR5cGUgPSAnZmlsZSc7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczogeyBkYXRhOiBzdHJpbmcgfCBVaW50OEFycmF5OyBtZWRpYVR5cGU6IHN0cmluZyB9KSB7XG4gICAgc3VwZXIob3B0aW9ucyk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBMYW5ndWFnZU1vZGVsVjJUb29sQ2FsbCB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHtcbiAgYXNTY2hlbWEsXG4gIE1vZGVsTWVzc2FnZSxcbiAgc2FmZVBhcnNlSlNPTixcbiAgc2FmZVZhbGlkYXRlVHlwZXMsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgSW52YWxpZFRvb2xJbnB1dEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvaW52YWxpZC10b29sLWlucHV0LWVycm9yJztcbmltcG9ydCB7IE5vU3VjaFRvb2xFcnJvciB9IGZyb20gJy4uL2Vycm9yL25vLXN1Y2gtdG9vbC1lcnJvcic7XG5pbXBvcnQgeyBUb29sQ2FsbFJlcGFpckVycm9yIH0gZnJvbSAnLi4vZXJyb3IvdG9vbC1jYWxsLXJlcGFpci1lcnJvcic7XG5pbXBvcnQgeyBUeXBlZFRvb2xDYWxsIH0gZnJvbSAnLi90b29sLWNhbGwnO1xuaW1wb3J0IHsgVG9vbENhbGxSZXBhaXJGdW5jdGlvbiB9IGZyb20gJy4vdG9vbC1jYWxsLXJlcGFpci1mdW5jdGlvbic7XG5pbXBvcnQgeyBUb29sU2V0IH0gZnJvbSAnLi90b29sLXNldCc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZVRvb2xDYWxsPFRPT0xTIGV4dGVuZHMgVG9vbFNldD4oe1xuICB0b29sQ2FsbCxcbiAgdG9vbHMsXG4gIHJlcGFpclRvb2xDYWxsLFxuICBzeXN0ZW0sXG4gIG1lc3NhZ2VzLFxufToge1xuICB0b29sQ2FsbDogTGFuZ3VhZ2VNb2RlbFYyVG9vbENhbGw7XG4gIHRvb2xzOiBUT09MUyB8IHVuZGVmaW5lZDtcbiAgcmVwYWlyVG9vbENhbGw6IFRvb2xDYWxsUmVwYWlyRnVuY3Rpb248VE9PTFM+IHwgdW5kZWZpbmVkO1xuICBzeXN0ZW06IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgbWVzc2FnZXM6IE1vZGVsTWVzc2FnZVtdO1xufSk6IFByb21pc2U8VHlwZWRUb29sQ2FsbDxUT09MUz4+IHtcbiAgdHJ5IHtcbiAgICBpZiAodG9vbHMgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IE5vU3VjaFRvb2xFcnJvcih7IHRvb2xOYW1lOiB0b29sQ2FsbC50b29sTmFtZSB9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IGRvUGFyc2VUb29sQ2FsbCh7IHRvb2xDYWxsLCB0b29scyB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKFxuICAgICAgICByZXBhaXJUb29sQ2FsbCA9PSBudWxsIHx8XG4gICAgICAgICEoXG4gICAgICAgICAgTm9TdWNoVG9vbEVycm9yLmlzSW5zdGFuY2UoZXJyb3IpIHx8XG4gICAgICAgICAgSW52YWxpZFRvb2xJbnB1dEVycm9yLmlzSW5zdGFuY2UoZXJyb3IpXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cblxuICAgICAgbGV0IHJlcGFpcmVkVG9vbENhbGw6IExhbmd1YWdlTW9kZWxWMlRvb2xDYWxsIHwgbnVsbCA9IG51bGw7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJlcGFpcmVkVG9vbENhbGwgPSBhd2FpdCByZXBhaXJUb29sQ2FsbCh7XG4gICAgICAgICAgdG9vbENhbGwsXG4gICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgaW5wdXRTY2hlbWE6ICh7IHRvb2xOYW1lIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgaW5wdXRTY2hlbWEgfSA9IHRvb2xzW3Rvb2xOYW1lXTtcbiAgICAgICAgICAgIHJldHVybiBhc1NjaGVtYShpbnB1dFNjaGVtYSkuanNvblNjaGVtYTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN5c3RlbSxcbiAgICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgICBlcnJvcixcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChyZXBhaXJFcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgVG9vbENhbGxSZXBhaXJFcnJvcih7XG4gICAgICAgICAgY2F1c2U6IHJlcGFpckVycm9yLFxuICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gbm8gcmVwYWlyZWQgdG9vbCBjYWxsIHJldHVybmVkXG4gICAgICBpZiAocmVwYWlyZWRUb29sQ2FsbCA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXdhaXQgZG9QYXJzZVRvb2xDYWxsKHsgdG9vbENhbGw6IHJlcGFpcmVkVG9vbENhbGwsIHRvb2xzIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAvLyB1c2UgcGFyc2VkIGlucHV0IHdoZW4gcG9zc2libGVcbiAgICBjb25zdCBwYXJzZWRJbnB1dCA9IGF3YWl0IHNhZmVQYXJzZUpTT04oeyB0ZXh0OiB0b29sQ2FsbC5pbnB1dCB9KTtcbiAgICBjb25zdCBpbnB1dCA9IHBhcnNlZElucHV0LnN1Y2Nlc3MgPyBwYXJzZWRJbnB1dC52YWx1ZSA6IHRvb2xDYWxsLmlucHV0O1xuXG4gICAgLy8gVE9ETyBBSSBTREsgNjogc3BlY2lhbCBpbnZhbGlkIHRvb2wgY2FsbCBwYXJ0c1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAndG9vbC1jYWxsJyxcbiAgICAgIHRvb2xDYWxsSWQ6IHRvb2xDYWxsLnRvb2xDYWxsSWQsXG4gICAgICB0b29sTmFtZTogdG9vbENhbGwudG9vbE5hbWUsXG4gICAgICBpbnB1dCxcbiAgICAgIGR5bmFtaWM6IHRydWUsXG4gICAgICBpbnZhbGlkOiB0cnVlLFxuICAgICAgZXJyb3IsXG4gICAgfTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBkb1BhcnNlVG9vbENhbGw8VE9PTFMgZXh0ZW5kcyBUb29sU2V0Pih7XG4gIHRvb2xDYWxsLFxuICB0b29scyxcbn06IHtcbiAgdG9vbENhbGw6IExhbmd1YWdlTW9kZWxWMlRvb2xDYWxsO1xuICB0b29sczogVE9PTFM7XG59KTogUHJvbWlzZTxUeXBlZFRvb2xDYWxsPFRPT0xTPj4ge1xuICBjb25zdCB0b29sTmFtZSA9IHRvb2xDYWxsLnRvb2xOYW1lIGFzIGtleW9mIFRPT0xTICYgc3RyaW5nO1xuXG4gIGNvbnN0IHRvb2wgPSB0b29sc1t0b29sTmFtZV07XG5cbiAgaWYgKHRvb2wgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBOb1N1Y2hUb29sRXJyb3Ioe1xuICAgICAgdG9vbE5hbWU6IHRvb2xDYWxsLnRvb2xOYW1lLFxuICAgICAgYXZhaWxhYmxlVG9vbHM6IE9iamVjdC5rZXlzKHRvb2xzKSxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHNjaGVtYSA9IGFzU2NoZW1hKHRvb2wuaW5wdXRTY2hlbWEpO1xuXG4gIC8vIHdoZW4gdGhlIHRvb2wgY2FsbCBoYXMgbm8gYXJndW1lbnRzLCB3ZSB0cnkgcGFzc2luZyBhbiBlbXB0eSBvYmplY3QgdG8gdGhlIHNjaGVtYVxuICAvLyAobWFueSBMTE1zIGdlbmVyYXRlIGVtcHR5IHN0cmluZ3MgZm9yIHRvb2wgY2FsbHMgd2l0aCBubyBhcmd1bWVudHMpXG4gIGNvbnN0IHBhcnNlUmVzdWx0ID1cbiAgICB0b29sQ2FsbC5pbnB1dC50cmltKCkgPT09ICcnXG4gICAgICA/IGF3YWl0IHNhZmVWYWxpZGF0ZVR5cGVzKHsgdmFsdWU6IHt9LCBzY2hlbWEgfSlcbiAgICAgIDogYXdhaXQgc2FmZVBhcnNlSlNPTih7IHRleHQ6IHRvb2xDYWxsLmlucHV0LCBzY2hlbWEgfSk7XG5cbiAgaWYgKHBhcnNlUmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRUb29sSW5wdXRFcnJvcih7XG4gICAgICB0b29sTmFtZSxcbiAgICAgIHRvb2xJbnB1dDogdG9vbENhbGwuaW5wdXQsXG4gICAgICBjYXVzZTogcGFyc2VSZXN1bHQuZXJyb3IsXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gdG9vbC50eXBlID09PSAnZHluYW1pYydcbiAgICA/IHtcbiAgICAgICAgdHlwZTogJ3Rvb2wtY2FsbCcsXG4gICAgICAgIHRvb2xDYWxsSWQ6IHRvb2xDYWxsLnRvb2xDYWxsSWQsXG4gICAgICAgIHRvb2xOYW1lOiB0b29sQ2FsbC50b29sTmFtZSxcbiAgICAgICAgaW5wdXQ6IHBhcnNlUmVzdWx0LnZhbHVlLFxuICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiB0b29sQ2FsbC5wcm92aWRlckV4ZWN1dGVkLFxuICAgICAgICBwcm92aWRlck1ldGFkYXRhOiB0b29sQ2FsbC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICBkeW5hbWljOiB0cnVlLFxuICAgICAgfVxuICAgIDoge1xuICAgICAgICB0eXBlOiAndG9vbC1jYWxsJyxcbiAgICAgICAgdG9vbENhbGxJZDogdG9vbENhbGwudG9vbENhbGxJZCxcbiAgICAgICAgdG9vbE5hbWUsXG4gICAgICAgIGlucHV0OiBwYXJzZVJlc3VsdC52YWx1ZSxcbiAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogdG9vbENhbGwucHJvdmlkZXJFeGVjdXRlZCxcbiAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogdG9vbENhbGwucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgIH07XG59XG4iLCAiaW1wb3J0IHsgUmVhc29uaW5nUGFydCB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHtcbiAgQ2FsbFdhcm5pbmcsXG4gIEZpbmlzaFJlYXNvbixcbiAgTGFuZ3VhZ2VNb2RlbFJlcXVlc3RNZXRhZGF0YSxcbiAgTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGEsXG4gIFByb3ZpZGVyTWV0YWRhdGEsXG59IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IFNvdXJjZSB9IGZyb20gJy4uL3R5cGVzL2xhbmd1YWdlLW1vZGVsJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxVc2FnZSB9IGZyb20gJy4uL3R5cGVzL3VzYWdlJztcbmltcG9ydCB7IENvbnRlbnRQYXJ0IH0gZnJvbSAnLi9jb250ZW50LXBhcnQnO1xuaW1wb3J0IHsgR2VuZXJhdGVkRmlsZSB9IGZyb20gJy4vZ2VuZXJhdGVkLWZpbGUnO1xuaW1wb3J0IHsgUmVzcG9uc2VNZXNzYWdlIH0gZnJvbSAnLi9yZXNwb25zZS1tZXNzYWdlJztcbmltcG9ydCB7IER5bmFtaWNUb29sQ2FsbCwgU3RhdGljVG9vbENhbGwsIFR5cGVkVG9vbENhbGwgfSBmcm9tICcuL3Rvb2wtY2FsbCc7XG5pbXBvcnQge1xuICBEeW5hbWljVG9vbFJlc3VsdCxcbiAgU3RhdGljVG9vbFJlc3VsdCxcbiAgVHlwZWRUb29sUmVzdWx0LFxufSBmcm9tICcuL3Rvb2wtcmVzdWx0JztcbmltcG9ydCB7IFRvb2xTZXQgfSBmcm9tICcuL3Rvb2wtc2V0JztcblxuLyoqXG4gKiBUaGUgcmVzdWx0IG9mIGEgc2luZ2xlIHN0ZXAgaW4gdGhlIGdlbmVyYXRpb24gcHJvY2Vzcy5cbiAqL1xuZXhwb3J0IHR5cGUgU3RlcFJlc3VsdDxUT09MUyBleHRlbmRzIFRvb2xTZXQ+ID0ge1xuICAvKipcblRoZSBjb250ZW50IHRoYXQgd2FzIGdlbmVyYXRlZCBpbiB0aGUgbGFzdCBzdGVwLlxuICAgKi9cbiAgcmVhZG9ubHkgY29udGVudDogQXJyYXk8Q29udGVudFBhcnQ8VE9PTFM+PjtcblxuICAvKipcblRoZSBnZW5lcmF0ZWQgdGV4dC5cbiovXG4gIHJlYWRvbmx5IHRleHQ6IHN0cmluZztcblxuICAvKipcblRoZSByZWFzb25pbmcgdGhhdCB3YXMgZ2VuZXJhdGVkIGR1cmluZyB0aGUgZ2VuZXJhdGlvbi5cbiovXG4gIHJlYWRvbmx5IHJlYXNvbmluZzogQXJyYXk8UmVhc29uaW5nUGFydD47XG5cbiAgLyoqXG5UaGUgcmVhc29uaW5nIHRleHQgdGhhdCB3YXMgZ2VuZXJhdGVkIGR1cmluZyB0aGUgZ2VuZXJhdGlvbi5cbiovXG4gIHJlYWRvbmx5IHJlYXNvbmluZ1RleHQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICAvKipcblRoZSBmaWxlcyB0aGF0IHdlcmUgZ2VuZXJhdGVkIGR1cmluZyB0aGUgZ2VuZXJhdGlvbi5cbiovXG4gIHJlYWRvbmx5IGZpbGVzOiBBcnJheTxHZW5lcmF0ZWRGaWxlPjtcblxuICAvKipcblRoZSBzb3VyY2VzIHRoYXQgd2VyZSB1c2VkIHRvIGdlbmVyYXRlIHRoZSB0ZXh0LlxuKi9cbiAgcmVhZG9ubHkgc291cmNlczogQXJyYXk8U291cmNlPjtcblxuICAvKipcblRoZSB0b29sIGNhbGxzIHRoYXQgd2VyZSBtYWRlIGR1cmluZyB0aGUgZ2VuZXJhdGlvbi5cbiovXG4gIHJlYWRvbmx5IHRvb2xDYWxsczogQXJyYXk8VHlwZWRUb29sQ2FsbDxUT09MUz4+O1xuXG4gIC8qKlxuVGhlIHN0YXRpYyB0b29sIGNhbGxzIHRoYXQgd2VyZSBtYWRlIGluIHRoZSBsYXN0IHN0ZXAuXG4qL1xuICByZWFkb25seSBzdGF0aWNUb29sQ2FsbHM6IEFycmF5PFN0YXRpY1Rvb2xDYWxsPFRPT0xTPj47XG5cbiAgLyoqXG5UaGUgZHluYW1pYyB0b29sIGNhbGxzIHRoYXQgd2VyZSBtYWRlIGluIHRoZSBsYXN0IHN0ZXAuXG4qL1xuICByZWFkb25seSBkeW5hbWljVG9vbENhbGxzOiBBcnJheTxEeW5hbWljVG9vbENhbGw+O1xuXG4gIC8qKlxuVGhlIHJlc3VsdHMgb2YgdGhlIHRvb2wgY2FsbHMuXG4qL1xuICByZWFkb25seSB0b29sUmVzdWx0czogQXJyYXk8VHlwZWRUb29sUmVzdWx0PFRPT0xTPj47XG5cbiAgLyoqXG5UaGUgc3RhdGljIHRvb2wgcmVzdWx0cyB0aGF0IHdlcmUgbWFkZSBpbiB0aGUgbGFzdCBzdGVwLlxuKi9cbiAgcmVhZG9ubHkgc3RhdGljVG9vbFJlc3VsdHM6IEFycmF5PFN0YXRpY1Rvb2xSZXN1bHQ8VE9PTFM+PjtcblxuICAvKipcblRoZSBkeW5hbWljIHRvb2wgcmVzdWx0cyB0aGF0IHdlcmUgbWFkZSBpbiB0aGUgbGFzdCBzdGVwLlxuKi9cbiAgcmVhZG9ubHkgZHluYW1pY1Rvb2xSZXN1bHRzOiBBcnJheTxEeW5hbWljVG9vbFJlc3VsdD47XG5cbiAgLyoqXG5UaGUgcmVhc29uIHdoeSB0aGUgZ2VuZXJhdGlvbiBmaW5pc2hlZC5cbiovXG4gIHJlYWRvbmx5IGZpbmlzaFJlYXNvbjogRmluaXNoUmVhc29uO1xuXG4gIC8qKlxuVGhlIHRva2VuIHVzYWdlIG9mIHRoZSBnZW5lcmF0ZWQgdGV4dC5cbiovXG4gIHJlYWRvbmx5IHVzYWdlOiBMYW5ndWFnZU1vZGVsVXNhZ2U7XG5cbiAgLyoqXG5XYXJuaW5ncyBmcm9tIHRoZSBtb2RlbCBwcm92aWRlciAoZS5nLiB1bnN1cHBvcnRlZCBzZXR0aW5ncykuXG4qL1xuICByZWFkb25seSB3YXJuaW5nczogQ2FsbFdhcm5pbmdbXSB8IHVuZGVmaW5lZDtcblxuICAvKipcbkFkZGl0aW9uYWwgcmVxdWVzdCBpbmZvcm1hdGlvbi5cbiAgICovXG4gIHJlYWRvbmx5IHJlcXVlc3Q6IExhbmd1YWdlTW9kZWxSZXF1ZXN0TWV0YWRhdGE7XG5cbiAgLyoqXG5BZGRpdGlvbmFsIHJlc3BvbnNlIGluZm9ybWF0aW9uLlxuKi9cbiAgcmVhZG9ubHkgcmVzcG9uc2U6IExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhICYge1xuICAgIC8qKlxuVGhlIHJlc3BvbnNlIG1lc3NhZ2VzIHRoYXQgd2VyZSBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBjYWxsLlxuUmVzcG9uc2UgbWVzc2FnZXMgY2FuIGJlIGVpdGhlciBhc3Npc3RhbnQgbWVzc2FnZXMgb3IgdG9vbCBtZXNzYWdlcy5cblRoZXkgY29udGFpbiBhIGdlbmVyYXRlZCBpZC5cbiovXG4gICAgcmVhZG9ubHkgbWVzc2FnZXM6IEFycmF5PFJlc3BvbnNlTWVzc2FnZT47XG5cbiAgICAvKipcblJlc3BvbnNlIGJvZHkgKGF2YWlsYWJsZSBvbmx5IGZvciBwcm92aWRlcnMgdGhhdCB1c2UgSFRUUCByZXF1ZXN0cykuXG4gICAgICovXG4gICAgYm9keT86IHVua25vd247XG4gIH07XG5cbiAgLyoqXG5BZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG1ldGFkYXRhLiBUaGV5IGFyZSBwYXNzZWQgdGhyb3VnaFxuZnJvbSB0aGUgcHJvdmlkZXIgdG8gdGhlIEFJIFNESyBhbmQgZW5hYmxlIHByb3ZpZGVyLXNwZWNpZmljXG5yZXN1bHRzIHRoYXQgY2FuIGJlIGZ1bGx5IGVuY2Fwc3VsYXRlZCBpbiB0aGUgcHJvdmlkZXIuXG4gICAqL1xuICByZWFkb25seSBwcm92aWRlck1ldGFkYXRhOiBQcm92aWRlck1ldGFkYXRhIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGNsYXNzIERlZmF1bHRTdGVwUmVzdWx0PFRPT0xTIGV4dGVuZHMgVG9vbFNldD5cbiAgaW1wbGVtZW50cyBTdGVwUmVzdWx0PFRPT0xTPlxue1xuICByZWFkb25seSBjb250ZW50OiBTdGVwUmVzdWx0PFRPT0xTPlsnY29udGVudCddO1xuICByZWFkb25seSBmaW5pc2hSZWFzb246IFN0ZXBSZXN1bHQ8VE9PTFM+WydmaW5pc2hSZWFzb24nXTtcbiAgcmVhZG9ubHkgdXNhZ2U6IFN0ZXBSZXN1bHQ8VE9PTFM+Wyd1c2FnZSddO1xuICByZWFkb25seSB3YXJuaW5nczogU3RlcFJlc3VsdDxUT09MUz5bJ3dhcm5pbmdzJ107XG4gIHJlYWRvbmx5IHJlcXVlc3Q6IFN0ZXBSZXN1bHQ8VE9PTFM+WydyZXF1ZXN0J107XG4gIHJlYWRvbmx5IHJlc3BvbnNlOiBTdGVwUmVzdWx0PFRPT0xTPlsncmVzcG9uc2UnXTtcbiAgcmVhZG9ubHkgcHJvdmlkZXJNZXRhZGF0YTogU3RlcFJlc3VsdDxUT09MUz5bJ3Byb3ZpZGVyTWV0YWRhdGEnXTtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgY29udGVudCxcbiAgICBmaW5pc2hSZWFzb24sXG4gICAgdXNhZ2UsXG4gICAgd2FybmluZ3MsXG4gICAgcmVxdWVzdCxcbiAgICByZXNwb25zZSxcbiAgICBwcm92aWRlck1ldGFkYXRhLFxuICB9OiB7XG4gICAgY29udGVudDogU3RlcFJlc3VsdDxUT09MUz5bJ2NvbnRlbnQnXTtcbiAgICBmaW5pc2hSZWFzb246IFN0ZXBSZXN1bHQ8VE9PTFM+WydmaW5pc2hSZWFzb24nXTtcbiAgICB1c2FnZTogU3RlcFJlc3VsdDxUT09MUz5bJ3VzYWdlJ107XG4gICAgd2FybmluZ3M6IFN0ZXBSZXN1bHQ8VE9PTFM+Wyd3YXJuaW5ncyddO1xuICAgIHJlcXVlc3Q6IFN0ZXBSZXN1bHQ8VE9PTFM+WydyZXF1ZXN0J107XG4gICAgcmVzcG9uc2U6IFN0ZXBSZXN1bHQ8VE9PTFM+WydyZXNwb25zZSddO1xuICAgIHByb3ZpZGVyTWV0YWRhdGE6IFN0ZXBSZXN1bHQ8VE9PTFM+Wydwcm92aWRlck1ldGFkYXRhJ107XG4gIH0pIHtcbiAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xuICAgIHRoaXMuZmluaXNoUmVhc29uID0gZmluaXNoUmVhc29uO1xuICAgIHRoaXMudXNhZ2UgPSB1c2FnZTtcbiAgICB0aGlzLndhcm5pbmdzID0gd2FybmluZ3M7XG4gICAgdGhpcy5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgdGhpcy5wcm92aWRlck1ldGFkYXRhID0gcHJvdmlkZXJNZXRhZGF0YTtcbiAgfVxuXG4gIGdldCB0ZXh0KCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnRcbiAgICAgIC5maWx0ZXIocGFydCA9PiBwYXJ0LnR5cGUgPT09ICd0ZXh0JylcbiAgICAgIC5tYXAocGFydCA9PiBwYXJ0LnRleHQpXG4gICAgICAuam9pbignJyk7XG4gIH1cblxuICBnZXQgcmVhc29uaW5nKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQuZmlsdGVyKHBhcnQgPT4gcGFydC50eXBlID09PSAncmVhc29uaW5nJyk7XG4gIH1cblxuICBnZXQgcmVhc29uaW5nVGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFzb25pbmcubGVuZ3RoID09PSAwXG4gICAgICA/IHVuZGVmaW5lZFxuICAgICAgOiB0aGlzLnJlYXNvbmluZy5tYXAocGFydCA9PiBwYXJ0LnRleHQpLmpvaW4oJycpO1xuICB9XG5cbiAgZ2V0IGZpbGVzKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnRcbiAgICAgIC5maWx0ZXIocGFydCA9PiBwYXJ0LnR5cGUgPT09ICdmaWxlJylcbiAgICAgIC5tYXAocGFydCA9PiBwYXJ0LmZpbGUpO1xuICB9XG5cbiAgZ2V0IHNvdXJjZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5maWx0ZXIocGFydCA9PiBwYXJ0LnR5cGUgPT09ICdzb3VyY2UnKTtcbiAgfVxuXG4gIGdldCB0b29sQ2FsbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5maWx0ZXIocGFydCA9PiBwYXJ0LnR5cGUgPT09ICd0b29sLWNhbGwnKTtcbiAgfVxuXG4gIGdldCBzdGF0aWNUb29sQ2FsbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9vbENhbGxzLmZpbHRlcihcbiAgICAgICh0b29sQ2FsbCk6IHRvb2xDYWxsIGlzIFN0YXRpY1Rvb2xDYWxsPFRPT0xTPiA9PlxuICAgICAgICB0b29sQ2FsbC5keW5hbWljID09PSBmYWxzZSxcbiAgICApO1xuICB9XG5cbiAgZ2V0IGR5bmFtaWNUb29sQ2FsbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9vbENhbGxzLmZpbHRlcihcbiAgICAgICh0b29sQ2FsbCk6IHRvb2xDYWxsIGlzIER5bmFtaWNUb29sQ2FsbCA9PiB0b29sQ2FsbC5keW5hbWljID09PSB0cnVlLFxuICAgICk7XG4gIH1cblxuICBnZXQgdG9vbFJlc3VsdHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5maWx0ZXIocGFydCA9PiBwYXJ0LnR5cGUgPT09ICd0b29sLXJlc3VsdCcpO1xuICB9XG5cbiAgZ2V0IHN0YXRpY1Rvb2xSZXN1bHRzKCkge1xuICAgIHJldHVybiB0aGlzLnRvb2xSZXN1bHRzLmZpbHRlcihcbiAgICAgICh0b29sUmVzdWx0KTogdG9vbFJlc3VsdCBpcyBTdGF0aWNUb29sUmVzdWx0PFRPT0xTPiA9PlxuICAgICAgICB0b29sUmVzdWx0LmR5bmFtaWMgPT09IGZhbHNlLFxuICAgICk7XG4gIH1cblxuICBnZXQgZHluYW1pY1Rvb2xSZXN1bHRzKCkge1xuICAgIHJldHVybiB0aGlzLnRvb2xSZXN1bHRzLmZpbHRlcihcbiAgICAgICh0b29sUmVzdWx0KTogdG9vbFJlc3VsdCBpcyBEeW5hbWljVG9vbFJlc3VsdCA9PlxuICAgICAgICB0b29sUmVzdWx0LmR5bmFtaWMgPT09IHRydWUsXG4gICAgKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IFN0ZXBSZXN1bHQgfSBmcm9tICcuL3N0ZXAtcmVzdWx0JztcbmltcG9ydCB7IFRvb2xTZXQgfSBmcm9tICcuL3Rvb2wtc2V0JztcblxuZXhwb3J0IHR5cGUgU3RvcENvbmRpdGlvbjxUT09MUyBleHRlbmRzIFRvb2xTZXQ+ID0gKG9wdGlvbnM6IHtcbiAgc3RlcHM6IEFycmF5PFN0ZXBSZXN1bHQ8VE9PTFM+Pjtcbn0pID0+IFByb21pc2VMaWtlPGJvb2xlYW4+IHwgYm9vbGVhbjtcblxuZXhwb3J0IGZ1bmN0aW9uIHN0ZXBDb3VudElzKHN0ZXBDb3VudDogbnVtYmVyKTogU3RvcENvbmRpdGlvbjxhbnk+IHtcbiAgcmV0dXJuICh7IHN0ZXBzIH0pID0+IHN0ZXBzLmxlbmd0aCA9PT0gc3RlcENvdW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzVG9vbENhbGwodG9vbE5hbWU6IHN0cmluZyk6IFN0b3BDb25kaXRpb248YW55PiB7XG4gIHJldHVybiAoeyBzdGVwcyB9KSA9PlxuICAgIHN0ZXBzW3N0ZXBzLmxlbmd0aCAtIDFdPy50b29sQ2FsbHM/LnNvbWUoXG4gICAgICB0b29sQ2FsbCA9PiB0b29sQ2FsbC50b29sTmFtZSA9PT0gdG9vbE5hbWUsXG4gICAgKSA/PyBmYWxzZTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzU3RvcENvbmRpdGlvbk1ldDxUT09MUyBleHRlbmRzIFRvb2xTZXQ+KHtcbiAgc3RvcENvbmRpdGlvbnMsXG4gIHN0ZXBzLFxufToge1xuICBzdG9wQ29uZGl0aW9uczogQXJyYXk8U3RvcENvbmRpdGlvbjxUT09MUz4+O1xuICBzdGVwczogQXJyYXk8U3RlcFJlc3VsdDxUT09MUz4+O1xufSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICByZXR1cm4gKFxuICAgIGF3YWl0IFByb21pc2UuYWxsKHN0b3BDb25kaXRpb25zLm1hcChjb25kaXRpb24gPT4gY29uZGl0aW9uKHsgc3RlcHMgfSkpKVxuICApLnNvbWUocmVzdWx0ID0+IHJlc3VsdCk7XG59XG4iLCAiaW1wb3J0IHtcbiAgZ2V0RXJyb3JNZXNzYWdlLFxuICBKU09OVmFsdWUsXG4gIExhbmd1YWdlTW9kZWxWMlRvb2xSZXN1bHRPdXRwdXQsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgVG9vbCB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVG9vbE1vZGVsT3V0cHV0KHtcbiAgb3V0cHV0LFxuICB0b29sLFxuICBlcnJvck1vZGUsXG59OiB7XG4gIG91dHB1dDogdW5rbm93bjtcbiAgdG9vbDogVG9vbCB8IHVuZGVmaW5lZDtcbiAgZXJyb3JNb2RlOiAnbm9uZScgfCAndGV4dCcgfCAnanNvbic7XG59KTogTGFuZ3VhZ2VNb2RlbFYyVG9vbFJlc3VsdE91dHB1dCB7XG4gIGlmIChlcnJvck1vZGUgPT09ICd0ZXh0Jykge1xuICAgIHJldHVybiB7IHR5cGU6ICdlcnJvci10ZXh0JywgdmFsdWU6IGdldEVycm9yTWVzc2FnZShvdXRwdXQpIH07XG4gIH0gZWxzZSBpZiAoZXJyb3JNb2RlID09PSAnanNvbicpIHtcbiAgICByZXR1cm4geyB0eXBlOiAnZXJyb3ItanNvbicsIHZhbHVlOiB0b0pTT05WYWx1ZShvdXRwdXQpIH07XG4gIH1cblxuICBpZiAodG9vbD8udG9Nb2RlbE91dHB1dCkge1xuICAgIHJldHVybiB0b29sLnRvTW9kZWxPdXRwdXQob3V0cHV0KTtcbiAgfVxuXG4gIHJldHVybiB0eXBlb2Ygb3V0cHV0ID09PSAnc3RyaW5nJ1xuICAgID8geyB0eXBlOiAndGV4dCcsIHZhbHVlOiBvdXRwdXQgfVxuICAgIDogeyB0eXBlOiAnanNvbicsIHZhbHVlOiB0b0pTT05WYWx1ZShvdXRwdXQpIH07XG59XG5cbmZ1bmN0aW9uIHRvSlNPTlZhbHVlKHZhbHVlOiB1bmtub3duKTogSlNPTlZhbHVlIHtcbiAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyBudWxsIDogKHZhbHVlIGFzIEpTT05WYWx1ZSk7XG59XG4iLCAiaW1wb3J0IHtcbiAgQXNzaXN0YW50Q29udGVudCxcbiAgQXNzaXN0YW50TW9kZWxNZXNzYWdlLFxuICBUb29sQ29udGVudCxcbiAgVG9vbE1vZGVsTWVzc2FnZSxcbn0gZnJvbSAnLi4vcHJvbXB0JztcbmltcG9ydCB7IGNyZWF0ZVRvb2xNb2RlbE91dHB1dCB9IGZyb20gJy4uL3Byb21wdC9jcmVhdGUtdG9vbC1tb2RlbC1vdXRwdXQnO1xuaW1wb3J0IHsgQ29udGVudFBhcnQgfSBmcm9tICcuL2NvbnRlbnQtcGFydCc7XG5pbXBvcnQgeyBUb29sU2V0IH0gZnJvbSAnLi90b29sLXNldCc7XG5cbi8qKlxuQ29udmVydHMgdGhlIHJlc3VsdCBvZiBhIGBnZW5lcmF0ZVRleHRgIG9yIGBzdHJlYW1UZXh0YCBjYWxsIHRvIGEgbGlzdCBvZiByZXNwb25zZSBtZXNzYWdlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvUmVzcG9uc2VNZXNzYWdlczxUT09MUyBleHRlbmRzIFRvb2xTZXQ+KHtcbiAgY29udGVudDogaW5wdXRDb250ZW50LFxuICB0b29scyxcbn06IHtcbiAgY29udGVudDogQXJyYXk8Q29udGVudFBhcnQ8VE9PTFM+PjtcbiAgdG9vbHM6IFRPT0xTIHwgdW5kZWZpbmVkO1xufSk6IEFycmF5PEFzc2lzdGFudE1vZGVsTWVzc2FnZSB8IFRvb2xNb2RlbE1lc3NhZ2U+IHtcbiAgY29uc3QgcmVzcG9uc2VNZXNzYWdlczogQXJyYXk8QXNzaXN0YW50TW9kZWxNZXNzYWdlIHwgVG9vbE1vZGVsTWVzc2FnZT4gPSBbXTtcblxuICBjb25zdCBjb250ZW50OiBBc3Npc3RhbnRDb250ZW50ID0gaW5wdXRDb250ZW50XG4gICAgLmZpbHRlcihwYXJ0ID0+IHBhcnQudHlwZSAhPT0gJ3NvdXJjZScpXG4gICAgLmZpbHRlcihcbiAgICAgIHBhcnQgPT5cbiAgICAgICAgKHBhcnQudHlwZSAhPT0gJ3Rvb2wtcmVzdWx0JyB8fCBwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQpICYmXG4gICAgICAgIChwYXJ0LnR5cGUgIT09ICd0b29sLWVycm9yJyB8fCBwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQpLFxuICAgIClcbiAgICAuZmlsdGVyKHBhcnQgPT4gcGFydC50eXBlICE9PSAndGV4dCcgfHwgcGFydC50ZXh0Lmxlbmd0aCA+IDApXG4gICAgLm1hcChwYXJ0ID0+IHtcbiAgICAgIHN3aXRjaCAocGFydC50eXBlKSB7XG4gICAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICB0ZXh0OiBwYXJ0LnRleHQsXG4gICAgICAgICAgICBwcm92aWRlck9wdGlvbnM6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICB9O1xuICAgICAgICBjYXNlICdyZWFzb25pbmcnOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAncmVhc29uaW5nJyxcbiAgICAgICAgICAgIHRleHQ6IHBhcnQudGV4dCxcbiAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9uczogcGFydC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgJ2ZpbGUnOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnZmlsZScsXG4gICAgICAgICAgICBkYXRhOiBwYXJ0LmZpbGUuYmFzZTY0LFxuICAgICAgICAgICAgbWVkaWFUeXBlOiBwYXJ0LmZpbGUubWVkaWFUeXBlLFxuICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAndG9vbC1jYWxsJzpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ3Rvb2wtY2FsbCcsXG4gICAgICAgICAgICB0b29sQ2FsbElkOiBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgICB0b29sTmFtZTogcGFydC50b29sTmFtZSxcbiAgICAgICAgICAgIGlucHV0OiBwYXJ0LmlucHV0LFxuICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogcGFydC5wcm92aWRlckV4ZWN1dGVkLFxuICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAndG9vbC1yZXN1bHQnOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAndG9vbC1yZXN1bHQnLFxuICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbE5hbWUsXG4gICAgICAgICAgICBvdXRwdXQ6IGNyZWF0ZVRvb2xNb2RlbE91dHB1dCh7XG4gICAgICAgICAgICAgIHRvb2w6IHRvb2xzPy5bcGFydC50b29sTmFtZV0sXG4gICAgICAgICAgICAgIG91dHB1dDogcGFydC5vdXRwdXQsXG4gICAgICAgICAgICAgIGVycm9yTW9kZTogJ25vbmUnLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiB0cnVlLFxuICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAndG9vbC1lcnJvcic6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICd0b29sLXJlc3VsdCcsXG4gICAgICAgICAgICB0b29sQ2FsbElkOiBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgICB0b29sTmFtZTogcGFydC50b29sTmFtZSxcbiAgICAgICAgICAgIG91dHB1dDogY3JlYXRlVG9vbE1vZGVsT3V0cHV0KHtcbiAgICAgICAgICAgICAgdG9vbDogdG9vbHM/LltwYXJ0LnRvb2xOYW1lXSxcbiAgICAgICAgICAgICAgb3V0cHV0OiBwYXJ0LmVycm9yLFxuICAgICAgICAgICAgICBlcnJvck1vZGU6ICdqc29uJyxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcblxuICBpZiAoY29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgcmVzcG9uc2VNZXNzYWdlcy5wdXNoKHtcbiAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgY29udGVudCxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHRvb2xSZXN1bHRDb250ZW50OiBUb29sQ29udGVudCA9IGlucHV0Q29udGVudFxuICAgIC5maWx0ZXIocGFydCA9PiBwYXJ0LnR5cGUgPT09ICd0b29sLXJlc3VsdCcgfHwgcGFydC50eXBlID09PSAndG9vbC1lcnJvcicpXG4gICAgLmZpbHRlcihwYXJ0ID0+ICFwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQpXG4gICAgLm1hcCh0b29sUmVzdWx0ID0+ICh7XG4gICAgICB0eXBlOiAndG9vbC1yZXN1bHQnLFxuICAgICAgdG9vbENhbGxJZDogdG9vbFJlc3VsdC50b29sQ2FsbElkLFxuICAgICAgdG9vbE5hbWU6IHRvb2xSZXN1bHQudG9vbE5hbWUsXG4gICAgICBvdXRwdXQ6IGNyZWF0ZVRvb2xNb2RlbE91dHB1dCh7XG4gICAgICAgIHRvb2w6IHRvb2xzPy5bdG9vbFJlc3VsdC50b29sTmFtZV0sXG4gICAgICAgIG91dHB1dDpcbiAgICAgICAgICB0b29sUmVzdWx0LnR5cGUgPT09ICd0b29sLXJlc3VsdCdcbiAgICAgICAgICAgID8gdG9vbFJlc3VsdC5vdXRwdXRcbiAgICAgICAgICAgIDogdG9vbFJlc3VsdC5lcnJvcixcbiAgICAgICAgZXJyb3JNb2RlOiB0b29sUmVzdWx0LnR5cGUgPT09ICd0b29sLWVycm9yJyA/ICd0ZXh0JyA6ICdub25lJyxcbiAgICAgIH0pLFxuICAgIH0pKTtcblxuICBpZiAodG9vbFJlc3VsdENvbnRlbnQubGVuZ3RoID4gMCkge1xuICAgIHJlc3BvbnNlTWVzc2FnZXMucHVzaCh7XG4gICAgICByb2xlOiAndG9vbCcsXG4gICAgICBjb250ZW50OiB0b29sUmVzdWx0Q29udGVudCxcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiByZXNwb25zZU1lc3NhZ2VzO1xufVxuIiwgImRlY2xhcmUgY29uc3QgX19QQUNLQUdFX1ZFUlNJT05fXzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuZXhwb3J0IGNvbnN0IFZFUlNJT046IHN0cmluZyA9XG4gIHR5cGVvZiBfX1BBQ0tBR0VfVkVSU0lPTl9fICE9PSAndW5kZWZpbmVkJ1xuICAgID8gX19QQUNLQUdFX1ZFUlNJT05fX1xuICAgIDogJzAuMC4wLXRlc3QnO1xuIiwgImltcG9ydCB7XG4gIGdldEVycm9yTWVzc2FnZSxcbiAgTGFuZ3VhZ2VNb2RlbFYyLFxuICBMYW5ndWFnZU1vZGVsVjJDYWxsV2FybmluZyxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQge1xuICBjcmVhdGVJZEdlbmVyYXRvcixcbiAgSWRHZW5lcmF0b3IsXG4gIGlzQWJvcnRFcnJvcixcbiAgUHJvdmlkZXJPcHRpb25zLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IFNwYW4gfSBmcm9tICdAb3BlbnRlbGVtZXRyeS9hcGknO1xuaW1wb3J0IHsgU2VydmVyUmVzcG9uc2UgfSBmcm9tICdub2RlOmh0dHAnO1xuaW1wb3J0IHsgTm9PdXRwdXRHZW5lcmF0ZWRFcnJvciB9IGZyb20gJy4uL2Vycm9yJztcbmltcG9ydCB7IE5vT3V0cHV0U3BlY2lmaWVkRXJyb3IgfSBmcm9tICcuLi9lcnJvci9uby1vdXRwdXQtc3BlY2lmaWVkLWVycm9yJztcbmltcG9ydCB7IGxvZ1dhcm5pbmdzIH0gZnJvbSAnLi4vbG9nZ2VyL2xvZy13YXJuaW5ncyc7XG5pbXBvcnQgeyByZXNvbHZlTGFuZ3VhZ2VNb2RlbCB9IGZyb20gJy4uL21vZGVsL3Jlc29sdmUtbW9kZWwnO1xuaW1wb3J0IHsgQ2FsbFNldHRpbmdzIH0gZnJvbSAnLi4vcHJvbXB0L2NhbGwtc2V0dGluZ3MnO1xuaW1wb3J0IHsgY29udmVydFRvTGFuZ3VhZ2VNb2RlbFByb21wdCB9IGZyb20gJy4uL3Byb21wdC9jb252ZXJ0LXRvLWxhbmd1YWdlLW1vZGVsLXByb21wdCc7XG5pbXBvcnQgeyBwcmVwYXJlQ2FsbFNldHRpbmdzIH0gZnJvbSAnLi4vcHJvbXB0L3ByZXBhcmUtY2FsbC1zZXR0aW5ncyc7XG5pbXBvcnQgeyBwcmVwYXJlVG9vbHNBbmRUb29sQ2hvaWNlIH0gZnJvbSAnLi4vcHJvbXB0L3ByZXBhcmUtdG9vbHMtYW5kLXRvb2wtY2hvaWNlJztcbmltcG9ydCB7IFByb21wdCB9IGZyb20gJy4uL3Byb21wdC9wcm9tcHQnO1xuaW1wb3J0IHsgc3RhbmRhcmRpemVQcm9tcHQgfSBmcm9tICcuLi9wcm9tcHQvc3RhbmRhcmRpemUtcHJvbXB0JztcbmltcG9ydCB7IHdyYXBHYXRld2F5RXJyb3IgfSBmcm9tICcuLi9wcm9tcHQvd3JhcC1nYXRld2F5LWVycm9yJztcbmltcG9ydCB7IGFzc2VtYmxlT3BlcmF0aW9uTmFtZSB9IGZyb20gJy4uL3RlbGVtZXRyeS9hc3NlbWJsZS1vcGVyYXRpb24tbmFtZSc7XG5pbXBvcnQgeyBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyB9IGZyb20gJy4uL3RlbGVtZXRyeS9nZXQtYmFzZS10ZWxlbWV0cnktYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBnZXRUcmFjZXIgfSBmcm9tICcuLi90ZWxlbWV0cnkvZ2V0LXRyYWNlcic7XG5pbXBvcnQgeyByZWNvcmRTcGFuIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3JlY29yZC1zcGFuJztcbmltcG9ydCB7IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMgfSBmcm9tICcuLi90ZWxlbWV0cnkvc2VsZWN0LXRlbGVtZXRyeS1hdHRyaWJ1dGVzJztcbmltcG9ydCB7IHN0cmluZ2lmeUZvclRlbGVtZXRyeSB9IGZyb20gJy4uL3RlbGVtZXRyeS9zdHJpbmdpZnktZm9yLXRlbGVtZXRyeSc7XG5pbXBvcnQgeyBUZWxlbWV0cnlTZXR0aW5ncyB9IGZyb20gJy4uL3RlbGVtZXRyeS90ZWxlbWV0cnktc2V0dGluZ3MnO1xuaW1wb3J0IHsgY3JlYXRlVGV4dFN0cmVhbVJlc3BvbnNlIH0gZnJvbSAnLi4vdGV4dC1zdHJlYW0vY3JlYXRlLXRleHQtc3RyZWFtLXJlc3BvbnNlJztcbmltcG9ydCB7IHBpcGVUZXh0U3RyZWFtVG9SZXNwb25zZSB9IGZyb20gJy4uL3RleHQtc3RyZWFtL3BpcGUtdGV4dC1zdHJlYW0tdG8tcmVzcG9uc2UnO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbFJlcXVlc3RNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7XG4gIENhbGxXYXJuaW5nLFxuICBGaW5pc2hSZWFzb24sXG4gIExhbmd1YWdlTW9kZWwsXG4gIFRvb2xDaG9pY2UsXG59IGZyb20gJy4uL3R5cGVzL2xhbmd1YWdlLW1vZGVsJztcbmltcG9ydCB7IFByb3ZpZGVyTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy9wcm92aWRlci1tZXRhZGF0YSc7XG5pbXBvcnQgeyBhZGRMYW5ndWFnZU1vZGVsVXNhZ2UsIExhbmd1YWdlTW9kZWxVc2FnZSB9IGZyb20gJy4uL3R5cGVzL3VzYWdlJztcbmltcG9ydCB7IFVJTWVzc2FnZSB9IGZyb20gJy4uL3VpJztcbmltcG9ydCB7IGNyZWF0ZVVJTWVzc2FnZVN0cmVhbVJlc3BvbnNlIH0gZnJvbSAnLi4vdWktbWVzc2FnZS1zdHJlYW0vY3JlYXRlLXVpLW1lc3NhZ2Utc3RyZWFtLXJlc3BvbnNlJztcbmltcG9ydCB7IGdldFJlc3BvbnNlVUlNZXNzYWdlSWQgfSBmcm9tICcuLi91aS1tZXNzYWdlLXN0cmVhbS9nZXQtcmVzcG9uc2UtdWktbWVzc2FnZS1pZCc7XG5pbXBvcnQgeyBoYW5kbGVVSU1lc3NhZ2VTdHJlYW1GaW5pc2ggfSBmcm9tICcuLi91aS1tZXNzYWdlLXN0cmVhbS9oYW5kbGUtdWktbWVzc2FnZS1zdHJlYW0tZmluaXNoJztcbmltcG9ydCB7IHBpcGVVSU1lc3NhZ2VTdHJlYW1Ub1Jlc3BvbnNlIH0gZnJvbSAnLi4vdWktbWVzc2FnZS1zdHJlYW0vcGlwZS11aS1tZXNzYWdlLXN0cmVhbS10by1yZXNwb25zZSc7XG5pbXBvcnQge1xuICBJbmZlclVJTWVzc2FnZUNodW5rLFxuICBVSU1lc3NhZ2VDaHVuayxcbn0gZnJvbSAnLi4vdWktbWVzc2FnZS1zdHJlYW0vdWktbWVzc2FnZS1jaHVua3MnO1xuaW1wb3J0IHsgVUlNZXNzYWdlU3RyZWFtUmVzcG9uc2VJbml0IH0gZnJvbSAnLi4vdWktbWVzc2FnZS1zdHJlYW0vdWktbWVzc2FnZS1zdHJlYW0tcmVzcG9uc2UtaW5pdCc7XG5pbXBvcnQgeyBJbmZlclVJTWVzc2FnZURhdGEsIEluZmVyVUlNZXNzYWdlTWV0YWRhdGEgfSBmcm9tICcuLi91aS91aS1tZXNzYWdlcyc7XG5pbXBvcnQgeyBhc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9hcy1hcnJheSc7XG5pbXBvcnQge1xuICBBc3luY0l0ZXJhYmxlU3RyZWFtLFxuICBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtLFxufSBmcm9tICcuLi91dGlsL2FzeW5jLWl0ZXJhYmxlLXN0cmVhbSc7XG5pbXBvcnQgeyBjb25zdW1lU3RyZWFtIH0gZnJvbSAnLi4vdXRpbC9jb25zdW1lLXN0cmVhbSc7XG5pbXBvcnQgeyBjcmVhdGVTdGl0Y2hhYmxlU3RyZWFtIH0gZnJvbSAnLi4vdXRpbC9jcmVhdGUtc3RpdGNoYWJsZS1zdHJlYW0nO1xuaW1wb3J0IHsgRGVsYXllZFByb21pc2UgfSBmcm9tICcuLi91dGlsL2RlbGF5ZWQtcHJvbWlzZSc7XG5pbXBvcnQgeyBEb3dubG9hZEZ1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9kb3dubG9hZC9kb3dubG9hZC1mdW5jdGlvbic7XG5pbXBvcnQgeyBub3cgYXMgb3JpZ2luYWxOb3cgfSBmcm9tICcuLi91dGlsL25vdyc7XG5pbXBvcnQgeyBwcmVwYXJlUmV0cmllcyB9IGZyb20gJy4uL3V0aWwvcHJlcGFyZS1yZXRyaWVzJztcbmltcG9ydCB7IENvbnRlbnRQYXJ0IH0gZnJvbSAnLi9jb250ZW50LXBhcnQnO1xuaW1wb3J0IHsgT3V0cHV0IH0gZnJvbSAnLi9vdXRwdXQnO1xuaW1wb3J0IHsgUHJlcGFyZVN0ZXBGdW5jdGlvbiB9IGZyb20gJy4vcHJlcGFyZS1zdGVwJztcbmltcG9ydCB7IFJlc3BvbnNlTWVzc2FnZSB9IGZyb20gJy4vcmVzcG9uc2UtbWVzc2FnZSc7XG5pbXBvcnQge1xuICBydW5Ub29sc1RyYW5zZm9ybWF0aW9uLFxuICBTaW5nbGVSZXF1ZXN0VGV4dFN0cmVhbVBhcnQsXG59IGZyb20gJy4vcnVuLXRvb2xzLXRyYW5zZm9ybWF0aW9uJztcbmltcG9ydCB7IERlZmF1bHRTdGVwUmVzdWx0LCBTdGVwUmVzdWx0IH0gZnJvbSAnLi9zdGVwLXJlc3VsdCc7XG5pbXBvcnQge1xuICBpc1N0b3BDb25kaXRpb25NZXQsXG4gIHN0ZXBDb3VudElzLFxuICBTdG9wQ29uZGl0aW9uLFxufSBmcm9tICcuL3N0b3AtY29uZGl0aW9uJztcbmltcG9ydCB7XG4gIENvbnN1bWVTdHJlYW1PcHRpb25zLFxuICBTdHJlYW1UZXh0UmVzdWx0LFxuICBUZXh0U3RyZWFtUGFydCxcbiAgVUlNZXNzYWdlU3RyZWFtT3B0aW9ucyxcbn0gZnJvbSAnLi9zdHJlYW0tdGV4dC1yZXN1bHQnO1xuaW1wb3J0IHsgdG9SZXNwb25zZU1lc3NhZ2VzIH0gZnJvbSAnLi90by1yZXNwb25zZS1tZXNzYWdlcyc7XG5pbXBvcnQgeyBUeXBlZFRvb2xDYWxsIH0gZnJvbSAnLi90b29sLWNhbGwnO1xuaW1wb3J0IHsgVG9vbENhbGxSZXBhaXJGdW5jdGlvbiB9IGZyb20gJy4vdG9vbC1jYWxsLXJlcGFpci1mdW5jdGlvbic7XG5pbXBvcnQgeyBUb29sT3V0cHV0IH0gZnJvbSAnLi90b29sLW91dHB1dCc7XG5pbXBvcnQgeyBUb29sU2V0IH0gZnJvbSAnLi90b29sLXNldCc7XG5cbmNvbnN0IG9yaWdpbmFsR2VuZXJhdGVJZCA9IGNyZWF0ZUlkR2VuZXJhdG9yKHtcbiAgcHJlZml4OiAnYWl0eHQnLFxuICBzaXplOiAyNCxcbn0pO1xuXG4vKipcbkEgdHJhbnNmb3JtYXRpb24gdGhhdCBpcyBhcHBsaWVkIHRvIHRoZSBzdHJlYW0uXG5cbkBwYXJhbSBzdG9wU3RyZWFtIC0gQSBmdW5jdGlvbiB0aGF0IHN0b3BzIHRoZSBzb3VyY2Ugc3RyZWFtLlxuQHBhcmFtIHRvb2xzIC0gVGhlIHRvb2xzIHRoYXQgYXJlIGFjY2Vzc2libGUgdG8gYW5kIGNhbiBiZSBjYWxsZWQgYnkgdGhlIG1vZGVsLiBUaGUgbW9kZWwgbmVlZHMgdG8gc3VwcG9ydCBjYWxsaW5nIHRvb2xzLlxuICovXG5leHBvcnQgdHlwZSBTdHJlYW1UZXh0VHJhbnNmb3JtPFRPT0xTIGV4dGVuZHMgVG9vbFNldD4gPSAob3B0aW9uczoge1xuICB0b29sczogVE9PTFM7IC8vIGZvciB0eXBlIGluZmVyZW5jZVxuICBzdG9wU3RyZWFtOiAoKSA9PiB2b2lkO1xufSkgPT4gVHJhbnNmb3JtU3RyZWFtPFRleHRTdHJlYW1QYXJ0PFRPT0xTPiwgVGV4dFN0cmVhbVBhcnQ8VE9PTFM+PjtcblxuLyoqXG5DYWxsYmFjayB0aGF0IGlzIHNldCB1c2luZyB0aGUgYG9uRXJyb3JgIG9wdGlvbi5cblxuQHBhcmFtIGV2ZW50IC0gVGhlIGV2ZW50IHRoYXQgaXMgcGFzc2VkIHRvIHRoZSBjYWxsYmFjay5cbiAqL1xuZXhwb3J0IHR5cGUgU3RyZWFtVGV4dE9uRXJyb3JDYWxsYmFjayA9IChldmVudDoge1xuICBlcnJvcjogdW5rbm93bjtcbn0pID0+IFByb21pc2VMaWtlPHZvaWQ+IHwgdm9pZDtcblxuLyoqXG5DYWxsYmFjayB0aGF0IGlzIHNldCB1c2luZyB0aGUgYG9uU3RlcEZpbmlzaGAgb3B0aW9uLlxuXG5AcGFyYW0gc3RlcFJlc3VsdCAtIFRoZSByZXN1bHQgb2YgdGhlIHN0ZXAuXG4gKi9cbmV4cG9ydCB0eXBlIFN0cmVhbVRleHRPblN0ZXBGaW5pc2hDYWxsYmFjazxUT09MUyBleHRlbmRzIFRvb2xTZXQ+ID0gKFxuICBzdGVwUmVzdWx0OiBTdGVwUmVzdWx0PFRPT0xTPixcbikgPT4gUHJvbWlzZUxpa2U8dm9pZD4gfCB2b2lkO1xuXG4vKipcbkNhbGxiYWNrIHRoYXQgaXMgc2V0IHVzaW5nIHRoZSBgb25DaHVua2Agb3B0aW9uLlxuXG5AcGFyYW0gZXZlbnQgLSBUaGUgZXZlbnQgdGhhdCBpcyBwYXNzZWQgdG8gdGhlIGNhbGxiYWNrLlxuICovXG5leHBvcnQgdHlwZSBTdHJlYW1UZXh0T25DaHVua0NhbGxiYWNrPFRPT0xTIGV4dGVuZHMgVG9vbFNldD4gPSAoZXZlbnQ6IHtcbiAgY2h1bms6IEV4dHJhY3Q8XG4gICAgVGV4dFN0cmVhbVBhcnQ8VE9PTFM+LFxuICAgIHtcbiAgICAgIHR5cGU6XG4gICAgICAgIHwgJ3RleHQtZGVsdGEnXG4gICAgICAgIHwgJ3JlYXNvbmluZy1kZWx0YSdcbiAgICAgICAgfCAnc291cmNlJ1xuICAgICAgICB8ICd0b29sLWNhbGwnXG4gICAgICAgIHwgJ3Rvb2wtaW5wdXQtc3RhcnQnXG4gICAgICAgIHwgJ3Rvb2wtaW5wdXQtZGVsdGEnXG4gICAgICAgIHwgJ3Rvb2wtcmVzdWx0J1xuICAgICAgICB8ICdyYXcnO1xuICAgIH1cbiAgPjtcbn0pID0+IFByb21pc2VMaWtlPHZvaWQ+IHwgdm9pZDtcblxuLyoqXG5DYWxsYmFjayB0aGF0IGlzIHNldCB1c2luZyB0aGUgYG9uRmluaXNoYCBvcHRpb24uXG5cbkBwYXJhbSBldmVudCAtIFRoZSBldmVudCB0aGF0IGlzIHBhc3NlZCB0byB0aGUgY2FsbGJhY2suXG4gKi9cbmV4cG9ydCB0eXBlIFN0cmVhbVRleHRPbkZpbmlzaENhbGxiYWNrPFRPT0xTIGV4dGVuZHMgVG9vbFNldD4gPSAoXG4gIGV2ZW50OiBTdGVwUmVzdWx0PFRPT0xTPiAmIHtcbiAgICAvKipcbkRldGFpbHMgZm9yIGFsbCBzdGVwcy5cbiAgICovXG4gICAgcmVhZG9ubHkgc3RlcHM6IFN0ZXBSZXN1bHQ8VE9PTFM+W107XG5cbiAgICAvKipcblRvdGFsIHVzYWdlIGZvciBhbGwgc3RlcHMuIFRoaXMgaXMgdGhlIHN1bSBvZiB0aGUgdXNhZ2Ugb2YgYWxsIHN0ZXBzLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHRvdGFsVXNhZ2U6IExhbmd1YWdlTW9kZWxVc2FnZTtcbiAgfSxcbikgPT4gUHJvbWlzZUxpa2U8dm9pZD4gfCB2b2lkO1xuXG4vKipcbkNhbGxiYWNrIHRoYXQgaXMgc2V0IHVzaW5nIHRoZSBgb25BYm9ydGAgb3B0aW9uLlxuXG5AcGFyYW0gZXZlbnQgLSBUaGUgZXZlbnQgdGhhdCBpcyBwYXNzZWQgdG8gdGhlIGNhbGxiYWNrLlxuICovXG5leHBvcnQgdHlwZSBTdHJlYW1UZXh0T25BYm9ydENhbGxiYWNrPFRPT0xTIGV4dGVuZHMgVG9vbFNldD4gPSAoZXZlbnQ6IHtcbiAgLyoqXG5EZXRhaWxzIGZvciBhbGwgcHJldmlvdXNseSBmaW5pc2hlZCBzdGVwcy5cbiAgICovXG4gIHJlYWRvbmx5IHN0ZXBzOiBTdGVwUmVzdWx0PFRPT0xTPltdO1xufSkgPT4gUHJvbWlzZUxpa2U8dm9pZD4gfCB2b2lkO1xuXG4vKipcbkdlbmVyYXRlIGEgdGV4dCBhbmQgY2FsbCB0b29scyBmb3IgYSBnaXZlbiBwcm9tcHQgdXNpbmcgYSBsYW5ndWFnZSBtb2RlbC5cblxuVGhpcyBmdW5jdGlvbiBzdHJlYW1zIHRoZSBvdXRwdXQuIElmIHlvdSBkbyBub3Qgd2FudCB0byBzdHJlYW0gdGhlIG91dHB1dCwgdXNlIGBnZW5lcmF0ZVRleHRgIGluc3RlYWQuXG5cbkBwYXJhbSBtb2RlbCAtIFRoZSBsYW5ndWFnZSBtb2RlbCB0byB1c2UuXG5AcGFyYW0gdG9vbHMgLSBUb29scyB0aGF0IGFyZSBhY2Nlc3NpYmxlIHRvIGFuZCBjYW4gYmUgY2FsbGVkIGJ5IHRoZSBtb2RlbC4gVGhlIG1vZGVsIG5lZWRzIHRvIHN1cHBvcnQgY2FsbGluZyB0b29scy5cblxuQHBhcmFtIHN5c3RlbSAtIEEgc3lzdGVtIG1lc3NhZ2UgdGhhdCB3aWxsIGJlIHBhcnQgb2YgdGhlIHByb21wdC5cbkBwYXJhbSBwcm9tcHQgLSBBIHNpbXBsZSB0ZXh0IHByb21wdC4gWW91IGNhbiBlaXRoZXIgdXNlIGBwcm9tcHRgIG9yIGBtZXNzYWdlc2AgYnV0IG5vdCBib3RoLlxuQHBhcmFtIG1lc3NhZ2VzIC0gQSBsaXN0IG9mIG1lc3NhZ2VzLiBZb3UgY2FuIGVpdGhlciB1c2UgYHByb21wdGAgb3IgYG1lc3NhZ2VzYCBidXQgbm90IGJvdGguXG5cbkBwYXJhbSBtYXhPdXRwdXRUb2tlbnMgLSBNYXhpbXVtIG51bWJlciBvZiB0b2tlbnMgdG8gZ2VuZXJhdGUuXG5AcGFyYW0gdGVtcGVyYXR1cmUgLSBUZW1wZXJhdHVyZSBzZXR0aW5nLlxuVGhlIHZhbHVlIGlzIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlci4gVGhlIHJhbmdlIGRlcGVuZHMgb24gdGhlIHByb3ZpZGVyIGFuZCBtb2RlbC5cbkl0IGlzIHJlY29tbWVuZGVkIHRvIHNldCBlaXRoZXIgYHRlbXBlcmF0dXJlYCBvciBgdG9wUGAsIGJ1dCBub3QgYm90aC5cbkBwYXJhbSB0b3BQIC0gTnVjbGV1cyBzYW1wbGluZy5cblRoZSB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXIuIFRoZSByYW5nZSBkZXBlbmRzIG9uIHRoZSBwcm92aWRlciBhbmQgbW9kZWwuXG5JdCBpcyByZWNvbW1lbmRlZCB0byBzZXQgZWl0aGVyIGB0ZW1wZXJhdHVyZWAgb3IgYHRvcFBgLCBidXQgbm90IGJvdGguXG5AcGFyYW0gdG9wSyAtIE9ubHkgc2FtcGxlIGZyb20gdGhlIHRvcCBLIG9wdGlvbnMgZm9yIGVhY2ggc3Vic2VxdWVudCB0b2tlbi5cblVzZWQgdG8gcmVtb3ZlIFwibG9uZyB0YWlsXCIgbG93IHByb2JhYmlsaXR5IHJlc3BvbnNlcy5cblJlY29tbWVuZGVkIGZvciBhZHZhbmNlZCB1c2UgY2FzZXMgb25seS4gWW91IHVzdWFsbHkgb25seSBuZWVkIHRvIHVzZSB0ZW1wZXJhdHVyZS5cbkBwYXJhbSBwcmVzZW5jZVBlbmFsdHkgLSBQcmVzZW5jZSBwZW5hbHR5IHNldHRpbmcuXG5JdCBhZmZlY3RzIHRoZSBsaWtlbGlob29kIG9mIHRoZSBtb2RlbCB0byByZXBlYXQgaW5mb3JtYXRpb24gdGhhdCBpcyBhbHJlYWR5IGluIHRoZSBwcm9tcHQuXG5UaGUgdmFsdWUgaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyLiBUaGUgcmFuZ2UgZGVwZW5kcyBvbiB0aGUgcHJvdmlkZXIgYW5kIG1vZGVsLlxuQHBhcmFtIGZyZXF1ZW5jeVBlbmFsdHkgLSBGcmVxdWVuY3kgcGVuYWx0eSBzZXR0aW5nLlxuSXQgYWZmZWN0cyB0aGUgbGlrZWxpaG9vZCBvZiB0aGUgbW9kZWwgdG8gcmVwZWF0ZWRseSB1c2UgdGhlIHNhbWUgd29yZHMgb3IgcGhyYXNlcy5cblRoZSB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXIuIFRoZSByYW5nZSBkZXBlbmRzIG9uIHRoZSBwcm92aWRlciBhbmQgbW9kZWwuXG5AcGFyYW0gc3RvcFNlcXVlbmNlcyAtIFN0b3Agc2VxdWVuY2VzLlxuSWYgc2V0LCB0aGUgbW9kZWwgd2lsbCBzdG9wIGdlbmVyYXRpbmcgdGV4dCB3aGVuIG9uZSBvZiB0aGUgc3RvcCBzZXF1ZW5jZXMgaXMgZ2VuZXJhdGVkLlxuQHBhcmFtIHNlZWQgLSBUaGUgc2VlZCAoaW50ZWdlcikgdG8gdXNlIGZvciByYW5kb20gc2FtcGxpbmcuXG5JZiBzZXQgYW5kIHN1cHBvcnRlZCBieSB0aGUgbW9kZWwsIGNhbGxzIHdpbGwgZ2VuZXJhdGUgZGV0ZXJtaW5pc3RpYyByZXN1bHRzLlxuXG5AcGFyYW0gbWF4UmV0cmllcyAtIE1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMuIFNldCB0byAwIHRvIGRpc2FibGUgcmV0cmllcy4gRGVmYXVsdDogMi5cbkBwYXJhbSBhYm9ydFNpZ25hbCAtIEFuIG9wdGlvbmFsIGFib3J0IHNpZ25hbCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgY2FsbC5cbkBwYXJhbSBoZWFkZXJzIC0gQWRkaXRpb25hbCBIVFRQIGhlYWRlcnMgdG8gYmUgc2VudCB3aXRoIHRoZSByZXF1ZXN0LiBPbmx5IGFwcGxpY2FibGUgZm9yIEhUVFAtYmFzZWQgcHJvdmlkZXJzLlxuXG5AcGFyYW0gbWF4U3RlcHMgLSBNYXhpbXVtIG51bWJlciBvZiBzZXF1ZW50aWFsIExMTSBjYWxscyAoc3RlcHMpLCBlLmcuIHdoZW4geW91IHVzZSB0b29sIGNhbGxzLlxuXG5AcGFyYW0gb25DaHVuayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIGZvciBlYWNoIGNodW5rIG9mIHRoZSBzdHJlYW0uIFRoZSBzdHJlYW0gcHJvY2Vzc2luZyB3aWxsIHBhdXNlIHVudGlsIHRoZSBjYWxsYmFjayBwcm9taXNlIGlzIHJlc29sdmVkLlxuQHBhcmFtIG9uRXJyb3IgLSBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIGFuIGVycm9yIG9jY3VycyBkdXJpbmcgc3RyZWFtaW5nLiBZb3UgY2FuIHVzZSBpdCB0byBsb2cgZXJyb3JzLlxuQHBhcmFtIG9uU3RlcEZpbmlzaCAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gZWFjaCBzdGVwIChMTE0gY2FsbCkgaXMgZmluaXNoZWQsIGluY2x1ZGluZyBpbnRlcm1lZGlhdGUgc3RlcHMuXG5AcGFyYW0gb25GaW5pc2ggLSBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIHRoZSBMTE0gcmVzcG9uc2UgYW5kIGFsbCByZXF1ZXN0IHRvb2wgZXhlY3V0aW9uc1xuKGZvciB0b29scyB0aGF0IGhhdmUgYW4gYGV4ZWN1dGVgIGZ1bmN0aW9uKSBhcmUgZmluaXNoZWQuXG5cbkByZXR1cm5cbkEgcmVzdWx0IG9iamVjdCBmb3IgYWNjZXNzaW5nIGRpZmZlcmVudCBzdHJlYW0gdHlwZXMgYW5kIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJlYW1UZXh0PFxuICBUT09MUyBleHRlbmRzIFRvb2xTZXQsXG4gIE9VVFBVVCA9IG5ldmVyLFxuICBQQVJUSUFMX09VVFBVVCA9IG5ldmVyLFxuPih7XG4gIG1vZGVsLFxuICB0b29scyxcbiAgdG9vbENob2ljZSxcbiAgc3lzdGVtLFxuICBwcm9tcHQsXG4gIG1lc3NhZ2VzLFxuICBtYXhSZXRyaWVzLFxuICBhYm9ydFNpZ25hbCxcbiAgaGVhZGVycyxcbiAgc3RvcFdoZW4gPSBzdGVwQ291bnRJcygxKSxcbiAgZXhwZXJpbWVudGFsX291dHB1dDogb3V0cHV0LFxuICBleHBlcmltZW50YWxfdGVsZW1ldHJ5OiB0ZWxlbWV0cnksXG4gIHByZXBhcmVTdGVwLFxuICBwcm92aWRlck9wdGlvbnMsXG4gIGV4cGVyaW1lbnRhbF9hY3RpdmVUb29scyxcbiAgYWN0aXZlVG9vbHMgPSBleHBlcmltZW50YWxfYWN0aXZlVG9vbHMsXG4gIGV4cGVyaW1lbnRhbF9yZXBhaXJUb29sQ2FsbDogcmVwYWlyVG9vbENhbGwsXG4gIGV4cGVyaW1lbnRhbF90cmFuc2Zvcm06IHRyYW5zZm9ybSxcbiAgZXhwZXJpbWVudGFsX2Rvd25sb2FkOiBkb3dubG9hZCxcbiAgaW5jbHVkZVJhd0NodW5rcyA9IGZhbHNlLFxuICBvbkNodW5rLFxuICBvbkVycm9yID0gKHsgZXJyb3IgfSkgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICB9LFxuICBvbkZpbmlzaCxcbiAgb25BYm9ydCxcbiAgb25TdGVwRmluaXNoLFxuICBleHBlcmltZW50YWxfY29udGV4dCxcbiAgX2ludGVybmFsOiB7XG4gICAgbm93ID0gb3JpZ2luYWxOb3csXG4gICAgZ2VuZXJhdGVJZCA9IG9yaWdpbmFsR2VuZXJhdGVJZCxcbiAgICBjdXJyZW50RGF0ZSA9ICgpID0+IG5ldyBEYXRlKCksXG4gIH0gPSB7fSxcbiAgLi4uc2V0dGluZ3Ncbn06IENhbGxTZXR0aW5ncyAmXG4gIFByb21wdCAmIHtcbiAgICAvKipcblRoZSBsYW5ndWFnZSBtb2RlbCB0byB1c2UuXG4gICAgICovXG4gICAgbW9kZWw6IExhbmd1YWdlTW9kZWw7XG5cbiAgICAvKipcblRoZSB0b29scyB0aGF0IHRoZSBtb2RlbCBjYW4gY2FsbC4gVGhlIG1vZGVsIG5lZWRzIHRvIHN1cHBvcnQgY2FsbGluZyB0b29scy5cbiAgICAqL1xuICAgIHRvb2xzPzogVE9PTFM7XG5cbiAgICAvKipcblRoZSB0b29sIGNob2ljZSBzdHJhdGVneS4gRGVmYXVsdDogJ2F1dG8nLlxuICAgICAqL1xuICAgIHRvb2xDaG9pY2U/OiBUb29sQ2hvaWNlPFRPT0xTPjtcblxuICAgIC8qKlxuQ29uZGl0aW9uIGZvciBzdG9wcGluZyB0aGUgZ2VuZXJhdGlvbiB3aGVuIHRoZXJlIGFyZSB0b29sIHJlc3VsdHMgaW4gdGhlIGxhc3Qgc3RlcC5cbldoZW4gdGhlIGNvbmRpdGlvbiBpcyBhbiBhcnJheSwgYW55IG9mIHRoZSBjb25kaXRpb25zIGNhbiBiZSBtZXQgdG8gc3RvcCB0aGUgZ2VuZXJhdGlvbi5cblxuQGRlZmF1bHQgc3RlcENvdW50SXMoMSlcbiAgICAgKi9cbiAgICBzdG9wV2hlbj86XG4gICAgICB8IFN0b3BDb25kaXRpb248Tm9JbmZlcjxUT09MUz4+XG4gICAgICB8IEFycmF5PFN0b3BDb25kaXRpb248Tm9JbmZlcjxUT09MUz4+PjtcblxuICAgIC8qKlxuT3B0aW9uYWwgdGVsZW1ldHJ5IGNvbmZpZ3VyYXRpb24gKGV4cGVyaW1lbnRhbCkuXG4gICAgICovXG4gICAgZXhwZXJpbWVudGFsX3RlbGVtZXRyeT86IFRlbGVtZXRyeVNldHRpbmdzO1xuXG4gICAgLyoqXG5BZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG9wdGlvbnMuIFRoZXkgYXJlIHBhc3NlZCB0aHJvdWdoXG50byB0aGUgcHJvdmlkZXIgZnJvbSB0aGUgQUkgU0RLIGFuZCBlbmFibGUgcHJvdmlkZXItc3BlY2lmaWNcbmZ1bmN0aW9uYWxpdHkgdGhhdCBjYW4gYmUgZnVsbHkgZW5jYXBzdWxhdGVkIGluIHRoZSBwcm92aWRlci5cbiAqL1xuICAgIHByb3ZpZGVyT3B0aW9ucz86IFByb3ZpZGVyT3B0aW9ucztcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSBgYWN0aXZlVG9vbHNgIGluc3RlYWQuXG4gICAgICovXG4gICAgZXhwZXJpbWVudGFsX2FjdGl2ZVRvb2xzPzogQXJyYXk8a2V5b2YgTm9JbmZlcjxUT09MUz4+O1xuXG4gICAgLyoqXG4gICBMaW1pdHMgdGhlIHRvb2xzIHRoYXQgYXJlIGF2YWlsYWJsZSBmb3IgdGhlIG1vZGVsIHRvIGNhbGwgd2l0aG91dFxuICAgY2hhbmdpbmcgdGhlIHRvb2wgY2FsbCBhbmQgcmVzdWx0IHR5cGVzIGluIHRoZSByZXN1bHQuXG4gICAgICAgICovXG4gICAgYWN0aXZlVG9vbHM/OiBBcnJheTxrZXlvZiBOb0luZmVyPFRPT0xTPj47XG5cbiAgICAvKipcbk9wdGlvbmFsIHNwZWNpZmljYXRpb24gZm9yIHBhcnNpbmcgc3RydWN0dXJlZCBvdXRwdXRzIGZyb20gdGhlIExMTSByZXNwb25zZS5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWxfb3V0cHV0PzogT3V0cHV0PE9VVFBVVCwgUEFSVElBTF9PVVRQVVQ+O1xuXG4gICAgLyoqXG5PcHRpb25hbCBmdW5jdGlvbiB0aGF0IHlvdSBjYW4gdXNlIHRvIHByb3ZpZGUgZGlmZmVyZW50IHNldHRpbmdzIGZvciBhIHN0ZXAuXG5cbkBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBzdGVwLlxuQHBhcmFtIG9wdGlvbnMuc3RlcHMgLSBUaGUgc3RlcHMgdGhhdCBoYXZlIGJlZW4gZXhlY3V0ZWQgc28gZmFyLlxuQHBhcmFtIG9wdGlvbnMuc3RlcE51bWJlciAtIFRoZSBudW1iZXIgb2YgdGhlIHN0ZXAgdGhhdCBpcyBiZWluZyBleGVjdXRlZC5cbkBwYXJhbSBvcHRpb25zLm1vZGVsIC0gVGhlIG1vZGVsIHRoYXQgaXMgYmVpbmcgdXNlZC5cblxuQHJldHVybnMgQW4gb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIHNldHRpbmdzIGZvciB0aGUgc3RlcC5cbklmIHlvdSByZXR1cm4gdW5kZWZpbmVkIChvciBmb3IgdW5kZWZpbmVkIHNldHRpbmdzKSwgdGhlIHNldHRpbmdzIGZyb20gdGhlIG91dGVyIGxldmVsIHdpbGwgYmUgdXNlZC5cbiAgICAqL1xuICAgIHByZXBhcmVTdGVwPzogUHJlcGFyZVN0ZXBGdW5jdGlvbjxOb0luZmVyPFRPT0xTPj47XG5cbiAgICAvKipcbkEgZnVuY3Rpb24gdGhhdCBhdHRlbXB0cyB0byByZXBhaXIgYSB0b29sIGNhbGwgdGhhdCBmYWlsZWQgdG8gcGFyc2UuXG4gICAgICovXG4gICAgZXhwZXJpbWVudGFsX3JlcGFpclRvb2xDYWxsPzogVG9vbENhbGxSZXBhaXJGdW5jdGlvbjxUT09MUz47XG5cbiAgICAvKipcbk9wdGlvbmFsIHN0cmVhbSB0cmFuc2Zvcm1hdGlvbnMuXG5UaGV5IGFyZSBhcHBsaWVkIGluIHRoZSBvcmRlciB0aGV5IGFyZSBwcm92aWRlZC5cblRoZSBzdHJlYW0gdHJhbnNmb3JtYXRpb25zIG11c3QgbWFpbnRhaW4gdGhlIHN0cmVhbSBzdHJ1Y3R1cmUgZm9yIHN0cmVhbVRleHQgdG8gd29yayBjb3JyZWN0bHkuXG4gICAgICovXG4gICAgZXhwZXJpbWVudGFsX3RyYW5zZm9ybT86XG4gICAgICB8IFN0cmVhbVRleHRUcmFuc2Zvcm08VE9PTFM+XG4gICAgICB8IEFycmF5PFN0cmVhbVRleHRUcmFuc2Zvcm08VE9PTFM+PjtcblxuICAgIC8qKlxuQ3VzdG9tIGRvd25sb2FkIGZ1bmN0aW9uIHRvIHVzZSBmb3IgVVJMcy5cblxuQnkgZGVmYXVsdCwgZmlsZXMgYXJlIGRvd25sb2FkZWQgaWYgdGhlIG1vZGVsIGRvZXMgbm90IHN1cHBvcnQgdGhlIFVSTCBmb3IgdGhlIGdpdmVuIG1lZGlhIHR5cGUuXG4gICAgICovXG4gICAgZXhwZXJpbWVudGFsX2Rvd25sb2FkPzogRG93bmxvYWRGdW5jdGlvbiB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuV2hldGhlciB0byBpbmNsdWRlIHJhdyBjaHVua3MgZnJvbSB0aGUgcHJvdmlkZXIgaW4gdGhlIHN0cmVhbS5cbldoZW4gZW5hYmxlZCwgeW91IHdpbGwgcmVjZWl2ZSByYXcgY2h1bmtzIHdpdGggdHlwZSAncmF3JyB0aGF0IGNvbnRhaW4gdGhlIHVucHJvY2Vzc2VkIGRhdGEgZnJvbSB0aGUgcHJvdmlkZXIuXG5UaGlzIGFsbG93cyBhY2Nlc3MgdG8gY3V0dGluZy1lZGdlIHByb3ZpZGVyIGZlYXR1cmVzIG5vdCB5ZXQgd3JhcHBlZCBieSB0aGUgQUkgU0RLLlxuRGVmYXVsdHMgdG8gZmFsc2UuXG4gICAgICovXG4gICAgaW5jbHVkZVJhd0NodW5rcz86IGJvb2xlYW47XG5cbiAgICAvKipcbkNhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIGZvciBlYWNoIGNodW5rIG9mIHRoZSBzdHJlYW0uXG5UaGUgc3RyZWFtIHByb2Nlc3Npbmcgd2lsbCBwYXVzZSB1bnRpbCB0aGUgY2FsbGJhY2sgcHJvbWlzZSBpcyByZXNvbHZlZC5cbiAgICAgKi9cbiAgICBvbkNodW5rPzogU3RyZWFtVGV4dE9uQ2h1bmtDYWxsYmFjazxUT09MUz47XG5cbiAgICAvKipcbkNhbGxiYWNrIHRoYXQgaXMgaW52b2tlZCB3aGVuIGFuIGVycm9yIG9jY3VycyBkdXJpbmcgc3RyZWFtaW5nLlxuWW91IGNhbiB1c2UgaXQgdG8gbG9nIGVycm9ycy5cblRoZSBzdHJlYW0gcHJvY2Vzc2luZyB3aWxsIHBhdXNlIHVudGlsIHRoZSBjYWxsYmFjayBwcm9taXNlIGlzIHJlc29sdmVkLlxuICAgICAqL1xuICAgIG9uRXJyb3I/OiBTdHJlYW1UZXh0T25FcnJvckNhbGxiYWNrO1xuXG4gICAgLyoqXG5DYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIHRoZSBMTE0gcmVzcG9uc2UgYW5kIGFsbCByZXF1ZXN0IHRvb2wgZXhlY3V0aW9uc1xuKGZvciB0b29scyB0aGF0IGhhdmUgYW4gYGV4ZWN1dGVgIGZ1bmN0aW9uKSBhcmUgZmluaXNoZWQuXG5cblRoZSB1c2FnZSBpcyB0aGUgY29tYmluZWQgdXNhZ2Ugb2YgYWxsIHN0ZXBzLlxuICAgICAqL1xuICAgIG9uRmluaXNoPzogU3RyZWFtVGV4dE9uRmluaXNoQ2FsbGJhY2s8VE9PTFM+O1xuXG4gICAgb25BYm9ydD86IFN0cmVhbVRleHRPbkFib3J0Q2FsbGJhY2s8VE9PTFM+O1xuXG4gICAgLyoqXG5DYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIGVhY2ggc3RlcCAoTExNIGNhbGwpIGlzIGZpbmlzaGVkLCBpbmNsdWRpbmcgaW50ZXJtZWRpYXRlIHN0ZXBzLlxuICAgICovXG4gICAgb25TdGVwRmluaXNoPzogU3RyZWFtVGV4dE9uU3RlcEZpbmlzaENhbGxiYWNrPFRPT0xTPjtcblxuICAgIC8qKlxuICAgICAqIENvbnRleHQgdGhhdCBpcyBwYXNzZWQgaW50byB0b29sIGV4ZWN1dGlvbi5cbiAgICAgKlxuICAgICAqIEV4cGVyaW1lbnRhbCAoY2FuIGJyZWFrIGluIHBhdGNoIHJlbGVhc2VzKS5cbiAgICAgKlxuICAgICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGV4cGVyaW1lbnRhbF9jb250ZXh0PzogdW5rbm93bjtcblxuICAgIC8qKlxuSW50ZXJuYWwuIEZvciB0ZXN0IHVzZSBvbmx5LiBNYXkgY2hhbmdlIHdpdGhvdXQgbm90aWNlLlxuICAgICAqL1xuICAgIF9pbnRlcm5hbD86IHtcbiAgICAgIG5vdz86ICgpID0+IG51bWJlcjtcbiAgICAgIGdlbmVyYXRlSWQ/OiBJZEdlbmVyYXRvcjtcbiAgICAgIGN1cnJlbnREYXRlPzogKCkgPT4gRGF0ZTtcbiAgICB9O1xuICB9KTogU3RyZWFtVGV4dFJlc3VsdDxUT09MUywgUEFSVElBTF9PVVRQVVQ+IHtcbiAgcmV0dXJuIG5ldyBEZWZhdWx0U3RyZWFtVGV4dFJlc3VsdDxUT09MUywgT1VUUFVULCBQQVJUSUFMX09VVFBVVD4oe1xuICAgIG1vZGVsOiByZXNvbHZlTGFuZ3VhZ2VNb2RlbChtb2RlbCksXG4gICAgdGVsZW1ldHJ5LFxuICAgIGhlYWRlcnMsXG4gICAgc2V0dGluZ3MsXG4gICAgbWF4UmV0cmllcyxcbiAgICBhYm9ydFNpZ25hbCxcbiAgICBzeXN0ZW0sXG4gICAgcHJvbXB0LFxuICAgIG1lc3NhZ2VzLFxuICAgIHRvb2xzLFxuICAgIHRvb2xDaG9pY2UsXG4gICAgdHJhbnNmb3JtczogYXNBcnJheSh0cmFuc2Zvcm0pLFxuICAgIGFjdGl2ZVRvb2xzLFxuICAgIHJlcGFpclRvb2xDYWxsLFxuICAgIHN0b3BDb25kaXRpb25zOiBhc0FycmF5KHN0b3BXaGVuKSxcbiAgICBvdXRwdXQsXG4gICAgcHJvdmlkZXJPcHRpb25zLFxuICAgIHByZXBhcmVTdGVwLFxuICAgIGluY2x1ZGVSYXdDaHVua3MsXG4gICAgb25DaHVuayxcbiAgICBvbkVycm9yLFxuICAgIG9uRmluaXNoLFxuICAgIG9uQWJvcnQsXG4gICAgb25TdGVwRmluaXNoLFxuICAgIG5vdyxcbiAgICBjdXJyZW50RGF0ZSxcbiAgICBnZW5lcmF0ZUlkLFxuICAgIGV4cGVyaW1lbnRhbF9jb250ZXh0LFxuICAgIGRvd25sb2FkLFxuICB9KTtcbn1cblxudHlwZSBFbnJpY2hlZFN0cmVhbVBhcnQ8VE9PTFMgZXh0ZW5kcyBUb29sU2V0LCBQQVJUSUFMX09VVFBVVD4gPSB7XG4gIHBhcnQ6IFRleHRTdHJlYW1QYXJ0PFRPT0xTPjtcbiAgcGFydGlhbE91dHB1dDogUEFSVElBTF9PVVRQVVQgfCB1bmRlZmluZWQ7XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVPdXRwdXRUcmFuc2Zvcm1TdHJlYW08XG4gIFRPT0xTIGV4dGVuZHMgVG9vbFNldCxcbiAgT1VUUFVULFxuICBQQVJUSUFMX09VVFBVVCxcbj4oXG4gIG91dHB1dDogT3V0cHV0PE9VVFBVVCwgUEFSVElBTF9PVVRQVVQ+IHwgdW5kZWZpbmVkLFxuKTogVHJhbnNmb3JtU3RyZWFtPFxuICBUZXh0U3RyZWFtUGFydDxUT09MUz4sXG4gIEVucmljaGVkU3RyZWFtUGFydDxUT09MUywgUEFSVElBTF9PVVRQVVQ+XG4+IHtcbiAgaWYgKCFvdXRwdXQpIHtcbiAgICByZXR1cm4gbmV3IFRyYW5zZm9ybVN0cmVhbTxcbiAgICAgIFRleHRTdHJlYW1QYXJ0PFRPT0xTPixcbiAgICAgIEVucmljaGVkU3RyZWFtUGFydDxUT09MUywgUEFSVElBTF9PVVRQVVQ+XG4gICAgPih7XG4gICAgICB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgcGFydDogY2h1bmssIHBhcnRpYWxPdXRwdXQ6IHVuZGVmaW5lZCB9KTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBsZXQgZmlyc3RUZXh0Q2h1bmtJZDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICBsZXQgdGV4dCA9ICcnO1xuICBsZXQgdGV4dENodW5rID0gJyc7XG4gIGxldCBsYXN0UHVibGlzaGVkSnNvbiA9ICcnO1xuXG4gIGZ1bmN0aW9uIHB1Ymxpc2hUZXh0Q2h1bmsoe1xuICAgIGNvbnRyb2xsZXIsXG4gICAgcGFydGlhbE91dHB1dCA9IHVuZGVmaW5lZCxcbiAgfToge1xuICAgIGNvbnRyb2xsZXI6IFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFxuICAgICAgRW5yaWNoZWRTdHJlYW1QYXJ0PFRPT0xTLCBQQVJUSUFMX09VVFBVVD5cbiAgICA+O1xuICAgIHBhcnRpYWxPdXRwdXQ/OiBQQVJUSUFMX09VVFBVVDtcbiAgfSkge1xuICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICBwYXJ0OiB7XG4gICAgICAgIHR5cGU6ICd0ZXh0LWRlbHRhJyxcbiAgICAgICAgaWQ6IGZpcnN0VGV4dENodW5rSWQhLFxuICAgICAgICB0ZXh0OiB0ZXh0Q2h1bmssXG4gICAgICB9LFxuICAgICAgcGFydGlhbE91dHB1dCxcbiAgICB9KTtcbiAgICB0ZXh0Q2h1bmsgPSAnJztcbiAgfVxuXG4gIHJldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtPFxuICAgIFRleHRTdHJlYW1QYXJ0PFRPT0xTPixcbiAgICBFbnJpY2hlZFN0cmVhbVBhcnQ8VE9PTFMsIFBBUlRJQUxfT1VUUFVUPlxuICA+KHtcbiAgICBhc3luYyB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgIC8vIGVuc3VyZSB0aGF0IHdlIHB1Ymxpc2ggdGhlIGxhc3QgdGV4dCBjaHVuayBiZWZvcmUgdGhlIHN0ZXAgZmluaXNoOlxuICAgICAgaWYgKGNodW5rLnR5cGUgPT09ICdmaW5pc2gtc3RlcCcgJiYgdGV4dENodW5rLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcHVibGlzaFRleHRDaHVuayh7IGNvbnRyb2xsZXIgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgY2h1bmsudHlwZSAhPT0gJ3RleHQtZGVsdGEnICYmXG4gICAgICAgIGNodW5rLnR5cGUgIT09ICd0ZXh0LXN0YXJ0JyAmJlxuICAgICAgICBjaHVuay50eXBlICE9PSAndGV4dC1lbmQnXG4gICAgICApIHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgcGFydDogY2h1bmssIHBhcnRpYWxPdXRwdXQ6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyB3ZSBoYXZlIHRvIHBpY2sgYSB0ZXh0IGNodW5rIHdoaWNoIGNvbnRhaW5zIHRoZSBqc29uIHRleHRcbiAgICAgIC8vIHNpbmNlIHdlIGFyZSBzdHJlYW1pbmcsIHdlIGhhdmUgdG8gcGljayB0aGUgZmlyc3QgdGV4dCBjaHVua1xuICAgICAgaWYgKGZpcnN0VGV4dENodW5rSWQgPT0gbnVsbCkge1xuICAgICAgICBmaXJzdFRleHRDaHVua0lkID0gY2h1bmsuaWQ7XG4gICAgICB9IGVsc2UgaWYgKGNodW5rLmlkICE9PSBmaXJzdFRleHRDaHVua0lkKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHBhcnQ6IGNodW5rLCBwYXJ0aWFsT3V0cHV0OiB1bmRlZmluZWQgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGNodW5rLnR5cGUgPT09ICd0ZXh0LXN0YXJ0Jykge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyBwYXJ0OiBjaHVuaywgcGFydGlhbE91dHB1dDogdW5kZWZpbmVkIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChjaHVuay50eXBlID09PSAndGV4dC1lbmQnKSB7XG4gICAgICAgIGlmICh0ZXh0Q2h1bmsubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHB1Ymxpc2hUZXh0Q2h1bmsoeyBjb250cm9sbGVyIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHBhcnQ6IGNodW5rLCBwYXJ0aWFsT3V0cHV0OiB1bmRlZmluZWQgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGV4dCArPSBjaHVuay50ZXh0O1xuICAgICAgdGV4dENodW5rICs9IGNodW5rLnRleHQ7XG5cbiAgICAgIC8vIG9ubHkgcHVibGlzaCBpZiBwYXJ0aWFsIGpzb24gY2FuIGJlIHBhcnNlZDpcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG91dHB1dC5wYXJzZVBhcnRpYWwoeyB0ZXh0IH0pO1xuICAgICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG4gICAgICAgIC8vIG9ubHkgc2VuZCBuZXcganNvbiBpZiBpdCBoYXMgY2hhbmdlZDpcbiAgICAgICAgY29uc3QgY3VycmVudEpzb24gPSBKU09OLnN0cmluZ2lmeShyZXN1bHQucGFydGlhbCk7XG4gICAgICAgIGlmIChjdXJyZW50SnNvbiAhPT0gbGFzdFB1Ymxpc2hlZEpzb24pIHtcbiAgICAgICAgICBwdWJsaXNoVGV4dENodW5rKHsgY29udHJvbGxlciwgcGFydGlhbE91dHB1dDogcmVzdWx0LnBhcnRpYWwgfSk7XG4gICAgICAgICAgbGFzdFB1Ymxpc2hlZEpzb24gPSBjdXJyZW50SnNvbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gIH0pO1xufVxuXG5jbGFzcyBEZWZhdWx0U3RyZWFtVGV4dFJlc3VsdDxUT09MUyBleHRlbmRzIFRvb2xTZXQsIE9VVFBVVCwgUEFSVElBTF9PVVRQVVQ+XG4gIGltcGxlbWVudHMgU3RyZWFtVGV4dFJlc3VsdDxUT09MUywgUEFSVElBTF9PVVRQVVQ+XG57XG4gIHByaXZhdGUgcmVhZG9ubHkgX3RvdGFsVXNhZ2UgPSBuZXcgRGVsYXllZFByb21pc2U8XG4gICAgQXdhaXRlZDxTdHJlYW1UZXh0UmVzdWx0PFRPT0xTLCBQQVJUSUFMX09VVFBVVD5bJ3VzYWdlJ10+XG4gID4oKTtcbiAgcHJpdmF0ZSByZWFkb25seSBfZmluaXNoUmVhc29uID0gbmV3IERlbGF5ZWRQcm9taXNlPFxuICAgIEF3YWl0ZWQ8U3RyZWFtVGV4dFJlc3VsdDxUT09MUywgUEFSVElBTF9PVVRQVVQ+WydmaW5pc2hSZWFzb24nXT5cbiAgPigpO1xuICBwcml2YXRlIHJlYWRvbmx5IF9zdGVwcyA9IG5ldyBEZWxheWVkUHJvbWlzZTxcbiAgICBBd2FpdGVkPFN0cmVhbVRleHRSZXN1bHQ8VE9PTFMsIFBBUlRJQUxfT1VUUFVUPlsnc3RlcHMnXT5cbiAgPigpO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgYWRkU3RyZWFtOiAoXG4gICAgc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxUZXh0U3RyZWFtUGFydDxUT09MUz4+LFxuICApID0+IHZvaWQ7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBjbG9zZVN0cmVhbTogKCkgPT4gdm9pZDtcblxuICBwcml2YXRlIGJhc2VTdHJlYW06IFJlYWRhYmxlU3RyZWFtPEVucmljaGVkU3RyZWFtUGFydDxUT09MUywgUEFSVElBTF9PVVRQVVQ+PjtcblxuICBwcml2YXRlIG91dHB1dDogT3V0cHV0PE9VVFBVVCwgUEFSVElBTF9PVVRQVVQ+IHwgdW5kZWZpbmVkO1xuXG4gIHByaXZhdGUgaW5jbHVkZVJhd0NodW5rczogYm9vbGVhbjtcblxuICBwcml2YXRlIHRvb2xzOiBUT09MUyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbW9kZWwsXG4gICAgdGVsZW1ldHJ5LFxuICAgIGhlYWRlcnMsXG4gICAgc2V0dGluZ3MsXG4gICAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgICBhYm9ydFNpZ25hbCxcbiAgICBzeXN0ZW0sXG4gICAgcHJvbXB0LFxuICAgIG1lc3NhZ2VzLFxuICAgIHRvb2xzLFxuICAgIHRvb2xDaG9pY2UsXG4gICAgdHJhbnNmb3JtcyxcbiAgICBhY3RpdmVUb29scyxcbiAgICByZXBhaXJUb29sQ2FsbCxcbiAgICBzdG9wQ29uZGl0aW9ucyxcbiAgICBvdXRwdXQsXG4gICAgcHJvdmlkZXJPcHRpb25zLFxuICAgIHByZXBhcmVTdGVwLFxuICAgIGluY2x1ZGVSYXdDaHVua3MsXG4gICAgbm93LFxuICAgIGN1cnJlbnREYXRlLFxuICAgIGdlbmVyYXRlSWQsXG4gICAgb25DaHVuayxcbiAgICBvbkVycm9yLFxuICAgIG9uRmluaXNoLFxuICAgIG9uQWJvcnQsXG4gICAgb25TdGVwRmluaXNoLFxuICAgIGV4cGVyaW1lbnRhbF9jb250ZXh0LFxuICAgIGRvd25sb2FkLFxuICB9OiB7XG4gICAgbW9kZWw6IExhbmd1YWdlTW9kZWxWMjtcbiAgICB0ZWxlbWV0cnk6IFRlbGVtZXRyeVNldHRpbmdzIHwgdW5kZWZpbmVkO1xuICAgIGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD4gfCB1bmRlZmluZWQ7XG4gICAgc2V0dGluZ3M6IE9taXQ8Q2FsbFNldHRpbmdzLCAnYWJvcnRTaWduYWwnIHwgJ2hlYWRlcnMnPjtcbiAgICBtYXhSZXRyaWVzOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICAgYWJvcnRTaWduYWw6IEFib3J0U2lnbmFsIHwgdW5kZWZpbmVkO1xuICAgIHN5c3RlbTogUHJvbXB0WydzeXN0ZW0nXTtcbiAgICBwcm9tcHQ6IFByb21wdFsncHJvbXB0J107XG4gICAgbWVzc2FnZXM6IFByb21wdFsnbWVzc2FnZXMnXTtcbiAgICB0b29sczogVE9PTFMgfCB1bmRlZmluZWQ7XG4gICAgdG9vbENob2ljZTogVG9vbENob2ljZTxUT09MUz4gfCB1bmRlZmluZWQ7XG4gICAgdHJhbnNmb3JtczogQXJyYXk8U3RyZWFtVGV4dFRyYW5zZm9ybTxUT09MUz4+O1xuICAgIGFjdGl2ZVRvb2xzOiBBcnJheTxrZXlvZiBUT09MUz4gfCB1bmRlZmluZWQ7XG4gICAgcmVwYWlyVG9vbENhbGw6IFRvb2xDYWxsUmVwYWlyRnVuY3Rpb248VE9PTFM+IHwgdW5kZWZpbmVkO1xuICAgIHN0b3BDb25kaXRpb25zOiBBcnJheTxTdG9wQ29uZGl0aW9uPE5vSW5mZXI8VE9PTFM+Pj47XG4gICAgb3V0cHV0OiBPdXRwdXQ8T1VUUFVULCBQQVJUSUFMX09VVFBVVD4gfCB1bmRlZmluZWQ7XG4gICAgcHJvdmlkZXJPcHRpb25zOiBQcm92aWRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgcHJlcGFyZVN0ZXA6IFByZXBhcmVTdGVwRnVuY3Rpb248Tm9JbmZlcjxUT09MUz4+IHwgdW5kZWZpbmVkO1xuICAgIGluY2x1ZGVSYXdDaHVua3M6IGJvb2xlYW47XG4gICAgbm93OiAoKSA9PiBudW1iZXI7XG4gICAgY3VycmVudERhdGU6ICgpID0+IERhdGU7XG4gICAgZ2VuZXJhdGVJZDogKCkgPT4gc3RyaW5nO1xuICAgIGV4cGVyaW1lbnRhbF9jb250ZXh0OiB1bmtub3duO1xuICAgIGRvd25sb2FkOiBEb3dubG9hZEZ1bmN0aW9uIHwgdW5kZWZpbmVkO1xuXG4gICAgLy8gY2FsbGJhY2tzOlxuICAgIG9uQ2h1bms6IHVuZGVmaW5lZCB8IFN0cmVhbVRleHRPbkNodW5rQ2FsbGJhY2s8VE9PTFM+O1xuICAgIG9uRXJyb3I6IFN0cmVhbVRleHRPbkVycm9yQ2FsbGJhY2s7XG4gICAgb25GaW5pc2g6IHVuZGVmaW5lZCB8IFN0cmVhbVRleHRPbkZpbmlzaENhbGxiYWNrPFRPT0xTPjtcbiAgICBvbkFib3J0OiB1bmRlZmluZWQgfCBTdHJlYW1UZXh0T25BYm9ydENhbGxiYWNrPFRPT0xTPjtcbiAgICBvblN0ZXBGaW5pc2g6IHVuZGVmaW5lZCB8IFN0cmVhbVRleHRPblN0ZXBGaW5pc2hDYWxsYmFjazxUT09MUz47XG4gIH0pIHtcbiAgICB0aGlzLm91dHB1dCA9IG91dHB1dDtcbiAgICB0aGlzLmluY2x1ZGVSYXdDaHVua3MgPSBpbmNsdWRlUmF3Q2h1bmtzO1xuICAgIHRoaXMudG9vbHMgPSB0b29scztcblxuICAgIC8vIHByb21pc2UgdG8gZW5zdXJlIHRoYXQgdGhlIHN0ZXAgaGFzIGJlZW4gZnVsbHkgcHJvY2Vzc2VkIGJ5IHRoZSBldmVudCBwcm9jZXNzb3JcbiAgICAvLyBiZWZvcmUgYSBuZXcgc3RlcCBpcyBzdGFydGVkLiBUaGlzIGlzIHJlcXVpcmVkIGJlY2F1c2UgdGhlIGNvbnRpbnVhdGlvbiBjb25kaXRpb25cbiAgICAvLyBuZWVkcyB0aGUgdXBkYXRlZCBzdGVwcyB0byBkZXRlcm1pbmUgaWYgYW5vdGhlciBzdGVwIGlzIG5lZWRlZC5cbiAgICBsZXQgc3RlcEZpbmlzaCE6IERlbGF5ZWRQcm9taXNlPHZvaWQ+O1xuXG4gICAgbGV0IHJlY29yZGVkQ29udGVudDogQXJyYXk8Q29udGVudFBhcnQ8VE9PTFM+PiA9IFtdO1xuICAgIGNvbnN0IHJlY29yZGVkUmVzcG9uc2VNZXNzYWdlczogQXJyYXk8UmVzcG9uc2VNZXNzYWdlPiA9IFtdO1xuICAgIGxldCByZWNvcmRlZEZpbmlzaFJlYXNvbjogRmluaXNoUmVhc29uIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgIGxldCByZWNvcmRlZFRvdGFsVXNhZ2U6IExhbmd1YWdlTW9kZWxVc2FnZSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICBsZXQgcmVjb3JkZWRSZXF1ZXN0OiBMYW5ndWFnZU1vZGVsUmVxdWVzdE1ldGFkYXRhID0ge307XG4gICAgbGV0IHJlY29yZGVkV2FybmluZ3M6IEFycmF5PENhbGxXYXJuaW5nPiA9IFtdO1xuICAgIGNvbnN0IHJlY29yZGVkU3RlcHM6IFN0ZXBSZXN1bHQ8VE9PTFM+W10gPSBbXTtcblxuICAgIGxldCByb290U3BhbiE6IFNwYW47XG5cbiAgICBsZXQgYWN0aXZlVGV4dENvbnRlbnQ6IFJlY29yZDxcbiAgICAgIHN0cmluZyxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ3RleHQnO1xuICAgICAgICB0ZXh0OiBzdHJpbmc7XG4gICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IFByb3ZpZGVyTWV0YWRhdGEgfCB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgPiA9IHt9O1xuXG4gICAgbGV0IGFjdGl2ZVJlYXNvbmluZ0NvbnRlbnQ6IFJlY29yZDxcbiAgICAgIHN0cmluZyxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ3JlYXNvbmluZyc7XG4gICAgICAgIHRleHQ6IHN0cmluZztcbiAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogUHJvdmlkZXJNZXRhZGF0YSB8IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICA+ID0ge307XG5cbiAgICBjb25zdCBldmVudFByb2Nlc3NvciA9IG5ldyBUcmFuc2Zvcm1TdHJlYW08XG4gICAgICBFbnJpY2hlZFN0cmVhbVBhcnQ8VE9PTFMsIFBBUlRJQUxfT1VUUFVUPixcbiAgICAgIEVucmljaGVkU3RyZWFtUGFydDxUT09MUywgUEFSVElBTF9PVVRQVVQ+XG4gICAgPih7XG4gICAgICBhc3luYyB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTsgLy8gZm9yd2FyZCB0aGUgY2h1bmsgdG8gdGhlIG5leHQgc3RyZWFtXG5cbiAgICAgICAgY29uc3QgeyBwYXJ0IH0gPSBjaHVuaztcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgcGFydC50eXBlID09PSAndGV4dC1kZWx0YScgfHxcbiAgICAgICAgICBwYXJ0LnR5cGUgPT09ICdyZWFzb25pbmctZGVsdGEnIHx8XG4gICAgICAgICAgcGFydC50eXBlID09PSAnc291cmNlJyB8fFxuICAgICAgICAgIHBhcnQudHlwZSA9PT0gJ3Rvb2wtY2FsbCcgfHxcbiAgICAgICAgICBwYXJ0LnR5cGUgPT09ICd0b29sLXJlc3VsdCcgfHxcbiAgICAgICAgICBwYXJ0LnR5cGUgPT09ICd0b29sLWlucHV0LXN0YXJ0JyB8fFxuICAgICAgICAgIHBhcnQudHlwZSA9PT0gJ3Rvb2wtaW5wdXQtZGVsdGEnIHx8XG4gICAgICAgICAgcGFydC50eXBlID09PSAncmF3J1xuICAgICAgICApIHtcbiAgICAgICAgICBhd2FpdCBvbkNodW5rPy4oeyBjaHVuazogcGFydCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICBhd2FpdCBvbkVycm9yKHsgZXJyb3I6IHdyYXBHYXRld2F5RXJyb3IocGFydC5lcnJvcikgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFydC50eXBlID09PSAndGV4dC1zdGFydCcpIHtcbiAgICAgICAgICBhY3RpdmVUZXh0Q29udGVudFtwYXJ0LmlkXSA9IHtcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogcGFydC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICByZWNvcmRlZENvbnRlbnQucHVzaChhY3RpdmVUZXh0Q29udGVudFtwYXJ0LmlkXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFydC50eXBlID09PSAndGV4dC1kZWx0YScpIHtcbiAgICAgICAgICBjb25zdCBhY3RpdmVUZXh0ID0gYWN0aXZlVGV4dENvbnRlbnRbcGFydC5pZF07XG5cbiAgICAgICAgICBpZiAoYWN0aXZlVGV4dCA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICBwYXJ0OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICBlcnJvcjogYHRleHQgcGFydCAke3BhcnQuaWR9IG5vdCBmb3VuZGAsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHBhcnRpYWxPdXRwdXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGFjdGl2ZVRleHQudGV4dCArPSBwYXJ0LnRleHQ7XG4gICAgICAgICAgYWN0aXZlVGV4dC5wcm92aWRlck1ldGFkYXRhID1cbiAgICAgICAgICAgIHBhcnQucHJvdmlkZXJNZXRhZGF0YSA/PyBhY3RpdmVUZXh0LnByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFydC50eXBlID09PSAndGV4dC1lbmQnKSB7XG4gICAgICAgICAgZGVsZXRlIGFjdGl2ZVRleHRDb250ZW50W3BhcnQuaWRdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ3JlYXNvbmluZy1zdGFydCcpIHtcbiAgICAgICAgICBhY3RpdmVSZWFzb25pbmdDb250ZW50W3BhcnQuaWRdID0ge1xuICAgICAgICAgICAgdHlwZTogJ3JlYXNvbmluZycsXG4gICAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmVjb3JkZWRDb250ZW50LnB1c2goYWN0aXZlUmVhc29uaW5nQ29udGVudFtwYXJ0LmlkXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFydC50eXBlID09PSAncmVhc29uaW5nLWRlbHRhJykge1xuICAgICAgICAgIGNvbnN0IGFjdGl2ZVJlYXNvbmluZyA9IGFjdGl2ZVJlYXNvbmluZ0NvbnRlbnRbcGFydC5pZF07XG5cbiAgICAgICAgICBpZiAoYWN0aXZlUmVhc29uaW5nID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgIHBhcnQ6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIGVycm9yOiBgcmVhc29uaW5nIHBhcnQgJHtwYXJ0LmlkfSBub3QgZm91bmRgLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBwYXJ0aWFsT3V0cHV0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhY3RpdmVSZWFzb25pbmcudGV4dCArPSBwYXJ0LnRleHQ7XG4gICAgICAgICAgYWN0aXZlUmVhc29uaW5nLnByb3ZpZGVyTWV0YWRhdGEgPVxuICAgICAgICAgICAgcGFydC5wcm92aWRlck1ldGFkYXRhID8/IGFjdGl2ZVJlYXNvbmluZy5wcm92aWRlck1ldGFkYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ3JlYXNvbmluZy1lbmQnKSB7XG4gICAgICAgICAgY29uc3QgYWN0aXZlUmVhc29uaW5nID0gYWN0aXZlUmVhc29uaW5nQ29udGVudFtwYXJ0LmlkXTtcblxuICAgICAgICAgIGlmIChhY3RpdmVSZWFzb25pbmcgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgcGFydDoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgZXJyb3I6IGByZWFzb25pbmcgcGFydCAke3BhcnQuaWR9IG5vdCBmb3VuZGAsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHBhcnRpYWxPdXRwdXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGFjdGl2ZVJlYXNvbmluZy5wcm92aWRlck1ldGFkYXRhID1cbiAgICAgICAgICAgIHBhcnQucHJvdmlkZXJNZXRhZGF0YSA/PyBhY3RpdmVSZWFzb25pbmcucHJvdmlkZXJNZXRhZGF0YTtcblxuICAgICAgICAgIGRlbGV0ZSBhY3RpdmVSZWFzb25pbmdDb250ZW50W3BhcnQuaWRdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgICAgcmVjb3JkZWRDb250ZW50LnB1c2goeyB0eXBlOiAnZmlsZScsIGZpbGU6IHBhcnQuZmlsZSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICdzb3VyY2UnKSB7XG4gICAgICAgICAgcmVjb3JkZWRDb250ZW50LnB1c2gocGFydCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFydC50eXBlID09PSAndG9vbC1jYWxsJykge1xuICAgICAgICAgIHJlY29yZGVkQ29udGVudC5wdXNoKHBhcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ3Rvb2wtcmVzdWx0JyAmJiAhcGFydC5wcmVsaW1pbmFyeSkge1xuICAgICAgICAgIHJlY29yZGVkQ29udGVudC5wdXNoKHBhcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ3Rvb2wtZXJyb3InKSB7XG4gICAgICAgICAgcmVjb3JkZWRDb250ZW50LnB1c2gocGFydCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFydC50eXBlID09PSAnc3RhcnQtc3RlcCcpIHtcbiAgICAgICAgICByZWNvcmRlZFJlcXVlc3QgPSBwYXJ0LnJlcXVlc3Q7XG4gICAgICAgICAgcmVjb3JkZWRXYXJuaW5ncyA9IHBhcnQud2FybmluZ3M7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFydC50eXBlID09PSAnZmluaXNoLXN0ZXAnKSB7XG4gICAgICAgICAgY29uc3Qgc3RlcE1lc3NhZ2VzID0gdG9SZXNwb25zZU1lc3NhZ2VzKHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IHJlY29yZGVkQ29udGVudCxcbiAgICAgICAgICAgIHRvb2xzLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gQWRkIHN0ZXAgaW5mb3JtYXRpb24gKGFmdGVyIHJlc3BvbnNlIG1lc3NhZ2VzIGFyZSB1cGRhdGVkKTpcbiAgICAgICAgICBjb25zdCBjdXJyZW50U3RlcFJlc3VsdDogU3RlcFJlc3VsdDxUT09MUz4gPSBuZXcgRGVmYXVsdFN0ZXBSZXN1bHQoe1xuICAgICAgICAgICAgY29udGVudDogcmVjb3JkZWRDb250ZW50LFxuICAgICAgICAgICAgZmluaXNoUmVhc29uOiBwYXJ0LmZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgIHVzYWdlOiBwYXJ0LnVzYWdlLFxuICAgICAgICAgICAgd2FybmluZ3M6IHJlY29yZGVkV2FybmluZ3MsXG4gICAgICAgICAgICByZXF1ZXN0OiByZWNvcmRlZFJlcXVlc3QsXG4gICAgICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgICAgICAuLi5wYXJ0LnJlc3BvbnNlLFxuICAgICAgICAgICAgICBtZXNzYWdlczogWy4uLnJlY29yZGVkUmVzcG9uc2VNZXNzYWdlcywgLi4uc3RlcE1lc3NhZ2VzXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBhd2FpdCBvblN0ZXBGaW5pc2g/LihjdXJyZW50U3RlcFJlc3VsdCk7XG5cbiAgICAgICAgICBsb2dXYXJuaW5ncyhyZWNvcmRlZFdhcm5pbmdzKTtcblxuICAgICAgICAgIHJlY29yZGVkU3RlcHMucHVzaChjdXJyZW50U3RlcFJlc3VsdCk7XG5cbiAgICAgICAgICByZWNvcmRlZENvbnRlbnQgPSBbXTtcbiAgICAgICAgICBhY3RpdmVSZWFzb25pbmdDb250ZW50ID0ge307XG4gICAgICAgICAgYWN0aXZlVGV4dENvbnRlbnQgPSB7fTtcblxuICAgICAgICAgIHJlY29yZGVkUmVzcG9uc2VNZXNzYWdlcy5wdXNoKC4uLnN0ZXBNZXNzYWdlcyk7XG5cbiAgICAgICAgICAvLyByZXNvbHZlIHRoZSBwcm9taXNlIHRvIHNpZ25hbCB0aGF0IHRoZSBzdGVwIGhhcyBiZWVuIGZ1bGx5IHByb2Nlc3NlZFxuICAgICAgICAgIC8vIGJ5IHRoZSBldmVudCBwcm9jZXNzb3I6XG4gICAgICAgICAgc3RlcEZpbmlzaC5yZXNvbHZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFydC50eXBlID09PSAnZmluaXNoJykge1xuICAgICAgICAgIHJlY29yZGVkVG90YWxVc2FnZSA9IHBhcnQudG90YWxVc2FnZTtcbiAgICAgICAgICByZWNvcmRlZEZpbmlzaFJlYXNvbiA9IHBhcnQuZmluaXNoUmVhc29uO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBhc3luYyBmbHVzaChjb250cm9sbGVyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHJlY29yZGVkU3RlcHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBOb091dHB1dEdlbmVyYXRlZEVycm9yKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogJ05vIG91dHB1dCBnZW5lcmF0ZWQuIENoZWNrIHRoZSBzdHJlYW0gZm9yIGVycm9ycy4nLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHNlbGYuX2ZpbmlzaFJlYXNvbi5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgc2VsZi5fdG90YWxVc2FnZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgc2VsZi5fc3RlcHMucmVqZWN0KGVycm9yKTtcblxuICAgICAgICAgICAgcmV0dXJuOyAvLyBubyBzdGVwcyByZWNvcmRlZCAoZS5nLiBpbiBlcnJvciBzY2VuYXJpbylcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBkZXJpdmVkOlxuICAgICAgICAgIGNvbnN0IGZpbmlzaFJlYXNvbiA9IHJlY29yZGVkRmluaXNoUmVhc29uID8/ICd1bmtub3duJztcbiAgICAgICAgICBjb25zdCB0b3RhbFVzYWdlID0gcmVjb3JkZWRUb3RhbFVzYWdlID8/IHtcbiAgICAgICAgICAgIGlucHV0VG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdXRwdXRUb2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRvdGFsVG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIGZyb20gZmluaXNoOlxuICAgICAgICAgIHNlbGYuX2ZpbmlzaFJlYXNvbi5yZXNvbHZlKGZpbmlzaFJlYXNvbik7XG4gICAgICAgICAgc2VsZi5fdG90YWxVc2FnZS5yZXNvbHZlKHRvdGFsVXNhZ2UpO1xuXG4gICAgICAgICAgLy8gYWdncmVnYXRlIHJlc3VsdHM6XG4gICAgICAgICAgc2VsZi5fc3RlcHMucmVzb2x2ZShyZWNvcmRlZFN0ZXBzKTtcblxuICAgICAgICAgIC8vIGNhbGwgb25GaW5pc2ggY2FsbGJhY2s6XG4gICAgICAgICAgY29uc3QgZmluYWxTdGVwID0gcmVjb3JkZWRTdGVwc1tyZWNvcmRlZFN0ZXBzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIGF3YWl0IG9uRmluaXNoPy4oe1xuICAgICAgICAgICAgZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgdG90YWxVc2FnZSxcbiAgICAgICAgICAgIHVzYWdlOiBmaW5hbFN0ZXAudXNhZ2UsXG4gICAgICAgICAgICBjb250ZW50OiBmaW5hbFN0ZXAuY29udGVudCxcbiAgICAgICAgICAgIHRleHQ6IGZpbmFsU3RlcC50ZXh0LFxuICAgICAgICAgICAgcmVhc29uaW5nVGV4dDogZmluYWxTdGVwLnJlYXNvbmluZ1RleHQsXG4gICAgICAgICAgICByZWFzb25pbmc6IGZpbmFsU3RlcC5yZWFzb25pbmcsXG4gICAgICAgICAgICBmaWxlczogZmluYWxTdGVwLmZpbGVzLFxuICAgICAgICAgICAgc291cmNlczogZmluYWxTdGVwLnNvdXJjZXMsXG4gICAgICAgICAgICB0b29sQ2FsbHM6IGZpbmFsU3RlcC50b29sQ2FsbHMsXG4gICAgICAgICAgICBzdGF0aWNUb29sQ2FsbHM6IGZpbmFsU3RlcC5zdGF0aWNUb29sQ2FsbHMsXG4gICAgICAgICAgICBkeW5hbWljVG9vbENhbGxzOiBmaW5hbFN0ZXAuZHluYW1pY1Rvb2xDYWxscyxcbiAgICAgICAgICAgIHRvb2xSZXN1bHRzOiBmaW5hbFN0ZXAudG9vbFJlc3VsdHMsXG4gICAgICAgICAgICBzdGF0aWNUb29sUmVzdWx0czogZmluYWxTdGVwLnN0YXRpY1Rvb2xSZXN1bHRzLFxuICAgICAgICAgICAgZHluYW1pY1Rvb2xSZXN1bHRzOiBmaW5hbFN0ZXAuZHluYW1pY1Rvb2xSZXN1bHRzLFxuICAgICAgICAgICAgcmVxdWVzdDogZmluYWxTdGVwLnJlcXVlc3QsXG4gICAgICAgICAgICByZXNwb25zZTogZmluYWxTdGVwLnJlc3BvbnNlLFxuICAgICAgICAgICAgd2FybmluZ3M6IGZpbmFsU3RlcC53YXJuaW5ncyxcbiAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IGZpbmFsU3RlcC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgc3RlcHM6IHJlY29yZGVkU3RlcHMsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBBZGQgcmVzcG9uc2UgaW5mb3JtYXRpb24gdG8gdGhlIHJvb3Qgc3BhbjpcbiAgICAgICAgICByb290U3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5maW5pc2hSZWFzb24nOiBmaW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnRleHQnOiB7IG91dHB1dDogKCkgPT4gZmluYWxTdGVwLnRleHQgfSxcbiAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UudG9vbENhbGxzJzoge1xuICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PlxuICAgICAgICAgICAgICAgICAgICBmaW5hbFN0ZXAudG9vbENhbGxzPy5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICA/IEpTT04uc3RyaW5naWZ5KGZpbmFsU3RlcC50b29sQ2FsbHMpXG4gICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YSc6IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICAgICAgZmluYWxTdGVwLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgKSxcblxuICAgICAgICAgICAgICAgICdhaS51c2FnZS5pbnB1dFRva2Vucyc6IHRvdGFsVXNhZ2UuaW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgJ2FpLnVzYWdlLm91dHB1dFRva2Vucyc6IHRvdGFsVXNhZ2Uub3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICdhaS51c2FnZS50b3RhbFRva2Vucyc6IHRvdGFsVXNhZ2UudG90YWxUb2tlbnMsXG4gICAgICAgICAgICAgICAgJ2FpLnVzYWdlLnJlYXNvbmluZ1Rva2Vucyc6IHRvdGFsVXNhZ2UucmVhc29uaW5nVG9rZW5zLFxuICAgICAgICAgICAgICAgICdhaS51c2FnZS5jYWNoZWRJbnB1dFRva2Vucyc6IHRvdGFsVXNhZ2UuY2FjaGVkSW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICApO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnRyb2xsZXIuZXJyb3IoZXJyb3IpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHJvb3RTcGFuLmVuZCgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gaW5pdGlhbGl6ZSB0aGUgc3RpdGNoYWJsZSBzdHJlYW0gYW5kIHRoZSB0cmFuc2Zvcm1lZCBzdHJlYW06XG4gICAgY29uc3Qgc3RpdGNoYWJsZVN0cmVhbSA9IGNyZWF0ZVN0aXRjaGFibGVTdHJlYW08VGV4dFN0cmVhbVBhcnQ8VE9PTFM+PigpO1xuICAgIHRoaXMuYWRkU3RyZWFtID0gc3RpdGNoYWJsZVN0cmVhbS5hZGRTdHJlYW07XG4gICAgdGhpcy5jbG9zZVN0cmVhbSA9IHN0aXRjaGFibGVTdHJlYW0uY2xvc2U7XG5cbiAgICAvLyByZXNpbGllbnQgc3RyZWFtIHRoYXQgaGFuZGxlcyBhYm9ydCBzaWduYWxzIGFuZCBlcnJvcnM6XG4gICAgY29uc3QgcmVhZGVyID0gc3RpdGNoYWJsZVN0cmVhbS5zdHJlYW0uZ2V0UmVhZGVyKCk7XG4gICAgbGV0IHN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbTxUZXh0U3RyZWFtUGFydDxUT09MUz4+KHtcbiAgICAgIGFzeW5jIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgICAgLy8gc2VuZCBzdGFydCBldmVudDpcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ3N0YXJ0JyB9KTtcbiAgICAgIH0sXG5cbiAgICAgIGFzeW5jIHB1bGwoY29udHJvbGxlcikge1xuICAgICAgICAvLyBhYm9ydCBoYW5kbGluZzpcbiAgICAgICAgZnVuY3Rpb24gYWJvcnQoKSB7XG4gICAgICAgICAgb25BYm9ydD8uKHsgc3RlcHM6IHJlY29yZGVkU3RlcHMgfSk7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ2Fib3J0JyB9KTtcbiAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG5cbiAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChhYm9ydFNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgICAgICAgYWJvcnQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUodmFsdWUpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGlmIChpc0Fib3J0RXJyb3IoZXJyb3IpICYmIGFib3J0U2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICBhYm9ydCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVycm9yKGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGNhbmNlbChyZWFzb24pIHtcbiAgICAgICAgcmV0dXJuIHN0aXRjaGFibGVTdHJlYW0uc3RyZWFtLmNhbmNlbChyZWFzb24pO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIHRyYW5zZm9ybSB0aGUgc3RyZWFtIGJlZm9yZSBvdXRwdXQgcGFyc2luZ1xuICAgIC8vIHRvIGVuYWJsZSByZXBsYWNlbWVudCBvZiBzdHJlYW0gc2VnbWVudHM6XG4gICAgZm9yIChjb25zdCB0cmFuc2Zvcm0gb2YgdHJhbnNmb3Jtcykge1xuICAgICAgc3RyZWFtID0gc3RyZWFtLnBpcGVUaHJvdWdoKFxuICAgICAgICB0cmFuc2Zvcm0oe1xuICAgICAgICAgIHRvb2xzOiB0b29scyBhcyBUT09MUyxcbiAgICAgICAgICBzdG9wU3RyZWFtKCkge1xuICAgICAgICAgICAgc3RpdGNoYWJsZVN0cmVhbS50ZXJtaW5hdGUoKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5iYXNlU3RyZWFtID0gc3RyZWFtXG4gICAgICAucGlwZVRocm91Z2goY3JlYXRlT3V0cHV0VHJhbnNmb3JtU3RyZWFtKG91dHB1dCkpXG4gICAgICAucGlwZVRocm91Z2goZXZlbnRQcm9jZXNzb3IpO1xuXG4gICAgY29uc3QgeyBtYXhSZXRyaWVzLCByZXRyeSB9ID0gcHJlcGFyZVJldHJpZXMoe1xuICAgICAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgICAgIGFib3J0U2lnbmFsLFxuICAgIH0pO1xuXG4gICAgY29uc3QgdHJhY2VyID0gZ2V0VHJhY2VyKHRlbGVtZXRyeSk7XG5cbiAgICBjb25zdCBjYWxsU2V0dGluZ3MgPSBwcmVwYXJlQ2FsbFNldHRpbmdzKHNldHRpbmdzKTtcblxuICAgIGNvbnN0IGJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzID0gZ2V0QmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgbW9kZWwsXG4gICAgICB0ZWxlbWV0cnksXG4gICAgICBoZWFkZXJzLFxuICAgICAgc2V0dGluZ3M6IHsgLi4uY2FsbFNldHRpbmdzLCBtYXhSZXRyaWVzIH0sXG4gICAgfSk7XG5cbiAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgIHJlY29yZFNwYW4oe1xuICAgICAgbmFtZTogJ2FpLnN0cmVhbVRleHQnLFxuICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7IG9wZXJhdGlvbklkOiAnYWkuc3RyZWFtVGV4dCcsIHRlbGVtZXRyeSB9KSxcbiAgICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgICAvLyBzcGVjaWZpYyBzZXR0aW5ncyB0aGF0IG9ubHkgbWFrZSBzZW5zZSBvbiB0aGUgb3V0ZXIgbGV2ZWw6XG4gICAgICAgICAgJ2FpLnByb21wdCc6IHtcbiAgICAgICAgICAgIGlucHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeSh7IHN5c3RlbSwgcHJvbXB0LCBtZXNzYWdlcyB9KSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgICB0cmFjZXIsXG4gICAgICBlbmRXaGVuRG9uZTogZmFsc2UsXG4gICAgICBmbjogYXN5bmMgcm9vdFNwYW5BcmcgPT4ge1xuICAgICAgICByb290U3BhbiA9IHJvb3RTcGFuQXJnO1xuXG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uIHN0cmVhbVN0ZXAoe1xuICAgICAgICAgIGN1cnJlbnRTdGVwLFxuICAgICAgICAgIHJlc3BvbnNlTWVzc2FnZXMsXG4gICAgICAgICAgdXNhZ2UsXG4gICAgICAgIH06IHtcbiAgICAgICAgICBjdXJyZW50U3RlcDogbnVtYmVyO1xuICAgICAgICAgIHJlc3BvbnNlTWVzc2FnZXM6IEFycmF5PFJlc3BvbnNlTWVzc2FnZT47XG4gICAgICAgICAgdXNhZ2U6IExhbmd1YWdlTW9kZWxVc2FnZTtcbiAgICAgICAgfSkge1xuICAgICAgICAgIGNvbnN0IGluY2x1ZGVSYXdDaHVua3MgPSBzZWxmLmluY2x1ZGVSYXdDaHVua3M7XG5cbiAgICAgICAgICBzdGVwRmluaXNoID0gbmV3IERlbGF5ZWRQcm9taXNlPHZvaWQ+KCk7XG5cbiAgICAgICAgICBjb25zdCBpbml0aWFsUHJvbXB0ID0gYXdhaXQgc3RhbmRhcmRpemVQcm9tcHQoe1xuICAgICAgICAgICAgc3lzdGVtLFxuICAgICAgICAgICAgcHJvbXB0LFxuICAgICAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgICAgfSBhcyBQcm9tcHQpO1xuXG4gICAgICAgICAgY29uc3Qgc3RlcElucHV0TWVzc2FnZXMgPSBbXG4gICAgICAgICAgICAuLi5pbml0aWFsUHJvbXB0Lm1lc3NhZ2VzLFxuICAgICAgICAgICAgLi4ucmVzcG9uc2VNZXNzYWdlcyxcbiAgICAgICAgICBdO1xuXG4gICAgICAgICAgY29uc3QgcHJlcGFyZVN0ZXBSZXN1bHQgPSBhd2FpdCBwcmVwYXJlU3RlcD8uKHtcbiAgICAgICAgICAgIG1vZGVsLFxuICAgICAgICAgICAgc3RlcHM6IHJlY29yZGVkU3RlcHMsXG4gICAgICAgICAgICBzdGVwTnVtYmVyOiByZWNvcmRlZFN0ZXBzLmxlbmd0aCxcbiAgICAgICAgICAgIG1lc3NhZ2VzOiBzdGVwSW5wdXRNZXNzYWdlcyxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNvbnN0IHByb21wdE1lc3NhZ2VzID0gYXdhaXQgY29udmVydFRvTGFuZ3VhZ2VNb2RlbFByb21wdCh7XG4gICAgICAgICAgICBwcm9tcHQ6IHtcbiAgICAgICAgICAgICAgc3lzdGVtOiBwcmVwYXJlU3RlcFJlc3VsdD8uc3lzdGVtID8/IGluaXRpYWxQcm9tcHQuc3lzdGVtLFxuICAgICAgICAgICAgICBtZXNzYWdlczogcHJlcGFyZVN0ZXBSZXN1bHQ/Lm1lc3NhZ2VzID8/IHN0ZXBJbnB1dE1lc3NhZ2VzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1cHBvcnRlZFVybHM6IGF3YWl0IG1vZGVsLnN1cHBvcnRlZFVybHMsXG4gICAgICAgICAgICBkb3dubG9hZCxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNvbnN0IHN0ZXBNb2RlbCA9IHJlc29sdmVMYW5ndWFnZU1vZGVsKFxuICAgICAgICAgICAgcHJlcGFyZVN0ZXBSZXN1bHQ/Lm1vZGVsID8/IG1vZGVsLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBjb25zdCB7IHRvb2xDaG9pY2U6IHN0ZXBUb29sQ2hvaWNlLCB0b29sczogc3RlcFRvb2xzIH0gPVxuICAgICAgICAgICAgcHJlcGFyZVRvb2xzQW5kVG9vbENob2ljZSh7XG4gICAgICAgICAgICAgIHRvb2xzLFxuICAgICAgICAgICAgICB0b29sQ2hvaWNlOiBwcmVwYXJlU3RlcFJlc3VsdD8udG9vbENob2ljZSA/PyB0b29sQ2hvaWNlLFxuICAgICAgICAgICAgICBhY3RpdmVUb29sczogcHJlcGFyZVN0ZXBSZXN1bHQ/LmFjdGl2ZVRvb2xzID8/IGFjdGl2ZVRvb2xzLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICByZXN1bHQ6IHsgc3RyZWFtLCByZXNwb25zZSwgcmVxdWVzdCB9LFxuICAgICAgICAgICAgZG9TdHJlYW1TcGFuLFxuICAgICAgICAgICAgc3RhcnRUaW1lc3RhbXBNcyxcbiAgICAgICAgICB9ID0gYXdhaXQgcmV0cnkoKCkgPT5cbiAgICAgICAgICAgIHJlY29yZFNwYW4oe1xuICAgICAgICAgICAgICBuYW1lOiAnYWkuc3RyZWFtVGV4dC5kb1N0cmVhbScsXG4gICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25JZDogJ2FpLnN0cmVhbVRleHQuZG9TdHJlYW0nLFxuICAgICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgLy8gbW9kZWw6XG4gICAgICAgICAgICAgICAgICAnYWkubW9kZWwucHJvdmlkZXInOiBzdGVwTW9kZWwucHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgICAnYWkubW9kZWwuaWQnOiBzdGVwTW9kZWwubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgIC8vIHByb21wdDpcbiAgICAgICAgICAgICAgICAgICdhaS5wcm9tcHQubWVzc2FnZXMnOiB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiAoKSA9PiBzdHJpbmdpZnlGb3JUZWxlbWV0cnkocHJvbXB0TWVzc2FnZXMpLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICdhaS5wcm9tcHQudG9vbHMnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgdGhlIGxhbmd1YWdlIG1vZGVsIGxldmVsIHRvb2xzOlxuICAgICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT4gc3RlcFRvb2xzPy5tYXAodG9vbCA9PiBKU09OLnN0cmluZ2lmeSh0b29sKSksXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgJ2FpLnByb21wdC50b29sQ2hvaWNlJzoge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICBzdGVwVG9vbENob2ljZSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICA/IEpTT04uc3RyaW5naWZ5KHN0ZXBUb29sQ2hvaWNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZGl6ZWQgZ2VuLWFpIGxsbSBzcGFuIGF0dHJpYnV0ZXM6XG4gICAgICAgICAgICAgICAgICAnZ2VuX2FpLnN5c3RlbSc6IHN0ZXBNb2RlbC5wcm92aWRlcixcbiAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC5tb2RlbCc6IHN0ZXBNb2RlbC5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LmZyZXF1ZW5jeV9wZW5hbHR5JzpcbiAgICAgICAgICAgICAgICAgICAgY2FsbFNldHRpbmdzLmZyZXF1ZW5jeVBlbmFsdHksXG4gICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QubWF4X3Rva2Vucyc6IGNhbGxTZXR0aW5ncy5tYXhPdXRwdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QucHJlc2VuY2VfcGVuYWx0eSc6XG4gICAgICAgICAgICAgICAgICAgIGNhbGxTZXR0aW5ncy5wcmVzZW5jZVBlbmFsdHksXG4gICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3Quc3RvcF9zZXF1ZW5jZXMnOiBjYWxsU2V0dGluZ3Muc3RvcFNlcXVlbmNlcyxcbiAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC50ZW1wZXJhdHVyZSc6IGNhbGxTZXR0aW5ncy50ZW1wZXJhdHVyZSxcbiAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC50b3Bfayc6IGNhbGxTZXR0aW5ncy50b3BLLFxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnRvcF9wJzogY2FsbFNldHRpbmdzLnRvcFAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIHRyYWNlcixcbiAgICAgICAgICAgICAgZW5kV2hlbkRvbmU6IGZhbHNlLFxuICAgICAgICAgICAgICBmbjogYXN5bmMgZG9TdHJlYW1TcGFuID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lc3RhbXBNczogbm93KCksIC8vIGdldCBiZWZvcmUgdGhlIGNhbGxcbiAgICAgICAgICAgICAgICAgIGRvU3RyZWFtU3BhbixcbiAgICAgICAgICAgICAgICAgIHJlc3VsdDogYXdhaXQgc3RlcE1vZGVsLmRvU3RyZWFtKHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY2FsbFNldHRpbmdzLFxuICAgICAgICAgICAgICAgICAgICB0b29sczogc3RlcFRvb2xzLFxuICAgICAgICAgICAgICAgICAgICB0b29sQ2hvaWNlOiBzdGVwVG9vbENob2ljZSxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VGb3JtYXQ6IG91dHB1dD8ucmVzcG9uc2VGb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgIHByb21wdDogcHJvbXB0TWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1ZGVSYXdDaHVua3MsXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGNvbnN0IHN0cmVhbVdpdGhUb29sUmVzdWx0cyA9IHJ1blRvb2xzVHJhbnNmb3JtYXRpb24oe1xuICAgICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgICBnZW5lcmF0b3JTdHJlYW06IHN0cmVhbSxcbiAgICAgICAgICAgIHRyYWNlcixcbiAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgIHN5c3RlbSxcbiAgICAgICAgICAgIG1lc3NhZ2VzOiBzdGVwSW5wdXRNZXNzYWdlcyxcbiAgICAgICAgICAgIHJlcGFpclRvb2xDYWxsLFxuICAgICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgICBleHBlcmltZW50YWxfY29udGV4dCxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNvbnN0IHN0ZXBSZXF1ZXN0ID0gcmVxdWVzdCA/PyB7fTtcbiAgICAgICAgICBjb25zdCBzdGVwVG9vbENhbGxzOiBUeXBlZFRvb2xDYWxsPFRPT0xTPltdID0gW107XG4gICAgICAgICAgY29uc3Qgc3RlcFRvb2xPdXRwdXRzOiBUb29sT3V0cHV0PFRPT0xTPltdID0gW107XG4gICAgICAgICAgbGV0IHdhcm5pbmdzOiBMYW5ndWFnZU1vZGVsVjJDYWxsV2FybmluZ1tdIHwgdW5kZWZpbmVkO1xuXG4gICAgICAgICAgY29uc3QgYWN0aXZlVG9vbENhbGxUb29sTmFtZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuICAgICAgICAgIGxldCBzdGVwRmluaXNoUmVhc29uOiBGaW5pc2hSZWFzb24gPSAndW5rbm93bic7XG4gICAgICAgICAgbGV0IHN0ZXBVc2FnZTogTGFuZ3VhZ2VNb2RlbFVzYWdlID0ge1xuICAgICAgICAgICAgaW5wdXRUb2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG91dHB1dFRva2VuczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdG90YWxUb2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGxldCBzdGVwUHJvdmlkZXJNZXRhZGF0YTogUHJvdmlkZXJNZXRhZGF0YSB8IHVuZGVmaW5lZDtcbiAgICAgICAgICBsZXQgc3RlcEZpcnN0Q2h1bmsgPSB0cnVlO1xuICAgICAgICAgIGxldCBzdGVwUmVzcG9uc2U6IHsgaWQ6IHN0cmluZzsgdGltZXN0YW1wOiBEYXRlOyBtb2RlbElkOiBzdHJpbmcgfSA9IHtcbiAgICAgICAgICAgIGlkOiBnZW5lcmF0ZUlkKCksXG4gICAgICAgICAgICB0aW1lc3RhbXA6IGN1cnJlbnREYXRlKCksXG4gICAgICAgICAgICBtb2RlbElkOiBtb2RlbC5tb2RlbElkLFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyByYXcgdGV4dCBhcyBpdCBjb21lcyBmcm9tIHRoZSBwcm92aWRlci4gcmVjb3JkZWQgZm9yIHRlbGVtZXRyeS5cbiAgICAgICAgICBsZXQgYWN0aXZlVGV4dCA9ICcnO1xuXG4gICAgICAgICAgc2VsZi5hZGRTdHJlYW0oXG4gICAgICAgICAgICBzdHJlYW1XaXRoVG9vbFJlc3VsdHMucGlwZVRocm91Z2goXG4gICAgICAgICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08XG4gICAgICAgICAgICAgICAgU2luZ2xlUmVxdWVzdFRleHRTdHJlYW1QYXJ0PFRPT0xTPixcbiAgICAgICAgICAgICAgICBUZXh0U3RyZWFtUGFydDxUT09MUz5cbiAgICAgICAgICAgICAgPih7XG4gICAgICAgICAgICAgICAgYXN5bmMgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgICAgICAgICAgICBpZiAoY2h1bmsudHlwZSA9PT0gJ3N0cmVhbS1zdGFydCcpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybmluZ3MgPSBjaHVuay53YXJuaW5ncztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBzdHJlYW0gc3RhcnQgY2h1bmtzIGFyZSBzZW50IGltbWVkaWF0ZWx5IGFuZCBkbyBub3QgY291bnQgYXMgZmlyc3QgY2h1bmtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgaWYgKHN0ZXBGaXJzdENodW5rKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRlbGVtZXRyeSBmb3IgZmlyc3QgY2h1bms6XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1zVG9GaXJzdENodW5rID0gbm93KCkgLSBzdGFydFRpbWVzdGFtcE1zO1xuXG4gICAgICAgICAgICAgICAgICAgIHN0ZXBGaXJzdENodW5rID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgZG9TdHJlYW1TcGFuLmFkZEV2ZW50KCdhaS5zdHJlYW0uZmlyc3RDaHVuaycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UubXNUb0ZpcnN0Q2h1bmsnOiBtc1RvRmlyc3RDaHVuayxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZG9TdHJlYW1TcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5tc1RvRmlyc3RDaHVuayc6IG1zVG9GaXJzdENodW5rLFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBTdGVwIHN0YXJ0OlxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdGFydC1zdGVwJyxcbiAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0OiBzdGVwUmVxdWVzdCxcbiAgICAgICAgICAgICAgICAgICAgICB3YXJuaW5nczogd2FybmluZ3MgPz8gW10sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBjb25zdCBjaHVua1R5cGUgPSBjaHVuay50eXBlO1xuICAgICAgICAgICAgICAgICAgc3dpdGNoIChjaHVua1R5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndGV4dC1zdGFydCc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RleHQtZW5kJzoge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjYXNlICd0ZXh0LWRlbHRhJzoge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChjaHVuay5kZWx0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dC1kZWx0YScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjaHVuay5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogY2h1bmsuZGVsdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IGNodW5rLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVRleHQgKz0gY2h1bmsuZGVsdGE7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVhc29uaW5nLXN0YXJ0JzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVhc29uaW5nLWVuZCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVhc29uaW5nLWRlbHRhJzoge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncmVhc29uaW5nLWRlbHRhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjaHVuay5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGNodW5rLmRlbHRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogY2h1bmsucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Rvb2wtY2FsbCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgIC8vIHN0b3JlIHRvb2wgY2FsbHMgZm9yIG9uRmluaXNoIGNhbGxiYWNrIGFuZCB0b29sQ2FsbHMgcHJvbWlzZTpcbiAgICAgICAgICAgICAgICAgICAgICBzdGVwVG9vbENhbGxzLnB1c2goY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9vbC1yZXN1bHQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcblxuICAgICAgICAgICAgICAgICAgICAgIGlmICghY2h1bmsucHJlbGltaW5hcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBUb29sT3V0cHV0cy5wdXNoKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Rvb2wtZXJyb3InOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICBzdGVwVG9vbE91dHB1dHMucHVzaChjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdyZXNwb25zZS1tZXRhZGF0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICBzdGVwUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogY2h1bmsuaWQgPz8gc3RlcFJlc3BvbnNlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBjaHVuay50aW1lc3RhbXAgPz8gc3RlcFJlc3BvbnNlLnRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsSWQ6IGNodW5rLm1vZGVsSWQgPz8gc3RlcFJlc3BvbnNlLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2ZpbmlzaCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBOb3RlOiB0b29sIGV4ZWN1dGlvbnMgbWlnaHQgbm90IGJlIGZpbmlzaGVkIHlldCB3aGVuIHRoZSBmaW5pc2ggZXZlbnQgaXMgZW1pdHRlZC5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBzdG9yZSB1c2FnZSBhbmQgZmluaXNoIHJlYXNvbiBmb3IgcHJvbWlzZXMgYW5kIG9uRmluaXNoIGNhbGxiYWNrOlxuICAgICAgICAgICAgICAgICAgICAgIHN0ZXBVc2FnZSA9IGNodW5rLnVzYWdlO1xuICAgICAgICAgICAgICAgICAgICAgIHN0ZXBGaW5pc2hSZWFzb24gPSBjaHVuay5maW5pc2hSZWFzb247XG4gICAgICAgICAgICAgICAgICAgICAgc3RlcFByb3ZpZGVyTWV0YWRhdGEgPSBjaHVuay5wcm92aWRlck1ldGFkYXRhO1xuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gVGVsZW1ldHJ5IGZvciBmaW5pc2ggZXZlbnQgdGltaW5nXG4gICAgICAgICAgICAgICAgICAgICAgLy8gKHNpbmNlIHRvb2wgZXhlY3V0aW9ucyBjYW4gdGFrZSBsb25nZXIgYW5kIGRpc3RvcnQgY2FsY3VsYXRpb25zKVxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1zVG9GaW5pc2ggPSBub3coKSAtIHN0YXJ0VGltZXN0YW1wTXM7XG4gICAgICAgICAgICAgICAgICAgICAgZG9TdHJlYW1TcGFuLmFkZEV2ZW50KCdhaS5zdHJlYW0uZmluaXNoJyk7XG4gICAgICAgICAgICAgICAgICAgICAgZG9TdHJlYW1TcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLm1zVG9GaW5pc2gnOiBtc1RvRmluaXNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLmF2Z091dHB1dFRva2Vuc1BlclNlY29uZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICgxMDAwICogKHN0ZXBVc2FnZS5vdXRwdXRUb2tlbnMgPz8gMCkpIC8gbXNUb0ZpbmlzaCxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZmlsZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc291cmNlJzoge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjYXNlICd0b29sLWlucHV0LXN0YXJ0Jzoge1xuICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVRvb2xDYWxsVG9vbE5hbWVzW2NodW5rLmlkXSA9IGNodW5rLnRvb2xOYW1lO1xuXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9vbCA9IHRvb2xzPy5bY2h1bmsudG9vbE5hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0b29sPy5vbklucHV0U3RhcnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdG9vbC5vbklucHV0U3RhcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXM6IHN0ZXBJbnB1dE1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZXJpbWVudGFsX2NvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY2h1bmssXG4gICAgICAgICAgICAgICAgICAgICAgICBkeW5hbWljOiB0b29sPy50eXBlID09PSAnZHluYW1pYycsXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjYXNlICd0b29sLWlucHV0LWVuZCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYWN0aXZlVG9vbENhbGxUb29sTmFtZXNbY2h1bmsuaWRdO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjYXNlICd0b29sLWlucHV0LWRlbHRhJzoge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xOYW1lID0gYWN0aXZlVG9vbENhbGxUb29sTmFtZXNbY2h1bmsuaWRdO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvb2wgPSB0b29scz8uW3Rvb2xOYW1lXTtcblxuICAgICAgICAgICAgICAgICAgICAgIGlmICh0b29sPy5vbklucHV0RGVsdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdG9vbC5vbklucHV0RGVsdGEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFRleHREZWx0YTogY2h1bmsuZGVsdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlczogc3RlcElucHV0TWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBleHBlcmltZW50YWxfY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdlcnJvcic6IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgIHN0ZXBGaW5pc2hSZWFzb24gPSAnZXJyb3InO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmF3Jzoge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmNsdWRlUmF3Q2h1bmtzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleGhhdXN0aXZlQ2hlY2s6IG5ldmVyID0gY2h1bmtUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBjaHVuayB0eXBlOiAke2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAvLyBpbnZva2Ugb25GaW5pc2ggY2FsbGJhY2sgYW5kIHJlc29sdmUgdG9vbFJlc3VsdHMgcHJvbWlzZSB3aGVuIHRoZSBzdHJlYW0gaXMgYWJvdXQgdG8gY2xvc2U6XG4gICAgICAgICAgICAgICAgYXN5bmMgZmx1c2goY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgY29uc3Qgc3RlcFRvb2xDYWxsc0pzb24gPVxuICAgICAgICAgICAgICAgICAgICBzdGVwVG9vbENhbGxzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICA/IEpTT04uc3RyaW5naWZ5KHN0ZXBUb29sQ2FsbHMpXG4gICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgIC8vIHJlY29yZCB0ZWxlbWV0cnkgaW5mb3JtYXRpb24gZmlyc3QgdG8gZW5zdXJlIGJlc3QgZWZmb3J0IHRpbWluZ1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZG9TdHJlYW1TcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICAgICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5maW5pc2hSZWFzb24nOiBzdGVwRmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UudGV4dCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IGFjdGl2ZVRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS50b29sQ2FsbHMnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBzdGVwVG9vbENhbGxzSnNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLmlkJzogc3RlcFJlc3BvbnNlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UubW9kZWwnOiBzdGVwUmVzcG9uc2UubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnRpbWVzdGFtcCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcFJlc3BvbnNlLnRpbWVzdGFtcC50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoc3RlcFByb3ZpZGVyTWV0YWRhdGEpLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS5pbnB1dFRva2Vucyc6IHN0ZXBVc2FnZS5pbnB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLm91dHB1dFRva2Vucyc6IHN0ZXBVc2FnZS5vdXRwdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS50b3RhbFRva2Vucyc6IHN0ZXBVc2FnZS50b3RhbFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLnJlYXNvbmluZ1Rva2Vucyc6IHN0ZXBVc2FnZS5yZWFzb25pbmdUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS5jYWNoZWRJbnB1dFRva2Vucyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcFVzYWdlLmNhY2hlZElucHV0VG9rZW5zLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0YW5kYXJkaXplZCBnZW4tYWkgbGxtIHNwYW4gYXR0cmlidXRlczpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXNwb25zZS5maW5pc2hfcmVhc29ucyc6IFtzdGVwRmluaXNoUmVhc29uXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXNwb25zZS5pZCc6IHN0ZXBSZXNwb25zZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXNwb25zZS5tb2RlbCc6IHN0ZXBSZXNwb25zZS5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnVzYWdlLmlucHV0X3Rva2Vucyc6IHN0ZXBVc2FnZS5pbnB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS51c2FnZS5vdXRwdXRfdG9rZW5zJzogc3RlcFVzYWdlLm91dHB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUgZXJyb3Igc2V0dGluZyB0ZWxlbWV0cnkgYXR0cmlidXRlc1xuICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmluaXNoIGRvU3RyZWFtU3BhbiBiZWZvcmUgb3RoZXIgb3BlcmF0aW9ucyBmb3IgY29ycmVjdCB0aW1pbmc6XG4gICAgICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5lbmQoKTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpbmlzaC1zdGVwJyxcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoUmVhc29uOiBzdGVwRmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICAgICAgICB1c2FnZTogc3RlcFVzYWdlLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBzdGVwUHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgICAgICAgICAgICAgICAuLi5zdGVwUmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogcmVzcG9uc2U/LmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgY29uc3QgY29tYmluZWRVc2FnZSA9IGFkZExhbmd1YWdlTW9kZWxVc2FnZSh1c2FnZSwgc3RlcFVzYWdlKTtcblxuICAgICAgICAgICAgICAgICAgLy8gd2FpdCBmb3IgdGhlIHN0ZXAgdG8gYmUgZnVsbHkgcHJvY2Vzc2VkIGJ5IHRoZSBldmVudCBwcm9jZXNzb3JcbiAgICAgICAgICAgICAgICAgIC8vIHRvIGVuc3VyZSB0aGF0IHRoZSByZWNvcmRlZCBzdGVwcyBhcmUgY29tcGxldGU6XG4gICAgICAgICAgICAgICAgICBhd2FpdCBzdGVwRmluaXNoLnByb21pc2U7XG5cbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNsaWVudFRvb2xDYWxscyA9IHN0ZXBUb29sQ2FsbHMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbCA9PiB0b29sQ2FsbC5wcm92aWRlckV4ZWN1dGVkICE9PSB0cnVlLFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNsaWVudFRvb2xPdXRwdXRzID0gc3RlcFRvb2xPdXRwdXRzLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgdG9vbE91dHB1dCA9PiB0b29sT3V0cHV0LnByb3ZpZGVyRXhlY3V0ZWQgIT09IHRydWUsXG4gICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudFRvb2xDYWxscy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbCBjdXJyZW50IHRvb2wgY2FsbHMgaGF2ZSBvdXRwdXRzIChpbmNsLiBleGVjdXRpb24gZXJyb3JzKTpcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50VG9vbE91dHB1dHMubGVuZ3RoID09PSBjbGllbnRUb29sQ2FsbHMubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnRpbnVlIHVudGlsIGEgc3RvcCBjb25kaXRpb24gaXMgbWV0OlxuICAgICAgICAgICAgICAgICAgICAhKGF3YWl0IGlzU3RvcENvbmRpdGlvbk1ldCh7XG4gICAgICAgICAgICAgICAgICAgICAgc3RvcENvbmRpdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgc3RlcHM6IHJlY29yZGVkU3RlcHMsXG4gICAgICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFwcGVuZCB0byBtZXNzYWdlcyBmb3IgdGhlIG5leHQgc3RlcDpcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VNZXNzYWdlcy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICAgIC4uLnRvUmVzcG9uc2VNZXNzYWdlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB1c2UgdHJhbnNmb3JtZWQgY29udGVudCB0byBjcmVhdGUgdGhlIG1lc3NhZ2VzIGZvciB0aGUgbmV4dCBzdGVwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmRlZFN0ZXBzW3JlY29yZGVkU3RlcHMubGVuZ3RoIC0gMV0uY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xzLFxuICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RyZWFtU3RlcCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RlcDogY3VycmVudFN0ZXAgKyAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VNZXNzYWdlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzYWdlOiBjb21iaW5lZFVzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNsb3NlU3RyZWFtKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpbmlzaCcsXG4gICAgICAgICAgICAgICAgICAgICAgZmluaXNoUmVhc29uOiBzdGVwRmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICAgICAgICAgIHRvdGFsVXNhZ2U6IGNvbWJpbmVkVXNhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY2xvc2VTdHJlYW0oKTsgLy8gY2xvc2UgdGhlIHN0aXRjaGFibGUgc3RyZWFtXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICApLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgdGhlIGluaXRpYWwgc3RyZWFtIHRvIHRoZSBzdGl0Y2hhYmxlIHN0cmVhbVxuICAgICAgICBhd2FpdCBzdHJlYW1TdGVwKHtcbiAgICAgICAgICBjdXJyZW50U3RlcDogMCxcbiAgICAgICAgICByZXNwb25zZU1lc3NhZ2VzOiBbXSxcbiAgICAgICAgICB1c2FnZToge1xuICAgICAgICAgICAgaW5wdXRUb2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG91dHB1dFRva2VuczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdG90YWxUb2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgLy8gYWRkIGFuIGVycm9yIHN0cmVhbSBwYXJ0IGFuZCBjbG9zZSB0aGUgc3RyZWFtczpcbiAgICAgIHNlbGYuYWRkU3RyZWFtKFxuICAgICAgICBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgICAgICAgIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICdlcnJvcicsIGVycm9yIH0pO1xuICAgICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICAgIHNlbGYuY2xvc2VTdHJlYW0oKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldCBzdGVwcygpIHtcbiAgICAvLyB3aGVuIGFueSBvZiB0aGUgcHJvbWlzZXMgYXJlIGFjY2Vzc2VkLCB0aGUgc3RyZWFtIGlzIGNvbnN1bWVkXG4gICAgLy8gc28gaXQgcmVzb2x2ZXMgd2l0aG91dCBuZWVkaW5nIHRvIGNvbnN1bWUgdGhlIHN0cmVhbSBzZXBhcmF0ZWx5XG4gICAgdGhpcy5jb25zdW1lU3RyZWFtKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fc3RlcHMucHJvbWlzZTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0IGZpbmFsU3RlcCgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGVwcy50aGVuKHN0ZXBzID0+IHN0ZXBzW3N0ZXBzLmxlbmd0aCAtIDFdKTtcbiAgfVxuXG4gIGdldCBjb250ZW50KCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50aGVuKHN0ZXAgPT4gc3RlcC5jb250ZW50KTtcbiAgfVxuXG4gIGdldCB3YXJuaW5ncygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudGhlbihzdGVwID0+IHN0ZXAud2FybmluZ3MpO1xuICB9XG5cbiAgZ2V0IHByb3ZpZGVyTWV0YWRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLnByb3ZpZGVyTWV0YWRhdGEpO1xuICB9XG5cbiAgZ2V0IHRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLnRleHQpO1xuICB9XG5cbiAgZ2V0IHJlYXNvbmluZ1RleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLnJlYXNvbmluZ1RleHQpO1xuICB9XG5cbiAgZ2V0IHJlYXNvbmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudGhlbihzdGVwID0+IHN0ZXAucmVhc29uaW5nKTtcbiAgfVxuXG4gIGdldCBzb3VyY2VzKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50aGVuKHN0ZXAgPT4gc3RlcC5zb3VyY2VzKTtcbiAgfVxuXG4gIGdldCBmaWxlcygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudGhlbihzdGVwID0+IHN0ZXAuZmlsZXMpO1xuICB9XG5cbiAgZ2V0IHRvb2xDYWxscygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudGhlbihzdGVwID0+IHN0ZXAudG9vbENhbGxzKTtcbiAgfVxuXG4gIGdldCBzdGF0aWNUb29sQ2FsbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLnN0YXRpY1Rvb2xDYWxscyk7XG4gIH1cblxuICBnZXQgZHluYW1pY1Rvb2xDYWxscygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudGhlbihzdGVwID0+IHN0ZXAuZHluYW1pY1Rvb2xDYWxscyk7XG4gIH1cblxuICBnZXQgdG9vbFJlc3VsdHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLnRvb2xSZXN1bHRzKTtcbiAgfVxuXG4gIGdldCBzdGF0aWNUb29sUmVzdWx0cygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudGhlbihzdGVwID0+IHN0ZXAuc3RhdGljVG9vbFJlc3VsdHMpO1xuICB9XG5cbiAgZ2V0IGR5bmFtaWNUb29sUmVzdWx0cygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudGhlbihzdGVwID0+IHN0ZXAuZHluYW1pY1Rvb2xSZXN1bHRzKTtcbiAgfVxuXG4gIGdldCB1c2FnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudGhlbihzdGVwID0+IHN0ZXAudXNhZ2UpO1xuICB9XG5cbiAgZ2V0IHJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLnJlcXVlc3QpO1xuICB9XG5cbiAgZ2V0IHJlc3BvbnNlKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50aGVuKHN0ZXAgPT4gc3RlcC5yZXNwb25zZSk7XG4gIH1cblxuICBnZXQgdG90YWxVc2FnZSgpIHtcbiAgICAvLyB3aGVuIGFueSBvZiB0aGUgcHJvbWlzZXMgYXJlIGFjY2Vzc2VkLCB0aGUgc3RyZWFtIGlzIGNvbnN1bWVkXG4gICAgLy8gc28gaXQgcmVzb2x2ZXMgd2l0aG91dCBuZWVkaW5nIHRvIGNvbnN1bWUgdGhlIHN0cmVhbSBzZXBhcmF0ZWx5XG4gICAgdGhpcy5jb25zdW1lU3RyZWFtKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fdG90YWxVc2FnZS5wcm9taXNlO1xuICB9XG5cbiAgZ2V0IGZpbmlzaFJlYXNvbigpIHtcbiAgICAvLyB3aGVuIGFueSBvZiB0aGUgcHJvbWlzZXMgYXJlIGFjY2Vzc2VkLCB0aGUgc3RyZWFtIGlzIGNvbnN1bWVkXG4gICAgLy8gc28gaXQgcmVzb2x2ZXMgd2l0aG91dCBuZWVkaW5nIHRvIGNvbnN1bWUgdGhlIHN0cmVhbSBzZXBhcmF0ZWx5XG4gICAgdGhpcy5jb25zdW1lU3RyZWFtKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fZmluaXNoUmVhc29uLnByb21pc2U7XG4gIH1cblxuICAvKipcblNwbGl0IG91dCBhIG5ldyBzdHJlYW0gZnJvbSB0aGUgb3JpZ2luYWwgc3RyZWFtLlxuVGhlIG9yaWdpbmFsIHN0cmVhbSBpcyByZXBsYWNlZCB0byBhbGxvdyBmb3IgZnVydGhlciBzcGxpdHRpbmcsXG5zaW5jZSB3ZSBkbyBub3Qga25vdyBob3cgbWFueSB0aW1lcyB0aGUgc3RyZWFtIHdpbGwgYmUgc3BsaXQuXG5cbk5vdGU6IHRoaXMgbGVhZHMgdG8gYnVmZmVyaW5nIHRoZSBzdHJlYW0gY29udGVudCBvbiB0aGUgc2VydmVyLlxuSG93ZXZlciwgdGhlIExMTSByZXN1bHRzIGFyZSBleHBlY3RlZCB0byBiZSBzbWFsbCBlbm91Z2ggdG8gbm90IGNhdXNlIGlzc3Vlcy5cbiAgICovXG4gIHByaXZhdGUgdGVlU3RyZWFtKCkge1xuICAgIGNvbnN0IFtzdHJlYW0xLCBzdHJlYW0yXSA9IHRoaXMuYmFzZVN0cmVhbS50ZWUoKTtcbiAgICB0aGlzLmJhc2VTdHJlYW0gPSBzdHJlYW0yO1xuICAgIHJldHVybiBzdHJlYW0xO1xuICB9XG5cbiAgZ2V0IHRleHRTdHJlYW0oKTogQXN5bmNJdGVyYWJsZVN0cmVhbTxzdHJpbmc+IHtcbiAgICByZXR1cm4gY3JlYXRlQXN5bmNJdGVyYWJsZVN0cmVhbShcbiAgICAgIHRoaXMudGVlU3RyZWFtKCkucGlwZVRocm91Z2goXG4gICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08RW5yaWNoZWRTdHJlYW1QYXJ0PFRPT0xTLCBQQVJUSUFMX09VVFBVVD4sIHN0cmluZz4oe1xuICAgICAgICAgIHRyYW5zZm9ybSh7IHBhcnQgfSwgY29udHJvbGxlcikge1xuICAgICAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ3RleHQtZGVsdGEnKSB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShwYXJ0LnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgZ2V0IGZ1bGxTdHJlYW0oKTogQXN5bmNJdGVyYWJsZVN0cmVhbTxUZXh0U3RyZWFtUGFydDxUT09MUz4+IHtcbiAgICByZXR1cm4gY3JlYXRlQXN5bmNJdGVyYWJsZVN0cmVhbShcbiAgICAgIHRoaXMudGVlU3RyZWFtKCkucGlwZVRocm91Z2goXG4gICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08XG4gICAgICAgICAgRW5yaWNoZWRTdHJlYW1QYXJ0PFRPT0xTLCBQQVJUSUFMX09VVFBVVD4sXG4gICAgICAgICAgVGV4dFN0cmVhbVBhcnQ8VE9PTFM+XG4gICAgICAgID4oe1xuICAgICAgICAgIHRyYW5zZm9ybSh7IHBhcnQgfSwgY29udHJvbGxlcikge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHBhcnQpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgYXN5bmMgY29uc3VtZVN0cmVhbShvcHRpb25zPzogQ29uc3VtZVN0cmVhbU9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgY29uc3VtZVN0cmVhbSh7XG4gICAgICAgIHN0cmVhbTogdGhpcy5mdWxsU3RyZWFtLFxuICAgICAgICBvbkVycm9yOiBvcHRpb25zPy5vbkVycm9yLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG9wdGlvbnM/Lm9uRXJyb3I/LihlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGV4cGVyaW1lbnRhbF9wYXJ0aWFsT3V0cHV0U3RyZWFtKCk6IEFzeW5jSXRlcmFibGVTdHJlYW08UEFSVElBTF9PVVRQVVQ+IHtcbiAgICBpZiAodGhpcy5vdXRwdXQgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IE5vT3V0cHV0U3BlY2lmaWVkRXJyb3IoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlQXN5bmNJdGVyYWJsZVN0cmVhbShcbiAgICAgIHRoaXMudGVlU3RyZWFtKCkucGlwZVRocm91Z2goXG4gICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08XG4gICAgICAgICAgRW5yaWNoZWRTdHJlYW1QYXJ0PFRPT0xTLCBQQVJUSUFMX09VVFBVVD4sXG4gICAgICAgICAgUEFSVElBTF9PVVRQVVRcbiAgICAgICAgPih7XG4gICAgICAgICAgdHJhbnNmb3JtKHsgcGFydGlhbE91dHB1dCB9LCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBpZiAocGFydGlhbE91dHB1dCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShwYXJ0aWFsT3V0cHV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIHRvVUlNZXNzYWdlU3RyZWFtPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+KHtcbiAgICBvcmlnaW5hbE1lc3NhZ2VzLFxuICAgIGdlbmVyYXRlTWVzc2FnZUlkLFxuICAgIG9uRmluaXNoLFxuICAgIG1lc3NhZ2VNZXRhZGF0YSxcbiAgICBzZW5kUmVhc29uaW5nID0gdHJ1ZSxcbiAgICBzZW5kU291cmNlcyA9IGZhbHNlLFxuICAgIHNlbmRTdGFydCA9IHRydWUsXG4gICAgc2VuZEZpbmlzaCA9IHRydWUsXG4gICAgb25FcnJvciA9IGdldEVycm9yTWVzc2FnZSxcbiAgfTogVUlNZXNzYWdlU3RyZWFtT3B0aW9uczxVSV9NRVNTQUdFPiA9IHt9KTogQXN5bmNJdGVyYWJsZVN0cmVhbTxcbiAgICBJbmZlclVJTWVzc2FnZUNodW5rPFVJX01FU1NBR0U+XG4gID4ge1xuICAgIGNvbnN0IHJlc3BvbnNlTWVzc2FnZUlkID1cbiAgICAgIGdlbmVyYXRlTWVzc2FnZUlkICE9IG51bGxcbiAgICAgICAgPyBnZXRSZXNwb25zZVVJTWVzc2FnZUlkKHtcbiAgICAgICAgICAgIG9yaWdpbmFsTWVzc2FnZXMsXG4gICAgICAgICAgICByZXNwb25zZU1lc3NhZ2VJZDogZ2VuZXJhdGVNZXNzYWdlSWQsXG4gICAgICAgICAgfSlcbiAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICBjb25zdCB0b29sTmFtZXNCeUNhbGxJZDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuXG4gICAgY29uc3QgaXNEeW5hbWljID0gKHRvb2xDYWxsSWQ6IHN0cmluZykgPT4ge1xuICAgICAgY29uc3QgdG9vbE5hbWUgPSB0b29sTmFtZXNCeUNhbGxJZFt0b29sQ2FsbElkXTtcbiAgICAgIGNvbnN0IGR5bmFtaWMgPSB0aGlzLnRvb2xzPy5bdG9vbE5hbWVdPy50eXBlID09PSAnZHluYW1pYyc7XG4gICAgICByZXR1cm4gZHluYW1pYyA/IHRydWUgOiB1bmRlZmluZWQ7IC8vIG9ubHkgc2VuZCB3aGVuIGR5bmFtaWMgdG8gcmVkdWNlIGRhdGEgdHJhbnNmZXJcbiAgICB9O1xuXG4gICAgY29uc3QgYmFzZVN0cmVhbSA9IHRoaXMuZnVsbFN0cmVhbS5waXBlVGhyb3VnaChcbiAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08XG4gICAgICAgIFRleHRTdHJlYW1QYXJ0PFRPT0xTPixcbiAgICAgICAgVUlNZXNzYWdlQ2h1bms8XG4gICAgICAgICAgSW5mZXJVSU1lc3NhZ2VNZXRhZGF0YTxVSV9NRVNTQUdFPixcbiAgICAgICAgICBJbmZlclVJTWVzc2FnZURhdGE8VUlfTUVTU0FHRT5cbiAgICAgICAgPlxuICAgICAgPih7XG4gICAgICAgIHRyYW5zZm9ybTogYXN5bmMgKHBhcnQsIGNvbnRyb2xsZXIpID0+IHtcbiAgICAgICAgICBjb25zdCBtZXNzYWdlTWV0YWRhdGFWYWx1ZSA9IG1lc3NhZ2VNZXRhZGF0YT8uKHsgcGFydCB9KTtcblxuICAgICAgICAgIGNvbnN0IHBhcnRUeXBlID0gcGFydC50eXBlO1xuICAgICAgICAgIHN3aXRjaCAocGFydFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3RleHQtc3RhcnQnOiB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3RleHQtc3RhcnQnLFxuICAgICAgICAgICAgICAgIGlkOiBwYXJ0LmlkLFxuICAgICAgICAgICAgICAgIC4uLihwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyTWV0YWRhdGE6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICd0ZXh0LWRlbHRhJzoge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0LWRlbHRhJyxcbiAgICAgICAgICAgICAgICBpZDogcGFydC5pZCxcbiAgICAgICAgICAgICAgICBkZWx0YTogcGFydC50ZXh0LFxuICAgICAgICAgICAgICAgIC4uLihwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyTWV0YWRhdGE6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICd0ZXh0LWVuZCc6IHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndGV4dC1lbmQnLFxuICAgICAgICAgICAgICAgIGlkOiBwYXJ0LmlkLFxuICAgICAgICAgICAgICAgIC4uLihwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyTWV0YWRhdGE6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdyZWFzb25pbmctc3RhcnQnOiB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3JlYXNvbmluZy1zdGFydCcsXG4gICAgICAgICAgICAgICAgaWQ6IHBhcnQuaWQsXG4gICAgICAgICAgICAgICAgLi4uKHBhcnQucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJNZXRhZGF0YTogcGFydC5wcm92aWRlck1ldGFkYXRhIH1cbiAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3JlYXNvbmluZy1kZWx0YSc6IHtcbiAgICAgICAgICAgICAgaWYgKHNlbmRSZWFzb25pbmcpIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlYXNvbmluZy1kZWx0YScsXG4gICAgICAgICAgICAgICAgICBpZDogcGFydC5pZCxcbiAgICAgICAgICAgICAgICAgIGRlbHRhOiBwYXJ0LnRleHQsXG4gICAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyTWV0YWRhdGE6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdyZWFzb25pbmctZW5kJzoge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdyZWFzb25pbmctZW5kJyxcbiAgICAgICAgICAgICAgICBpZDogcGFydC5pZCxcbiAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlck1ldGFkYXRhOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgfVxuICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnZmlsZSc6IHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZmlsZScsXG4gICAgICAgICAgICAgICAgbWVkaWFUeXBlOiBwYXJ0LmZpbGUubWVkaWFUeXBlLFxuICAgICAgICAgICAgICAgIHVybDogYGRhdGE6JHtwYXJ0LmZpbGUubWVkaWFUeXBlfTtiYXNlNjQsJHtwYXJ0LmZpbGUuYmFzZTY0fWAsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnc291cmNlJzoge1xuICAgICAgICAgICAgICBpZiAoc2VuZFNvdXJjZXMgJiYgcGFydC5zb3VyY2VUeXBlID09PSAndXJsJykge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAnc291cmNlLXVybCcsXG4gICAgICAgICAgICAgICAgICBzb3VyY2VJZDogcGFydC5pZCxcbiAgICAgICAgICAgICAgICAgIHVybDogcGFydC51cmwsXG4gICAgICAgICAgICAgICAgICB0aXRsZTogcGFydC50aXRsZSxcbiAgICAgICAgICAgICAgICAgIC4uLihwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJNZXRhZGF0YTogcGFydC5wcm92aWRlck1ldGFkYXRhIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoc2VuZFNvdXJjZXMgJiYgcGFydC5zb3VyY2VUeXBlID09PSAnZG9jdW1lbnQnKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdzb3VyY2UtZG9jdW1lbnQnLFxuICAgICAgICAgICAgICAgICAgc291cmNlSWQ6IHBhcnQuaWQsXG4gICAgICAgICAgICAgICAgICBtZWRpYVR5cGU6IHBhcnQubWVkaWFUeXBlLFxuICAgICAgICAgICAgICAgICAgdGl0bGU6IHBhcnQudGl0bGUsXG4gICAgICAgICAgICAgICAgICBmaWxlbmFtZTogcGFydC5maWxlbmFtZSxcbiAgICAgICAgICAgICAgICAgIC4uLihwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJNZXRhZGF0YTogcGFydC5wcm92aWRlck1ldGFkYXRhIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3Rvb2wtaW5wdXQtc3RhcnQnOiB7XG4gICAgICAgICAgICAgIHRvb2xOYW1lc0J5Q2FsbElkW3BhcnQuaWRdID0gcGFydC50b29sTmFtZTtcbiAgICAgICAgICAgICAgY29uc3QgZHluYW1pYyA9IGlzRHluYW1pYyhwYXJ0LmlkKTtcblxuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0b29sLWlucHV0LXN0YXJ0JyxcbiAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBwYXJ0LmlkLFxuICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBwYXJ0LnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgIC4uLihwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyRXhlY3V0ZWQ6IHBhcnQucHJvdmlkZXJFeGVjdXRlZCB9XG4gICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICAuLi4oZHluYW1pYyAhPSBudWxsID8geyBkeW5hbWljIH0gOiB7fSksXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAndG9vbC1pbnB1dC1kZWx0YSc6IHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1pbnB1dC1kZWx0YScsXG4gICAgICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC5pZCxcbiAgICAgICAgICAgICAgICBpbnB1dFRleHREZWx0YTogcGFydC5kZWx0YSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICd0b29sLWNhbGwnOiB7XG4gICAgICAgICAgICAgIHRvb2xOYW1lc0J5Q2FsbElkW3BhcnQudG9vbENhbGxJZF0gPSBwYXJ0LnRvb2xOYW1lO1xuICAgICAgICAgICAgICBjb25zdCBkeW5hbWljID0gaXNEeW5hbWljKHBhcnQudG9vbENhbGxJZCk7XG5cbiAgICAgICAgICAgICAgaWYgKHBhcnQuaW52YWxpZCkge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1pbnB1dC1lcnJvcicsXG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogcGFydC50b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgIGlucHV0OiBwYXJ0LmlucHV0LFxuICAgICAgICAgICAgICAgICAgLi4uKHBhcnQucHJvdmlkZXJFeGVjdXRlZCAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlckV4ZWN1dGVkOiBwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQgfVxuICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICAgIC4uLihwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJNZXRhZGF0YTogcGFydC5wcm92aWRlck1ldGFkYXRhIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgICAuLi4oZHluYW1pYyAhPSBudWxsID8geyBkeW5hbWljIH0gOiB7fSksXG4gICAgICAgICAgICAgICAgICBlcnJvclRleHQ6IG9uRXJyb3IocGFydC5lcnJvciksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICd0b29sLWlucHV0LWF2YWlsYWJsZScsXG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogcGFydC50b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgIGlucHV0OiBwYXJ0LmlucHV0LFxuICAgICAgICAgICAgICAgICAgLi4uKHBhcnQucHJvdmlkZXJFeGVjdXRlZCAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlckV4ZWN1dGVkOiBwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQgfVxuICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICAgIC4uLihwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJNZXRhZGF0YTogcGFydC5wcm92aWRlck1ldGFkYXRhIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgICAuLi4oZHluYW1pYyAhPSBudWxsID8geyBkeW5hbWljIH0gOiB7fSksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAndG9vbC1yZXN1bHQnOiB7XG4gICAgICAgICAgICAgIGNvbnN0IGR5bmFtaWMgPSBpc0R5bmFtaWMocGFydC50b29sQ2FsbElkKTtcblxuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0b29sLW91dHB1dC1hdmFpbGFibGUnLFxuICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICBvdXRwdXQ6IHBhcnQub3V0cHV0LFxuICAgICAgICAgICAgICAgIC4uLihwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyRXhlY3V0ZWQ6IHBhcnQucHJvdmlkZXJFeGVjdXRlZCB9XG4gICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICAuLi4ocGFydC5wcmVsaW1pbmFyeSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICA/IHsgcHJlbGltaW5hcnk6IHBhcnQucHJlbGltaW5hcnkgfVxuICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgLi4uKGR5bmFtaWMgIT0gbnVsbCA/IHsgZHluYW1pYyB9IDoge30pLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3Rvb2wtZXJyb3InOiB7XG4gICAgICAgICAgICAgIGNvbnN0IGR5bmFtaWMgPSBpc0R5bmFtaWMocGFydC50b29sQ2FsbElkKTtcblxuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0b29sLW91dHB1dC1lcnJvcicsXG4gICAgICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgIGVycm9yVGV4dDogb25FcnJvcihwYXJ0LmVycm9yKSxcbiAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlckV4ZWN1dGVkICE9IG51bGxcbiAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlckV4ZWN1dGVkOiBwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQgfVxuICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgLi4uKGR5bmFtaWMgIT0gbnVsbCA/IHsgZHluYW1pYyB9IDoge30pLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ2Vycm9yJzoge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgZXJyb3JUZXh0OiBvbkVycm9yKHBhcnQuZXJyb3IpLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3N0YXJ0LXN0ZXAnOiB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICdzdGFydC1zdGVwJyB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ2ZpbmlzaC1zdGVwJzoge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAnZmluaXNoLXN0ZXAnIH0pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnc3RhcnQnOiB7XG4gICAgICAgICAgICAgIGlmIChzZW5kU3RhcnQpIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ3N0YXJ0JyxcbiAgICAgICAgICAgICAgICAgIC4uLihtZXNzYWdlTWV0YWRhdGFWYWx1ZSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8geyBtZXNzYWdlTWV0YWRhdGE6IG1lc3NhZ2VNZXRhZGF0YVZhbHVlIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgICAuLi4ocmVzcG9uc2VNZXNzYWdlSWQgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IHsgbWVzc2FnZUlkOiByZXNwb25zZU1lc3NhZ2VJZCB9XG4gICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdmaW5pc2gnOiB7XG4gICAgICAgICAgICAgIGlmIChzZW5kRmluaXNoKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaW5pc2gnLFxuICAgICAgICAgICAgICAgICAgLi4uKG1lc3NhZ2VNZXRhZGF0YVZhbHVlICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyB7IG1lc3NhZ2VNZXRhZGF0YTogbWVzc2FnZU1ldGFkYXRhVmFsdWUgfVxuICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnYWJvcnQnOiB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShwYXJ0KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3Rvb2wtaW5wdXQtZW5kJzoge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAncmF3Jzoge1xuICAgICAgICAgICAgICAvLyBSYXcgY2h1bmtzIGFyZSBub3QgaW5jbHVkZWQgaW4gVUkgbWVzc2FnZSBzdHJlYW1zXG4gICAgICAgICAgICAgIC8vIGFzIHRoZXkgY29udGFpbiBwcm92aWRlci1zcGVjaWZpYyBkYXRhIGZvciBkZXZlbG9wZXIgdXNlXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgIGNvbnN0IGV4aGF1c3RpdmVDaGVjazogbmV2ZXIgPSBwYXJ0VHlwZTtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGNodW5rIHR5cGU6ICR7ZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHN0YXJ0IGFuZCBmaW5pc2ggZXZlbnRzIGFscmVhZHkgaGF2ZSBtZXRhZGF0YVxuICAgICAgICAgIC8vIHNvIHdlIG9ubHkgbmVlZCB0byBzZW5kIG1ldGFkYXRhIGZvciBvdGhlciBwYXJ0c1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG1lc3NhZ2VNZXRhZGF0YVZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICAgIHBhcnRUeXBlICE9PSAnc3RhcnQnICYmXG4gICAgICAgICAgICBwYXJ0VHlwZSAhPT0gJ2ZpbmlzaCdcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgIHR5cGU6ICdtZXNzYWdlLW1ldGFkYXRhJyxcbiAgICAgICAgICAgICAgbWVzc2FnZU1ldGFkYXRhOiBtZXNzYWdlTWV0YWRhdGFWYWx1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICByZXR1cm4gY3JlYXRlQXN5bmNJdGVyYWJsZVN0cmVhbShcbiAgICAgIGhhbmRsZVVJTWVzc2FnZVN0cmVhbUZpbmlzaDxVSV9NRVNTQUdFPih7XG4gICAgICAgIHN0cmVhbTogYmFzZVN0cmVhbSxcbiAgICAgICAgbWVzc2FnZUlkOiByZXNwb25zZU1lc3NhZ2VJZCA/PyBnZW5lcmF0ZU1lc3NhZ2VJZD8uKCksXG4gICAgICAgIG9yaWdpbmFsTWVzc2FnZXMsXG4gICAgICAgIG9uRmluaXNoLFxuICAgICAgICBvbkVycm9yLFxuICAgICAgfSksXG4gICAgKTtcbiAgfVxuXG4gIHBpcGVVSU1lc3NhZ2VTdHJlYW1Ub1Jlc3BvbnNlPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+KFxuICAgIHJlc3BvbnNlOiBTZXJ2ZXJSZXNwb25zZSxcbiAgICB7XG4gICAgICBvcmlnaW5hbE1lc3NhZ2VzLFxuICAgICAgZ2VuZXJhdGVNZXNzYWdlSWQsXG4gICAgICBvbkZpbmlzaCxcbiAgICAgIG1lc3NhZ2VNZXRhZGF0YSxcbiAgICAgIHNlbmRSZWFzb25pbmcsXG4gICAgICBzZW5kU291cmNlcyxcbiAgICAgIHNlbmRGaW5pc2gsXG4gICAgICBzZW5kU3RhcnQsXG4gICAgICBvbkVycm9yLFxuICAgICAgLi4uaW5pdFxuICAgIH06IFVJTWVzc2FnZVN0cmVhbVJlc3BvbnNlSW5pdCAmIFVJTWVzc2FnZVN0cmVhbU9wdGlvbnM8VUlfTUVTU0FHRT4gPSB7fSxcbiAgKSB7XG4gICAgcGlwZVVJTWVzc2FnZVN0cmVhbVRvUmVzcG9uc2Uoe1xuICAgICAgcmVzcG9uc2UsXG4gICAgICBzdHJlYW06IHRoaXMudG9VSU1lc3NhZ2VTdHJlYW0oe1xuICAgICAgICBvcmlnaW5hbE1lc3NhZ2VzLFxuICAgICAgICBnZW5lcmF0ZU1lc3NhZ2VJZCxcbiAgICAgICAgb25GaW5pc2gsXG4gICAgICAgIG1lc3NhZ2VNZXRhZGF0YSxcbiAgICAgICAgc2VuZFJlYXNvbmluZyxcbiAgICAgICAgc2VuZFNvdXJjZXMsXG4gICAgICAgIHNlbmRGaW5pc2gsXG4gICAgICAgIHNlbmRTdGFydCxcbiAgICAgICAgb25FcnJvcixcbiAgICAgIH0pLFxuICAgICAgLi4uaW5pdCxcbiAgICB9KTtcbiAgfVxuXG4gIHBpcGVUZXh0U3RyZWFtVG9SZXNwb25zZShyZXNwb25zZTogU2VydmVyUmVzcG9uc2UsIGluaXQ/OiBSZXNwb25zZUluaXQpIHtcbiAgICBwaXBlVGV4dFN0cmVhbVRvUmVzcG9uc2Uoe1xuICAgICAgcmVzcG9uc2UsXG4gICAgICB0ZXh0U3RyZWFtOiB0aGlzLnRleHRTdHJlYW0sXG4gICAgICAuLi5pbml0LFxuICAgIH0pO1xuICB9XG5cbiAgdG9VSU1lc3NhZ2VTdHJlYW1SZXNwb25zZTxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPih7XG4gICAgb3JpZ2luYWxNZXNzYWdlcyxcbiAgICBnZW5lcmF0ZU1lc3NhZ2VJZCxcbiAgICBvbkZpbmlzaCxcbiAgICBtZXNzYWdlTWV0YWRhdGEsXG4gICAgc2VuZFJlYXNvbmluZyxcbiAgICBzZW5kU291cmNlcyxcbiAgICBzZW5kRmluaXNoLFxuICAgIHNlbmRTdGFydCxcbiAgICBvbkVycm9yLFxuICAgIC4uLmluaXRcbiAgfTogVUlNZXNzYWdlU3RyZWFtUmVzcG9uc2VJbml0ICZcbiAgICBVSU1lc3NhZ2VTdHJlYW1PcHRpb25zPFVJX01FU1NBR0U+ID0ge30pOiBSZXNwb25zZSB7XG4gICAgcmV0dXJuIGNyZWF0ZVVJTWVzc2FnZVN0cmVhbVJlc3BvbnNlKHtcbiAgICAgIHN0cmVhbTogdGhpcy50b1VJTWVzc2FnZVN0cmVhbSh7XG4gICAgICAgIG9yaWdpbmFsTWVzc2FnZXMsXG4gICAgICAgIGdlbmVyYXRlTWVzc2FnZUlkLFxuICAgICAgICBvbkZpbmlzaCxcbiAgICAgICAgbWVzc2FnZU1ldGFkYXRhLFxuICAgICAgICBzZW5kUmVhc29uaW5nLFxuICAgICAgICBzZW5kU291cmNlcyxcbiAgICAgICAgc2VuZEZpbmlzaCxcbiAgICAgICAgc2VuZFN0YXJ0LFxuICAgICAgICBvbkVycm9yLFxuICAgICAgfSksXG4gICAgICAuLi5pbml0LFxuICAgIH0pO1xuICB9XG5cbiAgdG9UZXh0U3RyZWFtUmVzcG9uc2UoaW5pdD86IFJlc3BvbnNlSW5pdCk6IFJlc3BvbnNlIHtcbiAgICByZXR1cm4gY3JlYXRlVGV4dFN0cmVhbVJlc3BvbnNlKHtcbiAgICAgIHRleHRTdHJlYW06IHRoaXMudGV4dFN0cmVhbSxcbiAgICAgIC4uLmluaXQsXG4gICAgfSk7XG4gIH1cbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gcHJlcGFyZUhlYWRlcnMoXG4gIGhlYWRlcnM6IEhlYWRlcnNJbml0IHwgdW5kZWZpbmVkLFxuICBkZWZhdWx0SGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPixcbik6IEhlYWRlcnMge1xuICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBuZXcgSGVhZGVycyhoZWFkZXJzID8/IHt9KTtcblxuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkZWZhdWx0SGVhZGVycykpIHtcbiAgICBpZiAoIXJlc3BvbnNlSGVhZGVycy5oYXMoa2V5KSkge1xuICAgICAgcmVzcG9uc2VIZWFkZXJzLnNldChrZXksIHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzcG9uc2VIZWFkZXJzO1xufVxuIiwgImltcG9ydCB7IHByZXBhcmVIZWFkZXJzIH0gZnJvbSAnLi4vdXRpbC9wcmVwYXJlLWhlYWRlcnMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVGV4dFN0cmVhbVJlc3BvbnNlKHtcbiAgc3RhdHVzLFxuICBzdGF0dXNUZXh0LFxuICBoZWFkZXJzLFxuICB0ZXh0U3RyZWFtLFxufTogUmVzcG9uc2VJbml0ICYge1xuICB0ZXh0U3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxzdHJpbmc+O1xufSk6IFJlc3BvbnNlIHtcbiAgcmV0dXJuIG5ldyBSZXNwb25zZSh0ZXh0U3RyZWFtLnBpcGVUaHJvdWdoKG5ldyBUZXh0RW5jb2RlclN0cmVhbSgpKSwge1xuICAgIHN0YXR1czogc3RhdHVzID8/IDIwMCxcbiAgICBzdGF0dXNUZXh0LFxuICAgIGhlYWRlcnM6IHByZXBhcmVIZWFkZXJzKGhlYWRlcnMsIHtcbiAgICAgICdjb250ZW50LXR5cGUnOiAndGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOCcsXG4gICAgfSksXG4gIH0pO1xufVxuIiwgImltcG9ydCB7IFNlcnZlclJlc3BvbnNlIH0gZnJvbSAnbm9kZTpodHRwJztcblxuLyoqXG4gKiBXcml0ZXMgdGhlIGNvbnRlbnQgb2YgYSBzdHJlYW0gdG8gYSBzZXJ2ZXIgcmVzcG9uc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cml0ZVRvU2VydmVyUmVzcG9uc2Uoe1xuICByZXNwb25zZSxcbiAgc3RhdHVzLFxuICBzdGF0dXNUZXh0LFxuICBoZWFkZXJzLFxuICBzdHJlYW0sXG59OiB7XG4gIHJlc3BvbnNlOiBTZXJ2ZXJSZXNwb25zZTtcbiAgc3RhdHVzPzogbnVtYmVyO1xuICBzdGF0dXNUZXh0Pzogc3RyaW5nO1xuICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVtYmVyIHwgc3RyaW5nW10+O1xuICBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFVpbnQ4QXJyYXk+O1xufSk6IHZvaWQge1xuICByZXNwb25zZS53cml0ZUhlYWQoc3RhdHVzID8/IDIwMCwgc3RhdHVzVGV4dCwgaGVhZGVycyk7XG5cbiAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICBjb25zdCByZWFkID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgICBpZiAoZG9uZSkgYnJlYWs7XG4gICAgICAgIHJlc3BvbnNlLndyaXRlKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHJlc3BvbnNlLmVuZCgpO1xuICAgIH1cbiAgfTtcblxuICByZWFkKCk7XG59XG4iLCAiaW1wb3J0IHsgU2VydmVyUmVzcG9uc2UgfSBmcm9tICdub2RlOmh0dHAnO1xuaW1wb3J0IHsgcHJlcGFyZUhlYWRlcnMgfSBmcm9tICcuLi91dGlsL3ByZXBhcmUtaGVhZGVycyc7XG5pbXBvcnQgeyB3cml0ZVRvU2VydmVyUmVzcG9uc2UgfSBmcm9tICcuLi91dGlsL3dyaXRlLXRvLXNlcnZlci1yZXNwb25zZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwaXBlVGV4dFN0cmVhbVRvUmVzcG9uc2Uoe1xuICByZXNwb25zZSxcbiAgc3RhdHVzLFxuICBzdGF0dXNUZXh0LFxuICBoZWFkZXJzLFxuICB0ZXh0U3RyZWFtLFxufToge1xuICByZXNwb25zZTogU2VydmVyUmVzcG9uc2U7XG4gIHRleHRTdHJlYW06IFJlYWRhYmxlU3RyZWFtPHN0cmluZz47XG59ICYgUmVzcG9uc2VJbml0KTogdm9pZCB7XG4gIHdyaXRlVG9TZXJ2ZXJSZXNwb25zZSh7XG4gICAgcmVzcG9uc2UsXG4gICAgc3RhdHVzLFxuICAgIHN0YXR1c1RleHQsXG4gICAgaGVhZGVyczogT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgcHJlcGFyZUhlYWRlcnMoaGVhZGVycywge1xuICAgICAgICAnY29udGVudC10eXBlJzogJ3RleHQvcGxhaW47IGNoYXJzZXQ9dXRmLTgnLFxuICAgICAgfSkuZW50cmllcygpLFxuICAgICksXG4gICAgc3RyZWFtOiB0ZXh0U3RyZWFtLnBpcGVUaHJvdWdoKG5ldyBUZXh0RW5jb2RlclN0cmVhbSgpKSxcbiAgfSk7XG59XG4iLCAiZXhwb3J0IGNsYXNzIEpzb25Ub1NzZVRyYW5zZm9ybVN0cmVhbSBleHRlbmRzIFRyYW5zZm9ybVN0cmVhbTx1bmtub3duLCBzdHJpbmc+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoe1xuICAgICAgdHJhbnNmb3JtKHBhcnQsIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGBkYXRhOiAke0pTT04uc3RyaW5naWZ5KHBhcnQpfVxcblxcbmApO1xuICAgICAgfSxcbiAgICAgIGZsdXNoKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKCdkYXRhOiBbRE9ORV1cXG5cXG4nKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cbn1cbiIsICJleHBvcnQgY29uc3QgVUlfTUVTU0FHRV9TVFJFQU1fSEVBREVSUyA9IHtcbiAgJ2NvbnRlbnQtdHlwZSc6ICd0ZXh0L2V2ZW50LXN0cmVhbScsXG4gICdjYWNoZS1jb250cm9sJzogJ25vLWNhY2hlJyxcbiAgY29ubmVjdGlvbjogJ2tlZXAtYWxpdmUnLFxuICAneC12ZXJjZWwtYWktdWktbWVzc2FnZS1zdHJlYW0nOiAndjEnLFxuICAneC1hY2NlbC1idWZmZXJpbmcnOiAnbm8nLCAvLyBkaXNhYmxlIG5naW54IGJ1ZmZlcmluZ1xufTtcbiIsICJpbXBvcnQgeyBwcmVwYXJlSGVhZGVycyB9IGZyb20gJy4uL3V0aWwvcHJlcGFyZS1oZWFkZXJzJztcbmltcG9ydCB7IEpzb25Ub1NzZVRyYW5zZm9ybVN0cmVhbSB9IGZyb20gJy4vanNvbi10by1zc2UtdHJhbnNmb3JtLXN0cmVhbSc7XG5pbXBvcnQgeyBVSV9NRVNTQUdFX1NUUkVBTV9IRUFERVJTIH0gZnJvbSAnLi91aS1tZXNzYWdlLXN0cmVhbS1oZWFkZXJzJztcbmltcG9ydCB7IFVJTWVzc2FnZUNodW5rIH0gZnJvbSAnLi91aS1tZXNzYWdlLWNodW5rcyc7XG5pbXBvcnQgeyBVSU1lc3NhZ2VTdHJlYW1SZXNwb25zZUluaXQgfSBmcm9tICcuL3VpLW1lc3NhZ2Utc3RyZWFtLXJlc3BvbnNlLWluaXQnO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVUlNZXNzYWdlU3RyZWFtUmVzcG9uc2Uoe1xuICBzdGF0dXMsXG4gIHN0YXR1c1RleHQsXG4gIGhlYWRlcnMsXG4gIHN0cmVhbSxcbiAgY29uc3VtZVNzZVN0cmVhbSxcbn06IFVJTWVzc2FnZVN0cmVhbVJlc3BvbnNlSW5pdCAmIHtcbiAgc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxVSU1lc3NhZ2VDaHVuaz47XG59KTogUmVzcG9uc2Uge1xuICBsZXQgc3NlU3RyZWFtID0gc3RyZWFtLnBpcGVUaHJvdWdoKG5ldyBKc29uVG9Tc2VUcmFuc2Zvcm1TdHJlYW0oKSk7XG5cbiAgLy8gd2hlbiB0aGUgY29uc3VtZVNzZVN0cmVhbSBpcyBwcm92aWRlZCwgd2UgbmVlZCB0byB0ZWUgdGhlIHN0cmVhbVxuICAvLyBhbmQgc2VuZCB0aGUgc2Vjb25kIHBhcnQgdG8gdGhlIGNvbnN1bWVTc2VTdHJlYW0gZnVuY3Rpb25cbiAgLy8gc28gdGhhdCBpdCBjYW4gYmUgY29uc3VtZWQgYnkgdGhlIGNsaWVudCBpbmRlcGVuZGVudGx5XG4gIGlmIChjb25zdW1lU3NlU3RyZWFtKSB7XG4gICAgY29uc3QgW3N0cmVhbTEsIHN0cmVhbTJdID0gc3NlU3RyZWFtLnRlZSgpO1xuICAgIHNzZVN0cmVhbSA9IHN0cmVhbTE7XG4gICAgY29uc3VtZVNzZVN0cmVhbSh7IHN0cmVhbTogc3RyZWFtMiB9KTsgLy8gbm8gYXdhaXQgKGRvIG5vdCBibG9jayB0aGUgcmVzcG9uc2UpXG4gIH1cblxuICByZXR1cm4gbmV3IFJlc3BvbnNlKHNzZVN0cmVhbS5waXBlVGhyb3VnaChuZXcgVGV4dEVuY29kZXJTdHJlYW0oKSksIHtcbiAgICBzdGF0dXMsXG4gICAgc3RhdHVzVGV4dCxcbiAgICBoZWFkZXJzOiBwcmVwYXJlSGVhZGVycyhoZWFkZXJzLCBVSV9NRVNTQUdFX1NUUkVBTV9IRUFERVJTKSxcbiAgfSk7XG59XG4iLCAiaW1wb3J0IHsgSWRHZW5lcmF0b3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IFVJTWVzc2FnZSB9IGZyb20gJy4uL3VpL3VpLW1lc3NhZ2VzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlc3BvbnNlVUlNZXNzYWdlSWQoe1xuICBvcmlnaW5hbE1lc3NhZ2VzLFxuICByZXNwb25zZU1lc3NhZ2VJZCxcbn06IHtcbiAgb3JpZ2luYWxNZXNzYWdlczogVUlNZXNzYWdlW10gfCB1bmRlZmluZWQ7XG4gIHJlc3BvbnNlTWVzc2FnZUlkOiBzdHJpbmcgfCBJZEdlbmVyYXRvcjtcbn0pIHtcbiAgLy8gd2hlbiB0aGVyZSBhcmUgbm8gb3JpZ2luYWwgbWVzc2FnZXMgKGkuZS4gbm8gcGVyc2lzdGVuY2UpLFxuICAvLyB0aGUgYXNzaXN0YW50IG1lc3NhZ2UgaWQgZ2VuZXJhdGlvbiBpcyBoYW5kbGVkIG9uIHRoZSBjbGllbnQgc2lkZS5cbiAgaWYgKG9yaWdpbmFsTWVzc2FnZXMgPT0gbnVsbCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBjb25zdCBsYXN0TWVzc2FnZSA9IG9yaWdpbmFsTWVzc2FnZXNbb3JpZ2luYWxNZXNzYWdlcy5sZW5ndGggLSAxXTtcblxuICByZXR1cm4gbGFzdE1lc3NhZ2U/LnJvbGUgPT09ICdhc3Npc3RhbnQnXG4gICAgPyBsYXN0TWVzc2FnZS5pZFxuICAgIDogdHlwZW9mIHJlc3BvbnNlTWVzc2FnZUlkID09PSAnZnVuY3Rpb24nXG4gICAgICA/IHJlc3BvbnNlTWVzc2FnZUlkKClcbiAgICAgIDogcmVzcG9uc2VNZXNzYWdlSWQ7XG59XG4iLCAiaW1wb3J0IHtcbiAgU3RhbmRhcmRTY2hlbWFWMSxcbiAgdmFsaWRhdGVUeXBlcyxcbiAgVmFsaWRhdG9yLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IFByb3ZpZGVyTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge1xuICBEYXRhVUlNZXNzYWdlQ2h1bmssXG4gIEluZmVyVUlNZXNzYWdlQ2h1bmssXG4gIGlzRGF0YVVJTWVzc2FnZUNodW5rLFxuICBVSU1lc3NhZ2VDaHVuayxcbn0gZnJvbSAnLi4vdWktbWVzc2FnZS1zdHJlYW0vdWktbWVzc2FnZS1jaHVua3MnO1xuaW1wb3J0IHsgRXJyb3JIYW5kbGVyIH0gZnJvbSAnLi4vdXRpbC9lcnJvci1oYW5kbGVyJztcbmltcG9ydCB7IG1lcmdlT2JqZWN0cyB9IGZyb20gJy4uL3V0aWwvbWVyZ2Utb2JqZWN0cyc7XG5pbXBvcnQgeyBwYXJzZVBhcnRpYWxKc29uIH0gZnJvbSAnLi4vdXRpbC9wYXJzZS1wYXJ0aWFsLWpzb24nO1xuaW1wb3J0IHsgVUlEYXRhVHlwZXNUb1NjaGVtYXMgfSBmcm9tICcuL2NoYXQnO1xuaW1wb3J0IHtcbiAgRGF0YVVJUGFydCxcbiAgRHluYW1pY1Rvb2xVSVBhcnQsXG4gIGdldFRvb2xOYW1lLFxuICBJbmZlclVJTWVzc2FnZURhdGEsXG4gIEluZmVyVUlNZXNzYWdlTWV0YWRhdGEsXG4gIEluZmVyVUlNZXNzYWdlVG9vbENhbGwsXG4gIEluZmVyVUlNZXNzYWdlVG9vbHMsXG4gIGlzVG9vbFVJUGFydCxcbiAgUmVhc29uaW5nVUlQYXJ0LFxuICBUZXh0VUlQYXJ0LFxuICBUb29sVUlQYXJ0LFxuICBVSU1lc3NhZ2UsXG4gIFVJTWVzc2FnZVBhcnQsXG59IGZyb20gJy4vdWktbWVzc2FnZXMnO1xuXG5leHBvcnQgdHlwZSBTdHJlYW1pbmdVSU1lc3NhZ2VTdGF0ZTxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPiA9IHtcbiAgbWVzc2FnZTogVUlfTUVTU0FHRTtcbiAgYWN0aXZlVGV4dFBhcnRzOiBSZWNvcmQ8c3RyaW5nLCBUZXh0VUlQYXJ0PjtcbiAgYWN0aXZlUmVhc29uaW5nUGFydHM6IFJlY29yZDxzdHJpbmcsIFJlYXNvbmluZ1VJUGFydD47XG4gIHBhcnRpYWxUb29sQ2FsbHM6IFJlY29yZDxcbiAgICBzdHJpbmcsXG4gICAgeyB0ZXh0OiBzdHJpbmc7IGluZGV4OiBudW1iZXI7IHRvb2xOYW1lOiBzdHJpbmc7IGR5bmFtaWM/OiBib29sZWFuIH1cbiAgPjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdHJlYW1pbmdVSU1lc3NhZ2VTdGF0ZTxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPih7XG4gIGxhc3RNZXNzYWdlLFxuICBtZXNzYWdlSWQsXG59OiB7XG4gIGxhc3RNZXNzYWdlOiBVSV9NRVNTQUdFIHwgdW5kZWZpbmVkO1xuICBtZXNzYWdlSWQ6IHN0cmluZztcbn0pOiBTdHJlYW1pbmdVSU1lc3NhZ2VTdGF0ZTxVSV9NRVNTQUdFPiB7XG4gIHJldHVybiB7XG4gICAgbWVzc2FnZTpcbiAgICAgIGxhc3RNZXNzYWdlPy5yb2xlID09PSAnYXNzaXN0YW50J1xuICAgICAgICA/IGxhc3RNZXNzYWdlXG4gICAgICAgIDogKHtcbiAgICAgICAgICAgIGlkOiBtZXNzYWdlSWQsXG4gICAgICAgICAgICBtZXRhZGF0YTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICBwYXJ0czogW10gYXMgVUlNZXNzYWdlUGFydDxcbiAgICAgICAgICAgICAgSW5mZXJVSU1lc3NhZ2VEYXRhPFVJX01FU1NBR0U+LFxuICAgICAgICAgICAgICBJbmZlclVJTWVzc2FnZVRvb2xzPFVJX01FU1NBR0U+XG4gICAgICAgICAgICA+W10sXG4gICAgICAgICAgfSBhcyBVSV9NRVNTQUdFKSxcbiAgICBhY3RpdmVUZXh0UGFydHM6IHt9LFxuICAgIGFjdGl2ZVJlYXNvbmluZ1BhcnRzOiB7fSxcbiAgICBwYXJ0aWFsVG9vbENhbGxzOiB7fSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3NVSU1lc3NhZ2VTdHJlYW08VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4oe1xuICBzdHJlYW0sXG4gIG1lc3NhZ2VNZXRhZGF0YVNjaGVtYSxcbiAgZGF0YVBhcnRTY2hlbWFzLFxuICBydW5VcGRhdGVNZXNzYWdlSm9iLFxuICBvbkVycm9yLFxuICBvblRvb2xDYWxsLFxuICBvbkRhdGEsXG59OiB7XG4gIC8vIGlucHV0IHN0cmVhbSBpcyBub3QgZnVsbHkgdHlwZWQgeWV0OlxuICBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFVJTWVzc2FnZUNodW5rPjtcbiAgbWVzc2FnZU1ldGFkYXRhU2NoZW1hPzpcbiAgICB8IFZhbGlkYXRvcjxJbmZlclVJTWVzc2FnZU1ldGFkYXRhPFVJX01FU1NBR0U+PlxuICAgIHwgU3RhbmRhcmRTY2hlbWFWMTxJbmZlclVJTWVzc2FnZU1ldGFkYXRhPFVJX01FU1NBR0U+PjtcbiAgZGF0YVBhcnRTY2hlbWFzPzogVUlEYXRhVHlwZXNUb1NjaGVtYXM8SW5mZXJVSU1lc3NhZ2VEYXRhPFVJX01FU1NBR0U+PjtcbiAgb25Ub29sQ2FsbD86IChvcHRpb25zOiB7XG4gICAgdG9vbENhbGw6IEluZmVyVUlNZXNzYWdlVG9vbENhbGw8VUlfTUVTU0FHRT47XG4gIH0pID0+IHZvaWQgfCBQcm9taXNlTGlrZTx2b2lkPjtcbiAgb25EYXRhPzogKGRhdGFQYXJ0OiBEYXRhVUlQYXJ0PEluZmVyVUlNZXNzYWdlRGF0YTxVSV9NRVNTQUdFPj4pID0+IHZvaWQ7XG4gIHJ1blVwZGF0ZU1lc3NhZ2VKb2I6IChcbiAgICBqb2I6IChvcHRpb25zOiB7XG4gICAgICBzdGF0ZTogU3RyZWFtaW5nVUlNZXNzYWdlU3RhdGU8VUlfTUVTU0FHRT47XG4gICAgICB3cml0ZTogKCkgPT4gdm9pZDtcbiAgICB9KSA9PiBQcm9taXNlPHZvaWQ+LFxuICApID0+IFByb21pc2U8dm9pZD47XG4gIG9uRXJyb3I6IEVycm9ySGFuZGxlcjtcbn0pOiBSZWFkYWJsZVN0cmVhbTxJbmZlclVJTWVzc2FnZUNodW5rPFVJX01FU1NBR0U+PiB7XG4gIHJldHVybiBzdHJlYW0ucGlwZVRocm91Z2goXG4gICAgbmV3IFRyYW5zZm9ybVN0cmVhbTxVSU1lc3NhZ2VDaHVuaywgSW5mZXJVSU1lc3NhZ2VDaHVuazxVSV9NRVNTQUdFPj4oe1xuICAgICAgYXN5bmMgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgIGF3YWl0IHJ1blVwZGF0ZU1lc3NhZ2VKb2IoYXN5bmMgKHsgc3RhdGUsIHdyaXRlIH0pID0+IHtcbiAgICAgICAgICBmdW5jdGlvbiBnZXRUb29sSW52b2NhdGlvbih0b29sQ2FsbElkOiBzdHJpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvb2xJbnZvY2F0aW9ucyA9IHN0YXRlLm1lc3NhZ2UucGFydHMuZmlsdGVyKGlzVG9vbFVJUGFydCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHRvb2xJbnZvY2F0aW9uID0gdG9vbEludm9jYXRpb25zLmZpbmQoXG4gICAgICAgICAgICAgIGludm9jYXRpb24gPT4gaW52b2NhdGlvbi50b29sQ2FsbElkID09PSB0b29sQ2FsbElkLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKHRvb2xJbnZvY2F0aW9uID09IG51bGwpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICd0b29sLW91dHB1dC1lcnJvciBtdXN0IGJlIHByZWNlZGVkIGJ5IGEgdG9vbC1pbnB1dC1hdmFpbGFibGUnLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdG9vbEludm9jYXRpb247XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gZ2V0RHluYW1pY1Rvb2xJbnZvY2F0aW9uKHRvb2xDYWxsSWQ6IHN0cmluZykge1xuICAgICAgICAgICAgY29uc3QgdG9vbEludm9jYXRpb25zID0gc3RhdGUubWVzc2FnZS5wYXJ0cy5maWx0ZXIoXG4gICAgICAgICAgICAgIHBhcnQgPT4gcGFydC50eXBlID09PSAnZHluYW1pYy10b29sJyxcbiAgICAgICAgICAgICkgYXMgRHluYW1pY1Rvb2xVSVBhcnRbXTtcblxuICAgICAgICAgICAgY29uc3QgdG9vbEludm9jYXRpb24gPSB0b29sSW52b2NhdGlvbnMuZmluZChcbiAgICAgICAgICAgICAgaW52b2NhdGlvbiA9PiBpbnZvY2F0aW9uLnRvb2xDYWxsSWQgPT09IHRvb2xDYWxsSWQsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZiAodG9vbEludm9jYXRpb24gPT0gbnVsbCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgJ3Rvb2wtb3V0cHV0LWVycm9yIG11c3QgYmUgcHJlY2VkZWQgYnkgYSB0b29sLWlucHV0LWF2YWlsYWJsZScsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0b29sSW52b2NhdGlvbjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVUb29sUGFydChcbiAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgdG9vbE5hbWU6IGtleW9mIEluZmVyVUlNZXNzYWdlVG9vbHM8VUlfTUVTU0FHRT4gJiBzdHJpbmc7XG4gICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHN0cmluZztcbiAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG4gICAgICAgICAgICB9ICYgKFxuICAgICAgICAgICAgICB8IHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5wdXQtc3RyZWFtaW5nJztcbiAgICAgICAgICAgICAgICAgIGlucHV0OiB1bmtub3duO1xuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB8IHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5wdXQtYXZhaWxhYmxlJztcbiAgICAgICAgICAgICAgICAgIGlucHV0OiB1bmtub3duO1xuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG4gICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHwge1xuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdvdXRwdXQtYXZhaWxhYmxlJztcbiAgICAgICAgICAgICAgICAgIGlucHV0OiB1bmtub3duO1xuICAgICAgICAgICAgICAgICAgb3V0cHV0OiB1bmtub3duO1xuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG4gICAgICAgICAgICAgICAgICBwcmVsaW1pbmFyeT86IGJvb2xlYW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB8IHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnb3V0cHV0LWVycm9yJztcbiAgICAgICAgICAgICAgICAgIGlucHV0OiB1bmtub3duO1xuICAgICAgICAgICAgICAgICAgcmF3SW5wdXQ/OiB1bmtub3duO1xuICAgICAgICAgICAgICAgICAgZXJyb3JUZXh0OiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkPzogYm9vbGVhbjtcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICksXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0ID0gc3RhdGUubWVzc2FnZS5wYXJ0cy5maW5kKFxuICAgICAgICAgICAgICBwYXJ0ID0+XG4gICAgICAgICAgICAgICAgaXNUb29sVUlQYXJ0KHBhcnQpICYmIHBhcnQudG9vbENhbGxJZCA9PT0gb3B0aW9ucy50b29sQ2FsbElkLFxuICAgICAgICAgICAgKSBhcyBUb29sVUlQYXJ0PEluZmVyVUlNZXNzYWdlVG9vbHM8VUlfTUVTU0FHRT4+IHwgdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICBjb25zdCBhbnlPcHRpb25zID0gb3B0aW9ucyBhcyBhbnk7XG4gICAgICAgICAgICBjb25zdCBhbnlQYXJ0ID0gcGFydCBhcyBhbnk7XG5cbiAgICAgICAgICAgIGlmIChwYXJ0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgcGFydC5zdGF0ZSA9IG9wdGlvbnMuc3RhdGU7XG4gICAgICAgICAgICAgIGFueVBhcnQuaW5wdXQgPSBhbnlPcHRpb25zLmlucHV0O1xuICAgICAgICAgICAgICBhbnlQYXJ0Lm91dHB1dCA9IGFueU9wdGlvbnMub3V0cHV0O1xuICAgICAgICAgICAgICBhbnlQYXJ0LmVycm9yVGV4dCA9IGFueU9wdGlvbnMuZXJyb3JUZXh0O1xuICAgICAgICAgICAgICBhbnlQYXJ0LnJhd0lucHV0ID0gYW55T3B0aW9ucy5yYXdJbnB1dDtcbiAgICAgICAgICAgICAgYW55UGFydC5wcmVsaW1pbmFyeSA9IGFueU9wdGlvbnMucHJlbGltaW5hcnk7XG5cbiAgICAgICAgICAgICAgLy8gb25jZSBwcm92aWRlckV4ZWN1dGVkIGlzIHNldCwgaXQgc3RheXMgZm9yIHN0cmVhbWluZ1xuICAgICAgICAgICAgICBhbnlQYXJ0LnByb3ZpZGVyRXhlY3V0ZWQgPVxuICAgICAgICAgICAgICAgIGFueU9wdGlvbnMucHJvdmlkZXJFeGVjdXRlZCA/PyBwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQ7XG5cbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGFueU9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgcGFydC5zdGF0ZSA9PT0gJ2lucHV0LWF2YWlsYWJsZSdcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcGFydC5jYWxsUHJvdmlkZXJNZXRhZGF0YSA9IGFueU9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3RhdGUubWVzc2FnZS5wYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBgdG9vbC0ke29wdGlvbnMudG9vbE5hbWV9YCxcbiAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBvcHRpb25zLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgc3RhdGU6IG9wdGlvbnMuc3RhdGUsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IGFueU9wdGlvbnMuaW5wdXQsXG4gICAgICAgICAgICAgICAgb3V0cHV0OiBhbnlPcHRpb25zLm91dHB1dCxcbiAgICAgICAgICAgICAgICByYXdJbnB1dDogYW55T3B0aW9ucy5yYXdJbnB1dCxcbiAgICAgICAgICAgICAgICBlcnJvclRleHQ6IGFueU9wdGlvbnMuZXJyb3JUZXh0LFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IGFueU9wdGlvbnMucHJvdmlkZXJFeGVjdXRlZCxcbiAgICAgICAgICAgICAgICBwcmVsaW1pbmFyeTogYW55T3B0aW9ucy5wcmVsaW1pbmFyeSxcbiAgICAgICAgICAgICAgICAuLi4oYW55T3B0aW9ucy5wcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgID8geyBjYWxsUHJvdmlkZXJNZXRhZGF0YTogYW55T3B0aW9ucy5wcm92aWRlck1ldGFkYXRhIH1cbiAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICB9IGFzIFRvb2xVSVBhcnQ8SW5mZXJVSU1lc3NhZ2VUb29sczxVSV9NRVNTQUdFPj4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUR5bmFtaWNUb29sUGFydChcbiAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgdG9vbE5hbWU6IGtleW9mIEluZmVyVUlNZXNzYWdlVG9vbHM8VUlfTUVTU0FHRT4gJiBzdHJpbmc7XG4gICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHN0cmluZztcbiAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG4gICAgICAgICAgICB9ICYgKFxuICAgICAgICAgICAgICB8IHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5wdXQtc3RyZWFtaW5nJztcbiAgICAgICAgICAgICAgICAgIGlucHV0OiB1bmtub3duO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfCB7XG4gICAgICAgICAgICAgICAgICBzdGF0ZTogJ2lucHV0LWF2YWlsYWJsZSc7XG4gICAgICAgICAgICAgICAgICBpbnB1dDogdW5rbm93bjtcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfCB7XG4gICAgICAgICAgICAgICAgICBzdGF0ZTogJ291dHB1dC1hdmFpbGFibGUnO1xuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHVua25vd247XG4gICAgICAgICAgICAgICAgICBvdXRwdXQ6IHVua25vd247XG4gICAgICAgICAgICAgICAgICBwcmVsaW1pbmFyeTogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHwge1xuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdvdXRwdXQtZXJyb3InO1xuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHVua25vd247XG4gICAgICAgICAgICAgICAgICBlcnJvclRleHQ6IHN0cmluZztcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICksXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0ID0gc3RhdGUubWVzc2FnZS5wYXJ0cy5maW5kKFxuICAgICAgICAgICAgICBwYXJ0ID0+XG4gICAgICAgICAgICAgICAgcGFydC50eXBlID09PSAnZHluYW1pYy10b29sJyAmJlxuICAgICAgICAgICAgICAgIHBhcnQudG9vbENhbGxJZCA9PT0gb3B0aW9ucy50b29sQ2FsbElkLFxuICAgICAgICAgICAgKSBhcyBEeW5hbWljVG9vbFVJUGFydCB8IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgY29uc3QgYW55T3B0aW9ucyA9IG9wdGlvbnMgYXMgYW55O1xuICAgICAgICAgICAgY29uc3QgYW55UGFydCA9IHBhcnQgYXMgYW55O1xuXG4gICAgICAgICAgICBpZiAocGFydCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIHBhcnQuc3RhdGUgPSBvcHRpb25zLnN0YXRlO1xuICAgICAgICAgICAgICBhbnlQYXJ0LnRvb2xOYW1lID0gb3B0aW9ucy50b29sTmFtZTtcbiAgICAgICAgICAgICAgYW55UGFydC5pbnB1dCA9IGFueU9wdGlvbnMuaW5wdXQ7XG4gICAgICAgICAgICAgIGFueVBhcnQub3V0cHV0ID0gYW55T3B0aW9ucy5vdXRwdXQ7XG4gICAgICAgICAgICAgIGFueVBhcnQuZXJyb3JUZXh0ID0gYW55T3B0aW9ucy5lcnJvclRleHQ7XG4gICAgICAgICAgICAgIGFueVBhcnQucmF3SW5wdXQgPSBhbnlPcHRpb25zLnJhd0lucHV0ID8/IGFueVBhcnQucmF3SW5wdXQ7XG4gICAgICAgICAgICAgIGFueVBhcnQucHJlbGltaW5hcnkgPSBhbnlPcHRpb25zLnByZWxpbWluYXJ5O1xuXG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBhbnlPcHRpb25zLnByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIHBhcnQuc3RhdGUgPT09ICdpbnB1dC1hdmFpbGFibGUnXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHBhcnQuY2FsbFByb3ZpZGVyTWV0YWRhdGEgPSBhbnlPcHRpb25zLnByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN0YXRlLm1lc3NhZ2UucGFydHMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2R5bmFtaWMtdG9vbCcsXG4gICAgICAgICAgICAgICAgdG9vbE5hbWU6IG9wdGlvbnMudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgdG9vbENhbGxJZDogb3B0aW9ucy50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgIHN0YXRlOiBvcHRpb25zLnN0YXRlLFxuICAgICAgICAgICAgICAgIGlucHV0OiBhbnlPcHRpb25zLmlucHV0LFxuICAgICAgICAgICAgICAgIG91dHB1dDogYW55T3B0aW9ucy5vdXRwdXQsXG4gICAgICAgICAgICAgICAgZXJyb3JUZXh0OiBhbnlPcHRpb25zLmVycm9yVGV4dCxcbiAgICAgICAgICAgICAgICBwcmVsaW1pbmFyeTogYW55T3B0aW9ucy5wcmVsaW1pbmFyeSxcbiAgICAgICAgICAgICAgICAuLi4oYW55T3B0aW9ucy5wcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgID8geyBjYWxsUHJvdmlkZXJNZXRhZGF0YTogYW55T3B0aW9ucy5wcm92aWRlck1ldGFkYXRhIH1cbiAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICB9IGFzIER5bmFtaWNUb29sVUlQYXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhc3luYyBmdW5jdGlvbiB1cGRhdGVNZXNzYWdlTWV0YWRhdGEobWV0YWRhdGE6IHVua25vd24pIHtcbiAgICAgICAgICAgIGlmIChtZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG1lcmdlZE1ldGFkYXRhID1cbiAgICAgICAgICAgICAgICBzdGF0ZS5tZXNzYWdlLm1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgID8gbWVyZ2VPYmplY3RzKHN0YXRlLm1lc3NhZ2UubWV0YWRhdGEsIG1ldGFkYXRhKVxuICAgICAgICAgICAgICAgICAgOiBtZXRhZGF0YTtcblxuICAgICAgICAgICAgICBpZiAobWVzc2FnZU1ldGFkYXRhU2NoZW1hICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB2YWxpZGF0ZVR5cGVzKHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBtZXJnZWRNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgIHNjaGVtYTogbWVzc2FnZU1ldGFkYXRhU2NoZW1hLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc3RhdGUubWVzc2FnZS5tZXRhZGF0YSA9XG4gICAgICAgICAgICAgICAgbWVyZ2VkTWV0YWRhdGEgYXMgSW5mZXJVSU1lc3NhZ2VNZXRhZGF0YTxVSV9NRVNTQUdFPjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzd2l0Y2ggKGNodW5rLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3RleHQtc3RhcnQnOiB7XG4gICAgICAgICAgICAgIGNvbnN0IHRleHRQYXJ0OiBUZXh0VUlQYXJ0ID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBjaHVuay5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgIHN0YXRlOiAnc3RyZWFtaW5nJyxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgc3RhdGUuYWN0aXZlVGV4dFBhcnRzW2NodW5rLmlkXSA9IHRleHRQYXJ0O1xuICAgICAgICAgICAgICBzdGF0ZS5tZXNzYWdlLnBhcnRzLnB1c2godGV4dFBhcnQpO1xuICAgICAgICAgICAgICB3cml0ZSgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAndGV4dC1kZWx0YSc6IHtcbiAgICAgICAgICAgICAgY29uc3QgdGV4dFBhcnQgPSBzdGF0ZS5hY3RpdmVUZXh0UGFydHNbY2h1bmsuaWRdO1xuICAgICAgICAgICAgICB0ZXh0UGFydC50ZXh0ICs9IGNodW5rLmRlbHRhO1xuICAgICAgICAgICAgICB0ZXh0UGFydC5wcm92aWRlck1ldGFkYXRhID1cbiAgICAgICAgICAgICAgICBjaHVuay5wcm92aWRlck1ldGFkYXRhID8/IHRleHRQYXJ0LnByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICd0ZXh0LWVuZCc6IHtcbiAgICAgICAgICAgICAgY29uc3QgdGV4dFBhcnQgPSBzdGF0ZS5hY3RpdmVUZXh0UGFydHNbY2h1bmsuaWRdO1xuICAgICAgICAgICAgICB0ZXh0UGFydC5zdGF0ZSA9ICdkb25lJztcbiAgICAgICAgICAgICAgdGV4dFBhcnQucHJvdmlkZXJNZXRhZGF0YSA9XG4gICAgICAgICAgICAgICAgY2h1bmsucHJvdmlkZXJNZXRhZGF0YSA/PyB0ZXh0UGFydC5wcm92aWRlck1ldGFkYXRhO1xuICAgICAgICAgICAgICBkZWxldGUgc3RhdGUuYWN0aXZlVGV4dFBhcnRzW2NodW5rLmlkXTtcbiAgICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3JlYXNvbmluZy1zdGFydCc6IHtcbiAgICAgICAgICAgICAgY29uc3QgcmVhc29uaW5nUGFydDogUmVhc29uaW5nVUlQYXJ0ID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdyZWFzb25pbmcnLFxuICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IGNodW5rLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgc3RhdGU6ICdzdHJlYW1pbmcnLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBzdGF0ZS5hY3RpdmVSZWFzb25pbmdQYXJ0c1tjaHVuay5pZF0gPSByZWFzb25pbmdQYXJ0O1xuICAgICAgICAgICAgICBzdGF0ZS5tZXNzYWdlLnBhcnRzLnB1c2gocmVhc29uaW5nUGFydCk7XG4gICAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdyZWFzb25pbmctZGVsdGEnOiB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlYXNvbmluZ1BhcnQgPSBzdGF0ZS5hY3RpdmVSZWFzb25pbmdQYXJ0c1tjaHVuay5pZF07XG4gICAgICAgICAgICAgIHJlYXNvbmluZ1BhcnQudGV4dCArPSBjaHVuay5kZWx0YTtcbiAgICAgICAgICAgICAgcmVhc29uaW5nUGFydC5wcm92aWRlck1ldGFkYXRhID1cbiAgICAgICAgICAgICAgICBjaHVuay5wcm92aWRlck1ldGFkYXRhID8/IHJlYXNvbmluZ1BhcnQucHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3JlYXNvbmluZy1lbmQnOiB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlYXNvbmluZ1BhcnQgPSBzdGF0ZS5hY3RpdmVSZWFzb25pbmdQYXJ0c1tjaHVuay5pZF07XG4gICAgICAgICAgICAgIHJlYXNvbmluZ1BhcnQucHJvdmlkZXJNZXRhZGF0YSA9XG4gICAgICAgICAgICAgICAgY2h1bmsucHJvdmlkZXJNZXRhZGF0YSA/PyByZWFzb25pbmdQYXJ0LnByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICAgICAgICAgIHJlYXNvbmluZ1BhcnQuc3RhdGUgPSAnZG9uZSc7XG4gICAgICAgICAgICAgIGRlbGV0ZSBzdGF0ZS5hY3RpdmVSZWFzb25pbmdQYXJ0c1tjaHVuay5pZF07XG5cbiAgICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ2ZpbGUnOiB7XG4gICAgICAgICAgICAgIHN0YXRlLm1lc3NhZ2UucGFydHMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2ZpbGUnLFxuICAgICAgICAgICAgICAgIG1lZGlhVHlwZTogY2h1bmsubWVkaWFUeXBlLFxuICAgICAgICAgICAgICAgIHVybDogY2h1bmsudXJsLFxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICB3cml0ZSgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnc291cmNlLXVybCc6IHtcbiAgICAgICAgICAgICAgc3RhdGUubWVzc2FnZS5wYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnc291cmNlLXVybCcsXG4gICAgICAgICAgICAgICAgc291cmNlSWQ6IGNodW5rLnNvdXJjZUlkLFxuICAgICAgICAgICAgICAgIHVybDogY2h1bmsudXJsLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBjaHVuay50aXRsZSxcbiAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBjaHVuay5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICB3cml0ZSgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnc291cmNlLWRvY3VtZW50Jzoge1xuICAgICAgICAgICAgICBzdGF0ZS5tZXNzYWdlLnBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdzb3VyY2UtZG9jdW1lbnQnLFxuICAgICAgICAgICAgICAgIHNvdXJjZUlkOiBjaHVuay5zb3VyY2VJZCxcbiAgICAgICAgICAgICAgICBtZWRpYVR5cGU6IGNodW5rLm1lZGlhVHlwZSxcbiAgICAgICAgICAgICAgICB0aXRsZTogY2h1bmsudGl0bGUsXG4gICAgICAgICAgICAgICAgZmlsZW5hbWU6IGNodW5rLmZpbGVuYW1lLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IGNodW5rLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICd0b29sLWlucHV0LXN0YXJ0Jzoge1xuICAgICAgICAgICAgICBjb25zdCB0b29sSW52b2NhdGlvbnMgPSBzdGF0ZS5tZXNzYWdlLnBhcnRzLmZpbHRlcihpc1Rvb2xVSVBhcnQpO1xuXG4gICAgICAgICAgICAgIC8vIGFkZCB0aGUgcGFydGlhbCB0b29sIGNhbGwgdG8gdGhlIG1hcFxuICAgICAgICAgICAgICBzdGF0ZS5wYXJ0aWFsVG9vbENhbGxzW2NodW5rLnRvb2xDYWxsSWRdID0ge1xuICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBjaHVuay50b29sTmFtZSxcbiAgICAgICAgICAgICAgICBpbmRleDogdG9vbEludm9jYXRpb25zLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBkeW5hbWljOiBjaHVuay5keW5hbWljLFxuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGlmIChjaHVuay5keW5hbWljKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlRHluYW1pY1Rvb2xQYXJ0KHtcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogY2h1bmsudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICBzdGF0ZTogJ2lucHV0LXN0cmVhbWluZycsXG4gICAgICAgICAgICAgICAgICBpbnB1dDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVRvb2xQYXJ0KHtcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogY2h1bmsudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICBzdGF0ZTogJ2lucHV0LXN0cmVhbWluZycsXG4gICAgICAgICAgICAgICAgICBpbnB1dDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogY2h1bmsucHJvdmlkZXJFeGVjdXRlZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICd0b29sLWlucHV0LWRlbHRhJzoge1xuICAgICAgICAgICAgICBjb25zdCBwYXJ0aWFsVG9vbENhbGwgPSBzdGF0ZS5wYXJ0aWFsVG9vbENhbGxzW2NodW5rLnRvb2xDYWxsSWRdO1xuXG4gICAgICAgICAgICAgIHBhcnRpYWxUb29sQ2FsbC50ZXh0ICs9IGNodW5rLmlucHV0VGV4dERlbHRhO1xuXG4gICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IHBhcnRpYWxBcmdzIH0gPSBhd2FpdCBwYXJzZVBhcnRpYWxKc29uKFxuICAgICAgICAgICAgICAgIHBhcnRpYWxUb29sQ2FsbC50ZXh0LFxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIGlmIChwYXJ0aWFsVG9vbENhbGwuZHluYW1pYykge1xuICAgICAgICAgICAgICAgIHVwZGF0ZUR5bmFtaWNUb29sUGFydCh7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IHBhcnRpYWxUb29sQ2FsbC50b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5wdXQtc3RyZWFtaW5nJyxcbiAgICAgICAgICAgICAgICAgIGlucHV0OiBwYXJ0aWFsQXJncyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVUb29sUGFydCh7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IHBhcnRpYWxUb29sQ2FsbC50b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5wdXQtc3RyZWFtaW5nJyxcbiAgICAgICAgICAgICAgICAgIGlucHV0OiBwYXJ0aWFsQXJncyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICd0b29sLWlucHV0LWF2YWlsYWJsZSc6IHtcbiAgICAgICAgICAgICAgaWYgKGNodW5rLmR5bmFtaWMpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVEeW5hbWljVG9vbFBhcnQoe1xuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBjaHVuay50b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5wdXQtYXZhaWxhYmxlJyxcbiAgICAgICAgICAgICAgICAgIGlucHV0OiBjaHVuay5pbnB1dCxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IGNodW5rLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlVG9vbFBhcnQoe1xuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBjaHVuay50b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5wdXQtYXZhaWxhYmxlJyxcbiAgICAgICAgICAgICAgICAgIGlucHV0OiBjaHVuay5pbnB1dCxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IGNodW5rLnByb3ZpZGVyRXhlY3V0ZWQsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBjaHVuay5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgd3JpdGUoKTtcblxuICAgICAgICAgICAgICAvLyBpbnZva2UgdGhlIG9uVG9vbENhbGwgY2FsbGJhY2sgaWYgaXQgZXhpc3RzLiBUaGlzIGlzIGJsb2NraW5nLlxuICAgICAgICAgICAgICAvLyBJbiB0aGUgZnV0dXJlIHdlIHNob3VsZCBtYWtlIHRoaXMgbm9uLWJsb2NraW5nLCB3aGljaFxuICAgICAgICAgICAgICAvLyByZXF1aXJlcyBhZGRpdGlvbmFsIHN0YXRlIG1hbmFnZW1lbnQgZm9yIGVycm9yIGhhbmRsaW5nIGV0Yy5cbiAgICAgICAgICAgICAgLy8gU2tpcCBjYWxsaW5nIG9uVG9vbENhbGwgZm9yIHByb3ZpZGVyLWV4ZWN1dGVkIHRvb2xzIHNpbmNlIHRoZXkgYXJlIGFscmVhZHkgZXhlY3V0ZWRcbiAgICAgICAgICAgICAgaWYgKG9uVG9vbENhbGwgJiYgIWNodW5rLnByb3ZpZGVyRXhlY3V0ZWQpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBvblRvb2xDYWxsKHtcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsOiBjaHVuayBhcyBJbmZlclVJTWVzc2FnZVRvb2xDYWxsPFVJX01FU1NBR0U+LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICd0b29sLWlucHV0LWVycm9yJzoge1xuICAgICAgICAgICAgICBpZiAoY2h1bmsuZHluYW1pYykge1xuICAgICAgICAgICAgICAgIHVwZGF0ZUR5bmFtaWNUb29sUGFydCh7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IGNodW5rLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdvdXRwdXQtZXJyb3InLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IGNodW5rLmlucHV0LFxuICAgICAgICAgICAgICAgICAgZXJyb3JUZXh0OiBjaHVuay5lcnJvclRleHQsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBjaHVuay5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVRvb2xQYXJ0KHtcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogY2h1bmsudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICBzdGF0ZTogJ291dHB1dC1lcnJvcicsXG4gICAgICAgICAgICAgICAgICBpbnB1dDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgcmF3SW5wdXQ6IGNodW5rLmlucHV0LFxuICAgICAgICAgICAgICAgICAgZXJyb3JUZXh0OiBjaHVuay5lcnJvclRleHQsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiBjaHVuay5wcm92aWRlckV4ZWN1dGVkLFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogY2h1bmsucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICd0b29sLW91dHB1dC1hdmFpbGFibGUnOiB7XG4gICAgICAgICAgICAgIGlmIChjaHVuay5keW5hbWljKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vbEludm9jYXRpb24gPSBnZXREeW5hbWljVG9vbEludm9jYXRpb24oXG4gICAgICAgICAgICAgICAgICBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICB1cGRhdGVEeW5hbWljVG9vbFBhcnQoe1xuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiB0b29sSW52b2NhdGlvbi50b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnb3V0cHV0LWF2YWlsYWJsZScsXG4gICAgICAgICAgICAgICAgICBpbnB1dDogKHRvb2xJbnZvY2F0aW9uIGFzIGFueSkuaW5wdXQsXG4gICAgICAgICAgICAgICAgICBvdXRwdXQ6IGNodW5rLm91dHB1dCxcbiAgICAgICAgICAgICAgICAgIHByZWxpbWluYXJ5OiBjaHVuay5wcmVsaW1pbmFyeSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29sSW52b2NhdGlvbiA9IGdldFRvb2xJbnZvY2F0aW9uKGNodW5rLnRvb2xDYWxsSWQpO1xuXG4gICAgICAgICAgICAgICAgdXBkYXRlVG9vbFBhcnQoe1xuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBnZXRUb29sTmFtZSh0b29sSW52b2NhdGlvbiksXG4gICAgICAgICAgICAgICAgICBzdGF0ZTogJ291dHB1dC1hdmFpbGFibGUnLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6ICh0b29sSW52b2NhdGlvbiBhcyBhbnkpLmlucHV0LFxuICAgICAgICAgICAgICAgICAgb3V0cHV0OiBjaHVuay5vdXRwdXQsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiBjaHVuay5wcm92aWRlckV4ZWN1dGVkLFxuICAgICAgICAgICAgICAgICAgcHJlbGltaW5hcnk6IGNodW5rLnByZWxpbWluYXJ5LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3Rvb2wtb3V0cHV0LWVycm9yJzoge1xuICAgICAgICAgICAgICBpZiAoY2h1bmsuZHluYW1pYykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xJbnZvY2F0aW9uID0gZ2V0RHluYW1pY1Rvb2xJbnZvY2F0aW9uKFxuICAgICAgICAgICAgICAgICAgY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgdXBkYXRlRHluYW1pY1Rvb2xQYXJ0KHtcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogdG9vbEludm9jYXRpb24udG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICBzdGF0ZTogJ291dHB1dC1lcnJvcicsXG4gICAgICAgICAgICAgICAgICBpbnB1dDogKHRvb2xJbnZvY2F0aW9uIGFzIGFueSkuaW5wdXQsXG4gICAgICAgICAgICAgICAgICBlcnJvclRleHQ6IGNodW5rLmVycm9yVGV4dCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29sSW52b2NhdGlvbiA9IGdldFRvb2xJbnZvY2F0aW9uKGNodW5rLnRvb2xDYWxsSWQpO1xuXG4gICAgICAgICAgICAgICAgdXBkYXRlVG9vbFBhcnQoe1xuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBnZXRUb29sTmFtZSh0b29sSW52b2NhdGlvbiksXG4gICAgICAgICAgICAgICAgICBzdGF0ZTogJ291dHB1dC1lcnJvcicsXG4gICAgICAgICAgICAgICAgICBpbnB1dDogKHRvb2xJbnZvY2F0aW9uIGFzIGFueSkuaW5wdXQsXG4gICAgICAgICAgICAgICAgICByYXdJbnB1dDogKHRvb2xJbnZvY2F0aW9uIGFzIGFueSkucmF3SW5wdXQsXG4gICAgICAgICAgICAgICAgICBlcnJvclRleHQ6IGNodW5rLmVycm9yVGV4dCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdzdGFydC1zdGVwJzoge1xuICAgICAgICAgICAgICAvLyBhZGQgYSBzdGVwIGJvdW5kYXJ5IHBhcnQgdG8gdGhlIG1lc3NhZ2VcbiAgICAgICAgICAgICAgc3RhdGUubWVzc2FnZS5wYXJ0cy5wdXNoKHsgdHlwZTogJ3N0ZXAtc3RhcnQnIH0pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnZmluaXNoLXN0ZXAnOiB7XG4gICAgICAgICAgICAgIC8vIHJlc2V0IHRoZSBjdXJyZW50IHRleHQgYW5kIHJlYXNvbmluZyBwYXJ0c1xuICAgICAgICAgICAgICBzdGF0ZS5hY3RpdmVUZXh0UGFydHMgPSB7fTtcbiAgICAgICAgICAgICAgc3RhdGUuYWN0aXZlUmVhc29uaW5nUGFydHMgPSB7fTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3N0YXJ0Jzoge1xuICAgICAgICAgICAgICBpZiAoY2h1bmsubWVzc2FnZUlkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5tZXNzYWdlLmlkID0gY2h1bmsubWVzc2FnZUlkO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlTWVzc2FnZU1ldGFkYXRhKGNodW5rLm1lc3NhZ2VNZXRhZGF0YSk7XG5cbiAgICAgICAgICAgICAgaWYgKGNodW5rLm1lc3NhZ2VJZCAhPSBudWxsIHx8IGNodW5rLm1lc3NhZ2VNZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnZmluaXNoJzoge1xuICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVNZXNzYWdlTWV0YWRhdGEoY2h1bmsubWVzc2FnZU1ldGFkYXRhKTtcbiAgICAgICAgICAgICAgaWYgKGNodW5rLm1lc3NhZ2VNZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnbWVzc2FnZS1tZXRhZGF0YSc6IHtcbiAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlTWVzc2FnZU1ldGFkYXRhKGNodW5rLm1lc3NhZ2VNZXRhZGF0YSk7XG4gICAgICAgICAgICAgIGlmIChjaHVuay5tZXNzYWdlTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ2Vycm9yJzoge1xuICAgICAgICAgICAgICBvbkVycm9yPy4obmV3IEVycm9yKGNodW5rLmVycm9yVGV4dCkpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICBpZiAoaXNEYXRhVUlNZXNzYWdlQ2h1bmsoY2h1bmspKSB7XG4gICAgICAgICAgICAgICAgLy8gdmFsaWRhdGUgZGF0YSBjaHVuayBpZiBkYXRhUGFydFNjaGVtYXMgaXMgcHJvdmlkZWRcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVBhcnRTY2hlbWFzPy5bY2h1bmsudHlwZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgYXdhaXQgdmFsaWRhdGVUeXBlcyh7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjaHVuay5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBzY2hlbWE6IGRhdGFQYXJ0U2NoZW1hc1tjaHVuay50eXBlXSxcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGNhc3QsIHZhbGlkYXRpb24gaXMgZG9uZSBhYm92ZVxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFDaHVuayA9IGNodW5rIGFzIERhdGFVSU1lc3NhZ2VDaHVuazxcbiAgICAgICAgICAgICAgICAgIEluZmVyVUlNZXNzYWdlRGF0YTxVSV9NRVNTQUdFPlxuICAgICAgICAgICAgICAgID47XG5cbiAgICAgICAgICAgICAgICAvLyB0cmFuc2llbnQgcGFydHMgYXJlIG5vdCBhZGRlZCB0byB0aGUgbWVzc2FnZSBzdGF0ZVxuICAgICAgICAgICAgICAgIGlmIChkYXRhQ2h1bmsudHJhbnNpZW50KSB7XG4gICAgICAgICAgICAgICAgICBvbkRhdGE/LihkYXRhQ2h1bmspO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdVSVBhcnQgPVxuICAgICAgICAgICAgICAgICAgZGF0YUNodW5rLmlkICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyAoc3RhdGUubWVzc2FnZS5wYXJ0cy5maW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmtBcmcgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUNodW5rLnR5cGUgPT09IGNodW5rQXJnLnR5cGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUNodW5rLmlkID09PSBjaHVua0FyZy5pZCxcbiAgICAgICAgICAgICAgICAgICAgICApIGFzXG4gICAgICAgICAgICAgICAgICAgICAgICB8IERhdGFVSVBhcnQ8SW5mZXJVSU1lc3NhZ2VEYXRhPFVJX01FU1NBR0U+PlxuICAgICAgICAgICAgICAgICAgICAgICAgfCB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nVUlQYXJ0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIGV4aXN0aW5nVUlQYXJ0LmRhdGEgPSBkYXRhQ2h1bmsuZGF0YTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgc3RhdGUubWVzc2FnZS5wYXJ0cy5wdXNoKGRhdGFDaHVuayk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgb25EYXRhPy4oZGF0YUNodW5rKTtcblxuICAgICAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmsgYXMgSW5mZXJVSU1lc3NhZ2VDaHVuazxVSV9NRVNTQUdFPik7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9KSxcbiAgKTtcbn1cbiIsICJpbXBvcnQgeyB6IH0gZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7XG4gIFByb3ZpZGVyTWV0YWRhdGEsXG4gIHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEsXG59IGZyb20gJy4uL3R5cGVzL3Byb3ZpZGVyLW1ldGFkYXRhJztcbmltcG9ydCB7XG4gIEluZmVyVUlNZXNzYWdlRGF0YSxcbiAgSW5mZXJVSU1lc3NhZ2VNZXRhZGF0YSxcbiAgVUlEYXRhVHlwZXMsXG4gIFVJTWVzc2FnZSxcbn0gZnJvbSAnLi4vdWkvdWktbWVzc2FnZXMnO1xuaW1wb3J0IHsgVmFsdWVPZiB9IGZyb20gJy4uL3V0aWwvdmFsdWUtb2YnO1xuXG5leHBvcnQgY29uc3QgdWlNZXNzYWdlQ2h1bmtTY2hlbWEgPSB6LnVuaW9uKFtcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgndGV4dC1zdGFydCcpLFxuICAgIGlkOiB6LnN0cmluZygpLFxuICAgIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgfSksXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3RleHQtZGVsdGEnKSxcbiAgICBpZDogei5zdHJpbmcoKSxcbiAgICBkZWx0YTogei5zdHJpbmcoKSxcbiAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gIH0pLFxuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCd0ZXh0LWVuZCcpLFxuICAgIGlkOiB6LnN0cmluZygpLFxuICAgIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgfSksXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2Vycm9yJyksXG4gICAgZXJyb3JUZXh0OiB6LnN0cmluZygpLFxuICB9KSxcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgndG9vbC1pbnB1dC1zdGFydCcpLFxuICAgIHRvb2xDYWxsSWQ6IHouc3RyaW5nKCksXG4gICAgdG9vbE5hbWU6IHouc3RyaW5nKCksXG4gICAgcHJvdmlkZXJFeGVjdXRlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICBkeW5hbWljOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICB9KSxcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgndG9vbC1pbnB1dC1kZWx0YScpLFxuICAgIHRvb2xDYWxsSWQ6IHouc3RyaW5nKCksXG4gICAgaW5wdXRUZXh0RGVsdGE6IHouc3RyaW5nKCksXG4gIH0pLFxuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCd0b29sLWlucHV0LWF2YWlsYWJsZScpLFxuICAgIHRvb2xDYWxsSWQ6IHouc3RyaW5nKCksXG4gICAgdG9vbE5hbWU6IHouc3RyaW5nKCksXG4gICAgaW5wdXQ6IHoudW5rbm93bigpLFxuICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICAgIGR5bmFtaWM6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gIH0pLFxuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCd0b29sLWlucHV0LWVycm9yJyksXG4gICAgdG9vbENhbGxJZDogei5zdHJpbmcoKSxcbiAgICB0b29sTmFtZTogei5zdHJpbmcoKSxcbiAgICBpbnB1dDogei51bmtub3duKCksXG4gICAgcHJvdmlkZXJFeGVjdXRlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gICAgZHluYW1pYzogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICBlcnJvclRleHQ6IHouc3RyaW5nKCksXG4gIH0pLFxuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCd0b29sLW91dHB1dC1hdmFpbGFibGUnKSxcbiAgICB0b29sQ2FsbElkOiB6LnN0cmluZygpLFxuICAgIG91dHB1dDogei51bmtub3duKCksXG4gICAgcHJvdmlkZXJFeGVjdXRlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICBkeW5hbWljOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgIHByZWxpbWluYXJ5OiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICB9KSxcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgndG9vbC1vdXRwdXQtZXJyb3InKSxcbiAgICB0b29sQ2FsbElkOiB6LnN0cmluZygpLFxuICAgIGVycm9yVGV4dDogei5zdHJpbmcoKSxcbiAgICBwcm92aWRlckV4ZWN1dGVkOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgIGR5bmFtaWM6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gIH0pLFxuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZWFzb25pbmcnKSxcbiAgICB0ZXh0OiB6LnN0cmluZygpLFxuICAgIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgfSksXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3JlYXNvbmluZy1zdGFydCcpLFxuICAgIGlkOiB6LnN0cmluZygpLFxuICAgIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgfSksXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3JlYXNvbmluZy1kZWx0YScpLFxuICAgIGlkOiB6LnN0cmluZygpLFxuICAgIGRlbHRhOiB6LnN0cmluZygpLFxuICAgIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgfSksXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3JlYXNvbmluZy1lbmQnKSxcbiAgICBpZDogei5zdHJpbmcoKSxcbiAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gIH0pLFxuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZWFzb25pbmctcGFydC1maW5pc2gnKSxcbiAgfSksXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3NvdXJjZS11cmwnKSxcbiAgICBzb3VyY2VJZDogei5zdHJpbmcoKSxcbiAgICB1cmw6IHouc3RyaW5nKCksXG4gICAgdGl0bGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gIH0pLFxuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdzb3VyY2UtZG9jdW1lbnQnKSxcbiAgICBzb3VyY2VJZDogei5zdHJpbmcoKSxcbiAgICBtZWRpYVR5cGU6IHouc3RyaW5nKCksXG4gICAgdGl0bGU6IHouc3RyaW5nKCksXG4gICAgZmlsZW5hbWU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gIH0pLFxuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdmaWxlJyksXG4gICAgdXJsOiB6LnN0cmluZygpLFxuICAgIG1lZGlhVHlwZTogei5zdHJpbmcoKSxcbiAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gIH0pLFxuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5zdHJpbmcoKS5zdGFydHNXaXRoKCdkYXRhLScpLFxuICAgIGlkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgZGF0YTogei51bmtub3duKCksXG4gICAgdHJhbnNpZW50OiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICB9KSxcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnc3RhcnQtc3RlcCcpLFxuICB9KSxcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnZmluaXNoLXN0ZXAnKSxcbiAgfSksXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3N0YXJ0JyksXG4gICAgbWVzc2FnZUlkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgbWVzc2FnZU1ldGFkYXRhOiB6LnVua25vd24oKS5vcHRpb25hbCgpLFxuICB9KSxcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnZmluaXNoJyksXG4gICAgbWVzc2FnZU1ldGFkYXRhOiB6LnVua25vd24oKS5vcHRpb25hbCgpLFxuICB9KSxcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnYWJvcnQnKSxcbiAgfSksXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ21lc3NhZ2UtbWV0YWRhdGEnKSxcbiAgICBtZXNzYWdlTWV0YWRhdGE6IHoudW5rbm93bigpLFxuICB9KSxcbl0pO1xuXG5leHBvcnQgdHlwZSBEYXRhVUlNZXNzYWdlQ2h1bms8REFUQV9UWVBFUyBleHRlbmRzIFVJRGF0YVR5cGVzPiA9IFZhbHVlT2Y8e1xuICBbTkFNRSBpbiBrZXlvZiBEQVRBX1RZUEVTICYgc3RyaW5nXToge1xuICAgIHR5cGU6IGBkYXRhLSR7TkFNRX1gO1xuICAgIGlkPzogc3RyaW5nO1xuICAgIGRhdGE6IERBVEFfVFlQRVNbTkFNRV07XG4gICAgdHJhbnNpZW50PzogYm9vbGVhbjtcbiAgfTtcbn0+O1xuXG5leHBvcnQgdHlwZSBVSU1lc3NhZ2VDaHVuazxcbiAgTUVUQURBVEEgPSB1bmtub3duLFxuICBEQVRBX1RZUEVTIGV4dGVuZHMgVUlEYXRhVHlwZXMgPSBVSURhdGFUeXBlcyxcbj4gPVxuICB8IHtcbiAgICAgIHR5cGU6ICd0ZXh0LXN0YXJ0JztcbiAgICAgIGlkOiBzdHJpbmc7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3RleHQtZGVsdGEnO1xuICAgICAgZGVsdGE6IHN0cmluZztcbiAgICAgIGlkOiBzdHJpbmc7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3RleHQtZW5kJztcbiAgICAgIGlkOiBzdHJpbmc7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3JlYXNvbmluZy1zdGFydCc7XG4gICAgICBpZDogc3RyaW5nO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdyZWFzb25pbmctZGVsdGEnO1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIGRlbHRhOiBzdHJpbmc7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3JlYXNvbmluZy1lbmQnO1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAnZXJyb3InO1xuICAgICAgZXJyb3JUZXh0OiBzdHJpbmc7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICd0b29sLWlucHV0LWF2YWlsYWJsZSc7XG4gICAgICB0b29sQ2FsbElkOiBzdHJpbmc7XG4gICAgICB0b29sTmFtZTogc3RyaW5nO1xuICAgICAgaW5wdXQ6IHVua25vd247XG4gICAgICBwcm92aWRlckV4ZWN1dGVkPzogYm9vbGVhbjtcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgICAgZHluYW1pYz86IGJvb2xlYW47XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICd0b29sLWlucHV0LWVycm9yJztcbiAgICAgIHRvb2xDYWxsSWQ6IHN0cmluZztcbiAgICAgIHRvb2xOYW1lOiBzdHJpbmc7XG4gICAgICBpbnB1dDogdW5rbm93bjtcbiAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ/OiBib29sZWFuO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICBkeW5hbWljPzogYm9vbGVhbjtcbiAgICAgIGVycm9yVGV4dDogc3RyaW5nO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAndG9vbC1vdXRwdXQtYXZhaWxhYmxlJztcbiAgICAgIHRvb2xDYWxsSWQ6IHN0cmluZztcbiAgICAgIG91dHB1dDogdW5rbm93bjtcbiAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ/OiBib29sZWFuO1xuICAgICAgZHluYW1pYz86IGJvb2xlYW47XG4gICAgICBwcmVsaW1pbmFyeT86IGJvb2xlYW47XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICd0b29sLW91dHB1dC1lcnJvcic7XG4gICAgICB0b29sQ2FsbElkOiBzdHJpbmc7XG4gICAgICBlcnJvclRleHQ6IHN0cmluZztcbiAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ/OiBib29sZWFuO1xuICAgICAgZHluYW1pYz86IGJvb2xlYW47XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICd0b29sLWlucHV0LXN0YXJ0JztcbiAgICAgIHRvb2xDYWxsSWQ6IHN0cmluZztcbiAgICAgIHRvb2xOYW1lOiBzdHJpbmc7XG4gICAgICBwcm92aWRlckV4ZWN1dGVkPzogYm9vbGVhbjtcbiAgICAgIGR5bmFtaWM/OiBib29sZWFuO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAndG9vbC1pbnB1dC1kZWx0YSc7XG4gICAgICB0b29sQ2FsbElkOiBzdHJpbmc7XG4gICAgICBpbnB1dFRleHREZWx0YTogc3RyaW5nO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAnc291cmNlLXVybCc7XG4gICAgICBzb3VyY2VJZDogc3RyaW5nO1xuICAgICAgdXJsOiBzdHJpbmc7XG4gICAgICB0aXRsZT86IHN0cmluZztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAnc291cmNlLWRvY3VtZW50JztcbiAgICAgIHNvdXJjZUlkOiBzdHJpbmc7XG4gICAgICBtZWRpYVR5cGU6IHN0cmluZztcbiAgICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgICBmaWxlbmFtZT86IHN0cmluZztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAnZmlsZSc7XG4gICAgICB1cmw6IHN0cmluZztcbiAgICAgIG1lZGlhVHlwZTogc3RyaW5nO1xuICAgIH1cbiAgfCBEYXRhVUlNZXNzYWdlQ2h1bms8REFUQV9UWVBFUz5cbiAgfCB7XG4gICAgICB0eXBlOiAnc3RhcnQtc3RlcCc7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdmaW5pc2gtc3RlcCc7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdzdGFydCc7XG4gICAgICBtZXNzYWdlSWQ/OiBzdHJpbmc7XG4gICAgICBtZXNzYWdlTWV0YWRhdGE/OiBNRVRBREFUQTtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ2ZpbmlzaCc7XG4gICAgICBtZXNzYWdlTWV0YWRhdGE/OiBNRVRBREFUQTtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ2Fib3J0JztcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ21lc3NhZ2UtbWV0YWRhdGEnO1xuICAgICAgbWVzc2FnZU1ldGFkYXRhOiBNRVRBREFUQTtcbiAgICB9O1xuXG5leHBvcnQgZnVuY3Rpb24gaXNEYXRhVUlNZXNzYWdlQ2h1bmsoXG4gIGNodW5rOiBVSU1lc3NhZ2VDaHVuayxcbik6IGNodW5rIGlzIERhdGFVSU1lc3NhZ2VDaHVuazxVSURhdGFUeXBlcz4ge1xuICByZXR1cm4gY2h1bmsudHlwZS5zdGFydHNXaXRoKCdkYXRhLScpO1xufVxuXG5leHBvcnQgdHlwZSBJbmZlclVJTWVzc2FnZUNodW5rPFQgZXh0ZW5kcyBVSU1lc3NhZ2U+ID0gVUlNZXNzYWdlQ2h1bms8XG4gIEluZmVyVUlNZXNzYWdlTWV0YWRhdGE8VD4sXG4gIEluZmVyVUlNZXNzYWdlRGF0YTxUPlxuPjtcbiIsICIvKipcbiAqIERlZXBseSBtZXJnZXMgdHdvIG9iamVjdHMgdG9nZXRoZXIuXG4gKiAtIFByb3BlcnRpZXMgZnJvbSB0aGUgYG92ZXJyaWRlc2Agb2JqZWN0IG92ZXJyaWRlIHRob3NlIGluIHRoZSBgYmFzZWAgb2JqZWN0IHdpdGggdGhlIHNhbWUga2V5LlxuICogLSBGb3IgbmVzdGVkIG9iamVjdHMsIHRoZSBtZXJnZSBpcyBwZXJmb3JtZWQgcmVjdXJzaXZlbHkgKGRlZXAgbWVyZ2UpLlxuICogLSBBcnJheXMgYXJlIHJlcGxhY2VkLCBub3QgbWVyZ2VkLlxuICogLSBQcmltaXRpdmUgdmFsdWVzIGFyZSByZXBsYWNlZC5cbiAqIC0gSWYgYm90aCBgYmFzZWAgYW5kIGBvdmVycmlkZXNgIGFyZSB1bmRlZmluZWQsIHJldHVybnMgdW5kZWZpbmVkLlxuICogLSBJZiBvbmUgb2YgYGJhc2VgIG9yIGBvdmVycmlkZXNgIGlzIHVuZGVmaW5lZCwgcmV0dXJucyB0aGUgb3RoZXIuXG4gKlxuICogQHBhcmFtIGJhc2UgVGhlIHRhcmdldCBvYmplY3QgdG8gbWVyZ2UgaW50b1xuICogQHBhcmFtIG92ZXJyaWRlcyBUaGUgc291cmNlIG9iamVjdCB0byBtZXJnZSBmcm9tXG4gKiBAcmV0dXJucyBBIG5ldyBvYmplY3Qgd2l0aCB0aGUgbWVyZ2VkIHByb3BlcnRpZXMsIG9yIHVuZGVmaW5lZCBpZiBib3RoIGlucHV0cyBhcmUgdW5kZWZpbmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZU9iamVjdHM8VCBleHRlbmRzIG9iamVjdCwgVSBleHRlbmRzIG9iamVjdD4oXG4gIGJhc2U6IFQgfCB1bmRlZmluZWQsXG4gIG92ZXJyaWRlczogVSB8IHVuZGVmaW5lZCxcbik6IChUICYgVSkgfCBUIHwgVSB8IHVuZGVmaW5lZCB7XG4gIC8vIElmIGJvdGggaW5wdXRzIGFyZSB1bmRlZmluZWQsIHJldHVybiB1bmRlZmluZWRcbiAgaWYgKGJhc2UgPT09IHVuZGVmaW5lZCAmJiBvdmVycmlkZXMgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvLyBJZiB0YXJnZXQgaXMgdW5kZWZpbmVkLCByZXR1cm4gc291cmNlXG4gIGlmIChiYXNlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gb3ZlcnJpZGVzO1xuICB9XG5cbiAgLy8gSWYgc291cmNlIGlzIHVuZGVmaW5lZCwgcmV0dXJuIHRhcmdldFxuICBpZiAob3ZlcnJpZGVzID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gYmFzZTtcbiAgfVxuXG4gIC8vIENyZWF0ZSBhIG5ldyBvYmplY3QgdG8gYXZvaWQgbXV0YXRpbmcgdGhlIGlucHV0c1xuICBjb25zdCByZXN1bHQgPSB7IC4uLmJhc2UgfSBhcyBUICYgVTtcblxuICAvLyBJdGVyYXRlIHRocm91Z2ggYWxsIGtleXMgaW4gdGhlIHNvdXJjZSBvYmplY3RcbiAgZm9yIChjb25zdCBrZXkgaW4gb3ZlcnJpZGVzKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdmVycmlkZXMsIGtleSkpIHtcbiAgICAgIGNvbnN0IG92ZXJyaWRlc1ZhbHVlID0gb3ZlcnJpZGVzW2tleV07XG5cbiAgICAgIC8vIFNraXAgaWYgdGhlIG92ZXJyaWRlcyB2YWx1ZSBpcyB1bmRlZmluZWRcbiAgICAgIGlmIChvdmVycmlkZXNWYWx1ZSA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcblxuICAgICAgLy8gR2V0IHRoZSBiYXNlIHZhbHVlIGlmIGl0IGV4aXN0c1xuICAgICAgY29uc3QgYmFzZVZhbHVlID1cbiAgICAgICAga2V5IGluIGJhc2UgPyBiYXNlW2tleSBhcyB1bmtub3duIGFzIGtleW9mIFRdIDogdW5kZWZpbmVkO1xuXG4gICAgICAvLyBDaGVjayBpZiBib3RoIHZhbHVlcyBhcmUgb2JqZWN0cyB0aGF0IGNhbiBiZSBkZWVwbHkgbWVyZ2VkXG4gICAgICBjb25zdCBpc1NvdXJjZU9iamVjdCA9XG4gICAgICAgIG92ZXJyaWRlc1ZhbHVlICE9PSBudWxsICYmXG4gICAgICAgIHR5cGVvZiBvdmVycmlkZXNWYWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgIUFycmF5LmlzQXJyYXkob3ZlcnJpZGVzVmFsdWUpICYmXG4gICAgICAgICEob3ZlcnJpZGVzVmFsdWUgaW5zdGFuY2VvZiBEYXRlKSAmJlxuICAgICAgICAhKG92ZXJyaWRlc1ZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKTtcblxuICAgICAgY29uc3QgaXNUYXJnZXRPYmplY3QgPVxuICAgICAgICBiYXNlVmFsdWUgIT09IG51bGwgJiZcbiAgICAgICAgYmFzZVZhbHVlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgdHlwZW9mIGJhc2VWYWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgIUFycmF5LmlzQXJyYXkoYmFzZVZhbHVlKSAmJlxuICAgICAgICAhKGJhc2VWYWx1ZSBpbnN0YW5jZW9mIERhdGUpICYmXG4gICAgICAgICEoYmFzZVZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKTtcblxuICAgICAgLy8gSWYgYm90aCB2YWx1ZXMgYXJlIG1lcmdlYWJsZSBvYmplY3RzLCBtZXJnZSB0aGVtIHJlY3Vyc2l2ZWx5XG4gICAgICBpZiAoaXNTb3VyY2VPYmplY3QgJiYgaXNUYXJnZXRPYmplY3QpIHtcbiAgICAgICAgcmVzdWx0W2tleSBhcyBrZXlvZiAoVCAmIFUpXSA9IG1lcmdlT2JqZWN0cyhcbiAgICAgICAgICBiYXNlVmFsdWUgYXMgb2JqZWN0LFxuICAgICAgICAgIG92ZXJyaWRlc1ZhbHVlIGFzIG9iamVjdCxcbiAgICAgICAgKSBhcyBhbnk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGb3IgcHJpbWl0aXZlcywgYXJyYXlzLCBvciB3aGVuIG9uZSB2YWx1ZSBpcyBub3QgYSBtZXJnZWFibGUgb2JqZWN0LFxuICAgICAgICAvLyBzaW1wbHkgb3ZlcnJpZGUgd2l0aCB0aGUgc291cmNlIHZhbHVlXG4gICAgICAgIHJlc3VsdFtrZXkgYXMga2V5b2YgKFQgJiBVKV0gPSBvdmVycmlkZXNWYWx1ZSBhcyBhbnk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbiIsICJpbXBvcnQgeyBKU09OVmFsdWUgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IHNhZmVQYXJzZUpTT04gfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IGZpeEpzb24gfSBmcm9tICcuL2ZpeC1qc29uJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlUGFydGlhbEpzb24oanNvblRleHQ6IHN0cmluZyB8IHVuZGVmaW5lZCk6IFByb21pc2U8e1xuICB2YWx1ZTogSlNPTlZhbHVlIHwgdW5kZWZpbmVkO1xuICBzdGF0ZTpcbiAgICB8ICd1bmRlZmluZWQtaW5wdXQnXG4gICAgfCAnc3VjY2Vzc2Z1bC1wYXJzZSdcbiAgICB8ICdyZXBhaXJlZC1wYXJzZSdcbiAgICB8ICdmYWlsZWQtcGFyc2UnO1xufT4ge1xuICBpZiAoanNvblRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIHN0YXRlOiAndW5kZWZpbmVkLWlucHV0JyB9O1xuICB9XG5cbiAgbGV0IHJlc3VsdCA9IGF3YWl0IHNhZmVQYXJzZUpTT04oeyB0ZXh0OiBqc29uVGV4dCB9KTtcblxuICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogcmVzdWx0LnZhbHVlLCBzdGF0ZTogJ3N1Y2Nlc3NmdWwtcGFyc2UnIH07XG4gIH1cblxuICByZXN1bHQgPSBhd2FpdCBzYWZlUGFyc2VKU09OKHsgdGV4dDogZml4SnNvbihqc29uVGV4dCkgfSk7XG5cbiAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHJlc3VsdC52YWx1ZSwgc3RhdGU6ICdyZXBhaXJlZC1wYXJzZScgfTtcbiAgfVxuXG4gIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIHN0YXRlOiAnZmFpbGVkLXBhcnNlJyB9O1xufVxuIiwgInR5cGUgU3RhdGUgPVxuICB8ICdST09UJ1xuICB8ICdGSU5JU0gnXG4gIHwgJ0lOU0lERV9TVFJJTkcnXG4gIHwgJ0lOU0lERV9TVFJJTkdfRVNDQVBFJ1xuICB8ICdJTlNJREVfTElURVJBTCdcbiAgfCAnSU5TSURFX05VTUJFUidcbiAgfCAnSU5TSURFX09CSkVDVF9TVEFSVCdcbiAgfCAnSU5TSURFX09CSkVDVF9LRVknXG4gIHwgJ0lOU0lERV9PQkpFQ1RfQUZURVJfS0VZJ1xuICB8ICdJTlNJREVfT0JKRUNUX0JFRk9SRV9WQUxVRSdcbiAgfCAnSU5TSURFX09CSkVDVF9BRlRFUl9WQUxVRSdcbiAgfCAnSU5TSURFX09CSkVDVF9BRlRFUl9DT01NQSdcbiAgfCAnSU5TSURFX0FSUkFZX1NUQVJUJ1xuICB8ICdJTlNJREVfQVJSQVlfQUZURVJfVkFMVUUnXG4gIHwgJ0lOU0lERV9BUlJBWV9BRlRFUl9DT01NQSc7XG5cbi8vIEltcGxlbWVudGVkIGFzIGEgc2Nhbm5lciB3aXRoIGFkZGl0aW9uYWwgZml4aW5nXG4vLyB0aGF0IHBlcmZvcm1zIGEgc2luZ2xlIGxpbmVhciB0aW1lIHNjYW4gcGFzcyBvdmVyIHRoZSBwYXJ0aWFsIEpTT04uXG4vL1xuLy8gVGhlIHN0YXRlcyBzaG91bGQgaWRlYWxseSBtYXRjaCByZWxldmFudCBzdGF0ZXMgZnJvbSB0aGUgSlNPTiBzcGVjOlxuLy8gaHR0cHM6Ly93d3cuanNvbi5vcmcvanNvbi1lbi5odG1sXG4vL1xuLy8gUGxlYXNlIG5vdGUgdGhhdCBpbnZhbGlkIEpTT04gaXMgbm90IGNvbnNpZGVyZWQvY292ZXJlZCwgYmVjYXVzZSBpdFxuLy8gaXMgYXNzdW1lZCB0aGF0IHRoZSByZXN1bHRpbmcgSlNPTiB3aWxsIGJlIHByb2Nlc3NlZCBieSBhIHN0YW5kYXJkXG4vLyBKU09OIHBhcnNlciB0aGF0IHdpbGwgZGV0ZWN0IGFueSBpbnZhbGlkIEpTT04uXG5leHBvcnQgZnVuY3Rpb24gZml4SnNvbihpbnB1dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3Qgc3RhY2s6IFN0YXRlW10gPSBbJ1JPT1QnXTtcbiAgbGV0IGxhc3RWYWxpZEluZGV4ID0gLTE7XG4gIGxldCBsaXRlcmFsU3RhcnQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXI6IHN0cmluZywgaTogbnVtYmVyLCBzd2FwU3RhdGU6IFN0YXRlKSB7XG4gICAge1xuICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgIGNhc2UgJ1wiJzoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaCgnSU5TSURFX1NUUklORycpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAnZic6XG4gICAgICAgIGNhc2UgJ3QnOlxuICAgICAgICBjYXNlICduJzoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBsaXRlcmFsU3RhcnQgPSBpO1xuICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgIHN0YWNrLnB1c2goc3dhcFN0YXRlKTtcbiAgICAgICAgICBzdGFjay5wdXNoKCdJTlNJREVfTElURVJBTCcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAnLSc6IHtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaCgnSU5TSURFX05VTUJFUicpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJzAnOlxuICAgICAgICBjYXNlICcxJzpcbiAgICAgICAgY2FzZSAnMic6XG4gICAgICAgIGNhc2UgJzMnOlxuICAgICAgICBjYXNlICc0JzpcbiAgICAgICAgY2FzZSAnNSc6XG4gICAgICAgIGNhc2UgJzYnOlxuICAgICAgICBjYXNlICc3JzpcbiAgICAgICAgY2FzZSAnOCc6XG4gICAgICAgIGNhc2UgJzknOiB7XG4gICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgIHN0YWNrLnB1c2goc3dhcFN0YXRlKTtcbiAgICAgICAgICBzdGFjay5wdXNoKCdJTlNJREVfTlVNQkVSJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlICd7Jzoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaCgnSU5TSURFX09CSkVDVF9TVEFSVCcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAnWyc6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goJ0lOU0lERV9BUlJBWV9TVEFSVCcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhcjogc3RyaW5nLCBpOiBudW1iZXIpIHtcbiAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgIGNhc2UgJywnOiB7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBzdGFjay5wdXNoKCdJTlNJREVfT0JKRUNUX0FGVEVSX0NPTU1BJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnfSc6IHtcbiAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc0FmdGVyQXJyYXlWYWx1ZShjaGFyOiBzdHJpbmcsIGk6IG51bWJlcikge1xuICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgY2FzZSAnLCc6IHtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIHN0YWNrLnB1c2goJ0lOU0lERV9BUlJBWV9BRlRFUl9DT01NQScpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ10nOiB7XG4gICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjaGFyID0gaW5wdXRbaV07XG4gICAgY29uc3QgY3VycmVudFN0YXRlID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG5cbiAgICBzd2l0Y2ggKGN1cnJlbnRTdGF0ZSkge1xuICAgICAgY2FzZSAnUk9PVCc6XG4gICAgICAgIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXIsIGksICdGSU5JU0gnKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ0lOU0lERV9PQkpFQ1RfU1RBUlQnOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgJ1wiJzoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBzdGFjay5wdXNoKCdJTlNJREVfT0JKRUNUX0tFWScpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgJ30nOiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnSU5TSURFX09CSkVDVF9BRlRFUl9DT01NQSc6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSAnXCInOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goJ0lOU0lERV9PQkpFQ1RfS0VZJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0lOU0lERV9PQkpFQ1RfS0VZJzoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaCgnSU5TSURFX09CSkVDVF9BRlRFUl9LRVknKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnSU5TSURFX09CSkVDVF9BRlRFUl9LRVknOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgJzonOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goJ0lOU0lERV9PQkpFQ1RfQkVGT1JFX1ZBTFVFJyk7XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnSU5TSURFX09CSkVDVF9CRUZPUkVfVkFMVUUnOiB7XG4gICAgICAgIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXIsIGksICdJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFJzoge1xuICAgICAgICBwcm9jZXNzQWZ0ZXJPYmplY3RWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0lOU0lERV9TVFJJTkcnOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgJ1wiJzoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdcXFxcJzoge1xuICAgICAgICAgICAgc3RhY2sucHVzaCgnSU5TSURFX1NUUklOR19FU0NBUEUnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnSU5TSURFX0FSUkFZX1NUQVJUJzoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICddJzoge1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBwcm9jZXNzVmFsdWVTdGFydChjaGFyLCBpLCAnSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0lOU0lERV9BUlJBWV9BRlRFUl9WQUxVRSc6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSAnLCc6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaCgnSU5TSURFX0FSUkFZX0FGVEVSX0NPTU1BJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICddJzoge1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnSU5TSURFX0FSUkFZX0FGVEVSX0NPTU1BJzoge1xuICAgICAgICBwcm9jZXNzVmFsdWVTdGFydChjaGFyLCBpLCAnSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdJTlNJREVfU1RSSU5HX0VTQ0FQRSc6IHtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcblxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnSU5TSURFX05VTUJFUic6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSAnMCc6XG4gICAgICAgICAgY2FzZSAnMSc6XG4gICAgICAgICAgY2FzZSAnMic6XG4gICAgICAgICAgY2FzZSAnMyc6XG4gICAgICAgICAgY2FzZSAnNCc6XG4gICAgICAgICAgY2FzZSAnNSc6XG4gICAgICAgICAgY2FzZSAnNic6XG4gICAgICAgICAgY2FzZSAnNyc6XG4gICAgICAgICAgY2FzZSAnOCc6XG4gICAgICAgICAgY2FzZSAnOSc6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2UnOlxuICAgICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICAgIGNhc2UgJy0nOlxuICAgICAgICAgIGNhc2UgJy4nOiB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICcsJzoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG5cbiAgICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gJ0lOU0lERV9BUlJBWV9BRlRFUl9WQUxVRScpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0FmdGVyQXJyYXlWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSAnSU5TSURFX09CSkVDVF9BRlRFUl9WQUxVRScpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ30nOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcblxuICAgICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSAnSU5TSURFX09CSkVDVF9BRlRFUl9WQUxVRScpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ10nOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcblxuICAgICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSAnSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFJykge1xuICAgICAgICAgICAgICBwcm9jZXNzQWZ0ZXJBcnJheVZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdJTlNJREVfTElURVJBTCc6IHtcbiAgICAgICAgY29uc3QgcGFydGlhbExpdGVyYWwgPSBpbnB1dC5zdWJzdHJpbmcobGl0ZXJhbFN0YXJ0ISwgaSArIDEpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAhJ2ZhbHNlJy5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKSAmJlxuICAgICAgICAgICEndHJ1ZScuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkgJiZcbiAgICAgICAgICAhJ251bGwnLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpXG4gICAgICAgICkge1xuICAgICAgICAgIHN0YWNrLnBvcCgpO1xuXG4gICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSAnSU5TSURFX09CSkVDVF9BRlRFUl9WQUxVRScpIHtcbiAgICAgICAgICAgIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09ICdJTlNJREVfQVJSQVlfQUZURVJfVkFMVUUnKSB7XG4gICAgICAgICAgICBwcm9jZXNzQWZ0ZXJBcnJheVZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBsZXQgcmVzdWx0ID0gaW5wdXQuc2xpY2UoMCwgbGFzdFZhbGlkSW5kZXggKyAxKTtcblxuICBmb3IgKGxldCBpID0gc3RhY2subGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBjb25zdCBzdGF0ZSA9IHN0YWNrW2ldO1xuXG4gICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgY2FzZSAnSU5TSURFX1NUUklORyc6IHtcbiAgICAgICAgcmVzdWx0ICs9ICdcIic7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdJTlNJREVfT0JKRUNUX0tFWSc6XG4gICAgICBjYXNlICdJTlNJREVfT0JKRUNUX0FGVEVSX0tFWSc6XG4gICAgICBjYXNlICdJTlNJREVfT0JKRUNUX0FGVEVSX0NPTU1BJzpcbiAgICAgIGNhc2UgJ0lOU0lERV9PQkpFQ1RfU1RBUlQnOlxuICAgICAgY2FzZSAnSU5TSURFX09CSkVDVF9CRUZPUkVfVkFMVUUnOlxuICAgICAgY2FzZSAnSU5TSURFX09CSkVDVF9BRlRFUl9WQUxVRSc6IHtcbiAgICAgICAgcmVzdWx0ICs9ICd9JztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0lOU0lERV9BUlJBWV9TVEFSVCc6XG4gICAgICBjYXNlICdJTlNJREVfQVJSQVlfQUZURVJfQ09NTUEnOlxuICAgICAgY2FzZSAnSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFJzoge1xuICAgICAgICByZXN1bHQgKz0gJ10nO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnSU5TSURFX0xJVEVSQUwnOiB7XG4gICAgICAgIGNvbnN0IHBhcnRpYWxMaXRlcmFsID0gaW5wdXQuc3Vic3RyaW5nKGxpdGVyYWxTdGFydCEsIGlucHV0Lmxlbmd0aCk7XG5cbiAgICAgICAgaWYgKCd0cnVlJy5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKSkge1xuICAgICAgICAgIHJlc3VsdCArPSAndHJ1ZScuc2xpY2UocGFydGlhbExpdGVyYWwubGVuZ3RoKTtcbiAgICAgICAgfSBlbHNlIGlmICgnZmFsc2UnLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpKSB7XG4gICAgICAgICAgcmVzdWx0ICs9ICdmYWxzZScuc2xpY2UocGFydGlhbExpdGVyYWwubGVuZ3RoKTtcbiAgICAgICAgfSBlbHNlIGlmICgnbnVsbCcuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gJ251bGwnLnNsaWNlKHBhcnRpYWxMaXRlcmFsLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuIiwgImltcG9ydCB7XG4gIEluZmVyVG9vbElucHV0LFxuICBJbmZlclRvb2xPdXRwdXQsXG4gIFRvb2wsXG4gIFRvb2xDYWxsLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IFRvb2xTZXQgfSBmcm9tICcuLi9nZW5lcmF0ZS10ZXh0JztcbmltcG9ydCB7IFByb3ZpZGVyTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy9wcm92aWRlci1tZXRhZGF0YSc7XG5pbXBvcnQgeyBEZWVwUGFydGlhbCB9IGZyb20gJy4uL3V0aWwvZGVlcC1wYXJ0aWFsJztcbmltcG9ydCB7IFZhbHVlT2YgfSBmcm9tICcuLi91dGlsL3ZhbHVlLW9mJztcblxuLyoqXG5UaGUgZGF0YSB0eXBlcyB0aGF0IGNhbiBiZSB1c2VkIGluIHRoZSBVSSBtZXNzYWdlIGZvciB0aGUgVUkgbWVzc2FnZSBkYXRhIHBhcnRzLlxuICovXG5leHBvcnQgdHlwZSBVSURhdGFUeXBlcyA9IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXG5leHBvcnQgdHlwZSBVSVRvb2wgPSB7XG4gIGlucHV0OiB1bmtub3duO1xuICBvdXRwdXQ6IHVua25vd24gfCB1bmRlZmluZWQ7XG59O1xuXG4vKipcbiAqIEluZmVyIHRoZSBpbnB1dCBhbmQgb3V0cHV0IHR5cGVzIG9mIGEgdG9vbCBzbyBpdCBjYW4gYmUgdXNlZCBhcyBhIFVJIHRvb2wuXG4gKi9cbmV4cG9ydCB0eXBlIEluZmVyVUlUb29sPFRPT0wgZXh0ZW5kcyBUb29sPiA9IHtcbiAgaW5wdXQ6IEluZmVyVG9vbElucHV0PFRPT0w+O1xuICBvdXRwdXQ6IEluZmVyVG9vbE91dHB1dDxUT09MPjtcbn07XG5cbi8qKlxuICogSW5mZXIgdGhlIGlucHV0IGFuZCBvdXRwdXQgdHlwZXMgb2YgYSB0b29sIHNldCBzbyBpdCBjYW4gYmUgdXNlZCBhcyBhIFVJIHRvb2wgc2V0LlxuICovXG5leHBvcnQgdHlwZSBJbmZlclVJVG9vbHM8VE9PTFMgZXh0ZW5kcyBUb29sU2V0PiA9IHtcbiAgW05BTUUgaW4ga2V5b2YgVE9PTFMgJiBzdHJpbmddOiBJbmZlclVJVG9vbDxUT09MU1tOQU1FXT47XG59O1xuXG5leHBvcnQgdHlwZSBVSVRvb2xzID0gUmVjb3JkPHN0cmluZywgVUlUb29sPjtcblxuLyoqXG5BSSBTREsgVUkgTWVzc2FnZXMuIFRoZXkgYXJlIHVzZWQgaW4gdGhlIGNsaWVudCBhbmQgdG8gY29tbXVuaWNhdGUgYmV0d2VlbiB0aGUgZnJvbnRlbmQgYW5kIHRoZSBBUEkgcm91dGVzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVJTWVzc2FnZTxcbiAgTUVUQURBVEEgPSB1bmtub3duLFxuICBEQVRBX1BBUlRTIGV4dGVuZHMgVUlEYXRhVHlwZXMgPSBVSURhdGFUeXBlcyxcbiAgVE9PTFMgZXh0ZW5kcyBVSVRvb2xzID0gVUlUb29scyxcbj4ge1xuICAvKipcbkEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBtZXNzYWdlLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcblRoZSByb2xlIG9mIHRoZSBtZXNzYWdlLlxuICAgKi9cbiAgcm9sZTogJ3N5c3RlbScgfCAndXNlcicgfCAnYXNzaXN0YW50JztcblxuICAvKipcblRoZSBtZXRhZGF0YSBvZiB0aGUgbWVzc2FnZS5cbiAgICovXG4gIG1ldGFkYXRhPzogTUVUQURBVEE7XG5cbiAgLyoqXG5UaGUgcGFydHMgb2YgdGhlIG1lc3NhZ2UuIFVzZSB0aGlzIGZvciByZW5kZXJpbmcgdGhlIG1lc3NhZ2UgaW4gdGhlIFVJLlxuXG5TeXN0ZW0gbWVzc2FnZXMgc2hvdWxkIGJlIGF2b2lkZWQgKHNldCB0aGUgc3lzdGVtIHByb21wdCBvbiB0aGUgc2VydmVyIGluc3RlYWQpLlxuVGhleSBjYW4gaGF2ZSB0ZXh0IHBhcnRzLlxuXG5Vc2VyIG1lc3NhZ2VzIGNhbiBoYXZlIHRleHQgcGFydHMgYW5kIGZpbGUgcGFydHMuXG5cbkFzc2lzdGFudCBtZXNzYWdlcyBjYW4gaGF2ZSB0ZXh0LCByZWFzb25pbmcsIHRvb2wgaW52b2NhdGlvbiwgYW5kIGZpbGUgcGFydHMuXG4gICAqL1xuICBwYXJ0czogQXJyYXk8VUlNZXNzYWdlUGFydDxEQVRBX1BBUlRTLCBUT09MUz4+O1xufVxuXG5leHBvcnQgdHlwZSBVSU1lc3NhZ2VQYXJ0PFxuICBEQVRBX1RZUEVTIGV4dGVuZHMgVUlEYXRhVHlwZXMsXG4gIFRPT0xTIGV4dGVuZHMgVUlUb29scyxcbj4gPVxuICB8IFRleHRVSVBhcnRcbiAgfCBSZWFzb25pbmdVSVBhcnRcbiAgfCBUb29sVUlQYXJ0PFRPT0xTPlxuICB8IER5bmFtaWNUb29sVUlQYXJ0XG4gIHwgU291cmNlVXJsVUlQYXJ0XG4gIHwgU291cmNlRG9jdW1lbnRVSVBhcnRcbiAgfCBGaWxlVUlQYXJ0XG4gIHwgRGF0YVVJUGFydDxEQVRBX1RZUEVTPlxuICB8IFN0ZXBTdGFydFVJUGFydDtcblxuLyoqXG4gKiBBIHRleHQgcGFydCBvZiBhIG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCB0eXBlIFRleHRVSVBhcnQgPSB7XG4gIHR5cGU6ICd0ZXh0JztcblxuICAvKipcbiAgICogVGhlIHRleHQgY29udGVudC5cbiAgICovXG4gIHRleHQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHN0YXRlIG9mIHRoZSB0ZXh0IHBhcnQuXG4gICAqL1xuICBzdGF0ZT86ICdzdHJlYW1pbmcnIHwgJ2RvbmUnO1xuXG4gIC8qKlxuICAgKiBUaGUgcHJvdmlkZXIgbWV0YWRhdGEuXG4gICAqL1xuICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbn07XG5cbi8qKlxuICogQSByZWFzb25pbmcgcGFydCBvZiBhIG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCB0eXBlIFJlYXNvbmluZ1VJUGFydCA9IHtcbiAgdHlwZTogJ3JlYXNvbmluZyc7XG5cbiAgLyoqXG4gICAqIFRoZSByZWFzb25pbmcgdGV4dC5cbiAgICovXG4gIHRleHQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHN0YXRlIG9mIHRoZSByZWFzb25pbmcgcGFydC5cbiAgICovXG4gIHN0YXRlPzogJ3N0cmVhbWluZycgfCAnZG9uZSc7XG5cbiAgLyoqXG4gICAqIFRoZSBwcm92aWRlciBtZXRhZGF0YS5cbiAgICovXG4gIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xufTtcblxuLyoqXG4gKiBBIHNvdXJjZSBwYXJ0IG9mIGEgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IHR5cGUgU291cmNlVXJsVUlQYXJ0ID0ge1xuICB0eXBlOiAnc291cmNlLXVybCc7XG4gIHNvdXJjZUlkOiBzdHJpbmc7XG4gIHVybDogc3RyaW5nO1xuICB0aXRsZT86IHN0cmluZztcbiAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG59O1xuXG4vKipcbiAqIEEgZG9jdW1lbnQgc291cmNlIHBhcnQgb2YgYSBtZXNzYWdlLlxuICovXG5leHBvcnQgdHlwZSBTb3VyY2VEb2N1bWVudFVJUGFydCA9IHtcbiAgdHlwZTogJ3NvdXJjZS1kb2N1bWVudCc7XG4gIHNvdXJjZUlkOiBzdHJpbmc7XG4gIG1lZGlhVHlwZTogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBmaWxlbmFtZT86IHN0cmluZztcbiAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG59O1xuXG4vKipcbiAqIEEgZmlsZSBwYXJ0IG9mIGEgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IHR5cGUgRmlsZVVJUGFydCA9IHtcbiAgdHlwZTogJ2ZpbGUnO1xuXG4gIC8qKlxuICAgKiBJQU5BIG1lZGlhIHR5cGUgb2YgdGhlIGZpbGUuXG4gICAqXG4gICAqIEBzZWUgaHR0cHM6Ly93d3cuaWFuYS5vcmcvYXNzaWdubWVudHMvbWVkaWEtdHlwZXMvbWVkaWEtdHlwZXMueGh0bWxcbiAgICovXG4gIG1lZGlhVHlwZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBPcHRpb25hbCBmaWxlbmFtZSBvZiB0aGUgZmlsZS5cbiAgICovXG4gIGZpbGVuYW1lPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgVVJMIG9mIHRoZSBmaWxlLlxuICAgKiBJdCBjYW4gZWl0aGVyIGJlIGEgVVJMIHRvIGEgaG9zdGVkIGZpbGUgb3IgYSBbRGF0YSBVUkxdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvQmFzaWNzX29mX0hUVFAvRGF0YV9VUkxzKS5cbiAgICovXG4gIHVybDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcHJvdmlkZXIgbWV0YWRhdGEuXG4gICAqL1xuICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbn07XG5cbi8qKlxuICogQSBzdGVwIGJvdW5kYXJ5IHBhcnQgb2YgYSBtZXNzYWdlLlxuICovXG5leHBvcnQgdHlwZSBTdGVwU3RhcnRVSVBhcnQgPSB7XG4gIHR5cGU6ICdzdGVwLXN0YXJ0Jztcbn07XG5cbmV4cG9ydCB0eXBlIERhdGFVSVBhcnQ8REFUQV9UWVBFUyBleHRlbmRzIFVJRGF0YVR5cGVzPiA9IFZhbHVlT2Y8e1xuICBbTkFNRSBpbiBrZXlvZiBEQVRBX1RZUEVTICYgc3RyaW5nXToge1xuICAgIHR5cGU6IGBkYXRhLSR7TkFNRX1gO1xuICAgIGlkPzogc3RyaW5nO1xuICAgIGRhdGE6IERBVEFfVFlQRVNbTkFNRV07XG4gIH07XG59PjtcblxudHlwZSBhc1VJVG9vbDxUT09MIGV4dGVuZHMgVUlUb29sIHwgVG9vbD4gPSBUT09MIGV4dGVuZHMgVG9vbFxuICA/IEluZmVyVUlUb29sPFRPT0w+XG4gIDogVE9PTDtcblxuLyoqXG4gKiBBIFVJIHRvb2wgaW52b2NhdGlvbiBjb250YWlucyBhbGwgdGhlIGluZm9ybWF0aW9uIG5lZWRlZCB0byByZW5kZXIgYSB0b29sIGludm9jYXRpb24gaW4gdGhlIFVJLlxuICogSXQgY2FuIGJlIGRlcml2ZWQgZnJvbSBhIHRvb2wgd2l0aG91dCBrbm93aW5nIHRoZSB0b29sIG5hbWUsIGFuZCBjYW4gYmUgdXNlZCB0byBkZWZpbmVcbiAqIFVJIGNvbXBvbmVudHMgZm9yIHRoZSB0b29sLlxuICovXG5leHBvcnQgdHlwZSBVSVRvb2xJbnZvY2F0aW9uPFRPT0wgZXh0ZW5kcyBVSVRvb2wgfCBUb29sPiA9IHtcbiAgdG9vbENhbGxJZDogc3RyaW5nO1xufSAmIChcbiAgfCB7XG4gICAgICBzdGF0ZTogJ2lucHV0LXN0cmVhbWluZyc7XG4gICAgICBpbnB1dDogRGVlcFBhcnRpYWw8YXNVSVRvb2w8VE9PTD5bJ2lucHV0J10+IHwgdW5kZWZpbmVkO1xuICAgICAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG4gICAgICBvdXRwdXQ/OiBuZXZlcjtcbiAgICAgIGVycm9yVGV4dD86IG5ldmVyO1xuICAgIH1cbiAgfCB7XG4gICAgICBzdGF0ZTogJ2lucHV0LWF2YWlsYWJsZSc7XG4gICAgICBpbnB1dDogYXNVSVRvb2w8VE9PTD5bJ2lucHV0J107XG4gICAgICBwcm92aWRlckV4ZWN1dGVkPzogYm9vbGVhbjtcbiAgICAgIG91dHB1dD86IG5ldmVyO1xuICAgICAgZXJyb3JUZXh0PzogbmV2ZXI7XG4gICAgICBjYWxsUHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgfVxuICB8IHtcbiAgICAgIHN0YXRlOiAnb3V0cHV0LWF2YWlsYWJsZSc7XG4gICAgICBpbnB1dDogYXNVSVRvb2w8VE9PTD5bJ2lucHV0J107XG4gICAgICBvdXRwdXQ6IGFzVUlUb29sPFRPT0w+WydvdXRwdXQnXTtcbiAgICAgIGVycm9yVGV4dD86IG5ldmVyO1xuICAgICAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG4gICAgICBjYWxsUHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICBwcmVsaW1pbmFyeT86IGJvb2xlYW47XG4gICAgfVxuICB8IHtcbiAgICAgIHN0YXRlOiAnb3V0cHV0LWVycm9yJzsgLy8gVE9ETyBBSSBTREsgNjogY2hhbmdlIHRvICdlcnJvcicgc3RhdGVcbiAgICAgIGlucHV0OiBhc1VJVG9vbDxUT09MPlsnaW5wdXQnXSB8IHVuZGVmaW5lZDtcbiAgICAgIHJhd0lucHV0PzogdW5rbm93bjsgLy8gVE9ETyBBSSBTREsgNjogcmVtb3ZlIHRoaXMgZmllbGQsIGlucHV0IHNob3VsZCBiZSB1bmtub3duXG4gICAgICBvdXRwdXQ/OiBuZXZlcjtcbiAgICAgIGVycm9yVGV4dDogc3RyaW5nO1xuICAgICAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG4gICAgICBjYWxsUHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgfVxuKTtcblxuZXhwb3J0IHR5cGUgVG9vbFVJUGFydDxUT09MUyBleHRlbmRzIFVJVG9vbHMgPSBVSVRvb2xzPiA9IFZhbHVlT2Y8e1xuICBbTkFNRSBpbiBrZXlvZiBUT09MUyAmIHN0cmluZ106IHtcbiAgICB0eXBlOiBgdG9vbC0ke05BTUV9YDtcbiAgfSAmIFVJVG9vbEludm9jYXRpb248VE9PTFNbTkFNRV0+O1xufT47XG5cbmV4cG9ydCB0eXBlIER5bmFtaWNUb29sVUlQYXJ0ID0ge1xuICB0eXBlOiAnZHluYW1pYy10b29sJztcbiAgdG9vbE5hbWU6IHN0cmluZztcbiAgdG9vbENhbGxJZDogc3RyaW5nO1xufSAmIChcbiAgfCB7XG4gICAgICBzdGF0ZTogJ2lucHV0LXN0cmVhbWluZyc7XG4gICAgICBpbnB1dDogdW5rbm93biB8IHVuZGVmaW5lZDtcbiAgICAgIG91dHB1dD86IG5ldmVyO1xuICAgICAgZXJyb3JUZXh0PzogbmV2ZXI7XG4gICAgfVxuICB8IHtcbiAgICAgIHN0YXRlOiAnaW5wdXQtYXZhaWxhYmxlJztcbiAgICAgIGlucHV0OiB1bmtub3duO1xuICAgICAgb3V0cHV0PzogbmV2ZXI7XG4gICAgICBlcnJvclRleHQ/OiBuZXZlcjtcbiAgICAgIGNhbGxQcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG4gIHwge1xuICAgICAgc3RhdGU6ICdvdXRwdXQtYXZhaWxhYmxlJztcbiAgICAgIGlucHV0OiB1bmtub3duO1xuICAgICAgb3V0cHV0OiB1bmtub3duO1xuICAgICAgZXJyb3JUZXh0PzogbmV2ZXI7XG4gICAgICBjYWxsUHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICBwcmVsaW1pbmFyeT86IGJvb2xlYW47XG4gICAgfVxuICB8IHtcbiAgICAgIHN0YXRlOiAnb3V0cHV0LWVycm9yJzsgLy8gVE9ETyBBSSBTREsgNjogY2hhbmdlIHRvICdlcnJvcicgc3RhdGVcbiAgICAgIGlucHV0OiB1bmtub3duO1xuICAgICAgb3V0cHV0PzogbmV2ZXI7XG4gICAgICBlcnJvclRleHQ6IHN0cmluZztcbiAgICAgIGNhbGxQcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG4pO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNUb29sVUlQYXJ0PFRPT0xTIGV4dGVuZHMgVUlUb29scz4oXG4gIHBhcnQ6IFVJTWVzc2FnZVBhcnQ8VUlEYXRhVHlwZXMsIFRPT0xTPixcbik6IHBhcnQgaXMgVG9vbFVJUGFydDxUT09MUz4ge1xuICByZXR1cm4gcGFydC50eXBlLnN0YXJ0c1dpdGgoJ3Rvb2wtJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0R5bmFtaWNUb29sVUlQYXJ0KFxuICBwYXJ0OiBVSU1lc3NhZ2VQYXJ0PFVJRGF0YVR5cGVzLCBVSVRvb2xzPixcbik6IHBhcnQgaXMgRHluYW1pY1Rvb2xVSVBhcnQge1xuICByZXR1cm4gcGFydC50eXBlID09PSAnZHluYW1pYy10b29sJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVG9vbE9yRHluYW1pY1Rvb2xVSVBhcnQ8VE9PTFMgZXh0ZW5kcyBVSVRvb2xzPihcbiAgcGFydDogVUlNZXNzYWdlUGFydDxVSURhdGFUeXBlcywgVE9PTFM+LFxuKTogcGFydCBpcyBUb29sVUlQYXJ0PFRPT0xTPiB8IER5bmFtaWNUb29sVUlQYXJ0IHtcbiAgcmV0dXJuIGlzVG9vbFVJUGFydChwYXJ0KSB8fCBpc0R5bmFtaWNUb29sVUlQYXJ0KHBhcnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9vbE5hbWU8VE9PTFMgZXh0ZW5kcyBVSVRvb2xzPihcbiAgcGFydDogVG9vbFVJUGFydDxUT09MUz4sXG4pOiBrZXlvZiBUT09MUyB7XG4gIHJldHVybiBwYXJ0LnR5cGUuc3BsaXQoJy0nKS5zbGljZSgxKS5qb2luKCctJykgYXMga2V5b2YgVE9PTFM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUb29sT3JEeW5hbWljVG9vbE5hbWUoXG4gIHBhcnQ6IFRvb2xVSVBhcnQ8VUlUb29scz4gfCBEeW5hbWljVG9vbFVJUGFydCxcbik6IHN0cmluZyB7XG4gIHJldHVybiBpc0R5bmFtaWNUb29sVUlQYXJ0KHBhcnQpID8gcGFydC50b29sTmFtZSA6IGdldFRvb2xOYW1lKHBhcnQpO1xufVxuXG5leHBvcnQgdHlwZSBJbmZlclVJTWVzc2FnZU1ldGFkYXRhPFQgZXh0ZW5kcyBVSU1lc3NhZ2U+ID1cbiAgVCBleHRlbmRzIFVJTWVzc2FnZTxpbmZlciBNRVRBREFUQT4gPyBNRVRBREFUQSA6IHVua25vd247XG5cbmV4cG9ydCB0eXBlIEluZmVyVUlNZXNzYWdlRGF0YTxUIGV4dGVuZHMgVUlNZXNzYWdlPiA9XG4gIFQgZXh0ZW5kcyBVSU1lc3NhZ2U8dW5rbm93biwgaW5mZXIgREFUQV9UWVBFUz4gPyBEQVRBX1RZUEVTIDogVUlEYXRhVHlwZXM7XG5cbmV4cG9ydCB0eXBlIEluZmVyVUlNZXNzYWdlVG9vbHM8VCBleHRlbmRzIFVJTWVzc2FnZT4gPVxuICBUIGV4dGVuZHMgVUlNZXNzYWdlPHVua25vd24sIFVJRGF0YVR5cGVzLCBpbmZlciBUT09MUz4gPyBUT09MUyA6IFVJVG9vbHM7XG5cbmV4cG9ydCB0eXBlIEluZmVyVUlNZXNzYWdlVG9vbE91dHB1dHM8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4gPVxuICBJbmZlclVJTWVzc2FnZVRvb2xzPFVJX01FU1NBR0U+W2tleW9mIEluZmVyVUlNZXNzYWdlVG9vbHM8VUlfTUVTU0FHRT5dWydvdXRwdXQnXTtcblxuZXhwb3J0IHR5cGUgSW5mZXJVSU1lc3NhZ2VUb29sQ2FsbDxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPiA9XG4gIHwgVmFsdWVPZjx7XG4gICAgICBbTkFNRSBpbiBrZXlvZiBJbmZlclVJTWVzc2FnZVRvb2xzPFVJX01FU1NBR0U+XTogVG9vbENhbGw8XG4gICAgICAgIE5BTUUgJiBzdHJpbmcsXG4gICAgICAgIEluZmVyVUlNZXNzYWdlVG9vbHM8VUlfTUVTU0FHRT5bTkFNRV0gZXh0ZW5kcyB7IGlucHV0OiBpbmZlciBJTlBVVCB9XG4gICAgICAgICAgPyBJTlBVVFxuICAgICAgICAgIDogbmV2ZXJcbiAgICAgID4gJiB7IGR5bmFtaWM/OiBmYWxzZSB9O1xuICAgIH0+XG4gIHwgKFRvb2xDYWxsPHN0cmluZywgdW5rbm93bj4gJiB7IGR5bmFtaWM6IHRydWUgfSk7XG4iLCAiaW1wb3J0IHtcbiAgY3JlYXRlU3RyZWFtaW5nVUlNZXNzYWdlU3RhdGUsXG4gIHByb2Nlc3NVSU1lc3NhZ2VTdHJlYW0sXG4gIFN0cmVhbWluZ1VJTWVzc2FnZVN0YXRlLFxufSBmcm9tICcuLi91aS9wcm9jZXNzLXVpLW1lc3NhZ2Utc3RyZWFtJztcbmltcG9ydCB7IFVJTWVzc2FnZSB9IGZyb20gJy4uL3VpL3VpLW1lc3NhZ2VzJztcbmltcG9ydCB7IEVycm9ySGFuZGxlciB9IGZyb20gJy4uL3V0aWwvZXJyb3ItaGFuZGxlcic7XG5pbXBvcnQgeyBJbmZlclVJTWVzc2FnZUNodW5rLCBVSU1lc3NhZ2VDaHVuayB9IGZyb20gJy4vdWktbWVzc2FnZS1jaHVua3MnO1xuaW1wb3J0IHsgVUlNZXNzYWdlU3RyZWFtT25GaW5pc2hDYWxsYmFjayB9IGZyb20gJy4vdWktbWVzc2FnZS1zdHJlYW0tb24tZmluaXNoLWNhbGxiYWNrJztcblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZVVJTWVzc2FnZVN0cmVhbUZpbmlzaDxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPih7XG4gIG1lc3NhZ2VJZCxcbiAgb3JpZ2luYWxNZXNzYWdlcyA9IFtdLFxuICBvbkZpbmlzaCxcbiAgb25FcnJvcixcbiAgc3RyZWFtLFxufToge1xuICBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPEluZmVyVUlNZXNzYWdlQ2h1bms8VUlfTUVTU0FHRT4+O1xuXG4gIC8qKlxuICAgKiBUaGUgbWVzc2FnZSBJRCB0byB1c2UgZm9yIHRoZSByZXNwb25zZSBtZXNzYWdlLlxuICAgKiBJZiBub3QgcHJvdmlkZWQsIG5vIGlkIHdpbGwgYmUgc2V0IGZvciB0aGUgcmVzcG9uc2UgbWVzc2FnZS5cbiAgICovXG4gIG1lc3NhZ2VJZD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG9yaWdpbmFsIG1lc3NhZ2VzLlxuICAgKi9cbiAgb3JpZ2luYWxNZXNzYWdlcz86IFVJX01FU1NBR0VbXTtcblxuICBvbkVycm9yOiBFcnJvckhhbmRsZXI7XG5cbiAgb25GaW5pc2g/OiBVSU1lc3NhZ2VTdHJlYW1PbkZpbmlzaENhbGxiYWNrPFVJX01FU1NBR0U+O1xufSk6IFJlYWRhYmxlU3RyZWFtPEluZmVyVUlNZXNzYWdlQ2h1bms8VUlfTUVTU0FHRT4+IHtcbiAgLy8gbGFzdCBtZXNzYWdlIGlzIG9ubHkgcmVsZXZhbnQgZm9yIGFzc2lzdGFudCBtZXNzYWdlc1xuICBsZXQgbGFzdE1lc3NhZ2U6IFVJX01FU1NBR0UgfCB1bmRlZmluZWQgPVxuICAgIG9yaWdpbmFsTWVzc2FnZXM/LltvcmlnaW5hbE1lc3NhZ2VzLmxlbmd0aCAtIDFdO1xuICBpZiAobGFzdE1lc3NhZ2U/LnJvbGUgIT09ICdhc3Npc3RhbnQnKSB7XG4gICAgbGFzdE1lc3NhZ2UgPSB1bmRlZmluZWQ7XG4gIH0gZWxzZSB7XG4gICAgLy8gYXBwZW5kaW5nIHRvIHRoZSBsYXN0IG1lc3NhZ2UsIHNvIHdlIG5lZWQgdG8gdXNlIHRoZSBzYW1lIGlkXG4gICAgbWVzc2FnZUlkID0gbGFzdE1lc3NhZ2UuaWQ7XG4gIH1cblxuICBsZXQgaXNBYm9ydGVkID0gZmFsc2U7XG5cbiAgY29uc3QgaWRJbmplY3RlZFN0cmVhbSA9IHN0cmVhbS5waXBlVGhyb3VnaChcbiAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPFxuICAgICAgSW5mZXJVSU1lc3NhZ2VDaHVuazxVSV9NRVNTQUdFPixcbiAgICAgIEluZmVyVUlNZXNzYWdlQ2h1bms8VUlfTUVTU0FHRT5cbiAgICA+KHtcbiAgICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICAvLyB3aGVuIHRoZXJlIGlzIG5vIG1lc3NhZ2VJZCBpbiB0aGUgc3RhcnQgY2h1bmssXG4gICAgICAgIC8vIGJ1dCB0aGUgdXNlciBjaGVja2VkIGZvciBwZXJzaXN0ZW5jZSxcbiAgICAgICAgLy8gaW5qZWN0IHRoZSBtZXNzYWdlSWQgaW50byB0aGUgY2h1bmtcbiAgICAgICAgaWYgKGNodW5rLnR5cGUgPT09ICdzdGFydCcpIHtcbiAgICAgICAgICBjb25zdCBzdGFydENodW5rID0gY2h1bmsgYXMgVUlNZXNzYWdlQ2h1bmsgJiB7IHR5cGU6ICdzdGFydCcgfTtcbiAgICAgICAgICBpZiAoc3RhcnRDaHVuay5tZXNzYWdlSWQgPT0gbnVsbCAmJiBtZXNzYWdlSWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgc3RhcnRDaHVuay5tZXNzYWdlSWQgPSBtZXNzYWdlSWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNodW5rLnR5cGUgPT09ICdhYm9ydCcpIHtcbiAgICAgICAgICBpc0Fib3J0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgIH0sXG4gICAgfSksXG4gICk7XG5cbiAgaWYgKG9uRmluaXNoID09IG51bGwpIHtcbiAgICByZXR1cm4gaWRJbmplY3RlZFN0cmVhbTtcbiAgfVxuXG4gIGNvbnN0IHN0YXRlID0gY3JlYXRlU3RyZWFtaW5nVUlNZXNzYWdlU3RhdGU8VUlfTUVTU0FHRT4oe1xuICAgIGxhc3RNZXNzYWdlOiBsYXN0TWVzc2FnZVxuICAgICAgPyAoc3RydWN0dXJlZENsb25lKGxhc3RNZXNzYWdlKSBhcyBVSV9NRVNTQUdFKVxuICAgICAgOiB1bmRlZmluZWQsXG4gICAgbWVzc2FnZUlkOiBtZXNzYWdlSWQgPz8gJycsIC8vIHdpbGwgYmUgb3ZlcnJpZGRlbiBieSB0aGUgc3RyZWFtXG4gIH0pO1xuXG4gIGNvbnN0IHJ1blVwZGF0ZU1lc3NhZ2VKb2IgPSBhc3luYyAoXG4gICAgam9iOiAob3B0aW9uczoge1xuICAgICAgc3RhdGU6IFN0cmVhbWluZ1VJTWVzc2FnZVN0YXRlPFVJX01FU1NBR0U+O1xuICAgICAgd3JpdGU6ICgpID0+IHZvaWQ7XG4gICAgfSkgPT4gUHJvbWlzZTx2b2lkPixcbiAgKSA9PiB7XG4gICAgYXdhaXQgam9iKHsgc3RhdGUsIHdyaXRlOiAoKSA9PiB7fSB9KTtcbiAgfTtcblxuICBsZXQgZmluaXNoQ2FsbGVkID0gZmFsc2U7XG5cbiAgY29uc3QgY2FsbE9uRmluaXNoID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChmaW5pc2hDYWxsZWQgfHwgIW9uRmluaXNoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZpbmlzaENhbGxlZCA9IHRydWU7XG5cbiAgICBjb25zdCBpc0NvbnRpbnVhdGlvbiA9IHN0YXRlLm1lc3NhZ2UuaWQgPT09IGxhc3RNZXNzYWdlPy5pZDtcbiAgICBhd2FpdCBvbkZpbmlzaCh7XG4gICAgICBpc0Fib3J0ZWQsXG4gICAgICBpc0NvbnRpbnVhdGlvbixcbiAgICAgIHJlc3BvbnNlTWVzc2FnZTogc3RhdGUubWVzc2FnZSBhcyBVSV9NRVNTQUdFLFxuICAgICAgbWVzc2FnZXM6IFtcbiAgICAgICAgLi4uKGlzQ29udGludWF0aW9uID8gb3JpZ2luYWxNZXNzYWdlcy5zbGljZSgwLCAtMSkgOiBvcmlnaW5hbE1lc3NhZ2VzKSxcbiAgICAgICAgc3RhdGUubWVzc2FnZSxcbiAgICAgIF0gYXMgVUlfTUVTU0FHRVtdLFxuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBwcm9jZXNzVUlNZXNzYWdlU3RyZWFtPFVJX01FU1NBR0U+KHtcbiAgICBzdHJlYW06IGlkSW5qZWN0ZWRTdHJlYW0sXG4gICAgcnVuVXBkYXRlTWVzc2FnZUpvYixcbiAgICBvbkVycm9yLFxuICB9KS5waXBlVGhyb3VnaChcbiAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPFxuICAgICAgSW5mZXJVSU1lc3NhZ2VDaHVuazxVSV9NRVNTQUdFPixcbiAgICAgIEluZmVyVUlNZXNzYWdlQ2h1bms8VUlfTUVTU0FHRT5cbiAgICA+KHtcbiAgICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgfSxcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgY2FuY2VsIGlzIHN0aWxsIG5ldyBhbmQgbWlzc2luZyBmcm9tIHR5cGVzIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9UcmFuc2Zvcm1TdHJlYW0jYnJvd3Nlcl9jb21wYXRpYmlsaXR5XG4gICAgICBhc3luYyBjYW5jZWwoKSB7XG4gICAgICAgIGF3YWl0IGNhbGxPbkZpbmlzaCgpO1xuICAgICAgfSxcblxuICAgICAgYXN5bmMgZmx1c2goKSB7XG4gICAgICAgIGF3YWl0IGNhbGxPbkZpbmlzaCgpO1xuICAgICAgfSxcbiAgICB9KSxcbiAgKTtcbn1cbiIsICJpbXBvcnQgeyBTZXJ2ZXJSZXNwb25zZSB9IGZyb20gJ25vZGU6aHR0cCc7XG5pbXBvcnQgeyBwcmVwYXJlSGVhZGVycyB9IGZyb20gJy4uL3V0aWwvcHJlcGFyZS1oZWFkZXJzJztcbmltcG9ydCB7IHdyaXRlVG9TZXJ2ZXJSZXNwb25zZSB9IGZyb20gJy4uL3V0aWwvd3JpdGUtdG8tc2VydmVyLXJlc3BvbnNlJztcbmltcG9ydCB7IEpzb25Ub1NzZVRyYW5zZm9ybVN0cmVhbSB9IGZyb20gJy4vanNvbi10by1zc2UtdHJhbnNmb3JtLXN0cmVhbSc7XG5pbXBvcnQgeyBVSV9NRVNTQUdFX1NUUkVBTV9IRUFERVJTIH0gZnJvbSAnLi91aS1tZXNzYWdlLXN0cmVhbS1oZWFkZXJzJztcbmltcG9ydCB7IFVJTWVzc2FnZUNodW5rIH0gZnJvbSAnLi91aS1tZXNzYWdlLWNodW5rcyc7XG5pbXBvcnQgeyBVSU1lc3NhZ2VTdHJlYW1SZXNwb25zZUluaXQgfSBmcm9tICcuL3VpLW1lc3NhZ2Utc3RyZWFtLXJlc3BvbnNlLWluaXQnO1xuXG5leHBvcnQgZnVuY3Rpb24gcGlwZVVJTWVzc2FnZVN0cmVhbVRvUmVzcG9uc2Uoe1xuICByZXNwb25zZSxcbiAgc3RhdHVzLFxuICBzdGF0dXNUZXh0LFxuICBoZWFkZXJzLFxuICBzdHJlYW0sXG4gIGNvbnN1bWVTc2VTdHJlYW0sXG59OiB7XG4gIHJlc3BvbnNlOiBTZXJ2ZXJSZXNwb25zZTtcbiAgc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxVSU1lc3NhZ2VDaHVuaz47XG59ICYgVUlNZXNzYWdlU3RyZWFtUmVzcG9uc2VJbml0KTogdm9pZCB7XG4gIGxldCBzc2VTdHJlYW0gPSBzdHJlYW0ucGlwZVRocm91Z2gobmV3IEpzb25Ub1NzZVRyYW5zZm9ybVN0cmVhbSgpKTtcblxuICAvLyB3aGVuIHRoZSBjb25zdW1lU3NlU3RyZWFtIGlzIHByb3ZpZGVkLCB3ZSBuZWVkIHRvIHRlZSB0aGUgc3RyZWFtXG4gIC8vIGFuZCBzZW5kIHRoZSBzZWNvbmQgcGFydCB0byB0aGUgY29uc3VtZVNzZVN0cmVhbSBmdW5jdGlvblxuICAvLyBzbyB0aGF0IGl0IGNhbiBiZSBjb25zdW1lZCBieSB0aGUgY2xpZW50IGluZGVwZW5kZW50bHlcbiAgaWYgKGNvbnN1bWVTc2VTdHJlYW0pIHtcbiAgICBjb25zdCBbc3RyZWFtMSwgc3RyZWFtMl0gPSBzc2VTdHJlYW0udGVlKCk7XG4gICAgc3NlU3RyZWFtID0gc3RyZWFtMTtcbiAgICBjb25zdW1lU3NlU3RyZWFtKHsgc3RyZWFtOiBzdHJlYW0yIH0pOyAvLyBubyBhd2FpdCAoZG8gbm90IGJsb2NrIHRoZSByZXNwb25zZSlcbiAgfVxuXG4gIHdyaXRlVG9TZXJ2ZXJSZXNwb25zZSh7XG4gICAgcmVzcG9uc2UsXG4gICAgc3RhdHVzLFxuICAgIHN0YXR1c1RleHQsXG4gICAgaGVhZGVyczogT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgcHJlcGFyZUhlYWRlcnMoaGVhZGVycywgVUlfTUVTU0FHRV9TVFJFQU1fSEVBREVSUykuZW50cmllcygpLFxuICAgICksXG4gICAgc3RyZWFtOiBzc2VTdHJlYW0ucGlwZVRocm91Z2gobmV3IFRleHRFbmNvZGVyU3RyZWFtKCkpLFxuICB9KTtcbn1cbiIsICIvKipcbiAqIEEgdHlwZSB0aGF0IGNvbWJpbmVzIEFzeW5jSXRlcmFibGUgYW5kIFJlYWRhYmxlU3RyZWFtLlxuICogVGhpcyBhbGxvd3MgYSBSZWFkYWJsZVN0cmVhbSB0byBiZSBjb25zdW1lZCB1c2luZyBmb3ItYXdhaXQtb2Ygc3ludGF4LlxuICovXG5leHBvcnQgdHlwZSBBc3luY0l0ZXJhYmxlU3RyZWFtPFQ+ID0gQXN5bmNJdGVyYWJsZTxUPiAmIFJlYWRhYmxlU3RyZWFtPFQ+O1xuXG4vKipcbiAqIFdyYXBzIGEgUmVhZGFibGVTdHJlYW0gYW5kIHJldHVybnMgYW4gb2JqZWN0IHRoYXQgaXMgYm90aCBhIFJlYWRhYmxlU3RyZWFtIGFuZCBhbiBBc3luY0l0ZXJhYmxlLlxuICogVGhpcyBlbmFibGVzIGNvbnN1bXB0aW9uIG9mIHRoZSBzdHJlYW0gdXNpbmcgZm9yLWF3YWl0LW9mLCB3aXRoIHByb3BlciByZXNvdXJjZSBjbGVhbnVwIG9uIGVhcmx5IGV4aXQgb3IgZXJyb3IuXG4gKlxuICogQHRlbXBsYXRlIFQgVGhlIHR5cGUgb2YgdGhlIHN0cmVhbSdzIGNodW5rcy5cbiAqIEBwYXJhbSBzb3VyY2UgVGhlIHNvdXJjZSBSZWFkYWJsZVN0cmVhbSB0byB3cmFwLlxuICogQHJldHVybnMgQW4gQXN5bmNJdGVyYWJsZVN0cmVhbSB0aGF0IGNhbiBiZSB1c2VkIGFzIGJvdGggYSBSZWFkYWJsZVN0cmVhbSBhbmQgYW4gQXN5bmNJdGVyYWJsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW08VD4oXG4gIHNvdXJjZTogUmVhZGFibGVTdHJlYW08VD4sXG4pOiBBc3luY0l0ZXJhYmxlU3RyZWFtPFQ+IHtcbiAgLy8gUGlwZSB0aHJvdWdoIGEgVHJhbnNmb3JtU3RyZWFtIHRvIGVuc3VyZSBhIGZyZXNoLCB1bmxvY2tlZCBzdHJlYW0uXG4gIGNvbnN0IHN0cmVhbSA9IHNvdXJjZS5waXBlVGhyb3VnaChuZXcgVHJhbnNmb3JtU3RyZWFtPFQsIFQ+KCkpO1xuXG4gIC8qKlxuICAgKiBJbXBsZW1lbnRzIHRoZSBhc3luYyBpdGVyYXRvciBwcm90b2NvbCBmb3IgdGhlIHN0cmVhbS5cbiAgICogRW5zdXJlcyBwcm9wZXIgY2xlYW51cCAoY2FuY2VsbGluZyBhbmQgcmVsZWFzaW5nIHRoZSByZWFkZXIpIG9uIGNvbXBsZXRpb24sIGVhcmx5IGV4aXQsIG9yIGVycm9yLlxuICAgKi9cbiAgKHN0cmVhbSBhcyBBc3luY0l0ZXJhYmxlU3RyZWFtPFQ+KVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoXG4gICAgdGhpczogUmVhZGFibGVTdHJlYW08VD4sXG4gICk6IEFzeW5jSXRlcmF0b3I8VD4ge1xuICAgIGNvbnN0IHJlYWRlciA9IHRoaXMuZ2V0UmVhZGVyKCk7XG5cbiAgICBsZXQgZmluaXNoZWQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIENsZWFucyB1cCB0aGUgcmVhZGVyIGJ5IGNhbmNlbGxpbmcgYW5kIHJlbGVhc2luZyB0aGUgbG9jay5cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiBjbGVhbnVwKGNhbmNlbFN0cmVhbTogYm9vbGVhbikge1xuICAgICAgZmluaXNoZWQgPSB0cnVlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGNhbmNlbFN0cmVhbSkge1xuICAgICAgICAgIGF3YWl0IHJlYWRlci5jYW5jZWw/LigpO1xuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJlYWRlci5yZWxlYXNlTG9jaygpO1xuICAgICAgICB9IGNhdGNoIHt9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogUmVhZHMgdGhlIG5leHQgY2h1bmsgZnJvbSB0aGUgc3RyZWFtLlxuICAgICAgICogQHJldHVybnMgQSBwcm9taXNlIHJlc29sdmluZyB0byB0aGUgbmV4dCBJdGVyYXRvclJlc3VsdC5cbiAgICAgICAqL1xuICAgICAgYXN5bmMgbmV4dCgpOiBQcm9taXNlPEl0ZXJhdG9yUmVzdWx0PFQ+PiB7XG4gICAgICAgIGlmIChmaW5pc2hlZCkge1xuICAgICAgICAgIHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG5cbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICBhd2FpdCBjbGVhbnVwKHRydWUpO1xuICAgICAgICAgIHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZSB9O1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBDYWxsZWQgb24gZWFybHkgZXhpdCAoZS5nLiwgYnJlYWsgZnJvbSBmb3ItYXdhaXQpLlxuICAgICAgICogRW5zdXJlcyB0aGUgc3RyZWFtIGlzIGNhbmNlbGxlZCBhbmQgcmVzb3VyY2VzIGFyZSByZWxlYXNlZC5cbiAgICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSByZXNvbHZpbmcgdG8gYSBjb21wbGV0ZWQgSXRlcmF0b3JSZXN1bHQuXG4gICAgICAgKi9cbiAgICAgIGFzeW5jIHJldHVybigpOiBQcm9taXNlPEl0ZXJhdG9yUmVzdWx0PFQ+PiB7XG4gICAgICAgIGF3YWl0IGNsZWFudXAodHJ1ZSk7XG4gICAgICAgIHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQ2FsbGVkIG9uIGVhcmx5IGV4aXQgd2l0aCBlcnJvci5cbiAgICAgICAqIEVuc3VyZXMgdGhlIHN0cmVhbSBpcyBjYW5jZWxsZWQgYW5kIHJlc291cmNlcyBhcmUgcmVsZWFzZWQsIHRoZW4gcmV0aHJvd3MgdGhlIGVycm9yLlxuICAgICAgICogQHBhcmFtIGVyciBUaGUgZXJyb3IgdG8gdGhyb3cuXG4gICAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZWplY3RzIHdpdGggdGhlIHByb3ZpZGVkIGVycm9yLlxuICAgICAgICovXG4gICAgICBhc3luYyB0aHJvdyhlcnI6IHVua25vd24pOiBQcm9taXNlPEl0ZXJhdG9yUmVzdWx0PFQ+PiB7XG4gICAgICAgIGF3YWl0IGNsZWFudXAodHJ1ZSk7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH0sXG4gICAgfTtcbiAgfTtcblxuICByZXR1cm4gc3RyZWFtIGFzIEFzeW5jSXRlcmFibGVTdHJlYW08VD47XG59XG4iLCAiLyoqXG4gKiBDb25zdW1lcyBhIFJlYWRhYmxlU3RyZWFtIHVudGlsIGl0J3MgZnVsbHkgcmVhZC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHJlYWRzIHRoZSBzdHJlYW0gY2h1bmsgYnkgY2h1bmsgdW50aWwgdGhlIHN0cmVhbSBpcyBleGhhdXN0ZWQuXG4gKiBJdCBkb2Vzbid0IHByb2Nlc3Mgb3IgcmV0dXJuIHRoZSBkYXRhIGZyb20gdGhlIHN0cmVhbTsgaXQgc2ltcGx5IGVuc3VyZXNcbiAqIHRoYXQgdGhlIGVudGlyZSBzdHJlYW0gaXMgcmVhZC5cbiAqXG4gKiBAcGFyYW0ge1JlYWRhYmxlU3RyZWFtfSBzdHJlYW0gLSBUaGUgUmVhZGFibGVTdHJlYW0gdG8gYmUgY29uc3VtZWQuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgc3RyZWFtIGlzIGZ1bGx5IGNvbnN1bWVkLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29uc3VtZVN0cmVhbSh7XG4gIHN0cmVhbSxcbiAgb25FcnJvcixcbn06IHtcbiAgc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTtcbiAgb25FcnJvcj86IChlcnJvcjogdW5rbm93bikgPT4gdm9pZDtcbn0pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICB0cnkge1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb25zdCB7IGRvbmUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICBpZiAoZG9uZSkgYnJlYWs7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIG9uRXJyb3I/LihlcnJvcik7XG4gIH0gZmluYWxseSB7XG4gICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBFcnJvckhhbmRsZXIgfSBmcm9tICcuL2Vycm9yLWhhbmRsZXInO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBQcm9taXNlIHdpdGggZXh0ZXJuYWxseSBhY2Nlc3NpYmxlIHJlc29sdmUgYW5kIHJlamVjdCBmdW5jdGlvbnMuXG4gKlxuICogQHRlbXBsYXRlIFQgLSBUaGUgdHlwZSBvZiB0aGUgdmFsdWUgdGhhdCB0aGUgUHJvbWlzZSB3aWxsIHJlc29sdmUgdG8uXG4gKiBAcmV0dXJucyBBbiBvYmplY3QgY29udGFpbmluZzpcbiAqICAgLSBwcm9taXNlOiBBIFByb21pc2UgdGhhdCBjYW4gYmUgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQgZXh0ZXJuYWxseS5cbiAqICAgLSByZXNvbHZlOiBBIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIFByb21pc2Ugd2l0aCBhIHZhbHVlIG9mIHR5cGUgVC5cbiAqICAgLSByZWplY3Q6IEEgZnVuY3Rpb24gdG8gcmVqZWN0IHRoZSBQcm9taXNlIHdpdGggYW4gZXJyb3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZXNvbHZhYmxlUHJvbWlzZTxUID0gYW55PigpOiB7XG4gIHByb21pc2U6IFByb21pc2U8VD47XG4gIHJlc29sdmU6ICh2YWx1ZTogVCkgPT4gdm9pZDtcbiAgcmVqZWN0OiBFcnJvckhhbmRsZXI7XG59IHtcbiAgbGV0IHJlc29sdmU6ICh2YWx1ZTogVCkgPT4gdm9pZDtcbiAgbGV0IHJlamVjdDogRXJyb3JIYW5kbGVyO1xuXG4gIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZTxUPigocmVzLCByZWopID0+IHtcbiAgICByZXNvbHZlID0gcmVzO1xuICAgIHJlamVjdCA9IHJlajtcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBwcm9taXNlLFxuICAgIHJlc29sdmU6IHJlc29sdmUhLFxuICAgIHJlamVjdDogcmVqZWN0ISxcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyBjcmVhdGVSZXNvbHZhYmxlUHJvbWlzZSB9IGZyb20gJy4vY3JlYXRlLXJlc29sdmFibGUtcHJvbWlzZSc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0aXRjaGFibGUgc3RyZWFtIHRoYXQgY2FuIHBpcGUgb25lIHN0cmVhbSBhdCBhIHRpbWUuXG4gKlxuICogQHRlbXBsYXRlIFQgLSBUaGUgdHlwZSBvZiB2YWx1ZXMgZW1pdHRlZCBieSB0aGUgc3RyZWFtcy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGl0Y2hhYmxlIHN0cmVhbSBhbmQgY29udHJvbCBtZXRob2RzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3RpdGNoYWJsZVN0cmVhbTxUPigpOiB7XG4gIHN0cmVhbTogUmVhZGFibGVTdHJlYW08VD47XG4gIGFkZFN0cmVhbTogKGlubmVyU3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxUPikgPT4gdm9pZDtcbiAgY2xvc2U6ICgpID0+IHZvaWQ7XG4gIHRlcm1pbmF0ZTogKCkgPT4gdm9pZDtcbn0ge1xuICBsZXQgaW5uZXJTdHJlYW1SZWFkZXJzOiBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXI8VD5bXSA9IFtdO1xuICBsZXQgY29udHJvbGxlcjogUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxUPiB8IG51bGwgPSBudWxsO1xuICBsZXQgaXNDbG9zZWQgPSBmYWxzZTtcbiAgbGV0IHdhaXRGb3JOZXdTdHJlYW0gPSBjcmVhdGVSZXNvbHZhYmxlUHJvbWlzZTx2b2lkPigpO1xuXG4gIGNvbnN0IHRlcm1pbmF0ZSA9ICgpID0+IHtcbiAgICBpc0Nsb3NlZCA9IHRydWU7XG4gICAgd2FpdEZvck5ld1N0cmVhbS5yZXNvbHZlKCk7XG5cbiAgICBpbm5lclN0cmVhbVJlYWRlcnMuZm9yRWFjaChyZWFkZXIgPT4gcmVhZGVyLmNhbmNlbCgpKTtcbiAgICBpbm5lclN0cmVhbVJlYWRlcnMgPSBbXTtcbiAgICBjb250cm9sbGVyPy5jbG9zZSgpO1xuICB9O1xuXG4gIGNvbnN0IHByb2Nlc3NQdWxsID0gYXN5bmMgKCkgPT4ge1xuICAgIC8vIENhc2UgMTogT3V0ZXIgc3RyZWFtIGlzIGNsb3NlZCBhbmQgbm8gbW9yZSBpbm5lciBzdHJlYW1zXG4gICAgaWYgKGlzQ2xvc2VkICYmIGlubmVyU3RyZWFtUmVhZGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnRyb2xsZXI/LmNsb3NlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2FzZSAyOiBObyBpbm5lciBzdHJlYW1zIGF2YWlsYWJsZSwgYnV0IG91dGVyIHN0cmVhbSBpcyBvcGVuXG4gICAgLy8gd2FpdCBmb3IgYSBuZXcgaW5uZXIgc3RyZWFtIHRvIGJlIGFkZGVkIG9yIHRoZSBvdXRlciBzdHJlYW0gdG8gY2xvc2VcbiAgICBpZiAoaW5uZXJTdHJlYW1SZWFkZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgd2FpdEZvck5ld1N0cmVhbSA9IGNyZWF0ZVJlc29sdmFibGVQcm9taXNlPHZvaWQ+KCk7XG4gICAgICBhd2FpdCB3YWl0Rm9yTmV3U3RyZWFtLnByb21pc2U7XG4gICAgICByZXR1cm4gcHJvY2Vzc1B1bGwoKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gYXdhaXQgaW5uZXJTdHJlYW1SZWFkZXJzWzBdLnJlYWQoKTtcblxuICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgLy8gQ2FzZSAzOiBDdXJyZW50IGlubmVyIHN0cmVhbSBpcyBkb25lXG4gICAgICAgIGlubmVyU3RyZWFtUmVhZGVycy5zaGlmdCgpOyAvLyBSZW1vdmUgdGhlIGZpbmlzaGVkIHN0cmVhbVxuXG4gICAgICAgIC8vIENvbnRpbnVlIHB1bGxpbmcgZnJvbSB0aGUgbmV4dCBzdHJlYW0gaWYgYXZhaWxhYmxlXG4gICAgICAgIGlmIChpbm5lclN0cmVhbVJlYWRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGF3YWl0IHByb2Nlc3NQdWxsKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNDbG9zZWQpIHtcbiAgICAgICAgICBjb250cm9sbGVyPy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDYXNlIDQ6IEN1cnJlbnQgaW5uZXIgc3RyZWFtIHJldHVybnMgYW4gaXRlbVxuICAgICAgICBjb250cm9sbGVyPy5lbnF1ZXVlKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gQ2FzZSA1OiBDdXJyZW50IGlubmVyIHN0cmVhbSB0aHJvd3MgYW4gZXJyb3JcbiAgICAgIGNvbnRyb2xsZXI/LmVycm9yKGVycm9yKTtcbiAgICAgIGlubmVyU3RyZWFtUmVhZGVycy5zaGlmdCgpOyAvLyBSZW1vdmUgdGhlIGVycm9yZWQgc3RyZWFtXG4gICAgICB0ZXJtaW5hdGUoKTsgLy8gd2UgaGF2ZSBlcnJvcmVkLCB0ZXJtaW5hdGUgYWxsIHN0cmVhbXNcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBzdHJlYW06IG5ldyBSZWFkYWJsZVN0cmVhbTxUPih7XG4gICAgICBzdGFydChjb250cm9sbGVyUGFyYW0pIHtcbiAgICAgICAgY29udHJvbGxlciA9IGNvbnRyb2xsZXJQYXJhbTtcbiAgICAgIH0sXG4gICAgICBwdWxsOiBwcm9jZXNzUHVsbCxcbiAgICAgIGFzeW5jIGNhbmNlbCgpIHtcbiAgICAgICAgZm9yIChjb25zdCByZWFkZXIgb2YgaW5uZXJTdHJlYW1SZWFkZXJzKSB7XG4gICAgICAgICAgYXdhaXQgcmVhZGVyLmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgICAgIGlubmVyU3RyZWFtUmVhZGVycyA9IFtdO1xuICAgICAgICBpc0Nsb3NlZCA9IHRydWU7XG4gICAgICB9LFxuICAgIH0pLFxuICAgIGFkZFN0cmVhbTogKGlubmVyU3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxUPikgPT4ge1xuICAgICAgaWYgKGlzQ2xvc2VkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFkZCBpbm5lciBzdHJlYW06IG91dGVyIHN0cmVhbSBpcyBjbG9zZWQnKTtcbiAgICAgIH1cblxuICAgICAgaW5uZXJTdHJlYW1SZWFkZXJzLnB1c2goaW5uZXJTdHJlYW0uZ2V0UmVhZGVyKCkpO1xuICAgICAgd2FpdEZvck5ld1N0cmVhbS5yZXNvbHZlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdyYWNlZnVsbHkgY2xvc2UgdGhlIG91dGVyIHN0cmVhbS4gVGhpcyB3aWxsIGxldCB0aGUgaW5uZXIgc3RyZWFtc1xuICAgICAqIGZpbmlzaCBwcm9jZXNzaW5nIGFuZCB0aGVuIGNsb3NlIHRoZSBvdXRlciBzdHJlYW0uXG4gICAgICovXG4gICAgY2xvc2U6ICgpID0+IHtcbiAgICAgIGlzQ2xvc2VkID0gdHJ1ZTtcbiAgICAgIHdhaXRGb3JOZXdTdHJlYW0ucmVzb2x2ZSgpO1xuXG4gICAgICBpZiAoaW5uZXJTdHJlYW1SZWFkZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb250cm9sbGVyPy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbW1lZGlhdGVseSBjbG9zZSB0aGUgb3V0ZXIgc3RyZWFtLiBUaGlzIHdpbGwgY2FuY2VsIGFsbCBpbm5lciBzdHJlYW1zXG4gICAgICogYW5kIGNsb3NlIHRoZSBvdXRlciBzdHJlYW0uXG4gICAgICovXG4gICAgdGVybWluYXRlLFxuICB9O1xufVxuIiwgIi8qKlxuICogRGVsYXllZCBwcm9taXNlLiBJdCBpcyBvbmx5IGNvbnN0cnVjdGVkIG9uY2UgdGhlIHZhbHVlIGlzIGFjY2Vzc2VkLlxuICogVGhpcyBpcyB1c2VmdWwgdG8gYXZvaWQgdW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9ucyB3aGVuIHRoZSBwcm9taXNlIGlzIGNyZWF0ZWRcbiAqIGJ1dCBub3QgYWNjZXNzZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWxheWVkUHJvbWlzZTxUPiB7XG4gIHByaXZhdGUgc3RhdHVzOlxuICAgIHwgeyB0eXBlOiAncGVuZGluZycgfVxuICAgIHwgeyB0eXBlOiAncmVzb2x2ZWQnOyB2YWx1ZTogVCB9XG4gICAgfCB7IHR5cGU6ICdyZWplY3RlZCc7IGVycm9yOiB1bmtub3duIH0gPSB7IHR5cGU6ICdwZW5kaW5nJyB9O1xuICBwcml2YXRlIF9wcm9taXNlOiBQcm9taXNlPFQ+IHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIF9yZXNvbHZlOiB1bmRlZmluZWQgfCAoKHZhbHVlOiBUKSA9PiB2b2lkKSA9IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBfcmVqZWN0OiB1bmRlZmluZWQgfCAoKGVycm9yOiB1bmtub3duKSA9PiB2b2lkKSA9IHVuZGVmaW5lZDtcblxuICBnZXQgcHJvbWlzZSgpOiBQcm9taXNlPFQ+IHtcbiAgICBpZiAodGhpcy5fcHJvbWlzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Byb21pc2U7XG4gICAgfVxuXG4gICAgdGhpcy5fcHJvbWlzZSA9IG5ldyBQcm9taXNlPFQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmICh0aGlzLnN0YXR1cy50eXBlID09PSAncmVzb2x2ZWQnKSB7XG4gICAgICAgIHJlc29sdmUodGhpcy5zdGF0dXMudmFsdWUpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXR1cy50eXBlID09PSAncmVqZWN0ZWQnKSB7XG4gICAgICAgIHJlamVjdCh0aGlzLnN0YXR1cy5lcnJvcik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3Jlc29sdmUgPSByZXNvbHZlO1xuICAgICAgdGhpcy5fcmVqZWN0ID0gcmVqZWN0O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuX3Byb21pc2U7XG4gIH1cblxuICByZXNvbHZlKHZhbHVlOiBUKTogdm9pZCB7XG4gICAgdGhpcy5zdGF0dXMgPSB7IHR5cGU6ICdyZXNvbHZlZCcsIHZhbHVlIH07XG5cbiAgICBpZiAodGhpcy5fcHJvbWlzZSkge1xuICAgICAgdGhpcy5fcmVzb2x2ZT8uKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICByZWplY3QoZXJyb3I6IHVua25vd24pOiB2b2lkIHtcbiAgICB0aGlzLnN0YXR1cyA9IHsgdHlwZTogJ3JlamVjdGVkJywgZXJyb3IgfTtcblxuICAgIGlmICh0aGlzLl9wcm9taXNlKSB7XG4gICAgICB0aGlzLl9yZWplY3Q/LihlcnJvcik7XG4gICAgfVxuICB9XG59XG4iLCAiLy8gU2hpbSBmb3IgcGVyZm9ybWFuY2Uubm93KCkgdG8gc3VwcG9ydCBlbnZpcm9ubWVudHMgdGhhdCBkb24ndCBoYXZlIGl0OlxuZXhwb3J0IGZ1bmN0aW9uIG5vdygpOiBudW1iZXIge1xuICByZXR1cm4gZ2xvYmFsVGhpcz8ucGVyZm9ybWFuY2U/Lm5vdygpID8/IERhdGUubm93KCk7XG59XG4iLCAiaW1wb3J0IHtcbiAgTGFuZ3VhZ2VNb2RlbFYyQ2FsbFdhcm5pbmcsXG4gIExhbmd1YWdlTW9kZWxWMlN0cmVhbVBhcnQsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHtcbiAgZXhlY3V0ZVRvb2wsXG4gIGdlbmVyYXRlSWQsXG4gIGdldEVycm9yTWVzc2FnZSxcbiAgTW9kZWxNZXNzYWdlLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IFRyYWNlciB9IGZyb20gJ0BvcGVudGVsZW1ldHJ5L2FwaSc7XG5pbXBvcnQgeyBhc3NlbWJsZU9wZXJhdGlvbk5hbWUgfSBmcm9tICcuLi90ZWxlbWV0cnkvYXNzZW1ibGUtb3BlcmF0aW9uLW5hbWUnO1xuaW1wb3J0IHsgcmVjb3JkRXJyb3JPblNwYW4sIHJlY29yZFNwYW4gfSBmcm9tICcuLi90ZWxlbWV0cnkvcmVjb3JkLXNwYW4nO1xuaW1wb3J0IHsgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyB9IGZyb20gJy4uL3RlbGVtZXRyeS9zZWxlY3QtdGVsZW1ldHJ5LWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgVGVsZW1ldHJ5U2V0dGluZ3MgfSBmcm9tICcuLi90ZWxlbWV0cnkvdGVsZW1ldHJ5LXNldHRpbmdzJztcbmltcG9ydCB7IEZpbmlzaFJlYXNvbiwgTGFuZ3VhZ2VNb2RlbFVzYWdlLCBQcm92aWRlck1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgU291cmNlIH0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwnO1xuaW1wb3J0IHsgRGVmYXVsdEdlbmVyYXRlZEZpbGVXaXRoVHlwZSwgR2VuZXJhdGVkRmlsZSB9IGZyb20gJy4vZ2VuZXJhdGVkLWZpbGUnO1xuaW1wb3J0IHsgcGFyc2VUb29sQ2FsbCB9IGZyb20gJy4vcGFyc2UtdG9vbC1jYWxsJztcbmltcG9ydCB7IFR5cGVkVG9vbENhbGwgfSBmcm9tICcuL3Rvb2wtY2FsbCc7XG5pbXBvcnQgeyBUb29sQ2FsbFJlcGFpckZ1bmN0aW9uIH0gZnJvbSAnLi90b29sLWNhbGwtcmVwYWlyLWZ1bmN0aW9uJztcbmltcG9ydCB7IFR5cGVkVG9vbEVycm9yIH0gZnJvbSAnLi90b29sLWVycm9yJztcbmltcG9ydCB7IFR5cGVkVG9vbFJlc3VsdCB9IGZyb20gJy4vdG9vbC1yZXN1bHQnO1xuaW1wb3J0IHsgVG9vbFNldCB9IGZyb20gJy4vdG9vbC1zZXQnO1xuXG5leHBvcnQgdHlwZSBTaW5nbGVSZXF1ZXN0VGV4dFN0cmVhbVBhcnQ8VE9PTFMgZXh0ZW5kcyBUb29sU2V0PiA9XG4gIC8vIFRleHQgYmxvY2tzOlxuICB8IHtcbiAgICAgIHR5cGU6ICd0ZXh0LXN0YXJ0JztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgICAgaWQ6IHN0cmluZztcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3RleHQtZGVsdGEnO1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgICAgZGVsdGE6IHN0cmluZztcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3RleHQtZW5kJztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgICAgaWQ6IHN0cmluZztcbiAgICB9XG5cbiAgLy8gUmVhc29uaW5nIGJsb2NrczpcbiAgfCB7XG4gICAgICB0eXBlOiAncmVhc29uaW5nLXN0YXJ0JztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgICAgaWQ6IHN0cmluZztcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3JlYXNvbmluZy1kZWx0YSc7XG4gICAgICBpZDogc3RyaW5nO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICBkZWx0YTogc3RyaW5nO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAncmVhc29uaW5nLWVuZCc7XG4gICAgICBpZDogc3RyaW5nO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgfVxuXG4gIC8vIFRvb2wgY2FsbHM6XG4gIHwge1xuICAgICAgdHlwZTogJ3Rvb2wtaW5wdXQtc3RhcnQnO1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIHRvb2xOYW1lOiBzdHJpbmc7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3Rvb2wtaW5wdXQtZGVsdGEnO1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIGRlbHRhOiBzdHJpbmc7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3Rvb2wtaW5wdXQtZW5kJztcbiAgICAgIGlkOiBzdHJpbmc7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG4gIHwgKHsgdHlwZTogJ3NvdXJjZScgfSAmIFNvdXJjZSlcbiAgfCB7IHR5cGU6ICdmaWxlJzsgZmlsZTogR2VuZXJhdGVkRmlsZSB9IC8vIGRpZmZlcmVudCBiZWNhdXNlIG9mIEdlbmVyYXRlZEZpbGUgb2JqZWN0XG4gIHwgKHsgdHlwZTogJ3Rvb2wtY2FsbCcgfSAmIFR5cGVkVG9vbENhbGw8VE9PTFM+KVxuICB8ICh7IHR5cGU6ICd0b29sLXJlc3VsdCcgfSAmIFR5cGVkVG9vbFJlc3VsdDxUT09MUz4pXG4gIHwgKHsgdHlwZTogJ3Rvb2wtZXJyb3InIH0gJiBUeXBlZFRvb2xFcnJvcjxUT09MUz4pXG4gIHwgeyB0eXBlOiAnZmlsZSc7IGZpbGU6IEdlbmVyYXRlZEZpbGUgfSAvLyBkaWZmZXJlbnQgYmVjYXVzZSBvZiBHZW5lcmF0ZWRGaWxlIG9iamVjdFxuICB8IHsgdHlwZTogJ3N0cmVhbS1zdGFydCc7IHdhcm5pbmdzOiBMYW5ndWFnZU1vZGVsVjJDYWxsV2FybmluZ1tdIH1cbiAgfCB7XG4gICAgICB0eXBlOiAncmVzcG9uc2UtbWV0YWRhdGEnO1xuICAgICAgaWQ/OiBzdHJpbmc7XG4gICAgICB0aW1lc3RhbXA/OiBEYXRlO1xuICAgICAgbW9kZWxJZD86IHN0cmluZztcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ2ZpbmlzaCc7XG4gICAgICBmaW5pc2hSZWFzb246IEZpbmlzaFJlYXNvbjtcbiAgICAgIHVzYWdlOiBMYW5ndWFnZU1vZGVsVXNhZ2U7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG4gIHwgeyB0eXBlOiAnZXJyb3InOyBlcnJvcjogdW5rbm93biB9XG4gIHwgeyB0eXBlOiAncmF3JzsgcmF3VmFsdWU6IHVua25vd24gfTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJ1blRvb2xzVHJhbnNmb3JtYXRpb248VE9PTFMgZXh0ZW5kcyBUb29sU2V0Pih7XG4gIHRvb2xzLFxuICBnZW5lcmF0b3JTdHJlYW0sXG4gIHRyYWNlcixcbiAgdGVsZW1ldHJ5LFxuICBzeXN0ZW0sXG4gIG1lc3NhZ2VzLFxuICBhYm9ydFNpZ25hbCxcbiAgcmVwYWlyVG9vbENhbGwsXG4gIGV4cGVyaW1lbnRhbF9jb250ZXh0LFxufToge1xuICB0b29sczogVE9PTFMgfCB1bmRlZmluZWQ7XG4gIGdlbmVyYXRvclN0cmVhbTogUmVhZGFibGVTdHJlYW08TGFuZ3VhZ2VNb2RlbFYyU3RyZWFtUGFydD47XG4gIHRyYWNlcjogVHJhY2VyO1xuICB0ZWxlbWV0cnk6IFRlbGVtZXRyeVNldHRpbmdzIHwgdW5kZWZpbmVkO1xuICBzeXN0ZW06IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgbWVzc2FnZXM6IE1vZGVsTWVzc2FnZVtdO1xuICBhYm9ydFNpZ25hbDogQWJvcnRTaWduYWwgfCB1bmRlZmluZWQ7XG4gIHJlcGFpclRvb2xDYWxsOiBUb29sQ2FsbFJlcGFpckZ1bmN0aW9uPFRPT0xTPiB8IHVuZGVmaW5lZDtcbiAgZXhwZXJpbWVudGFsX2NvbnRleHQ6IHVua25vd247XG59KTogUmVhZGFibGVTdHJlYW08U2luZ2xlUmVxdWVzdFRleHRTdHJlYW1QYXJ0PFRPT0xTPj4ge1xuICAvLyB0b29sIHJlc3VsdHMgc3RyZWFtXG4gIGxldCB0b29sUmVzdWx0c1N0cmVhbUNvbnRyb2xsZXI6IFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8XG4gICAgU2luZ2xlUmVxdWVzdFRleHRTdHJlYW1QYXJ0PFRPT0xTPlxuICA+IHwgbnVsbCA9IG51bGw7XG4gIGNvbnN0IHRvb2xSZXN1bHRzU3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtPFxuICAgIFNpbmdsZVJlcXVlc3RUZXh0U3RyZWFtUGFydDxUT09MUz5cbiAgPih7XG4gICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgdG9vbFJlc3VsdHNTdHJlYW1Db250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB9LFxuICB9KTtcblxuICAvLyBrZWVwIHRyYWNrIG9mIG91dHN0YW5kaW5nIHRvb2wgcmVzdWx0cyBmb3Igc3RyZWFtIGNsb3Npbmc6XG4gIGNvbnN0IG91dHN0YW5kaW5nVG9vbFJlc3VsdHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcblxuICAvLyBrZWVwIHRyYWNrIG9mIHRvb2wgaW5wdXRzIGZvciBwcm92aWRlci1zaWRlIHRvb2wgcmVzdWx0c1xuICBjb25zdCB0b29sSW5wdXRzID0gbmV3IE1hcDxzdHJpbmcsIHVua25vd24+KCk7XG5cbiAgbGV0IGNhbkNsb3NlID0gZmFsc2U7XG4gIGxldCBmaW5pc2hDaHVuazpcbiAgICB8IChTaW5nbGVSZXF1ZXN0VGV4dFN0cmVhbVBhcnQ8VE9PTFM+ICYgeyB0eXBlOiAnZmluaXNoJyB9KVxuICAgIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gIGZ1bmN0aW9uIGF0dGVtcHRDbG9zZSgpIHtcbiAgICAvLyBjbG9zZSB0aGUgdG9vbCByZXN1bHRzIGNvbnRyb2xsZXIgaWYgbm8gbW9yZSBvdXRzdGFuZGluZyB0b29sIGNhbGxzXG4gICAgaWYgKGNhbkNsb3NlICYmIG91dHN0YW5kaW5nVG9vbFJlc3VsdHMuc2l6ZSA9PT0gMCkge1xuICAgICAgLy8gd2UgZGVsYXkgc2VuZGluZyB0aGUgZmluaXNoIGNodW5rIHVudGlsIGFsbCB0b29sIHJlc3VsdHMgKGluY2wuIGRlbGF5ZWQgb25lcylcbiAgICAgIC8vIGFyZSByZWNlaXZlZCB0byBlbnN1cmUgdGhhdCB0aGUgZnJvbnRlbmQgcmVjZWl2ZXMgdG9vbCByZXN1bHRzIGJlZm9yZSBhIG1lc3NhZ2VcbiAgICAgIC8vIGZpbmlzaCBldmVudCBhcnJpdmVzLlxuICAgICAgaWYgKGZpbmlzaENodW5rICE9IG51bGwpIHtcbiAgICAgICAgdG9vbFJlc3VsdHNTdHJlYW1Db250cm9sbGVyIS5lbnF1ZXVlKGZpbmlzaENodW5rKTtcbiAgICAgIH1cblxuICAgICAgdG9vbFJlc3VsdHNTdHJlYW1Db250cm9sbGVyIS5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGZvcndhcmQgc3RyZWFtXG4gIGNvbnN0IGZvcndhcmRTdHJlYW0gPSBuZXcgVHJhbnNmb3JtU3RyZWFtPFxuICAgIExhbmd1YWdlTW9kZWxWMlN0cmVhbVBhcnQsXG4gICAgU2luZ2xlUmVxdWVzdFRleHRTdHJlYW1QYXJ0PFRPT0xTPlxuICA+KHtcbiAgICBhc3luYyB0cmFuc2Zvcm0oXG4gICAgICBjaHVuazogTGFuZ3VhZ2VNb2RlbFYyU3RyZWFtUGFydCxcbiAgICAgIGNvbnRyb2xsZXI6IFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFxuICAgICAgICBTaW5nbGVSZXF1ZXN0VGV4dFN0cmVhbVBhcnQ8VE9PTFM+XG4gICAgICA+LFxuICAgICkge1xuICAgICAgY29uc3QgY2h1bmtUeXBlID0gY2h1bmsudHlwZTtcblxuICAgICAgc3dpdGNoIChjaHVua1R5cGUpIHtcbiAgICAgICAgLy8gZm9yd2FyZDpcbiAgICAgICAgY2FzZSAnc3RyZWFtLXN0YXJ0JzpcbiAgICAgICAgY2FzZSAndGV4dC1zdGFydCc6XG4gICAgICAgIGNhc2UgJ3RleHQtZGVsdGEnOlxuICAgICAgICBjYXNlICd0ZXh0LWVuZCc6XG4gICAgICAgIGNhc2UgJ3JlYXNvbmluZy1zdGFydCc6XG4gICAgICAgIGNhc2UgJ3JlYXNvbmluZy1kZWx0YSc6XG4gICAgICAgIGNhc2UgJ3JlYXNvbmluZy1lbmQnOlxuICAgICAgICBjYXNlICd0b29sLWlucHV0LXN0YXJ0JzpcbiAgICAgICAgY2FzZSAndG9vbC1pbnB1dC1kZWx0YSc6XG4gICAgICAgIGNhc2UgJ3Rvb2wtaW5wdXQtZW5kJzpcbiAgICAgICAgY2FzZSAnc291cmNlJzpcbiAgICAgICAgY2FzZSAncmVzcG9uc2UtbWV0YWRhdGEnOlxuICAgICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgIGNhc2UgJ3Jhdyc6IHtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAnZmlsZSc6IHtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgdHlwZTogJ2ZpbGUnLFxuICAgICAgICAgICAgZmlsZTogbmV3IERlZmF1bHRHZW5lcmF0ZWRGaWxlV2l0aFR5cGUoe1xuICAgICAgICAgICAgICBkYXRhOiBjaHVuay5kYXRhLFxuICAgICAgICAgICAgICBtZWRpYVR5cGU6IGNodW5rLm1lZGlhVHlwZSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAnZmluaXNoJzoge1xuICAgICAgICAgIGZpbmlzaENodW5rID0ge1xuICAgICAgICAgICAgdHlwZTogJ2ZpbmlzaCcsXG4gICAgICAgICAgICBmaW5pc2hSZWFzb246IGNodW5rLmZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgIHVzYWdlOiBjaHVuay51c2FnZSxcbiAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IGNodW5rLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHByb2Nlc3MgdG9vbCBjYWxsOlxuICAgICAgICBjYXNlICd0b29sLWNhbGwnOiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHRvb2xDYWxsID0gYXdhaXQgcGFyc2VUb29sQ2FsbCh7XG4gICAgICAgICAgICAgIHRvb2xDYWxsOiBjaHVuayxcbiAgICAgICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgICAgIHJlcGFpclRvb2xDYWxsLFxuICAgICAgICAgICAgICBzeXN0ZW0sXG4gICAgICAgICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh0b29sQ2FsbCk7XG5cbiAgICAgICAgICAgIC8vIGhhbmRsZSBpbnZhbGlkIHRvb2wgY2FsbHM6XG4gICAgICAgICAgICBpZiAodG9vbENhbGwuaW52YWxpZCkge1xuICAgICAgICAgICAgICB0b29sUmVzdWx0c1N0cmVhbUNvbnRyb2xsZXIhLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0b29sLWVycm9yJyxcbiAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiB0b29sQ2FsbC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgIHRvb2xOYW1lOiB0b29sQ2FsbC50b29sTmFtZSxcbiAgICAgICAgICAgICAgICBpbnB1dDogdG9vbENhbGwuaW5wdXQsXG4gICAgICAgICAgICAgICAgZXJyb3I6IGdldEVycm9yTWVzc2FnZSh0b29sQ2FsbC5lcnJvciEpLFxuICAgICAgICAgICAgICAgIGR5bmFtaWM6IHRydWUsXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB0b29sID0gdG9vbHMhW3Rvb2xDYWxsLnRvb2xOYW1lXTtcblxuICAgICAgICAgICAgdG9vbElucHV0cy5zZXQodG9vbENhbGwudG9vbENhbGxJZCwgdG9vbENhbGwuaW5wdXQpO1xuXG4gICAgICAgICAgICBpZiAodG9vbC5vbklucHV0QXZhaWxhYmxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgYXdhaXQgdG9vbC5vbklucHV0QXZhaWxhYmxlKHtcbiAgICAgICAgICAgICAgICBpbnB1dDogdG9vbENhbGwuaW5wdXQsXG4gICAgICAgICAgICAgICAgdG9vbENhbGxJZDogdG9vbENhbGwudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICBleHBlcmltZW50YWxfY29udGV4dCxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE9ubHkgZXhlY3V0ZSB0b29scyB0aGF0IGFyZSBub3QgcHJvdmlkZXItZXhlY3V0ZWQ6XG4gICAgICAgICAgICBpZiAodG9vbC5leGVjdXRlICE9IG51bGwgJiYgdG9vbENhbGwucHJvdmlkZXJFeGVjdXRlZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICBjb25zdCB0b29sRXhlY3V0aW9uSWQgPSBnZW5lcmF0ZUlkKCk7IC8vIHVzZSBvdXIgb3duIGlkIHRvIGd1YXJhbnRlZSB1bmlxdWVuZXNzXG4gICAgICAgICAgICAgIG91dHN0YW5kaW5nVG9vbFJlc3VsdHMuYWRkKHRvb2xFeGVjdXRpb25JZCk7XG5cbiAgICAgICAgICAgICAgLy8gTm90ZTogd2UgZG9uJ3QgYXdhaXQgdGhlIHRvb2wgZXhlY3V0aW9uIGhlcmUgKGJ5IGxlYXZpbmcgb3V0ICdhd2FpdCcgb24gcmVjb3JkU3BhbiksXG4gICAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2Ugd2FudCB0byBwcm9jZXNzIHRoZSBuZXh0IGNodW5rIGFzIHNvb24gYXMgcG9zc2libGUuXG4gICAgICAgICAgICAgIC8vIFRoaXMgaXMgaW1wb3J0YW50IGZvciB0aGUgY2FzZSB3aGVyZSB0aGUgdG9vbCBleGVjdXRpb24gdGFrZXMgYSBsb25nIHRpbWUuXG4gICAgICAgICAgICAgIHJlY29yZFNwYW4oe1xuICAgICAgICAgICAgICAgIG5hbWU6ICdhaS50b29sQ2FsbCcsXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uSWQ6ICdhaS50b29sQ2FsbCcsXG4gICAgICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgJ2FpLnRvb2xDYWxsLm5hbWUnOiB0b29sQ2FsbC50b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgJ2FpLnRvb2xDYWxsLmlkJzogdG9vbENhbGwudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgICAgJ2FpLnRvb2xDYWxsLmFyZ3MnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeSh0b29sQ2FsbC5pbnB1dCksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHRyYWNlcixcbiAgICAgICAgICAgICAgICBmbjogYXN5bmMgc3BhbiA9PiB7XG4gICAgICAgICAgICAgICAgICBsZXQgb3V0cHV0OiB1bmtub3duO1xuXG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW0gPSBleGVjdXRlVG9vbCh7XG4gICAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZTogdG9vbC5leGVjdXRlIS5iaW5kKHRvb2wpLFxuICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiB0b29sQ2FsbC5pbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiB0b29sQ2FsbC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVyaW1lbnRhbF9jb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgcGFydCBvZiBzdHJlYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICB0b29sUmVzdWx0c1N0cmVhbUNvbnRyb2xsZXIhLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4udG9vbENhbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1yZXN1bHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiBwYXJ0Lm91dHB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLihwYXJ0LnR5cGUgPT09ICdwcmVsaW1pbmFyeScgJiYge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVsaW1pbmFyeTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ2ZpbmFsJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gcGFydC5vdXRwdXQ7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWNvcmRFcnJvck9uU3BhbihzcGFuLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHRvb2xSZXN1bHRzU3RyZWFtQ29udHJvbGxlciEuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgLi4udG9vbENhbGwsXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgICAgICB9IHNhdGlzZmllcyBUeXBlZFRvb2xFcnJvcjxUT09MUz4pO1xuXG4gICAgICAgICAgICAgICAgICAgIG91dHN0YW5kaW5nVG9vbFJlc3VsdHMuZGVsZXRlKHRvb2xFeGVjdXRpb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIGF0dGVtcHRDbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIG91dHN0YW5kaW5nVG9vbFJlc3VsdHMuZGVsZXRlKHRvb2xFeGVjdXRpb25JZCk7XG4gICAgICAgICAgICAgICAgICBhdHRlbXB0Q2xvc2UoKTtcblxuICAgICAgICAgICAgICAgICAgLy8gcmVjb3JkIHRlbGVtZXRyeVxuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWkudG9vbENhbGwucmVzdWx0Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkob3V0cHV0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChpZ25vcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEpTT04gc3RyaW5naWZ5IG1pZ2h0IGZhaWwgaWYgdGhlIHJlc3VsdCBpcyBub3Qgc2VyaWFsaXphYmxlLFxuICAgICAgICAgICAgICAgICAgICAvLyBpbiB3aGljaCBjYXNlIHdlIGp1c3QgaWdub3JlIGl0LiBJbiB0aGUgZnV0dXJlIHdlIG1pZ2h0IHdhbnQgdG9cbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGFuIG9wdGlvbmFsIHNlcmlhbGl6ZSBtZXRob2QgdG8gdGhlIHRvb2wgaW50ZXJmYWNlIGFuZCB3YXJuXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSByZXN1bHQgaXMgbm90IHNlcmlhbGl6YWJsZS5cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdG9vbFJlc3VsdHNTdHJlYW1Db250cm9sbGVyIS5lbnF1ZXVlKHsgdHlwZTogJ2Vycm9yJywgZXJyb3IgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlICd0b29sLXJlc3VsdCc6IHtcbiAgICAgICAgICBjb25zdCB0b29sTmFtZSA9IGNodW5rLnRvb2xOYW1lIGFzIGtleW9mIFRPT0xTICYgc3RyaW5nO1xuXG4gICAgICAgICAgaWYgKGNodW5rLmlzRXJyb3IpIHtcbiAgICAgICAgICAgIHRvb2xSZXN1bHRzU3RyZWFtQ29udHJvbGxlciEuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgIHR5cGU6ICd0b29sLWVycm9yJyxcbiAgICAgICAgICAgICAgdG9vbENhbGxJZDogY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgdG9vbE5hbWUsXG4gICAgICAgICAgICAgIGlucHV0OiB0b29sSW5wdXRzLmdldChjaHVuay50b29sQ2FsbElkKSxcbiAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogY2h1bmsucHJvdmlkZXJFeGVjdXRlZCxcbiAgICAgICAgICAgICAgZXJyb3I6IGNodW5rLnJlc3VsdCxcbiAgICAgICAgICAgIH0gYXMgVHlwZWRUb29sRXJyb3I8VE9PTFM+KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtcmVzdWx0JyxcbiAgICAgICAgICAgICAgdG9vbENhbGxJZDogY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgdG9vbE5hbWUsXG4gICAgICAgICAgICAgIGlucHV0OiB0b29sSW5wdXRzLmdldChjaHVuay50b29sQ2FsbElkKSxcbiAgICAgICAgICAgICAgb3V0cHV0OiBjaHVuay5yZXN1bHQsXG4gICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IGNodW5rLnByb3ZpZGVyRXhlY3V0ZWQsXG4gICAgICAgICAgICB9IGFzIFR5cGVkVG9vbFJlc3VsdDxUT09MUz4pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrOiBuZXZlciA9IGNodW5rVHlwZTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuaGFuZGxlZCBjaHVuayB0eXBlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZmx1c2goKSB7XG4gICAgICBjYW5DbG9zZSA9IHRydWU7XG4gICAgICBhdHRlbXB0Q2xvc2UoKTtcbiAgICB9LFxuICB9KTtcblxuICAvLyBjb21iaW5lIHRoZSBnZW5lcmF0b3Igc3RyZWFtIGFuZCB0aGUgdG9vbCByZXN1bHRzIHN0cmVhbVxuICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtPFNpbmdsZVJlcXVlc3RUZXh0U3RyZWFtUGFydDxUT09MUz4+KHtcbiAgICBhc3luYyBzdGFydChjb250cm9sbGVyKSB7XG4gICAgICAvLyBuZWVkIHRvIHdhaXQgZm9yIGJvdGggcGlwZXMgc28gdGhlcmUgYXJlIG5vIGRhbmdsaW5nIHByb21pc2VzIHRoYXRcbiAgICAgIC8vIGNhbiBjYXVzZSB1bmNhdWdodCBwcm9taXNlIHJlamVjdGlvbnMgd2hlbiB0aGUgc3RyZWFtIGlzIGFib3J0ZWRcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICAgIGdlbmVyYXRvclN0cmVhbS5waXBlVGhyb3VnaChmb3J3YXJkU3RyZWFtKS5waXBlVG8oXG4gICAgICAgICAgbmV3IFdyaXRhYmxlU3RyZWFtKHtcbiAgICAgICAgICAgIHdyaXRlKGNodW5rKSB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xvc2UoKSB7XG4gICAgICAgICAgICAgIC8vIHRoZSBnZW5lcmF0b3Igc3RyZWFtIGNvbnRyb2xsZXIgaXMgYXV0b21hdGljYWxseSBjbG9zZWQgd2hlbiBpdCdzIGNvbnN1bWVkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICApLFxuICAgICAgICB0b29sUmVzdWx0c1N0cmVhbS5waXBlVG8oXG4gICAgICAgICAgbmV3IFdyaXRhYmxlU3RyZWFtKHtcbiAgICAgICAgICAgIHdyaXRlKGNodW5rKSB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xvc2UoKSB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgICksXG4gICAgICBdKTtcbiAgICB9LFxuICB9KTtcbn1cbiIsICJpbXBvcnQge1xuICBBc3Npc3RhbnRDb250ZW50LFxuICBNb2RlbE1lc3NhZ2UsXG4gIFRvb2xSZXN1bHRQYXJ0LFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IFRvb2xTZXQgfSBmcm9tICcuLi9nZW5lcmF0ZS10ZXh0L3Rvb2wtc2V0JztcbmltcG9ydCB7IGNyZWF0ZVRvb2xNb2RlbE91dHB1dCB9IGZyb20gJy4uL3Byb21wdC9jcmVhdGUtdG9vbC1tb2RlbC1vdXRwdXQnO1xuaW1wb3J0IHsgTWVzc2FnZUNvbnZlcnNpb25FcnJvciB9IGZyb20gJy4uL3Byb21wdC9tZXNzYWdlLWNvbnZlcnNpb24tZXJyb3InO1xuaW1wb3J0IHtcbiAgRHluYW1pY1Rvb2xVSVBhcnQsXG4gIEZpbGVVSVBhcnQsXG4gIGdldFRvb2xOYW1lLFxuICBpc1Rvb2xPckR5bmFtaWNUb29sVUlQYXJ0LFxuICBpc1Rvb2xVSVBhcnQsXG4gIFJlYXNvbmluZ1VJUGFydCxcbiAgVGV4dFVJUGFydCxcbiAgVG9vbFVJUGFydCxcbiAgVUlNZXNzYWdlLFxuICBVSVRvb2xzLFxufSBmcm9tICcuL3VpLW1lc3NhZ2VzJztcblxuLyoqXG5Db252ZXJ0cyBhbiBhcnJheSBvZiBtZXNzYWdlcyBmcm9tIHVzZUNoYXQgaW50byBhbiBhcnJheSBvZiBDb3JlTWVzc2FnZXMgdGhhdCBjYW4gYmUgdXNlZFxud2l0aCB0aGUgQUkgY29yZSBmdW5jdGlvbnMgKGUuZy4gYHN0cmVhbVRleHRgKS5cblxuQHBhcmFtIG1lc3NhZ2VzIC0gVGhlIG1lc3NhZ2VzIHRvIGNvbnZlcnQuXG5AcGFyYW0gb3B0aW9ucy50b29scyAtIFRoZSB0b29scyB0byB1c2UuXG5AcGFyYW0gb3B0aW9ucy5pZ25vcmVJbmNvbXBsZXRlVG9vbENhbGxzIC0gV2hldGhlciB0byBpZ25vcmUgaW5jb21wbGV0ZSB0b29sIGNhbGxzLiBEZWZhdWx0IGlzIGBmYWxzZWAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VG9Nb2RlbE1lc3NhZ2VzKFxuICBtZXNzYWdlczogQXJyYXk8T21pdDxVSU1lc3NhZ2UsICdpZCc+PixcbiAgb3B0aW9ucz86IHtcbiAgICB0b29scz86IFRvb2xTZXQ7XG4gICAgaWdub3JlSW5jb21wbGV0ZVRvb2xDYWxscz86IGJvb2xlYW47XG4gIH0sXG4pOiBNb2RlbE1lc3NhZ2VbXSB7XG4gIGNvbnN0IG1vZGVsTWVzc2FnZXM6IE1vZGVsTWVzc2FnZVtdID0gW107XG5cbiAgaWYgKG9wdGlvbnM/Lmlnbm9yZUluY29tcGxldGVUb29sQ2FsbHMpIHtcbiAgICBtZXNzYWdlcyA9IG1lc3NhZ2VzLm1hcChtZXNzYWdlID0+ICh7XG4gICAgICAuLi5tZXNzYWdlLFxuICAgICAgcGFydHM6IG1lc3NhZ2UucGFydHMuZmlsdGVyKFxuICAgICAgICBwYXJ0ID0+XG4gICAgICAgICAgIWlzVG9vbE9yRHluYW1pY1Rvb2xVSVBhcnQocGFydCkgfHxcbiAgICAgICAgICAocGFydC5zdGF0ZSAhPT0gJ2lucHV0LXN0cmVhbWluZycgJiZcbiAgICAgICAgICAgIHBhcnQuc3RhdGUgIT09ICdpbnB1dC1hdmFpbGFibGUnKSxcbiAgICAgICksXG4gICAgfSkpO1xuICB9XG5cbiAgZm9yIChjb25zdCBtZXNzYWdlIG9mIG1lc3NhZ2VzKSB7XG4gICAgc3dpdGNoIChtZXNzYWdlLnJvbGUpIHtcbiAgICAgIGNhc2UgJ3N5c3RlbSc6IHtcbiAgICAgICAgY29uc3QgdGV4dFBhcnRzID0gbWVzc2FnZS5wYXJ0cy5maWx0ZXIocGFydCA9PiBwYXJ0LnR5cGUgPT09ICd0ZXh0Jyk7XG5cbiAgICAgICAgY29uc3QgcHJvdmlkZXJNZXRhZGF0YSA9IHRleHRQYXJ0cy5yZWR1Y2UoKGFjYywgcGFydCkgPT4ge1xuICAgICAgICAgIGlmIChwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uYWNjLCAuLi5wYXJ0LnByb3ZpZGVyTWV0YWRhdGEgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuXG4gICAgICAgIG1vZGVsTWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgcm9sZTogJ3N5c3RlbScsXG4gICAgICAgICAgY29udGVudDogdGV4dFBhcnRzLm1hcChwYXJ0ID0+IHBhcnQudGV4dCkuam9pbignJyksXG4gICAgICAgICAgLi4uKE9iamVjdC5rZXlzKHByb3ZpZGVyTWV0YWRhdGEpLmxlbmd0aCA+IDBcbiAgICAgICAgICAgID8geyBwcm92aWRlck9wdGlvbnM6IHByb3ZpZGVyTWV0YWRhdGEgfVxuICAgICAgICAgICAgOiB7fSksXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAndXNlcic6IHtcbiAgICAgICAgbW9kZWxNZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgY29udGVudDogbWVzc2FnZS5wYXJ0c1xuICAgICAgICAgICAgLmZpbHRlcihcbiAgICAgICAgICAgICAgKHBhcnQpOiBwYXJ0IGlzIFRleHRVSVBhcnQgfCBGaWxlVUlQYXJ0ID0+XG4gICAgICAgICAgICAgICAgcGFydC50eXBlID09PSAndGV4dCcgfHwgcGFydC50eXBlID09PSAnZmlsZScsXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAubWFwKHBhcnQgPT4ge1xuICAgICAgICAgICAgICBzd2l0Y2ggKHBhcnQudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBwYXJ0LnRleHQsXG4gICAgICAgICAgICAgICAgICAgIC4uLihwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlck9wdGlvbnM6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZpbGUnOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpbGUnIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgICAgICBtZWRpYVR5cGU6IHBhcnQubWVkaWFUeXBlLFxuICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTogcGFydC5maWxlbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogcGFydC51cmwsXG4gICAgICAgICAgICAgICAgICAgIC4uLihwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlck9wdGlvbnM6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcGFydDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdhc3Npc3RhbnQnOiB7XG4gICAgICAgIGlmIChtZXNzYWdlLnBhcnRzICE9IG51bGwpIHtcbiAgICAgICAgICBsZXQgYmxvY2s6IEFycmF5PFxuICAgICAgICAgICAgfCBUZXh0VUlQYXJ0XG4gICAgICAgICAgICB8IFRvb2xVSVBhcnQ8VUlUb29scz5cbiAgICAgICAgICAgIHwgUmVhc29uaW5nVUlQYXJ0XG4gICAgICAgICAgICB8IEZpbGVVSVBhcnRcbiAgICAgICAgICAgIHwgRHluYW1pY1Rvb2xVSVBhcnRcbiAgICAgICAgICA+ID0gW107XG5cbiAgICAgICAgICBmdW5jdGlvbiBwcm9jZXNzQmxvY2soKSB7XG4gICAgICAgICAgICBpZiAoYmxvY2subGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY29udGVudDogQXNzaXN0YW50Q29udGVudCA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgYmxvY2spIHtcbiAgICAgICAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgY29udGVudC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICAgIHRleHQ6IHBhcnQudGV4dCxcbiAgICAgICAgICAgICAgICAgIC4uLihwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgfVxuICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJ0LnR5cGUgPT09ICdmaWxlJykge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQucHVzaCh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAnZmlsZScgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgICBtZWRpYVR5cGU6IHBhcnQubWVkaWFUeXBlLFxuICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IHBhcnQuZmlsZW5hbWUsXG4gICAgICAgICAgICAgICAgICBkYXRhOiBwYXJ0LnVybCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJ0LnR5cGUgPT09ICdyZWFzb25pbmcnKSB7XG4gICAgICAgICAgICAgICAgY29udGVudC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZWFzb25pbmcnIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgICAgdGV4dDogcGFydC50ZXh0LFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFydC50eXBlID09PSAnZHluYW1pYy10b29sJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xOYW1lID0gcGFydC50b29sTmFtZTtcblxuICAgICAgICAgICAgICAgIGlmIChwYXJ0LnN0YXRlICE9PSAnaW5wdXQtc3RyZWFtaW5nJykge1xuICAgICAgICAgICAgICAgICAgY29udGVudC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtY2FsbCcgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgICAgdG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiBwYXJ0LmlucHV0LFxuICAgICAgICAgICAgICAgICAgICAuLi4ocGFydC5jYWxsUHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyT3B0aW9uczogcGFydC5jYWxsUHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNUb29sVUlQYXJ0KHBhcnQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vbE5hbWUgPSBnZXRUb29sTmFtZShwYXJ0KTtcblxuICAgICAgICAgICAgICAgIGlmIChwYXJ0LnN0YXRlICE9PSAnaW5wdXQtc3RyZWFtaW5nJykge1xuICAgICAgICAgICAgICAgICAgY29udGVudC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtY2FsbCcgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgICAgdG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGlucHV0OlxuICAgICAgICAgICAgICAgICAgICAgIHBhcnQuc3RhdGUgPT09ICdvdXRwdXQtZXJyb3InXG4gICAgICAgICAgICAgICAgICAgICAgICA/IChwYXJ0LmlucHV0ID8/IHBhcnQucmF3SW5wdXQpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHBhcnQuaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IHBhcnQucHJvdmlkZXJFeGVjdXRlZCxcbiAgICAgICAgICAgICAgICAgICAgLi4uKHBhcnQuY2FsbFByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlck9wdGlvbnM6IHBhcnQuY2FsbFByb3ZpZGVyTWV0YWRhdGEgfVxuICAgICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgcGFydC5wcm92aWRlckV4ZWN1dGVkID09PSB0cnVlICYmXG4gICAgICAgICAgICAgICAgICAgIChwYXJ0LnN0YXRlID09PSAnb3V0cHV0LWF2YWlsYWJsZScgfHxcbiAgICAgICAgICAgICAgICAgICAgICBwYXJ0LnN0YXRlID09PSAnb3V0cHV0LWVycm9yJylcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0b29sLXJlc3VsdCcsXG4gICAgICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgICAgIHRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogY3JlYXRlVG9vbE1vZGVsT3V0cHV0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydC5zdGF0ZSA9PT0gJ291dHB1dC1lcnJvcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnQuZXJyb3JUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBwYXJ0Lm91dHB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2w6IG9wdGlvbnM/LnRvb2xzPy5bdG9vbE5hbWVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JNb2RlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0LnN0YXRlID09PSAnb3V0cHV0LWVycm9yJyA/ICdqc29uJyA6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2s6IG5ldmVyID0gcGFydDtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHBhcnQ6ICR7X2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtb2RlbE1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBjaGVjayBpZiB0aGVyZSBhcmUgdG9vbCBpbnZvY2F0aW9ucyB3aXRoIHJlc3VsdHMgaW4gdGhlIGJsb2NrXG4gICAgICAgICAgICBjb25zdCB0b29sUGFydHMgPSBibG9jay5maWx0ZXIoXG4gICAgICAgICAgICAgIHBhcnQgPT5cbiAgICAgICAgICAgICAgICAoaXNUb29sVUlQYXJ0KHBhcnQpICYmIHBhcnQucHJvdmlkZXJFeGVjdXRlZCAhPT0gdHJ1ZSkgfHxcbiAgICAgICAgICAgICAgICBwYXJ0LnR5cGUgPT09ICdkeW5hbWljLXRvb2wnLFxuICAgICAgICAgICAgKSBhcyAoVG9vbFVJUGFydDxVSVRvb2xzPiB8IER5bmFtaWNUb29sVUlQYXJ0KVtdO1xuXG4gICAgICAgICAgICAvLyB0b29sIG1lc3NhZ2Ugd2l0aCB0b29sIHJlc3VsdHNcbiAgICAgICAgICAgIGlmICh0b29sUGFydHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBtb2RlbE1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgIHJvbGU6ICd0b29sJyxcbiAgICAgICAgICAgICAgICBjb250ZW50OiB0b29sUGFydHNcbiAgICAgICAgICAgICAgICAgIC5tYXAoKHRvb2xQYXJ0KTogVG9vbFJlc3VsdFBhcnQgfCBudWxsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0b29sUGFydC5zdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ291dHB1dC1lcnJvcic6XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSAnb3V0cHV0LWF2YWlsYWJsZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xOYW1lID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbFBhcnQudHlwZSA9PT0gJ2R5bmFtaWMtdG9vbCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRvb2xQYXJ0LnRvb2xOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBnZXRUb29sTmFtZSh0b29sUGFydCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0b29sLXJlc3VsdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHRvb2xQYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IGNyZWF0ZVRvb2xNb2RlbE91dHB1dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbFBhcnQuc3RhdGUgPT09ICdvdXRwdXQtZXJyb3InXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdG9vbFBhcnQuZXJyb3JUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdG9vbFBhcnQub3V0cHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2w6IG9wdGlvbnM/LnRvb2xzPy5bdG9vbE5hbWVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTW9kZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xQYXJ0LnN0YXRlID09PSAnb3V0cHV0LWVycm9yJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICd0ZXh0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAob3V0cHV0KTogb3V0cHV0IGlzIE5vbk51bGxhYmxlPHR5cGVvZiBvdXRwdXQ+ID0+XG4gICAgICAgICAgICAgICAgICAgICAgb3V0cHV0ICE9IG51bGwsXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdXBkYXRlcyBmb3IgbmV4dCBibG9ja1xuICAgICAgICAgICAgYmxvY2sgPSBbXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgbWVzc2FnZS5wYXJ0cykge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBwYXJ0LnR5cGUgPT09ICd0ZXh0JyB8fFxuICAgICAgICAgICAgICBwYXJ0LnR5cGUgPT09ICdyZWFzb25pbmcnIHx8XG4gICAgICAgICAgICAgIHBhcnQudHlwZSA9PT0gJ2ZpbGUnIHx8XG4gICAgICAgICAgICAgIHBhcnQudHlwZSA9PT0gJ2R5bmFtaWMtdG9vbCcgfHxcbiAgICAgICAgICAgICAgaXNUb29sVUlQYXJ0KHBhcnQpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgYmxvY2sucHVzaChwYXJ0KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFydC50eXBlID09PSAnc3RlcC1zdGFydCcpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0Jsb2NrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcHJvY2Vzc0Jsb2NrKCk7XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2s6IG5ldmVyID0gbWVzc2FnZS5yb2xlO1xuICAgICAgICB0aHJvdyBuZXcgTWVzc2FnZUNvbnZlcnNpb25FcnJvcih7XG4gICAgICAgICAgb3JpZ2luYWxNZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgIG1lc3NhZ2U6IGBVbnN1cHBvcnRlZCByb2xlOiAke19leGhhdXN0aXZlQ2hlY2t9YCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1vZGVsTWVzc2FnZXM7XG59XG5cbi8qKlxuQGRlcHJlY2F0ZWQgVXNlIGBjb252ZXJ0VG9Nb2RlbE1lc3NhZ2VzYCBpbnN0ZWFkLlxuICovXG4vLyBUT0RPIHJlbW92ZSBpbiBBSSBTREsgNlxuZXhwb3J0IGNvbnN0IGNvbnZlcnRUb0NvcmVNZXNzYWdlcyA9IGNvbnZlcnRUb01vZGVsTWVzc2FnZXM7XG4iLCAiaW1wb3J0IHsgSWRHZW5lcmF0b3IsIFByb3ZpZGVyT3B0aW9ucyB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHtcbiAgZ2VuZXJhdGVUZXh0LFxuICBHZW5lcmF0ZVRleHRPblN0ZXBGaW5pc2hDYWxsYmFjayxcbn0gZnJvbSAnLi4vZ2VuZXJhdGUtdGV4dC9nZW5lcmF0ZS10ZXh0JztcbmltcG9ydCB7IEdlbmVyYXRlVGV4dFJlc3VsdCB9IGZyb20gJy4uL2dlbmVyYXRlLXRleHQvZ2VuZXJhdGUtdGV4dC1yZXN1bHQnO1xuaW1wb3J0IHsgT3V0cHV0IH0gZnJvbSAnLi4vZ2VuZXJhdGUtdGV4dC9vdXRwdXQnO1xuaW1wb3J0IHsgUHJlcGFyZVN0ZXBGdW5jdGlvbiB9IGZyb20gJy4uL2dlbmVyYXRlLXRleHQvcHJlcGFyZS1zdGVwJztcbmltcG9ydCB7IFN0b3BDb25kaXRpb24gfSBmcm9tICcuLi9nZW5lcmF0ZS10ZXh0L3N0b3AtY29uZGl0aW9uJztcbmltcG9ydCB7IHN0cmVhbVRleHQgfSBmcm9tICcuLi9nZW5lcmF0ZS10ZXh0L3N0cmVhbS10ZXh0JztcbmltcG9ydCB7IFN0cmVhbVRleHRSZXN1bHQgfSBmcm9tICcuLi9nZW5lcmF0ZS10ZXh0L3N0cmVhbS10ZXh0LXJlc3VsdCc7XG5pbXBvcnQgeyBUb29sQ2FsbFJlcGFpckZ1bmN0aW9uIH0gZnJvbSAnLi4vZ2VuZXJhdGUtdGV4dC90b29sLWNhbGwtcmVwYWlyLWZ1bmN0aW9uJztcbmltcG9ydCB7IFRvb2xTZXQgfSBmcm9tICcuLi9nZW5lcmF0ZS10ZXh0L3Rvb2wtc2V0JztcbmltcG9ydCB7IENhbGxTZXR0aW5ncyB9IGZyb20gJy4uL3Byb21wdC9jYWxsLXNldHRpbmdzJztcbmltcG9ydCB7IFByb21wdCB9IGZyb20gJy4uL3Byb21wdC9wcm9tcHQnO1xuaW1wb3J0IHsgVGVsZW1ldHJ5U2V0dGluZ3MgfSBmcm9tICcuLi90ZWxlbWV0cnkvdGVsZW1ldHJ5LXNldHRpbmdzJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWwsIFRvb2xDaG9pY2UgfSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbCc7XG5pbXBvcnQgeyBQcm92aWRlck1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvcHJvdmlkZXItbWV0YWRhdGEnO1xuaW1wb3J0IHsgY29udmVydFRvTW9kZWxNZXNzYWdlcyB9IGZyb20gJy4uL3VpL2NvbnZlcnQtdG8tbW9kZWwtbWVzc2FnZXMnO1xuaW1wb3J0IHsgSW5mZXJVSVRvb2xzLCBVSU1lc3NhZ2UgfSBmcm9tICcuLi91aS91aS1tZXNzYWdlcyc7XG5cbmV4cG9ydCB0eXBlIEFnZW50U2V0dGluZ3M8XG4gIFRPT0xTIGV4dGVuZHMgVG9vbFNldCxcbiAgT1VUUFVUID0gbmV2ZXIsXG4gIE9VVFBVVF9QQVJUSUFMID0gbmV2ZXIsXG4+ID0gQ2FsbFNldHRpbmdzICYge1xuICAvKipcbiAgICogVGhlIHN5c3RlbSBwcm9tcHQgdG8gdXNlLlxuICAgKi9cbiAgc3lzdGVtPzogc3RyaW5nO1xuXG4gIC8qKlxuVGhlIGxhbmd1YWdlIG1vZGVsIHRvIHVzZS5cbiAgICovXG4gIG1vZGVsOiBMYW5ndWFnZU1vZGVsO1xuXG4gIC8qKlxuVGhlIHRvb2xzIHRoYXQgdGhlIG1vZGVsIGNhbiBjYWxsLiBUaGUgbW9kZWwgbmVlZHMgdG8gc3VwcG9ydCBjYWxsaW5nIHRvb2xzLlxuKi9cbiAgdG9vbHM/OiBUT09MUztcblxuICAvKipcblRoZSB0b29sIGNob2ljZSBzdHJhdGVneS4gRGVmYXVsdDogJ2F1dG8nLlxuICAgKi9cbiAgdG9vbENob2ljZT86IFRvb2xDaG9pY2U8Tm9JbmZlcjxUT09MUz4+O1xuXG4gIC8qKlxuQ29uZGl0aW9uIGZvciBzdG9wcGluZyB0aGUgZ2VuZXJhdGlvbiB3aGVuIHRoZXJlIGFyZSB0b29sIHJlc3VsdHMgaW4gdGhlIGxhc3Qgc3RlcC5cbldoZW4gdGhlIGNvbmRpdGlvbiBpcyBhbiBhcnJheSwgYW55IG9mIHRoZSBjb25kaXRpb25zIGNhbiBiZSBtZXQgdG8gc3RvcCB0aGUgZ2VuZXJhdGlvbi5cblxuQGRlZmF1bHQgc3RlcENvdW50SXMoMSlcbiAgICovXG4gIHN0b3BXaGVuPzpcbiAgICB8IFN0b3BDb25kaXRpb248Tm9JbmZlcjxUT09MUz4+XG4gICAgfCBBcnJheTxTdG9wQ29uZGl0aW9uPE5vSW5mZXI8VE9PTFM+Pj47XG5cbiAgLyoqXG5PcHRpb25hbCB0ZWxlbWV0cnkgY29uZmlndXJhdGlvbiAoZXhwZXJpbWVudGFsKS5cbiAgICovXG4gIGV4cGVyaW1lbnRhbF90ZWxlbWV0cnk/OiBUZWxlbWV0cnlTZXR0aW5ncztcblxuICAvKipcbkxpbWl0cyB0aGUgdG9vbHMgdGhhdCBhcmUgYXZhaWxhYmxlIGZvciB0aGUgbW9kZWwgdG8gY2FsbCB3aXRob3V0XG5jaGFuZ2luZyB0aGUgdG9vbCBjYWxsIGFuZCByZXN1bHQgdHlwZXMgaW4gdGhlIHJlc3VsdC5cbiAgICovXG4gIGFjdGl2ZVRvb2xzPzogQXJyYXk8a2V5b2YgTm9JbmZlcjxUT09MUz4+O1xuXG4gIC8qKlxuT3B0aW9uYWwgc3BlY2lmaWNhdGlvbiBmb3IgcGFyc2luZyBzdHJ1Y3R1cmVkIG91dHB1dHMgZnJvbSB0aGUgTExNIHJlc3BvbnNlLlxuICAgKi9cbiAgZXhwZXJpbWVudGFsX291dHB1dD86IE91dHB1dDxPVVRQVVQsIE9VVFBVVF9QQVJUSUFMPjtcblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBwcmVwYXJlU3RlcGAgaW5zdGVhZC5cbiAgICovXG4gIGV4cGVyaW1lbnRhbF9wcmVwYXJlU3RlcD86IFByZXBhcmVTdGVwRnVuY3Rpb248Tm9JbmZlcjxUT09MUz4+O1xuXG4gIC8qKlxuT3B0aW9uYWwgZnVuY3Rpb24gdGhhdCB5b3UgY2FuIHVzZSB0byBwcm92aWRlIGRpZmZlcmVudCBzZXR0aW5ncyBmb3IgYSBzdGVwLlxuICAqL1xuICBwcmVwYXJlU3RlcD86IFByZXBhcmVTdGVwRnVuY3Rpb248Tm9JbmZlcjxUT09MUz4+O1xuXG4gIC8qKlxuQSBmdW5jdGlvbiB0aGF0IGF0dGVtcHRzIHRvIHJlcGFpciBhIHRvb2wgY2FsbCB0aGF0IGZhaWxlZCB0byBwYXJzZS5cbiAgICovXG4gIGV4cGVyaW1lbnRhbF9yZXBhaXJUb29sQ2FsbD86IFRvb2xDYWxsUmVwYWlyRnVuY3Rpb248Tm9JbmZlcjxUT09MUz4+O1xuXG4gIC8qKlxuICBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIGVhY2ggc3RlcCAoTExNIGNhbGwpIGlzIGZpbmlzaGVkLCBpbmNsdWRpbmcgaW50ZXJtZWRpYXRlIHN0ZXBzLlxuICAqL1xuICBvblN0ZXBGaW5pc2g/OiBHZW5lcmF0ZVRleHRPblN0ZXBGaW5pc2hDYWxsYmFjazxOb0luZmVyPFRPT0xTPj47XG5cbiAgLyoqXG4gICAqIENvbnRleHQgdGhhdCBpcyBwYXNzZWQgaW50byB0b29sIGNhbGxzLlxuICAgKlxuICAgKiBFeHBlcmltZW50YWwgKGNhbiBicmVhayBpbiBwYXRjaCByZWxlYXNlcykuXG4gICAqXG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKi9cbiAgZXhwZXJpbWVudGFsX2NvbnRleHQ/OiB1bmtub3duO1xuXG4gIC8qKlxuICAgKiBJbnRlcm5hbC4gRm9yIHRlc3QgdXNlIG9ubHkuIE1heSBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gICAqL1xuICBfaW50ZXJuYWw/OiB7XG4gICAgZ2VuZXJhdGVJZD86IElkR2VuZXJhdG9yO1xuICAgIGN1cnJlbnREYXRlPzogKCkgPT4gRGF0ZTtcbiAgfTtcbn07XG5cbmV4cG9ydCBjbGFzcyBBZ2VudDxcbiAgVE9PTFMgZXh0ZW5kcyBUb29sU2V0LFxuICBPVVRQVVQgPSBuZXZlcixcbiAgT1VUUFVUX1BBUlRJQUwgPSBuZXZlcixcbj4ge1xuICBwcml2YXRlIHJlYWRvbmx5IHNldHRpbmdzOiBBZ2VudFNldHRpbmdzPFRPT0xTLCBPVVRQVVQsIE9VVFBVVF9QQVJUSUFMPjtcblxuICBjb25zdHJ1Y3RvcihzZXR0aW5nczogQWdlbnRTZXR0aW5nczxUT09MUywgT1VUUFVULCBPVVRQVVRfUEFSVElBTD4pIHtcbiAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gIH1cblxuICBnZXQgdG9vbHMoKTogVE9PTFMge1xuICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnRvb2xzIGFzIFRPT0xTO1xuICB9XG5cbiAgYXN5bmMgZ2VuZXJhdGUoXG4gICAgb3B0aW9uczogUHJvbXB0ICYge1xuICAgICAgLyoqXG5BZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG1ldGFkYXRhLiBUaGV5IGFyZSBwYXNzZWQgdGhyb3VnaFxuZnJvbSB0aGUgcHJvdmlkZXIgdG8gdGhlIEFJIFNESyBhbmQgZW5hYmxlIHByb3ZpZGVyLXNwZWNpZmljXG5yZXN1bHRzIHRoYXQgY2FuIGJlIGZ1bGx5IGVuY2Fwc3VsYXRlZCBpbiB0aGUgcHJvdmlkZXIuXG4gICAqL1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICAvKipcbkFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgbWV0YWRhdGEuIFRoZXkgYXJlIHBhc3NlZCB0aHJvdWdoXG50byB0aGUgcHJvdmlkZXIgZnJvbSB0aGUgQUkgU0RLIGFuZCBlbmFibGUgcHJvdmlkZXItc3BlY2lmaWNcbmZ1bmN0aW9uYWxpdHkgdGhhdCBjYW4gYmUgZnVsbHkgZW5jYXBzdWxhdGVkIGluIHRoZSBwcm92aWRlci5cbiAgICAgICAgICovXG4gICAgICBwcm92aWRlck9wdGlvbnM/OiBQcm92aWRlck9wdGlvbnM7XG4gICAgfSxcbiAgKTogUHJvbWlzZTxHZW5lcmF0ZVRleHRSZXN1bHQ8VE9PTFMsIE9VVFBVVD4+IHtcbiAgICByZXR1cm4gZ2VuZXJhdGVUZXh0KHsgLi4udGhpcy5zZXR0aW5ncywgLi4ub3B0aW9ucyB9KTtcbiAgfVxuXG4gIHN0cmVhbShcbiAgICBvcHRpb25zOiBQcm9tcHQgJiB7XG4gICAgICAvKipcbkFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgbWV0YWRhdGEuIFRoZXkgYXJlIHBhc3NlZCB0aHJvdWdoXG5mcm9tIHRoZSBwcm92aWRlciB0byB0aGUgQUkgU0RLIGFuZCBlbmFibGUgcHJvdmlkZXItc3BlY2lmaWNcbnJlc3VsdHMgdGhhdCBjYW4gYmUgZnVsbHkgZW5jYXBzdWxhdGVkIGluIHRoZSBwcm92aWRlci5cbiAgICovXG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgIC8qKlxuQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBtZXRhZGF0YS4gVGhleSBhcmUgcGFzc2VkIHRocm91Z2hcbnRvIHRoZSBwcm92aWRlciBmcm9tIHRoZSBBSSBTREsgYW5kIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpY1xuZnVuY3Rpb25hbGl0eSB0aGF0IGNhbiBiZSBmdWxseSBlbmNhcHN1bGF0ZWQgaW4gdGhlIHByb3ZpZGVyLlxuICAgICAgICAgKi9cbiAgICAgIHByb3ZpZGVyT3B0aW9ucz86IFByb3ZpZGVyT3B0aW9ucztcbiAgICB9LFxuICApOiBTdHJlYW1UZXh0UmVzdWx0PFRPT0xTLCBPVVRQVVRfUEFSVElBTD4ge1xuICAgIHJldHVybiBzdHJlYW1UZXh0KHsgLi4udGhpcy5zZXR0aW5ncywgLi4ub3B0aW9ucyB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgcmVzcG9uc2Ugb2JqZWN0IHRoYXQgc3RyZWFtcyBVSSBtZXNzYWdlcyB0byB0aGUgY2xpZW50LlxuICAgKi9cbiAgcmVzcG9uZChvcHRpb25zOiB7XG4gICAgbWVzc2FnZXM6IFVJTWVzc2FnZTxuZXZlciwgbmV2ZXIsIEluZmVyVUlUb29sczxUT09MUz4+W107XG4gIH0pOiBSZXNwb25zZSB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtKHtcbiAgICAgIHByb21wdDogY29udmVydFRvTW9kZWxNZXNzYWdlcyhvcHRpb25zLm1lc3NhZ2VzKSxcbiAgICB9KS50b1VJTWVzc2FnZVN0cmVhbVJlc3BvbnNlPFxuICAgICAgVUlNZXNzYWdlPG5ldmVyLCBuZXZlciwgSW5mZXJVSVRvb2xzPFRPT0xTPj5cbiAgICA+KCk7XG4gIH1cbn1cblxudHlwZSBJbmZlckFnZW50VG9vbHM8QUdFTlQ+ID1cbiAgQUdFTlQgZXh0ZW5kcyBBZ2VudDxpbmZlciBUT09MUywgYW55LCBhbnk+ID8gVE9PTFMgOiBuZXZlcjtcblxuLyoqXG4gKiBJbmZlciB0aGUgVUkgbWVzc2FnZSB0eXBlIG9mIGFuIGFnZW50LlxuICovXG5leHBvcnQgdHlwZSBJbmZlckFnZW50VUlNZXNzYWdlPEFHRU5UPiA9IFVJTWVzc2FnZTxcbiAgbmV2ZXIsXG4gIG5ldmVyLFxuICBJbmZlclVJVG9vbHM8SW5mZXJBZ2VudFRvb2xzPEFHRU5UPj5cbj47XG4iLCAiaW1wb3J0IHsgUHJvdmlkZXJPcHRpb25zLCB3aXRoVXNlckFnZW50U3VmZml4IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyByZXNvbHZlRW1iZWRkaW5nTW9kZWwgfSBmcm9tICcuLi9tb2RlbC9yZXNvbHZlLW1vZGVsJztcbmltcG9ydCB7IGFzc2VtYmxlT3BlcmF0aW9uTmFtZSB9IGZyb20gJy4uL3RlbGVtZXRyeS9hc3NlbWJsZS1vcGVyYXRpb24tbmFtZSc7XG5pbXBvcnQgeyBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyB9IGZyb20gJy4uL3RlbGVtZXRyeS9nZXQtYmFzZS10ZWxlbWV0cnktYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBnZXRUcmFjZXIgfSBmcm9tICcuLi90ZWxlbWV0cnkvZ2V0LXRyYWNlcic7XG5pbXBvcnQgeyByZWNvcmRTcGFuIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3JlY29yZC1zcGFuJztcbmltcG9ydCB7IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMgfSBmcm9tICcuLi90ZWxlbWV0cnkvc2VsZWN0LXRlbGVtZXRyeS1hdHRyaWJ1dGVzJztcbmltcG9ydCB7IFRlbGVtZXRyeVNldHRpbmdzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3RlbGVtZXRyeS1zZXR0aW5ncyc7XG5pbXBvcnQgeyBFbWJlZGRpbmdNb2RlbCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IHByZXBhcmVSZXRyaWVzIH0gZnJvbSAnLi4vdXRpbC9wcmVwYXJlLXJldHJpZXMnO1xuaW1wb3J0IHsgRW1iZWRSZXN1bHQgfSBmcm9tICcuL2VtYmVkLXJlc3VsdCc7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi4vdmVyc2lvbic7XG5cbi8qKlxuRW1iZWQgYSB2YWx1ZSB1c2luZyBhbiBlbWJlZGRpbmcgbW9kZWwuIFRoZSB0eXBlIG9mIHRoZSB2YWx1ZSBpcyBkZWZpbmVkIGJ5IHRoZSBlbWJlZGRpbmcgbW9kZWwuXG5cbkBwYXJhbSBtb2RlbCAtIFRoZSBlbWJlZGRpbmcgbW9kZWwgdG8gdXNlLlxuQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRoYXQgc2hvdWxkIGJlIGVtYmVkZGVkLlxuXG5AcGFyYW0gbWF4UmV0cmllcyAtIE1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMuIFNldCB0byAwIHRvIGRpc2FibGUgcmV0cmllcy4gRGVmYXVsdDogMi5cbkBwYXJhbSBhYm9ydFNpZ25hbCAtIEFuIG9wdGlvbmFsIGFib3J0IHNpZ25hbCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgY2FsbC5cbkBwYXJhbSBoZWFkZXJzIC0gQWRkaXRpb25hbCBIVFRQIGhlYWRlcnMgdG8gYmUgc2VudCB3aXRoIHRoZSByZXF1ZXN0LiBPbmx5IGFwcGxpY2FibGUgZm9yIEhUVFAtYmFzZWQgcHJvdmlkZXJzLlxuXG5AcmV0dXJucyBBIHJlc3VsdCBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgZW1iZWRkaW5nLCB0aGUgdmFsdWUsIGFuZCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW1iZWQ8VkFMVUUgPSBzdHJpbmc+KHtcbiAgbW9kZWw6IG1vZGVsQXJnLFxuICB2YWx1ZSxcbiAgcHJvdmlkZXJPcHRpb25zLFxuICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICBhYm9ydFNpZ25hbCxcbiAgaGVhZGVycyxcbiAgZXhwZXJpbWVudGFsX3RlbGVtZXRyeTogdGVsZW1ldHJ5LFxufToge1xuICAvKipcblRoZSBlbWJlZGRpbmcgbW9kZWwgdG8gdXNlLlxuICAgICAqL1xuICBtb2RlbDogRW1iZWRkaW5nTW9kZWw8VkFMVUU+O1xuXG4gIC8qKlxuVGhlIHZhbHVlIHRoYXQgc2hvdWxkIGJlIGVtYmVkZGVkLlxuICAgKi9cbiAgdmFsdWU6IFZBTFVFO1xuXG4gIC8qKlxuTWF4aW11bSBudW1iZXIgb2YgcmV0cmllcyBwZXIgZW1iZWRkaW5nIG1vZGVsIGNhbGwuIFNldCB0byAwIHRvIGRpc2FibGUgcmV0cmllcy5cblxuQGRlZmF1bHQgMlxuICAgKi9cbiAgbWF4UmV0cmllcz86IG51bWJlcjtcblxuICAvKipcbkFib3J0IHNpZ25hbC5cbiAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuXG4gIC8qKlxuQWRkaXRpb25hbCBoZWFkZXJzIHRvIGluY2x1ZGUgaW4gdGhlIHJlcXVlc3QuXG5Pbmx5IGFwcGxpY2FibGUgZm9yIEhUVFAtYmFzZWQgcHJvdmlkZXJzLlxuICovXG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuXG4gIC8qKlxuICBBZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG9wdGlvbnMuIFRoZXkgYXJlIHBhc3NlZCB0aHJvdWdoXG4gIHRvIHRoZSBwcm92aWRlciBmcm9tIHRoZSBBSSBTREsgYW5kIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpY1xuICBmdW5jdGlvbmFsaXR5IHRoYXQgY2FuIGJlIGZ1bGx5IGVuY2Fwc3VsYXRlZCBpbiB0aGUgcHJvdmlkZXIuXG4gICovXG4gIHByb3ZpZGVyT3B0aW9ucz86IFByb3ZpZGVyT3B0aW9ucztcblxuICAvKipcbiAgICogT3B0aW9uYWwgdGVsZW1ldHJ5IGNvbmZpZ3VyYXRpb24gKGV4cGVyaW1lbnRhbCkuXG4gICAqL1xuICBleHBlcmltZW50YWxfdGVsZW1ldHJ5PzogVGVsZW1ldHJ5U2V0dGluZ3M7XG59KTogUHJvbWlzZTxFbWJlZFJlc3VsdDxWQUxVRT4+IHtcbiAgY29uc3QgbW9kZWwgPSByZXNvbHZlRW1iZWRkaW5nTW9kZWw8VkFMVUU+KG1vZGVsQXJnKTtcblxuICBjb25zdCB7IG1heFJldHJpZXMsIHJldHJ5IH0gPSBwcmVwYXJlUmV0cmllcyh7XG4gICAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgICBhYm9ydFNpZ25hbCxcbiAgfSk7XG5cbiAgY29uc3QgaGVhZGVyc1dpdGhVc2VyQWdlbnQgPSB3aXRoVXNlckFnZW50U3VmZml4KFxuICAgIGhlYWRlcnMgPz8ge30sXG4gICAgYGFpLyR7VkVSU0lPTn1gLFxuICApO1xuXG4gIGNvbnN0IGJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzID0gZ2V0QmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgIG1vZGVsOiBtb2RlbCxcbiAgICB0ZWxlbWV0cnksXG4gICAgaGVhZGVyczogaGVhZGVyc1dpdGhVc2VyQWdlbnQsXG4gICAgc2V0dGluZ3M6IHsgbWF4UmV0cmllcyB9LFxuICB9KTtcblxuICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIodGVsZW1ldHJ5KTtcblxuICByZXR1cm4gcmVjb3JkU3Bhbih7XG4gICAgbmFtZTogJ2FpLmVtYmVkJyxcbiAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgIHRlbGVtZXRyeSxcbiAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHsgb3BlcmF0aW9uSWQ6ICdhaS5lbWJlZCcsIHRlbGVtZXRyeSB9KSxcbiAgICAgICAgLi4uYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMsXG4gICAgICAgICdhaS52YWx1ZSc6IHsgaW5wdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KHZhbHVlKSB9LFxuICAgICAgfSxcbiAgICB9KSxcbiAgICB0cmFjZXIsXG4gICAgZm46IGFzeW5jIHNwYW4gPT4ge1xuICAgICAgY29uc3QgeyBlbWJlZGRpbmcsIHVzYWdlLCByZXNwb25zZSwgcHJvdmlkZXJNZXRhZGF0YSB9ID0gYXdhaXQgcmV0cnkoKCkgPT5cbiAgICAgICAgLy8gbmVzdGVkIHNwYW5zIHRvIGFsaWduIHdpdGggdGhlIGVtYmVkTWFueSB0ZWxlbWV0cnkgZGF0YTpcbiAgICAgICAgcmVjb3JkU3Bhbih7XG4gICAgICAgICAgbmFtZTogJ2FpLmVtYmVkLmRvRW1iZWQnLFxuICAgICAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgICAgIG9wZXJhdGlvbklkOiAnYWkuZW1iZWQuZG9FbWJlZCcsXG4gICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgLi4uYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgIC8vIHNwZWNpZmljIHNldHRpbmdzIHRoYXQgb25seSBtYWtlIHNlbnNlIG9uIHRoZSBvdXRlciBsZXZlbDpcbiAgICAgICAgICAgICAgJ2FpLnZhbHVlcyc6IHsgaW5wdXQ6ICgpID0+IFtKU09OLnN0cmluZ2lmeSh2YWx1ZSldIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHRyYWNlcixcbiAgICAgICAgICBmbjogYXN5bmMgZG9FbWJlZFNwYW4gPT4ge1xuICAgICAgICAgICAgY29uc3QgbW9kZWxSZXNwb25zZSA9IGF3YWl0IG1vZGVsLmRvRW1iZWQoe1xuICAgICAgICAgICAgICB2YWx1ZXM6IFt2YWx1ZV0sXG4gICAgICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzV2l0aFVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGVtYmVkZGluZyA9IG1vZGVsUmVzcG9uc2UuZW1iZWRkaW5nc1swXTtcbiAgICAgICAgICAgIGNvbnN0IHVzYWdlID0gbW9kZWxSZXNwb25zZS51c2FnZSA/PyB7IHRva2VuczogTmFOIH07XG5cbiAgICAgICAgICAgIGRvRW1iZWRTcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAnYWkuZW1iZWRkaW5ncyc6IHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgIG1vZGVsUmVzcG9uc2UuZW1iZWRkaW5ncy5tYXAoZW1iZWRkaW5nID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShlbWJlZGRpbmcpLFxuICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLnRva2Vucyc6IHVzYWdlLnRva2VucyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGVtYmVkZGluZyxcbiAgICAgICAgICAgICAgdXNhZ2UsXG4gICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IG1vZGVsUmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgcmVzcG9uc2U6IG1vZGVsUmVzcG9uc2UucmVzcG9uc2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgKTtcblxuICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgJ2FpLmVtYmVkZGluZyc6IHsgb3V0cHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeShlbWJlZGRpbmcpIH0sXG4gICAgICAgICAgICAnYWkudXNhZ2UudG9rZW5zJzogdXNhZ2UudG9rZW5zLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIG5ldyBEZWZhdWx0RW1iZWRSZXN1bHQoe1xuICAgICAgICB2YWx1ZSxcbiAgICAgICAgZW1iZWRkaW5nLFxuICAgICAgICB1c2FnZSxcbiAgICAgICAgcHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgcmVzcG9uc2UsXG4gICAgICB9KTtcbiAgICB9LFxuICB9KTtcbn1cblxuY2xhc3MgRGVmYXVsdEVtYmVkUmVzdWx0PFZBTFVFPiBpbXBsZW1lbnRzIEVtYmVkUmVzdWx0PFZBTFVFPiB7XG4gIHJlYWRvbmx5IHZhbHVlOiBFbWJlZFJlc3VsdDxWQUxVRT5bJ3ZhbHVlJ107XG4gIHJlYWRvbmx5IGVtYmVkZGluZzogRW1iZWRSZXN1bHQ8VkFMVUU+WydlbWJlZGRpbmcnXTtcbiAgcmVhZG9ubHkgdXNhZ2U6IEVtYmVkUmVzdWx0PFZBTFVFPlsndXNhZ2UnXTtcbiAgcmVhZG9ubHkgcHJvdmlkZXJNZXRhZGF0YTogRW1iZWRSZXN1bHQ8VkFMVUU+Wydwcm92aWRlck1ldGFkYXRhJ107XG4gIHJlYWRvbmx5IHJlc3BvbnNlOiBFbWJlZFJlc3VsdDxWQUxVRT5bJ3Jlc3BvbnNlJ107XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczoge1xuICAgIHZhbHVlOiBFbWJlZFJlc3VsdDxWQUxVRT5bJ3ZhbHVlJ107XG4gICAgZW1iZWRkaW5nOiBFbWJlZFJlc3VsdDxWQUxVRT5bJ2VtYmVkZGluZyddO1xuICAgIHVzYWdlOiBFbWJlZFJlc3VsdDxWQUxVRT5bJ3VzYWdlJ107XG4gICAgcHJvdmlkZXJNZXRhZGF0YT86IEVtYmVkUmVzdWx0PFZBTFVFPlsncHJvdmlkZXJNZXRhZGF0YSddO1xuICAgIHJlc3BvbnNlPzogRW1iZWRSZXN1bHQ8VkFMVUU+WydyZXNwb25zZSddO1xuICB9KSB7XG4gICAgdGhpcy52YWx1ZSA9IG9wdGlvbnMudmFsdWU7XG4gICAgdGhpcy5lbWJlZGRpbmcgPSBvcHRpb25zLmVtYmVkZGluZztcbiAgICB0aGlzLnVzYWdlID0gb3B0aW9ucy51c2FnZTtcbiAgICB0aGlzLnByb3ZpZGVyTWV0YWRhdGEgPSBvcHRpb25zLnByb3ZpZGVyTWV0YWRhdGE7XG4gICAgdGhpcy5yZXNwb25zZSA9IG9wdGlvbnMucmVzcG9uc2U7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBQcm92aWRlck9wdGlvbnMsIHdpdGhVc2VyQWdlbnRTdWZmaXggfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IHByZXBhcmVSZXRyaWVzIH0gZnJvbSAnLi4vdXRpbC9wcmVwYXJlLXJldHJpZXMnO1xuaW1wb3J0IHsgc3BsaXRBcnJheSB9IGZyb20gJy4uL3V0aWwvc3BsaXQtYXJyYXknO1xuaW1wb3J0IHsgVW5zdXBwb3J0ZWRNb2RlbFZlcnNpb25FcnJvciB9IGZyb20gJy4uL2Vycm9yL3Vuc3VwcG9ydGVkLW1vZGVsLXZlcnNpb24tZXJyb3InO1xuaW1wb3J0IHsgYXNzZW1ibGVPcGVyYXRpb25OYW1lIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2Fzc2VtYmxlLW9wZXJhdGlvbi1uYW1lJztcbmltcG9ydCB7IGdldEJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2dldC1iYXNlLXRlbGVtZXRyeS1hdHRyaWJ1dGVzJztcbmltcG9ydCB7IGdldFRyYWNlciB9IGZyb20gJy4uL3RlbGVtZXRyeS9nZXQtdHJhY2VyJztcbmltcG9ydCB7IHJlY29yZFNwYW4gfSBmcm9tICcuLi90ZWxlbWV0cnkvcmVjb3JkLXNwYW4nO1xuaW1wb3J0IHsgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyB9IGZyb20gJy4uL3RlbGVtZXRyeS9zZWxlY3QtdGVsZW1ldHJ5LWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgVGVsZW1ldHJ5U2V0dGluZ3MgfSBmcm9tICcuLi90ZWxlbWV0cnkvdGVsZW1ldHJ5LXNldHRpbmdzJztcbmltcG9ydCB7IEVtYmVkZGluZywgRW1iZWRkaW5nTW9kZWwsIFByb3ZpZGVyTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyByZXNvbHZlRW1iZWRkaW5nTW9kZWwgfSBmcm9tICcuLi9tb2RlbC9yZXNvbHZlLW1vZGVsJztcbmltcG9ydCB7IEVtYmVkTWFueVJlc3VsdCB9IGZyb20gJy4vZW1iZWQtbWFueS1yZXN1bHQnO1xuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gJy4uL3ZlcnNpb24nO1xuXG4vKipcbkVtYmVkIHNldmVyYWwgdmFsdWVzIHVzaW5nIGFuIGVtYmVkZGluZyBtb2RlbC4gVGhlIHR5cGUgb2YgdGhlIHZhbHVlIGlzIGRlZmluZWRcbmJ5IHRoZSBlbWJlZGRpbmcgbW9kZWwuXG5cbmBlbWJlZE1hbnlgIGF1dG9tYXRpY2FsbHkgc3BsaXRzIGxhcmdlIHJlcXVlc3RzIGludG8gc21hbGxlciBjaHVua3MgaWYgdGhlIG1vZGVsXG5oYXMgYSBsaW1pdCBvbiBob3cgbWFueSBlbWJlZGRpbmdzIGNhbiBiZSBnZW5lcmF0ZWQgaW4gYSBzaW5nbGUgY2FsbC5cblxuQHBhcmFtIG1vZGVsIC0gVGhlIGVtYmVkZGluZyBtb2RlbCB0byB1c2UuXG5AcGFyYW0gdmFsdWVzIC0gVGhlIHZhbHVlcyB0aGF0IHNob3VsZCBiZSBlbWJlZGRlZC5cblxuQHBhcmFtIG1heFJldHJpZXMgLSBNYXhpbXVtIG51bWJlciBvZiByZXRyaWVzLiBTZXQgdG8gMCB0byBkaXNhYmxlIHJldHJpZXMuIERlZmF1bHQ6IDIuXG5AcGFyYW0gYWJvcnRTaWduYWwgLSBBbiBvcHRpb25hbCBhYm9ydCBzaWduYWwgdGhhdCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIGNhbGwuXG5AcGFyYW0gaGVhZGVycyAtIEFkZGl0aW9uYWwgSFRUUCBoZWFkZXJzIHRvIGJlIHNlbnQgd2l0aCB0aGUgcmVxdWVzdC4gT25seSBhcHBsaWNhYmxlIGZvciBIVFRQLWJhc2VkIHByb3ZpZGVycy5cblxuQHJldHVybnMgQSByZXN1bHQgb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIGVtYmVkZGluZ3MsIHRoZSB2YWx1ZSwgYW5kIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbWJlZE1hbnk8VkFMVUUgPSBzdHJpbmc+KHtcbiAgbW9kZWw6IG1vZGVsQXJnLFxuICB2YWx1ZXMsXG4gIG1heFBhcmFsbGVsQ2FsbHMgPSBJbmZpbml0eSxcbiAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgYWJvcnRTaWduYWwsXG4gIGhlYWRlcnMsXG4gIHByb3ZpZGVyT3B0aW9ucyxcbiAgZXhwZXJpbWVudGFsX3RlbGVtZXRyeTogdGVsZW1ldHJ5LFxufToge1xuICAvKipcblRoZSBlbWJlZGRpbmcgbW9kZWwgdG8gdXNlLlxuICAgICAqL1xuICBtb2RlbDogRW1iZWRkaW5nTW9kZWw8VkFMVUU+O1xuXG4gIC8qKlxuVGhlIHZhbHVlcyB0aGF0IHNob3VsZCBiZSBlbWJlZGRlZC5cbiAgICovXG4gIHZhbHVlczogQXJyYXk8VkFMVUU+O1xuXG4gIC8qKlxuTWF4aW11bSBudW1iZXIgb2YgcmV0cmllcyBwZXIgZW1iZWRkaW5nIG1vZGVsIGNhbGwuIFNldCB0byAwIHRvIGRpc2FibGUgcmV0cmllcy5cblxuQGRlZmF1bHQgMlxuICAgKi9cbiAgbWF4UmV0cmllcz86IG51bWJlcjtcblxuICAvKipcbkFib3J0IHNpZ25hbC5cbiAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuXG4gIC8qKlxuQWRkaXRpb25hbCBoZWFkZXJzIHRvIGluY2x1ZGUgaW4gdGhlIHJlcXVlc3QuXG5Pbmx5IGFwcGxpY2FibGUgZm9yIEhUVFAtYmFzZWQgcHJvdmlkZXJzLlxuICovXG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuXG4gIC8qKlxuICAgKiBPcHRpb25hbCB0ZWxlbWV0cnkgY29uZmlndXJhdGlvbiAoZXhwZXJpbWVudGFsKS5cbiAgICovXG4gIGV4cGVyaW1lbnRhbF90ZWxlbWV0cnk/OiBUZWxlbWV0cnlTZXR0aW5ncztcblxuICAvKipcbiAgQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBvcHRpb25zLiBUaGV5IGFyZSBwYXNzZWQgdGhyb3VnaFxuICB0byB0aGUgcHJvdmlkZXIgZnJvbSB0aGUgQUkgU0RLIGFuZCBlbmFibGUgcHJvdmlkZXItc3BlY2lmaWNcbiAgZnVuY3Rpb25hbGl0eSB0aGF0IGNhbiBiZSBmdWxseSBlbmNhcHN1bGF0ZWQgaW4gdGhlIHByb3ZpZGVyLlxuICAqL1xuICBwcm92aWRlck9wdGlvbnM/OiBQcm92aWRlck9wdGlvbnM7XG5cbiAgLyoqXG4gICAqIE1heGltdW0gbnVtYmVyIG9mIGNvbmN1cnJlbnQgcmVxdWVzdHMuXG4gICAqXG4gICAqIEBkZWZhdWx0IEluZmluaXR5XG4gICAqL1xuICBtYXhQYXJhbGxlbENhbGxzPzogbnVtYmVyO1xufSk6IFByb21pc2U8RW1iZWRNYW55UmVzdWx0PFZBTFVFPj4ge1xuICBjb25zdCBtb2RlbCA9IHJlc29sdmVFbWJlZGRpbmdNb2RlbDxWQUxVRT4obW9kZWxBcmcpO1xuXG4gIGNvbnN0IHsgbWF4UmV0cmllcywgcmV0cnkgfSA9IHByZXBhcmVSZXRyaWVzKHtcbiAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICAgIGFib3J0U2lnbmFsLFxuICB9KTtcblxuICBjb25zdCBoZWFkZXJzV2l0aFVzZXJBZ2VudCA9IHdpdGhVc2VyQWdlbnRTdWZmaXgoXG4gICAgaGVhZGVycyA/PyB7fSxcbiAgICBgYWkvJHtWRVJTSU9OfWAsXG4gICk7XG5cbiAgY29uc3QgYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMgPSBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgbW9kZWwsXG4gICAgdGVsZW1ldHJ5LFxuICAgIGhlYWRlcnM6IGhlYWRlcnNXaXRoVXNlckFnZW50LFxuICAgIHNldHRpbmdzOiB7IG1heFJldHJpZXMgfSxcbiAgfSk7XG5cbiAgY29uc3QgdHJhY2VyID0gZ2V0VHJhY2VyKHRlbGVtZXRyeSk7XG5cbiAgcmV0dXJuIHJlY29yZFNwYW4oe1xuICAgIG5hbWU6ICdhaS5lbWJlZE1hbnknLFxuICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgdGVsZW1ldHJ5LFxuICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoeyBvcGVyYXRpb25JZDogJ2FpLmVtYmVkTWFueScsIHRlbGVtZXRyeSB9KSxcbiAgICAgICAgLi4uYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMsXG4gICAgICAgIC8vIHNwZWNpZmljIHNldHRpbmdzIHRoYXQgb25seSBtYWtlIHNlbnNlIG9uIHRoZSBvdXRlciBsZXZlbDpcbiAgICAgICAgJ2FpLnZhbHVlcyc6IHtcbiAgICAgICAgICBpbnB1dDogKCkgPT4gdmFsdWVzLm1hcCh2YWx1ZSA9PiBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KSxcbiAgICB0cmFjZXIsXG4gICAgZm46IGFzeW5jIHNwYW4gPT4ge1xuICAgICAgY29uc3QgW21heEVtYmVkZGluZ3NQZXJDYWxsLCBzdXBwb3J0c1BhcmFsbGVsQ2FsbHNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBtb2RlbC5tYXhFbWJlZGRpbmdzUGVyQ2FsbCxcbiAgICAgICAgbW9kZWwuc3VwcG9ydHNQYXJhbGxlbENhbGxzLFxuICAgICAgXSk7XG5cbiAgICAgIC8vIHRoZSBtb2RlbCBoYXMgbm90IHNwZWNpZmllZCBsaW1pdHMgb25cbiAgICAgIC8vIGhvdyBtYW55IGVtYmVkZGluZ3MgY2FuIGJlIGdlbmVyYXRlZCBpbiBhIHNpbmdsZSBjYWxsXG4gICAgICBpZiAobWF4RW1iZWRkaW5nc1BlckNhbGwgPT0gbnVsbCB8fCBtYXhFbWJlZGRpbmdzUGVyQ2FsbCA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgY29uc3QgeyBlbWJlZGRpbmdzLCB1c2FnZSwgcmVzcG9uc2UsIHByb3ZpZGVyTWV0YWRhdGEgfSA9IGF3YWl0IHJldHJ5KFxuICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIC8vIG5lc3RlZCBzcGFucyB0byBhbGlnbiB3aXRoIHRoZSBlbWJlZE1hbnkgdGVsZW1ldHJ5IGRhdGE6XG4gICAgICAgICAgICByZXR1cm4gcmVjb3JkU3Bhbih7XG4gICAgICAgICAgICAgIG5hbWU6ICdhaS5lbWJlZE1hbnkuZG9FbWJlZCcsXG4gICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25JZDogJ2FpLmVtYmVkTWFueS5kb0VtYmVkJyxcbiAgICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgIC8vIHNwZWNpZmljIHNldHRpbmdzIHRoYXQgb25seSBtYWtlIHNlbnNlIG9uIHRoZSBvdXRlciBsZXZlbDpcbiAgICAgICAgICAgICAgICAgICdhaS52YWx1ZXMnOiB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiAoKSA9PiB2YWx1ZXMubWFwKHZhbHVlID0+IEpTT04uc3RyaW5naWZ5KHZhbHVlKSksXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICB0cmFjZXIsXG4gICAgICAgICAgICAgIGZuOiBhc3luYyBkb0VtYmVkU3BhbiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9kZWxSZXNwb25zZSA9IGF3YWl0IG1vZGVsLmRvRW1iZWQoe1xuICAgICAgICAgICAgICAgICAgdmFsdWVzLFxuICAgICAgICAgICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzV2l0aFVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGVtYmVkZGluZ3MgPSBtb2RlbFJlc3BvbnNlLmVtYmVkZGluZ3M7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNhZ2UgPSBtb2RlbFJlc3BvbnNlLnVzYWdlID8/IHsgdG9rZW5zOiBOYU4gfTtcblxuICAgICAgICAgICAgICAgIGRvRW1iZWRTcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgJ2FpLmVtYmVkZGluZ3MnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVtYmVkZGluZ3MubWFwKGVtYmVkZGluZyA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGVtYmVkZGluZyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UudG9rZW5zJzogdXNhZ2UudG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICBlbWJlZGRpbmdzLFxuICAgICAgICAgICAgICAgICAgdXNhZ2UsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBtb2RlbFJlc3BvbnNlLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICByZXNwb25zZTogbW9kZWxSZXNwb25zZS5yZXNwb25zZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcblxuICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICdhaS5lbWJlZGRpbmdzJzoge1xuICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT5cbiAgICAgICAgICAgICAgICAgIGVtYmVkZGluZ3MubWFwKGVtYmVkZGluZyA9PiBKU09OLnN0cmluZ2lmeShlbWJlZGRpbmcpKSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgJ2FpLnVzYWdlLnRva2Vucyc6IHVzYWdlLnRva2VucyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBEZWZhdWx0RW1iZWRNYW55UmVzdWx0KHtcbiAgICAgICAgICB2YWx1ZXMsXG4gICAgICAgICAgZW1iZWRkaW5ncyxcbiAgICAgICAgICB1c2FnZSxcbiAgICAgICAgICBwcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgIHJlc3BvbnNlczogW3Jlc3BvbnNlXSxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIHNwbGl0IHRoZSB2YWx1ZXMgaW50byBjaHVua3MgdGhhdCBhcmUgc21hbGwgZW5vdWdoIGZvciB0aGUgbW9kZWw6XG4gICAgICBjb25zdCB2YWx1ZUNodW5rcyA9IHNwbGl0QXJyYXkodmFsdWVzLCBtYXhFbWJlZGRpbmdzUGVyQ2FsbCk7XG5cbiAgICAgIC8vIHNlcmlhbGx5IGVtYmVkIHRoZSBjaHVua3M6XG4gICAgICBjb25zdCBlbWJlZGRpbmdzOiBBcnJheTxFbWJlZGRpbmc+ID0gW107XG4gICAgICBjb25zdCByZXNwb25zZXM6IEFycmF5PFxuICAgICAgICB8IHtcbiAgICAgICAgICAgIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgICAgICAgYm9keT86IHVua25vd247XG4gICAgICAgICAgfVxuICAgICAgICB8IHVuZGVmaW5lZFxuICAgICAgPiA9IFtdO1xuICAgICAgbGV0IHRva2VucyA9IDA7XG4gICAgICBsZXQgcHJvdmlkZXJNZXRhZGF0YTogUHJvdmlkZXJNZXRhZGF0YSB8IHVuZGVmaW5lZDtcblxuICAgICAgY29uc3QgcGFyYWxsZWxDaHVua3MgPSBzcGxpdEFycmF5KFxuICAgICAgICB2YWx1ZUNodW5rcyxcbiAgICAgICAgc3VwcG9ydHNQYXJhbGxlbENhbGxzID8gbWF4UGFyYWxsZWxDYWxscyA6IDEsXG4gICAgICApO1xuXG4gICAgICBmb3IgKGNvbnN0IHBhcmFsbGVsQ2h1bmsgb2YgcGFyYWxsZWxDaHVua3MpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgIHBhcmFsbGVsQ2h1bmsubWFwKGNodW5rID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZXRyeSgoKSA9PiB7XG4gICAgICAgICAgICAgIC8vIG5lc3RlZCBzcGFucyB0byBhbGlnbiB3aXRoIHRoZSBlbWJlZE1hbnkgdGVsZW1ldHJ5IGRhdGE6XG4gICAgICAgICAgICAgIHJldHVybiByZWNvcmRTcGFuKHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnYWkuZW1iZWRNYW55LmRvRW1iZWQnLFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbklkOiAnYWkuZW1iZWRNYW55LmRvRW1iZWQnLFxuICAgICAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICAvLyBzcGVjaWZpYyBzZXR0aW5ncyB0aGF0IG9ubHkgbWFrZSBzZW5zZSBvbiB0aGUgb3V0ZXIgbGV2ZWw6XG4gICAgICAgICAgICAgICAgICAgICdhaS52YWx1ZXMnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6ICgpID0+IGNodW5rLm1hcCh2YWx1ZSA9PiBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB0cmFjZXIsXG4gICAgICAgICAgICAgICAgZm46IGFzeW5jIGRvRW1iZWRTcGFuID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVsUmVzcG9uc2UgPSBhd2FpdCBtb2RlbC5kb0VtYmVkKHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiBjaHVuayxcbiAgICAgICAgICAgICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnNXaXRoVXNlckFnZW50LFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgY29uc3QgZW1iZWRkaW5ncyA9IG1vZGVsUmVzcG9uc2UuZW1iZWRkaW5ncztcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHVzYWdlID0gbW9kZWxSZXNwb25zZS51c2FnZSA/PyB7IHRva2VuczogTmFOIH07XG5cbiAgICAgICAgICAgICAgICAgIGRvRW1iZWRTcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkuZW1iZWRkaW5ncyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYmVkZGluZ3MubWFwKGVtYmVkZGluZyA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoZW1iZWRkaW5nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS50b2tlbnMnOiB1c2FnZS50b2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBlbWJlZGRpbmdzLFxuICAgICAgICAgICAgICAgICAgICB1c2FnZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogbW9kZWxSZXNwb25zZS5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZTogbW9kZWxSZXNwb25zZS5yZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcblxuICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgZW1iZWRkaW5ncy5wdXNoKC4uLnJlc3VsdC5lbWJlZGRpbmdzKTtcbiAgICAgICAgICByZXNwb25zZXMucHVzaChyZXN1bHQucmVzcG9uc2UpO1xuICAgICAgICAgIHRva2VucyArPSByZXN1bHQudXNhZ2UudG9rZW5zO1xuICAgICAgICAgIGlmIChyZXN1bHQucHJvdmlkZXJNZXRhZGF0YSkge1xuICAgICAgICAgICAgaWYgKCFwcm92aWRlck1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGEgPSB7IC4uLnJlc3VsdC5wcm92aWRlck1ldGFkYXRhIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtwcm92aWRlck5hbWUsIG1ldGFkYXRhXSBvZiBPYmplY3QuZW50cmllcyhcbiAgICAgICAgICAgICAgICByZXN1bHQucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGFbcHJvdmlkZXJOYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgIC4uLihwcm92aWRlck1ldGFkYXRhW3Byb3ZpZGVyTmFtZV0gPz8ge30pLFxuICAgICAgICAgICAgICAgICAgLi4ubWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAnYWkuZW1iZWRkaW5ncyc6IHtcbiAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PlxuICAgICAgICAgICAgICAgIGVtYmVkZGluZ3MubWFwKGVtYmVkZGluZyA9PiBKU09OLnN0cmluZ2lmeShlbWJlZGRpbmcpKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnYWkudXNhZ2UudG9rZW5zJzogdG9rZW5zLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIG5ldyBEZWZhdWx0RW1iZWRNYW55UmVzdWx0KHtcbiAgICAgICAgdmFsdWVzLFxuICAgICAgICBlbWJlZGRpbmdzLFxuICAgICAgICB1c2FnZTogeyB0b2tlbnMgfSxcbiAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgcmVzcG9uc2VzLFxuICAgICAgfSk7XG4gICAgfSxcbiAgfSk7XG59XG5cbmNsYXNzIERlZmF1bHRFbWJlZE1hbnlSZXN1bHQ8VkFMVUU+IGltcGxlbWVudHMgRW1iZWRNYW55UmVzdWx0PFZBTFVFPiB7XG4gIHJlYWRvbmx5IHZhbHVlczogRW1iZWRNYW55UmVzdWx0PFZBTFVFPlsndmFsdWVzJ107XG4gIHJlYWRvbmx5IGVtYmVkZGluZ3M6IEVtYmVkTWFueVJlc3VsdDxWQUxVRT5bJ2VtYmVkZGluZ3MnXTtcbiAgcmVhZG9ubHkgdXNhZ2U6IEVtYmVkTWFueVJlc3VsdDxWQUxVRT5bJ3VzYWdlJ107XG4gIHJlYWRvbmx5IHByb3ZpZGVyTWV0YWRhdGE6IEVtYmVkTWFueVJlc3VsdDxWQUxVRT5bJ3Byb3ZpZGVyTWV0YWRhdGEnXTtcbiAgcmVhZG9ubHkgcmVzcG9uc2VzOiBFbWJlZE1hbnlSZXN1bHQ8VkFMVUU+WydyZXNwb25zZXMnXTtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7XG4gICAgdmFsdWVzOiBFbWJlZE1hbnlSZXN1bHQ8VkFMVUU+Wyd2YWx1ZXMnXTtcbiAgICBlbWJlZGRpbmdzOiBFbWJlZE1hbnlSZXN1bHQ8VkFMVUU+WydlbWJlZGRpbmdzJ107XG4gICAgdXNhZ2U6IEVtYmVkTWFueVJlc3VsdDxWQUxVRT5bJ3VzYWdlJ107XG4gICAgcHJvdmlkZXJNZXRhZGF0YT86IEVtYmVkTWFueVJlc3VsdDxWQUxVRT5bJ3Byb3ZpZGVyTWV0YWRhdGEnXTtcbiAgICByZXNwb25zZXM/OiBFbWJlZE1hbnlSZXN1bHQ8VkFMVUU+WydyZXNwb25zZXMnXTtcbiAgfSkge1xuICAgIHRoaXMudmFsdWVzID0gb3B0aW9ucy52YWx1ZXM7XG4gICAgdGhpcy5lbWJlZGRpbmdzID0gb3B0aW9ucy5lbWJlZGRpbmdzO1xuICAgIHRoaXMudXNhZ2UgPSBvcHRpb25zLnVzYWdlO1xuICAgIHRoaXMucHJvdmlkZXJNZXRhZGF0YSA9IG9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YTtcbiAgICB0aGlzLnJlc3BvbnNlcyA9IG9wdGlvbnMucmVzcG9uc2VzO1xuICB9XG59XG4iLCAiLyoqXG4gKiBTcGxpdHMgYW4gYXJyYXkgaW50byBjaHVua3Mgb2YgYSBzcGVjaWZpZWQgc2l6ZS5cbiAqXG4gKiBAdGVtcGxhdGUgVCAtIFRoZSB0eXBlIG9mIGVsZW1lbnRzIGluIHRoZSBhcnJheS5cbiAqIEBwYXJhbSB7VFtdfSBhcnJheSAtIFRoZSBhcnJheSB0byBzcGxpdC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjaHVua1NpemUgLSBUaGUgc2l6ZSBvZiBlYWNoIGNodW5rLlxuICogQHJldHVybnMge1RbXVtdfSAtIEEgbmV3IGFycmF5IGNvbnRhaW5pbmcgdGhlIGNodW5rcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNwbGl0QXJyYXk8VD4oYXJyYXk6IFRbXSwgY2h1bmtTaXplOiBudW1iZXIpOiBUW11bXSB7XG4gIGlmIChjaHVua1NpemUgPD0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2h1bmtTaXplIG11c3QgYmUgZ3JlYXRlciB0aGFuIDAnKTtcbiAgfVxuXG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSArPSBjaHVua1NpemUpIHtcbiAgICByZXN1bHQucHVzaChhcnJheS5zbGljZShpLCBpICsgY2h1bmtTaXplKSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuIiwgImltcG9ydCB7IEltYWdlTW9kZWxWMiwgSW1hZ2VNb2RlbFYyUHJvdmlkZXJNZXRhZGF0YSB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgUHJvdmlkZXJPcHRpb25zLCB3aXRoVXNlckFnZW50U3VmZml4IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBOb0ltYWdlR2VuZXJhdGVkRXJyb3IgfSBmcm9tICcuLi9lcnJvci9uby1pbWFnZS1nZW5lcmF0ZWQtZXJyb3InO1xuaW1wb3J0IHtcbiAgZGV0ZWN0TWVkaWFUeXBlLFxuICBpbWFnZU1lZGlhVHlwZVNpZ25hdHVyZXMsXG59IGZyb20gJy4uL3V0aWwvZGV0ZWN0LW1lZGlhLXR5cGUnO1xuaW1wb3J0IHsgcHJlcGFyZVJldHJpZXMgfSBmcm9tICcuLi91dGlsL3ByZXBhcmUtcmV0cmllcyc7XG5pbXBvcnQgeyBVbnN1cHBvcnRlZE1vZGVsVmVyc2lvbkVycm9yIH0gZnJvbSAnLi4vZXJyb3IvdW5zdXBwb3J0ZWQtbW9kZWwtdmVyc2lvbi1lcnJvcic7XG5pbXBvcnQge1xuICBEZWZhdWx0R2VuZXJhdGVkRmlsZSxcbiAgR2VuZXJhdGVkRmlsZSxcbn0gZnJvbSAnLi4vZ2VuZXJhdGUtdGV4dC9nZW5lcmF0ZWQtZmlsZSc7XG5pbXBvcnQgeyBJbWFnZUdlbmVyYXRpb25XYXJuaW5nIH0gZnJvbSAnLi4vdHlwZXMvaW1hZ2UtbW9kZWwnO1xuaW1wb3J0IHsgSW1hZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy9pbWFnZS1tb2RlbC1yZXNwb25zZS1tZXRhZGF0YSc7XG5pbXBvcnQgeyBHZW5lcmF0ZUltYWdlUmVzdWx0IH0gZnJvbSAnLi9nZW5lcmF0ZS1pbWFnZS1yZXN1bHQnO1xuaW1wb3J0IHsgbG9nV2FybmluZ3MgfSBmcm9tICcuLi9sb2dnZXIvbG9nLXdhcm5pbmdzJztcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tICcuLi92ZXJzaW9uJztcblxuLyoqXG5HZW5lcmF0ZXMgaW1hZ2VzIHVzaW5nIGFuIGltYWdlIG1vZGVsLlxuXG5AcGFyYW0gbW9kZWwgLSBUaGUgaW1hZ2UgbW9kZWwgdG8gdXNlLlxuQHBhcmFtIHByb21wdCAtIFRoZSBwcm9tcHQgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBnZW5lcmF0ZSB0aGUgaW1hZ2UuXG5AcGFyYW0gbiAtIE51bWJlciBvZiBpbWFnZXMgdG8gZ2VuZXJhdGUuIERlZmF1bHQ6IDEuXG5AcGFyYW0gc2l6ZSAtIFNpemUgb2YgdGhlIGltYWdlcyB0byBnZW5lcmF0ZS4gTXVzdCBoYXZlIHRoZSBmb3JtYXQgYHt3aWR0aH14e2hlaWdodH1gLlxuQHBhcmFtIGFzcGVjdFJhdGlvIC0gQXNwZWN0IHJhdGlvIG9mIHRoZSBpbWFnZXMgdG8gZ2VuZXJhdGUuIE11c3QgaGF2ZSB0aGUgZm9ybWF0IGB7d2lkdGh9OntoZWlnaHR9YC5cbkBwYXJhbSBzZWVkIC0gU2VlZCBmb3IgdGhlIGltYWdlIGdlbmVyYXRpb24uXG5AcGFyYW0gcHJvdmlkZXJPcHRpb25zIC0gQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBvcHRpb25zIHRoYXQgYXJlIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlclxuYXMgYm9keSBwYXJhbWV0ZXJzLlxuQHBhcmFtIG1heFJldHJpZXMgLSBNYXhpbXVtIG51bWJlciBvZiByZXRyaWVzLiBTZXQgdG8gMCB0byBkaXNhYmxlIHJldHJpZXMuIERlZmF1bHQ6IDIuXG5AcGFyYW0gYWJvcnRTaWduYWwgLSBBbiBvcHRpb25hbCBhYm9ydCBzaWduYWwgdGhhdCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIGNhbGwuXG5AcGFyYW0gaGVhZGVycyAtIEFkZGl0aW9uYWwgSFRUUCBoZWFkZXJzIHRvIGJlIHNlbnQgd2l0aCB0aGUgcmVxdWVzdC4gT25seSBhcHBsaWNhYmxlIGZvciBIVFRQLWJhc2VkIHByb3ZpZGVycy5cblxuQHJldHVybnMgQSByZXN1bHQgb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIGdlbmVyYXRlZCBpbWFnZXMuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUltYWdlKHtcbiAgbW9kZWwsXG4gIHByb21wdCxcbiAgbiA9IDEsXG4gIG1heEltYWdlc1BlckNhbGwsXG4gIHNpemUsXG4gIGFzcGVjdFJhdGlvLFxuICBzZWVkLFxuICBwcm92aWRlck9wdGlvbnMsXG4gIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gIGFib3J0U2lnbmFsLFxuICBoZWFkZXJzLFxufToge1xuICAvKipcblRoZSBpbWFnZSBtb2RlbCB0byB1c2UuXG4gICAgICovXG4gIG1vZGVsOiBJbWFnZU1vZGVsVjI7XG5cbiAgLyoqXG5UaGUgcHJvbXB0IHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIGltYWdlLlxuICAgKi9cbiAgcHJvbXB0OiBzdHJpbmc7XG5cbiAgLyoqXG5OdW1iZXIgb2YgaW1hZ2VzIHRvIGdlbmVyYXRlLlxuICAgKi9cbiAgbj86IG51bWJlcjtcblxuICAvKipcbk51bWJlciBvZiBpbWFnZXMgdG8gZ2VuZXJhdGUuXG4gICAqL1xuICBtYXhJbWFnZXNQZXJDYWxsPzogbnVtYmVyO1xuXG4gIC8qKlxuU2l6ZSBvZiB0aGUgaW1hZ2VzIHRvIGdlbmVyYXRlLiBNdXN0IGhhdmUgdGhlIGZvcm1hdCBge3dpZHRofXh7aGVpZ2h0fWAuIElmIG5vdCBwcm92aWRlZCwgdGhlIGRlZmF1bHQgc2l6ZSB3aWxsIGJlIHVzZWQuXG4gICAqL1xuICBzaXplPzogYCR7bnVtYmVyfXgke251bWJlcn1gO1xuXG4gIC8qKlxuQXNwZWN0IHJhdGlvIG9mIHRoZSBpbWFnZXMgdG8gZ2VuZXJhdGUuIE11c3QgaGF2ZSB0aGUgZm9ybWF0IGB7d2lkdGh9OntoZWlnaHR9YC4gSWYgbm90IHByb3ZpZGVkLCB0aGUgZGVmYXVsdCBhc3BlY3QgcmF0aW8gd2lsbCBiZSB1c2VkLlxuICAgKi9cbiAgYXNwZWN0UmF0aW8/OiBgJHtudW1iZXJ9OiR7bnVtYmVyfWA7XG5cbiAgLyoqXG5TZWVkIGZvciB0aGUgaW1hZ2UgZ2VuZXJhdGlvbi4gSWYgbm90IHByb3ZpZGVkLCB0aGUgZGVmYXVsdCBzZWVkIHdpbGwgYmUgdXNlZC5cbiAgICovXG4gIHNlZWQ/OiBudW1iZXI7XG5cbiAgLyoqXG5BZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG9wdGlvbnMgdGhhdCBhcmUgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyXG5hcyBib2R5IHBhcmFtZXRlcnMuXG5cblRoZSBvdXRlciByZWNvcmQgaXMga2V5ZWQgYnkgdGhlIHByb3ZpZGVyIG5hbWUsIGFuZCB0aGUgaW5uZXJcbnJlY29yZCBpcyBrZXllZCBieSB0aGUgcHJvdmlkZXItc3BlY2lmaWMgbWV0YWRhdGEga2V5LlxuYGBgdHNcbntcbiAgXCJvcGVuYWlcIjoge1xuICAgIFwic3R5bGVcIjogXCJ2aXZpZFwiXG4gIH1cbn1cbmBgYFxuICAgICAqL1xuICBwcm92aWRlck9wdGlvbnM/OiBQcm92aWRlck9wdGlvbnM7XG5cbiAgLyoqXG5NYXhpbXVtIG51bWJlciBvZiByZXRyaWVzIHBlciBlbWJlZGRpbmcgbW9kZWwgY2FsbC4gU2V0IHRvIDAgdG8gZGlzYWJsZSByZXRyaWVzLlxuXG5AZGVmYXVsdCAyXG4gICAqL1xuICBtYXhSZXRyaWVzPzogbnVtYmVyO1xuXG4gIC8qKlxuQWJvcnQgc2lnbmFsLlxuICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG5cbiAgLyoqXG5BZGRpdGlvbmFsIGhlYWRlcnMgdG8gaW5jbHVkZSBpbiB0aGUgcmVxdWVzdC5cbk9ubHkgYXBwbGljYWJsZSBmb3IgSFRUUC1iYXNlZCBwcm92aWRlcnMuXG4gKi9cbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG59KTogUHJvbWlzZTxHZW5lcmF0ZUltYWdlUmVzdWx0PiB7XG4gIGlmIChtb2RlbC5zcGVjaWZpY2F0aW9uVmVyc2lvbiAhPT0gJ3YyJykge1xuICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE1vZGVsVmVyc2lvbkVycm9yKHtcbiAgICAgIHZlcnNpb246IG1vZGVsLnNwZWNpZmljYXRpb25WZXJzaW9uLFxuICAgICAgcHJvdmlkZXI6IG1vZGVsLnByb3ZpZGVyLFxuICAgICAgbW9kZWxJZDogbW9kZWwubW9kZWxJZCxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IGhlYWRlcnNXaXRoVXNlckFnZW50ID0gd2l0aFVzZXJBZ2VudFN1ZmZpeChcbiAgICBoZWFkZXJzID8/IHt9LFxuICAgIGBhaS8ke1ZFUlNJT059YCxcbiAgKTtcblxuICBjb25zdCB7IHJldHJ5IH0gPSBwcmVwYXJlUmV0cmllcyh7XG4gICAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgICBhYm9ydFNpZ25hbCxcbiAgfSk7XG5cbiAgLy8gZGVmYXVsdCB0byAxIGlmIHRoZSBtb2RlbCBoYXMgbm90IHNwZWNpZmllZCBsaW1pdHMgb25cbiAgLy8gaG93IG1hbnkgaW1hZ2VzIGNhbiBiZSBnZW5lcmF0ZWQgaW4gYSBzaW5nbGUgY2FsbFxuICBjb25zdCBtYXhJbWFnZXNQZXJDYWxsV2l0aERlZmF1bHQgPVxuICAgIG1heEltYWdlc1BlckNhbGwgPz8gKGF3YWl0IGludm9rZU1vZGVsTWF4SW1hZ2VzUGVyQ2FsbChtb2RlbCkpID8/IDE7XG5cbiAgLy8gcGFyYWxsZWxpemUgY2FsbHMgdG8gdGhlIG1vZGVsOlxuICBjb25zdCBjYWxsQ291bnQgPSBNYXRoLmNlaWwobiAvIG1heEltYWdlc1BlckNhbGxXaXRoRGVmYXVsdCk7XG4gIGNvbnN0IGNhbGxJbWFnZUNvdW50cyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IGNhbGxDb3VudCB9LCAoXywgaSkgPT4ge1xuICAgIGlmIChpIDwgY2FsbENvdW50IC0gMSkge1xuICAgICAgcmV0dXJuIG1heEltYWdlc1BlckNhbGxXaXRoRGVmYXVsdDtcbiAgICB9XG5cbiAgICBjb25zdCByZW1haW5kZXIgPSBuICUgbWF4SW1hZ2VzUGVyQ2FsbFdpdGhEZWZhdWx0O1xuICAgIHJldHVybiByZW1haW5kZXIgPT09IDAgPyBtYXhJbWFnZXNQZXJDYWxsV2l0aERlZmF1bHQgOiByZW1haW5kZXI7XG4gIH0pO1xuXG4gIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICBjYWxsSW1hZ2VDb3VudHMubWFwKGFzeW5jIGNhbGxJbWFnZUNvdW50ID0+XG4gICAgICByZXRyeSgoKSA9PlxuICAgICAgICBtb2RlbC5kb0dlbmVyYXRlKHtcbiAgICAgICAgICBwcm9tcHQsXG4gICAgICAgICAgbjogY2FsbEltYWdlQ291bnQsXG4gICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgaGVhZGVyczogaGVhZGVyc1dpdGhVc2VyQWdlbnQsXG4gICAgICAgICAgc2l6ZSxcbiAgICAgICAgICBhc3BlY3RSYXRpbyxcbiAgICAgICAgICBzZWVkLFxuICAgICAgICAgIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJPcHRpb25zID8/IHt9LFxuICAgICAgICB9KSxcbiAgICAgICksXG4gICAgKSxcbiAgKTtcblxuICAvLyBjb2xsZWN0IHJlc3VsdCBpbWFnZXMsIHdhcm5pbmdzLCBhbmQgcmVzcG9uc2UgbWV0YWRhdGFcbiAgY29uc3QgaW1hZ2VzOiBBcnJheTxEZWZhdWx0R2VuZXJhdGVkRmlsZT4gPSBbXTtcbiAgY29uc3Qgd2FybmluZ3M6IEFycmF5PEltYWdlR2VuZXJhdGlvbldhcm5pbmc+ID0gW107XG4gIGNvbnN0IHJlc3BvbnNlczogQXJyYXk8SW1hZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGE+ID0gW107XG4gIGNvbnN0IHByb3ZpZGVyTWV0YWRhdGE6IEltYWdlTW9kZWxWMlByb3ZpZGVyTWV0YWRhdGEgPSB7fTtcbiAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgIGltYWdlcy5wdXNoKFxuICAgICAgLi4ucmVzdWx0LmltYWdlcy5tYXAoXG4gICAgICAgIGltYWdlID0+XG4gICAgICAgICAgbmV3IERlZmF1bHRHZW5lcmF0ZWRGaWxlKHtcbiAgICAgICAgICAgIGRhdGE6IGltYWdlLFxuICAgICAgICAgICAgbWVkaWFUeXBlOlxuICAgICAgICAgICAgICBkZXRlY3RNZWRpYVR5cGUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGltYWdlLFxuICAgICAgICAgICAgICAgIHNpZ25hdHVyZXM6IGltYWdlTWVkaWFUeXBlU2lnbmF0dXJlcyxcbiAgICAgICAgICAgICAgfSkgPz8gJ2ltYWdlL3BuZycsXG4gICAgICAgICAgfSksXG4gICAgICApLFxuICAgICk7XG4gICAgd2FybmluZ3MucHVzaCguLi5yZXN1bHQud2FybmluZ3MpO1xuXG4gICAgaWYgKHJlc3VsdC5wcm92aWRlck1ldGFkYXRhKSB7XG4gICAgICBmb3IgKGNvbnN0IFtwcm92aWRlck5hbWUsIG1ldGFkYXRhXSBvZiBPYmplY3QuZW50cmllczx7XG4gICAgICAgIGltYWdlczogdW5rbm93bjtcbiAgICAgIH0+KHJlc3VsdC5wcm92aWRlck1ldGFkYXRhKSkge1xuICAgICAgICBwcm92aWRlck1ldGFkYXRhW3Byb3ZpZGVyTmFtZV0gPz89IHsgaW1hZ2VzOiBbXSB9O1xuICAgICAgICBwcm92aWRlck1ldGFkYXRhW3Byb3ZpZGVyTmFtZV0uaW1hZ2VzLnB1c2goXG4gICAgICAgICAgLi4ucmVzdWx0LnByb3ZpZGVyTWV0YWRhdGFbcHJvdmlkZXJOYW1lXS5pbWFnZXMsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVzcG9uc2VzLnB1c2gocmVzdWx0LnJlc3BvbnNlKTtcbiAgfVxuXG4gIGxvZ1dhcm5pbmdzKHdhcm5pbmdzKTtcblxuICBpZiAoIWltYWdlcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgTm9JbWFnZUdlbmVyYXRlZEVycm9yKHsgcmVzcG9uc2VzIH0pO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBEZWZhdWx0R2VuZXJhdGVJbWFnZVJlc3VsdCh7XG4gICAgaW1hZ2VzLFxuICAgIHdhcm5pbmdzLFxuICAgIHJlc3BvbnNlcyxcbiAgICBwcm92aWRlck1ldGFkYXRhLFxuICB9KTtcbn1cblxuY2xhc3MgRGVmYXVsdEdlbmVyYXRlSW1hZ2VSZXN1bHQgaW1wbGVtZW50cyBHZW5lcmF0ZUltYWdlUmVzdWx0IHtcbiAgcmVhZG9ubHkgaW1hZ2VzOiBBcnJheTxHZW5lcmF0ZWRGaWxlPjtcbiAgcmVhZG9ubHkgd2FybmluZ3M6IEFycmF5PEltYWdlR2VuZXJhdGlvbldhcm5pbmc+O1xuICByZWFkb25seSByZXNwb25zZXM6IEFycmF5PEltYWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhPjtcbiAgcmVhZG9ubHkgcHJvdmlkZXJNZXRhZGF0YTogSW1hZ2VNb2RlbFYyUHJvdmlkZXJNZXRhZGF0YTtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7XG4gICAgaW1hZ2VzOiBBcnJheTxHZW5lcmF0ZWRGaWxlPjtcbiAgICB3YXJuaW5nczogQXJyYXk8SW1hZ2VHZW5lcmF0aW9uV2FybmluZz47XG4gICAgcmVzcG9uc2VzOiBBcnJheTxJbWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YT47XG4gICAgcHJvdmlkZXJNZXRhZGF0YTogSW1hZ2VNb2RlbFYyUHJvdmlkZXJNZXRhZGF0YTtcbiAgfSkge1xuICAgIHRoaXMuaW1hZ2VzID0gb3B0aW9ucy5pbWFnZXM7XG4gICAgdGhpcy53YXJuaW5ncyA9IG9wdGlvbnMud2FybmluZ3M7XG4gICAgdGhpcy5yZXNwb25zZXMgPSBvcHRpb25zLnJlc3BvbnNlcztcbiAgICB0aGlzLnByb3ZpZGVyTWV0YWRhdGEgPSBvcHRpb25zLnByb3ZpZGVyTWV0YWRhdGE7XG4gIH1cblxuICBnZXQgaW1hZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW1hZ2VzWzBdO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGludm9rZU1vZGVsTWF4SW1hZ2VzUGVyQ2FsbChtb2RlbDogSW1hZ2VNb2RlbFYyKSB7XG4gIGNvbnN0IGlzRnVuY3Rpb24gPSBtb2RlbC5tYXhJbWFnZXNQZXJDYWxsIGluc3RhbmNlb2YgRnVuY3Rpb247XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKSB7XG4gICAgcmV0dXJuIG1vZGVsLm1heEltYWdlc1BlckNhbGw7XG4gIH1cblxuICByZXR1cm4gbW9kZWwubWF4SW1hZ2VzUGVyQ2FsbCh7XG4gICAgbW9kZWxJZDogbW9kZWwubW9kZWxJZCxcbiAgfSk7XG59XG4iLCAiaW1wb3J0IHsgSlNPTlZhbHVlIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQge1xuICBjcmVhdGVJZEdlbmVyYXRvcixcbiAgSW5mZXJTY2hlbWEsXG4gIFByb3ZpZGVyT3B0aW9ucyxcbiAgU2NoZW1hLFxuICB3aXRoVXNlckFnZW50U3VmZml4LFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCAqIGFzIHozIGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgKiBhcyB6NCBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsgTm9PYmplY3RHZW5lcmF0ZWRFcnJvciB9IGZyb20gJy4uL2Vycm9yL25vLW9iamVjdC1nZW5lcmF0ZWQtZXJyb3InO1xuaW1wb3J0IHsgZXh0cmFjdFJlYXNvbmluZ0NvbnRlbnQgfSBmcm9tICcuLi9nZW5lcmF0ZS10ZXh0L2V4dHJhY3QtcmVhc29uaW5nLWNvbnRlbnQnO1xuaW1wb3J0IHsgZXh0cmFjdFRleHRDb250ZW50IH0gZnJvbSAnLi4vZ2VuZXJhdGUtdGV4dC9leHRyYWN0LXRleHQtY29udGVudCc7XG5pbXBvcnQgeyBsb2dXYXJuaW5ncyB9IGZyb20gJy4uL2xvZ2dlci9sb2ctd2FybmluZ3MnO1xuaW1wb3J0IHsgcmVzb2x2ZUxhbmd1YWdlTW9kZWwgfSBmcm9tICcuLi9tb2RlbC9yZXNvbHZlLW1vZGVsJztcbmltcG9ydCB7IENhbGxTZXR0aW5ncyB9IGZyb20gJy4uL3Byb21wdC9jYWxsLXNldHRpbmdzJztcbmltcG9ydCB7IGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxQcm9tcHQgfSBmcm9tICcuLi9wcm9tcHQvY29udmVydC10by1sYW5ndWFnZS1tb2RlbC1wcm9tcHQnO1xuaW1wb3J0IHsgcHJlcGFyZUNhbGxTZXR0aW5ncyB9IGZyb20gJy4uL3Byb21wdC9wcmVwYXJlLWNhbGwtc2V0dGluZ3MnO1xuaW1wb3J0IHsgUHJvbXB0IH0gZnJvbSAnLi4vcHJvbXB0L3Byb21wdCc7XG5pbXBvcnQgeyBzdGFuZGFyZGl6ZVByb21wdCB9IGZyb20gJy4uL3Byb21wdC9zdGFuZGFyZGl6ZS1wcm9tcHQnO1xuaW1wb3J0IHsgd3JhcEdhdGV3YXlFcnJvciB9IGZyb20gJy4uL3Byb21wdC93cmFwLWdhdGV3YXktZXJyb3InO1xuaW1wb3J0IHsgYXNzZW1ibGVPcGVyYXRpb25OYW1lIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2Fzc2VtYmxlLW9wZXJhdGlvbi1uYW1lJztcbmltcG9ydCB7IGdldEJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2dldC1iYXNlLXRlbGVtZXRyeS1hdHRyaWJ1dGVzJztcbmltcG9ydCB7IGdldFRyYWNlciB9IGZyb20gJy4uL3RlbGVtZXRyeS9nZXQtdHJhY2VyJztcbmltcG9ydCB7IHJlY29yZFNwYW4gfSBmcm9tICcuLi90ZWxlbWV0cnkvcmVjb3JkLXNwYW4nO1xuaW1wb3J0IHsgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyB9IGZyb20gJy4uL3RlbGVtZXRyeS9zZWxlY3QtdGVsZW1ldHJ5LWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgc3RyaW5naWZ5Rm9yVGVsZW1ldHJ5IH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3N0cmluZ2lmeS1mb3ItdGVsZW1ldHJ5JztcbmltcG9ydCB7IFRlbGVtZXRyeVNldHRpbmdzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3RlbGVtZXRyeS1zZXR0aW5ncyc7XG5pbXBvcnQge1xuICBDYWxsV2FybmluZyxcbiAgRmluaXNoUmVhc29uLFxuICBMYW5ndWFnZU1vZGVsLFxufSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbCc7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsUmVxdWVzdE1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwtcmVxdWVzdC1tZXRhZGF0YSc7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzL2xhbmd1YWdlLW1vZGVsLXJlc3BvbnNlLW1ldGFkYXRhJztcbmltcG9ydCB7IFByb3ZpZGVyTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy9wcm92aWRlci1tZXRhZGF0YSc7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsVXNhZ2UgfSBmcm9tICcuLi90eXBlcy91c2FnZSc7XG5pbXBvcnQgeyBEb3dubG9hZEZ1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9kb3dubG9hZC9kb3dubG9hZC1mdW5jdGlvbic7XG5pbXBvcnQgeyBwcmVwYXJlSGVhZGVycyB9IGZyb20gJy4uL3V0aWwvcHJlcGFyZS1oZWFkZXJzJztcbmltcG9ydCB7IHByZXBhcmVSZXRyaWVzIH0gZnJvbSAnLi4vdXRpbC9wcmVwYXJlLXJldHJpZXMnO1xuaW1wb3J0IHsgR2VuZXJhdGVPYmplY3RSZXN1bHQgfSBmcm9tICcuL2dlbmVyYXRlLW9iamVjdC1yZXN1bHQnO1xuaW1wb3J0IHsgZ2V0T3V0cHV0U3RyYXRlZ3kgfSBmcm9tICcuL291dHB1dC1zdHJhdGVneSc7XG5pbXBvcnQgeyBwYXJzZUFuZFZhbGlkYXRlT2JqZWN0UmVzdWx0V2l0aFJlcGFpciB9IGZyb20gJy4vcGFyc2UtYW5kLXZhbGlkYXRlLW9iamVjdC1yZXN1bHQnO1xuaW1wb3J0IHsgUmVwYWlyVGV4dEZ1bmN0aW9uIH0gZnJvbSAnLi9yZXBhaXItdGV4dCc7XG5pbXBvcnQgeyB2YWxpZGF0ZU9iamVjdEdlbmVyYXRpb25JbnB1dCB9IGZyb20gJy4vdmFsaWRhdGUtb2JqZWN0LWdlbmVyYXRpb24taW5wdXQnO1xuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gJy4uL3ZlcnNpb24nO1xuXG5jb25zdCBvcmlnaW5hbEdlbmVyYXRlSWQgPSBjcmVhdGVJZEdlbmVyYXRvcih7IHByZWZpeDogJ2Fpb2JqJywgc2l6ZTogMjQgfSk7XG5cbi8qKlxuR2VuZXJhdGUgYSBzdHJ1Y3R1cmVkLCB0eXBlZCBvYmplY3QgZm9yIGEgZ2l2ZW4gcHJvbXB0IGFuZCBzY2hlbWEgdXNpbmcgYSBsYW5ndWFnZSBtb2RlbC5cblxuVGhpcyBmdW5jdGlvbiBkb2VzIG5vdCBzdHJlYW0gdGhlIG91dHB1dC4gSWYgeW91IHdhbnQgdG8gc3RyZWFtIHRoZSBvdXRwdXQsIHVzZSBgc3RyZWFtT2JqZWN0YCBpbnN0ZWFkLlxuXG5AcGFyYW0gbW9kZWwgLSBUaGUgbGFuZ3VhZ2UgbW9kZWwgdG8gdXNlLlxuQHBhcmFtIHRvb2xzIC0gVG9vbHMgdGhhdCBhcmUgYWNjZXNzaWJsZSB0byBhbmQgY2FuIGJlIGNhbGxlZCBieSB0aGUgbW9kZWwuIFRoZSBtb2RlbCBuZWVkcyB0byBzdXBwb3J0IGNhbGxpbmcgdG9vbHMuXG5cbkBwYXJhbSBzeXN0ZW0gLSBBIHN5c3RlbSBtZXNzYWdlIHRoYXQgd2lsbCBiZSBwYXJ0IG9mIHRoZSBwcm9tcHQuXG5AcGFyYW0gcHJvbXB0IC0gQSBzaW1wbGUgdGV4dCBwcm9tcHQuIFlvdSBjYW4gZWl0aGVyIHVzZSBgcHJvbXB0YCBvciBgbWVzc2FnZXNgIGJ1dCBub3QgYm90aC5cbkBwYXJhbSBtZXNzYWdlcyAtIEEgbGlzdCBvZiBtZXNzYWdlcy4gWW91IGNhbiBlaXRoZXIgdXNlIGBwcm9tcHRgIG9yIGBtZXNzYWdlc2AgYnV0IG5vdCBib3RoLlxuXG5AcGFyYW0gbWF4T3V0cHV0VG9rZW5zIC0gTWF4aW11bSBudW1iZXIgb2YgdG9rZW5zIHRvIGdlbmVyYXRlLlxuQHBhcmFtIHRlbXBlcmF0dXJlIC0gVGVtcGVyYXR1cmUgc2V0dGluZy5cblRoZSB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXIuIFRoZSByYW5nZSBkZXBlbmRzIG9uIHRoZSBwcm92aWRlciBhbmQgbW9kZWwuXG5JdCBpcyByZWNvbW1lbmRlZCB0byBzZXQgZWl0aGVyIGB0ZW1wZXJhdHVyZWAgb3IgYHRvcFBgLCBidXQgbm90IGJvdGguXG5AcGFyYW0gdG9wUCAtIE51Y2xldXMgc2FtcGxpbmcuXG5UaGUgdmFsdWUgaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyLiBUaGUgcmFuZ2UgZGVwZW5kcyBvbiB0aGUgcHJvdmlkZXIgYW5kIG1vZGVsLlxuSXQgaXMgcmVjb21tZW5kZWQgdG8gc2V0IGVpdGhlciBgdGVtcGVyYXR1cmVgIG9yIGB0b3BQYCwgYnV0IG5vdCBib3RoLlxuQHBhcmFtIHRvcEsgLSBPbmx5IHNhbXBsZSBmcm9tIHRoZSB0b3AgSyBvcHRpb25zIGZvciBlYWNoIHN1YnNlcXVlbnQgdG9rZW4uXG5Vc2VkIHRvIHJlbW92ZSBcImxvbmcgdGFpbFwiIGxvdyBwcm9iYWJpbGl0eSByZXNwb25zZXMuXG5SZWNvbW1lbmRlZCBmb3IgYWR2YW5jZWQgdXNlIGNhc2VzIG9ubHkuIFlvdSB1c3VhbGx5IG9ubHkgbmVlZCB0byB1c2UgdGVtcGVyYXR1cmUuXG5AcGFyYW0gcHJlc2VuY2VQZW5hbHR5IC0gUHJlc2VuY2UgcGVuYWx0eSBzZXR0aW5nLlxuSXQgYWZmZWN0cyB0aGUgbGlrZWxpaG9vZCBvZiB0aGUgbW9kZWwgdG8gcmVwZWF0IGluZm9ybWF0aW9uIHRoYXQgaXMgYWxyZWFkeSBpbiB0aGUgcHJvbXB0LlxuVGhlIHZhbHVlIGlzIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlci4gVGhlIHJhbmdlIGRlcGVuZHMgb24gdGhlIHByb3ZpZGVyIGFuZCBtb2RlbC5cbkBwYXJhbSBmcmVxdWVuY3lQZW5hbHR5IC0gRnJlcXVlbmN5IHBlbmFsdHkgc2V0dGluZy5cbkl0IGFmZmVjdHMgdGhlIGxpa2VsaWhvb2Qgb2YgdGhlIG1vZGVsIHRvIHJlcGVhdGVkbHkgdXNlIHRoZSBzYW1lIHdvcmRzIG9yIHBocmFzZXMuXG5UaGUgdmFsdWUgaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyLiBUaGUgcmFuZ2UgZGVwZW5kcyBvbiB0aGUgcHJvdmlkZXIgYW5kIG1vZGVsLlxuQHBhcmFtIHN0b3BTZXF1ZW5jZXMgLSBTdG9wIHNlcXVlbmNlcy5cbklmIHNldCwgdGhlIG1vZGVsIHdpbGwgc3RvcCBnZW5lcmF0aW5nIHRleHQgd2hlbiBvbmUgb2YgdGhlIHN0b3Agc2VxdWVuY2VzIGlzIGdlbmVyYXRlZC5cbkBwYXJhbSBzZWVkIC0gVGhlIHNlZWQgKGludGVnZXIpIHRvIHVzZSBmb3IgcmFuZG9tIHNhbXBsaW5nLlxuSWYgc2V0IGFuZCBzdXBwb3J0ZWQgYnkgdGhlIG1vZGVsLCBjYWxscyB3aWxsIGdlbmVyYXRlIGRldGVybWluaXN0aWMgcmVzdWx0cy5cblxuQHBhcmFtIG1heFJldHJpZXMgLSBNYXhpbXVtIG51bWJlciBvZiByZXRyaWVzLiBTZXQgdG8gMCB0byBkaXNhYmxlIHJldHJpZXMuIERlZmF1bHQ6IDIuXG5AcGFyYW0gYWJvcnRTaWduYWwgLSBBbiBvcHRpb25hbCBhYm9ydCBzaWduYWwgdGhhdCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIGNhbGwuXG5AcGFyYW0gaGVhZGVycyAtIEFkZGl0aW9uYWwgSFRUUCBoZWFkZXJzIHRvIGJlIHNlbnQgd2l0aCB0aGUgcmVxdWVzdC4gT25seSBhcHBsaWNhYmxlIGZvciBIVFRQLWJhc2VkIHByb3ZpZGVycy5cblxuQHBhcmFtIHNjaGVtYSAtIFRoZSBzY2hlbWEgb2YgdGhlIG9iamVjdCB0aGF0IHRoZSBtb2RlbCBzaG91bGQgZ2VuZXJhdGUuXG5AcGFyYW0gc2NoZW1hTmFtZSAtIE9wdGlvbmFsIG5hbWUgb2YgdGhlIG91dHB1dCB0aGF0IHNob3VsZCBiZSBnZW5lcmF0ZWQuXG5Vc2VkIGJ5IHNvbWUgcHJvdmlkZXJzIGZvciBhZGRpdGlvbmFsIExMTSBndWlkYW5jZSwgZS5nLlxudmlhIHRvb2wgb3Igc2NoZW1hIG5hbWUuXG5AcGFyYW0gc2NoZW1hRGVzY3JpcHRpb24gLSBPcHRpb25hbCBkZXNjcmlwdGlvbiBvZiB0aGUgb3V0cHV0IHRoYXQgc2hvdWxkIGJlIGdlbmVyYXRlZC5cblVzZWQgYnkgc29tZSBwcm92aWRlcnMgZm9yIGFkZGl0aW9uYWwgTExNIGd1aWRhbmNlLCBlLmcuXG52aWEgdG9vbCBvciBzY2hlbWEgZGVzY3JpcHRpb24uXG5cbkBwYXJhbSBvdXRwdXQgLSBUaGUgdHlwZSBvZiB0aGUgb3V0cHV0LlxuXG4tICdvYmplY3QnOiBUaGUgb3V0cHV0IGlzIGFuIG9iamVjdC5cbi0gJ2FycmF5JzogVGhlIG91dHB1dCBpcyBhbiBhcnJheS5cbi0gJ2VudW0nOiBUaGUgb3V0cHV0IGlzIGFuIGVudW0uXG4tICduby1zY2hlbWEnOiBUaGUgb3V0cHV0IGlzIG5vdCBhIHNjaGVtYS5cblxuQHBhcmFtIGV4cGVyaW1lbnRhbF9yZXBhaXJUZXh0IC0gQSBmdW5jdGlvbiB0aGF0IGF0dGVtcHRzIHRvIHJlcGFpciB0aGUgcmF3IG91dHB1dCBvZiB0aGUgbW9kZWxcbnRvIGVuYWJsZSBKU09OIHBhcnNpbmcuXG5cbkBwYXJhbSBleHBlcmltZW50YWxfdGVsZW1ldHJ5IC0gT3B0aW9uYWwgdGVsZW1ldHJ5IGNvbmZpZ3VyYXRpb24gKGV4cGVyaW1lbnRhbCkuXG5cbkBwYXJhbSBwcm92aWRlck9wdGlvbnMgLSBBZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG9wdGlvbnMuIFRoZXkgYXJlIHBhc3NlZCB0aHJvdWdoXG50byB0aGUgcHJvdmlkZXIgZnJvbSB0aGUgQUkgU0RLIGFuZCBlbmFibGUgcHJvdmlkZXItc3BlY2lmaWNcbmZ1bmN0aW9uYWxpdHkgdGhhdCBjYW4gYmUgZnVsbHkgZW5jYXBzdWxhdGVkIGluIHRoZSBwcm92aWRlci5cblxuQHJldHVybnNcbkEgcmVzdWx0IG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBnZW5lcmF0ZWQgb2JqZWN0LCB0aGUgZmluaXNoIHJlYXNvbiwgdGhlIHRva2VuIHVzYWdlLCBhbmQgYWRkaXRpb25hbCBpbmZvcm1hdGlvbi5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlT2JqZWN0PFxuICBTQ0hFTUEgZXh0ZW5kc1xuICAgIHwgejMuU2NoZW1hXG4gICAgfCB6NC5jb3JlLiRab2RUeXBlXG4gICAgfCBTY2hlbWEgPSB6NC5jb3JlLiRab2RUeXBlPEpTT05WYWx1ZT4sXG4gIE9VVFBVVCBleHRlbmRzXG4gICAgfCAnb2JqZWN0J1xuICAgIHwgJ2FycmF5J1xuICAgIHwgJ2VudW0nXG4gICAgfCAnbm8tc2NoZW1hJyA9IEluZmVyU2NoZW1hPFNDSEVNQT4gZXh0ZW5kcyBzdHJpbmcgPyAnZW51bScgOiAnb2JqZWN0JyxcbiAgUkVTVUxUID0gT1VUUFVUIGV4dGVuZHMgJ2FycmF5J1xuICAgID8gQXJyYXk8SW5mZXJTY2hlbWE8U0NIRU1BPj5cbiAgICA6IEluZmVyU2NoZW1hPFNDSEVNQT4sXG4+KFxuICBvcHRpb25zOiBPbWl0PENhbGxTZXR0aW5ncywgJ3N0b3BTZXF1ZW5jZXMnPiAmXG4gICAgUHJvbXB0ICZcbiAgICAoT1VUUFVUIGV4dGVuZHMgJ2VudW0nXG4gICAgICA/IHtcbiAgICAgICAgICAvKipcblRoZSBlbnVtIHZhbHVlcyB0aGF0IHRoZSBtb2RlbCBzaG91bGQgdXNlLlxuICAgICAgICAqL1xuICAgICAgICAgIGVudW06IEFycmF5PFJFU1VMVD47XG4gICAgICAgICAgbW9kZT86ICdqc29uJztcbiAgICAgICAgICBvdXRwdXQ6ICdlbnVtJztcbiAgICAgICAgfVxuICAgICAgOiBPVVRQVVQgZXh0ZW5kcyAnbm8tc2NoZW1hJ1xuICAgICAgICA/IHt9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgLyoqXG5UaGUgc2NoZW1hIG9mIHRoZSBvYmplY3QgdGhhdCB0aGUgbW9kZWwgc2hvdWxkIGdlbmVyYXRlLlxuICAgICAgICAqL1xuICAgICAgICAgICAgc2NoZW1hOiBTQ0hFTUE7XG5cbiAgICAgICAgICAgIC8qKlxuT3B0aW9uYWwgbmFtZSBvZiB0aGUgb3V0cHV0IHRoYXQgc2hvdWxkIGJlIGdlbmVyYXRlZC5cblVzZWQgYnkgc29tZSBwcm92aWRlcnMgZm9yIGFkZGl0aW9uYWwgTExNIGd1aWRhbmNlLCBlLmcuXG52aWEgdG9vbCBvciBzY2hlbWEgbmFtZS5cbiAgICAgICAgKi9cbiAgICAgICAgICAgIHNjaGVtYU5hbWU/OiBzdHJpbmc7XG5cbiAgICAgICAgICAgIC8qKlxuT3B0aW9uYWwgZGVzY3JpcHRpb24gb2YgdGhlIG91dHB1dCB0aGF0IHNob3VsZCBiZSBnZW5lcmF0ZWQuXG5Vc2VkIGJ5IHNvbWUgcHJvdmlkZXJzIGZvciBhZGRpdGlvbmFsIExMTSBndWlkYW5jZSwgZS5nLlxudmlhIHRvb2wgb3Igc2NoZW1hIGRlc2NyaXB0aW9uLlxuICAgICAgICAqL1xuICAgICAgICAgICAgc2NoZW1hRGVzY3JpcHRpb24/OiBzdHJpbmc7XG5cbiAgICAgICAgICAgIC8qKlxuVGhlIG1vZGUgdG8gdXNlIGZvciBvYmplY3QgZ2VuZXJhdGlvbi5cblxuVGhlIHNjaGVtYSBpcyBjb252ZXJ0ZWQgaW50byBhIEpTT04gc2NoZW1hIGFuZCB1c2VkIGluIG9uZSBvZiB0aGUgZm9sbG93aW5nIHdheXNcblxuLSAnYXV0byc6IFRoZSBwcm92aWRlciB3aWxsIGNob29zZSB0aGUgYmVzdCBtb2RlIGZvciB0aGUgbW9kZWwuXG4tICd0b29sJzogQSB0b29sIHdpdGggdGhlIEpTT04gc2NoZW1hIGFzIHBhcmFtZXRlcnMgaXMgcHJvdmlkZWQgYW5kIHRoZSBwcm92aWRlciBpcyBpbnN0cnVjdGVkIHRvIHVzZSBpdC5cbi0gJ2pzb24nOiBUaGUgSlNPTiBzY2hlbWEgYW5kIGFuIGluc3RydWN0aW9uIGFyZSBpbmplY3RlZCBpbnRvIHRoZSBwcm9tcHQuIElmIHRoZSBwcm92aWRlciBzdXBwb3J0cyBKU09OIG1vZGUsIGl0IGlzIGVuYWJsZWQuIElmIHRoZSBwcm92aWRlciBzdXBwb3J0cyBKU09OIGdyYW1tYXJzLCB0aGUgZ3JhbW1hciBpcyB1c2VkLlxuXG5QbGVhc2Ugbm90ZSB0aGF0IG1vc3QgcHJvdmlkZXJzIGRvIG5vdCBzdXBwb3J0IGFsbCBtb2Rlcy5cblxuRGVmYXVsdCBhbmQgcmVjb21tZW5kZWQ6ICdhdXRvJyAoYmVzdCBtb2RlIGZvciB0aGUgbW9kZWwpLlxuICAgICAgICAqL1xuICAgICAgICAgICAgbW9kZT86ICdhdXRvJyB8ICdqc29uJyB8ICd0b29sJztcbiAgICAgICAgICB9KSAmIHtcbiAgICAgIG91dHB1dD86IE9VVFBVVDtcblxuICAgICAgLyoqXG4gIFRoZSBsYW5ndWFnZSBtb2RlbCB0byB1c2UuXG4gICAgICAgKi9cbiAgICAgIG1vZGVsOiBMYW5ndWFnZU1vZGVsO1xuICAgICAgLyoqXG4gIEEgZnVuY3Rpb24gdGhhdCBhdHRlbXB0cyB0byByZXBhaXIgdGhlIHJhdyBvdXRwdXQgb2YgdGhlIG1vZGVsXG4gIHRvIGVuYWJsZSBKU09OIHBhcnNpbmcuXG4gICAgICAgKi9cbiAgICAgIGV4cGVyaW1lbnRhbF9yZXBhaXJUZXh0PzogUmVwYWlyVGV4dEZ1bmN0aW9uO1xuXG4gICAgICAvKipcbiAgT3B0aW9uYWwgdGVsZW1ldHJ5IGNvbmZpZ3VyYXRpb24gKGV4cGVyaW1lbnRhbCkuXG4gICAgICAgICAqL1xuXG4gICAgICBleHBlcmltZW50YWxfdGVsZW1ldHJ5PzogVGVsZW1ldHJ5U2V0dGluZ3M7XG5cbiAgICAgIC8qKlxuICBDdXN0b20gZG93bmxvYWQgZnVuY3Rpb24gdG8gdXNlIGZvciBVUkxzLlxuXG4gIEJ5IGRlZmF1bHQsIGZpbGVzIGFyZSBkb3dubG9hZGVkIGlmIHRoZSBtb2RlbCBkb2VzIG5vdCBzdXBwb3J0IHRoZSBVUkwgZm9yIHRoZSBnaXZlbiBtZWRpYSB0eXBlLlxuICAgICAgICovXG4gICAgICBleHBlcmltZW50YWxfZG93bmxvYWQ/OiBEb3dubG9hZEZ1bmN0aW9uIHwgdW5kZWZpbmVkO1xuXG4gICAgICAvKipcbiAgQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBvcHRpb25zLiBUaGV5IGFyZSBwYXNzZWQgdGhyb3VnaFxuICB0byB0aGUgcHJvdmlkZXIgZnJvbSB0aGUgQUkgU0RLIGFuZCBlbmFibGUgcHJvdmlkZXItc3BlY2lmaWNcbiAgZnVuY3Rpb25hbGl0eSB0aGF0IGNhbiBiZSBmdWxseSBlbmNhcHN1bGF0ZWQgaW4gdGhlIHByb3ZpZGVyLlxuICAgKi9cbiAgICAgIHByb3ZpZGVyT3B0aW9ucz86IFByb3ZpZGVyT3B0aW9ucztcblxuICAgICAgLyoqXG4gICAgICAgKiBJbnRlcm5hbC4gRm9yIHRlc3QgdXNlIG9ubHkuIE1heSBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gICAgICAgKi9cbiAgICAgIF9pbnRlcm5hbD86IHtcbiAgICAgICAgZ2VuZXJhdGVJZD86ICgpID0+IHN0cmluZztcbiAgICAgICAgY3VycmVudERhdGU/OiAoKSA9PiBEYXRlO1xuICAgICAgfTtcbiAgICB9LFxuKTogUHJvbWlzZTxHZW5lcmF0ZU9iamVjdFJlc3VsdDxSRVNVTFQ+PiB7XG4gIGNvbnN0IHtcbiAgICBtb2RlbDogbW9kZWxBcmcsXG4gICAgb3V0cHV0ID0gJ29iamVjdCcsXG4gICAgc3lzdGVtLFxuICAgIHByb21wdCxcbiAgICBtZXNzYWdlcyxcbiAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICAgIGFib3J0U2lnbmFsLFxuICAgIGhlYWRlcnMsXG4gICAgZXhwZXJpbWVudGFsX3JlcGFpclRleHQ6IHJlcGFpclRleHQsXG4gICAgZXhwZXJpbWVudGFsX3RlbGVtZXRyeTogdGVsZW1ldHJ5LFxuICAgIGV4cGVyaW1lbnRhbF9kb3dubG9hZDogZG93bmxvYWQsXG4gICAgcHJvdmlkZXJPcHRpb25zLFxuICAgIF9pbnRlcm5hbDoge1xuICAgICAgZ2VuZXJhdGVJZCA9IG9yaWdpbmFsR2VuZXJhdGVJZCxcbiAgICAgIGN1cnJlbnREYXRlID0gKCkgPT4gbmV3IERhdGUoKSxcbiAgICB9ID0ge30sXG4gICAgLi4uc2V0dGluZ3NcbiAgfSA9IG9wdGlvbnM7XG5cbiAgY29uc3QgbW9kZWwgPSByZXNvbHZlTGFuZ3VhZ2VNb2RlbChtb2RlbEFyZyk7XG5cbiAgY29uc3QgZW51bVZhbHVlcyA9ICdlbnVtJyBpbiBvcHRpb25zID8gb3B0aW9ucy5lbnVtIDogdW5kZWZpbmVkO1xuICBjb25zdCB7XG4gICAgc2NoZW1hOiBpbnB1dFNjaGVtYSxcbiAgICBzY2hlbWFEZXNjcmlwdGlvbixcbiAgICBzY2hlbWFOYW1lLFxuICB9ID0gJ3NjaGVtYScgaW4gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcblxuICB2YWxpZGF0ZU9iamVjdEdlbmVyYXRpb25JbnB1dCh7XG4gICAgb3V0cHV0LFxuICAgIHNjaGVtYTogaW5wdXRTY2hlbWEsXG4gICAgc2NoZW1hTmFtZSxcbiAgICBzY2hlbWFEZXNjcmlwdGlvbixcbiAgICBlbnVtVmFsdWVzLFxuICB9KTtcblxuICBjb25zdCB7IG1heFJldHJpZXMsIHJldHJ5IH0gPSBwcmVwYXJlUmV0cmllcyh7XG4gICAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgICBhYm9ydFNpZ25hbCxcbiAgfSk7XG5cbiAgY29uc3Qgb3V0cHV0U3RyYXRlZ3kgPSBnZXRPdXRwdXRTdHJhdGVneSh7XG4gICAgb3V0cHV0LFxuICAgIHNjaGVtYTogaW5wdXRTY2hlbWEsXG4gICAgZW51bVZhbHVlcyxcbiAgfSk7XG5cbiAgY29uc3QgY2FsbFNldHRpbmdzID0gcHJlcGFyZUNhbGxTZXR0aW5ncyhzZXR0aW5ncyk7XG5cbiAgY29uc3QgaGVhZGVyc1dpdGhVc2VyQWdlbnQgPSB3aXRoVXNlckFnZW50U3VmZml4KFxuICAgIGhlYWRlcnMgPz8ge30sXG4gICAgYGFpLyR7VkVSU0lPTn1gLFxuICApO1xuXG4gIGNvbnN0IGJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzID0gZ2V0QmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgIG1vZGVsLFxuICAgIHRlbGVtZXRyeSxcbiAgICBoZWFkZXJzOiBoZWFkZXJzV2l0aFVzZXJBZ2VudCxcbiAgICBzZXR0aW5nczogeyAuLi5jYWxsU2V0dGluZ3MsIG1heFJldHJpZXMgfSxcbiAgfSk7XG5cbiAgY29uc3QgdHJhY2VyID0gZ2V0VHJhY2VyKHRlbGVtZXRyeSk7XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgcmVjb3JkU3Bhbih7XG4gICAgICBuYW1lOiAnYWkuZ2VuZXJhdGVPYmplY3QnLFxuICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICBvcGVyYXRpb25JZDogJ2FpLmdlbmVyYXRlT2JqZWN0JyxcbiAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgICAvLyBzcGVjaWZpYyBzZXR0aW5ncyB0aGF0IG9ubHkgbWFrZSBzZW5zZSBvbiB0aGUgb3V0ZXIgbGV2ZWw6XG4gICAgICAgICAgJ2FpLnByb21wdCc6IHtcbiAgICAgICAgICAgIGlucHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeSh7IHN5c3RlbSwgcHJvbXB0LCBtZXNzYWdlcyB9KSxcbiAgICAgICAgICB9LFxuICAgICAgICAgICdhaS5zY2hlbWEnOlxuICAgICAgICAgICAgb3V0cHV0U3RyYXRlZ3kuanNvblNjaGVtYSAhPSBudWxsXG4gICAgICAgICAgICAgID8geyBpbnB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkob3V0cHV0U3RyYXRlZ3kuanNvblNjaGVtYSkgfVxuICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAnYWkuc2NoZW1hLm5hbWUnOiBzY2hlbWFOYW1lLFxuICAgICAgICAgICdhaS5zY2hlbWEuZGVzY3JpcHRpb24nOiBzY2hlbWFEZXNjcmlwdGlvbixcbiAgICAgICAgICAnYWkuc2V0dGluZ3Mub3V0cHV0Jzogb3V0cHV0U3RyYXRlZ3kudHlwZSxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICAgdHJhY2VyLFxuICAgICAgZm46IGFzeW5jIHNwYW4gPT4ge1xuICAgICAgICBsZXQgcmVzdWx0OiBzdHJpbmc7XG4gICAgICAgIGxldCBmaW5pc2hSZWFzb246IEZpbmlzaFJlYXNvbjtcbiAgICAgICAgbGV0IHVzYWdlOiBMYW5ndWFnZU1vZGVsVXNhZ2U7XG4gICAgICAgIGxldCB3YXJuaW5nczogQ2FsbFdhcm5pbmdbXSB8IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IHJlc3BvbnNlOiBMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YTtcbiAgICAgICAgbGV0IHJlcXVlc3Q6IExhbmd1YWdlTW9kZWxSZXF1ZXN0TWV0YWRhdGE7XG4gICAgICAgIGxldCByZXN1bHRQcm92aWRlck1ldGFkYXRhOiBQcm92aWRlck1ldGFkYXRhIHwgdW5kZWZpbmVkO1xuICAgICAgICBsZXQgcmVhc29uaW5nOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgY29uc3Qgc3RhbmRhcmRpemVkUHJvbXB0ID0gYXdhaXQgc3RhbmRhcmRpemVQcm9tcHQoe1xuICAgICAgICAgIHN5c3RlbSxcbiAgICAgICAgICBwcm9tcHQsXG4gICAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgIH0gYXMgUHJvbXB0KTtcblxuICAgICAgICBjb25zdCBwcm9tcHRNZXNzYWdlcyA9IGF3YWl0IGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxQcm9tcHQoe1xuICAgICAgICAgIHByb21wdDogc3RhbmRhcmRpemVkUHJvbXB0LFxuICAgICAgICAgIHN1cHBvcnRlZFVybHM6IGF3YWl0IG1vZGVsLnN1cHBvcnRlZFVybHMsXG4gICAgICAgICAgZG93bmxvYWQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGdlbmVyYXRlUmVzdWx0ID0gYXdhaXQgcmV0cnkoKCkgPT5cbiAgICAgICAgICByZWNvcmRTcGFuKHtcbiAgICAgICAgICAgIG5hbWU6ICdhaS5nZW5lcmF0ZU9iamVjdC5kb0dlbmVyYXRlJyxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uSWQ6ICdhaS5nZW5lcmF0ZU9iamVjdC5kb0dlbmVyYXRlJyxcbiAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAnYWkucHJvbXB0Lm1lc3NhZ2VzJzoge1xuICAgICAgICAgICAgICAgICAgaW5wdXQ6ICgpID0+IHN0cmluZ2lmeUZvclRlbGVtZXRyeShwcm9tcHRNZXNzYWdlcyksXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIC8vIHN0YW5kYXJkaXplZCBnZW4tYWkgbGxtIHNwYW4gYXR0cmlidXRlczpcbiAgICAgICAgICAgICAgICAnZ2VuX2FpLnN5c3RlbSc6IG1vZGVsLnByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC5tb2RlbCc6IG1vZGVsLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LmZyZXF1ZW5jeV9wZW5hbHR5JzpcbiAgICAgICAgICAgICAgICAgIGNhbGxTZXR0aW5ncy5mcmVxdWVuY3lQZW5hbHR5LFxuICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC5tYXhfdG9rZW5zJzogY2FsbFNldHRpbmdzLm1heE91dHB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QucHJlc2VuY2VfcGVuYWx0eSc6IGNhbGxTZXR0aW5ncy5wcmVzZW5jZVBlbmFsdHksXG4gICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnRlbXBlcmF0dXJlJzogY2FsbFNldHRpbmdzLnRlbXBlcmF0dXJlLFxuICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC50b3Bfayc6IGNhbGxTZXR0aW5ncy50b3BLLFxuICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC50b3BfcCc6IGNhbGxTZXR0aW5ncy50b3BQLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0cmFjZXIsXG4gICAgICAgICAgICBmbjogYXN5bmMgc3BhbiA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG1vZGVsLmRvR2VuZXJhdGUoe1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlRm9ybWF0OiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICBzY2hlbWE6IG91dHB1dFN0cmF0ZWd5Lmpzb25TY2hlbWEsXG4gICAgICAgICAgICAgICAgICBuYW1lOiBzY2hlbWFOYW1lLFxuICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHNjaGVtYURlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLi4ucHJlcGFyZUNhbGxTZXR0aW5ncyhzZXR0aW5ncyksXG4gICAgICAgICAgICAgICAgcHJvbXB0OiBwcm9tcHRNZXNzYWdlcyxcbiAgICAgICAgICAgICAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVyc1dpdGhVc2VyQWdlbnQsXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVzdWx0LnJlc3BvbnNlPy5pZCA/PyBnZW5lcmF0ZUlkKCksXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiByZXN1bHQucmVzcG9uc2U/LnRpbWVzdGFtcCA/PyBjdXJyZW50RGF0ZSgpLFxuICAgICAgICAgICAgICAgIG1vZGVsSWQ6IHJlc3VsdC5yZXNwb25zZT8ubW9kZWxJZCA/PyBtb2RlbC5tb2RlbElkLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJlc3VsdC5yZXNwb25zZT8uaGVhZGVycyxcbiAgICAgICAgICAgICAgICBib2R5OiByZXN1bHQucmVzcG9uc2U/LmJvZHksXG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGV4dHJhY3RUZXh0Q29udGVudChyZXN1bHQuY29udGVudCk7XG4gICAgICAgICAgICAgIGNvbnN0IHJlYXNvbmluZyA9IGV4dHJhY3RSZWFzb25pbmdDb250ZW50KHJlc3VsdC5jb250ZW50KTtcblxuICAgICAgICAgICAgICBpZiAodGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vT2JqZWN0R2VuZXJhdGVkRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAgICAgICAgICAgJ05vIG9iamVjdCBnZW5lcmF0ZWQ6IHRoZSBtb2RlbCBkaWQgbm90IHJldHVybiBhIHJlc3BvbnNlLicsXG4gICAgICAgICAgICAgICAgICByZXNwb25zZTogcmVzcG9uc2VEYXRhLFxuICAgICAgICAgICAgICAgICAgdXNhZ2U6IHJlc3VsdC51c2FnZSxcbiAgICAgICAgICAgICAgICAgIGZpbmlzaFJlYXNvbjogcmVzdWx0LmZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIEFkZCByZXNwb25zZSBpbmZvcm1hdGlvbiB0byB0aGUgc3BhbjpcbiAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UuZmluaXNoUmVhc29uJzogcmVzdWx0LmZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLm9iamVjdCc6IHsgb3V0cHV0OiAoKSA9PiB0ZXh0IH0sXG4gICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5pZCc6IHJlc3BvbnNlRGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLm1vZGVsJzogcmVzcG9uc2VEYXRhLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS50aW1lc3RhbXAnOlxuICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS50aW1lc3RhbXAudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnByb3ZpZGVyTWV0YWRhdGEnOiBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgKSxcblxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIHJlbmFtZSB0ZWxlbWV0cnkgYXR0cmlidXRlcyB0byBpbnB1dFRva2VucyBhbmQgb3V0cHV0VG9rZW5zXG4gICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS5wcm9tcHRUb2tlbnMnOiByZXN1bHQudXNhZ2UuaW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS5jb21wbGV0aW9uVG9rZW5zJzogcmVzdWx0LnVzYWdlLm91dHB1dFRva2VucyxcblxuICAgICAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZGl6ZWQgZ2VuLWFpIGxsbSBzcGFuIGF0dHJpYnV0ZXM6XG4gICAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVzcG9uc2UuZmluaXNoX3JlYXNvbnMnOiBbcmVzdWx0LmZpbmlzaFJlYXNvbl0sXG4gICAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVzcG9uc2UuaWQnOiByZXNwb25zZURhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVzcG9uc2UubW9kZWwnOiByZXNwb25zZURhdGEubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS51c2FnZS5pbnB1dF90b2tlbnMnOiByZXN1bHQudXNhZ2UuaW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICdnZW5fYWkudXNhZ2Uub3V0cHV0X3Rva2Vucyc6IHJlc3VsdC51c2FnZS5vdXRwdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4ucmVzdWx0LFxuICAgICAgICAgICAgICAgIG9iamVjdFRleHQ6IHRleHQsXG4gICAgICAgICAgICAgICAgcmVhc29uaW5nLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgICk7XG5cbiAgICAgICAgcmVzdWx0ID0gZ2VuZXJhdGVSZXN1bHQub2JqZWN0VGV4dDtcbiAgICAgICAgZmluaXNoUmVhc29uID0gZ2VuZXJhdGVSZXN1bHQuZmluaXNoUmVhc29uO1xuICAgICAgICB1c2FnZSA9IGdlbmVyYXRlUmVzdWx0LnVzYWdlO1xuICAgICAgICB3YXJuaW5ncyA9IGdlbmVyYXRlUmVzdWx0Lndhcm5pbmdzO1xuICAgICAgICByZXN1bHRQcm92aWRlck1ldGFkYXRhID0gZ2VuZXJhdGVSZXN1bHQucHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgICAgcmVxdWVzdCA9IGdlbmVyYXRlUmVzdWx0LnJlcXVlc3QgPz8ge307XG4gICAgICAgIHJlc3BvbnNlID0gZ2VuZXJhdGVSZXN1bHQucmVzcG9uc2VEYXRhO1xuICAgICAgICByZWFzb25pbmcgPSBnZW5lcmF0ZVJlc3VsdC5yZWFzb25pbmc7XG5cbiAgICAgICAgbG9nV2FybmluZ3Mod2FybmluZ3MpO1xuXG4gICAgICAgIGNvbnN0IG9iamVjdCA9IGF3YWl0IHBhcnNlQW5kVmFsaWRhdGVPYmplY3RSZXN1bHRXaXRoUmVwYWlyKFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICBvdXRwdXRTdHJhdGVneSxcbiAgICAgICAgICByZXBhaXJUZXh0LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgdXNhZ2UsXG4gICAgICAgICAgICBmaW5pc2hSZWFzb24sXG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBBZGQgcmVzcG9uc2UgaW5mb3JtYXRpb24gdG8gdGhlIHNwYW46XG4gICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLmZpbmlzaFJlYXNvbic6IGZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLm9iamVjdCc6IHtcbiAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KG9iamVjdCksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICdhaS5yZXNwb25zZS5wcm92aWRlck1ldGFkYXRhJzogSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgcmVzdWx0UHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgKSxcblxuICAgICAgICAgICAgICAvLyBUT0RPIHJlbmFtZSB0ZWxlbWV0cnkgYXR0cmlidXRlcyB0byBpbnB1dFRva2VucyBhbmQgb3V0cHV0VG9rZW5zXG4gICAgICAgICAgICAgICdhaS51c2FnZS5wcm9tcHRUb2tlbnMnOiB1c2FnZS5pbnB1dFRva2VucyxcbiAgICAgICAgICAgICAgJ2FpLnVzYWdlLmNvbXBsZXRpb25Ub2tlbnMnOiB1c2FnZS5vdXRwdXRUb2tlbnMsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBuZXcgRGVmYXVsdEdlbmVyYXRlT2JqZWN0UmVzdWx0KHtcbiAgICAgICAgICBvYmplY3QsXG4gICAgICAgICAgcmVhc29uaW5nLFxuICAgICAgICAgIGZpbmlzaFJlYXNvbixcbiAgICAgICAgICB1c2FnZSxcbiAgICAgICAgICB3YXJuaW5ncyxcbiAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHJlc3VsdFByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyB3cmFwR2F0ZXdheUVycm9yKGVycm9yKTtcbiAgfVxufVxuXG5jbGFzcyBEZWZhdWx0R2VuZXJhdGVPYmplY3RSZXN1bHQ8VD4gaW1wbGVtZW50cyBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPiB7XG4gIHJlYWRvbmx5IG9iamVjdDogR2VuZXJhdGVPYmplY3RSZXN1bHQ8VD5bJ29iamVjdCddO1xuICByZWFkb25seSBmaW5pc2hSZWFzb246IEdlbmVyYXRlT2JqZWN0UmVzdWx0PFQ+WydmaW5pc2hSZWFzb24nXTtcbiAgcmVhZG9ubHkgdXNhZ2U6IEdlbmVyYXRlT2JqZWN0UmVzdWx0PFQ+Wyd1c2FnZSddO1xuICByZWFkb25seSB3YXJuaW5nczogR2VuZXJhdGVPYmplY3RSZXN1bHQ8VD5bJ3dhcm5pbmdzJ107XG4gIHJlYWRvbmx5IHByb3ZpZGVyTWV0YWRhdGE6IEdlbmVyYXRlT2JqZWN0UmVzdWx0PFQ+Wydwcm92aWRlck1ldGFkYXRhJ107XG4gIHJlYWRvbmx5IHJlc3BvbnNlOiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsncmVzcG9uc2UnXTtcbiAgcmVhZG9ubHkgcmVxdWVzdDogR2VuZXJhdGVPYmplY3RSZXN1bHQ8VD5bJ3JlcXVlc3QnXTtcbiAgcmVhZG9ubHkgcmVhc29uaW5nOiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsncmVhc29uaW5nJ107XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczoge1xuICAgIG9iamVjdDogR2VuZXJhdGVPYmplY3RSZXN1bHQ8VD5bJ29iamVjdCddO1xuICAgIGZpbmlzaFJlYXNvbjogR2VuZXJhdGVPYmplY3RSZXN1bHQ8VD5bJ2ZpbmlzaFJlYXNvbiddO1xuICAgIHVzYWdlOiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsndXNhZ2UnXTtcbiAgICB3YXJuaW5nczogR2VuZXJhdGVPYmplY3RSZXN1bHQ8VD5bJ3dhcm5pbmdzJ107XG4gICAgcHJvdmlkZXJNZXRhZGF0YTogR2VuZXJhdGVPYmplY3RSZXN1bHQ8VD5bJ3Byb3ZpZGVyTWV0YWRhdGEnXTtcbiAgICByZXNwb25zZTogR2VuZXJhdGVPYmplY3RSZXN1bHQ8VD5bJ3Jlc3BvbnNlJ107XG4gICAgcmVxdWVzdDogR2VuZXJhdGVPYmplY3RSZXN1bHQ8VD5bJ3JlcXVlc3QnXTtcbiAgICByZWFzb25pbmc6IEdlbmVyYXRlT2JqZWN0UmVzdWx0PFQ+WydyZWFzb25pbmcnXTtcbiAgfSkge1xuICAgIHRoaXMub2JqZWN0ID0gb3B0aW9ucy5vYmplY3Q7XG4gICAgdGhpcy5maW5pc2hSZWFzb24gPSBvcHRpb25zLmZpbmlzaFJlYXNvbjtcbiAgICB0aGlzLnVzYWdlID0gb3B0aW9ucy51c2FnZTtcbiAgICB0aGlzLndhcm5pbmdzID0gb3B0aW9ucy53YXJuaW5ncztcbiAgICB0aGlzLnByb3ZpZGVyTWV0YWRhdGEgPSBvcHRpb25zLnByb3ZpZGVyTWV0YWRhdGE7XG4gICAgdGhpcy5yZXNwb25zZSA9IG9wdGlvbnMucmVzcG9uc2U7XG4gICAgdGhpcy5yZXF1ZXN0ID0gb3B0aW9ucy5yZXF1ZXN0O1xuICAgIHRoaXMucmVhc29uaW5nID0gb3B0aW9ucy5yZWFzb25pbmc7XG4gIH1cblxuICB0b0pzb25SZXNwb25zZShpbml0PzogUmVzcG9uc2VJbml0KTogUmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5vYmplY3QpLCB7XG4gICAgICBzdGF0dXM6IGluaXQ/LnN0YXR1cyA/PyAyMDAsXG4gICAgICBoZWFkZXJzOiBwcmVwYXJlSGVhZGVycyhpbml0Py5oZWFkZXJzLCB7XG4gICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCcsXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfVxufVxuIiwgImltcG9ydCB7XG4gIExhbmd1YWdlTW9kZWxWMkNvbnRlbnQsXG4gIExhbmd1YWdlTW9kZWxWMlJlYXNvbmluZyxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0UmVhc29uaW5nQ29udGVudChcbiAgY29udGVudDogTGFuZ3VhZ2VNb2RlbFYyQ29udGVudFtdLFxuKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgY29uc3QgcGFydHMgPSBjb250ZW50LmZpbHRlcihcbiAgICAoY29udGVudCk6IGNvbnRlbnQgaXMgTGFuZ3VhZ2VNb2RlbFYyUmVhc29uaW5nID0+XG4gICAgICBjb250ZW50LnR5cGUgPT09ICdyZWFzb25pbmcnLFxuICApO1xuXG4gIHJldHVybiBwYXJ0cy5sZW5ndGggPT09IDBcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogcGFydHMubWFwKGNvbnRlbnQgPT4gY29udGVudC50ZXh0KS5qb2luKCdcXG4nKTtcbn1cbiIsICJpbXBvcnQge1xuICBpc0pTT05BcnJheSxcbiAgaXNKU09OT2JqZWN0LFxuICBKU09OT2JqZWN0LFxuICBKU09OU2NoZW1hNyxcbiAgSlNPTlZhbHVlLFxuICBUeXBlVmFsaWRhdGlvbkVycm9yLFxuICBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcixcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQge1xuICBhc1NjaGVtYSxcbiAgc2FmZVZhbGlkYXRlVHlwZXMsXG4gIFNjaGVtYSxcbiAgVmFsaWRhdGlvblJlc3VsdCxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgKiBhcyB6MyBmcm9tICd6b2QvdjMnO1xuaW1wb3J0ICogYXMgejQgZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7IE5vT2JqZWN0R2VuZXJhdGVkRXJyb3IgfSBmcm9tICcuLi9lcnJvci9uby1vYmplY3QtZ2VuZXJhdGVkLWVycm9yJztcbmltcG9ydCB7XG4gIEFzeW5jSXRlcmFibGVTdHJlYW0sXG4gIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0sXG59IGZyb20gJy4uL3V0aWwvYXN5bmMtaXRlcmFibGUtc3RyZWFtJztcbmltcG9ydCB7IERlZXBQYXJ0aWFsIH0gZnJvbSAnLi4vdXRpbC9kZWVwLXBhcnRpYWwnO1xuaW1wb3J0IHtcbiAgRmluaXNoUmVhc29uLFxuICBMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YSxcbiAgTGFuZ3VhZ2VNb2RlbFVzYWdlLFxufSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBPYmplY3RTdHJlYW1QYXJ0IH0gZnJvbSAnLi9zdHJlYW0tb2JqZWN0LXJlc3VsdCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3V0cHV0U3RyYXRlZ3k8UEFSVElBTCwgUkVTVUxULCBFTEVNRU5UX1NUUkVBTT4ge1xuICByZWFkb25seSB0eXBlOiAnb2JqZWN0JyB8ICdhcnJheScgfCAnZW51bScgfCAnbm8tc2NoZW1hJztcbiAgcmVhZG9ubHkganNvblNjaGVtYTogSlNPTlNjaGVtYTcgfCB1bmRlZmluZWQ7XG5cbiAgdmFsaWRhdGVQYXJ0aWFsUmVzdWx0KHtcbiAgICB2YWx1ZSxcbiAgICB0ZXh0RGVsdGEsXG4gICAgaXNGaW5hbERlbHRhLFxuICB9OiB7XG4gICAgdmFsdWU6IEpTT05WYWx1ZTtcbiAgICB0ZXh0RGVsdGE6IHN0cmluZztcbiAgICBpc0ZpcnN0RGVsdGE6IGJvb2xlYW47XG4gICAgaXNGaW5hbERlbHRhOiBib29sZWFuO1xuICAgIGxhdGVzdE9iamVjdDogUEFSVElBTCB8IHVuZGVmaW5lZDtcbiAgfSk6IFByb21pc2U8XG4gICAgVmFsaWRhdGlvblJlc3VsdDx7XG4gICAgICBwYXJ0aWFsOiBQQVJUSUFMO1xuICAgICAgdGV4dERlbHRhOiBzdHJpbmc7XG4gICAgfT5cbiAgPjtcbiAgdmFsaWRhdGVGaW5hbFJlc3VsdChcbiAgICB2YWx1ZTogSlNPTlZhbHVlIHwgdW5kZWZpbmVkLFxuICAgIGNvbnRleHQ6IHtcbiAgICAgIHRleHQ6IHN0cmluZztcbiAgICAgIHJlc3BvbnNlOiBMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YTtcbiAgICAgIHVzYWdlOiBMYW5ndWFnZU1vZGVsVXNhZ2U7XG4gICAgfSxcbiAgKTogUHJvbWlzZTxWYWxpZGF0aW9uUmVzdWx0PFJFU1VMVD4+O1xuXG4gIGNyZWF0ZUVsZW1lbnRTdHJlYW0oXG4gICAgb3JpZ2luYWxTdHJlYW06IFJlYWRhYmxlU3RyZWFtPE9iamVjdFN0cmVhbVBhcnQ8UEFSVElBTD4+LFxuICApOiBFTEVNRU5UX1NUUkVBTTtcbn1cblxuY29uc3Qgbm9TY2hlbWFPdXRwdXRTdHJhdGVneTogT3V0cHV0U3RyYXRlZ3k8SlNPTlZhbHVlLCBKU09OVmFsdWUsIG5ldmVyPiA9IHtcbiAgdHlwZTogJ25vLXNjaGVtYScsXG4gIGpzb25TY2hlbWE6IHVuZGVmaW5lZCxcblxuICBhc3luYyB2YWxpZGF0ZVBhcnRpYWxSZXN1bHQoeyB2YWx1ZSwgdGV4dERlbHRhIH0pIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCB2YWx1ZTogeyBwYXJ0aWFsOiB2YWx1ZSwgdGV4dERlbHRhIH0gfTtcbiAgfSxcblxuICBhc3luYyB2YWxpZGF0ZUZpbmFsUmVzdWx0KFxuICAgIHZhbHVlOiBKU09OVmFsdWUgfCB1bmRlZmluZWQsXG4gICAgY29udGV4dDoge1xuICAgICAgdGV4dDogc3RyaW5nO1xuICAgICAgcmVzcG9uc2U6IExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhO1xuICAgICAgdXNhZ2U6IExhbmd1YWdlTW9kZWxVc2FnZTtcbiAgICAgIGZpbmlzaFJlYXNvbjogRmluaXNoUmVhc29uO1xuICAgIH0sXG4gICk6IFByb21pc2U8VmFsaWRhdGlvblJlc3VsdDxKU09OVmFsdWU+PiB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgID8ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBuZXcgTm9PYmplY3RHZW5lcmF0ZWRFcnJvcih7XG4gICAgICAgICAgICBtZXNzYWdlOiAnTm8gb2JqZWN0IGdlbmVyYXRlZDogcmVzcG9uc2UgZGlkIG5vdCBtYXRjaCBzY2hlbWEuJyxcbiAgICAgICAgICAgIHRleHQ6IGNvbnRleHQudGV4dCxcbiAgICAgICAgICAgIHJlc3BvbnNlOiBjb250ZXh0LnJlc3BvbnNlLFxuICAgICAgICAgICAgdXNhZ2U6IGNvbnRleHQudXNhZ2UsXG4gICAgICAgICAgICBmaW5pc2hSZWFzb246IGNvbnRleHQuZmluaXNoUmVhc29uLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9XG4gICAgICA6IHsgc3VjY2VzczogdHJ1ZSwgdmFsdWUgfTtcbiAgfSxcblxuICBjcmVhdGVFbGVtZW50U3RyZWFtKCkge1xuICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcih7XG4gICAgICBmdW5jdGlvbmFsaXR5OiAnZWxlbWVudCBzdHJlYW1zIGluIG5vLXNjaGVtYSBtb2RlJyxcbiAgICB9KTtcbiAgfSxcbn07XG5cbmNvbnN0IG9iamVjdE91dHB1dFN0cmF0ZWd5ID0gPE9CSkVDVD4oXG4gIHNjaGVtYTogU2NoZW1hPE9CSkVDVD4sXG4pOiBPdXRwdXRTdHJhdGVneTxEZWVwUGFydGlhbDxPQkpFQ1Q+LCBPQkpFQ1QsIG5ldmVyPiA9PiAoe1xuICB0eXBlOiAnb2JqZWN0JyxcbiAganNvblNjaGVtYTogc2NoZW1hLmpzb25TY2hlbWEsXG5cbiAgYXN5bmMgdmFsaWRhdGVQYXJ0aWFsUmVzdWx0KHsgdmFsdWUsIHRleHREZWx0YSB9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICB2YWx1ZToge1xuICAgICAgICAvLyBOb3RlOiBjdXJyZW50bHkgbm8gdmFsaWRhdGlvbiBvZiBwYXJ0aWFsIHJlc3VsdHM6XG4gICAgICAgIHBhcnRpYWw6IHZhbHVlIGFzIERlZXBQYXJ0aWFsPE9CSkVDVD4sXG4gICAgICAgIHRleHREZWx0YSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfSxcblxuICBhc3luYyB2YWxpZGF0ZUZpbmFsUmVzdWx0KFxuICAgIHZhbHVlOiBKU09OVmFsdWUgfCB1bmRlZmluZWQsXG4gICk6IFByb21pc2U8VmFsaWRhdGlvblJlc3VsdDxPQkpFQ1Q+PiB7XG4gICAgcmV0dXJuIHNhZmVWYWxpZGF0ZVR5cGVzKHsgdmFsdWUsIHNjaGVtYSB9KTtcbiAgfSxcblxuICBjcmVhdGVFbGVtZW50U3RyZWFtKCkge1xuICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcih7XG4gICAgICBmdW5jdGlvbmFsaXR5OiAnZWxlbWVudCBzdHJlYW1zIGluIG9iamVjdCBtb2RlJyxcbiAgICB9KTtcbiAgfSxcbn0pO1xuXG5jb25zdCBhcnJheU91dHB1dFN0cmF0ZWd5ID0gPEVMRU1FTlQ+KFxuICBzY2hlbWE6IFNjaGVtYTxFTEVNRU5UPixcbik6IE91dHB1dFN0cmF0ZWd5PEVMRU1FTlRbXSwgRUxFTUVOVFtdLCBBc3luY0l0ZXJhYmxlU3RyZWFtPEVMRU1FTlQ+PiA9PiB7XG4gIC8vIHJlbW92ZSAkc2NoZW1hIGZyb20gc2NoZW1hLmpzb25TY2hlbWE6XG4gIGNvbnN0IHsgJHNjaGVtYSwgLi4uaXRlbVNjaGVtYSB9ID0gc2NoZW1hLmpzb25TY2hlbWE7XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnZW51bScsXG5cbiAgICAvLyB3cmFwIGluIG9iamVjdCB0aGF0IGNvbnRhaW5zIGFycmF5IG9mIGVsZW1lbnRzLCBzaW5jZSBtb3N0IExMTXMgd2lsbCBub3RcbiAgICAvLyBiZSBhYmxlIHRvIGdlbmVyYXRlIGFuIGFycmF5IGRpcmVjdGx5OlxuICAgIC8vIHBvc3NpYmxlIGZ1dHVyZSBvcHRpbWl6YXRpb246IHVzZSBhcnJheXMgZGlyZWN0bHkgd2hlbiBtb2RlbCBzdXBwb3J0cyBncmFtbWFyLWd1aWRlZCBnZW5lcmF0aW9uXG4gICAganNvblNjaGVtYToge1xuICAgICAgJHNjaGVtYTogJ2h0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hIycsXG4gICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgZWxlbWVudHM6IHsgdHlwZTogJ2FycmF5JywgaXRlbXM6IGl0ZW1TY2hlbWEgfSxcbiAgICAgIH0sXG4gICAgICByZXF1aXJlZDogWydlbGVtZW50cyddLFxuICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuICAgIH0sXG5cbiAgICBhc3luYyB2YWxpZGF0ZVBhcnRpYWxSZXN1bHQoe1xuICAgICAgdmFsdWUsXG4gICAgICBsYXRlc3RPYmplY3QsXG4gICAgICBpc0ZpcnN0RGVsdGEsXG4gICAgICBpc0ZpbmFsRGVsdGEsXG4gICAgfSkge1xuICAgICAgLy8gY2hlY2sgdGhhdCB0aGUgdmFsdWUgaXMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYW4gYXJyYXkgb2YgZWxlbWVudHM6XG4gICAgICBpZiAoIWlzSlNPTk9iamVjdCh2YWx1ZSkgfHwgIWlzSlNPTkFycmF5KHZhbHVlLmVsZW1lbnRzKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBuZXcgVHlwZVZhbGlkYXRpb25FcnJvcih7XG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGNhdXNlOiAndmFsdWUgbXVzdCBiZSBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhbiBhcnJheSBvZiBlbGVtZW50cycsXG4gICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGlucHV0QXJyYXkgPSB2YWx1ZS5lbGVtZW50cyBhcyBBcnJheTxKU09OT2JqZWN0PjtcbiAgICAgIGNvbnN0IHJlc3VsdEFycmF5OiBBcnJheTxFTEVNRU5UPiA9IFtdO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0QXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGlucHV0QXJyYXlbaV07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNhZmVWYWxpZGF0ZVR5cGVzKHsgdmFsdWU6IGVsZW1lbnQsIHNjaGVtYSB9KTtcblxuICAgICAgICAvLyBzcGVjaWFsIHRyZWF0bWVudCBmb3IgbGFzdCBwcm9jZXNzZWQgZWxlbWVudDpcbiAgICAgICAgLy8gaWdub3JlIHBhcnNlIG9yIHZhbGlkYXRpb24gZmFpbHVyZXMsIHNpbmNlIHRoZXkgaW5kaWNhdGUgdGhhdCB0aGVcbiAgICAgICAgLy8gbGFzdCBlbGVtZW50IGlzIGluY29tcGxldGUgYW5kIHNob3VsZCBub3QgYmUgaW5jbHVkZWQgaW4gdGhlIHJlc3VsdCxcbiAgICAgICAgLy8gdW5sZXNzIGl0IGlzIHRoZSBmaW5hbCBkZWx0YVxuICAgICAgICBpZiAoaSA9PT0gaW5wdXRBcnJheS5sZW5ndGggLSAxICYmICFpc0ZpbmFsRGVsdGEpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0QXJyYXkucHVzaChyZXN1bHQudmFsdWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBjYWxjdWxhdGUgZGVsdGE6XG4gICAgICBjb25zdCBwdWJsaXNoZWRFbGVtZW50Q291bnQgPSBsYXRlc3RPYmplY3Q/Lmxlbmd0aCA/PyAwO1xuXG4gICAgICBsZXQgdGV4dERlbHRhID0gJyc7XG5cbiAgICAgIGlmIChpc0ZpcnN0RGVsdGEpIHtcbiAgICAgICAgdGV4dERlbHRhICs9ICdbJztcbiAgICAgIH1cblxuICAgICAgaWYgKHB1Ymxpc2hlZEVsZW1lbnRDb3VudCA+IDApIHtcbiAgICAgICAgdGV4dERlbHRhICs9ICcsJztcbiAgICAgIH1cblxuICAgICAgdGV4dERlbHRhICs9IHJlc3VsdEFycmF5XG4gICAgICAgIC5zbGljZShwdWJsaXNoZWRFbGVtZW50Q291bnQpIC8vIG9ubHkgbmV3IGVsZW1lbnRzXG4gICAgICAgIC5tYXAoZWxlbWVudCA9PiBKU09OLnN0cmluZ2lmeShlbGVtZW50KSlcbiAgICAgICAgLmpvaW4oJywnKTtcblxuICAgICAgaWYgKGlzRmluYWxEZWx0YSkge1xuICAgICAgICB0ZXh0RGVsdGEgKz0gJ10nO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHBhcnRpYWw6IHJlc3VsdEFycmF5LFxuICAgICAgICAgIHRleHREZWx0YSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIGFzeW5jIHZhbGlkYXRlRmluYWxSZXN1bHQoXG4gICAgICB2YWx1ZTogSlNPTlZhbHVlIHwgdW5kZWZpbmVkLFxuICAgICk6IFByb21pc2U8VmFsaWRhdGlvblJlc3VsdDxBcnJheTxFTEVNRU5UPj4+IHtcbiAgICAgIC8vIGNoZWNrIHRoYXQgdGhlIHZhbHVlIGlzIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGFuIGFycmF5IG9mIGVsZW1lbnRzOlxuICAgICAgaWYgKCFpc0pTT05PYmplY3QodmFsdWUpIHx8ICFpc0pTT05BcnJheSh2YWx1ZS5lbGVtZW50cykpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogbmV3IFR5cGVWYWxpZGF0aW9uRXJyb3Ioe1xuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBjYXVzZTogJ3ZhbHVlIG11c3QgYmUgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYW4gYXJyYXkgb2YgZWxlbWVudHMnLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBpbnB1dEFycmF5ID0gdmFsdWUuZWxlbWVudHMgYXMgQXJyYXk8SlNPTk9iamVjdD47XG5cbiAgICAgIC8vIGNoZWNrIHRoYXQgZWFjaCBlbGVtZW50IGluIHRoZSBhcnJheSBpcyBvZiB0aGUgY29ycmVjdCB0eXBlOlxuICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGlucHV0QXJyYXkpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2FmZVZhbGlkYXRlVHlwZXMoeyB2YWx1ZTogZWxlbWVudCwgc2NoZW1hIH0pO1xuICAgICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCB2YWx1ZTogaW5wdXRBcnJheSBhcyBBcnJheTxFTEVNRU5UPiB9O1xuICAgIH0sXG5cbiAgICBjcmVhdGVFbGVtZW50U3RyZWFtKFxuICAgICAgb3JpZ2luYWxTdHJlYW06IFJlYWRhYmxlU3RyZWFtPE9iamVjdFN0cmVhbVBhcnQ8RUxFTUVOVFtdPj4sXG4gICAgKSB7XG4gICAgICBsZXQgcHVibGlzaGVkRWxlbWVudHMgPSAwO1xuXG4gICAgICByZXR1cm4gY3JlYXRlQXN5bmNJdGVyYWJsZVN0cmVhbShcbiAgICAgICAgb3JpZ2luYWxTdHJlYW0ucGlwZVRocm91Z2goXG4gICAgICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbTxPYmplY3RTdHJlYW1QYXJ0PEVMRU1FTlRbXT4sIEVMRU1FTlQ+KHtcbiAgICAgICAgICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICAgICAgICBzd2l0Y2ggKGNodW5rLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdvYmplY3QnOiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBhcnJheSA9IGNodW5rLm9iamVjdDtcblxuICAgICAgICAgICAgICAgICAgLy8gcHVibGlzaCBuZXcgZWxlbWVudHMgb25lIGJ5IG9uZTpcbiAgICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgICAgcHVibGlzaGVkRWxlbWVudHMgPCBhcnJheS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHB1Ymxpc2hlZEVsZW1lbnRzKytcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoYXJyYXlbcHVibGlzaGVkRWxlbWVudHNdKTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY2FzZSAndGV4dC1kZWx0YSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnZmluaXNoJzpcbiAgICAgICAgICAgICAgICBjYXNlICdlcnJvcic6IC8vIHN1cHByZXNzIGVycm9yICh1c2Ugb25FcnJvciBpbnN0ZWFkKVxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrOiBuZXZlciA9IGNodW5rO1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBgVW5zdXBwb3J0ZWQgY2h1bmsgdHlwZTogJHtfZXhoYXVzdGl2ZUNoZWNrfWAsXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgfSxcbiAgfTtcbn07XG5cbmNvbnN0IGVudW1PdXRwdXRTdHJhdGVneSA9IDxFTlVNIGV4dGVuZHMgc3RyaW5nPihcbiAgZW51bVZhbHVlczogQXJyYXk8RU5VTT4sXG4pOiBPdXRwdXRTdHJhdGVneTxzdHJpbmcsIEVOVU0sIG5ldmVyPiA9PiB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ2VudW0nLFxuXG4gICAgLy8gd3JhcCBpbiBvYmplY3QgdGhhdCBjb250YWlucyByZXN1bHQsIHNpbmNlIG1vc3QgTExNcyB3aWxsIG5vdFxuICAgIC8vIGJlIGFibGUgdG8gZ2VuZXJhdGUgYW4gZW51bSB2YWx1ZSBkaXJlY3RseTpcbiAgICAvLyBwb3NzaWJsZSBmdXR1cmUgb3B0aW1pemF0aW9uOiB1c2UgZW51bXMgZGlyZWN0bHkgd2hlbiBtb2RlbCBzdXBwb3J0cyB0b3AtbGV2ZWwgZW51bXNcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAkc2NoZW1hOiAnaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNy9zY2hlbWEjJyxcbiAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgcHJvcGVydGllczoge1xuICAgICAgICByZXN1bHQ6IHsgdHlwZTogJ3N0cmluZycsIGVudW06IGVudW1WYWx1ZXMgfSxcbiAgICAgIH0sXG4gICAgICByZXF1aXJlZDogWydyZXN1bHQnXSxcbiAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgICB9LFxuXG4gICAgYXN5bmMgdmFsaWRhdGVGaW5hbFJlc3VsdChcbiAgICAgIHZhbHVlOiBKU09OVmFsdWUgfCB1bmRlZmluZWQsXG4gICAgKTogUHJvbWlzZTxWYWxpZGF0aW9uUmVzdWx0PEVOVU0+PiB7XG4gICAgICAvLyBjaGVjayB0aGF0IHRoZSB2YWx1ZSBpcyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhbiBhcnJheSBvZiBlbGVtZW50czpcbiAgICAgIGlmICghaXNKU09OT2JqZWN0KHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUucmVzdWx0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBuZXcgVHlwZVZhbGlkYXRpb25FcnJvcih7XG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGNhdXNlOlxuICAgICAgICAgICAgICAndmFsdWUgbXVzdCBiZSBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhIHN0cmluZyBpbiB0aGUgXCJyZXN1bHRcIiBwcm9wZXJ0eS4nLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSB2YWx1ZS5yZXN1bHQgYXMgc3RyaW5nO1xuXG4gICAgICByZXR1cm4gZW51bVZhbHVlcy5pbmNsdWRlcyhyZXN1bHQgYXMgRU5VTSlcbiAgICAgICAgPyB7IHN1Y2Nlc3M6IHRydWUsIHZhbHVlOiByZXN1bHQgYXMgRU5VTSB9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcjogbmV3IFR5cGVWYWxpZGF0aW9uRXJyb3Ioe1xuICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgY2F1c2U6ICd2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nIGluIHRoZSBlbnVtJyxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH07XG4gICAgfSxcblxuICAgIGFzeW5jIHZhbGlkYXRlUGFydGlhbFJlc3VsdCh7IHZhbHVlLCB0ZXh0RGVsdGEgfSkge1xuICAgICAgaWYgKCFpc0pTT05PYmplY3QodmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5yZXN1bHQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IG5ldyBUeXBlVmFsaWRhdGlvbkVycm9yKHtcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgY2F1c2U6XG4gICAgICAgICAgICAgICd2YWx1ZSBtdXN0IGJlIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGEgc3RyaW5nIGluIHRoZSBcInJlc3VsdFwiIHByb3BlcnR5LicsXG4gICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbHVlLnJlc3VsdCBhcyBzdHJpbmc7XG4gICAgICBjb25zdCBwb3NzaWJsZUVudW1WYWx1ZXMgPSBlbnVtVmFsdWVzLmZpbHRlcihlbnVtVmFsdWUgPT5cbiAgICAgICAgZW51bVZhbHVlLnN0YXJ0c1dpdGgocmVzdWx0KSxcbiAgICAgICk7XG5cbiAgICAgIGlmICh2YWx1ZS5yZXN1bHQubGVuZ3RoID09PSAwIHx8IHBvc3NpYmxlRW51bVZhbHVlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogbmV3IFR5cGVWYWxpZGF0aW9uRXJyb3Ioe1xuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBjYXVzZTogJ3ZhbHVlIG11c3QgYmUgYSBzdHJpbmcgaW4gdGhlIGVudW0nLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHBhcnRpYWw6XG4gICAgICAgICAgICBwb3NzaWJsZUVudW1WYWx1ZXMubGVuZ3RoID4gMSA/IHJlc3VsdCA6IHBvc3NpYmxlRW51bVZhbHVlc1swXSxcbiAgICAgICAgICB0ZXh0RGVsdGEsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICBjcmVhdGVFbGVtZW50U3RyZWFtKCkge1xuICAgICAgLy8gbm8gc3RyZWFtaW5nIGluIGVudW0gbW9kZVxuICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yKHtcbiAgICAgICAgZnVuY3Rpb25hbGl0eTogJ2VsZW1lbnQgc3RyZWFtcyBpbiBlbnVtIG1vZGUnLFxuICAgICAgfSk7XG4gICAgfSxcbiAgfTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRPdXRwdXRTdHJhdGVneTxTQ0hFTUE+KHtcbiAgb3V0cHV0LFxuICBzY2hlbWEsXG4gIGVudW1WYWx1ZXMsXG59OiB7XG4gIG91dHB1dDogJ29iamVjdCcgfCAnYXJyYXknIHwgJ2VudW0nIHwgJ25vLXNjaGVtYSc7XG4gIHNjaGVtYT86XG4gICAgfCB6NC5jb3JlLiRab2RUeXBlPFNDSEVNQSwgYW55PlxuICAgIHwgejMuU2NoZW1hPFNDSEVNQSwgejMuWm9kVHlwZURlZiwgYW55PlxuICAgIHwgU2NoZW1hPFNDSEVNQT47XG4gIGVudW1WYWx1ZXM/OiBBcnJheTxTQ0hFTUE+O1xufSk6IE91dHB1dFN0cmF0ZWd5PGFueSwgYW55LCBhbnk+IHtcbiAgc3dpdGNoIChvdXRwdXQpIHtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgcmV0dXJuIG9iamVjdE91dHB1dFN0cmF0ZWd5KGFzU2NoZW1hKHNjaGVtYSEpKTtcbiAgICBjYXNlICdhcnJheSc6XG4gICAgICByZXR1cm4gYXJyYXlPdXRwdXRTdHJhdGVneShhc1NjaGVtYShzY2hlbWEhKSk7XG4gICAgY2FzZSAnZW51bSc6XG4gICAgICByZXR1cm4gZW51bU91dHB1dFN0cmF0ZWd5KGVudW1WYWx1ZXMhIGFzIEFycmF5PHN0cmluZz4pO1xuICAgIGNhc2UgJ25vLXNjaGVtYSc6XG4gICAgICByZXR1cm4gbm9TY2hlbWFPdXRwdXRTdHJhdGVneTtcbiAgICBkZWZhdWx0OiB7XG4gICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrOiBuZXZlciA9IG91dHB1dDtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgb3V0cHV0OiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHsgSlNPTlBhcnNlRXJyb3IsIFR5cGVWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IHNhZmVQYXJzZUpTT04gfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IE5vT2JqZWN0R2VuZXJhdGVkRXJyb3IgfSBmcm9tICcuLi9lcnJvci9uby1vYmplY3QtZ2VuZXJhdGVkLWVycm9yJztcbmltcG9ydCB0eXBlIHtcbiAgRmluaXNoUmVhc29uLFxuICBMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YSxcbiAgTGFuZ3VhZ2VNb2RlbFVzYWdlLFxufSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IE91dHB1dFN0cmF0ZWd5IH0gZnJvbSAnLi9vdXRwdXQtc3RyYXRlZ3knO1xuaW1wb3J0IHsgUmVwYWlyVGV4dEZ1bmN0aW9uIH0gZnJvbSAnLi9yZXBhaXItdGV4dCc7XG5cbi8qKlxuICogUGFyc2VzIGFuZCB2YWxpZGF0ZXMgYSByZXN1bHQgc3RyaW5nIGJ5IHBhcnNpbmcgaXQgYXMgSlNPTiBhbmQgdmFsaWRhdGluZyBhZ2FpbnN0IHRoZSBvdXRwdXQgc3RyYXRlZ3kuXG4gKlxuICogQHBhcmFtIHJlc3VsdCAtIFRoZSByZXN1bHQgc3RyaW5nIHRvIHBhcnNlIGFuZCB2YWxpZGF0ZVxuICogQHBhcmFtIG91dHB1dFN0cmF0ZWd5IC0gVGhlIG91dHB1dCBzdHJhdGVneSBjb250YWluaW5nIHZhbGlkYXRpb24gbG9naWNcbiAqIEBwYXJhbSBjb250ZXh0IC0gQWRkaXRpb25hbCBjb250ZXh0IGZvciBlcnJvciByZXBvcnRpbmdcbiAqIEByZXR1cm5zIFRoZSB2YWxpZGF0ZWQgcmVzdWx0XG4gKiBAdGhyb3dzIE5vT2JqZWN0R2VuZXJhdGVkRXJyb3IgaWYgcGFyc2luZyBvciB2YWxpZGF0aW9uIGZhaWxzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHBhcnNlQW5kVmFsaWRhdGVPYmplY3RSZXN1bHQ8UkVTVUxUPihcbiAgcmVzdWx0OiBzdHJpbmcsXG4gIG91dHB1dFN0cmF0ZWd5OiBPdXRwdXRTdHJhdGVneTxhbnksIFJFU1VMVCwgYW55PixcbiAgY29udGV4dDoge1xuICAgIHJlc3BvbnNlOiBMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YTtcbiAgICB1c2FnZTogTGFuZ3VhZ2VNb2RlbFVzYWdlO1xuICAgIGZpbmlzaFJlYXNvbjogRmluaXNoUmVhc29uO1xuICB9LFxuKTogUHJvbWlzZTxSRVNVTFQ+IHtcbiAgY29uc3QgcGFyc2VSZXN1bHQgPSBhd2FpdCBzYWZlUGFyc2VKU09OKHsgdGV4dDogcmVzdWx0IH0pO1xuXG4gIGlmICghcGFyc2VSZXN1bHQuc3VjY2Vzcykge1xuICAgIHRocm93IG5ldyBOb09iamVjdEdlbmVyYXRlZEVycm9yKHtcbiAgICAgIG1lc3NhZ2U6ICdObyBvYmplY3QgZ2VuZXJhdGVkOiBjb3VsZCBub3QgcGFyc2UgdGhlIHJlc3BvbnNlLicsXG4gICAgICBjYXVzZTogcGFyc2VSZXN1bHQuZXJyb3IsXG4gICAgICB0ZXh0OiByZXN1bHQsXG4gICAgICByZXNwb25zZTogY29udGV4dC5yZXNwb25zZSxcbiAgICAgIHVzYWdlOiBjb250ZXh0LnVzYWdlLFxuICAgICAgZmluaXNoUmVhc29uOiBjb250ZXh0LmZpbmlzaFJlYXNvbixcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHZhbGlkYXRpb25SZXN1bHQgPSBhd2FpdCBvdXRwdXRTdHJhdGVneS52YWxpZGF0ZUZpbmFsUmVzdWx0KFxuICAgIHBhcnNlUmVzdWx0LnZhbHVlLFxuICAgIHtcbiAgICAgIHRleHQ6IHJlc3VsdCxcbiAgICAgIHJlc3BvbnNlOiBjb250ZXh0LnJlc3BvbnNlLFxuICAgICAgdXNhZ2U6IGNvbnRleHQudXNhZ2UsXG4gICAgfSxcbiAgKTtcblxuICBpZiAoIXZhbGlkYXRpb25SZXN1bHQuc3VjY2Vzcykge1xuICAgIHRocm93IG5ldyBOb09iamVjdEdlbmVyYXRlZEVycm9yKHtcbiAgICAgIG1lc3NhZ2U6ICdObyBvYmplY3QgZ2VuZXJhdGVkOiByZXNwb25zZSBkaWQgbm90IG1hdGNoIHNjaGVtYS4nLFxuICAgICAgY2F1c2U6IHZhbGlkYXRpb25SZXN1bHQuZXJyb3IsXG4gICAgICB0ZXh0OiByZXN1bHQsXG4gICAgICByZXNwb25zZTogY29udGV4dC5yZXNwb25zZSxcbiAgICAgIHVzYWdlOiBjb250ZXh0LnVzYWdlLFxuICAgICAgZmluaXNoUmVhc29uOiBjb250ZXh0LmZpbmlzaFJlYXNvbixcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB2YWxpZGF0aW9uUmVzdWx0LnZhbHVlO1xufVxuXG4vKipcbiAqIFBhcnNlcyBhbmQgdmFsaWRhdGVzIGEgcmVzdWx0IHN0cmluZyBieSBwYXJzaW5nIGl0IGFzIEpTT04gYW5kIHZhbGlkYXRpbmcgYWdhaW5zdCB0aGUgb3V0cHV0IHN0cmF0ZWd5LlxuICogSWYgdGhlIHJlc3VsdCBjYW5ub3QgYmUgcGFyc2VkLCBpdCBhdHRlbXB0cyB0byByZXBhaXIgdGhlIHJlc3VsdCB1c2luZyB0aGUgcmVwYWlyVGV4dCBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gcmVzdWx0IC0gVGhlIHJlc3VsdCBzdHJpbmcgdG8gcGFyc2UgYW5kIHZhbGlkYXRlXG4gKiBAcGFyYW0gb3V0cHV0U3RyYXRlZ3kgLSBUaGUgb3V0cHV0IHN0cmF0ZWd5IGNvbnRhaW5pbmcgdmFsaWRhdGlvbiBsb2dpY1xuICogQHBhcmFtIHJlcGFpclRleHQgLSBBIGZ1bmN0aW9uIHRoYXQgYXR0ZW1wdHMgdG8gcmVwYWlyIHRoZSByZXN1bHQgc3RyaW5nXG4gKiBAcGFyYW0gY29udGV4dCAtIEFkZGl0aW9uYWwgY29udGV4dCBmb3IgZXJyb3IgcmVwb3J0aW5nXG4gKiBAcmV0dXJucyBUaGUgdmFsaWRhdGVkIHJlc3VsdFxuICogQHRocm93cyBOb09iamVjdEdlbmVyYXRlZEVycm9yIGlmIHBhcnNpbmcgb3IgdmFsaWRhdGlvbiBmYWlsc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcGFyc2VBbmRWYWxpZGF0ZU9iamVjdFJlc3VsdFdpdGhSZXBhaXI8UkVTVUxUPihcbiAgcmVzdWx0OiBzdHJpbmcsXG4gIG91dHB1dFN0cmF0ZWd5OiBPdXRwdXRTdHJhdGVneTxhbnksIFJFU1VMVCwgYW55PixcbiAgcmVwYWlyVGV4dDogUmVwYWlyVGV4dEZ1bmN0aW9uIHwgdW5kZWZpbmVkLFxuICBjb250ZXh0OiB7XG4gICAgcmVzcG9uc2U6IExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhO1xuICAgIHVzYWdlOiBMYW5ndWFnZU1vZGVsVXNhZ2U7XG4gICAgZmluaXNoUmVhc29uOiBGaW5pc2hSZWFzb247XG4gIH0sXG4pOiBQcm9taXNlPFJFU1VMVD4ge1xuICB0cnkge1xuICAgIHJldHVybiBhd2FpdCBwYXJzZUFuZFZhbGlkYXRlT2JqZWN0UmVzdWx0KHJlc3VsdCwgb3V0cHV0U3RyYXRlZ3ksIGNvbnRleHQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChcbiAgICAgIHJlcGFpclRleHQgIT0gbnVsbCAmJlxuICAgICAgTm9PYmplY3RHZW5lcmF0ZWRFcnJvci5pc0luc3RhbmNlKGVycm9yKSAmJlxuICAgICAgKEpTT05QYXJzZUVycm9yLmlzSW5zdGFuY2UoZXJyb3IuY2F1c2UpIHx8XG4gICAgICAgIFR5cGVWYWxpZGF0aW9uRXJyb3IuaXNJbnN0YW5jZShlcnJvci5jYXVzZSkpXG4gICAgKSB7XG4gICAgICBjb25zdCByZXBhaXJlZFRleHQgPSBhd2FpdCByZXBhaXJUZXh0KHtcbiAgICAgICAgdGV4dDogcmVzdWx0LFxuICAgICAgICBlcnJvcjogZXJyb3IuY2F1c2UsXG4gICAgICB9KTtcbiAgICAgIGlmIChyZXBhaXJlZFRleHQgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXdhaXQgcGFyc2VBbmRWYWxpZGF0ZU9iamVjdFJlc3VsdChcbiAgICAgICAgcmVwYWlyZWRUZXh0LFxuICAgICAgICBvdXRwdXRTdHJhdGVneSxcbiAgICAgICAgY29udGV4dCxcbiAgICAgICk7XG4gICAgfVxuICAgIHRocm93IGVycm9yO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgU2NoZW1hIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgKiBhcyB6MyBmcm9tICd6b2QvdjMnO1xuaW1wb3J0ICogYXMgejQgZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7IEludmFsaWRBcmd1bWVudEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvaW52YWxpZC1hcmd1bWVudC1lcnJvcic7XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZU9iamVjdEdlbmVyYXRpb25JbnB1dCh7XG4gIG91dHB1dCxcbiAgc2NoZW1hLFxuICBzY2hlbWFOYW1lLFxuICBzY2hlbWFEZXNjcmlwdGlvbixcbiAgZW51bVZhbHVlcyxcbn06IHtcbiAgb3V0cHV0PzogJ29iamVjdCcgfCAnYXJyYXknIHwgJ2VudW0nIHwgJ25vLXNjaGVtYSc7XG4gIHNjaGVtYT86IHo0LmNvcmUuJFpvZFR5cGUgfCB6My5TY2hlbWE8YW55LCB6My5ab2RUeXBlRGVmLCBhbnk+IHwgU2NoZW1hPGFueT47XG4gIHNjaGVtYU5hbWU/OiBzdHJpbmc7XG4gIHNjaGVtYURlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBlbnVtVmFsdWVzPzogQXJyYXk8dW5rbm93bj47XG59KSB7XG4gIGlmIChcbiAgICBvdXRwdXQgIT0gbnVsbCAmJlxuICAgIG91dHB1dCAhPT0gJ29iamVjdCcgJiZcbiAgICBvdXRwdXQgIT09ICdhcnJheScgJiZcbiAgICBvdXRwdXQgIT09ICdlbnVtJyAmJlxuICAgIG91dHB1dCAhPT0gJ25vLXNjaGVtYSdcbiAgKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgIHBhcmFtZXRlcjogJ291dHB1dCcsXG4gICAgICB2YWx1ZTogb3V0cHV0LFxuICAgICAgbWVzc2FnZTogJ0ludmFsaWQgb3V0cHV0IHR5cGUuJyxcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChvdXRwdXQgPT09ICduby1zY2hlbWEnKSB7XG4gICAgaWYgKHNjaGVtYSAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdzY2hlbWEnLFxuICAgICAgICB2YWx1ZTogc2NoZW1hLFxuICAgICAgICBtZXNzYWdlOiAnU2NoZW1hIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIG5vLXNjaGVtYSBvdXRwdXQuJyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChzY2hlbWFEZXNjcmlwdGlvbiAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdzY2hlbWFEZXNjcmlwdGlvbicsXG4gICAgICAgIHZhbHVlOiBzY2hlbWFEZXNjcmlwdGlvbixcbiAgICAgICAgbWVzc2FnZTogJ1NjaGVtYSBkZXNjcmlwdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGZvciBuby1zY2hlbWEgb3V0cHV0LicsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoc2NoZW1hTmFtZSAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdzY2hlbWFOYW1lJyxcbiAgICAgICAgdmFsdWU6IHNjaGVtYU5hbWUsXG4gICAgICAgIG1lc3NhZ2U6ICdTY2hlbWEgbmFtZSBpcyBub3Qgc3VwcG9ydGVkIGZvciBuby1zY2hlbWEgb3V0cHV0LicsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZW51bVZhbHVlcyAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdlbnVtVmFsdWVzJyxcbiAgICAgICAgdmFsdWU6IGVudW1WYWx1ZXMsXG4gICAgICAgIG1lc3NhZ2U6ICdFbnVtIHZhbHVlcyBhcmUgbm90IHN1cHBvcnRlZCBmb3Igbm8tc2NoZW1hIG91dHB1dC4nLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG91dHB1dCA9PT0gJ29iamVjdCcpIHtcbiAgICBpZiAoc2NoZW1hID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ3NjaGVtYScsXG4gICAgICAgIHZhbHVlOiBzY2hlbWEsXG4gICAgICAgIG1lc3NhZ2U6ICdTY2hlbWEgaXMgcmVxdWlyZWQgZm9yIG9iamVjdCBvdXRwdXQuJyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChlbnVtVmFsdWVzICE9IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ2VudW1WYWx1ZXMnLFxuICAgICAgICB2YWx1ZTogZW51bVZhbHVlcyxcbiAgICAgICAgbWVzc2FnZTogJ0VudW0gdmFsdWVzIGFyZSBub3Qgc3VwcG9ydGVkIGZvciBvYmplY3Qgb3V0cHV0LicsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpZiAob3V0cHV0ID09PSAnYXJyYXknKSB7XG4gICAgaWYgKHNjaGVtYSA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdzY2hlbWEnLFxuICAgICAgICB2YWx1ZTogc2NoZW1hLFxuICAgICAgICBtZXNzYWdlOiAnRWxlbWVudCBzY2hlbWEgaXMgcmVxdWlyZWQgZm9yIGFycmF5IG91dHB1dC4nLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGVudW1WYWx1ZXMgIT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAnZW51bVZhbHVlcycsXG4gICAgICAgIHZhbHVlOiBlbnVtVmFsdWVzLFxuICAgICAgICBtZXNzYWdlOiAnRW51bSB2YWx1ZXMgYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIGFycmF5IG91dHB1dC4nLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG91dHB1dCA9PT0gJ2VudW0nKSB7XG4gICAgaWYgKHNjaGVtYSAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdzY2hlbWEnLFxuICAgICAgICB2YWx1ZTogc2NoZW1hLFxuICAgICAgICBtZXNzYWdlOiAnU2NoZW1hIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIGVudW0gb3V0cHV0LicsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoc2NoZW1hRGVzY3JpcHRpb24gIT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAnc2NoZW1hRGVzY3JpcHRpb24nLFxuICAgICAgICB2YWx1ZTogc2NoZW1hRGVzY3JpcHRpb24sXG4gICAgICAgIG1lc3NhZ2U6ICdTY2hlbWEgZGVzY3JpcHRpb24gaXMgbm90IHN1cHBvcnRlZCBmb3IgZW51bSBvdXRwdXQuJyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChzY2hlbWFOYW1lICE9IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ3NjaGVtYU5hbWUnLFxuICAgICAgICB2YWx1ZTogc2NoZW1hTmFtZSxcbiAgICAgICAgbWVzc2FnZTogJ1NjaGVtYSBuYW1lIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIGVudW0gb3V0cHV0LicsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZW51bVZhbHVlcyA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdlbnVtVmFsdWVzJyxcbiAgICAgICAgdmFsdWU6IGVudW1WYWx1ZXMsXG4gICAgICAgIG1lc3NhZ2U6ICdFbnVtIHZhbHVlcyBhcmUgcmVxdWlyZWQgZm9yIGVudW0gb3V0cHV0LicsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGVudW1WYWx1ZXMpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgICAgcGFyYW1ldGVyOiAnZW51bVZhbHVlcycsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgbWVzc2FnZTogJ0VudW0gdmFsdWVzIG11c3QgYmUgc3RyaW5ncy4nLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQge1xuICBKU09OVmFsdWUsXG4gIExhbmd1YWdlTW9kZWxWMkNhbGxXYXJuaW5nLFxuICBMYW5ndWFnZU1vZGVsVjJGaW5pc2hSZWFzb24sXG4gIExhbmd1YWdlTW9kZWxWMlN0cmVhbVBhcnQsXG4gIExhbmd1YWdlTW9kZWxWMlVzYWdlLFxuICBTaGFyZWRWMlByb3ZpZGVyTWV0YWRhdGEsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHtcbiAgY3JlYXRlSWRHZW5lcmF0b3IsXG4gIFByb3ZpZGVyT3B0aW9ucyxcbiAgdHlwZSBJbmZlclNjaGVtYSxcbiAgdHlwZSBTY2hlbWEsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgU2VydmVyUmVzcG9uc2UgfSBmcm9tICdodHRwJztcbmltcG9ydCAqIGFzIHozIGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgKiBhcyB6NCBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsgbG9nV2FybmluZ3MgfSBmcm9tICcuLi9sb2dnZXIvbG9nLXdhcm5pbmdzJztcbmltcG9ydCB7IHJlc29sdmVMYW5ndWFnZU1vZGVsIH0gZnJvbSAnLi4vbW9kZWwvcmVzb2x2ZS1tb2RlbCc7XG5pbXBvcnQgeyBDYWxsU2V0dGluZ3MgfSBmcm9tICcuLi9wcm9tcHQvY2FsbC1zZXR0aW5ncyc7XG5pbXBvcnQgeyBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsUHJvbXB0IH0gZnJvbSAnLi4vcHJvbXB0L2NvbnZlcnQtdG8tbGFuZ3VhZ2UtbW9kZWwtcHJvbXB0JztcbmltcG9ydCB7IHByZXBhcmVDYWxsU2V0dGluZ3MgfSBmcm9tICcuLi9wcm9tcHQvcHJlcGFyZS1jYWxsLXNldHRpbmdzJztcbmltcG9ydCB7IFByb21wdCB9IGZyb20gJy4uL3Byb21wdC9wcm9tcHQnO1xuaW1wb3J0IHsgc3RhbmRhcmRpemVQcm9tcHQgfSBmcm9tICcuLi9wcm9tcHQvc3RhbmRhcmRpemUtcHJvbXB0JztcbmltcG9ydCB7IHdyYXBHYXRld2F5RXJyb3IgfSBmcm9tICcuLi9wcm9tcHQvd3JhcC1nYXRld2F5LWVycm9yJztcbmltcG9ydCB7IGFzc2VtYmxlT3BlcmF0aW9uTmFtZSB9IGZyb20gJy4uL3RlbGVtZXRyeS9hc3NlbWJsZS1vcGVyYXRpb24tbmFtZSc7XG5pbXBvcnQgeyBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyB9IGZyb20gJy4uL3RlbGVtZXRyeS9nZXQtYmFzZS10ZWxlbWV0cnktYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBnZXRUcmFjZXIgfSBmcm9tICcuLi90ZWxlbWV0cnkvZ2V0LXRyYWNlcic7XG5pbXBvcnQgeyByZWNvcmRTcGFuIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3JlY29yZC1zcGFuJztcbmltcG9ydCB7IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMgfSBmcm9tICcuLi90ZWxlbWV0cnkvc2VsZWN0LXRlbGVtZXRyeS1hdHRyaWJ1dGVzJztcbmltcG9ydCB7IHN0cmluZ2lmeUZvclRlbGVtZXRyeSB9IGZyb20gJy4uL3RlbGVtZXRyeS9zdHJpbmdpZnktZm9yLXRlbGVtZXRyeSc7XG5pbXBvcnQgeyBUZWxlbWV0cnlTZXR0aW5ncyB9IGZyb20gJy4uL3RlbGVtZXRyeS90ZWxlbWV0cnktc2V0dGluZ3MnO1xuaW1wb3J0IHsgY3JlYXRlVGV4dFN0cmVhbVJlc3BvbnNlIH0gZnJvbSAnLi4vdGV4dC1zdHJlYW0vY3JlYXRlLXRleHQtc3RyZWFtLXJlc3BvbnNlJztcbmltcG9ydCB7IHBpcGVUZXh0U3RyZWFtVG9SZXNwb25zZSB9IGZyb20gJy4uL3RleHQtc3RyZWFtL3BpcGUtdGV4dC1zdHJlYW0tdG8tcmVzcG9uc2UnO1xuaW1wb3J0IHtcbiAgQ2FsbFdhcm5pbmcsXG4gIEZpbmlzaFJlYXNvbixcbiAgTGFuZ3VhZ2VNb2RlbCxcbn0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwnO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbFJlcXVlc3RNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzL2xhbmd1YWdlLW1vZGVsLXJlcXVlc3QtbWV0YWRhdGEnO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbC1yZXNwb25zZS1tZXRhZGF0YSc7XG5pbXBvcnQgeyBQcm92aWRlck1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvcHJvdmlkZXItbWV0YWRhdGEnO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbFVzYWdlIH0gZnJvbSAnLi4vdHlwZXMvdXNhZ2UnO1xuaW1wb3J0IHsgRGVlcFBhcnRpYWwsIGlzRGVlcEVxdWFsRGF0YSwgcGFyc2VQYXJ0aWFsSnNvbiB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHtcbiAgQXN5bmNJdGVyYWJsZVN0cmVhbSxcbiAgY3JlYXRlQXN5bmNJdGVyYWJsZVN0cmVhbSxcbn0gZnJvbSAnLi4vdXRpbC9hc3luYy1pdGVyYWJsZS1zdHJlYW0nO1xuaW1wb3J0IHsgY3JlYXRlU3RpdGNoYWJsZVN0cmVhbSB9IGZyb20gJy4uL3V0aWwvY3JlYXRlLXN0aXRjaGFibGUtc3RyZWFtJztcbmltcG9ydCB7IERlbGF5ZWRQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC9kZWxheWVkLXByb21pc2UnO1xuaW1wb3J0IHsgRG93bmxvYWRGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvZG93bmxvYWQvZG93bmxvYWQtZnVuY3Rpb24nO1xuaW1wb3J0IHsgbm93IGFzIG9yaWdpbmFsTm93IH0gZnJvbSAnLi4vdXRpbC9ub3cnO1xuaW1wb3J0IHsgcHJlcGFyZVJldHJpZXMgfSBmcm9tICcuLi91dGlsL3ByZXBhcmUtcmV0cmllcyc7XG5pbXBvcnQgeyBnZXRPdXRwdXRTdHJhdGVneSwgT3V0cHV0U3RyYXRlZ3kgfSBmcm9tICcuL291dHB1dC1zdHJhdGVneSc7XG5pbXBvcnQgeyBwYXJzZUFuZFZhbGlkYXRlT2JqZWN0UmVzdWx0V2l0aFJlcGFpciB9IGZyb20gJy4vcGFyc2UtYW5kLXZhbGlkYXRlLW9iamVjdC1yZXN1bHQnO1xuaW1wb3J0IHsgUmVwYWlyVGV4dEZ1bmN0aW9uIH0gZnJvbSAnLi9yZXBhaXItdGV4dCc7XG5pbXBvcnQgeyBPYmplY3RTdHJlYW1QYXJ0LCBTdHJlYW1PYmplY3RSZXN1bHQgfSBmcm9tICcuL3N0cmVhbS1vYmplY3QtcmVzdWx0JztcbmltcG9ydCB7IHZhbGlkYXRlT2JqZWN0R2VuZXJhdGlvbklucHV0IH0gZnJvbSAnLi92YWxpZGF0ZS1vYmplY3QtZ2VuZXJhdGlvbi1pbnB1dCc7XG5cbmNvbnN0IG9yaWdpbmFsR2VuZXJhdGVJZCA9IGNyZWF0ZUlkR2VuZXJhdG9yKHsgcHJlZml4OiAnYWlvYmonLCBzaXplOiAyNCB9KTtcblxuLyoqXG5DYWxsYmFjayB0aGF0IGlzIHNldCB1c2luZyB0aGUgYG9uRXJyb3JgIG9wdGlvbi5cblxuQHBhcmFtIGV2ZW50IC0gVGhlIGV2ZW50IHRoYXQgaXMgcGFzc2VkIHRvIHRoZSBjYWxsYmFjay5cbiAqL1xuZXhwb3J0IHR5cGUgU3RyZWFtT2JqZWN0T25FcnJvckNhbGxiYWNrID0gKGV2ZW50OiB7XG4gIGVycm9yOiB1bmtub3duO1xufSkgPT4gUHJvbWlzZTx2b2lkPiB8IHZvaWQ7XG5cbi8qKlxuQ2FsbGJhY2sgdGhhdCBpcyBzZXQgdXNpbmcgdGhlIGBvbkZpbmlzaGAgb3B0aW9uLlxuXG5AcGFyYW0gZXZlbnQgLSBUaGUgZXZlbnQgdGhhdCBpcyBwYXNzZWQgdG8gdGhlIGNhbGxiYWNrLlxuICovXG5leHBvcnQgdHlwZSBTdHJlYW1PYmplY3RPbkZpbmlzaENhbGxiYWNrPFJFU1VMVD4gPSAoZXZlbnQ6IHtcbiAgLyoqXG5UaGUgdG9rZW4gdXNhZ2Ugb2YgdGhlIGdlbmVyYXRlZCByZXNwb25zZS5cbiovXG4gIHVzYWdlOiBMYW5ndWFnZU1vZGVsVXNhZ2U7XG5cbiAgLyoqXG5UaGUgZ2VuZXJhdGVkIG9iamVjdC4gQ2FuIGJlIHVuZGVmaW5lZCBpZiB0aGUgZmluYWwgb2JqZWN0IGRvZXMgbm90IG1hdGNoIHRoZSBzY2hlbWEuXG4qL1xuICBvYmplY3Q6IFJFU1VMVCB8IHVuZGVmaW5lZDtcblxuICAvKipcbk9wdGlvbmFsIGVycm9yIG9iamVjdC4gVGhpcyBpcyBlLmcuIGEgVHlwZVZhbGlkYXRpb25FcnJvciB3aGVuIHRoZSBmaW5hbCBvYmplY3QgZG9lcyBub3QgbWF0Y2ggdGhlIHNjaGVtYS5cbiovXG4gIGVycm9yOiB1bmtub3duIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuUmVzcG9uc2UgbWV0YWRhdGEuXG4gKi9cbiAgcmVzcG9uc2U6IExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhO1xuXG4gIC8qKlxuV2FybmluZ3MgZnJvbSB0aGUgbW9kZWwgcHJvdmlkZXIgKGUuZy4gdW5zdXBwb3J0ZWQgc2V0dGluZ3MpLlxuKi9cbiAgd2FybmluZ3M/OiBDYWxsV2FybmluZ1tdO1xuXG4gIC8qKlxuQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBtZXRhZGF0YS4gVGhleSBhcmUgcGFzc2VkIHRocm91Z2hcbnRvIHRoZSBwcm92aWRlciBmcm9tIHRoZSBBSSBTREsgYW5kIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpY1xuZnVuY3Rpb25hbGl0eSB0aGF0IGNhbiBiZSBmdWxseSBlbmNhcHN1bGF0ZWQgaW4gdGhlIHByb3ZpZGVyLlxuKi9cbiAgcHJvdmlkZXJNZXRhZGF0YTogUHJvdmlkZXJNZXRhZGF0YSB8IHVuZGVmaW5lZDtcbn0pID0+IFByb21pc2U8dm9pZD4gfCB2b2lkO1xuXG4vKipcbkdlbmVyYXRlIGEgc3RydWN0dXJlZCwgdHlwZWQgb2JqZWN0IGZvciBhIGdpdmVuIHByb21wdCBhbmQgc2NoZW1hIHVzaW5nIGEgbGFuZ3VhZ2UgbW9kZWwuXG5cblRoaXMgZnVuY3Rpb24gc3RyZWFtcyB0aGUgb3V0cHV0LiBJZiB5b3UgZG8gbm90IHdhbnQgdG8gc3RyZWFtIHRoZSBvdXRwdXQsIHVzZSBgZ2VuZXJhdGVPYmplY3RgIGluc3RlYWQuXG5cbkBwYXJhbSBtb2RlbCAtIFRoZSBsYW5ndWFnZSBtb2RlbCB0byB1c2UuXG5AcGFyYW0gdG9vbHMgLSBUb29scyB0aGF0IGFyZSBhY2Nlc3NpYmxlIHRvIGFuZCBjYW4gYmUgY2FsbGVkIGJ5IHRoZSBtb2RlbC4gVGhlIG1vZGVsIG5lZWRzIHRvIHN1cHBvcnQgY2FsbGluZyB0b29scy5cblxuQHBhcmFtIHN5c3RlbSAtIEEgc3lzdGVtIG1lc3NhZ2UgdGhhdCB3aWxsIGJlIHBhcnQgb2YgdGhlIHByb21wdC5cbkBwYXJhbSBwcm9tcHQgLSBBIHNpbXBsZSB0ZXh0IHByb21wdC4gWW91IGNhbiBlaXRoZXIgdXNlIGBwcm9tcHRgIG9yIGBtZXNzYWdlc2AgYnV0IG5vdCBib3RoLlxuQHBhcmFtIG1lc3NhZ2VzIC0gQSBsaXN0IG9mIG1lc3NhZ2VzLiBZb3UgY2FuIGVpdGhlciB1c2UgYHByb21wdGAgb3IgYG1lc3NhZ2VzYCBidXQgbm90IGJvdGguXG5cbkBwYXJhbSBtYXhPdXRwdXRUb2tlbnMgLSBNYXhpbXVtIG51bWJlciBvZiB0b2tlbnMgdG8gZ2VuZXJhdGUuXG5AcGFyYW0gdGVtcGVyYXR1cmUgLSBUZW1wZXJhdHVyZSBzZXR0aW5nLlxuVGhlIHZhbHVlIGlzIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlci4gVGhlIHJhbmdlIGRlcGVuZHMgb24gdGhlIHByb3ZpZGVyIGFuZCBtb2RlbC5cbkl0IGlzIHJlY29tbWVuZGVkIHRvIHNldCBlaXRoZXIgYHRlbXBlcmF0dXJlYCBvciBgdG9wUGAsIGJ1dCBub3QgYm90aC5cbkBwYXJhbSB0b3BQIC0gTnVjbGV1cyBzYW1wbGluZy5cblRoZSB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXIuIFRoZSByYW5nZSBkZXBlbmRzIG9uIHRoZSBwcm92aWRlciBhbmQgbW9kZWwuXG5JdCBpcyByZWNvbW1lbmRlZCB0byBzZXQgZWl0aGVyIGB0ZW1wZXJhdHVyZWAgb3IgYHRvcFBgLCBidXQgbm90IGJvdGguXG5AcGFyYW0gdG9wSyAtIE9ubHkgc2FtcGxlIGZyb20gdGhlIHRvcCBLIG9wdGlvbnMgZm9yIGVhY2ggc3Vic2VxdWVudCB0b2tlbi5cblVzZWQgdG8gcmVtb3ZlIFwibG9uZyB0YWlsXCIgbG93IHByb2JhYmlsaXR5IHJlc3BvbnNlcy5cblJlY29tbWVuZGVkIGZvciBhZHZhbmNlZCB1c2UgY2FzZXMgb25seS4gWW91IHVzdWFsbHkgb25seSBuZWVkIHRvIHVzZSB0ZW1wZXJhdHVyZS5cbkBwYXJhbSBwcmVzZW5jZVBlbmFsdHkgLSBQcmVzZW5jZSBwZW5hbHR5IHNldHRpbmcuXG5JdCBhZmZlY3RzIHRoZSBsaWtlbGlob29kIG9mIHRoZSBtb2RlbCB0byByZXBlYXQgaW5mb3JtYXRpb24gdGhhdCBpcyBhbHJlYWR5IGluIHRoZSBwcm9tcHQuXG5UaGUgdmFsdWUgaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyLiBUaGUgcmFuZ2UgZGVwZW5kcyBvbiB0aGUgcHJvdmlkZXIgYW5kIG1vZGVsLlxuQHBhcmFtIGZyZXF1ZW5jeVBlbmFsdHkgLSBGcmVxdWVuY3kgcGVuYWx0eSBzZXR0aW5nLlxuSXQgYWZmZWN0cyB0aGUgbGlrZWxpaG9vZCBvZiB0aGUgbW9kZWwgdG8gcmVwZWF0ZWRseSB1c2UgdGhlIHNhbWUgd29yZHMgb3IgcGhyYXNlcy5cblRoZSB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXIuIFRoZSByYW5nZSBkZXBlbmRzIG9uIHRoZSBwcm92aWRlciBhbmQgbW9kZWwuXG5AcGFyYW0gc3RvcFNlcXVlbmNlcyAtIFN0b3Agc2VxdWVuY2VzLlxuSWYgc2V0LCB0aGUgbW9kZWwgd2lsbCBzdG9wIGdlbmVyYXRpbmcgdGV4dCB3aGVuIG9uZSBvZiB0aGUgc3RvcCBzZXF1ZW5jZXMgaXMgZ2VuZXJhdGVkLlxuQHBhcmFtIHNlZWQgLSBUaGUgc2VlZCAoaW50ZWdlcikgdG8gdXNlIGZvciByYW5kb20gc2FtcGxpbmcuXG5JZiBzZXQgYW5kIHN1cHBvcnRlZCBieSB0aGUgbW9kZWwsIGNhbGxzIHdpbGwgZ2VuZXJhdGUgZGV0ZXJtaW5pc3RpYyByZXN1bHRzLlxuXG5AcGFyYW0gbWF4UmV0cmllcyAtIE1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMuIFNldCB0byAwIHRvIGRpc2FibGUgcmV0cmllcy4gRGVmYXVsdDogMi5cbkBwYXJhbSBhYm9ydFNpZ25hbCAtIEFuIG9wdGlvbmFsIGFib3J0IHNpZ25hbCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgY2FsbC5cbkBwYXJhbSBoZWFkZXJzIC0gQWRkaXRpb25hbCBIVFRQIGhlYWRlcnMgdG8gYmUgc2VudCB3aXRoIHRoZSByZXF1ZXN0LiBPbmx5IGFwcGxpY2FibGUgZm9yIEhUVFAtYmFzZWQgcHJvdmlkZXJzLlxuXG5AcGFyYW0gc2NoZW1hIC0gVGhlIHNjaGVtYSBvZiB0aGUgb2JqZWN0IHRoYXQgdGhlIG1vZGVsIHNob3VsZCBnZW5lcmF0ZS5cbkBwYXJhbSBzY2hlbWFOYW1lIC0gT3B0aW9uYWwgbmFtZSBvZiB0aGUgb3V0cHV0IHRoYXQgc2hvdWxkIGJlIGdlbmVyYXRlZC5cblVzZWQgYnkgc29tZSBwcm92aWRlcnMgZm9yIGFkZGl0aW9uYWwgTExNIGd1aWRhbmNlLCBlLmcuXG52aWEgdG9vbCBvciBzY2hlbWEgbmFtZS5cbkBwYXJhbSBzY2hlbWFEZXNjcmlwdGlvbiAtIE9wdGlvbmFsIGRlc2NyaXB0aW9uIG9mIHRoZSBvdXRwdXQgdGhhdCBzaG91bGQgYmUgZ2VuZXJhdGVkLlxuVXNlZCBieSBzb21lIHByb3ZpZGVycyBmb3IgYWRkaXRpb25hbCBMTE0gZ3VpZGFuY2UsIGUuZy5cbnZpYSB0b29sIG9yIHNjaGVtYSBkZXNjcmlwdGlvbi5cblxuQHBhcmFtIG91dHB1dCAtIFRoZSB0eXBlIG9mIHRoZSBvdXRwdXQuXG5cbi0gJ29iamVjdCc6IFRoZSBvdXRwdXQgaXMgYW4gb2JqZWN0LlxuLSAnYXJyYXknOiBUaGUgb3V0cHV0IGlzIGFuIGFycmF5LlxuLSAnZW51bSc6IFRoZSBvdXRwdXQgaXMgYW4gZW51bS5cbi0gJ25vLXNjaGVtYSc6IFRoZSBvdXRwdXQgaXMgbm90IGEgc2NoZW1hLlxuXG5AcGFyYW0gZXhwZXJpbWVudGFsX3RlbGVtZXRyeSAtIE9wdGlvbmFsIHRlbGVtZXRyeSBjb25maWd1cmF0aW9uIChleHBlcmltZW50YWwpLlxuXG5AcGFyYW0gcHJvdmlkZXJPcHRpb25zIC0gQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBvcHRpb25zLiBUaGV5IGFyZSBwYXNzZWQgdGhyb3VnaFxudG8gdGhlIHByb3ZpZGVyIGZyb20gdGhlIEFJIFNESyBhbmQgZW5hYmxlIHByb3ZpZGVyLXNwZWNpZmljXG5mdW5jdGlvbmFsaXR5IHRoYXQgY2FuIGJlIGZ1bGx5IGVuY2Fwc3VsYXRlZCBpbiB0aGUgcHJvdmlkZXIuXG5cbkByZXR1cm5zXG5BIHJlc3VsdCBvYmplY3QgZm9yIGFjY2Vzc2luZyB0aGUgcGFydGlhbCBvYmplY3Qgc3RyZWFtIGFuZCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyZWFtT2JqZWN0PFxuICBTQ0hFTUEgZXh0ZW5kc1xuICAgIHwgejMuU2NoZW1hXG4gICAgfCB6NC5jb3JlLiRab2RUeXBlXG4gICAgfCBTY2hlbWEgPSB6NC5jb3JlLiRab2RUeXBlPEpTT05WYWx1ZT4sXG4gIE9VVFBVVCBleHRlbmRzXG4gICAgfCAnb2JqZWN0J1xuICAgIHwgJ2FycmF5J1xuICAgIHwgJ2VudW0nXG4gICAgfCAnbm8tc2NoZW1hJyA9IEluZmVyU2NoZW1hPFNDSEVNQT4gZXh0ZW5kcyBzdHJpbmcgPyAnZW51bScgOiAnb2JqZWN0JyxcbiAgUkVTVUxUID0gT1VUUFVUIGV4dGVuZHMgJ2FycmF5J1xuICAgID8gQXJyYXk8SW5mZXJTY2hlbWE8U0NIRU1BPj5cbiAgICA6IEluZmVyU2NoZW1hPFNDSEVNQT4sXG4+KFxuICBvcHRpb25zOiBPbWl0PENhbGxTZXR0aW5ncywgJ3N0b3BTZXF1ZW5jZXMnPiAmXG4gICAgUHJvbXB0ICZcbiAgICAoT1VUUFVUIGV4dGVuZHMgJ2VudW0nXG4gICAgICA/IHtcbiAgICAgICAgICAvKipcblRoZSBlbnVtIHZhbHVlcyB0aGF0IHRoZSBtb2RlbCBzaG91bGQgdXNlLlxuICAgICAgICAqL1xuICAgICAgICAgIGVudW06IEFycmF5PFJFU1VMVD47XG4gICAgICAgICAgbW9kZT86ICdqc29uJztcbiAgICAgICAgICBvdXRwdXQ6ICdlbnVtJztcbiAgICAgICAgfVxuICAgICAgOiBPVVRQVVQgZXh0ZW5kcyAnbm8tc2NoZW1hJ1xuICAgICAgICA/IHt9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgLyoqXG5UaGUgc2NoZW1hIG9mIHRoZSBvYmplY3QgdGhhdCB0aGUgbW9kZWwgc2hvdWxkIGdlbmVyYXRlLlxuICAgICAgKi9cbiAgICAgICAgICAgIHNjaGVtYTogU0NIRU1BO1xuXG4gICAgICAgICAgICAvKipcbk9wdGlvbmFsIG5hbWUgb2YgdGhlIG91dHB1dCB0aGF0IHNob3VsZCBiZSBnZW5lcmF0ZWQuXG5Vc2VkIGJ5IHNvbWUgcHJvdmlkZXJzIGZvciBhZGRpdGlvbmFsIExMTSBndWlkYW5jZSwgZS5nLlxudmlhIHRvb2wgb3Igc2NoZW1hIG5hbWUuXG4gICAgICAqL1xuICAgICAgICAgICAgc2NoZW1hTmFtZT86IHN0cmluZztcblxuICAgICAgICAgICAgLyoqXG5PcHRpb25hbCBkZXNjcmlwdGlvbiBvZiB0aGUgb3V0cHV0IHRoYXQgc2hvdWxkIGJlIGdlbmVyYXRlZC5cblVzZWQgYnkgc29tZSBwcm92aWRlcnMgZm9yIGFkZGl0aW9uYWwgTExNIGd1aWRhbmNlLCBlLmcuXG52aWEgdG9vbCBvciBzY2hlbWEgZGVzY3JpcHRpb24uXG4gICAgICAqL1xuICAgICAgICAgICAgc2NoZW1hRGVzY3JpcHRpb24/OiBzdHJpbmc7XG5cbiAgICAgICAgICAgIC8qKlxuVGhlIG1vZGUgdG8gdXNlIGZvciBvYmplY3QgZ2VuZXJhdGlvbi5cblxuVGhlIHNjaGVtYSBpcyBjb252ZXJ0ZWQgaW50byBhIEpTT04gc2NoZW1hIGFuZCB1c2VkIGluIG9uZSBvZiB0aGUgZm9sbG93aW5nIHdheXNcblxuLSAnYXV0byc6IFRoZSBwcm92aWRlciB3aWxsIGNob29zZSB0aGUgYmVzdCBtb2RlIGZvciB0aGUgbW9kZWwuXG4tICd0b29sJzogQSB0b29sIHdpdGggdGhlIEpTT04gc2NoZW1hIGFzIHBhcmFtZXRlcnMgaXMgcHJvdmlkZWQgYW5kIHRoZSBwcm92aWRlciBpcyBpbnN0cnVjdGVkIHRvIHVzZSBpdC5cbi0gJ2pzb24nOiBUaGUgSlNPTiBzY2hlbWEgYW5kIGFuIGluc3RydWN0aW9uIGFyZSBpbmplY3RlZCBpbnRvIHRoZSBwcm9tcHQuIElmIHRoZSBwcm92aWRlciBzdXBwb3J0cyBKU09OIG1vZGUsIGl0IGlzIGVuYWJsZWQuIElmIHRoZSBwcm92aWRlciBzdXBwb3J0cyBKU09OIGdyYW1tYXJzLCB0aGUgZ3JhbW1hciBpcyB1c2VkLlxuXG5QbGVhc2Ugbm90ZSB0aGF0IG1vc3QgcHJvdmlkZXJzIGRvIG5vdCBzdXBwb3J0IGFsbCBtb2Rlcy5cblxuRGVmYXVsdCBhbmQgcmVjb21tZW5kZWQ6ICdhdXRvJyAoYmVzdCBtb2RlIGZvciB0aGUgbW9kZWwpLlxuICAgICAgKi9cbiAgICAgICAgICAgIG1vZGU/OiAnYXV0bycgfCAnanNvbicgfCAndG9vbCc7XG4gICAgICAgICAgfSkgJiB7XG4gICAgICBvdXRwdXQ/OiBPVVRQVVQ7XG5cbiAgICAgIC8qKlxuVGhlIGxhbmd1YWdlIG1vZGVsIHRvIHVzZS5cbiAgICAgKi9cbiAgICAgIG1vZGVsOiBMYW5ndWFnZU1vZGVsO1xuXG4gICAgICAvKipcbkEgZnVuY3Rpb24gdGhhdCBhdHRlbXB0cyB0byByZXBhaXIgdGhlIHJhdyBvdXRwdXQgb2YgdGhlIG1vZGVsXG50byBlbmFibGUgSlNPTiBwYXJzaW5nLlxuICAgICAgICovXG4gICAgICBleHBlcmltZW50YWxfcmVwYWlyVGV4dD86IFJlcGFpclRleHRGdW5jdGlvbjtcblxuICAgICAgLyoqXG5PcHRpb25hbCB0ZWxlbWV0cnkgY29uZmlndXJhdGlvbiAoZXhwZXJpbWVudGFsKS5cbiAgICAgICAqL1xuXG4gICAgICBleHBlcmltZW50YWxfdGVsZW1ldHJ5PzogVGVsZW1ldHJ5U2V0dGluZ3M7XG5cbiAgICAgIC8qKlxuICBDdXN0b20gZG93bmxvYWQgZnVuY3Rpb24gdG8gdXNlIGZvciBVUkxzLlxuXG4gIEJ5IGRlZmF1bHQsIGZpbGVzIGFyZSBkb3dubG9hZGVkIGlmIHRoZSBtb2RlbCBkb2VzIG5vdCBzdXBwb3J0IHRoZSBVUkwgZm9yIHRoZSBnaXZlbiBtZWRpYSB0eXBlLlxuICAgICAgICovXG4gICAgICBleHBlcmltZW50YWxfZG93bmxvYWQ/OiBEb3dubG9hZEZ1bmN0aW9uIHwgdW5kZWZpbmVkO1xuXG4gICAgICAvKipcbkFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgb3B0aW9ucy4gVGhleSBhcmUgcGFzc2VkIHRocm91Z2hcbnRvIHRoZSBwcm92aWRlciBmcm9tIHRoZSBBSSBTREsgYW5kIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpY1xuZnVuY3Rpb25hbGl0eSB0aGF0IGNhbiBiZSBmdWxseSBlbmNhcHN1bGF0ZWQgaW4gdGhlIHByb3ZpZGVyLlxuICovXG4gICAgICBwcm92aWRlck9wdGlvbnM/OiBQcm92aWRlck9wdGlvbnM7XG5cbiAgICAgIC8qKlxuQ2FsbGJhY2sgdGhhdCBpcyBpbnZva2VkIHdoZW4gYW4gZXJyb3Igb2NjdXJzIGR1cmluZyBzdHJlYW1pbmcuXG5Zb3UgY2FuIHVzZSBpdCB0byBsb2cgZXJyb3JzLlxuVGhlIHN0cmVhbSBwcm9jZXNzaW5nIHdpbGwgcGF1c2UgdW50aWwgdGhlIGNhbGxiYWNrIHByb21pc2UgaXMgcmVzb2x2ZWQuXG4gICAgICovXG4gICAgICBvbkVycm9yPzogU3RyZWFtT2JqZWN0T25FcnJvckNhbGxiYWNrO1xuXG4gICAgICAvKipcbkNhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIExMTSByZXNwb25zZSBhbmQgdGhlIGZpbmFsIG9iamVjdCB2YWxpZGF0aW9uIGFyZSBmaW5pc2hlZC5cbiovXG4gICAgICBvbkZpbmlzaD86IFN0cmVhbU9iamVjdE9uRmluaXNoQ2FsbGJhY2s8UkVTVUxUPjtcblxuICAgICAgLyoqXG4gICAgICAgKiBJbnRlcm5hbC4gRm9yIHRlc3QgdXNlIG9ubHkuIE1heSBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gICAgICAgKi9cbiAgICAgIF9pbnRlcm5hbD86IHtcbiAgICAgICAgZ2VuZXJhdGVJZD86ICgpID0+IHN0cmluZztcbiAgICAgICAgY3VycmVudERhdGU/OiAoKSA9PiBEYXRlO1xuICAgICAgICBub3c/OiAoKSA9PiBudW1iZXI7XG4gICAgICB9O1xuICAgIH0sXG4pOiBTdHJlYW1PYmplY3RSZXN1bHQ8XG4gIE9VVFBVVCBleHRlbmRzICdlbnVtJ1xuICAgID8gc3RyaW5nXG4gICAgOiBPVVRQVVQgZXh0ZW5kcyAnYXJyYXknXG4gICAgICA/IFJFU1VMVFxuICAgICAgOiBEZWVwUGFydGlhbDxSRVNVTFQ+LFxuICBPVVRQVVQgZXh0ZW5kcyAnYXJyYXknID8gUkVTVUxUIDogUkVTVUxULFxuICBPVVRQVVQgZXh0ZW5kcyAnYXJyYXknXG4gICAgPyBSRVNVTFQgZXh0ZW5kcyBBcnJheTxpbmZlciBVPlxuICAgICAgPyBBc3luY0l0ZXJhYmxlU3RyZWFtPFU+XG4gICAgICA6IG5ldmVyXG4gICAgOiBuZXZlclxuPiB7XG4gIGNvbnN0IHtcbiAgICBtb2RlbCxcbiAgICBvdXRwdXQgPSAnb2JqZWN0JyxcbiAgICBzeXN0ZW0sXG4gICAgcHJvbXB0LFxuICAgIG1lc3NhZ2VzLFxuICAgIG1heFJldHJpZXMsXG4gICAgYWJvcnRTaWduYWwsXG4gICAgaGVhZGVycyxcbiAgICBleHBlcmltZW50YWxfcmVwYWlyVGV4dDogcmVwYWlyVGV4dCxcbiAgICBleHBlcmltZW50YWxfdGVsZW1ldHJ5OiB0ZWxlbWV0cnksXG4gICAgZXhwZXJpbWVudGFsX2Rvd25sb2FkOiBkb3dubG9hZCxcbiAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgb25FcnJvciA9ICh7IGVycm9yIH06IHsgZXJyb3I6IHVua25vd24gfSkgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfSxcbiAgICBvbkZpbmlzaCxcbiAgICBfaW50ZXJuYWw6IHtcbiAgICAgIGdlbmVyYXRlSWQgPSBvcmlnaW5hbEdlbmVyYXRlSWQsXG4gICAgICBjdXJyZW50RGF0ZSA9ICgpID0+IG5ldyBEYXRlKCksXG4gICAgICBub3cgPSBvcmlnaW5hbE5vdyxcbiAgICB9ID0ge30sXG4gICAgLi4uc2V0dGluZ3NcbiAgfSA9IG9wdGlvbnM7XG5cbiAgY29uc3QgZW51bVZhbHVlcyA9XG4gICAgJ2VudW0nIGluIG9wdGlvbnMgJiYgb3B0aW9ucy5lbnVtID8gb3B0aW9ucy5lbnVtIDogdW5kZWZpbmVkO1xuXG4gIGNvbnN0IHtcbiAgICBzY2hlbWE6IGlucHV0U2NoZW1hLFxuICAgIHNjaGVtYURlc2NyaXB0aW9uLFxuICAgIHNjaGVtYU5hbWUsXG4gIH0gPSAnc2NoZW1hJyBpbiBvcHRpb25zID8gb3B0aW9ucyA6IHt9O1xuXG4gIHZhbGlkYXRlT2JqZWN0R2VuZXJhdGlvbklucHV0KHtcbiAgICBvdXRwdXQsXG4gICAgc2NoZW1hOiBpbnB1dFNjaGVtYSxcbiAgICBzY2hlbWFOYW1lLFxuICAgIHNjaGVtYURlc2NyaXB0aW9uLFxuICAgIGVudW1WYWx1ZXMsXG4gIH0pO1xuXG4gIGNvbnN0IG91dHB1dFN0cmF0ZWd5ID0gZ2V0T3V0cHV0U3RyYXRlZ3koe1xuICAgIG91dHB1dCxcbiAgICBzY2hlbWE6IGlucHV0U2NoZW1hLFxuICAgIGVudW1WYWx1ZXMsXG4gIH0pO1xuXG4gIHJldHVybiBuZXcgRGVmYXVsdFN0cmVhbU9iamVjdFJlc3VsdCh7XG4gICAgbW9kZWwsXG4gICAgdGVsZW1ldHJ5LFxuICAgIGhlYWRlcnMsXG4gICAgc2V0dGluZ3MsXG4gICAgbWF4UmV0cmllcyxcbiAgICBhYm9ydFNpZ25hbCxcbiAgICBvdXRwdXRTdHJhdGVneSxcbiAgICBzeXN0ZW0sXG4gICAgcHJvbXB0LFxuICAgIG1lc3NhZ2VzLFxuICAgIHNjaGVtYU5hbWUsXG4gICAgc2NoZW1hRGVzY3JpcHRpb24sXG4gICAgcHJvdmlkZXJPcHRpb25zLFxuICAgIHJlcGFpclRleHQsXG4gICAgb25FcnJvcixcbiAgICBvbkZpbmlzaCxcbiAgICBkb3dubG9hZCxcbiAgICBnZW5lcmF0ZUlkLFxuICAgIGN1cnJlbnREYXRlLFxuICAgIG5vdyxcbiAgfSk7XG59XG5cbmNsYXNzIERlZmF1bHRTdHJlYW1PYmplY3RSZXN1bHQ8UEFSVElBTCwgUkVTVUxULCBFTEVNRU5UX1NUUkVBTT5cbiAgaW1wbGVtZW50cyBTdHJlYW1PYmplY3RSZXN1bHQ8UEFSVElBTCwgUkVTVUxULCBFTEVNRU5UX1NUUkVBTT5cbntcbiAgcHJpdmF0ZSByZWFkb25seSBfb2JqZWN0ID0gbmV3IERlbGF5ZWRQcm9taXNlPFJFU1VMVD4oKTtcbiAgcHJpdmF0ZSByZWFkb25seSBfdXNhZ2UgPSBuZXcgRGVsYXllZFByb21pc2U8TGFuZ3VhZ2VNb2RlbFVzYWdlPigpO1xuICBwcml2YXRlIHJlYWRvbmx5IF9wcm92aWRlck1ldGFkYXRhID0gbmV3IERlbGF5ZWRQcm9taXNlPFxuICAgIFByb3ZpZGVyTWV0YWRhdGEgfCB1bmRlZmluZWRcbiAgPigpO1xuICBwcml2YXRlIHJlYWRvbmx5IF93YXJuaW5ncyA9IG5ldyBEZWxheWVkUHJvbWlzZTxDYWxsV2FybmluZ1tdIHwgdW5kZWZpbmVkPigpO1xuICBwcml2YXRlIHJlYWRvbmx5IF9yZXF1ZXN0ID1cbiAgICBuZXcgRGVsYXllZFByb21pc2U8TGFuZ3VhZ2VNb2RlbFJlcXVlc3RNZXRhZGF0YT4oKTtcbiAgcHJpdmF0ZSByZWFkb25seSBfcmVzcG9uc2UgPVxuICAgIG5ldyBEZWxheWVkUHJvbWlzZTxMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YT4oKTtcbiAgcHJpdmF0ZSByZWFkb25seSBfZmluaXNoUmVhc29uID0gbmV3IERlbGF5ZWRQcm9taXNlPEZpbmlzaFJlYXNvbj4oKTtcblxuICBwcml2YXRlIHJlYWRvbmx5IGJhc2VTdHJlYW06IFJlYWRhYmxlU3RyZWFtPE9iamVjdFN0cmVhbVBhcnQ8UEFSVElBTD4+O1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgb3V0cHV0U3RyYXRlZ3k6IE91dHB1dFN0cmF0ZWd5PFxuICAgIFBBUlRJQUwsXG4gICAgUkVTVUxULFxuICAgIEVMRU1FTlRfU1RSRUFNXG4gID47XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1vZGVsOiBtb2RlbEFyZyxcbiAgICBoZWFkZXJzLFxuICAgIHRlbGVtZXRyeSxcbiAgICBzZXR0aW5ncyxcbiAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICAgIGFib3J0U2lnbmFsLFxuICAgIG91dHB1dFN0cmF0ZWd5LFxuICAgIHN5c3RlbSxcbiAgICBwcm9tcHQsXG4gICAgbWVzc2FnZXMsXG4gICAgc2NoZW1hTmFtZSxcbiAgICBzY2hlbWFEZXNjcmlwdGlvbixcbiAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgcmVwYWlyVGV4dCxcbiAgICBvbkVycm9yLFxuICAgIG9uRmluaXNoLFxuICAgIGRvd25sb2FkLFxuICAgIGdlbmVyYXRlSWQsXG4gICAgY3VycmVudERhdGUsXG4gICAgbm93LFxuICB9OiB7XG4gICAgbW9kZWw6IExhbmd1YWdlTW9kZWw7XG4gICAgdGVsZW1ldHJ5OiBUZWxlbWV0cnlTZXR0aW5ncyB8IHVuZGVmaW5lZDtcbiAgICBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCB1bmRlZmluZWQ+IHwgdW5kZWZpbmVkO1xuICAgIHNldHRpbmdzOiBPbWl0PENhbGxTZXR0aW5ncywgJ2Fib3J0U2lnbmFsJyB8ICdoZWFkZXJzJz47XG4gICAgbWF4UmV0cmllczogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIGFib3J0U2lnbmFsOiBBYm9ydFNpZ25hbCB8IHVuZGVmaW5lZDtcbiAgICBvdXRwdXRTdHJhdGVneTogT3V0cHV0U3RyYXRlZ3k8UEFSVElBTCwgUkVTVUxULCBFTEVNRU5UX1NUUkVBTT47XG4gICAgc3lzdGVtOiBQcm9tcHRbJ3N5c3RlbSddO1xuICAgIHByb21wdDogUHJvbXB0Wydwcm9tcHQnXTtcbiAgICBtZXNzYWdlczogUHJvbXB0WydtZXNzYWdlcyddO1xuICAgIHNjaGVtYU5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICBzY2hlbWFEZXNjcmlwdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIHByb3ZpZGVyT3B0aW9uczogUHJvdmlkZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgIHJlcGFpclRleHQ6IFJlcGFpclRleHRGdW5jdGlvbiB8IHVuZGVmaW5lZDtcbiAgICBvbkVycm9yOiBTdHJlYW1PYmplY3RPbkVycm9yQ2FsbGJhY2s7XG4gICAgb25GaW5pc2g6IFN0cmVhbU9iamVjdE9uRmluaXNoQ2FsbGJhY2s8UkVTVUxUPiB8IHVuZGVmaW5lZDtcbiAgICBkb3dubG9hZDogRG93bmxvYWRGdW5jdGlvbiB8IHVuZGVmaW5lZDtcbiAgICBnZW5lcmF0ZUlkOiAoKSA9PiBzdHJpbmc7XG4gICAgY3VycmVudERhdGU6ICgpID0+IERhdGU7XG4gICAgbm93OiAoKSA9PiBudW1iZXI7XG4gIH0pIHtcbiAgICBjb25zdCBtb2RlbCA9IHJlc29sdmVMYW5ndWFnZU1vZGVsKG1vZGVsQXJnKTtcblxuICAgIGNvbnN0IHsgbWF4UmV0cmllcywgcmV0cnkgfSA9IHByZXBhcmVSZXRyaWVzKHtcbiAgICAgIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gICAgICBhYm9ydFNpZ25hbCxcbiAgICB9KTtcblxuICAgIGNvbnN0IGNhbGxTZXR0aW5ncyA9IHByZXBhcmVDYWxsU2V0dGluZ3Moc2V0dGluZ3MpO1xuXG4gICAgY29uc3QgYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMgPSBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICBtb2RlbCxcbiAgICAgIHRlbGVtZXRyeSxcbiAgICAgIGhlYWRlcnMsXG4gICAgICBzZXR0aW5nczogeyAuLi5jYWxsU2V0dGluZ3MsIG1heFJldHJpZXMgfSxcbiAgICB9KTtcblxuICAgIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcih0ZWxlbWV0cnkpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgY29uc3Qgc3RpdGNoYWJsZVN0cmVhbSA9XG4gICAgICBjcmVhdGVTdGl0Y2hhYmxlU3RyZWFtPE9iamVjdFN0cmVhbVBhcnQ8UEFSVElBTD4+KCk7XG5cbiAgICBjb25zdCBldmVudFByb2Nlc3NvciA9IG5ldyBUcmFuc2Zvcm1TdHJlYW08XG4gICAgICBPYmplY3RTdHJlYW1QYXJ0PFBBUlRJQUw+LFxuICAgICAgT2JqZWN0U3RyZWFtUGFydDxQQVJUSUFMPlxuICAgID4oe1xuICAgICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG5cbiAgICAgICAgaWYgKGNodW5rLnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICBvbkVycm9yKHsgZXJyb3I6IHdyYXBHYXRld2F5RXJyb3IoY2h1bmsuZXJyb3IpIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5iYXNlU3RyZWFtID0gc3RpdGNoYWJsZVN0cmVhbS5zdHJlYW0ucGlwZVRocm91Z2goZXZlbnRQcm9jZXNzb3IpO1xuXG4gICAgcmVjb3JkU3Bhbih7XG4gICAgICBuYW1lOiAnYWkuc3RyZWFtT2JqZWN0JyxcbiAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgb3BlcmF0aW9uSWQ6ICdhaS5zdHJlYW1PYmplY3QnLFxuICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAgIC8vIHNwZWNpZmljIHNldHRpbmdzIHRoYXQgb25seSBtYWtlIHNlbnNlIG9uIHRoZSBvdXRlciBsZXZlbDpcbiAgICAgICAgICAnYWkucHJvbXB0Jzoge1xuICAgICAgICAgICAgaW5wdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KHsgc3lzdGVtLCBwcm9tcHQsIG1lc3NhZ2VzIH0pLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgJ2FpLnNjaGVtYSc6XG4gICAgICAgICAgICBvdXRwdXRTdHJhdGVneS5qc29uU2NoZW1hICE9IG51bGxcbiAgICAgICAgICAgICAgPyB7IGlucHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeShvdXRwdXRTdHJhdGVneS5qc29uU2NoZW1hKSB9XG4gICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICdhaS5zY2hlbWEubmFtZSc6IHNjaGVtYU5hbWUsXG4gICAgICAgICAgJ2FpLnNjaGVtYS5kZXNjcmlwdGlvbic6IHNjaGVtYURlc2NyaXB0aW9uLFxuICAgICAgICAgICdhaS5zZXR0aW5ncy5vdXRwdXQnOiBvdXRwdXRTdHJhdGVneS50eXBlLFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgICB0cmFjZXIsXG4gICAgICBlbmRXaGVuRG9uZTogZmFsc2UsXG4gICAgICBmbjogYXN5bmMgcm9vdFNwYW4gPT4ge1xuICAgICAgICBjb25zdCBzdGFuZGFyZGl6ZWRQcm9tcHQgPSBhd2FpdCBzdGFuZGFyZGl6ZVByb21wdCh7XG4gICAgICAgICAgc3lzdGVtLFxuICAgICAgICAgIHByb21wdCxcbiAgICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgfSBhcyBQcm9tcHQpO1xuXG4gICAgICAgIGNvbnN0IGNhbGxPcHRpb25zID0ge1xuICAgICAgICAgIHJlc3BvbnNlRm9ybWF0OiB7XG4gICAgICAgICAgICB0eXBlOiAnanNvbicgYXMgY29uc3QsXG4gICAgICAgICAgICBzY2hlbWE6IG91dHB1dFN0cmF0ZWd5Lmpzb25TY2hlbWEsXG4gICAgICAgICAgICBuYW1lOiBzY2hlbWFOYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHNjaGVtYURlc2NyaXB0aW9uLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLi4ucHJlcGFyZUNhbGxTZXR0aW5ncyhzZXR0aW5ncyksXG4gICAgICAgICAgcHJvbXB0OiBhd2FpdCBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsUHJvbXB0KHtcbiAgICAgICAgICAgIHByb21wdDogc3RhbmRhcmRpemVkUHJvbXB0LFxuICAgICAgICAgICAgc3VwcG9ydGVkVXJsczogYXdhaXQgbW9kZWwuc3VwcG9ydGVkVXJscyxcbiAgICAgICAgICAgIGRvd25sb2FkLFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgIGluY2x1ZGVSYXdDaHVua3M6IGZhbHNlLFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWVyOiBUcmFuc2Zvcm1lcjxcbiAgICAgICAgICBMYW5ndWFnZU1vZGVsVjJTdHJlYW1QYXJ0LFxuICAgICAgICAgIE9iamVjdFN0cmVhbUlucHV0UGFydFxuICAgICAgICA+ID0ge1xuICAgICAgICAgIHRyYW5zZm9ybTogKGNodW5rLCBjb250cm9sbGVyKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKGNodW5rLnR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSAndGV4dC1kZWx0YSc6XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rLmRlbHRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAncmVzcG9uc2UtbWV0YWRhdGEnOlxuICAgICAgICAgICAgICBjYXNlICdmaW5pc2gnOlxuICAgICAgICAgICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgICAgICAgIGNhc2UgJ3N0cmVhbS1zdGFydCc6XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICByZXN1bHQ6IHsgc3RyZWFtLCByZXNwb25zZSwgcmVxdWVzdCB9LFxuICAgICAgICAgIGRvU3RyZWFtU3BhbixcbiAgICAgICAgICBzdGFydFRpbWVzdGFtcE1zLFxuICAgICAgICB9ID0gYXdhaXQgcmV0cnkoKCkgPT5cbiAgICAgICAgICByZWNvcmRTcGFuKHtcbiAgICAgICAgICAgIG5hbWU6ICdhaS5zdHJlYW1PYmplY3QuZG9TdHJlYW0nLFxuICAgICAgICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICAgICAgICBvcGVyYXRpb25JZDogJ2FpLnN0cmVhbU9iamVjdC5kb1N0cmVhbScsXG4gICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgLi4uYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgJ2FpLnByb21wdC5tZXNzYWdlcyc6IHtcbiAgICAgICAgICAgICAgICAgIGlucHV0OiAoKSA9PiBzdHJpbmdpZnlGb3JUZWxlbWV0cnkoY2FsbE9wdGlvbnMucHJvbXB0KSxcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLy8gc3RhbmRhcmRpemVkIGdlbi1haSBsbG0gc3BhbiBhdHRyaWJ1dGVzOlxuICAgICAgICAgICAgICAgICdnZW5fYWkuc3lzdGVtJzogbW9kZWwucHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0Lm1vZGVsJzogbW9kZWwubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QuZnJlcXVlbmN5X3BlbmFsdHknOlxuICAgICAgICAgICAgICAgICAgY2FsbFNldHRpbmdzLmZyZXF1ZW5jeVBlbmFsdHksXG4gICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0Lm1heF90b2tlbnMnOiBjYWxsU2V0dGluZ3MubWF4T3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC5wcmVzZW5jZV9wZW5hbHR5JzogY2FsbFNldHRpbmdzLnByZXNlbmNlUGVuYWx0eSxcbiAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QudGVtcGVyYXR1cmUnOiBjYWxsU2V0dGluZ3MudGVtcGVyYXR1cmUsXG4gICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnRvcF9rJzogY2FsbFNldHRpbmdzLnRvcEssXG4gICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnRvcF9wJzogY2FsbFNldHRpbmdzLnRvcFAsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHRyYWNlcixcbiAgICAgICAgICAgIGVuZFdoZW5Eb25lOiBmYWxzZSxcbiAgICAgICAgICAgIGZuOiBhc3luYyBkb1N0cmVhbVNwYW4gPT4gKHtcbiAgICAgICAgICAgICAgc3RhcnRUaW1lc3RhbXBNczogbm93KCksXG4gICAgICAgICAgICAgIGRvU3RyZWFtU3BhbixcbiAgICAgICAgICAgICAgcmVzdWx0OiBhd2FpdCBtb2RlbC5kb1N0cmVhbShjYWxsT3B0aW9ucyksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcblxuICAgICAgICBzZWxmLl9yZXF1ZXN0LnJlc29sdmUocmVxdWVzdCA/PyB7fSk7XG5cbiAgICAgICAgLy8gc3RvcmUgaW5mb3JtYXRpb24gZm9yIG9uRmluaXNoIGNhbGxiYWNrOlxuICAgICAgICBsZXQgd2FybmluZ3M6IExhbmd1YWdlTW9kZWxWMkNhbGxXYXJuaW5nW10gfCB1bmRlZmluZWQ7XG4gICAgICAgIGxldCB1c2FnZTogTGFuZ3VhZ2VNb2RlbFVzYWdlID0ge1xuICAgICAgICAgIGlucHV0VG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgICAgb3V0cHV0VG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgICAgdG90YWxUb2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGZpbmlzaFJlYXNvbjogTGFuZ3VhZ2VNb2RlbFYyRmluaXNoUmVhc29uIHwgdW5kZWZpbmVkO1xuICAgICAgICBsZXQgcHJvdmlkZXJNZXRhZGF0YTogUHJvdmlkZXJNZXRhZGF0YSB8IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IG9iamVjdDogUkVTVUxUIHwgdW5kZWZpbmVkO1xuICAgICAgICBsZXQgZXJyb3I6IHVua25vd24gfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gcGlwZSBjaHVua3MgdGhyb3VnaCBhIHRyYW5zZm9ybWF0aW9uIHN0cmVhbSB0aGF0IGV4dHJhY3RzIG1ldGFkYXRhOlxuICAgICAgICBsZXQgYWNjdW11bGF0ZWRUZXh0ID0gJyc7XG4gICAgICAgIGxldCB0ZXh0RGVsdGEgPSAnJztcbiAgICAgICAgbGV0IGZ1bGxSZXNwb25zZToge1xuICAgICAgICAgIGlkOiBzdHJpbmc7XG4gICAgICAgICAgdGltZXN0YW1wOiBEYXRlO1xuICAgICAgICAgIG1vZGVsSWQ6IHN0cmluZztcbiAgICAgICAgfSA9IHtcbiAgICAgICAgICBpZDogZ2VuZXJhdGVJZCgpLFxuICAgICAgICAgIHRpbWVzdGFtcDogY3VycmVudERhdGUoKSxcbiAgICAgICAgICBtb2RlbElkOiBtb2RlbC5tb2RlbElkLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEtlZXAgdHJhY2sgb2YgcmF3IHBhcnNlIHJlc3VsdCBiZWZvcmUgdHlwZSB2YWxpZGF0aW9uLCBzaW5jZSBlLmcuIFpvZCBtaWdodFxuICAgICAgICAvLyBjaGFuZ2UgdGhlIG9iamVjdCBieSBtYXBwaW5nIHByb3BlcnRpZXMuXG4gICAgICAgIGxldCBsYXRlc3RPYmplY3RKc29uOiBKU09OVmFsdWUgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBsYXRlc3RPYmplY3Q6IFBBUlRJQUwgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBpc0ZpcnN0Q2h1bmsgPSB0cnVlO1xuICAgICAgICBsZXQgaXNGaXJzdERlbHRhID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCB0cmFuc2Zvcm1lZFN0cmVhbSA9IHN0cmVhbVxuICAgICAgICAgIC5waXBlVGhyb3VnaChuZXcgVHJhbnNmb3JtU3RyZWFtKHRyYW5zZm9ybWVyKSlcbiAgICAgICAgICAucGlwZVRocm91Z2goXG4gICAgICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPFxuICAgICAgICAgICAgICBzdHJpbmcgfCBPYmplY3RTdHJlYW1JbnB1dFBhcnQsXG4gICAgICAgICAgICAgIE9iamVjdFN0cmVhbVBhcnQ8UEFSVElBTD5cbiAgICAgICAgICAgID4oe1xuICAgICAgICAgICAgICBhc3luYyB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICB0eXBlb2YgY2h1bmsgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAgICAgICBjaHVuay50eXBlID09PSAnc3RyZWFtLXN0YXJ0J1xuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgd2FybmluZ3MgPSBjaHVuay53YXJuaW5ncztcbiAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gc3RyZWFtIHN0YXJ0IGNodW5rcyBhcmUgc2VudCBpbW1lZGlhdGVseSBhbmQgZG8gbm90IGNvdW50IGFzIGZpcnN0IGNodW5rXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gVGVsZW1ldHJ5IGV2ZW50IGZvciBmaXJzdCBjaHVuazpcbiAgICAgICAgICAgICAgICBpZiAoaXNGaXJzdENodW5rKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBtc1RvRmlyc3RDaHVuayA9IG5vdygpIC0gc3RhcnRUaW1lc3RhbXBNcztcblxuICAgICAgICAgICAgICAgICAgaXNGaXJzdENodW5rID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5hZGRFdmVudCgnYWkuc3RyZWFtLmZpcnN0Q2h1bmsnLCB7XG4gICAgICAgICAgICAgICAgICAgICdhaS5zdHJlYW0ubXNUb0ZpcnN0Q2h1bmsnOiBtc1RvRmlyc3RDaHVuayxcbiAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICBkb1N0cmVhbVNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICdhaS5zdHJlYW0ubXNUb0ZpcnN0Q2h1bmsnOiBtc1RvRmlyc3RDaHVuayxcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHByb2Nlc3MgcGFydGlhbCB0ZXh0IGNodW5rc1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICBhY2N1bXVsYXRlZFRleHQgKz0gY2h1bms7XG4gICAgICAgICAgICAgICAgICB0ZXh0RGVsdGEgKz0gY2h1bms7XG5cbiAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IGN1cnJlbnRPYmplY3RKc29uLCBzdGF0ZTogcGFyc2VTdGF0ZSB9ID1cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcGFyc2VQYXJ0aWFsSnNvbihhY2N1bXVsYXRlZFRleHQpO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3RKc29uICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgIWlzRGVlcEVxdWFsRGF0YShsYXRlc3RPYmplY3RKc29uLCBjdXJyZW50T2JqZWN0SnNvbilcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID1cbiAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBvdXRwdXRTdHJhdGVneS52YWxpZGF0ZVBhcnRpYWxSZXN1bHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGN1cnJlbnRPYmplY3RKc29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dERlbHRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0ZXN0T2JqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNGaXJzdERlbHRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNGaW5hbERlbHRhOiBwYXJzZVN0YXRlID09PSAnc3VjY2Vzc2Z1bC1wYXJzZScsXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQuc3VjY2VzcyAmJlxuICAgICAgICAgICAgICAgICAgICAgICFpc0RlZXBFcXVhbERhdGEoXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXRlc3RPYmplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LnZhbHVlLnBhcnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBpbnNpZGUgaW5uZXIgY2hlY2sgdG8gY29ycmVjdGx5IHBhcnNlIHRoZSBmaW5hbCBlbGVtZW50IGluIGFycmF5IG1vZGU6XG4gICAgICAgICAgICAgICAgICAgICAgbGF0ZXN0T2JqZWN0SnNvbiA9IGN1cnJlbnRPYmplY3RKc29uO1xuICAgICAgICAgICAgICAgICAgICAgIGxhdGVzdE9iamVjdCA9IHZhbGlkYXRpb25SZXN1bHQudmFsdWUucGFydGlhbDtcblxuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdDogbGF0ZXN0T2JqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0LWRlbHRhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHREZWx0YTogdmFsaWRhdGlvblJlc3VsdC52YWx1ZS50ZXh0RGVsdGEsXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICB0ZXh0RGVsdGEgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICBpc0ZpcnN0RGVsdGEgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChjaHVuay50eXBlKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlICdyZXNwb25zZS1tZXRhZGF0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgZnVsbFJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgICAgICAgIGlkOiBjaHVuay5pZCA/PyBmdWxsUmVzcG9uc2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBjaHVuay50aW1lc3RhbXAgPz8gZnVsbFJlc3BvbnNlLnRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICAgICAgICBtb2RlbElkOiBjaHVuay5tb2RlbElkID8/IGZ1bGxSZXNwb25zZS5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgY2FzZSAnZmluaXNoJzoge1xuICAgICAgICAgICAgICAgICAgICAvLyBzZW5kIGZpbmFsIHRleHQgZGVsdGE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0RGVsdGEgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ3RleHQtZGVsdGEnLCB0ZXh0RGVsdGEgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBzdG9yZSBmaW5pc2ggcmVhc29uIGZvciB0ZWxlbWV0cnk6XG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaFJlYXNvbiA9IGNodW5rLmZpbmlzaFJlYXNvbjtcblxuICAgICAgICAgICAgICAgICAgICAvLyBzdG9yZSB1c2FnZSBhbmQgbWV0YWRhdGEgZm9yIHByb21pc2VzIGFuZCBvbkZpbmlzaCBjYWxsYmFjazpcbiAgICAgICAgICAgICAgICAgICAgdXNhZ2UgPSBjaHVuay51c2FnZTtcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YSA9IGNodW5rLnByb3ZpZGVyTWV0YWRhdGE7XG5cbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAuLi5jaHVuayxcbiAgICAgICAgICAgICAgICAgICAgICB1c2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZTogZnVsbFJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBsb2cgd2FybmluZ3M6XG4gICAgICAgICAgICAgICAgICAgIGxvZ1dhcm5pbmdzKHdhcm5pbmdzID8/IFtdKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyByZXNvbHZlIHByb21pc2VzIHRoYXQgY2FuIGJlIHJlc29sdmVkIG5vdzpcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fdXNhZ2UucmVzb2x2ZSh1c2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3Byb3ZpZGVyTWV0YWRhdGEucmVzb2x2ZShwcm92aWRlck1ldGFkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fd2FybmluZ3MucmVzb2x2ZSh3YXJuaW5ncyk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3Jlc3BvbnNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICAgIC4uLmZ1bGxSZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiByZXNwb25zZT8uaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2ZpbmlzaFJlYXNvbi5yZXNvbHZlKGZpbmlzaFJlYXNvbiA/PyAndW5rbm93bicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgb2JqZWN0ID0gYXdhaXQgcGFyc2VBbmRWYWxpZGF0ZU9iamVjdFJlc3VsdFdpdGhSZXBhaXIoXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2N1bXVsYXRlZFRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRTdHJhdGVneSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGFpclRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiBmdWxsUmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHVzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgc2VsZi5fb2JqZWN0LnJlc29sdmUob2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gZTtcbiAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9vYmplY3QucmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAvLyBpbnZva2Ugb25GaW5pc2ggY2FsbGJhY2sgYW5kIHJlc29sdmUgdG9vbFJlc3VsdHMgcHJvbWlzZSB3aGVuIHRoZSBzdHJlYW0gaXMgYWJvdXQgdG8gY2xvc2U6XG4gICAgICAgICAgICAgIGFzeW5jIGZsdXNoKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgZmluYWxVc2FnZSA9IHVzYWdlID8/IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbXB0VG9rZW5zOiBOYU4sXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRpb25Ub2tlbnM6IE5hTixcbiAgICAgICAgICAgICAgICAgICAgdG90YWxUb2tlbnM6IE5hTixcbiAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLmZpbmlzaFJlYXNvbic6IGZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5vYmplY3QnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkob2JqZWN0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UuaWQnOiBmdWxsUmVzcG9uc2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UubW9kZWwnOiBmdWxsUmVzcG9uc2UubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS50aW1lc3RhbXAnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxsUmVzcG9uc2UudGltZXN0YW1wLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByb3ZpZGVyTWV0YWRhdGEpLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UuaW5wdXRUb2tlbnMnOiBmaW5hbFVzYWdlLmlucHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLm91dHB1dFRva2Vucyc6IGZpbmFsVXNhZ2Uub3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLnRvdGFsVG9rZW5zJzogZmluYWxVc2FnZS50b3RhbFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS5yZWFzb25pbmdUb2tlbnMnOiBmaW5hbFVzYWdlLnJlYXNvbmluZ1Rva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS5jYWNoZWRJbnB1dFRva2Vucyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsVXNhZ2UuY2FjaGVkSW5wdXRUb2tlbnMsXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0YW5kYXJkaXplZCBnZW4tYWkgbGxtIHNwYW4gYXR0cmlidXRlczpcbiAgICAgICAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVzcG9uc2UuZmluaXNoX3JlYXNvbnMnOiBbZmluaXNoUmVhc29uXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVzcG9uc2UuaWQnOiBmdWxsUmVzcG9uc2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlc3BvbnNlLm1vZGVsJzogZnVsbFJlc3BvbnNlLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnVzYWdlLmlucHV0X3Rva2Vucyc6IGZpbmFsVXNhZ2UuaW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnVzYWdlLm91dHB1dF90b2tlbnMnOiBmaW5hbFVzYWdlLm91dHB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIGZpbmlzaCBkb1N0cmVhbVNwYW4gYmVmb3JlIG90aGVyIG9wZXJhdGlvbnMgZm9yIGNvcnJlY3QgdGltaW5nOlxuICAgICAgICAgICAgICAgICAgZG9TdHJlYW1TcGFuLmVuZCgpO1xuXG4gICAgICAgICAgICAgICAgICAvLyBBZGQgcmVzcG9uc2UgaW5mb3JtYXRpb24gdG8gdGhlIHJvb3Qgc3BhbjpcbiAgICAgICAgICAgICAgICAgIHJvb3RTcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UuaW5wdXRUb2tlbnMnOiBmaW5hbFVzYWdlLmlucHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLm91dHB1dFRva2Vucyc6IGZpbmFsVXNhZ2Uub3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLnRvdGFsVG9rZW5zJzogZmluYWxVc2FnZS50b3RhbFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS5yZWFzb25pbmdUb2tlbnMnOiBmaW5hbFVzYWdlLnJlYXNvbmluZ1Rva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS5jYWNoZWRJbnB1dFRva2Vucyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsVXNhZ2UuY2FjaGVkSW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2Uub2JqZWN0Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KG9iamVjdCksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnByb3ZpZGVyTWV0YWRhdGEnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShwcm92aWRlck1ldGFkYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIGNhbGwgb25GaW5pc2ggY2FsbGJhY2s6XG4gICAgICAgICAgICAgICAgICBhd2FpdCBvbkZpbmlzaD8uKHtcbiAgICAgICAgICAgICAgICAgICAgdXNhZ2U6IGZpbmFsVXNhZ2UsXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdCxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgLi4uZnVsbFJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlPy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB3YXJuaW5ncyxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAnZXJyb3InLCBlcnJvciB9KTtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgcm9vdFNwYW4uZW5kKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKTtcblxuICAgICAgICBzdGl0Y2hhYmxlU3RyZWFtLmFkZFN0cmVhbSh0cmFuc2Zvcm1lZFN0cmVhbSk7XG4gICAgICB9LFxuICAgIH0pXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAvLyBhZGQgYW4gZW1wdHkgc3RyZWFtIHdpdGggYW4gZXJyb3IgdG8gYnJlYWsgdGhlIHN0cmVhbTpcbiAgICAgICAgc3RpdGNoYWJsZVN0cmVhbS5hZGRTdHJlYW0oXG4gICAgICAgICAgbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgICAgICAgIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ2Vycm9yJywgZXJyb3IgfSk7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgICk7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBzdGl0Y2hhYmxlU3RyZWFtLmNsb3NlKCk7XG4gICAgICB9KTtcblxuICAgIHRoaXMub3V0cHV0U3RyYXRlZ3kgPSBvdXRwdXRTdHJhdGVneTtcbiAgfVxuXG4gIGdldCBvYmplY3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuX29iamVjdC5wcm9taXNlO1xuICB9XG5cbiAgZ2V0IHVzYWdlKCkge1xuICAgIHJldHVybiB0aGlzLl91c2FnZS5wcm9taXNlO1xuICB9XG5cbiAgZ2V0IHByb3ZpZGVyTWV0YWRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb3ZpZGVyTWV0YWRhdGEucHJvbWlzZTtcbiAgfVxuXG4gIGdldCB3YXJuaW5ncygpIHtcbiAgICByZXR1cm4gdGhpcy5fd2FybmluZ3MucHJvbWlzZTtcbiAgfVxuXG4gIGdldCByZXF1ZXN0KCkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0LnByb21pc2U7XG4gIH1cblxuICBnZXQgcmVzcG9uc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Jlc3BvbnNlLnByb21pc2U7XG4gIH1cblxuICBnZXQgZmluaXNoUmVhc29uKCkge1xuICAgIHJldHVybiB0aGlzLl9maW5pc2hSZWFzb24ucHJvbWlzZTtcbiAgfVxuXG4gIGdldCBwYXJ0aWFsT2JqZWN0U3RyZWFtKCk6IEFzeW5jSXRlcmFibGVTdHJlYW08UEFSVElBTD4ge1xuICAgIHJldHVybiBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtKFxuICAgICAgdGhpcy5iYXNlU3RyZWFtLnBpcGVUaHJvdWdoKFxuICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPE9iamVjdFN0cmVhbVBhcnQ8UEFSVElBTD4sIFBBUlRJQUw+KHtcbiAgICAgICAgICB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoY2h1bmsudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuay5vYmplY3QpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgJ3RleHQtZGVsdGEnOlxuICAgICAgICAgICAgICBjYXNlICdmaW5pc2gnOlxuICAgICAgICAgICAgICBjYXNlICdlcnJvcic6IC8vIHN1cHByZXNzIGVycm9yICh1c2Ugb25FcnJvciBpbnN0ZWFkKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrOiBuZXZlciA9IGNodW5rO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgY2h1bmsgdHlwZTogJHtfZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICBnZXQgZWxlbWVudFN0cmVhbSgpOiBFTEVNRU5UX1NUUkVBTSB7XG4gICAgcmV0dXJuIHRoaXMub3V0cHV0U3RyYXRlZ3kuY3JlYXRlRWxlbWVudFN0cmVhbSh0aGlzLmJhc2VTdHJlYW0pO1xuICB9XG5cbiAgZ2V0IHRleHRTdHJlYW0oKTogQXN5bmNJdGVyYWJsZVN0cmVhbTxzdHJpbmc+IHtcbiAgICByZXR1cm4gY3JlYXRlQXN5bmNJdGVyYWJsZVN0cmVhbShcbiAgICAgIHRoaXMuYmFzZVN0cmVhbS5waXBlVGhyb3VnaChcbiAgICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbTxPYmplY3RTdHJlYW1QYXJ0PFBBUlRJQUw+LCBzdHJpbmc+KHtcbiAgICAgICAgICB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoY2h1bmsudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlICd0ZXh0LWRlbHRhJzpcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmsudGV4dERlbHRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICBjYXNlICdmaW5pc2gnOlxuICAgICAgICAgICAgICBjYXNlICdlcnJvcic6IC8vIHN1cHByZXNzIGVycm9yICh1c2Ugb25FcnJvciBpbnN0ZWFkKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrOiBuZXZlciA9IGNodW5rO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgY2h1bmsgdHlwZTogJHtfZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICBnZXQgZnVsbFN0cmVhbSgpOiBBc3luY0l0ZXJhYmxlU3RyZWFtPE9iamVjdFN0cmVhbVBhcnQ8UEFSVElBTD4+IHtcbiAgICByZXR1cm4gY3JlYXRlQXN5bmNJdGVyYWJsZVN0cmVhbSh0aGlzLmJhc2VTdHJlYW0pO1xuICB9XG5cbiAgcGlwZVRleHRTdHJlYW1Ub1Jlc3BvbnNlKHJlc3BvbnNlOiBTZXJ2ZXJSZXNwb25zZSwgaW5pdD86IFJlc3BvbnNlSW5pdCkge1xuICAgIHBpcGVUZXh0U3RyZWFtVG9SZXNwb25zZSh7XG4gICAgICByZXNwb25zZSxcbiAgICAgIHRleHRTdHJlYW06IHRoaXMudGV4dFN0cmVhbSxcbiAgICAgIC4uLmluaXQsXG4gICAgfSk7XG4gIH1cblxuICB0b1RleHRTdHJlYW1SZXNwb25zZShpbml0PzogUmVzcG9uc2VJbml0KTogUmVzcG9uc2Uge1xuICAgIHJldHVybiBjcmVhdGVUZXh0U3RyZWFtUmVzcG9uc2Uoe1xuICAgICAgdGV4dFN0cmVhbTogdGhpcy50ZXh0U3RyZWFtLFxuICAgICAgLi4uaW5pdCxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBPYmplY3RTdHJlYW1JbnB1dFBhcnQgPVxuICB8IHN0cmluZ1xuICB8IHtcbiAgICAgIHR5cGU6ICdzdHJlYW0tc3RhcnQnO1xuICAgICAgd2FybmluZ3M6IExhbmd1YWdlTW9kZWxWMkNhbGxXYXJuaW5nW107XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdlcnJvcic7XG4gICAgICBlcnJvcjogdW5rbm93bjtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3Jlc3BvbnNlLW1ldGFkYXRhJztcbiAgICAgIGlkPzogc3RyaW5nO1xuICAgICAgdGltZXN0YW1wPzogRGF0ZTtcbiAgICAgIG1vZGVsSWQ/OiBzdHJpbmc7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdmaW5pc2gnO1xuICAgICAgZmluaXNoUmVhc29uOiBMYW5ndWFnZU1vZGVsVjJGaW5pc2hSZWFzb247XG4gICAgICB1c2FnZTogTGFuZ3VhZ2VNb2RlbFYyVXNhZ2U7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogU2hhcmVkVjJQcm92aWRlck1ldGFkYXRhO1xuICAgIH07XG4iLCAiaW1wb3J0IHsgSW52YWxpZEFyZ3VtZW50RXJyb3IgfSBmcm9tICcuLi9lcnJvci9pbnZhbGlkLWFyZ3VtZW50LWVycm9yJztcblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBjb3NpbmUgc2ltaWxhcml0eSBiZXR3ZWVuIHR3byB2ZWN0b3JzLiBUaGlzIGlzIGEgdXNlZnVsIG1ldHJpYyBmb3JcbiAqIGNvbXBhcmluZyB0aGUgc2ltaWxhcml0eSBvZiB0d28gdmVjdG9ycyBzdWNoIGFzIGVtYmVkZGluZ3MuXG4gKlxuICogQHBhcmFtIHZlY3RvcjEgLSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHZlY3RvcjIgLSBUaGUgc2Vjb25kIHZlY3Rvci5cbiAqXG4gKiBAcmV0dXJucyBUaGUgY29zaW5lIHNpbWlsYXJpdHkgYmV0d2VlbiB2ZWN0b3IxIGFuZCB2ZWN0b3IyLlxuICogQHJldHVybnMgMCBpZiBlaXRoZXIgdmVjdG9yIGlzIHRoZSB6ZXJvIHZlY3Rvci5cbiAqXG4gKiBAdGhyb3dzIHtJbnZhbGlkQXJndW1lbnRFcnJvcn0gSWYgdGhlIHZlY3RvcnMgZG8gbm90IGhhdmUgdGhlIHNhbWUgbGVuZ3RoLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29zaW5lU2ltaWxhcml0eSh2ZWN0b3IxOiBudW1iZXJbXSwgdmVjdG9yMjogbnVtYmVyW10pOiBudW1iZXIge1xuICBpZiAodmVjdG9yMS5sZW5ndGggIT09IHZlY3RvcjIubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgIHBhcmFtZXRlcjogJ3ZlY3RvcjEsdmVjdG9yMicsXG4gICAgICB2YWx1ZTogeyB2ZWN0b3IxTGVuZ3RoOiB2ZWN0b3IxLmxlbmd0aCwgdmVjdG9yMkxlbmd0aDogdmVjdG9yMi5sZW5ndGggfSxcbiAgICAgIG1lc3NhZ2U6IGBWZWN0b3JzIG11c3QgaGF2ZSB0aGUgc2FtZSBsZW5ndGhgLFxuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgbiA9IHZlY3RvcjEubGVuZ3RoO1xuXG4gIGlmIChuID09PSAwKSB7XG4gICAgcmV0dXJuIDA7IC8vIFJldHVybiAwIGZvciBlbXB0eSB2ZWN0b3JzIGlmIG5vIGVycm9yIGlzIHRocm93blxuICB9XG5cbiAgbGV0IG1hZ25pdHVkZVNxdWFyZWQxID0gMDtcbiAgbGV0IG1hZ25pdHVkZVNxdWFyZWQyID0gMDtcbiAgbGV0IGRvdFByb2R1Y3QgPSAwO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgY29uc3QgdmFsdWUxID0gdmVjdG9yMVtpXTtcbiAgICBjb25zdCB2YWx1ZTIgPSB2ZWN0b3IyW2ldO1xuXG4gICAgbWFnbml0dWRlU3F1YXJlZDEgKz0gdmFsdWUxICogdmFsdWUxO1xuICAgIG1hZ25pdHVkZVNxdWFyZWQyICs9IHZhbHVlMiAqIHZhbHVlMjtcbiAgICBkb3RQcm9kdWN0ICs9IHZhbHVlMSAqIHZhbHVlMjtcbiAgfVxuXG4gIHJldHVybiBtYWduaXR1ZGVTcXVhcmVkMSA9PT0gMCB8fCBtYWduaXR1ZGVTcXVhcmVkMiA9PT0gMFxuICAgID8gMFxuICAgIDogZG90UHJvZHVjdCAvXG4gICAgICAgIChNYXRoLnNxcnQobWFnbml0dWRlU3F1YXJlZDEpICogTWF0aC5zcXJ0KG1hZ25pdHVkZVNxdWFyZWQyKSk7XG59XG4iLCAiLyoqXG4gKiBDb252ZXJ0cyBhIGRhdGEgVVJMIG9mIHR5cGUgdGV4dC8qIHRvIGEgdGV4dCBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUZXh0RnJvbURhdGFVcmwoZGF0YVVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgW2hlYWRlciwgYmFzZTY0Q29udGVudF0gPSBkYXRhVXJsLnNwbGl0KCcsJyk7XG4gIGNvbnN0IG1lZGlhVHlwZSA9IGhlYWRlci5zcGxpdCgnOycpWzBdLnNwbGl0KCc6JylbMV07XG5cbiAgaWYgKG1lZGlhVHlwZSA9PSBudWxsIHx8IGJhc2U2NENvbnRlbnQgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBkYXRhIFVSTCBmb3JtYXQnKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIHdpbmRvdy5hdG9iKGJhc2U2NENvbnRlbnQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgZGVjb2RpbmcgZGF0YSBVUkxgKTtcbiAgfVxufVxuIiwgIi8qKlxuICogUGVyZm9ybXMgYSBkZWVwLWVxdWFsIGNvbXBhcmlzb24gb2YgdHdvIHBhcnNlZCBKU09OIG9iamVjdHMuXG4gKlxuICogQHBhcmFtIHthbnl9IG9iajEgLSBUaGUgZmlyc3Qgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge2FueX0gb2JqMiAtIFRoZSBzZWNvbmQgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBSZXR1cm5zIHRydWUgaWYgdGhlIHR3byBvYmplY3RzIGFyZSBkZWVwbHkgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRGVlcEVxdWFsRGF0YShvYmoxOiBhbnksIG9iajI6IGFueSk6IGJvb2xlYW4ge1xuICAvLyBDaGVjayBmb3Igc3RyaWN0IGVxdWFsaXR5IGZpcnN0XG4gIGlmIChvYmoxID09PSBvYmoyKSByZXR1cm4gdHJ1ZTtcblxuICAvLyBDaGVjayBpZiBlaXRoZXIgaXMgbnVsbCBvciB1bmRlZmluZWRcbiAgaWYgKG9iajEgPT0gbnVsbCB8fCBvYmoyID09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICAvLyBDaGVjayBpZiBib3RoIGFyZSBvYmplY3RzXG4gIGlmICh0eXBlb2Ygb2JqMSAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIG9iajIgIT09ICdvYmplY3QnKVxuICAgIHJldHVybiBvYmoxID09PSBvYmoyO1xuXG4gIC8vIElmIHRoZXkgYXJlIG5vdCBzdHJpY3RseSBlcXVhbCwgdGhleSBib3RoIG5lZWQgdG8gYmUgT2JqZWN0c1xuICBpZiAob2JqMS5jb25zdHJ1Y3RvciAhPT0gb2JqMi5jb25zdHJ1Y3RvcikgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIFNwZWNpYWwgaGFuZGxpbmcgZm9yIERhdGUgb2JqZWN0c1xuICBpZiAob2JqMSBpbnN0YW5jZW9mIERhdGUgJiYgb2JqMiBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICByZXR1cm4gb2JqMS5nZXRUaW1lKCkgPT09IG9iajIuZ2V0VGltZSgpO1xuICB9XG5cbiAgLy8gSGFuZGxlIGFycmF5czogY29tcGFyZSBsZW5ndGggYW5kIHRoZW4gcGVyZm9ybSBhIHJlY3Vyc2l2ZSBkZWVwIGNvbXBhcmlzb24gb24gZWFjaCBpdGVtXG4gIGlmIChBcnJheS5pc0FycmF5KG9iajEpKSB7XG4gICAgaWYgKG9iajEubGVuZ3RoICE9PSBvYmoyLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqMS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFpc0RlZXBFcXVhbERhdGEob2JqMVtpXSwgb2JqMltpXSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7IC8vIEFsbCBhcnJheSBlbGVtZW50cyBtYXRjaGVkXG4gIH1cblxuICAvLyBDb21wYXJlIHRoZSBzZXQgb2Yga2V5cyBpbiBlYWNoIG9iamVjdFxuICBjb25zdCBrZXlzMSA9IE9iamVjdC5rZXlzKG9iajEpO1xuICBjb25zdCBrZXlzMiA9IE9iamVjdC5rZXlzKG9iajIpO1xuICBpZiAoa2V5czEubGVuZ3RoICE9PSBrZXlzMi5sZW5ndGgpIHJldHVybiBmYWxzZTtcblxuICAvLyBDaGVjayBlYWNoIGtleS12YWx1ZSBwYWlyIHJlY3Vyc2l2ZWx5XG4gIGZvciAoY29uc3Qga2V5IG9mIGtleXMxKSB7XG4gICAgaWYgKCFrZXlzMi5pbmNsdWRlcyhrZXkpKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCFpc0RlZXBFcXVhbERhdGEob2JqMVtrZXldLCBvYmoyW2tleV0pKSByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTsgLy8gQWxsIGtleXMgYW5kIHZhbHVlcyBtYXRjaGVkXG59XG4iLCAiaW1wb3J0IHsgSm9iIH0gZnJvbSAnLi9qb2InO1xuXG5leHBvcnQgY2xhc3MgU2VyaWFsSm9iRXhlY3V0b3Ige1xuICBwcml2YXRlIHF1ZXVlOiBBcnJheTxKb2I+ID0gW107XG4gIHByaXZhdGUgaXNQcm9jZXNzaW5nID0gZmFsc2U7XG5cbiAgcHJpdmF0ZSBhc3luYyBwcm9jZXNzUXVldWUoKSB7XG4gICAgaWYgKHRoaXMuaXNQcm9jZXNzaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5pc1Byb2Nlc3NpbmcgPSB0cnVlO1xuXG4gICAgd2hpbGUgKHRoaXMucXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgYXdhaXQgdGhpcy5xdWV1ZVswXSgpO1xuICAgICAgdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICAgIH1cblxuICAgIHRoaXMuaXNQcm9jZXNzaW5nID0gZmFsc2U7XG4gIH1cblxuICBhc3luYyBydW4oam9iOiBKb2IpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5xdWV1ZS5wdXNoKGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBqb2IoKTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHZvaWQgdGhpcy5wcm9jZXNzUXVldWUoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwgImltcG9ydCB7IGRlbGF5IGFzIGRlbGF5RnVuY3Rpb24gfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgUmVhZGFibGVTdHJlYW0gdGhhdCBlbWl0cyB0aGUgcHJvdmlkZWQgdmFsdWVzIHdpdGggYW4gb3B0aW9uYWwgZGVsYXkgYmV0d2VlbiBlYWNoIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICogQHBhcmFtIG9wdGlvbnMuY2h1bmtzIC0gQXJyYXkgb2YgdmFsdWVzIHRvIGJlIGVtaXR0ZWQgYnkgdGhlIHN0cmVhbVxuICogQHBhcmFtIG9wdGlvbnMuaW5pdGlhbERlbGF5SW5NcyAtIE9wdGlvbmFsIGluaXRpYWwgZGVsYXkgaW4gbWlsbGlzZWNvbmRzIGJlZm9yZSBlbWl0dGluZyB0aGUgZmlyc3QgdmFsdWUgKGRlZmF1bHQ6IDApLiBDYW4gYmUgc2V0IHRvIGBudWxsYCB0byBza2lwIHRoZSBpbml0aWFsIGRlbGF5LiBUaGUgZGlmZmVyZW5jZSBiZXR3ZWVuIGBpbml0aWFsRGVsYXlJbk1zOiBudWxsYCBhbmQgYGluaXRpYWxEZWxheUluTXM6IDBgIGlzIHRoYXQgYGluaXRpYWxEZWxheUluTXM6IG51bGxgIHdpbGwgZW1pdCB0aGUgdmFsdWVzIHdpdGhvdXQgYW55IGRlbGF5LCB3aGlsZSBgaW5pdGlhbERlbGF5SW5NczogMGAgd2lsbCBlbWl0IHRoZSB2YWx1ZXMgd2l0aCBhIGRlbGF5IG9mIDAgbWlsbGlzZWNvbmRzLlxuICogQHBhcmFtIG9wdGlvbnMuY2h1bmtEZWxheUluTXMgLSBPcHRpb25hbCBkZWxheSBpbiBtaWxsaXNlY29uZHMgYmV0d2VlbiBlbWl0dGluZyBlYWNoIHZhbHVlIChkZWZhdWx0OiAwKS4gQ2FuIGJlIHNldCB0byBgbnVsbGAgdG8gc2tpcCB0aGUgZGVsYXkuIFRoZSBkaWZmZXJlbmNlIGJldHdlZW4gYGNodW5rRGVsYXlJbk1zOiBudWxsYCBhbmQgYGNodW5rRGVsYXlJbk1zOiAwYCBpcyB0aGF0IGBjaHVua0RlbGF5SW5NczogbnVsbGAgd2lsbCBlbWl0IHRoZSB2YWx1ZXMgd2l0aG91dCBhbnkgZGVsYXksIHdoaWxlIGBjaHVua0RlbGF5SW5NczogMGAgd2lsbCBlbWl0IHRoZSB2YWx1ZXMgd2l0aCBhIGRlbGF5IG9mIDAgbWlsbGlzZWNvbmRzLlxuICogQHJldHVybnMgQSBSZWFkYWJsZVN0cmVhbSB0aGF0IGVtaXRzIHRoZSBwcm92aWRlZCB2YWx1ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpbXVsYXRlUmVhZGFibGVTdHJlYW08VD4oe1xuICBjaHVua3MsXG4gIGluaXRpYWxEZWxheUluTXMgPSAwLFxuICBjaHVua0RlbGF5SW5NcyA9IDAsXG4gIF9pbnRlcm5hbCxcbn06IHtcbiAgY2h1bmtzOiBUW107XG4gIGluaXRpYWxEZWxheUluTXM/OiBudW1iZXIgfCBudWxsO1xuICBjaHVua0RlbGF5SW5Ncz86IG51bWJlciB8IG51bGw7XG4gIF9pbnRlcm5hbD86IHtcbiAgICBkZWxheT86IChtczogbnVtYmVyIHwgbnVsbCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgfTtcbn0pOiBSZWFkYWJsZVN0cmVhbTxUPiB7XG4gIGNvbnN0IGRlbGF5ID0gX2ludGVybmFsPy5kZWxheSA/PyBkZWxheUZ1bmN0aW9uO1xuXG4gIGxldCBpbmRleCA9IDA7XG5cbiAgcmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgYXN5bmMgcHVsbChjb250cm9sbGVyKSB7XG4gICAgICBpZiAoaW5kZXggPCBjaHVua3MubGVuZ3RoKSB7XG4gICAgICAgIGF3YWl0IGRlbGF5KGluZGV4ID09PSAwID8gaW5pdGlhbERlbGF5SW5NcyA6IGNodW5rRGVsYXlJbk1zKTtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rc1tpbmRleCsrXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG59XG4iLCAiaW1wb3J0IHsgSlNPTlZhbHVlLCBTcGVlY2hNb2RlbFYyIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBQcm92aWRlck9wdGlvbnMsIHdpdGhVc2VyQWdlbnRTdWZmaXggfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IE5vU3BlZWNoR2VuZXJhdGVkRXJyb3IgfSBmcm9tICcuLi9lcnJvci9uby1zcGVlY2gtZ2VuZXJhdGVkLWVycm9yJztcbmltcG9ydCB7IFVuc3VwcG9ydGVkTW9kZWxWZXJzaW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvci91bnN1cHBvcnRlZC1tb2RlbC12ZXJzaW9uLWVycm9yJztcbmltcG9ydCB7IGxvZ1dhcm5pbmdzIH0gZnJvbSAnLi4vbG9nZ2VyL2xvZy13YXJuaW5ncyc7XG5pbXBvcnQgeyBTcGVlY2hXYXJuaW5nIH0gZnJvbSAnLi4vdHlwZXMvc3BlZWNoLW1vZGVsJztcbmltcG9ydCB7IFNwZWVjaE1vZGVsUmVzcG9uc2VNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzL3NwZWVjaC1tb2RlbC1yZXNwb25zZS1tZXRhZGF0YSc7XG5pbXBvcnQge1xuICBhdWRpb01lZGlhVHlwZVNpZ25hdHVyZXMsXG4gIGRldGVjdE1lZGlhVHlwZSxcbn0gZnJvbSAnLi4vdXRpbC9kZXRlY3QtbWVkaWEtdHlwZSc7XG5pbXBvcnQgeyBwcmVwYXJlUmV0cmllcyB9IGZyb20gJy4uL3V0aWwvcHJlcGFyZS1yZXRyaWVzJztcbmltcG9ydCB7IFNwZWVjaFJlc3VsdCB9IGZyb20gJy4vZ2VuZXJhdGUtc3BlZWNoLXJlc3VsdCc7XG5pbXBvcnQge1xuICBEZWZhdWx0R2VuZXJhdGVkQXVkaW9GaWxlLFxuICBHZW5lcmF0ZWRBdWRpb0ZpbGUsXG59IGZyb20gJy4vZ2VuZXJhdGVkLWF1ZGlvLWZpbGUnO1xuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gJy4uL3ZlcnNpb24nO1xuLyoqXG5HZW5lcmF0ZXMgc3BlZWNoIGF1ZGlvIHVzaW5nIGEgc3BlZWNoIG1vZGVsLlxuXG5AcGFyYW0gbW9kZWwgLSBUaGUgc3BlZWNoIG1vZGVsIHRvIHVzZS5cbkBwYXJhbSB0ZXh0IC0gVGhlIHRleHQgdG8gY29udmVydCB0byBzcGVlY2guXG5AcGFyYW0gdm9pY2UgLSBUaGUgdm9pY2UgdG8gdXNlIGZvciBzcGVlY2ggZ2VuZXJhdGlvbi5cbkBwYXJhbSBvdXRwdXRGb3JtYXQgLSBUaGUgb3V0cHV0IGZvcm1hdCB0byB1c2UgZm9yIHNwZWVjaCBnZW5lcmF0aW9uIGUuZy4gXCJtcDNcIiwgXCJ3YXZcIiwgZXRjLlxuQHBhcmFtIGluc3RydWN0aW9ucyAtIEluc3RydWN0aW9ucyBmb3IgdGhlIHNwZWVjaCBnZW5lcmF0aW9uIGUuZy4gXCJTcGVhayBpbiBhIHNsb3cgYW5kIHN0ZWFkeSB0b25lXCIuXG5AcGFyYW0gc3BlZWQgLSBUaGUgc3BlZWQgb2YgdGhlIHNwZWVjaCBnZW5lcmF0aW9uLlxuQHBhcmFtIHByb3ZpZGVyT3B0aW9ucyAtIEFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgb3B0aW9ucyB0aGF0IGFyZSBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXJcbmFzIGJvZHkgcGFyYW1ldGVycy5cbkBwYXJhbSBtYXhSZXRyaWVzIC0gTWF4aW11bSBudW1iZXIgb2YgcmV0cmllcy4gU2V0IHRvIDAgdG8gZGlzYWJsZSByZXRyaWVzLiBEZWZhdWx0OiAyLlxuQHBhcmFtIGFib3J0U2lnbmFsIC0gQW4gb3B0aW9uYWwgYWJvcnQgc2lnbmFsIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSBjYWxsLlxuQHBhcmFtIGhlYWRlcnMgLSBBZGRpdGlvbmFsIEhUVFAgaGVhZGVycyB0byBiZSBzZW50IHdpdGggdGhlIHJlcXVlc3QuIE9ubHkgYXBwbGljYWJsZSBmb3IgSFRUUC1iYXNlZCBwcm92aWRlcnMuXG5cbkByZXR1cm5zIEEgcmVzdWx0IG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBnZW5lcmF0ZWQgYXVkaW8gZGF0YS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlU3BlZWNoKHtcbiAgbW9kZWwsXG4gIHRleHQsXG4gIHZvaWNlLFxuICBvdXRwdXRGb3JtYXQsXG4gIGluc3RydWN0aW9ucyxcbiAgc3BlZWQsXG4gIGxhbmd1YWdlLFxuICBwcm92aWRlck9wdGlvbnMgPSB7fSxcbiAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgYWJvcnRTaWduYWwsXG4gIGhlYWRlcnMsXG59OiB7XG4gIC8qKlxuVGhlIHNwZWVjaCBtb2RlbCB0byB1c2UuXG4gICAgICovXG4gIG1vZGVsOiBTcGVlY2hNb2RlbFYyO1xuXG4gIC8qKlxuVGhlIHRleHQgdG8gY29udmVydCB0byBzcGVlY2guXG4gICAqL1xuICB0ZXh0OiBzdHJpbmc7XG5cbiAgLyoqXG5UaGUgdm9pY2UgdG8gdXNlIGZvciBzcGVlY2ggZ2VuZXJhdGlvbi5cbiAgICovXG4gIHZvaWNlPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVzaXJlZCBvdXRwdXQgZm9ybWF0IGZvciB0aGUgYXVkaW8gZS5nLiBcIm1wM1wiLCBcIndhdlwiLCBldGMuXG4gICAqL1xuICBvdXRwdXRGb3JtYXQ/OiAnbXAzJyB8ICd3YXYnIHwgKHN0cmluZyAmIHt9KTtcblxuICAvKipcbiAgICBJbnN0cnVjdGlvbnMgZm9yIHRoZSBzcGVlY2ggZ2VuZXJhdGlvbiBlLmcuIFwiU3BlYWsgaW4gYSBzbG93IGFuZCBzdGVhZHkgdG9uZVwiLlxuICAqL1xuICBpbnN0cnVjdGlvbnM/OiBzdHJpbmc7XG5cbiAgLyoqXG4gIFRoZSBzcGVlZCBvZiB0aGUgc3BlZWNoIGdlbmVyYXRpb24uXG4gICAqL1xuICBzcGVlZD86IG51bWJlcjtcblxuICAvKipcbiAgVGhlIGxhbmd1YWdlIGZvciBzcGVlY2ggZ2VuZXJhdGlvbi4gVGhpcyBzaG91bGQgYmUgYW4gSVNPIDYzOS0xIGxhbmd1YWdlIGNvZGUgKGUuZy4gXCJlblwiLCBcImVzXCIsIFwiZnJcIilcbiAgb3IgXCJhdXRvXCIgZm9yIGF1dG9tYXRpYyBsYW5ndWFnZSBkZXRlY3Rpb24uIFByb3ZpZGVyIHN1cHBvcnQgdmFyaWVzLlxuICAgKi9cbiAgbGFuZ3VhZ2U/OiBzdHJpbmc7XG5cbiAgLyoqXG5BZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG9wdGlvbnMgdGhhdCBhcmUgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyXG5hcyBib2R5IHBhcmFtZXRlcnMuXG5cblRoZSBvdXRlciByZWNvcmQgaXMga2V5ZWQgYnkgdGhlIHByb3ZpZGVyIG5hbWUsIGFuZCB0aGUgaW5uZXJcbnJlY29yZCBpcyBrZXllZCBieSB0aGUgcHJvdmlkZXItc3BlY2lmaWMgbWV0YWRhdGEga2V5LlxuYGBgdHNcbntcbiAgXCJvcGVuYWlcIjoge31cbn1cbmBgYFxuICAgICAqL1xuICBwcm92aWRlck9wdGlvbnM/OiBQcm92aWRlck9wdGlvbnM7XG5cbiAgLyoqXG5NYXhpbXVtIG51bWJlciBvZiByZXRyaWVzIHBlciBzcGVlY2ggbW9kZWwgY2FsbC4gU2V0IHRvIDAgdG8gZGlzYWJsZSByZXRyaWVzLlxuXG5AZGVmYXVsdCAyXG4gICAqL1xuICBtYXhSZXRyaWVzPzogbnVtYmVyO1xuXG4gIC8qKlxuQWJvcnQgc2lnbmFsLlxuICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG5cbiAgLyoqXG5BZGRpdGlvbmFsIGhlYWRlcnMgdG8gaW5jbHVkZSBpbiB0aGUgcmVxdWVzdC5cbk9ubHkgYXBwbGljYWJsZSBmb3IgSFRUUC1iYXNlZCBwcm92aWRlcnMuXG4gKi9cbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG59KTogUHJvbWlzZTxTcGVlY2hSZXN1bHQ+IHtcbiAgaWYgKG1vZGVsLnNwZWNpZmljYXRpb25WZXJzaW9uICE9PSAndjInKSB7XG4gICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkTW9kZWxWZXJzaW9uRXJyb3Ioe1xuICAgICAgdmVyc2lvbjogbW9kZWwuc3BlY2lmaWNhdGlvblZlcnNpb24sXG4gICAgICBwcm92aWRlcjogbW9kZWwucHJvdmlkZXIsXG4gICAgICBtb2RlbElkOiBtb2RlbC5tb2RlbElkLFxuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgaGVhZGVyc1dpdGhVc2VyQWdlbnQgPSB3aXRoVXNlckFnZW50U3VmZml4KFxuICAgIGhlYWRlcnMgPz8ge30sXG4gICAgYGFpLyR7VkVSU0lPTn1gLFxuICApO1xuXG4gIGNvbnN0IHsgcmV0cnkgfSA9IHByZXBhcmVSZXRyaWVzKHtcbiAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICAgIGFib3J0U2lnbmFsLFxuICB9KTtcblxuICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXRyeSgoKSA9PlxuICAgIG1vZGVsLmRvR2VuZXJhdGUoe1xuICAgICAgdGV4dCxcbiAgICAgIHZvaWNlLFxuICAgICAgb3V0cHV0Rm9ybWF0LFxuICAgICAgaW5zdHJ1Y3Rpb25zLFxuICAgICAgc3BlZWQsXG4gICAgICBsYW5ndWFnZSxcbiAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgaGVhZGVyczogaGVhZGVyc1dpdGhVc2VyQWdlbnQsXG4gICAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgfSksXG4gICk7XG5cbiAgaWYgKCFyZXN1bHQuYXVkaW8gfHwgcmVzdWx0LmF1ZGlvLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBOb1NwZWVjaEdlbmVyYXRlZEVycm9yKHsgcmVzcG9uc2VzOiBbcmVzdWx0LnJlc3BvbnNlXSB9KTtcbiAgfVxuXG4gIGxvZ1dhcm5pbmdzKHJlc3VsdC53YXJuaW5ncyk7XG5cbiAgcmV0dXJuIG5ldyBEZWZhdWx0U3BlZWNoUmVzdWx0KHtcbiAgICBhdWRpbzogbmV3IERlZmF1bHRHZW5lcmF0ZWRBdWRpb0ZpbGUoe1xuICAgICAgZGF0YTogcmVzdWx0LmF1ZGlvLFxuICAgICAgbWVkaWFUeXBlOlxuICAgICAgICBkZXRlY3RNZWRpYVR5cGUoe1xuICAgICAgICAgIGRhdGE6IHJlc3VsdC5hdWRpbyxcbiAgICAgICAgICBzaWduYXR1cmVzOiBhdWRpb01lZGlhVHlwZVNpZ25hdHVyZXMsXG4gICAgICAgIH0pID8/ICdhdWRpby9tcDMnLFxuICAgIH0pLFxuICAgIHdhcm5pbmdzOiByZXN1bHQud2FybmluZ3MsXG4gICAgcmVzcG9uc2VzOiBbcmVzdWx0LnJlc3BvbnNlXSxcbiAgICBwcm92aWRlck1ldGFkYXRhOiByZXN1bHQucHJvdmlkZXJNZXRhZGF0YSxcbiAgfSk7XG59XG5cbmNsYXNzIERlZmF1bHRTcGVlY2hSZXN1bHQgaW1wbGVtZW50cyBTcGVlY2hSZXN1bHQge1xuICByZWFkb25seSBhdWRpbzogR2VuZXJhdGVkQXVkaW9GaWxlO1xuICByZWFkb25seSB3YXJuaW5nczogQXJyYXk8U3BlZWNoV2FybmluZz47XG4gIHJlYWRvbmx5IHJlc3BvbnNlczogQXJyYXk8U3BlZWNoTW9kZWxSZXNwb25zZU1ldGFkYXRhPjtcbiAgcmVhZG9ubHkgcHJvdmlkZXJNZXRhZGF0YTogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgSlNPTlZhbHVlPj47XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczoge1xuICAgIGF1ZGlvOiBHZW5lcmF0ZWRBdWRpb0ZpbGU7XG4gICAgd2FybmluZ3M6IEFycmF5PFNwZWVjaFdhcm5pbmc+O1xuICAgIHJlc3BvbnNlczogQXJyYXk8U3BlZWNoTW9kZWxSZXNwb25zZU1ldGFkYXRhPjtcbiAgICBwcm92aWRlck1ldGFkYXRhOiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBKU09OVmFsdWU+PiB8IHVuZGVmaW5lZDtcbiAgfSkge1xuICAgIHRoaXMuYXVkaW8gPSBvcHRpb25zLmF1ZGlvO1xuICAgIHRoaXMud2FybmluZ3MgPSBvcHRpb25zLndhcm5pbmdzO1xuICAgIHRoaXMucmVzcG9uc2VzID0gb3B0aW9ucy5yZXNwb25zZXM7XG4gICAgdGhpcy5wcm92aWRlck1ldGFkYXRhID0gb3B0aW9ucy5wcm92aWRlck1ldGFkYXRhID8/IHt9O1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgU3BlZWNoTW9kZWxSZXNwb25zZU1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvc3BlZWNoLW1vZGVsLXJlc3BvbnNlLW1ldGFkYXRhJztcblxuLyoqXG5FcnJvciB0aGF0IGlzIHRocm93biB3aGVuIG5vIHNwZWVjaCBhdWRpbyB3YXMgZ2VuZXJhdGVkLlxuICovXG5leHBvcnQgY2xhc3MgTm9TcGVlY2hHZW5lcmF0ZWRFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICByZWFkb25seSByZXNwb25zZXM6IEFycmF5PFNwZWVjaE1vZGVsUmVzcG9uc2VNZXRhZGF0YT47XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczogeyByZXNwb25zZXM6IEFycmF5PFNwZWVjaE1vZGVsUmVzcG9uc2VNZXRhZGF0YT4gfSkge1xuICAgIHN1cGVyKHtcbiAgICAgIG5hbWU6ICdBSV9Ob1NwZWVjaEdlbmVyYXRlZEVycm9yJyxcbiAgICAgIG1lc3NhZ2U6ICdObyBzcGVlY2ggYXVkaW8gZ2VuZXJhdGVkLicsXG4gICAgfSk7XG5cbiAgICB0aGlzLnJlc3BvbnNlcyA9IG9wdGlvbnMucmVzcG9uc2VzO1xuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgR2VuZXJhdGVkRmlsZSxcbiAgRGVmYXVsdEdlbmVyYXRlZEZpbGUsXG59IGZyb20gJy4uL2dlbmVyYXRlLXRleHQvZ2VuZXJhdGVkLWZpbGUnO1xuXG4vKipcbiAqIEEgZ2VuZXJhdGVkIGF1ZGlvIGZpbGUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2VuZXJhdGVkQXVkaW9GaWxlIGV4dGVuZHMgR2VuZXJhdGVkRmlsZSB7XG4gIC8qKlxuICAgKiBBdWRpbyBmb3JtYXQgb2YgdGhlIGZpbGUgKGUuZy4sICdtcDMnLCAnd2F2JywgZXRjLilcbiAgICovXG4gIHJlYWRvbmx5IGZvcm1hdDogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgRGVmYXVsdEdlbmVyYXRlZEF1ZGlvRmlsZVxuICBleHRlbmRzIERlZmF1bHRHZW5lcmF0ZWRGaWxlXG4gIGltcGxlbWVudHMgR2VuZXJhdGVkQXVkaW9GaWxlXG57XG4gIHJlYWRvbmx5IGZvcm1hdDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBkYXRhLFxuICAgIG1lZGlhVHlwZSxcbiAgfToge1xuICAgIGRhdGE6IHN0cmluZyB8IFVpbnQ4QXJyYXk7XG4gICAgbWVkaWFUeXBlOiBzdHJpbmc7XG4gIH0pIHtcbiAgICBzdXBlcih7IGRhdGEsIG1lZGlhVHlwZSB9KTtcbiAgICBsZXQgZm9ybWF0ID0gJ21wMyc7XG5cbiAgICAvLyBJZiBmb3JtYXQgaXMgbm90IHByb3ZpZGVkLCB0cnkgdG8gZGV0ZXJtaW5lIGl0IGZyb20gdGhlIG1lZGlhIHR5cGVcbiAgICBpZiAobWVkaWFUeXBlKSB7XG4gICAgICBjb25zdCBtZWRpYVR5cGVQYXJ0cyA9IG1lZGlhVHlwZS5zcGxpdCgnLycpO1xuXG4gICAgICBpZiAobWVkaWFUeXBlUGFydHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIC8vIEhhbmRsZSBzcGVjaWFsIGNhc2VzIGZvciBhdWRpbyBmb3JtYXRzXG4gICAgICAgIGlmIChtZWRpYVR5cGUgIT09ICdhdWRpby9tcGVnJykge1xuICAgICAgICAgIGZvcm1hdCA9IG1lZGlhVHlwZVBhcnRzWzFdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgIC8vIFRPRE8gdGhpcyBzaG91bGQgYmUgYW4gQUkgU0RLIGVycm9yXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdBdWRpbyBmb3JtYXQgbXVzdCBiZSBwcm92aWRlZCBvciBkZXRlcm1pbmFibGUgZnJvbSBtZWRpYSB0eXBlJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5mb3JtYXQgPSBmb3JtYXQ7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlZmF1bHRHZW5lcmF0ZWRBdWRpb0ZpbGVXaXRoVHlwZSBleHRlbmRzIERlZmF1bHRHZW5lcmF0ZWRBdWRpb0ZpbGUge1xuICByZWFkb25seSB0eXBlID0gJ2F1ZGlvJztcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7XG4gICAgZGF0YTogc3RyaW5nIHwgVWludDhBcnJheTtcbiAgICBtZWRpYVR5cGU6IHN0cmluZztcbiAgICBmb3JtYXQ6IHN0cmluZztcbiAgfSkge1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnMgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIGFzU2NoZW1hLFxuICBzYWZlUGFyc2VKU09OLFxuICBzYWZlVmFsaWRhdGVUeXBlcyxcbiAgU2NoZW1hLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCAqIGFzIHozIGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgKiBhcyB6NCBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsgTm9PYmplY3RHZW5lcmF0ZWRFcnJvciB9IGZyb20gJy4uL2Vycm9yL25vLW9iamVjdC1nZW5lcmF0ZWQtZXJyb3InO1xuaW1wb3J0IHsgRGVlcFBhcnRpYWwgfSBmcm9tICcuLi91dGlsL2RlZXAtcGFydGlhbCc7XG5pbXBvcnQgeyBwYXJzZVBhcnRpYWxKc29uIH0gZnJvbSAnLi4vdXRpbC9wYXJzZS1wYXJ0aWFsLWpzb24nO1xuaW1wb3J0IHsgRmluaXNoUmVhc29uIH0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwnO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbC1yZXNwb25zZS1tZXRhZGF0YSc7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsVXNhZ2UgfSBmcm9tICcuLi90eXBlcy91c2FnZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3V0cHV0PE9VVFBVVCwgUEFSVElBTD4ge1xuICByZWFkb25seSB0eXBlOiAnb2JqZWN0JyB8ICd0ZXh0JztcblxuICByZXNwb25zZUZvcm1hdDogTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnNbJ3Jlc3BvbnNlRm9ybWF0J107XG5cbiAgcGFyc2VQYXJ0aWFsKG9wdGlvbnM6IHtcbiAgICB0ZXh0OiBzdHJpbmc7XG4gIH0pOiBQcm9taXNlPHsgcGFydGlhbDogUEFSVElBTCB9IHwgdW5kZWZpbmVkPjtcblxuICBwYXJzZU91dHB1dChcbiAgICBvcHRpb25zOiB7IHRleHQ6IHN0cmluZyB9LFxuICAgIGNvbnRleHQ6IHtcbiAgICAgIHJlc3BvbnNlOiBMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YTtcbiAgICAgIHVzYWdlOiBMYW5ndWFnZU1vZGVsVXNhZ2U7XG4gICAgICBmaW5pc2hSZWFzb246IEZpbmlzaFJlYXNvbjtcbiAgICB9LFxuICApOiBQcm9taXNlPE9VVFBVVD47XG59XG5cbmV4cG9ydCBjb25zdCB0ZXh0ID0gKCk6IE91dHB1dDxzdHJpbmcsIHN0cmluZz4gPT4gKHtcbiAgdHlwZTogJ3RleHQnLFxuXG4gIHJlc3BvbnNlRm9ybWF0OiB7IHR5cGU6ICd0ZXh0JyB9LFxuXG4gIGFzeW5jIHBhcnNlUGFydGlhbCh7IHRleHQgfTogeyB0ZXh0OiBzdHJpbmcgfSkge1xuICAgIHJldHVybiB7IHBhcnRpYWw6IHRleHQgfTtcbiAgfSxcblxuICBhc3luYyBwYXJzZU91dHB1dCh7IHRleHQgfTogeyB0ZXh0OiBzdHJpbmcgfSkge1xuICAgIHJldHVybiB0ZXh0O1xuICB9LFxufSk7XG5cbmV4cG9ydCBjb25zdCBvYmplY3QgPSA8T1VUUFVUPih7XG4gIHNjaGVtYTogaW5wdXRTY2hlbWEsXG59OiB7XG4gIHNjaGVtYTpcbiAgICB8IHo0LmNvcmUuJFpvZFR5cGU8T1VUUFVULCBhbnk+XG4gICAgfCB6My5TY2hlbWE8T1VUUFVULCB6My5ab2RUeXBlRGVmLCBhbnk+XG4gICAgfCBTY2hlbWE8T1VUUFVUPjtcbn0pOiBPdXRwdXQ8T1VUUFVULCBEZWVwUGFydGlhbDxPVVRQVVQ+PiA9PiB7XG4gIGNvbnN0IHNjaGVtYSA9IGFzU2NoZW1hKGlucHV0U2NoZW1hKTtcblxuICByZXR1cm4ge1xuICAgIHR5cGU6ICdvYmplY3QnLFxuXG4gICAgcmVzcG9uc2VGb3JtYXQ6IHtcbiAgICAgIHR5cGU6ICdqc29uJyxcbiAgICAgIHNjaGVtYTogc2NoZW1hLmpzb25TY2hlbWEsXG4gICAgfSxcblxuICAgIGFzeW5jIHBhcnNlUGFydGlhbCh7IHRleHQgfTogeyB0ZXh0OiBzdHJpbmcgfSkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGFyc2VQYXJ0aWFsSnNvbih0ZXh0KTtcblxuICAgICAgc3dpdGNoIChyZXN1bHQuc3RhdGUpIHtcbiAgICAgICAgY2FzZSAnZmFpbGVkLXBhcnNlJzpcbiAgICAgICAgY2FzZSAndW5kZWZpbmVkLWlucHV0JzpcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgICAgIGNhc2UgJ3JlcGFpcmVkLXBhcnNlJzpcbiAgICAgICAgY2FzZSAnc3VjY2Vzc2Z1bC1wYXJzZSc6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vIE5vdGU6IGN1cnJlbnRseSBubyB2YWxpZGF0aW9uIG9mIHBhcnRpYWwgcmVzdWx0czpcbiAgICAgICAgICAgIHBhcnRpYWw6IHJlc3VsdC52YWx1ZSBhcyBEZWVwUGFydGlhbDxPVVRQVVQ+LFxuICAgICAgICAgIH07XG5cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2s6IG5ldmVyID0gcmVzdWx0LnN0YXRlO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgcGFyc2Ugc3RhdGU6ICR7X2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhc3luYyBwYXJzZU91dHB1dChcbiAgICAgIHsgdGV4dCB9OiB7IHRleHQ6IHN0cmluZyB9LFxuICAgICAgY29udGV4dDoge1xuICAgICAgICByZXNwb25zZTogTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGE7XG4gICAgICAgIHVzYWdlOiBMYW5ndWFnZU1vZGVsVXNhZ2U7XG4gICAgICAgIGZpbmlzaFJlYXNvbjogRmluaXNoUmVhc29uO1xuICAgICAgfSxcbiAgICApIHtcbiAgICAgIGNvbnN0IHBhcnNlUmVzdWx0ID0gYXdhaXQgc2FmZVBhcnNlSlNPTih7IHRleHQgfSk7XG5cbiAgICAgIGlmICghcGFyc2VSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICB0aHJvdyBuZXcgTm9PYmplY3RHZW5lcmF0ZWRFcnJvcih7XG4gICAgICAgICAgbWVzc2FnZTogJ05vIG9iamVjdCBnZW5lcmF0ZWQ6IGNvdWxkIG5vdCBwYXJzZSB0aGUgcmVzcG9uc2UuJyxcbiAgICAgICAgICBjYXVzZTogcGFyc2VSZXN1bHQuZXJyb3IsXG4gICAgICAgICAgdGV4dCxcbiAgICAgICAgICByZXNwb25zZTogY29udGV4dC5yZXNwb25zZSxcbiAgICAgICAgICB1c2FnZTogY29udGV4dC51c2FnZSxcbiAgICAgICAgICBmaW5pc2hSZWFzb246IGNvbnRleHQuZmluaXNoUmVhc29uLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IGF3YWl0IHNhZmVWYWxpZGF0ZVR5cGVzKHtcbiAgICAgICAgdmFsdWU6IHBhcnNlUmVzdWx0LnZhbHVlLFxuICAgICAgICBzY2hlbWEsXG4gICAgICB9KTtcblxuICAgICAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IE5vT2JqZWN0R2VuZXJhdGVkRXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6ICdObyBvYmplY3QgZ2VuZXJhdGVkOiByZXNwb25zZSBkaWQgbm90IG1hdGNoIHNjaGVtYS4nLFxuICAgICAgICAgIGNhdXNlOiB2YWxpZGF0aW9uUmVzdWx0LmVycm9yLFxuICAgICAgICAgIHRleHQsXG4gICAgICAgICAgcmVzcG9uc2U6IGNvbnRleHQucmVzcG9uc2UsXG4gICAgICAgICAgdXNhZ2U6IGNvbnRleHQudXNhZ2UsXG4gICAgICAgICAgZmluaXNoUmVhc29uOiBjb250ZXh0LmZpbmlzaFJlYXNvbixcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWxpZGF0aW9uUmVzdWx0LnZhbHVlO1xuICAgIH0sXG4gIH07XG59O1xuIiwgImltcG9ydCB7IGRlbGF5IGFzIG9yaWdpbmFsRGVsYXkgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IFRleHRTdHJlYW1QYXJ0IH0gZnJvbSAnLi9zdHJlYW0tdGV4dC1yZXN1bHQnO1xuaW1wb3J0IHsgVG9vbFNldCB9IGZyb20gJy4vdG9vbC1zZXQnO1xuaW1wb3J0IHsgSW52YWxpZEFyZ3VtZW50RXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuY29uc3QgQ0hVTktJTkdfUkVHRVhQUyA9IHtcbiAgd29yZDogL1xcUytcXHMrL20sXG4gIGxpbmU6IC9cXG4rL20sXG59O1xuXG4vKipcbiAqIERldGVjdHMgdGhlIGZpcnN0IGNodW5rIGluIGEgYnVmZmVyLlxuICpcbiAqIEBwYXJhbSBidWZmZXIgLSBUaGUgYnVmZmVyIHRvIGRldGVjdCB0aGUgZmlyc3QgY2h1bmsgaW4uXG4gKlxuICogQHJldHVybnMgVGhlIGZpcnN0IGRldGVjdGVkIGNodW5rLCBvciBgdW5kZWZpbmVkYCBpZiBubyBjaHVuayB3YXMgZGV0ZWN0ZWQuXG4gKi9cbmV4cG9ydCB0eXBlIENodW5rRGV0ZWN0b3IgPSAoYnVmZmVyOiBzdHJpbmcpID0+IHN0cmluZyB8IHVuZGVmaW5lZCB8IG51bGw7XG5cbi8qKlxuICogU21vb3RocyB0ZXh0IHN0cmVhbWluZyBvdXRwdXQuXG4gKlxuICogQHBhcmFtIGRlbGF5SW5NcyAtIFRoZSBkZWxheSBpbiBtaWxsaXNlY29uZHMgYmV0d2VlbiBlYWNoIGNodW5rLiBEZWZhdWx0cyB0byAxMG1zLiBDYW4gYmUgc2V0IHRvIGBudWxsYCB0byBza2lwIHRoZSBkZWxheS5cbiAqIEBwYXJhbSBjaHVua2luZyAtIENvbnRyb2xzIGhvdyB0aGUgdGV4dCBpcyBjaHVua2VkIGZvciBzdHJlYW1pbmcuIFVzZSBcIndvcmRcIiB0byBzdHJlYW0gd29yZCBieSB3b3JkIChkZWZhdWx0KSwgXCJsaW5lXCIgdG8gc3RyZWFtIGxpbmUgYnkgbGluZSwgb3IgcHJvdmlkZSBhIGN1c3RvbSBSZWdFeHAgcGF0dGVybiBmb3IgY3VzdG9tIGNodW5raW5nLlxuICpcbiAqIEByZXR1cm5zIEEgdHJhbnNmb3JtIHN0cmVhbSB0aGF0IHNtb290aHMgdGV4dCBzdHJlYW1pbmcgb3V0cHV0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gc21vb3RoU3RyZWFtPFRPT0xTIGV4dGVuZHMgVG9vbFNldD4oe1xuICBkZWxheUluTXMgPSAxMCxcbiAgY2h1bmtpbmcgPSAnd29yZCcsXG4gIF9pbnRlcm5hbDogeyBkZWxheSA9IG9yaWdpbmFsRGVsYXkgfSA9IHt9LFxufToge1xuICBkZWxheUluTXM/OiBudW1iZXIgfCBudWxsO1xuICBjaHVua2luZz86ICd3b3JkJyB8ICdsaW5lJyB8IFJlZ0V4cCB8IENodW5rRGV0ZWN0b3I7XG4gIC8qKlxuICAgKiBJbnRlcm5hbC4gRm9yIHRlc3QgdXNlIG9ubHkuIE1heSBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gICAqL1xuICBfaW50ZXJuYWw/OiB7XG4gICAgZGVsYXk/OiAoZGVsYXlJbk1zOiBudW1iZXIgfCBudWxsKSA9PiBQcm9taXNlPHZvaWQ+O1xuICB9O1xufSA9IHt9KTogKG9wdGlvbnM6IHtcbiAgdG9vbHM6IFRPT0xTO1xufSkgPT4gVHJhbnNmb3JtU3RyZWFtPFRleHRTdHJlYW1QYXJ0PFRPT0xTPiwgVGV4dFN0cmVhbVBhcnQ8VE9PTFM+PiB7XG4gIGxldCBkZXRlY3RDaHVuazogQ2h1bmtEZXRlY3RvcjtcblxuICBpZiAodHlwZW9mIGNodW5raW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZGV0ZWN0Q2h1bmsgPSBidWZmZXIgPT4ge1xuICAgICAgY29uc3QgbWF0Y2ggPSBjaHVua2luZyhidWZmZXIpO1xuXG4gICAgICBpZiAobWF0Y2ggPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKCFtYXRjaC5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaHVua2luZyBmdW5jdGlvbiBtdXN0IHJldHVybiBhIG5vbi1lbXB0eSBzdHJpbmcuYCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghYnVmZmVyLnN0YXJ0c1dpdGgobWF0Y2gpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgQ2h1bmtpbmcgZnVuY3Rpb24gbXVzdCByZXR1cm4gYSBtYXRjaCB0aGF0IGlzIGEgcHJlZml4IG9mIHRoZSBidWZmZXIuIFJlY2VpdmVkOiBcIiR7bWF0Y2h9XCIgZXhwZWN0ZWQgdG8gc3RhcnQgd2l0aCBcIiR7YnVmZmVyfVwiYCxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgY2h1bmtpbmdSZWdleCA9XG4gICAgICB0eXBlb2YgY2h1bmtpbmcgPT09ICdzdHJpbmcnID8gQ0hVTktJTkdfUkVHRVhQU1tjaHVua2luZ10gOiBjaHVua2luZztcblxuICAgIGlmIChjaHVua2luZ1JlZ2V4ID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIGFyZ3VtZW50OiAnY2h1bmtpbmcnLFxuICAgICAgICBtZXNzYWdlOiBgQ2h1bmtpbmcgbXVzdCBiZSBcIndvcmRcIiBvciBcImxpbmVcIiBvciBhIFJlZ0V4cC4gUmVjZWl2ZWQ6ICR7Y2h1bmtpbmd9YCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGRldGVjdENodW5rID0gYnVmZmVyID0+IHtcbiAgICAgIGNvbnN0IG1hdGNoID0gY2h1bmtpbmdSZWdleC5leGVjKGJ1ZmZlcik7XG5cbiAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBidWZmZXIuc2xpY2UoMCwgbWF0Y2guaW5kZXgpICsgbWF0Y2g/LlswXTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICBsZXQgYnVmZmVyID0gJyc7XG4gICAgbGV0IGlkID0gJyc7XG5cbiAgICByZXR1cm4gbmV3IFRyYW5zZm9ybVN0cmVhbTxUZXh0U3RyZWFtUGFydDxUT09MUz4sIFRleHRTdHJlYW1QYXJ0PFRPT0xTPj4oe1xuICAgICAgYXN5bmMgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgIGlmIChjaHVuay50eXBlICE9PSAndGV4dC1kZWx0YScpIHtcbiAgICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICd0ZXh0LWRlbHRhJywgdGV4dDogYnVmZmVyLCBpZCB9KTtcbiAgICAgICAgICAgIGJ1ZmZlciA9ICcnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNodW5rLmlkICE9PSBpZCAmJiBidWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICd0ZXh0LWRlbHRhJywgdGV4dDogYnVmZmVyLCBpZCB9KTtcbiAgICAgICAgICBidWZmZXIgPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1ZmZlciArPSBjaHVuay50ZXh0O1xuICAgICAgICBpZCA9IGNodW5rLmlkO1xuXG4gICAgICAgIGxldCBtYXRjaDtcblxuICAgICAgICB3aGlsZSAoKG1hdGNoID0gZGV0ZWN0Q2h1bmsoYnVmZmVyKSkgIT0gbnVsbCkge1xuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICd0ZXh0LWRlbHRhJywgdGV4dDogbWF0Y2gsIGlkIH0pO1xuICAgICAgICAgIGJ1ZmZlciA9IGJ1ZmZlci5zbGljZShtYXRjaC5sZW5ndGgpO1xuXG4gICAgICAgICAgYXdhaXQgZGVsYXkoZGVsYXlJbk1zKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9ucyB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBtZXJnZU9iamVjdHMgfSBmcm9tICcuLi91dGlsL21lcmdlLW9iamVjdHMnO1xuXG4vKipcbiAqIEFwcGxpZXMgZGVmYXVsdCBzZXR0aW5ncyBmb3IgYSBsYW5ndWFnZSBtb2RlbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRTZXR0aW5nc01pZGRsZXdhcmUoe1xuICBzZXR0aW5ncyxcbn06IHtcbiAgc2V0dGluZ3M6IFBhcnRpYWw8e1xuICAgIG1heE91dHB1dFRva2Vucz86IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zWydtYXhPdXRwdXRUb2tlbnMnXTtcbiAgICB0ZW1wZXJhdHVyZT86IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zWyd0ZW1wZXJhdHVyZSddO1xuICAgIHN0b3BTZXF1ZW5jZXM/OiBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9uc1snc3RvcFNlcXVlbmNlcyddO1xuICAgIHRvcFA/OiBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9uc1sndG9wUCddO1xuICAgIHRvcEs/OiBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9uc1sndG9wSyddO1xuICAgIHByZXNlbmNlUGVuYWx0eT86IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zWydwcmVzZW5jZVBlbmFsdHknXTtcbiAgICBmcmVxdWVuY3lQZW5hbHR5PzogTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnNbJ2ZyZXF1ZW5jeVBlbmFsdHknXTtcbiAgICByZXNwb25zZUZvcm1hdD86IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zWydyZXNwb25zZUZvcm1hdCddO1xuICAgIHNlZWQ/OiBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9uc1snc2VlZCddO1xuICAgIHRvb2xzPzogTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnNbJ3Rvb2xzJ107XG4gICAgdG9vbENob2ljZT86IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zWyd0b29sQ2hvaWNlJ107XG4gICAgaGVhZGVycz86IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zWydoZWFkZXJzJ107XG4gICAgcHJvdmlkZXJPcHRpb25zPzogTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnNbJ3Byb3ZpZGVyT3B0aW9ucyddO1xuICB9Pjtcbn0pOiBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZSB7XG4gIHJldHVybiB7XG4gICAgbWlkZGxld2FyZVZlcnNpb246ICd2MicsXG4gICAgdHJhbnNmb3JtUGFyYW1zOiBhc3luYyAoeyBwYXJhbXMgfSkgPT4ge1xuICAgICAgcmV0dXJuIG1lcmdlT2JqZWN0cyhzZXR0aW5ncywgcGFyYW1zKSBhcyBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9ucztcbiAgICB9LFxuICB9O1xufVxuIiwgIi8qKlxuICogUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIHN0YXJ0IG9mIHRoZSBzZWFyY2hlZFRleHQgaW4gdGhlIHRleHQsIG9yIG51bGwgaWYgaXRcbiAqIGlzIG5vdCBmb3VuZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBvdGVudGlhbFN0YXJ0SW5kZXgoXG4gIHRleHQ6IHN0cmluZyxcbiAgc2VhcmNoZWRUZXh0OiBzdHJpbmcsXG4pOiBudW1iZXIgfCBudWxsIHtcbiAgLy8gUmV0dXJuIG51bGwgaW1tZWRpYXRlbHkgaWYgc2VhcmNoZWRUZXh0IGlzIGVtcHR5LlxuICBpZiAoc2VhcmNoZWRUZXh0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gQ2hlY2sgaWYgdGhlIHNlYXJjaGVkVGV4dCBleGlzdHMgYXMgYSBkaXJlY3Qgc3Vic3RyaW5nIG9mIHRleHQuXG4gIGNvbnN0IGRpcmVjdEluZGV4ID0gdGV4dC5pbmRleE9mKHNlYXJjaGVkVGV4dCk7XG4gIGlmIChkaXJlY3RJbmRleCAhPT0gLTEpIHtcbiAgICByZXR1cm4gZGlyZWN0SW5kZXg7XG4gIH1cblxuICAvLyBPdGhlcndpc2UsIGxvb2sgZm9yIHRoZSBsYXJnZXN0IHN1ZmZpeCBvZiBcInRleHRcIiB0aGF0IG1hdGNoZXNcbiAgLy8gYSBwcmVmaXggb2YgXCJzZWFyY2hlZFRleHRcIi4gV2UgZ28gZnJvbSB0aGUgZW5kIG9mIHRleHQgaW53YXJkLlxuICBmb3IgKGxldCBpID0gdGV4dC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGNvbnN0IHN1ZmZpeCA9IHRleHQuc3Vic3RyaW5nKGkpO1xuICAgIGlmIChzZWFyY2hlZFRleHQuc3RhcnRzV2l0aChzdWZmaXgpKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cbiIsICJpbXBvcnQgdHlwZSB7XG4gIExhbmd1YWdlTW9kZWxWMkNvbnRlbnQsXG4gIExhbmd1YWdlTW9kZWxWMlN0cmVhbVBhcnQsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUgfSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbC1taWRkbGV3YXJlJztcbmltcG9ydCB7IGdldFBvdGVudGlhbFN0YXJ0SW5kZXggfSBmcm9tICcuLi91dGlsL2dldC1wb3RlbnRpYWwtc3RhcnQtaW5kZXgnO1xuXG4vKipcbiAqIEV4dHJhY3QgYW4gWE1MLXRhZ2dlZCByZWFzb25pbmcgc2VjdGlvbiBmcm9tIHRoZSBnZW5lcmF0ZWQgdGV4dCBhbmQgZXhwb3NlcyBpdFxuICogYXMgYSBgcmVhc29uaW5nYCBwcm9wZXJ0eSBvbiB0aGUgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSB0YWdOYW1lIC0gVGhlIG5hbWUgb2YgdGhlIFhNTCB0YWcgdG8gZXh0cmFjdCByZWFzb25pbmcgZnJvbS5cbiAqIEBwYXJhbSBzZXBhcmF0b3IgLSBUaGUgc2VwYXJhdG9yIHRvIHVzZSBiZXR3ZWVuIHJlYXNvbmluZyBhbmQgdGV4dCBzZWN0aW9ucy5cbiAqIEBwYXJhbSBzdGFydFdpdGhSZWFzb25pbmcgLSBXaGV0aGVyIHRvIHN0YXJ0IHdpdGggcmVhc29uaW5nIHRva2Vucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RSZWFzb25pbmdNaWRkbGV3YXJlKHtcbiAgdGFnTmFtZSxcbiAgc2VwYXJhdG9yID0gJ1xcbicsXG4gIHN0YXJ0V2l0aFJlYXNvbmluZyA9IGZhbHNlLFxufToge1xuICB0YWdOYW1lOiBzdHJpbmc7XG4gIHNlcGFyYXRvcj86IHN0cmluZztcbiAgc3RhcnRXaXRoUmVhc29uaW5nPzogYm9vbGVhbjtcbn0pOiBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZSB7XG4gIGNvbnN0IG9wZW5pbmdUYWcgPSBgPCR7dGFnTmFtZX0+YDtcbiAgY29uc3QgY2xvc2luZ1RhZyA9IGA8XFwvJHt0YWdOYW1lfT5gO1xuXG4gIHJldHVybiB7XG4gICAgbWlkZGxld2FyZVZlcnNpb246ICd2MicsXG4gICAgd3JhcEdlbmVyYXRlOiBhc3luYyAoeyBkb0dlbmVyYXRlIH0pID0+IHtcbiAgICAgIGNvbnN0IHsgY29udGVudCwgLi4ucmVzdCB9ID0gYXdhaXQgZG9HZW5lcmF0ZSgpO1xuXG4gICAgICBjb25zdCB0cmFuc2Zvcm1lZENvbnRlbnQ6IExhbmd1YWdlTW9kZWxWMkNvbnRlbnRbXSA9IFtdO1xuICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIGNvbnRlbnQpIHtcbiAgICAgICAgaWYgKHBhcnQudHlwZSAhPT0gJ3RleHQnKSB7XG4gICAgICAgICAgdHJhbnNmb3JtZWRDb250ZW50LnB1c2gocGFydCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0ZXh0ID0gc3RhcnRXaXRoUmVhc29uaW5nID8gb3BlbmluZ1RhZyArIHBhcnQudGV4dCA6IHBhcnQudGV4dDtcblxuICAgICAgICBjb25zdCByZWdleHAgPSBuZXcgUmVnRXhwKGAke29wZW5pbmdUYWd9KC4qPykke2Nsb3NpbmdUYWd9YCwgJ2dzJyk7XG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBBcnJheS5mcm9tKHRleHQubWF0Y2hBbGwocmVnZXhwKSk7XG5cbiAgICAgICAgaWYgKCFtYXRjaGVzLmxlbmd0aCkge1xuICAgICAgICAgIHRyYW5zZm9ybWVkQ29udGVudC5wdXNoKHBhcnQpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVhc29uaW5nVGV4dCA9IG1hdGNoZXMubWFwKG1hdGNoID0+IG1hdGNoWzFdKS5qb2luKHNlcGFyYXRvcik7XG5cbiAgICAgICAgbGV0IHRleHRXaXRob3V0UmVhc29uaW5nID0gdGV4dDtcbiAgICAgICAgZm9yIChsZXQgaSA9IG1hdGNoZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBjb25zdCBtYXRjaCA9IG1hdGNoZXNbaV07XG5cbiAgICAgICAgICBjb25zdCBiZWZvcmVNYXRjaCA9IHRleHRXaXRob3V0UmVhc29uaW5nLnNsaWNlKDAsIG1hdGNoLmluZGV4KTtcbiAgICAgICAgICBjb25zdCBhZnRlck1hdGNoID0gdGV4dFdpdGhvdXRSZWFzb25pbmcuc2xpY2UoXG4gICAgICAgICAgICBtYXRjaC5pbmRleCEgKyBtYXRjaFswXS5sZW5ndGgsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIHRleHRXaXRob3V0UmVhc29uaW5nID1cbiAgICAgICAgICAgIGJlZm9yZU1hdGNoICtcbiAgICAgICAgICAgIChiZWZvcmVNYXRjaC5sZW5ndGggPiAwICYmIGFmdGVyTWF0Y2gubGVuZ3RoID4gMCA/IHNlcGFyYXRvciA6ICcnKSArXG4gICAgICAgICAgICBhZnRlck1hdGNoO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJhbnNmb3JtZWRDb250ZW50LnB1c2goe1xuICAgICAgICAgIHR5cGU6ICdyZWFzb25pbmcnLFxuICAgICAgICAgIHRleHQ6IHJlYXNvbmluZ1RleHQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRyYW5zZm9ybWVkQ29udGVudC5wdXNoKHtcbiAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgdGV4dDogdGV4dFdpdGhvdXRSZWFzb25pbmcsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geyBjb250ZW50OiB0cmFuc2Zvcm1lZENvbnRlbnQsIC4uLnJlc3QgfTtcbiAgICB9LFxuXG4gICAgd3JhcFN0cmVhbTogYXN5bmMgKHsgZG9TdHJlYW0gfSkgPT4ge1xuICAgICAgY29uc3QgeyBzdHJlYW0sIC4uLnJlc3QgfSA9IGF3YWl0IGRvU3RyZWFtKCk7XG5cbiAgICAgIGNvbnN0IHJlYXNvbmluZ0V4dHJhY3Rpb25zOiBSZWNvcmQ8XG4gICAgICAgIHN0cmluZyxcbiAgICAgICAge1xuICAgICAgICAgIGlzRmlyc3RSZWFzb25pbmc6IGJvb2xlYW47XG4gICAgICAgICAgaXNGaXJzdFRleHQ6IGJvb2xlYW47XG4gICAgICAgICAgYWZ0ZXJTd2l0Y2g6IGJvb2xlYW47XG4gICAgICAgICAgaXNSZWFzb25pbmc6IGJvb2xlYW47XG4gICAgICAgICAgYnVmZmVyOiBzdHJpbmc7XG4gICAgICAgICAgaWRDb3VudGVyOiBudW1iZXI7XG4gICAgICAgICAgdGV4dElkOiBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgID4gPSB7fTtcblxuICAgICAgbGV0IGRlbGF5ZWRUZXh0U3RhcnQ6IExhbmd1YWdlTW9kZWxWMlN0cmVhbVBhcnQgfCB1bmRlZmluZWQ7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0cmVhbTogc3RyZWFtLnBpcGVUaHJvdWdoKFxuICAgICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08XG4gICAgICAgICAgICBMYW5ndWFnZU1vZGVsVjJTdHJlYW1QYXJ0LFxuICAgICAgICAgICAgTGFuZ3VhZ2VNb2RlbFYyU3RyZWFtUGFydFxuICAgICAgICAgID4oe1xuICAgICAgICAgICAgdHJhbnNmb3JtOiAoY2h1bmssIGNvbnRyb2xsZXIpID0+IHtcbiAgICAgICAgICAgICAgLy8gZG8gbm90IHNlbmQgYHRleHQtc3RhcnRgIGJlZm9yZSBgcmVhc29uaW5nLXN0YXJ0YFxuICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdmVyY2VsL2FpL2lzc3Vlcy83Nzc0XG4gICAgICAgICAgICAgIGlmIChjaHVuay50eXBlID09PSAndGV4dC1zdGFydCcpIHtcbiAgICAgICAgICAgICAgICBkZWxheWVkVGV4dFN0YXJ0ID0gY2h1bms7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGNodW5rLnR5cGUgPT09ICd0ZXh0LWVuZCcgJiYgZGVsYXllZFRleHRTdGFydCkge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShkZWxheWVkVGV4dFN0YXJ0KTtcbiAgICAgICAgICAgICAgICBkZWxheWVkVGV4dFN0YXJ0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGNodW5rLnR5cGUgIT09ICd0ZXh0LWRlbHRhJykge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHJlYXNvbmluZ0V4dHJhY3Rpb25zW2NodW5rLmlkXSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVhc29uaW5nRXh0cmFjdGlvbnNbY2h1bmsuaWRdID0ge1xuICAgICAgICAgICAgICAgICAgaXNGaXJzdFJlYXNvbmluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIGlzRmlyc3RUZXh0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgYWZ0ZXJTd2l0Y2g6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgaXNSZWFzb25pbmc6IHN0YXJ0V2l0aFJlYXNvbmluZyxcbiAgICAgICAgICAgICAgICAgIGJ1ZmZlcjogJycsXG4gICAgICAgICAgICAgICAgICBpZENvdW50ZXI6IDAsXG4gICAgICAgICAgICAgICAgICB0ZXh0SWQ6IGNodW5rLmlkLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjb25zdCBhY3RpdmVFeHRyYWN0aW9uID0gcmVhc29uaW5nRXh0cmFjdGlvbnNbY2h1bmsuaWRdO1xuXG4gICAgICAgICAgICAgIGFjdGl2ZUV4dHJhY3Rpb24uYnVmZmVyICs9IGNodW5rLmRlbHRhO1xuXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIHB1Ymxpc2godGV4dDogc3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRleHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgcHJlZml4ID1cbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlRXh0cmFjdGlvbi5hZnRlclN3aXRjaCAmJlxuICAgICAgICAgICAgICAgICAgICAoYWN0aXZlRXh0cmFjdGlvbi5pc1JlYXNvbmluZ1xuICAgICAgICAgICAgICAgICAgICAgID8gIWFjdGl2ZUV4dHJhY3Rpb24uaXNGaXJzdFJlYXNvbmluZ1xuICAgICAgICAgICAgICAgICAgICAgIDogIWFjdGl2ZUV4dHJhY3Rpb24uaXNGaXJzdFRleHQpXG4gICAgICAgICAgICAgICAgICAgICAgPyBzZXBhcmF0b3JcbiAgICAgICAgICAgICAgICAgICAgICA6ICcnO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUV4dHJhY3Rpb24uaXNSZWFzb25pbmcgJiZcbiAgICAgICAgICAgICAgICAgICAgKGFjdGl2ZUV4dHJhY3Rpb24uYWZ0ZXJTd2l0Y2ggfHxcbiAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVFeHRyYWN0aW9uLmlzRmlyc3RSZWFzb25pbmcpXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncmVhc29uaW5nLXN0YXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgICBpZDogYHJlYXNvbmluZy0ke2FjdGl2ZUV4dHJhY3Rpb24uaWRDb3VudGVyfWAsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlRXh0cmFjdGlvbi5pc1JlYXNvbmluZykge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZWFzb25pbmctZGVsdGEnLFxuICAgICAgICAgICAgICAgICAgICAgIGRlbHRhOiBwcmVmaXggKyB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgIGlkOiBgcmVhc29uaW5nLSR7YWN0aXZlRXh0cmFjdGlvbi5pZENvdW50ZXJ9YCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVsYXllZFRleHRTdGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShkZWxheWVkVGV4dFN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICBkZWxheWVkVGV4dFN0YXJ0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQtZGVsdGEnLFxuICAgICAgICAgICAgICAgICAgICAgIGRlbHRhOiBwcmVmaXggKyB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgIGlkOiBhY3RpdmVFeHRyYWN0aW9uLnRleHRJZCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBhY3RpdmVFeHRyYWN0aW9uLmFmdGVyU3dpdGNoID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVFeHRyYWN0aW9uLmlzUmVhc29uaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUV4dHJhY3Rpb24uaXNGaXJzdFJlYXNvbmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlRXh0cmFjdGlvbi5pc0ZpcnN0VGV4dCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0VGFnID0gYWN0aXZlRXh0cmFjdGlvbi5pc1JlYXNvbmluZ1xuICAgICAgICAgICAgICAgICAgPyBjbG9zaW5nVGFnXG4gICAgICAgICAgICAgICAgICA6IG9wZW5pbmdUYWc7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydEluZGV4ID0gZ2V0UG90ZW50aWFsU3RhcnRJbmRleChcbiAgICAgICAgICAgICAgICAgIGFjdGl2ZUV4dHJhY3Rpb24uYnVmZmVyLFxuICAgICAgICAgICAgICAgICAgbmV4dFRhZyxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgLy8gbm8gb3BlbmluZyBvciBjbG9zaW5nIHRhZyBmb3VuZCwgcHVibGlzaCB0aGUgYnVmZmVyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0SW5kZXggPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgcHVibGlzaChhY3RpdmVFeHRyYWN0aW9uLmJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICBhY3RpdmVFeHRyYWN0aW9uLmJ1ZmZlciA9ICcnO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gcHVibGlzaCB0ZXh0IGJlZm9yZSB0aGUgdGFnXG4gICAgICAgICAgICAgICAgcHVibGlzaChhY3RpdmVFeHRyYWN0aW9uLmJ1ZmZlci5zbGljZSgwLCBzdGFydEluZGV4KSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBmb3VuZEZ1bGxNYXRjaCA9XG4gICAgICAgICAgICAgICAgICBzdGFydEluZGV4ICsgbmV4dFRhZy5sZW5ndGggPD0gYWN0aXZlRXh0cmFjdGlvbi5idWZmZXIubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZvdW5kRnVsbE1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICBhY3RpdmVFeHRyYWN0aW9uLmJ1ZmZlciA9IGFjdGl2ZUV4dHJhY3Rpb24uYnVmZmVyLnNsaWNlKFxuICAgICAgICAgICAgICAgICAgICBzdGFydEluZGV4ICsgbmV4dFRhZy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAvLyByZWFzb25pbmcgcGFydCBmaW5pc2hlZDpcbiAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVFeHRyYWN0aW9uLmlzUmVhc29uaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlYXNvbmluZy1lbmQnLFxuICAgICAgICAgICAgICAgICAgICAgIGlkOiBgcmVhc29uaW5nLSR7YWN0aXZlRXh0cmFjdGlvbi5pZENvdW50ZXIrK31gLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgYWN0aXZlRXh0cmFjdGlvbi5pc1JlYXNvbmluZyA9ICFhY3RpdmVFeHRyYWN0aW9uLmlzUmVhc29uaW5nO1xuICAgICAgICAgICAgICAgICAgYWN0aXZlRXh0cmFjdGlvbi5hZnRlclN3aXRjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGFjdGl2ZUV4dHJhY3Rpb24uYnVmZmVyID1cbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlRXh0cmFjdGlvbi5idWZmZXIuc2xpY2Uoc3RhcnRJbmRleCk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gd2hpbGUgKHRydWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKSxcbiAgICAgICAgLi4ucmVzdCxcbiAgICAgIH07XG4gICAgfSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IExhbmd1YWdlTW9kZWxWMlN0cmVhbVBhcnQgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vKipcbiAqIFNpbXVsYXRlcyBzdHJlYW1pbmcgY2h1bmtzIHdpdGggdGhlIHJlc3BvbnNlIGZyb20gYSBnZW5lcmF0ZSBjYWxsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2ltdWxhdGVTdHJlYW1pbmdNaWRkbGV3YXJlKCk6IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlIHtcbiAgcmV0dXJuIHtcbiAgICBtaWRkbGV3YXJlVmVyc2lvbjogJ3YyJyxcbiAgICB3cmFwU3RyZWFtOiBhc3luYyAoeyBkb0dlbmVyYXRlIH0pID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRvR2VuZXJhdGUoKTtcblxuICAgICAgbGV0IGlkID0gMDtcblxuICAgICAgY29uc3Qgc2ltdWxhdGVkU3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtPExhbmd1YWdlTW9kZWxWMlN0cmVhbVBhcnQ+KHtcbiAgICAgICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICB0eXBlOiAnc3RyZWFtLXN0YXJ0JyxcbiAgICAgICAgICAgIHdhcm5pbmdzOiByZXN1bHQud2FybmluZ3MsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAncmVzcG9uc2UtbWV0YWRhdGEnLCAuLi5yZXN1bHQucmVzcG9uc2UgfSk7XG5cbiAgICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcmVzdWx0LmNvbnRlbnQpIHtcbiAgICAgICAgICAgIHN3aXRjaCAocGFydC50eXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgJ3RleHQnOiB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnQudGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAndGV4dC1zdGFydCcsIGlkOiBTdHJpbmcoaWQpIH0pO1xuICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQtZGVsdGEnLFxuICAgICAgICAgICAgICAgICAgICBpZDogU3RyaW5nKGlkKSxcbiAgICAgICAgICAgICAgICAgICAgZGVsdGE6IHBhcnQudGV4dCxcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ3RleHQtZW5kJywgaWQ6IFN0cmluZyhpZCkgfSk7XG4gICAgICAgICAgICAgICAgICBpZCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjYXNlICdyZWFzb25pbmcnOiB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZWFzb25pbmctc3RhcnQnLFxuICAgICAgICAgICAgICAgICAgaWQ6IFN0cmluZyhpZCksXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZWFzb25pbmctZGVsdGEnLFxuICAgICAgICAgICAgICAgICAgaWQ6IFN0cmluZyhpZCksXG4gICAgICAgICAgICAgICAgICBkZWx0YTogcGFydC50ZXh0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICdyZWFzb25pbmctZW5kJywgaWQ6IFN0cmluZyhpZCkgfSk7XG4gICAgICAgICAgICAgICAgaWQrKztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHBhcnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgIHR5cGU6ICdmaW5pc2gnLFxuICAgICAgICAgICAgZmluaXNoUmVhc29uOiByZXN1bHQuZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgdXNhZ2U6IHJlc3VsdC51c2FnZSxcbiAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHJlc3VsdC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0cmVhbTogc2ltdWxhdGVkU3RyZWFtLFxuICAgICAgICByZXF1ZXN0OiByZXN1bHQucmVxdWVzdCxcbiAgICAgICAgcmVzcG9uc2U6IHJlc3VsdC5yZXNwb25zZSxcbiAgICAgIH07XG4gICAgfSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyBMYW5ndWFnZU1vZGVsVjIsIExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGFzQXJyYXkgfSBmcm9tICcuLi91dGlsL2FzLWFycmF5JztcblxuLyoqXG4gKiBXcmFwcyBhIExhbmd1YWdlTW9kZWxWMiBpbnN0YW5jZSB3aXRoIG1pZGRsZXdhcmUgZnVuY3Rpb25hbGl0eS5cbiAqIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byBhcHBseSBtaWRkbGV3YXJlIHRvIHRyYW5zZm9ybSBwYXJhbWV0ZXJzLFxuICogd3JhcCBnZW5lcmF0ZSBvcGVyYXRpb25zLCBhbmQgd3JhcCBzdHJlYW0gb3BlcmF0aW9ucyBvZiBhIGxhbmd1YWdlIG1vZGVsLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIC0gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB3cmFwcGluZyB0aGUgbGFuZ3VhZ2UgbW9kZWwuXG4gKiBAcGFyYW0gb3B0aW9ucy5tb2RlbCAtIFRoZSBvcmlnaW5hbCBMYW5ndWFnZU1vZGVsVjIgaW5zdGFuY2UgdG8gYmUgd3JhcHBlZC5cbiAqIEBwYXJhbSBvcHRpb25zLm1pZGRsZXdhcmUgLSBUaGUgbWlkZGxld2FyZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBsYW5ndWFnZSBtb2RlbC4gV2hlbiBtdWx0aXBsZSBtaWRkbGV3YXJlcyBhcmUgcHJvdmlkZWQsIHRoZSBmaXJzdCBtaWRkbGV3YXJlIHdpbGwgdHJhbnNmb3JtIHRoZSBpbnB1dCBmaXJzdCwgYW5kIHRoZSBsYXN0IG1pZGRsZXdhcmUgd2lsbCBiZSB3cmFwcGVkIGRpcmVjdGx5IGFyb3VuZCB0aGUgbW9kZWwuXG4gKiBAcGFyYW0gb3B0aW9ucy5tb2RlbElkIC0gT3B0aW9uYWwgY3VzdG9tIG1vZGVsIElEIHRvIG92ZXJyaWRlIHRoZSBvcmlnaW5hbCBtb2RlbCdzIElELlxuICogQHBhcmFtIG9wdGlvbnMucHJvdmlkZXJJZCAtIE9wdGlvbmFsIGN1c3RvbSBwcm92aWRlciBJRCB0byBvdmVycmlkZSB0aGUgb3JpZ2luYWwgbW9kZWwncyBwcm92aWRlciBJRC5cbiAqIEByZXR1cm5zIEEgbmV3IExhbmd1YWdlTW9kZWxWMiBpbnN0YW5jZSB3aXRoIG1pZGRsZXdhcmUgYXBwbGllZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHdyYXBMYW5ndWFnZU1vZGVsID0gKHtcbiAgbW9kZWwsXG4gIG1pZGRsZXdhcmU6IG1pZGRsZXdhcmVBcmcsXG4gIG1vZGVsSWQsXG4gIHByb3ZpZGVySWQsXG59OiB7XG4gIG1vZGVsOiBMYW5ndWFnZU1vZGVsVjI7XG4gIG1pZGRsZXdhcmU6IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlIHwgTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmVbXTtcbiAgbW9kZWxJZD86IHN0cmluZztcbiAgcHJvdmlkZXJJZD86IHN0cmluZztcbn0pOiBMYW5ndWFnZU1vZGVsVjIgPT4ge1xuICByZXR1cm4gYXNBcnJheShtaWRkbGV3YXJlQXJnKVxuICAgIC5yZXZlcnNlKClcbiAgICAucmVkdWNlKCh3cmFwcGVkTW9kZWwsIG1pZGRsZXdhcmUpID0+IHtcbiAgICAgIHJldHVybiBkb1dyYXAoeyBtb2RlbDogd3JhcHBlZE1vZGVsLCBtaWRkbGV3YXJlLCBtb2RlbElkLCBwcm92aWRlcklkIH0pO1xuICAgIH0sIG1vZGVsKTtcbn07XG5cbmNvbnN0IGRvV3JhcCA9ICh7XG4gIG1vZGVsLFxuICBtaWRkbGV3YXJlOiB7XG4gICAgdHJhbnNmb3JtUGFyYW1zLFxuICAgIHdyYXBHZW5lcmF0ZSxcbiAgICB3cmFwU3RyZWFtLFxuICAgIG92ZXJyaWRlUHJvdmlkZXIsXG4gICAgb3ZlcnJpZGVNb2RlbElkLFxuICAgIG92ZXJyaWRlU3VwcG9ydGVkVXJscyxcbiAgfSxcbiAgbW9kZWxJZCxcbiAgcHJvdmlkZXJJZCxcbn06IHtcbiAgbW9kZWw6IExhbmd1YWdlTW9kZWxWMjtcbiAgbWlkZGxld2FyZTogTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmU7XG4gIG1vZGVsSWQ/OiBzdHJpbmc7XG4gIHByb3ZpZGVySWQ/OiBzdHJpbmc7XG59KTogTGFuZ3VhZ2VNb2RlbFYyID0+IHtcbiAgYXN5bmMgZnVuY3Rpb24gZG9UcmFuc2Zvcm0oe1xuICAgIHBhcmFtcyxcbiAgICB0eXBlLFxuICB9OiB7XG4gICAgcGFyYW1zOiBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9ucztcbiAgICB0eXBlOiAnZ2VuZXJhdGUnIHwgJ3N0cmVhbSc7XG4gIH0pIHtcbiAgICByZXR1cm4gdHJhbnNmb3JtUGFyYW1zXG4gICAgICA/IGF3YWl0IHRyYW5zZm9ybVBhcmFtcyh7IHBhcmFtcywgdHlwZSwgbW9kZWwgfSlcbiAgICAgIDogcGFyYW1zO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzcGVjaWZpY2F0aW9uVmVyc2lvbjogJ3YyJyxcblxuICAgIHByb3ZpZGVyOiBwcm92aWRlcklkID8/IG92ZXJyaWRlUHJvdmlkZXI/Lih7IG1vZGVsIH0pID8/IG1vZGVsLnByb3ZpZGVyLFxuICAgIG1vZGVsSWQ6IG1vZGVsSWQgPz8gb3ZlcnJpZGVNb2RlbElkPy4oeyBtb2RlbCB9KSA/PyBtb2RlbC5tb2RlbElkLFxuICAgIHN1cHBvcnRlZFVybHM6IG92ZXJyaWRlU3VwcG9ydGVkVXJscz8uKHsgbW9kZWwgfSkgPz8gbW9kZWwuc3VwcG9ydGVkVXJscyxcblxuICAgIGFzeW5jIGRvR2VuZXJhdGUoXG4gICAgICBwYXJhbXM6IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zLFxuICAgICk6IFByb21pc2U8QXdhaXRlZDxSZXR1cm5UeXBlPExhbmd1YWdlTW9kZWxWMlsnZG9HZW5lcmF0ZSddPj4+IHtcbiAgICAgIGNvbnN0IHRyYW5zZm9ybWVkUGFyYW1zID0gYXdhaXQgZG9UcmFuc2Zvcm0oeyBwYXJhbXMsIHR5cGU6ICdnZW5lcmF0ZScgfSk7XG4gICAgICBjb25zdCBkb0dlbmVyYXRlID0gYXN5bmMgKCkgPT4gbW9kZWwuZG9HZW5lcmF0ZSh0cmFuc2Zvcm1lZFBhcmFtcyk7XG4gICAgICBjb25zdCBkb1N0cmVhbSA9IGFzeW5jICgpID0+IG1vZGVsLmRvU3RyZWFtKHRyYW5zZm9ybWVkUGFyYW1zKTtcbiAgICAgIHJldHVybiB3cmFwR2VuZXJhdGVcbiAgICAgICAgPyB3cmFwR2VuZXJhdGUoe1xuICAgICAgICAgICAgZG9HZW5lcmF0ZSxcbiAgICAgICAgICAgIGRvU3RyZWFtLFxuICAgICAgICAgICAgcGFyYW1zOiB0cmFuc2Zvcm1lZFBhcmFtcyxcbiAgICAgICAgICAgIG1vZGVsLFxuICAgICAgICAgIH0pXG4gICAgICAgIDogZG9HZW5lcmF0ZSgpO1xuICAgIH0sXG5cbiAgICBhc3luYyBkb1N0cmVhbShcbiAgICAgIHBhcmFtczogTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTxBd2FpdGVkPFJldHVyblR5cGU8TGFuZ3VhZ2VNb2RlbFYyWydkb1N0cmVhbSddPj4+IHtcbiAgICAgIGNvbnN0IHRyYW5zZm9ybWVkUGFyYW1zID0gYXdhaXQgZG9UcmFuc2Zvcm0oeyBwYXJhbXMsIHR5cGU6ICdzdHJlYW0nIH0pO1xuICAgICAgY29uc3QgZG9HZW5lcmF0ZSA9IGFzeW5jICgpID0+IG1vZGVsLmRvR2VuZXJhdGUodHJhbnNmb3JtZWRQYXJhbXMpO1xuICAgICAgY29uc3QgZG9TdHJlYW0gPSBhc3luYyAoKSA9PiBtb2RlbC5kb1N0cmVhbSh0cmFuc2Zvcm1lZFBhcmFtcyk7XG4gICAgICByZXR1cm4gd3JhcFN0cmVhbVxuICAgICAgICA/IHdyYXBTdHJlYW0oeyBkb0dlbmVyYXRlLCBkb1N0cmVhbSwgcGFyYW1zOiB0cmFuc2Zvcm1lZFBhcmFtcywgbW9kZWwgfSlcbiAgICAgICAgOiBkb1N0cmVhbSgpO1xuICAgIH0sXG4gIH07XG59O1xuIiwgImltcG9ydCB0eXBlIHsgUHJvdmlkZXJWMiB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUgfSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbC1taWRkbGV3YXJlJztcbmltcG9ydCB7IHdyYXBMYW5ndWFnZU1vZGVsIH0gZnJvbSAnLi93cmFwLWxhbmd1YWdlLW1vZGVsJztcblxuLyoqXG4gKiBXcmFwcyBhIFByb3ZpZGVyVjIgaW5zdGFuY2Ugd2l0aCBtaWRkbGV3YXJlIGZ1bmN0aW9uYWxpdHkuXG4gKiBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gYXBwbHkgbWlkZGxld2FyZSB0byBhbGwgbGFuZ3VhZ2UgbW9kZWxzXG4gKiBmcm9tIHRoZSBwcm92aWRlciwgZW5hYmxpbmcgeW91IHRvIHRyYW5zZm9ybSBwYXJhbWV0ZXJzLCB3cmFwIGdlbmVyYXRlXG4gKiBvcGVyYXRpb25zLCBhbmQgd3JhcCBzdHJlYW0gb3BlcmF0aW9ucyBmb3IgZXZlcnkgbGFuZ3VhZ2UgbW9kZWwuXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgLSBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHdyYXBwaW5nIHRoZSBwcm92aWRlci5cbiAqIEBwYXJhbSBvcHRpb25zLnByb3ZpZGVyIC0gVGhlIG9yaWdpbmFsIFByb3ZpZGVyVjIgaW5zdGFuY2UgdG8gYmUgd3JhcHBlZC5cbiAqIEBwYXJhbSBvcHRpb25zLmxhbmd1YWdlTW9kZWxNaWRkbGV3YXJlIC0gVGhlIG1pZGRsZXdhcmUgdG8gYmUgYXBwbGllZCB0byBhbGwgbGFuZ3VhZ2UgbW9kZWxzIGZyb20gdGhlIHByb3ZpZGVyLiBXaGVuIG11bHRpcGxlIG1pZGRsZXdhcmVzIGFyZSBwcm92aWRlZCwgdGhlIGZpcnN0IG1pZGRsZXdhcmUgd2lsbCB0cmFuc2Zvcm0gdGhlIGlucHV0IGZpcnN0LCBhbmQgdGhlIGxhc3QgbWlkZGxld2FyZSB3aWxsIGJlIHdyYXBwZWQgZGlyZWN0bHkgYXJvdW5kIHRoZSBtb2RlbC5cbiAqIEByZXR1cm5zIEEgbmV3IFByb3ZpZGVyVjIgaW5zdGFuY2Ugd2l0aCBtaWRkbGV3YXJlIGFwcGxpZWQgdG8gYWxsIGxhbmd1YWdlIG1vZGVscy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdyYXBQcm92aWRlcih7XG4gIHByb3ZpZGVyLFxuICBsYW5ndWFnZU1vZGVsTWlkZGxld2FyZSxcbn06IHtcbiAgcHJvdmlkZXI6IFByb3ZpZGVyVjI7XG4gIGxhbmd1YWdlTW9kZWxNaWRkbGV3YXJlOiBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZSB8IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlW107XG59KTogUHJvdmlkZXJWMiB7XG4gIGNvbnN0IHdyYXBwZWRQcm92aWRlciA9IHtcbiAgICBsYW5ndWFnZU1vZGVsKG1vZGVsSWQ6IHN0cmluZykge1xuICAgICAgbGV0IG1vZGVsID0gcHJvdmlkZXIubGFuZ3VhZ2VNb2RlbChtb2RlbElkKTtcbiAgICAgIG1vZGVsID0gd3JhcExhbmd1YWdlTW9kZWwoe1xuICAgICAgICBtb2RlbCxcbiAgICAgICAgbWlkZGxld2FyZTogbGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBtb2RlbDtcbiAgICB9LFxuICAgIHRleHRFbWJlZGRpbmdNb2RlbDogcHJvdmlkZXIudGV4dEVtYmVkZGluZ01vZGVsLFxuICAgIGltYWdlTW9kZWw6IHByb3ZpZGVyLmltYWdlTW9kZWwsXG4gICAgdHJhbnNjcmlwdGlvbk1vZGVsOiBwcm92aWRlci50cmFuc2NyaXB0aW9uTW9kZWwsXG4gICAgc3BlZWNoTW9kZWw6IHByb3ZpZGVyLnNwZWVjaE1vZGVsLFxuICB9O1xuXG4gIHJldHVybiB3cmFwcGVkUHJvdmlkZXI7XG59XG4iLCAiaW1wb3J0IHtcbiAgRW1iZWRkaW5nTW9kZWxWMixcbiAgSW1hZ2VNb2RlbFYyLFxuICBMYW5ndWFnZU1vZGVsVjIsXG4gIE5vU3VjaE1vZGVsRXJyb3IsXG4gIFByb3ZpZGVyVjIsXG4gIFNwZWVjaE1vZGVsVjIsXG4gIFRyYW5zY3JpcHRpb25Nb2RlbFYyLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgY3VzdG9tIHByb3ZpZGVyIHdpdGggc3BlY2lmaWVkIGxhbmd1YWdlIG1vZGVscywgdGV4dCBlbWJlZGRpbmcgbW9kZWxzLCBpbWFnZSBtb2RlbHMsIHRyYW5zY3JpcHRpb24gbW9kZWxzLCBzcGVlY2ggbW9kZWxzLCBhbmQgYW4gb3B0aW9uYWwgZmFsbGJhY2sgcHJvdmlkZXIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgY3JlYXRpbmcgdGhlIGN1c3RvbSBwcm92aWRlci5cbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgTGFuZ3VhZ2VNb2RlbD59IFtvcHRpb25zLmxhbmd1YWdlTW9kZWxzXSAtIEEgcmVjb3JkIG9mIGxhbmd1YWdlIG1vZGVscywgd2hlcmUga2V5cyBhcmUgbW9kZWwgSURzIGFuZCB2YWx1ZXMgYXJlIExhbmd1YWdlTW9kZWwgaW5zdGFuY2VzLlxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBFbWJlZGRpbmdNb2RlbDxzdHJpbmc+Pn0gW29wdGlvbnMudGV4dEVtYmVkZGluZ01vZGVsc10gLSBBIHJlY29yZCBvZiB0ZXh0IGVtYmVkZGluZyBtb2RlbHMsIHdoZXJlIGtleXMgYXJlIG1vZGVsIElEcyBhbmQgdmFsdWVzIGFyZSBFbWJlZGRpbmdNb2RlbDxzdHJpbmc+IGluc3RhbmNlcy5cbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgSW1hZ2VNb2RlbD59IFtvcHRpb25zLmltYWdlTW9kZWxzXSAtIEEgcmVjb3JkIG9mIGltYWdlIG1vZGVscywgd2hlcmUga2V5cyBhcmUgbW9kZWwgSURzIGFuZCB2YWx1ZXMgYXJlIEltYWdlTW9kZWwgaW5zdGFuY2VzLlxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBUcmFuc2NyaXB0aW9uTW9kZWw+fSBbb3B0aW9ucy50cmFuc2NyaXB0aW9uTW9kZWxzXSAtIEEgcmVjb3JkIG9mIHRyYW5zY3JpcHRpb24gbW9kZWxzLCB3aGVyZSBrZXlzIGFyZSBtb2RlbCBJRHMgYW5kIHZhbHVlcyBhcmUgVHJhbnNjcmlwdGlvbk1vZGVsIGluc3RhbmNlcy5cbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgU3BlZWNoTW9kZWw+fSBbb3B0aW9ucy5zcGVlY2hNb2RlbHNdIC0gQSByZWNvcmQgb2Ygc3BlZWNoIG1vZGVscywgd2hlcmUga2V5cyBhcmUgbW9kZWwgSURzIGFuZCB2YWx1ZXMgYXJlIFNwZWVjaE1vZGVsIGluc3RhbmNlcy5cbiAqIEBwYXJhbSB7UHJvdmlkZXJ9IFtvcHRpb25zLmZhbGxiYWNrUHJvdmlkZXJdIC0gQW4gb3B0aW9uYWwgZmFsbGJhY2sgcHJvdmlkZXIgdG8gdXNlIHdoZW4gYSByZXF1ZXN0ZWQgbW9kZWwgaXMgbm90IGZvdW5kIGluIHRoZSBjdXN0b20gcHJvdmlkZXIuXG4gKiBAcmV0dXJucyB7UHJvdmlkZXJ9IEEgUHJvdmlkZXIgb2JqZWN0IHdpdGggbGFuZ3VhZ2VNb2RlbCwgdGV4dEVtYmVkZGluZ01vZGVsLCBpbWFnZU1vZGVsLCB0cmFuc2NyaXB0aW9uTW9kZWwsIGFuZCBzcGVlY2hNb2RlbCBtZXRob2RzLlxuICpcbiAqIEB0aHJvd3Mge05vU3VjaE1vZGVsRXJyb3J9IFRocm93cyB3aGVuIGEgcmVxdWVzdGVkIG1vZGVsIGlzIG5vdCBmb3VuZCBhbmQgbm8gZmFsbGJhY2sgcHJvdmlkZXIgaXMgYXZhaWxhYmxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3VzdG9tUHJvdmlkZXI8XG4gIExBTkdVQUdFX01PREVMUyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIExhbmd1YWdlTW9kZWxWMj4sXG4gIEVNQkVERElOR19NT0RFTFMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBFbWJlZGRpbmdNb2RlbFYyPHN0cmluZz4+LFxuICBJTUFHRV9NT0RFTFMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBJbWFnZU1vZGVsVjI+LFxuICBUUkFOU0NSSVBUSU9OX01PREVMUyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIFRyYW5zY3JpcHRpb25Nb2RlbFYyPixcbiAgU1BFRUNIX01PREVMUyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIFNwZWVjaE1vZGVsVjI+LFxuPih7XG4gIGxhbmd1YWdlTW9kZWxzLFxuICB0ZXh0RW1iZWRkaW5nTW9kZWxzLFxuICBpbWFnZU1vZGVscyxcbiAgdHJhbnNjcmlwdGlvbk1vZGVscyxcbiAgc3BlZWNoTW9kZWxzLFxuICBmYWxsYmFja1Byb3ZpZGVyLFxufToge1xuICBsYW5ndWFnZU1vZGVscz86IExBTkdVQUdFX01PREVMUztcbiAgdGV4dEVtYmVkZGluZ01vZGVscz86IEVNQkVERElOR19NT0RFTFM7XG4gIGltYWdlTW9kZWxzPzogSU1BR0VfTU9ERUxTO1xuICB0cmFuc2NyaXB0aW9uTW9kZWxzPzogVFJBTlNDUklQVElPTl9NT0RFTFM7XG4gIHNwZWVjaE1vZGVscz86IFNQRUVDSF9NT0RFTFM7XG4gIGZhbGxiYWNrUHJvdmlkZXI/OiBQcm92aWRlclYyO1xufSk6IFByb3ZpZGVyVjIgJiB7XG4gIGxhbmd1YWdlTW9kZWwobW9kZWxJZDogRXh0cmFjdE1vZGVsSWQ8TEFOR1VBR0VfTU9ERUxTPik6IExhbmd1YWdlTW9kZWxWMjtcbiAgdGV4dEVtYmVkZGluZ01vZGVsKFxuICAgIG1vZGVsSWQ6IEV4dHJhY3RNb2RlbElkPEVNQkVERElOR19NT0RFTFM+LFxuICApOiBFbWJlZGRpbmdNb2RlbFYyPHN0cmluZz47XG4gIGltYWdlTW9kZWwobW9kZWxJZDogRXh0cmFjdE1vZGVsSWQ8SU1BR0VfTU9ERUxTPik6IEltYWdlTW9kZWxWMjtcbiAgdHJhbnNjcmlwdGlvbk1vZGVsKFxuICAgIG1vZGVsSWQ6IEV4dHJhY3RNb2RlbElkPFRSQU5TQ1JJUFRJT05fTU9ERUxTPixcbiAgKTogVHJhbnNjcmlwdGlvbk1vZGVsVjI7XG4gIHNwZWVjaE1vZGVsKG1vZGVsSWQ6IEV4dHJhY3RNb2RlbElkPFNQRUVDSF9NT0RFTFM+KTogU3BlZWNoTW9kZWxWMjtcbn0ge1xuICByZXR1cm4ge1xuICAgIGxhbmd1YWdlTW9kZWwobW9kZWxJZDogRXh0cmFjdE1vZGVsSWQ8TEFOR1VBR0VfTU9ERUxTPik6IExhbmd1YWdlTW9kZWxWMiB7XG4gICAgICBpZiAobGFuZ3VhZ2VNb2RlbHMgIT0gbnVsbCAmJiBtb2RlbElkIGluIGxhbmd1YWdlTW9kZWxzKSB7XG4gICAgICAgIHJldHVybiBsYW5ndWFnZU1vZGVsc1ttb2RlbElkXTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZhbGxiYWNrUHJvdmlkZXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrUHJvdmlkZXIubGFuZ3VhZ2VNb2RlbChtb2RlbElkKTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IE5vU3VjaE1vZGVsRXJyb3IoeyBtb2RlbElkLCBtb2RlbFR5cGU6ICdsYW5ndWFnZU1vZGVsJyB9KTtcbiAgICB9LFxuXG4gICAgdGV4dEVtYmVkZGluZ01vZGVsKFxuICAgICAgbW9kZWxJZDogRXh0cmFjdE1vZGVsSWQ8RU1CRURESU5HX01PREVMUz4sXG4gICAgKTogRW1iZWRkaW5nTW9kZWxWMjxzdHJpbmc+IHtcbiAgICAgIGlmICh0ZXh0RW1iZWRkaW5nTW9kZWxzICE9IG51bGwgJiYgbW9kZWxJZCBpbiB0ZXh0RW1iZWRkaW5nTW9kZWxzKSB7XG4gICAgICAgIHJldHVybiB0ZXh0RW1iZWRkaW5nTW9kZWxzW21vZGVsSWRdO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmFsbGJhY2tQcm92aWRlcikge1xuICAgICAgICByZXR1cm4gZmFsbGJhY2tQcm92aWRlci50ZXh0RW1iZWRkaW5nTW9kZWwobW9kZWxJZCk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBOb1N1Y2hNb2RlbEVycm9yKHsgbW9kZWxJZCwgbW9kZWxUeXBlOiAndGV4dEVtYmVkZGluZ01vZGVsJyB9KTtcbiAgICB9LFxuXG4gICAgaW1hZ2VNb2RlbChtb2RlbElkOiBFeHRyYWN0TW9kZWxJZDxJTUFHRV9NT0RFTFM+KTogSW1hZ2VNb2RlbFYyIHtcbiAgICAgIGlmIChpbWFnZU1vZGVscyAhPSBudWxsICYmIG1vZGVsSWQgaW4gaW1hZ2VNb2RlbHMpIHtcbiAgICAgICAgcmV0dXJuIGltYWdlTW9kZWxzW21vZGVsSWRdO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmFsbGJhY2tQcm92aWRlcj8uaW1hZ2VNb2RlbCkge1xuICAgICAgICByZXR1cm4gZmFsbGJhY2tQcm92aWRlci5pbWFnZU1vZGVsKG1vZGVsSWQpO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgTm9TdWNoTW9kZWxFcnJvcih7IG1vZGVsSWQsIG1vZGVsVHlwZTogJ2ltYWdlTW9kZWwnIH0pO1xuICAgIH0sXG5cbiAgICB0cmFuc2NyaXB0aW9uTW9kZWwoXG4gICAgICBtb2RlbElkOiBFeHRyYWN0TW9kZWxJZDxUUkFOU0NSSVBUSU9OX01PREVMUz4sXG4gICAgKTogVHJhbnNjcmlwdGlvbk1vZGVsVjIge1xuICAgICAgaWYgKHRyYW5zY3JpcHRpb25Nb2RlbHMgIT0gbnVsbCAmJiBtb2RlbElkIGluIHRyYW5zY3JpcHRpb25Nb2RlbHMpIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zY3JpcHRpb25Nb2RlbHNbbW9kZWxJZF07XG4gICAgICB9XG5cbiAgICAgIGlmIChmYWxsYmFja1Byb3ZpZGVyPy50cmFuc2NyaXB0aW9uTW9kZWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrUHJvdmlkZXIudHJhbnNjcmlwdGlvbk1vZGVsKG1vZGVsSWQpO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgTm9TdWNoTW9kZWxFcnJvcih7IG1vZGVsSWQsIG1vZGVsVHlwZTogJ3RyYW5zY3JpcHRpb25Nb2RlbCcgfSk7XG4gICAgfSxcblxuICAgIHNwZWVjaE1vZGVsKG1vZGVsSWQ6IEV4dHJhY3RNb2RlbElkPFNQRUVDSF9NT0RFTFM+KTogU3BlZWNoTW9kZWxWMiB7XG4gICAgICBpZiAoc3BlZWNoTW9kZWxzICE9IG51bGwgJiYgbW9kZWxJZCBpbiBzcGVlY2hNb2RlbHMpIHtcbiAgICAgICAgcmV0dXJuIHNwZWVjaE1vZGVsc1ttb2RlbElkXTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZhbGxiYWNrUHJvdmlkZXI/LnNwZWVjaE1vZGVsKSB7XG4gICAgICAgIHJldHVybiBmYWxsYmFja1Byb3ZpZGVyLnNwZWVjaE1vZGVsKG1vZGVsSWQpO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgTm9TdWNoTW9kZWxFcnJvcih7IG1vZGVsSWQsIG1vZGVsVHlwZTogJ3NwZWVjaE1vZGVsJyB9KTtcbiAgICB9LFxuICB9O1xufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBgY3VzdG9tUHJvdmlkZXJgIGluc3RlYWQuXG4gKi9cbmV4cG9ydCBjb25zdCBleHBlcmltZW50YWxfY3VzdG9tUHJvdmlkZXIgPSBjdXN0b21Qcm92aWRlcjtcblxudHlwZSBFeHRyYWN0TW9kZWxJZDxNT0RFTFMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4gPSBFeHRyYWN0PFxuICBrZXlvZiBNT0RFTFMsXG4gIHN0cmluZ1xuPjtcbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yLCBOb1N1Y2hNb2RlbEVycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfTm9TdWNoUHJvdmlkZXJFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgTm9TdWNoUHJvdmlkZXJFcnJvciBleHRlbmRzIE5vU3VjaE1vZGVsRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgcHJvdmlkZXJJZDogc3RyaW5nO1xuICByZWFkb25seSBhdmFpbGFibGVQcm92aWRlcnM6IHN0cmluZ1tdO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtb2RlbElkLFxuICAgIG1vZGVsVHlwZSxcbiAgICBwcm92aWRlcklkLFxuICAgIGF2YWlsYWJsZVByb3ZpZGVycyxcbiAgICBtZXNzYWdlID0gYE5vIHN1Y2ggcHJvdmlkZXI6ICR7cHJvdmlkZXJJZH0gKGF2YWlsYWJsZSBwcm92aWRlcnM6ICR7YXZhaWxhYmxlUHJvdmlkZXJzLmpvaW4oKX0pYCxcbiAgfToge1xuICAgIG1vZGVsSWQ6IHN0cmluZztcbiAgICBtb2RlbFR5cGU6XG4gICAgICB8ICdsYW5ndWFnZU1vZGVsJ1xuICAgICAgfCAndGV4dEVtYmVkZGluZ01vZGVsJ1xuICAgICAgfCAnaW1hZ2VNb2RlbCdcbiAgICAgIHwgJ3RyYW5zY3JpcHRpb25Nb2RlbCdcbiAgICAgIHwgJ3NwZWVjaE1vZGVsJztcbiAgICBwcm92aWRlcklkOiBzdHJpbmc7XG4gICAgYXZhaWxhYmxlUHJvdmlkZXJzOiBzdHJpbmdbXTtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICB9KSB7XG4gICAgc3VwZXIoeyBlcnJvck5hbWU6IG5hbWUsIG1vZGVsSWQsIG1vZGVsVHlwZSwgbWVzc2FnZSB9KTtcblxuICAgIHRoaXMucHJvdmlkZXJJZCA9IHByb3ZpZGVySWQ7XG4gICAgdGhpcy5hdmFpbGFibGVQcm92aWRlcnMgPSBhdmFpbGFibGVQcm92aWRlcnM7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIE5vU3VjaFByb3ZpZGVyRXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7XG4gIEVtYmVkZGluZ01vZGVsVjIsXG4gIEltYWdlTW9kZWxWMixcbiAgTGFuZ3VhZ2VNb2RlbFYyLFxuICBOb1N1Y2hNb2RlbEVycm9yLFxuICBQcm92aWRlclYyLFxuICBTcGVlY2hNb2RlbFYyLFxuICBUcmFuc2NyaXB0aW9uTW9kZWxWMixcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyB3cmFwTGFuZ3VhZ2VNb2RlbCB9IGZyb20gJy4uL21pZGRsZXdhcmUvd3JhcC1sYW5ndWFnZS1tb2RlbCc7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IE5vU3VjaFByb3ZpZGVyRXJyb3IgfSBmcm9tICcuL25vLXN1Y2gtcHJvdmlkZXItZXJyb3InO1xuXG50eXBlIEV4dHJhY3RMaXRlcmFsVW5pb248VD4gPSBUIGV4dGVuZHMgc3RyaW5nXG4gID8gc3RyaW5nIGV4dGVuZHMgVFxuICAgID8gbmV2ZXJcbiAgICA6IFRcbiAgOiBuZXZlcjtcblxuZXhwb3J0IGludGVyZmFjZSBQcm92aWRlclJlZ2lzdHJ5UHJvdmlkZXI8XG4gIFBST1ZJREVSUyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIFByb3ZpZGVyVjI+ID0gUmVjb3JkPHN0cmluZywgUHJvdmlkZXJWMj4sXG4gIFNFUEFSQVRPUiBleHRlbmRzIHN0cmluZyA9ICc6Jyxcbj4ge1xuICBsYW5ndWFnZU1vZGVsPEtFWSBleHRlbmRzIGtleW9mIFBST1ZJREVSUz4oXG4gICAgaWQ6IEtFWSBleHRlbmRzIHN0cmluZ1xuICAgICAgPyBgJHtLRVkgJiBzdHJpbmd9JHtTRVBBUkFUT1J9JHtFeHRyYWN0TGl0ZXJhbFVuaW9uPFBhcmFtZXRlcnM8Tm9uTnVsbGFibGU8UFJPVklERVJTW0tFWV1bJ2xhbmd1YWdlTW9kZWwnXT4+WzBdPn1gXG4gICAgICA6IG5ldmVyLFxuICApOiBMYW5ndWFnZU1vZGVsVjI7XG4gIGxhbmd1YWdlTW9kZWw8S0VZIGV4dGVuZHMga2V5b2YgUFJPVklERVJTPihcbiAgICBpZDogS0VZIGV4dGVuZHMgc3RyaW5nID8gYCR7S0VZICYgc3RyaW5nfSR7U0VQQVJBVE9SfSR7c3RyaW5nfWAgOiBuZXZlcixcbiAgKTogTGFuZ3VhZ2VNb2RlbFYyO1xuXG4gIHRleHRFbWJlZGRpbmdNb2RlbDxLRVkgZXh0ZW5kcyBrZXlvZiBQUk9WSURFUlM+KFxuICAgIGlkOiBLRVkgZXh0ZW5kcyBzdHJpbmdcbiAgICAgID8gYCR7S0VZICYgc3RyaW5nfSR7U0VQQVJBVE9SfSR7RXh0cmFjdExpdGVyYWxVbmlvbjxQYXJhbWV0ZXJzPE5vbk51bGxhYmxlPFBST1ZJREVSU1tLRVldWyd0ZXh0RW1iZWRkaW5nTW9kZWwnXT4+WzBdPn1gXG4gICAgICA6IG5ldmVyLFxuICApOiBFbWJlZGRpbmdNb2RlbFYyPHN0cmluZz47XG4gIHRleHRFbWJlZGRpbmdNb2RlbDxLRVkgZXh0ZW5kcyBrZXlvZiBQUk9WSURFUlM+KFxuICAgIGlkOiBLRVkgZXh0ZW5kcyBzdHJpbmcgPyBgJHtLRVkgJiBzdHJpbmd9JHtTRVBBUkFUT1J9JHtzdHJpbmd9YCA6IG5ldmVyLFxuICApOiBFbWJlZGRpbmdNb2RlbFYyPHN0cmluZz47XG5cbiAgaW1hZ2VNb2RlbDxLRVkgZXh0ZW5kcyBrZXlvZiBQUk9WSURFUlM+KFxuICAgIGlkOiBLRVkgZXh0ZW5kcyBzdHJpbmdcbiAgICAgID8gYCR7S0VZICYgc3RyaW5nfSR7U0VQQVJBVE9SfSR7RXh0cmFjdExpdGVyYWxVbmlvbjxQYXJhbWV0ZXJzPE5vbk51bGxhYmxlPFBST1ZJREVSU1tLRVldWydpbWFnZU1vZGVsJ10+PlswXT59YFxuICAgICAgOiBuZXZlcixcbiAgKTogSW1hZ2VNb2RlbFYyO1xuICBpbWFnZU1vZGVsPEtFWSBleHRlbmRzIGtleW9mIFBST1ZJREVSUz4oXG4gICAgaWQ6IEtFWSBleHRlbmRzIHN0cmluZyA/IGAke0tFWSAmIHN0cmluZ30ke1NFUEFSQVRPUn0ke3N0cmluZ31gIDogbmV2ZXIsXG4gICk6IEltYWdlTW9kZWxWMjtcblxuICB0cmFuc2NyaXB0aW9uTW9kZWw8S0VZIGV4dGVuZHMga2V5b2YgUFJPVklERVJTPihcbiAgICBpZDogS0VZIGV4dGVuZHMgc3RyaW5nXG4gICAgICA/IGAke0tFWSAmIHN0cmluZ30ke1NFUEFSQVRPUn0ke0V4dHJhY3RMaXRlcmFsVW5pb248UGFyYW1ldGVyczxOb25OdWxsYWJsZTxQUk9WSURFUlNbS0VZXVsndHJhbnNjcmlwdGlvbk1vZGVsJ10+PlswXT59YFxuICAgICAgOiBuZXZlcixcbiAgKTogVHJhbnNjcmlwdGlvbk1vZGVsVjI7XG4gIHRyYW5zY3JpcHRpb25Nb2RlbDxLRVkgZXh0ZW5kcyBrZXlvZiBQUk9WSURFUlM+KFxuICAgIGlkOiBLRVkgZXh0ZW5kcyBzdHJpbmcgPyBgJHtLRVkgJiBzdHJpbmd9JHtTRVBBUkFUT1J9JHtzdHJpbmd9YCA6IG5ldmVyLFxuICApOiBUcmFuc2NyaXB0aW9uTW9kZWxWMjtcblxuICBzcGVlY2hNb2RlbDxLRVkgZXh0ZW5kcyBrZXlvZiBQUk9WSURFUlM+KFxuICAgIGlkOiBLRVkgZXh0ZW5kcyBzdHJpbmdcbiAgICAgID8gYCR7S0VZICYgc3RyaW5nfSR7U0VQQVJBVE9SfSR7RXh0cmFjdExpdGVyYWxVbmlvbjxQYXJhbWV0ZXJzPE5vbk51bGxhYmxlPFBST1ZJREVSU1tLRVldWydzcGVlY2hNb2RlbCddPj5bMF0+fWBcbiAgICAgIDogbmV2ZXIsXG4gICk6IFNwZWVjaE1vZGVsVjI7XG4gIHNwZWVjaE1vZGVsPEtFWSBleHRlbmRzIGtleW9mIFBST1ZJREVSUz4oXG4gICAgaWQ6IEtFWSBleHRlbmRzIHN0cmluZyA/IGAke0tFWSAmIHN0cmluZ30ke1NFUEFSQVRPUn0ke3N0cmluZ31gIDogbmV2ZXIsXG4gICk6IFNwZWVjaE1vZGVsVjI7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHJlZ2lzdHJ5IGZvciB0aGUgZ2l2ZW4gcHJvdmlkZXJzIHdpdGggb3B0aW9uYWwgbWlkZGxld2FyZSBmdW5jdGlvbmFsaXR5LlxuICogVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHJlZ2lzdGVyIG11bHRpcGxlIHByb3ZpZGVycyBhbmQgb3B0aW9uYWxseSBhcHBseSBtaWRkbGV3YXJlXG4gKiB0byBhbGwgbGFuZ3VhZ2UgbW9kZWxzIGZyb20gdGhlIHJlZ2lzdHJ5LCBlbmFibGluZyB5b3UgdG8gdHJhbnNmb3JtIHBhcmFtZXRlcnMsIHdyYXAgZ2VuZXJhdGVcbiAqIG9wZXJhdGlvbnMsIGFuZCB3cmFwIHN0cmVhbSBvcGVyYXRpb25zIGZvciBldmVyeSBsYW5ndWFnZSBtb2RlbCBhY2Nlc3NlZCB0aHJvdWdoIHRoZSByZWdpc3RyeS5cbiAqXG4gKiBAcGFyYW0gcHJvdmlkZXJzIC0gQSByZWNvcmQgb2YgcHJvdmlkZXIgaW5zdGFuY2VzIHRvIGJlIHJlZ2lzdGVyZWQgaW4gdGhlIHJlZ2lzdHJ5LlxuICogQHBhcmFtIG9wdGlvbnMgLSBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBwcm92aWRlciByZWdpc3RyeS5cbiAqIEBwYXJhbSBvcHRpb25zLnNlcGFyYXRvciAtIFRoZSBzZXBhcmF0b3IgdXNlZCBiZXR3ZWVuIHByb3ZpZGVyIElEIGFuZCBtb2RlbCBJRCBpbiB0aGUgY29tYmluZWQgaWRlbnRpZmllci4gRGVmYXVsdHMgdG8gJzonLlxuICogQHBhcmFtIG9wdGlvbnMubGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUgLSBPcHRpb25hbCBtaWRkbGV3YXJlIHRvIGJlIGFwcGxpZWQgdG8gYWxsIGxhbmd1YWdlIG1vZGVscyBmcm9tIHRoZSByZWdpc3RyeS4gV2hlbiBtdWx0aXBsZSBtaWRkbGV3YXJlcyBhcmUgcHJvdmlkZWQsIHRoZSBmaXJzdCBtaWRkbGV3YXJlIHdpbGwgdHJhbnNmb3JtIHRoZSBpbnB1dCBmaXJzdCwgYW5kIHRoZSBsYXN0IG1pZGRsZXdhcmUgd2lsbCBiZSB3cmFwcGVkIGRpcmVjdGx5IGFyb3VuZCB0aGUgbW9kZWwuXG4gKiBAcmV0dXJucyBBIG5ldyBQcm92aWRlclJlZ2lzdHJ5UHJvdmlkZXIgaW5zdGFuY2UgdGhhdCBwcm92aWRlcyBhY2Nlc3MgdG8gYWxsIHJlZ2lzdGVyZWQgcHJvdmlkZXJzIHdpdGggb3B0aW9uYWwgbWlkZGxld2FyZSBhcHBsaWVkIHRvIGxhbmd1YWdlIG1vZGVscy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByb3ZpZGVyUmVnaXN0cnk8XG4gIFBST1ZJREVSUyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIFByb3ZpZGVyVjI+LFxuICBTRVBBUkFUT1IgZXh0ZW5kcyBzdHJpbmcgPSAnOicsXG4+KFxuICBwcm92aWRlcnM6IFBST1ZJREVSUyxcbiAge1xuICAgIHNlcGFyYXRvciA9ICc6JyBhcyBTRVBBUkFUT1IsXG4gICAgbGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUsXG4gIH06IHtcbiAgICBzZXBhcmF0b3I/OiBTRVBBUkFUT1I7XG4gICAgbGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmU/OlxuICAgICAgfCBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZVxuICAgICAgfCBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZVtdO1xuICB9ID0ge30sXG4pOiBQcm92aWRlclJlZ2lzdHJ5UHJvdmlkZXI8UFJPVklERVJTLCBTRVBBUkFUT1I+IHtcbiAgY29uc3QgcmVnaXN0cnkgPSBuZXcgRGVmYXVsdFByb3ZpZGVyUmVnaXN0cnk8UFJPVklERVJTLCBTRVBBUkFUT1I+KHtcbiAgICBzZXBhcmF0b3IsXG4gICAgbGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUsXG4gIH0pO1xuXG4gIGZvciAoY29uc3QgW2lkLCBwcm92aWRlcl0gb2YgT2JqZWN0LmVudHJpZXMocHJvdmlkZXJzKSkge1xuICAgIHJlZ2lzdHJ5LnJlZ2lzdGVyUHJvdmlkZXIoeyBpZCwgcHJvdmlkZXIgfSBhcyB7XG4gICAgICBpZDoga2V5b2YgUFJPVklERVJTO1xuICAgICAgcHJvdmlkZXI6IFBST1ZJREVSU1trZXlvZiBQUk9WSURFUlNdO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHJlZ2lzdHJ5O1xufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBgY3JlYXRlUHJvdmlkZXJSZWdpc3RyeWAgaW5zdGVhZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGV4cGVyaW1lbnRhbF9jcmVhdGVQcm92aWRlclJlZ2lzdHJ5ID0gY3JlYXRlUHJvdmlkZXJSZWdpc3RyeTtcblxuY2xhc3MgRGVmYXVsdFByb3ZpZGVyUmVnaXN0cnk8XG4gIFBST1ZJREVSUyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIFByb3ZpZGVyVjI+LFxuICBTRVBBUkFUT1IgZXh0ZW5kcyBzdHJpbmcsXG4+IGltcGxlbWVudHMgUHJvdmlkZXJSZWdpc3RyeVByb3ZpZGVyPFBST1ZJREVSUywgU0VQQVJBVE9SPlxue1xuICBwcml2YXRlIHByb3ZpZGVyczogUFJPVklERVJTID0ge30gYXMgUFJPVklERVJTO1xuICBwcml2YXRlIHNlcGFyYXRvcjogU0VQQVJBVE9SO1xuICBwcml2YXRlIGxhbmd1YWdlTW9kZWxNaWRkbGV3YXJlPzpcbiAgICB8IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlXG4gICAgfCBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZVtdO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBzZXBhcmF0b3IsXG4gICAgbGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUsXG4gIH06IHtcbiAgICBzZXBhcmF0b3I6IFNFUEFSQVRPUjtcbiAgICBsYW5ndWFnZU1vZGVsTWlkZGxld2FyZT86XG4gICAgICB8IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlXG4gICAgICB8IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlW107XG4gIH0pIHtcbiAgICB0aGlzLnNlcGFyYXRvciA9IHNlcGFyYXRvcjtcbiAgICB0aGlzLmxhbmd1YWdlTW9kZWxNaWRkbGV3YXJlID0gbGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmU7XG4gIH1cblxuICByZWdpc3RlclByb3ZpZGVyPEsgZXh0ZW5kcyBrZXlvZiBQUk9WSURFUlM+KHtcbiAgICBpZCxcbiAgICBwcm92aWRlcixcbiAgfToge1xuICAgIGlkOiBLO1xuICAgIHByb3ZpZGVyOiBQUk9WSURFUlNbS107XG4gIH0pOiB2b2lkIHtcbiAgICB0aGlzLnByb3ZpZGVyc1tpZF0gPSBwcm92aWRlcjtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0UHJvdmlkZXIoXG4gICAgaWQ6IHN0cmluZyxcbiAgICBtb2RlbFR5cGU6XG4gICAgICB8ICdsYW5ndWFnZU1vZGVsJ1xuICAgICAgfCAndGV4dEVtYmVkZGluZ01vZGVsJ1xuICAgICAgfCAnaW1hZ2VNb2RlbCdcbiAgICAgIHwgJ3RyYW5zY3JpcHRpb25Nb2RlbCdcbiAgICAgIHwgJ3NwZWVjaE1vZGVsJyxcbiAgKTogUHJvdmlkZXJWMiB7XG4gICAgY29uc3QgcHJvdmlkZXIgPSB0aGlzLnByb3ZpZGVyc1tpZCBhcyBrZXlvZiBQUk9WSURFUlNdO1xuXG4gICAgaWYgKHByb3ZpZGVyID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBOb1N1Y2hQcm92aWRlckVycm9yKHtcbiAgICAgICAgbW9kZWxJZDogaWQsXG4gICAgICAgIG1vZGVsVHlwZSxcbiAgICAgICAgcHJvdmlkZXJJZDogaWQsXG4gICAgICAgIGF2YWlsYWJsZVByb3ZpZGVyczogT2JqZWN0LmtleXModGhpcy5wcm92aWRlcnMpLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb3ZpZGVyO1xuICB9XG5cbiAgcHJpdmF0ZSBzcGxpdElkKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgbW9kZWxUeXBlOlxuICAgICAgfCAnbGFuZ3VhZ2VNb2RlbCdcbiAgICAgIHwgJ3RleHRFbWJlZGRpbmdNb2RlbCdcbiAgICAgIHwgJ2ltYWdlTW9kZWwnXG4gICAgICB8ICd0cmFuc2NyaXB0aW9uTW9kZWwnXG4gICAgICB8ICdzcGVlY2hNb2RlbCcsXG4gICk6IFtzdHJpbmcsIHN0cmluZ10ge1xuICAgIGNvbnN0IGluZGV4ID0gaWQuaW5kZXhPZih0aGlzLnNlcGFyYXRvcik7XG5cbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgTm9TdWNoTW9kZWxFcnJvcih7XG4gICAgICAgIG1vZGVsSWQ6IGlkLFxuICAgICAgICBtb2RlbFR5cGUsXG4gICAgICAgIG1lc3NhZ2U6XG4gICAgICAgICAgYEludmFsaWQgJHttb2RlbFR5cGV9IGlkIGZvciByZWdpc3RyeTogJHtpZH0gYCArXG4gICAgICAgICAgYChtdXN0IGJlIGluIHRoZSBmb3JtYXQgXCJwcm92aWRlcklkJHt0aGlzLnNlcGFyYXRvcn1tb2RlbElkXCIpYCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBbaWQuc2xpY2UoMCwgaW5kZXgpLCBpZC5zbGljZShpbmRleCArIHRoaXMuc2VwYXJhdG9yLmxlbmd0aCldO1xuICB9XG5cbiAgbGFuZ3VhZ2VNb2RlbDxLRVkgZXh0ZW5kcyBrZXlvZiBQUk9WSURFUlM+KFxuICAgIGlkOiBgJHtLRVkgJiBzdHJpbmd9JHtTRVBBUkFUT1J9JHtzdHJpbmd9YCxcbiAgKTogTGFuZ3VhZ2VNb2RlbFYyIHtcbiAgICBjb25zdCBbcHJvdmlkZXJJZCwgbW9kZWxJZF0gPSB0aGlzLnNwbGl0SWQoaWQsICdsYW5ndWFnZU1vZGVsJyk7XG4gICAgbGV0IG1vZGVsID0gdGhpcy5nZXRQcm92aWRlcihwcm92aWRlcklkLCAnbGFuZ3VhZ2VNb2RlbCcpLmxhbmd1YWdlTW9kZWw/LihcbiAgICAgIG1vZGVsSWQsXG4gICAgKTtcblxuICAgIGlmIChtb2RlbCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgTm9TdWNoTW9kZWxFcnJvcih7IG1vZGVsSWQ6IGlkLCBtb2RlbFR5cGU6ICdsYW5ndWFnZU1vZGVsJyB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5sYW5ndWFnZU1vZGVsTWlkZGxld2FyZSAhPSBudWxsKSB7XG4gICAgICBtb2RlbCA9IHdyYXBMYW5ndWFnZU1vZGVsKHtcbiAgICAgICAgbW9kZWwsXG4gICAgICAgIG1pZGRsZXdhcmU6IHRoaXMubGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9kZWw7XG4gIH1cblxuICB0ZXh0RW1iZWRkaW5nTW9kZWw8S0VZIGV4dGVuZHMga2V5b2YgUFJPVklERVJTPihcbiAgICBpZDogYCR7S0VZICYgc3RyaW5nfSR7U0VQQVJBVE9SfSR7c3RyaW5nfWAsXG4gICk6IEVtYmVkZGluZ01vZGVsVjI8c3RyaW5nPiB7XG4gICAgY29uc3QgW3Byb3ZpZGVySWQsIG1vZGVsSWRdID0gdGhpcy5zcGxpdElkKGlkLCAndGV4dEVtYmVkZGluZ01vZGVsJyk7XG4gICAgY29uc3QgcHJvdmlkZXIgPSB0aGlzLmdldFByb3ZpZGVyKHByb3ZpZGVySWQsICd0ZXh0RW1iZWRkaW5nTW9kZWwnKTtcblxuICAgIGNvbnN0IG1vZGVsID0gcHJvdmlkZXIudGV4dEVtYmVkZGluZ01vZGVsPy4obW9kZWxJZCk7XG5cbiAgICBpZiAobW9kZWwgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IE5vU3VjaE1vZGVsRXJyb3Ioe1xuICAgICAgICBtb2RlbElkOiBpZCxcbiAgICAgICAgbW9kZWxUeXBlOiAndGV4dEVtYmVkZGluZ01vZGVsJyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBtb2RlbDtcbiAgfVxuXG4gIGltYWdlTW9kZWw8S0VZIGV4dGVuZHMga2V5b2YgUFJPVklERVJTPihcbiAgICBpZDogYCR7S0VZICYgc3RyaW5nfSR7U0VQQVJBVE9SfSR7c3RyaW5nfWAsXG4gICk6IEltYWdlTW9kZWxWMiB7XG4gICAgY29uc3QgW3Byb3ZpZGVySWQsIG1vZGVsSWRdID0gdGhpcy5zcGxpdElkKGlkLCAnaW1hZ2VNb2RlbCcpO1xuICAgIGNvbnN0IHByb3ZpZGVyID0gdGhpcy5nZXRQcm92aWRlcihwcm92aWRlcklkLCAnaW1hZ2VNb2RlbCcpO1xuXG4gICAgY29uc3QgbW9kZWwgPSBwcm92aWRlci5pbWFnZU1vZGVsPy4obW9kZWxJZCk7XG5cbiAgICBpZiAobW9kZWwgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IE5vU3VjaE1vZGVsRXJyb3IoeyBtb2RlbElkOiBpZCwgbW9kZWxUeXBlOiAnaW1hZ2VNb2RlbCcgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZGVsO1xuICB9XG5cbiAgdHJhbnNjcmlwdGlvbk1vZGVsPEtFWSBleHRlbmRzIGtleW9mIFBST1ZJREVSUz4oXG4gICAgaWQ6IGAke0tFWSAmIHN0cmluZ30ke1NFUEFSQVRPUn0ke3N0cmluZ31gLFxuICApOiBUcmFuc2NyaXB0aW9uTW9kZWxWMiB7XG4gICAgY29uc3QgW3Byb3ZpZGVySWQsIG1vZGVsSWRdID0gdGhpcy5zcGxpdElkKGlkLCAndHJhbnNjcmlwdGlvbk1vZGVsJyk7XG4gICAgY29uc3QgcHJvdmlkZXIgPSB0aGlzLmdldFByb3ZpZGVyKHByb3ZpZGVySWQsICd0cmFuc2NyaXB0aW9uTW9kZWwnKTtcblxuICAgIGNvbnN0IG1vZGVsID0gcHJvdmlkZXIudHJhbnNjcmlwdGlvbk1vZGVsPy4obW9kZWxJZCk7XG5cbiAgICBpZiAobW9kZWwgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IE5vU3VjaE1vZGVsRXJyb3Ioe1xuICAgICAgICBtb2RlbElkOiBpZCxcbiAgICAgICAgbW9kZWxUeXBlOiAndHJhbnNjcmlwdGlvbk1vZGVsJyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBtb2RlbDtcbiAgfVxuXG4gIHNwZWVjaE1vZGVsPEtFWSBleHRlbmRzIGtleW9mIFBST1ZJREVSUz4oXG4gICAgaWQ6IGAke0tFWSAmIHN0cmluZ30ke1NFUEFSQVRPUn0ke3N0cmluZ31gLFxuICApOiBTcGVlY2hNb2RlbFYyIHtcbiAgICBjb25zdCBbcHJvdmlkZXJJZCwgbW9kZWxJZF0gPSB0aGlzLnNwbGl0SWQoaWQsICdzcGVlY2hNb2RlbCcpO1xuICAgIGNvbnN0IHByb3ZpZGVyID0gdGhpcy5nZXRQcm92aWRlcihwcm92aWRlcklkLCAnc3BlZWNoTW9kZWwnKTtcblxuICAgIGNvbnN0IG1vZGVsID0gcHJvdmlkZXIuc3BlZWNoTW9kZWw/Lihtb2RlbElkKTtcblxuICAgIGlmIChtb2RlbCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgTm9TdWNoTW9kZWxFcnJvcih7IG1vZGVsSWQ6IGlkLCBtb2RlbFR5cGU6ICdzcGVlY2hNb2RlbCcgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZGVsO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgSlNPTlNjaGVtYTcgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIGR5bmFtaWNUb29sLFxuICBqc29uU2NoZW1hLFxuICBUb29sLFxuICB0b29sLFxuICBUb29sQ2FsbE9wdGlvbnMsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgeiwgWm9kVHlwZSB9IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgeyBNQ1BDbGllbnRFcnJvciB9IGZyb20gJy4uLy4uL2Vycm9yL21jcC1jbGllbnQtZXJyb3InO1xuaW1wb3J0IHtcbiAgSlNPTlJQQ0Vycm9yLFxuICBKU09OUlBDTm90aWZpY2F0aW9uLFxuICBKU09OUlBDUmVxdWVzdCxcbiAgSlNPTlJQQ1Jlc3BvbnNlLFxufSBmcm9tICcuL2pzb24tcnBjLW1lc3NhZ2UnO1xuaW1wb3J0IHtcbiAgY3JlYXRlTWNwVHJhbnNwb3J0LFxuICBpc0N1c3RvbU1jcFRyYW5zcG9ydCxcbiAgTUNQVHJhbnNwb3J0LFxuICBNQ1BUcmFuc3BvcnRDb25maWcsXG59IGZyb20gJy4vbWNwLXRyYW5zcG9ydCc7XG5pbXBvcnQge1xuICBDYWxsVG9vbFJlc3VsdCxcbiAgQ2FsbFRvb2xSZXN1bHRTY2hlbWEsXG4gIENvbmZpZ3VyYXRpb24gYXMgQ2xpZW50Q29uZmlndXJhdGlvbixcbiAgSW5pdGlhbGl6ZVJlc3VsdFNjaGVtYSxcbiAgTEFURVNUX1BST1RPQ09MX1ZFUlNJT04sXG4gIExpc3RUb29sc1Jlc3VsdCxcbiAgTGlzdFRvb2xzUmVzdWx0U2NoZW1hLFxuICBNY3BUb29sU2V0LFxuICBOb3RpZmljYXRpb24sXG4gIFBhZ2luYXRlZFJlcXVlc3QsXG4gIFJlcXVlc3QsXG4gIFJlcXVlc3RPcHRpb25zLFxuICBTZXJ2ZXJDYXBhYmlsaXRpZXMsXG4gIFNVUFBPUlRFRF9QUk9UT0NPTF9WRVJTSU9OUyxcbiAgVG9vbFNjaGVtYXMsXG59IGZyb20gJy4vdHlwZXMnO1xuXG5jb25zdCBDTElFTlRfVkVSU0lPTiA9ICcxLjAuMCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTUNQQ2xpZW50Q29uZmlnIHtcbiAgLyoqIFRyYW5zcG9ydCBjb25maWd1cmF0aW9uIGZvciBjb25uZWN0aW5nIHRvIHRoZSBNQ1Agc2VydmVyICovXG4gIHRyYW5zcG9ydDogTUNQVHJhbnNwb3J0Q29uZmlnIHwgTUNQVHJhbnNwb3J0O1xuICAvKiogT3B0aW9uYWwgY2FsbGJhY2sgZm9yIHVuY2F1Z2h0IGVycm9ycyAqL1xuICBvblVuY2F1Z2h0RXJyb3I/OiAoZXJyb3I6IHVua25vd24pID0+IHZvaWQ7XG4gIC8qKiBPcHRpb25hbCBjbGllbnQgbmFtZSwgZGVmYXVsdHMgdG8gJ2FpLXNkay1tY3AtY2xpZW50JyAqL1xuICBuYW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlTUNQQ2xpZW50KFxuICBjb25maWc6IE1DUENsaWVudENvbmZpZyxcbik6IFByb21pc2U8TUNQQ2xpZW50PiB7XG4gIGNvbnN0IGNsaWVudCA9IG5ldyBEZWZhdWx0TUNQQ2xpZW50KGNvbmZpZyk7XG4gIGF3YWl0IGNsaWVudC5pbml0KCk7XG4gIHJldHVybiBjbGllbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTUNQQ2xpZW50IHtcbiAgdG9vbHM8VE9PTF9TQ0hFTUFTIGV4dGVuZHMgVG9vbFNjaGVtYXMgPSAnYXV0b21hdGljJz4ob3B0aW9ucz86IHtcbiAgICBzY2hlbWFzPzogVE9PTF9TQ0hFTUFTO1xuICB9KTogUHJvbWlzZTxNY3BUb29sU2V0PFRPT0xfU0NIRU1BUz4+O1xuXG4gIGNsb3NlOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xufVxuXG4vKipcbiAqIEEgbGlnaHR3ZWlnaHQgTUNQIENsaWVudCBpbXBsZW1lbnRhdGlvblxuICpcbiAqIFRoZSBwcmltYXJ5IHB1cnBvc2Ugb2YgdGhpcyBjbGllbnQgaXMgdG9vbCBjb252ZXJzaW9uIGJldHdlZW4gTUNQPD5BSSBTREtcbiAqIGJ1dCBjYW4gbGF0ZXIgYmUgZXh0ZW5kZWQgdG8gc3VwcG9ydCBvdGhlciBNQ1AgZmVhdHVyZXNcbiAqXG4gKiBUb29sIHBhcmFtZXRlcnMgYXJlIGF1dG9tYXRpY2FsbHkgaW5mZXJyZWQgZnJvbSB0aGUgc2VydmVyJ3MgSlNPTiBzY2hlbWFcbiAqIGlmIG5vdCBleHBsaWNpdGx5IHByb3ZpZGVkIGluIHRoZSB0b29scyBjb25maWd1cmF0aW9uXG4gKlxuICogVGhpcyBjbGllbnQgaXMgbWVhbnQgdG8gYmUgdXNlZCB0byBjb21tdW5pY2F0ZSB3aXRoIGEgc2luZ2xlIHNlcnZlci4gVG8gY29tbXVuaWNhdGUgYW5kIGZldGNoIHRvb2xzIGFjcm9zcyBtdWx0aXBsZSBzZXJ2ZXJzLCBpdCdzIHJlY29tbWVuZGVkIHRvIGNyZWF0ZSBhIG5ldyBjbGllbnQgaW5zdGFuY2UgcGVyIHNlcnZlci5cbiAqXG4gKiBOb3Qgc3VwcG9ydGVkOlxuICogLSBDbGllbnQgb3B0aW9ucyAoZS5nLiBzYW1wbGluZywgcm9vdHMpIGFzIHRoZXkgYXJlIG5vdCBuZWVkZWQgZm9yIHRvb2wgY29udmVyc2lvblxuICogLSBBY2NlcHRpbmcgbm90aWZpY2F0aW9uc1xuICogLSBTZXNzaW9uIG1hbmFnZW1lbnQgKHdoZW4gcGFzc2luZyBhIHNlc3Npb25JZCB0byBhbiBpbnN0YW5jZSBvZiB0aGUgU3RyZWFtYWJsZSBIVFRQIHRyYW5zcG9ydClcbiAqIC0gUmVzdW1hYmxlIFNTRSBzdHJlYW1zXG4gKi9cbmNsYXNzIERlZmF1bHRNQ1BDbGllbnQgaW1wbGVtZW50cyBNQ1BDbGllbnQge1xuICBwcml2YXRlIHRyYW5zcG9ydDogTUNQVHJhbnNwb3J0O1xuICBwcml2YXRlIG9uVW5jYXVnaHRFcnJvcj86IChlcnJvcjogdW5rbm93bikgPT4gdm9pZDtcbiAgcHJpdmF0ZSBjbGllbnRJbmZvOiBDbGllbnRDb25maWd1cmF0aW9uO1xuICBwcml2YXRlIHJlcXVlc3RNZXNzYWdlSWQgPSAwO1xuICBwcml2YXRlIHJlc3BvbnNlSGFuZGxlcnM6IE1hcDxcbiAgICBudW1iZXIsXG4gICAgKHJlc3BvbnNlOiBKU09OUlBDUmVzcG9uc2UgfCBFcnJvcikgPT4gdm9pZFxuICA+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIHNlcnZlckNhcGFiaWxpdGllczogU2VydmVyQ2FwYWJpbGl0aWVzID0ge307XG4gIHByaXZhdGUgaXNDbG9zZWQgPSB0cnVlO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICB0cmFuc3BvcnQ6IHRyYW5zcG9ydENvbmZpZyxcbiAgICBuYW1lID0gJ2FpLXNkay1tY3AtY2xpZW50JyxcbiAgICBvblVuY2F1Z2h0RXJyb3IsXG4gIH06IE1DUENsaWVudENvbmZpZykge1xuICAgIHRoaXMub25VbmNhdWdodEVycm9yID0gb25VbmNhdWdodEVycm9yO1xuXG4gICAgaWYgKGlzQ3VzdG9tTWNwVHJhbnNwb3J0KHRyYW5zcG9ydENvbmZpZykpIHtcbiAgICAgIHRoaXMudHJhbnNwb3J0ID0gdHJhbnNwb3J0Q29uZmlnO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRyYW5zcG9ydCA9IGNyZWF0ZU1jcFRyYW5zcG9ydCh0cmFuc3BvcnRDb25maWcpO1xuICAgIH1cblxuICAgIHRoaXMudHJhbnNwb3J0Lm9uY2xvc2UgPSAoKSA9PiB0aGlzLm9uQ2xvc2UoKTtcbiAgICB0aGlzLnRyYW5zcG9ydC5vbmVycm9yID0gKGVycm9yOiBFcnJvcikgPT4gdGhpcy5vbkVycm9yKGVycm9yKTtcbiAgICB0aGlzLnRyYW5zcG9ydC5vbm1lc3NhZ2UgPSBtZXNzYWdlID0+IHtcbiAgICAgIGlmICgnbWV0aG9kJyBpbiBtZXNzYWdlKSB7XG4gICAgICAgIC8vIFRoaXMgbGlnaHR3ZWlnaHQgY2xpZW50IGltcGxlbWVudGF0aW9uIGRvZXMgbm90IHN1cHBvcnRcbiAgICAgICAgLy8gcmVjZWl2aW5nIG5vdGlmaWNhdGlvbnMgb3IgcmVxdWVzdHMgZnJvbSBzZXJ2ZXIuXG4gICAgICAgIC8vIElmIHdlIGdldCBhbiB1bnN1cHBvcnRlZCBtZXNzYWdlLCB3ZSBjYW4gc2FmZWx5IGlnbm9yZSBpdCBhbmQgcGFzcyB0byB0aGUgb25FcnJvciBoYW5kbGVyOlxuICAgICAgICB0aGlzLm9uRXJyb3IoXG4gICAgICAgICAgbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdVbnN1cHBvcnRlZCBtZXNzYWdlIHR5cGUnLFxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMub25SZXNwb25zZShtZXNzYWdlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbGllbnRJbmZvID0ge1xuICAgICAgbmFtZSxcbiAgICAgIHZlcnNpb246IENMSUVOVF9WRVJTSU9OLFxuICAgIH07XG4gIH1cblxuICBhc3luYyBpbml0KCk6IFByb21pc2U8dGhpcz4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLnRyYW5zcG9ydC5zdGFydCgpO1xuICAgICAgdGhpcy5pc0Nsb3NlZCA9IGZhbHNlO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnJlcXVlc3Qoe1xuICAgICAgICByZXF1ZXN0OiB7XG4gICAgICAgICAgbWV0aG9kOiAnaW5pdGlhbGl6ZScsXG4gICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICBwcm90b2NvbFZlcnNpb246IExBVEVTVF9QUk9UT0NPTF9WRVJTSU9OLFxuICAgICAgICAgICAgY2FwYWJpbGl0aWVzOiB7fSxcbiAgICAgICAgICAgIGNsaWVudEluZm86IHRoaXMuY2xpZW50SW5mbyxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICByZXN1bHRTY2hlbWE6IEluaXRpYWxpemVSZXN1bHRTY2hlbWEsXG4gICAgICB9KTtcblxuICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBNQ1BDbGllbnRFcnJvcih7XG4gICAgICAgICAgbWVzc2FnZTogJ1NlcnZlciBzZW50IGludmFsaWQgaW5pdGlhbGl6ZSByZXN1bHQnLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFTVVBQT1JURURfUFJPVE9DT0xfVkVSU0lPTlMuaW5jbHVkZXMocmVzdWx0LnByb3RvY29sVmVyc2lvbikpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiBgU2VydmVyJ3MgcHJvdG9jb2wgdmVyc2lvbiBpcyBub3Qgc3VwcG9ydGVkOiAke3Jlc3VsdC5wcm90b2NvbFZlcnNpb259YCxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2VydmVyQ2FwYWJpbGl0aWVzID0gcmVzdWx0LmNhcGFiaWxpdGllcztcblxuICAgICAgLy8gQ29tcGxldGUgaW5pdGlhbGl6YXRpb24gaGFuZHNoYWtlOlxuICAgICAgYXdhaXQgdGhpcy5ub3RpZmljYXRpb24oe1xuICAgICAgICBtZXRob2Q6ICdub3RpZmljYXRpb25zL2luaXRpYWxpemVkJyxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgYXdhaXQgdGhpcy5jbG9zZSgpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgY2xvc2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuaXNDbG9zZWQpIHJldHVybjtcbiAgICBhd2FpdCB0aGlzLnRyYW5zcG9ydD8uY2xvc2UoKTtcbiAgICB0aGlzLm9uQ2xvc2UoKTtcbiAgfVxuXG4gIHByaXZhdGUgYXNzZXJ0Q2FwYWJpbGl0eShtZXRob2Q6IHN0cmluZyk6IHZvaWQge1xuICAgIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgICBjYXNlICdpbml0aWFsaXplJzpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0b29scy9saXN0JzpcbiAgICAgIGNhc2UgJ3Rvb2xzL2NhbGwnOlxuICAgICAgICBpZiAoIXRoaXMuc2VydmVyQ2FwYWJpbGl0aWVzLnRvb2xzKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGBTZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCB0b29sc2AsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgTUNQQ2xpZW50RXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6IGBVbnN1cHBvcnRlZCBtZXRob2Q6ICR7bWV0aG9kfWAsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcmVxdWVzdDxUIGV4dGVuZHMgWm9kVHlwZTxvYmplY3Q+Pih7XG4gICAgcmVxdWVzdCxcbiAgICByZXN1bHRTY2hlbWEsXG4gICAgb3B0aW9ucyxcbiAgfToge1xuICAgIHJlcXVlc3Q6IFJlcXVlc3Q7XG4gICAgcmVzdWx0U2NoZW1hOiBUO1xuICAgIG9wdGlvbnM/OiBSZXF1ZXN0T3B0aW9ucztcbiAgfSk6IFByb21pc2U8ei5pbmZlcjxUPj4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAodGhpcy5pc0Nsb3NlZCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0KFxuICAgICAgICAgIG5ldyBNQ1BDbGllbnRFcnJvcih7XG4gICAgICAgICAgICBtZXNzYWdlOiAnQXR0ZW1wdGVkIHRvIHNlbmQgYSByZXF1ZXN0IGZyb20gYSBjbG9zZWQgY2xpZW50JyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5hc3NlcnRDYXBhYmlsaXR5KHJlcXVlc3QubWV0aG9kKTtcblxuICAgICAgY29uc3Qgc2lnbmFsID0gb3B0aW9ucz8uc2lnbmFsO1xuICAgICAgc2lnbmFsPy50aHJvd0lmQWJvcnRlZCgpO1xuXG4gICAgICBjb25zdCBtZXNzYWdlSWQgPSB0aGlzLnJlcXVlc3RNZXNzYWdlSWQrKztcbiAgICAgIGNvbnN0IGpzb25ycGNSZXF1ZXN0OiBKU09OUlBDUmVxdWVzdCA9IHtcbiAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAganNvbnJwYzogJzIuMCcsXG4gICAgICAgIGlkOiBtZXNzYWdlSWQsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjbGVhbnVwID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnJlc3BvbnNlSGFuZGxlcnMuZGVsZXRlKG1lc3NhZ2VJZCk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnJlc3BvbnNlSGFuZGxlcnMuc2V0KG1lc3NhZ2VJZCwgcmVzcG9uc2UgPT4ge1xuICAgICAgICBpZiAoc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChcbiAgICAgICAgICAgIG5ldyBNQ1BDbGllbnRFcnJvcih7XG4gICAgICAgICAgICAgIG1lc3NhZ2U6ICdSZXF1ZXN0IHdhcyBhYm9ydGVkJyxcbiAgICAgICAgICAgICAgY2F1c2U6IHNpZ25hbC5yZWFzb24sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KHJlc3BvbnNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVzdWx0U2NoZW1hLnBhcnNlKHJlc3BvbnNlLnJlc3VsdCk7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnN0IHBhcnNlRXJyb3IgPSBuZXcgTUNQQ2xpZW50RXJyb3Ioe1xuICAgICAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBwYXJzZSBzZXJ2ZXIgcmVzcG9uc2UnLFxuICAgICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlamVjdChwYXJzZUVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMudHJhbnNwb3J0LnNlbmQoanNvbnJwY1JlcXVlc3QpLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxpc3RUb29scyh7XG4gICAgcGFyYW1zLFxuICAgIG9wdGlvbnMsXG4gIH06IHtcbiAgICBwYXJhbXM/OiBQYWdpbmF0ZWRSZXF1ZXN0WydwYXJhbXMnXTtcbiAgICBvcHRpb25zPzogUmVxdWVzdE9wdGlvbnM7XG4gIH0gPSB7fSk6IFByb21pc2U8TGlzdFRvb2xzUmVzdWx0PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3Qoe1xuICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogJ3Rvb2xzL2xpc3QnLCBwYXJhbXMgfSxcbiAgICAgICAgcmVzdWx0U2NoZW1hOiBMaXN0VG9vbHNSZXN1bHRTY2hlbWEsXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBjYWxsVG9vbCh7XG4gICAgbmFtZSxcbiAgICBhcmdzLFxuICAgIG9wdGlvbnMsXG4gIH06IHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgYXJnczogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gICAgb3B0aW9ucz86IFRvb2xDYWxsT3B0aW9ucztcbiAgfSk6IFByb21pc2U8Q2FsbFRvb2xSZXN1bHQ+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7XG4gICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAndG9vbHMvY2FsbCcsIHBhcmFtczogeyBuYW1lLCBhcmd1bWVudHM6IGFyZ3MgfSB9LFxuICAgICAgICByZXN1bHRTY2hlbWE6IENhbGxUb29sUmVzdWx0U2NoZW1hLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgc2lnbmFsOiBvcHRpb25zPy5hYm9ydFNpZ25hbCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIG5vdGlmaWNhdGlvbihub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbik6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGpzb25ycGNOb3RpZmljYXRpb246IEpTT05SUENOb3RpZmljYXRpb24gPSB7XG4gICAgICAuLi5ub3RpZmljYXRpb24sXG4gICAgICBqc29ucnBjOiAnMi4wJyxcbiAgICB9O1xuICAgIGF3YWl0IHRoaXMudHJhbnNwb3J0LnNlbmQoanNvbnJwY05vdGlmaWNhdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHNldCBvZiBBSSBTREsgdG9vbHMgZnJvbSB0aGUgTUNQIHNlcnZlclxuICAgKiBAcmV0dXJucyBBIHJlY29yZCBvZiB0b29sIG5hbWVzIHRvIHRoZWlyIGltcGxlbWVudGF0aW9uc1xuICAgKi9cbiAgYXN5bmMgdG9vbHM8VE9PTF9TQ0hFTUFTIGV4dGVuZHMgVG9vbFNjaGVtYXMgPSAnYXV0b21hdGljJz4oe1xuICAgIHNjaGVtYXMgPSAnYXV0b21hdGljJyxcbiAgfToge1xuICAgIHNjaGVtYXM/OiBUT09MX1NDSEVNQVM7XG4gIH0gPSB7fSk6IFByb21pc2U8TWNwVG9vbFNldDxUT09MX1NDSEVNQVM+PiB7XG4gICAgY29uc3QgdG9vbHM6IFJlY29yZDxzdHJpbmcsIFRvb2w+ID0ge307XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgbGlzdFRvb2xzUmVzdWx0ID0gYXdhaXQgdGhpcy5saXN0VG9vbHMoKTtcblxuICAgICAgZm9yIChjb25zdCB7IG5hbWUsIGRlc2NyaXB0aW9uLCBpbnB1dFNjaGVtYSB9IG9mIGxpc3RUb29sc1Jlc3VsdC50b29scykge1xuICAgICAgICBpZiAoc2NoZW1hcyAhPT0gJ2F1dG9tYXRpYycgJiYgIShuYW1lIGluIHNjaGVtYXMpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgICAgICBjb25zdCBleGVjdXRlID0gYXN5bmMgKFxuICAgICAgICAgIGFyZ3M6IGFueSxcbiAgICAgICAgICBvcHRpb25zOiBUb29sQ2FsbE9wdGlvbnMsXG4gICAgICAgICk6IFByb21pc2U8Q2FsbFRvb2xSZXN1bHQ+ID0+IHtcbiAgICAgICAgICBvcHRpb25zPy5hYm9ydFNpZ25hbD8udGhyb3dJZkFib3J0ZWQoKTtcbiAgICAgICAgICByZXR1cm4gc2VsZi5jYWxsVG9vbCh7IG5hbWUsIGFyZ3MsIG9wdGlvbnMgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgdG9vbFdpdGhFeGVjdXRlID1cbiAgICAgICAgICBzY2hlbWFzID09PSAnYXV0b21hdGljJ1xuICAgICAgICAgICAgPyBkeW5hbWljVG9vbCh7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgaW5wdXRTY2hlbWE6IGpzb25TY2hlbWEoe1xuICAgICAgICAgICAgICAgICAgLi4uaW5wdXRTY2hlbWEsXG4gICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBpbnB1dFNjaGVtYS5wcm9wZXJ0aWVzID8/IHt9LFxuICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0gYXMgSlNPTlNjaGVtYTcpLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGUsXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICA6IHRvb2woe1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIGlucHV0U2NoZW1hOiBzY2hlbWFzW25hbWVdLmlucHV0U2NoZW1hLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGUsXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHRvb2xzW25hbWVdID0gdG9vbFdpdGhFeGVjdXRlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdG9vbHMgYXMgTWNwVG9vbFNldDxUT09MX1NDSEVNQVM+O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG9uQ2xvc2UoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaXNDbG9zZWQpIHJldHVybjtcblxuICAgIHRoaXMuaXNDbG9zZWQgPSB0cnVlO1xuICAgIGNvbnN0IGVycm9yID0gbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgIG1lc3NhZ2U6ICdDb25uZWN0aW9uIGNsb3NlZCcsXG4gICAgfSk7XG5cbiAgICBmb3IgKGNvbnN0IGhhbmRsZXIgb2YgdGhpcy5yZXNwb25zZUhhbmRsZXJzLnZhbHVlcygpKSB7XG4gICAgICBoYW5kbGVyKGVycm9yKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlc3BvbnNlSGFuZGxlcnMuY2xlYXIoKTtcbiAgfVxuXG4gIHByaXZhdGUgb25FcnJvcihlcnJvcjogdW5rbm93bik6IHZvaWQge1xuICAgIGlmICh0aGlzLm9uVW5jYXVnaHRFcnJvcikge1xuICAgICAgdGhpcy5vblVuY2F1Z2h0RXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgb25SZXNwb25zZShyZXNwb25zZTogSlNPTlJQQ1Jlc3BvbnNlIHwgSlNPTlJQQ0Vycm9yKTogdm9pZCB7XG4gICAgY29uc3QgbWVzc2FnZUlkID0gTnVtYmVyKHJlc3BvbnNlLmlkKTtcbiAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5yZXNwb25zZUhhbmRsZXJzLmdldChtZXNzYWdlSWQpO1xuXG4gICAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgICAgbWVzc2FnZTogYFByb3RvY29sIGVycm9yOiBSZWNlaXZlZCBhIHJlc3BvbnNlIGZvciBhbiB1bmtub3duIG1lc3NhZ2UgSUQ6ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICl9YCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMucmVzcG9uc2VIYW5kbGVycy5kZWxldGUobWVzc2FnZUlkKTtcblxuICAgIGhhbmRsZXIoXG4gICAgICAncmVzdWx0JyBpbiByZXNwb25zZVxuICAgICAgICA/IHJlc3BvbnNlXG4gICAgICAgIDogbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLmVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICBjYXVzZTogcmVzcG9uc2UuZXJyb3IsXG4gICAgICAgICAgfSksXG4gICAgKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEV2ZW50U291cmNlUGFyc2VyU3RyZWFtIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBNQ1BDbGllbnRFcnJvciB9IGZyb20gJy4uLy4uL2Vycm9yL21jcC1jbGllbnQtZXJyb3InO1xuaW1wb3J0IHsgSlNPTlJQQ01lc3NhZ2UsIEpTT05SUENNZXNzYWdlU2NoZW1hIH0gZnJvbSAnLi9qc29uLXJwYy1tZXNzYWdlJztcbmltcG9ydCB7IE1DUFRyYW5zcG9ydCB9IGZyb20gJy4vbWNwLXRyYW5zcG9ydCc7XG5cbmV4cG9ydCBjbGFzcyBTc2VNQ1BUcmFuc3BvcnQgaW1wbGVtZW50cyBNQ1BUcmFuc3BvcnQge1xuICBwcml2YXRlIGVuZHBvaW50PzogVVJMO1xuICBwcml2YXRlIGFib3J0Q29udHJvbGxlcj86IEFib3J0Q29udHJvbGxlcjtcbiAgcHJpdmF0ZSB1cmw6IFVSTDtcbiAgcHJpdmF0ZSBjb25uZWN0ZWQgPSBmYWxzZTtcbiAgcHJpdmF0ZSBzc2VDb25uZWN0aW9uPzoge1xuICAgIGNsb3NlOiAoKSA9PiB2b2lkO1xuICB9O1xuICBwcml2YXRlIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuXG4gIG9uY2xvc2U/OiAoKSA9PiB2b2lkO1xuICBvbmVycm9yPzogKGVycm9yOiB1bmtub3duKSA9PiB2b2lkO1xuICBvbm1lc3NhZ2U/OiAobWVzc2FnZTogSlNPTlJQQ01lc3NhZ2UpID0+IHZvaWQ7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIHVybCxcbiAgICBoZWFkZXJzLFxuICB9OiB7XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIH0pIHtcbiAgICB0aGlzLnVybCA9IG5ldyBVUkwodXJsKTtcbiAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG5cbiAgYXN5bmMgc3RhcnQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcblxuICAgICAgY29uc3QgZXN0YWJsaXNoQ29ubmVjdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5oZWFkZXJzKTtcbiAgICAgICAgICBoZWFkZXJzLnNldCgnQWNjZXB0JywgJ3RleHQvZXZlbnQtc3RyZWFtJyk7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLnVybC5ocmVmLCB7XG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgc2lnbmFsOiB0aGlzLmFib3J0Q29udHJvbGxlcj8uc2lnbmFsLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCAhcmVzcG9uc2UuYm9keSkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgTUNQQ2xpZW50RXJyb3Ioe1xuICAgICAgICAgICAgICBtZXNzYWdlOiBgTUNQIFNTRSBUcmFuc3BvcnQgRXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5vbmVycm9yPy4oZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3Qgc3RyZWFtID0gcmVzcG9uc2UuYm9keVxuICAgICAgICAgICAgLnBpcGVUaHJvdWdoKG5ldyBUZXh0RGVjb2RlclN0cmVhbSgpKVxuICAgICAgICAgICAgLnBpcGVUaHJvdWdoKG5ldyBFdmVudFNvdXJjZVBhcnNlclN0cmVhbSgpKTtcblxuICAgICAgICAgIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcblxuICAgICAgICAgIGNvbnN0IHByb2Nlc3NFdmVudHMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNQ1BDbGllbnRFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICdNQ1AgU1NFIFRyYW5zcG9ydCBFcnJvcjogQ29ubmVjdGlvbiBjbG9zZWQgdW5leHBlY3RlZGx5JyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgeyBldmVudCwgZGF0YSB9ID0gdmFsdWU7XG5cbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQgPT09ICdlbmRwb2ludCcpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuZW5kcG9pbnQgPSBuZXcgVVJMKGRhdGEsIHRoaXMudXJsKTtcblxuICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5kcG9pbnQub3JpZ2luICE9PSB0aGlzLnVybC5vcmlnaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgTUNQIFNTRSBUcmFuc3BvcnQgRXJyb3I6IEVuZHBvaW50IG9yaWdpbiBkb2VzIG5vdCBtYXRjaCBjb25uZWN0aW9uIG9yaWdpbjogJHt0aGlzLmVuZHBvaW50Lm9yaWdpbn1gLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IEpTT05SUENNZXNzYWdlU2NoZW1hLnBhcnNlKFxuICAgICAgICAgICAgICAgICAgICAgIEpTT04ucGFyc2UoZGF0YSksXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25tZXNzYWdlPy4obWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgICAgICAgICAgICAgICAgJ01DUCBTU0UgVHJhbnNwb3J0IEVycm9yOiBGYWlsZWQgdG8gcGFyc2UgbWVzc2FnZScsXG4gICAgICAgICAgICAgICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbmVycm9yPy4oZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGRvIG5vdCB0aHJvdyBoZXJlIHNvIHdlIGNvbnRpbnVlIHByb2Nlc3NpbmcgZXZlbnRzIGFmdGVyIHJlcG9ydGluZyB0aGUgZXJyb3JcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHRoaXMub25lcnJvcj8uKGVycm9yKTtcbiAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdGhpcy5zc2VDb25uZWN0aW9uID0ge1xuICAgICAgICAgICAgY2xvc2U6ICgpID0+IHJlYWRlci5jYW5jZWwoKSxcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcHJvY2Vzc0V2ZW50cygpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMub25lcnJvcj8uKGVycm9yKTtcbiAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBlc3RhYmxpc2hDb25uZWN0aW9uKCk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBjbG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMuc3NlQ29ubmVjdGlvbj8uY2xvc2UoKTtcbiAgICB0aGlzLmFib3J0Q29udHJvbGxlcj8uYWJvcnQoKTtcbiAgICB0aGlzLm9uY2xvc2U/LigpO1xuICB9XG5cbiAgYXN5bmMgc2VuZChtZXNzYWdlOiBKU09OUlBDTWVzc2FnZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5lbmRwb2ludCB8fCAhdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgIHRocm93IG5ldyBNQ1BDbGllbnRFcnJvcih7XG4gICAgICAgIG1lc3NhZ2U6ICdNQ1AgU1NFIFRyYW5zcG9ydCBFcnJvcjogTm90IGNvbm5lY3RlZCcsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyk7XG4gICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgIGNvbnN0IGluaXQgPSB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShtZXNzYWdlKSxcbiAgICAgICAgc2lnbmFsOiB0aGlzLmFib3J0Q29udHJvbGxlcj8uc2lnbmFsLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLmVuZHBvaW50LCBpbml0KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpLmNhdGNoKCgpID0+IG51bGwpO1xuICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBNQ1BDbGllbnRFcnJvcih7XG4gICAgICAgICAgbWVzc2FnZTogYE1DUCBTU0UgVHJhbnNwb3J0IEVycm9yOiBQT1NUaW5nIHRvIGVuZHBvaW50IChIVFRQICR7cmVzcG9uc2Uuc3RhdHVzfSk6ICR7dGV4dH1gLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbmVycm9yPy4oZXJyb3IpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMub25lcnJvcj8uKGVycm9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlc2VyaWFsaXplTWVzc2FnZShsaW5lOiBzdHJpbmcpOiBKU09OUlBDTWVzc2FnZSB7XG4gIHJldHVybiBKU09OUlBDTWVzc2FnZVNjaGVtYS5wYXJzZShKU09OLnBhcnNlKGxpbmUpKTtcbn1cbiIsICJpbXBvcnQgeyB6IH0gZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7IEJhc2VQYXJhbXNTY2hlbWEsIFJlcXVlc3RTY2hlbWEsIFJlc3VsdFNjaGVtYSB9IGZyb20gJy4vdHlwZXMnO1xuXG5jb25zdCBKU09OUlBDX1ZFUlNJT04gPSAnMi4wJztcblxuY29uc3QgSlNPTlJQQ1JlcXVlc3RTY2hlbWEgPSB6XG4gIC5vYmplY3Qoe1xuICAgIGpzb25ycGM6IHoubGl0ZXJhbChKU09OUlBDX1ZFUlNJT04pLFxuICAgIGlkOiB6LnVuaW9uKFt6LnN0cmluZygpLCB6Lm51bWJlcigpLmludCgpXSksXG4gIH0pXG4gIC5tZXJnZShSZXF1ZXN0U2NoZW1hKVxuICAuc3RyaWN0KCk7XG5cbmV4cG9ydCB0eXBlIEpTT05SUENSZXF1ZXN0ID0gei5pbmZlcjx0eXBlb2YgSlNPTlJQQ1JlcXVlc3RTY2hlbWE+O1xuXG5jb25zdCBKU09OUlBDUmVzcG9uc2VTY2hlbWEgPSB6XG4gIC5vYmplY3Qoe1xuICAgIGpzb25ycGM6IHoubGl0ZXJhbChKU09OUlBDX1ZFUlNJT04pLFxuICAgIGlkOiB6LnVuaW9uKFt6LnN0cmluZygpLCB6Lm51bWJlcigpLmludCgpXSksXG4gICAgcmVzdWx0OiBSZXN1bHRTY2hlbWEsXG4gIH0pXG4gIC5zdHJpY3QoKTtcblxuZXhwb3J0IHR5cGUgSlNPTlJQQ1Jlc3BvbnNlID0gei5pbmZlcjx0eXBlb2YgSlNPTlJQQ1Jlc3BvbnNlU2NoZW1hPjtcblxuY29uc3QgSlNPTlJQQ0Vycm9yU2NoZW1hID0gelxuICAub2JqZWN0KHtcbiAgICBqc29ucnBjOiB6LmxpdGVyYWwoSlNPTlJQQ19WRVJTSU9OKSxcbiAgICBpZDogei51bmlvbihbei5zdHJpbmcoKSwgei5udW1iZXIoKS5pbnQoKV0pLFxuICAgIGVycm9yOiB6Lm9iamVjdCh7XG4gICAgICBjb2RlOiB6Lm51bWJlcigpLmludCgpLFxuICAgICAgbWVzc2FnZTogei5zdHJpbmcoKSxcbiAgICAgIGRhdGE6IHoub3B0aW9uYWwoei51bmtub3duKCkpLFxuICAgIH0pLFxuICB9KVxuICAuc3RyaWN0KCk7XG5cbmV4cG9ydCB0eXBlIEpTT05SUENFcnJvciA9IHouaW5mZXI8dHlwZW9mIEpTT05SUENFcnJvclNjaGVtYT47XG5cbmNvbnN0IEpTT05SUENOb3RpZmljYXRpb25TY2hlbWEgPSB6XG4gIC5vYmplY3Qoe1xuICAgIGpzb25ycGM6IHoubGl0ZXJhbChKU09OUlBDX1ZFUlNJT04pLFxuICB9KVxuICAubWVyZ2UoXG4gICAgei5vYmplY3Qoe1xuICAgICAgbWV0aG9kOiB6LnN0cmluZygpLFxuICAgICAgcGFyYW1zOiB6Lm9wdGlvbmFsKEJhc2VQYXJhbXNTY2hlbWEpLFxuICAgIH0pLFxuICApXG4gIC5zdHJpY3QoKTtcblxuZXhwb3J0IHR5cGUgSlNPTlJQQ05vdGlmaWNhdGlvbiA9IHouaW5mZXI8dHlwZW9mIEpTT05SUENOb3RpZmljYXRpb25TY2hlbWE+O1xuXG5leHBvcnQgY29uc3QgSlNPTlJQQ01lc3NhZ2VTY2hlbWEgPSB6LnVuaW9uKFtcbiAgSlNPTlJQQ1JlcXVlc3RTY2hlbWEsXG4gIEpTT05SUENOb3RpZmljYXRpb25TY2hlbWEsXG4gIEpTT05SUENSZXNwb25zZVNjaGVtYSxcbiAgSlNPTlJQQ0Vycm9yU2NoZW1hLFxuXSk7XG5cbmV4cG9ydCB0eXBlIEpTT05SUENNZXNzYWdlID0gei5pbmZlcjx0eXBlb2YgSlNPTlJQQ01lc3NhZ2VTY2hlbWE+O1xuIiwgImltcG9ydCB7IHogfSBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsgSlNPTk9iamVjdCB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgRmxleGlibGVTY2hlbWEsIFRvb2wgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcblxuZXhwb3J0IGNvbnN0IExBVEVTVF9QUk9UT0NPTF9WRVJTSU9OID0gJzIwMjUtMDYtMTgnO1xuZXhwb3J0IGNvbnN0IFNVUFBPUlRFRF9QUk9UT0NPTF9WRVJTSU9OUyA9IFtcbiAgTEFURVNUX1BST1RPQ09MX1ZFUlNJT04sXG4gICcyMDI1LTAzLTI2JyxcbiAgJzIwMjQtMTEtMDUnLFxuXTtcblxuZXhwb3J0IHR5cGUgVG9vbFNjaGVtYXMgPVxuICB8IFJlY29yZDxzdHJpbmcsIHsgaW5wdXRTY2hlbWE6IEZsZXhpYmxlU2NoZW1hPEpTT05PYmplY3QgfCB1bmtub3duPiB9PlxuICB8ICdhdXRvbWF0aWMnXG4gIHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgdHlwZSBNY3BUb29sU2V0PFRPT0xfU0NIRU1BUyBleHRlbmRzIFRvb2xTY2hlbWFzID0gJ2F1dG9tYXRpYyc+ID1cbiAgVE9PTF9TQ0hFTUFTIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgeyBpbnB1dFNjaGVtYTogRmxleGlibGVTY2hlbWE8YW55PiB9PlxuICAgID8ge1xuICAgICAgICBbSyBpbiBrZXlvZiBUT09MX1NDSEVNQVNdOiBUT09MX1NDSEVNQVNbS10gZXh0ZW5kcyB7XG4gICAgICAgICAgaW5wdXRTY2hlbWE6IEZsZXhpYmxlU2NoZW1hPGluZmVyIElOUFVUPjtcbiAgICAgICAgfVxuICAgICAgICAgID8gVG9vbDxJTlBVVCwgQ2FsbFRvb2xSZXN1bHQ+ICZcbiAgICAgICAgICAgICAgUmVxdWlyZWQ8UGljazxUb29sPElOUFVULCBDYWxsVG9vbFJlc3VsdD4sICdleGVjdXRlJz4+XG4gICAgICAgICAgOiBuZXZlcjtcbiAgICAgIH1cbiAgICA6IE1jcFRvb2xTZXQ8UmVjb3JkPHN0cmluZywgeyBpbnB1dFNjaGVtYTogRmxleGlibGVTY2hlbWE8dW5rbm93bj4gfT4+O1xuXG5jb25zdCBDbGllbnRPclNlcnZlckltcGxlbWVudGF0aW9uU2NoZW1hID0gei5sb29zZU9iamVjdCh7XG4gIG5hbWU6IHouc3RyaW5nKCksXG4gIHZlcnNpb246IHouc3RyaW5nKCksXG59KTtcblxuZXhwb3J0IHR5cGUgQ29uZmlndXJhdGlvbiA9IHouaW5mZXI8dHlwZW9mIENsaWVudE9yU2VydmVySW1wbGVtZW50YXRpb25TY2hlbWE+O1xuXG5leHBvcnQgY29uc3QgQmFzZVBhcmFtc1NjaGVtYSA9IHoubG9vc2VPYmplY3Qoe1xuICBfbWV0YTogei5vcHRpb25hbCh6Lm9iamVjdCh7fSkubG9vc2UoKSksXG59KTtcbnR5cGUgQmFzZVBhcmFtcyA9IHouaW5mZXI8dHlwZW9mIEJhc2VQYXJhbXNTY2hlbWE+O1xuZXhwb3J0IGNvbnN0IFJlc3VsdFNjaGVtYSA9IEJhc2VQYXJhbXNTY2hlbWE7XG5cbmV4cG9ydCBjb25zdCBSZXF1ZXN0U2NoZW1hID0gei5vYmplY3Qoe1xuICBtZXRob2Q6IHouc3RyaW5nKCksXG4gIHBhcmFtczogei5vcHRpb25hbChCYXNlUGFyYW1zU2NoZW1hKSxcbn0pO1xuZXhwb3J0IHR5cGUgUmVxdWVzdCA9IHouaW5mZXI8dHlwZW9mIFJlcXVlc3RTY2hlbWE+O1xuZXhwb3J0IHR5cGUgUmVxdWVzdE9wdGlvbnMgPSB7XG4gIHNpZ25hbD86IEFib3J0U2lnbmFsO1xuICB0aW1lb3V0PzogbnVtYmVyO1xuICBtYXhUb3RhbFRpbWVvdXQ/OiBudW1iZXI7XG59O1xuXG5leHBvcnQgdHlwZSBOb3RpZmljYXRpb24gPSB6LmluZmVyPHR5cGVvZiBSZXF1ZXN0U2NoZW1hPjtcblxuY29uc3QgU2VydmVyQ2FwYWJpbGl0aWVzU2NoZW1hID0gei5sb29zZU9iamVjdCh7XG4gIGV4cGVyaW1lbnRhbDogei5vcHRpb25hbCh6Lm9iamVjdCh7fSkubG9vc2UoKSksXG4gIGxvZ2dpbmc6IHoub3B0aW9uYWwoei5vYmplY3Qoe30pLmxvb3NlKCkpLFxuICBwcm9tcHRzOiB6Lm9wdGlvbmFsKFxuICAgIHoubG9vc2VPYmplY3Qoe1xuICAgICAgbGlzdENoYW5nZWQ6IHoub3B0aW9uYWwoei5ib29sZWFuKCkpLFxuICAgIH0pLFxuICApLFxuICByZXNvdXJjZXM6IHoub3B0aW9uYWwoXG4gICAgei5sb29zZU9iamVjdCh7XG4gICAgICBzdWJzY3JpYmU6IHoub3B0aW9uYWwoei5ib29sZWFuKCkpLFxuICAgICAgbGlzdENoYW5nZWQ6IHoub3B0aW9uYWwoei5ib29sZWFuKCkpLFxuICAgIH0pLFxuICApLFxuICB0b29sczogei5vcHRpb25hbChcbiAgICB6Lmxvb3NlT2JqZWN0KHtcbiAgICAgIGxpc3RDaGFuZ2VkOiB6Lm9wdGlvbmFsKHouYm9vbGVhbigpKSxcbiAgICB9KSxcbiAgKSxcbn0pO1xuXG5leHBvcnQgdHlwZSBTZXJ2ZXJDYXBhYmlsaXRpZXMgPSB6LmluZmVyPHR5cGVvZiBTZXJ2ZXJDYXBhYmlsaXRpZXNTY2hlbWE+O1xuXG5leHBvcnQgY29uc3QgSW5pdGlhbGl6ZVJlc3VsdFNjaGVtYSA9IFJlc3VsdFNjaGVtYS5leHRlbmQoe1xuICBwcm90b2NvbFZlcnNpb246IHouc3RyaW5nKCksXG4gIGNhcGFiaWxpdGllczogU2VydmVyQ2FwYWJpbGl0aWVzU2NoZW1hLFxuICBzZXJ2ZXJJbmZvOiBDbGllbnRPclNlcnZlckltcGxlbWVudGF0aW9uU2NoZW1hLFxuICBpbnN0cnVjdGlvbnM6IHoub3B0aW9uYWwoei5zdHJpbmcoKSksXG59KTtcbmV4cG9ydCB0eXBlIEluaXRpYWxpemVSZXN1bHQgPSB6LmluZmVyPHR5cGVvZiBJbml0aWFsaXplUmVzdWx0U2NoZW1hPjtcblxuZXhwb3J0IHR5cGUgUGFnaW5hdGVkUmVxdWVzdCA9IFJlcXVlc3QgJiB7XG4gIHBhcmFtcz86IEJhc2VQYXJhbXMgJiB7XG4gICAgY3Vyc29yPzogc3RyaW5nO1xuICB9O1xufTtcblxuY29uc3QgUGFnaW5hdGVkUmVzdWx0U2NoZW1hID0gUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gIG5leHRDdXJzb3I6IHoub3B0aW9uYWwoei5zdHJpbmcoKSksXG59KTtcblxuY29uc3QgVG9vbFNjaGVtYSA9IHpcbiAgLm9iamVjdCh7XG4gICAgbmFtZTogei5zdHJpbmcoKSxcbiAgICBkZXNjcmlwdGlvbjogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbiAgICBpbnB1dFNjaGVtYTogelxuICAgICAgLm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnb2JqZWN0JyksXG4gICAgICAgIHByb3BlcnRpZXM6IHoub3B0aW9uYWwoei5vYmplY3Qoe30pLmxvb3NlKCkpLFxuICAgICAgfSlcbiAgICAgIC5sb29zZSgpLFxuICB9KVxuICAubG9vc2UoKTtcbmV4cG9ydCB0eXBlIE1DUFRvb2wgPSB6LmluZmVyPHR5cGVvZiBUb29sU2NoZW1hPjtcbmV4cG9ydCBjb25zdCBMaXN0VG9vbHNSZXN1bHRTY2hlbWEgPSBQYWdpbmF0ZWRSZXN1bHRTY2hlbWEuZXh0ZW5kKHtcbiAgdG9vbHM6IHouYXJyYXkoVG9vbFNjaGVtYSksXG59KTtcbmV4cG9ydCB0eXBlIExpc3RUb29sc1Jlc3VsdCA9IHouaW5mZXI8dHlwZW9mIExpc3RUb29sc1Jlc3VsdFNjaGVtYT47XG5cbmNvbnN0IFRleHRDb250ZW50U2NoZW1hID0gelxuICAub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3RleHQnKSxcbiAgICB0ZXh0OiB6LnN0cmluZygpLFxuICB9KVxuICAubG9vc2UoKTtcbmNvbnN0IEltYWdlQ29udGVudFNjaGVtYSA9IHpcbiAgLm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdpbWFnZScpLFxuICAgIGRhdGE6IHouYmFzZTY0KCksXG4gICAgbWltZVR5cGU6IHouc3RyaW5nKCksXG4gIH0pXG4gIC5sb29zZSgpO1xuY29uc3QgUmVzb3VyY2VDb250ZW50c1NjaGVtYSA9IHpcbiAgLm9iamVjdCh7XG4gICAgLyoqXG4gICAgICogVGhlIFVSSSBvZiB0aGlzIHJlc291cmNlLlxuICAgICAqL1xuICAgIHVyaTogei5zdHJpbmcoKSxcbiAgICAvKipcbiAgICAgKiBUaGUgTUlNRSB0eXBlIG9mIHRoaXMgcmVzb3VyY2UsIGlmIGtub3duLlxuICAgICAqL1xuICAgIG1pbWVUeXBlOiB6Lm9wdGlvbmFsKHouc3RyaW5nKCkpLFxuICB9KVxuICAubG9vc2UoKTtcbmNvbnN0IFRleHRSZXNvdXJjZUNvbnRlbnRzU2NoZW1hID0gUmVzb3VyY2VDb250ZW50c1NjaGVtYS5leHRlbmQoe1xuICB0ZXh0OiB6LnN0cmluZygpLFxufSk7XG5jb25zdCBCbG9iUmVzb3VyY2VDb250ZW50c1NjaGVtYSA9IFJlc291cmNlQ29udGVudHNTY2hlbWEuZXh0ZW5kKHtcbiAgYmxvYjogei5iYXNlNjQoKSxcbn0pO1xuY29uc3QgRW1iZWRkZWRSZXNvdXJjZVNjaGVtYSA9IHpcbiAgLm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNvdXJjZScpLFxuICAgIHJlc291cmNlOiB6LnVuaW9uKFtUZXh0UmVzb3VyY2VDb250ZW50c1NjaGVtYSwgQmxvYlJlc291cmNlQ29udGVudHNTY2hlbWFdKSxcbiAgfSlcbiAgLmxvb3NlKCk7XG5cbmV4cG9ydCBjb25zdCBDYWxsVG9vbFJlc3VsdFNjaGVtYSA9IFJlc3VsdFNjaGVtYS5leHRlbmQoe1xuICBjb250ZW50OiB6LmFycmF5KFxuICAgIHoudW5pb24oW1RleHRDb250ZW50U2NoZW1hLCBJbWFnZUNvbnRlbnRTY2hlbWEsIEVtYmVkZGVkUmVzb3VyY2VTY2hlbWFdKSxcbiAgKSxcbiAgaXNFcnJvcjogei5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSkub3B0aW9uYWwoKSxcbn0pLm9yKFxuICBSZXN1bHRTY2hlbWEuZXh0ZW5kKHtcbiAgICB0b29sUmVzdWx0OiB6LnVua25vd24oKSxcbiAgfSksXG4pO1xuZXhwb3J0IHR5cGUgQ2FsbFRvb2xSZXN1bHQgPSB6LmluZmVyPHR5cGVvZiBDYWxsVG9vbFJlc3VsdFNjaGVtYT47XG4iLCAiaW1wb3J0IHsgTUNQQ2xpZW50RXJyb3IgfSBmcm9tICcuLi8uLi9lcnJvci9tY3AtY2xpZW50LWVycm9yJztcbmltcG9ydCB7IEpTT05SUENNZXNzYWdlIH0gZnJvbSAnLi9qc29uLXJwYy1tZXNzYWdlJztcbmltcG9ydCB7IFNzZU1DUFRyYW5zcG9ydCB9IGZyb20gJy4vbWNwLXNzZS10cmFuc3BvcnQnO1xuXG4vKipcbiAqIFRyYW5zcG9ydCBpbnRlcmZhY2UgZm9yIE1DUCAoTW9kZWwgQ29udGV4dCBQcm90b2NvbCkgY29tbXVuaWNhdGlvbi5cbiAqIE1hcHMgdG8gdGhlIGBUcmFuc3BvcnRgIGludGVyZmFjZSBpbiB0aGUgTUNQIHNwZWMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTUNQVHJhbnNwb3J0IHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYW5kIHN0YXJ0IHRoZSB0cmFuc3BvcnRcbiAgICovXG4gIHN0YXJ0KCk6IFByb21pc2U8dm9pZD47XG5cbiAgLyoqXG4gICAqIFNlbmQgYSBKU09OLVJQQyBtZXNzYWdlIHRocm91Z2ggdGhlIHRyYW5zcG9ydFxuICAgKiBAcGFyYW0gbWVzc2FnZSBUaGUgSlNPTi1SUEMgbWVzc2FnZSB0byBzZW5kXG4gICAqL1xuICBzZW5kKG1lc3NhZ2U6IEpTT05SUENNZXNzYWdlKTogUHJvbWlzZTx2b2lkPjtcblxuICAvKipcbiAgICogQ2xlYW4gdXAgYW5kIGNsb3NlIHRoZSB0cmFuc3BvcnRcbiAgICovXG4gIGNsb3NlKCk6IFByb21pc2U8dm9pZD47XG5cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgZm9yIHRyYW5zcG9ydCBjbG9zdXJlXG4gICAqL1xuICBvbmNsb3NlPzogKCkgPT4gdm9pZDtcblxuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBmb3IgdHJhbnNwb3J0IGVycm9yc1xuICAgKi9cbiAgb25lcnJvcj86IChlcnJvcjogRXJyb3IpID0+IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgZm9yIHJlY2VpdmVkIG1lc3NhZ2VzXG4gICAqL1xuICBvbm1lc3NhZ2U/OiAobWVzc2FnZTogSlNPTlJQQ01lc3NhZ2UpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCB0eXBlIE1DUFRyYW5zcG9ydENvbmZpZyA9IHtcbiAgdHlwZTogJ3NzZSc7XG5cbiAgLyoqXG4gICAqIFRoZSBVUkwgb2YgdGhlIE1DUCBzZXJ2ZXIuXG4gICAqL1xuICB1cmw6IHN0cmluZztcblxuICAvKipcbiAgICogQWRkaXRpb25hbCBIVFRQIGhlYWRlcnMgdG8gYmUgc2VudCB3aXRoIHJlcXVlc3RzLlxuICAgKi9cbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWNwVHJhbnNwb3J0KGNvbmZpZzogTUNQVHJhbnNwb3J0Q29uZmlnKTogTUNQVHJhbnNwb3J0IHtcbiAgaWYgKGNvbmZpZy50eXBlICE9PSAnc3NlJykge1xuICAgIHRocm93IG5ldyBNQ1BDbGllbnRFcnJvcih7XG4gICAgICBtZXNzYWdlOlxuICAgICAgICAnVW5zdXBwb3J0ZWQgb3IgaW52YWxpZCB0cmFuc3BvcnQgY29uZmlndXJhdGlvbi4gSWYgeW91IGFyZSB1c2luZyBhIGN1c3RvbSB0cmFuc3BvcnQsIG1ha2Ugc3VyZSBpdCBpbXBsZW1lbnRzIHRoZSBNQ1BUcmFuc3BvcnQgaW50ZXJmYWNlLicsXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gbmV3IFNzZU1DUFRyYW5zcG9ydChjb25maWcpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNDdXN0b21NY3BUcmFuc3BvcnQoXG4gIHRyYW5zcG9ydDogTUNQVHJhbnNwb3J0Q29uZmlnIHwgTUNQVHJhbnNwb3J0LFxuKTogdHJhbnNwb3J0IGlzIE1DUFRyYW5zcG9ydCB7XG4gIHJldHVybiAoXG4gICAgJ3N0YXJ0JyBpbiB0cmFuc3BvcnQgJiZcbiAgICB0eXBlb2YgdHJhbnNwb3J0LnN0YXJ0ID09PSAnZnVuY3Rpb24nICYmXG4gICAgJ3NlbmQnIGluIHRyYW5zcG9ydCAmJlxuICAgIHR5cGVvZiB0cmFuc3BvcnQuc2VuZCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICdjbG9zZScgaW4gdHJhbnNwb3J0ICYmXG4gICAgdHlwZW9mIHRyYW5zcG9ydC5jbG9zZSA9PT0gJ2Z1bmN0aW9uJ1xuICApO1xufVxuIiwgImltcG9ydCB7IEpTT05WYWx1ZSwgVHJhbnNjcmlwdGlvbk1vZGVsVjIgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IFByb3ZpZGVyT3B0aW9ucywgd2l0aFVzZXJBZ2VudFN1ZmZpeCB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgTm9UcmFuc2NyaXB0R2VuZXJhdGVkRXJyb3IgfSBmcm9tICcuLi9lcnJvci9uby10cmFuc2NyaXB0LWdlbmVyYXRlZC1lcnJvcic7XG5pbXBvcnQgeyBVbnN1cHBvcnRlZE1vZGVsVmVyc2lvbkVycm9yIH0gZnJvbSAnLi4vZXJyb3IvdW5zdXBwb3J0ZWQtbW9kZWwtdmVyc2lvbi1lcnJvcic7XG5pbXBvcnQgeyBsb2dXYXJuaW5ncyB9IGZyb20gJy4uL2xvZ2dlci9sb2ctd2FybmluZ3MnO1xuaW1wb3J0IHsgRGF0YUNvbnRlbnQgfSBmcm9tICcuLi9wcm9tcHQnO1xuaW1wb3J0IHsgY29udmVydERhdGFDb250ZW50VG9VaW50OEFycmF5IH0gZnJvbSAnLi4vcHJvbXB0L2RhdGEtY29udGVudCc7XG5pbXBvcnQgeyBUcmFuc2NyaXB0aW9uV2FybmluZyB9IGZyb20gJy4uL3R5cGVzL3RyYW5zY3JpcHRpb24tbW9kZWwnO1xuaW1wb3J0IHsgVHJhbnNjcmlwdGlvbk1vZGVsUmVzcG9uc2VNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzL3RyYW5zY3JpcHRpb24tbW9kZWwtcmVzcG9uc2UtbWV0YWRhdGEnO1xuaW1wb3J0IHtcbiAgYXVkaW9NZWRpYVR5cGVTaWduYXR1cmVzLFxuICBkZXRlY3RNZWRpYVR5cGUsXG59IGZyb20gJy4uL3V0aWwvZGV0ZWN0LW1lZGlhLXR5cGUnO1xuaW1wb3J0IHsgZG93bmxvYWQgfSBmcm9tICcuLi91dGlsL2Rvd25sb2FkL2Rvd25sb2FkJztcbmltcG9ydCB7IHByZXBhcmVSZXRyaWVzIH0gZnJvbSAnLi4vdXRpbC9wcmVwYXJlLXJldHJpZXMnO1xuaW1wb3J0IHsgVHJhbnNjcmlwdGlvblJlc3VsdCB9IGZyb20gJy4vdHJhbnNjcmliZS1yZXN1bHQnO1xuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gJy4uL3ZlcnNpb24nO1xuLyoqXG5HZW5lcmF0ZXMgdHJhbnNjcmlwdHMgdXNpbmcgYSB0cmFuc2NyaXB0aW9uIG1vZGVsLlxuXG5AcGFyYW0gbW9kZWwgLSBUaGUgdHJhbnNjcmlwdGlvbiBtb2RlbCB0byB1c2UuXG5AcGFyYW0gYXVkaW8gLSBUaGUgYXVkaW8gZGF0YSB0byB0cmFuc2NyaWJlIGFzIERhdGFDb250ZW50IChzdHJpbmcgfCBVaW50OEFycmF5IHwgQXJyYXlCdWZmZXIgfCBCdWZmZXIpIG9yIGEgVVJMLlxuQHBhcmFtIHByb3ZpZGVyT3B0aW9ucyAtIEFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgb3B0aW9ucyB0aGF0IGFyZSBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXJcbmFzIGJvZHkgcGFyYW1ldGVycy5cbkBwYXJhbSBtYXhSZXRyaWVzIC0gTWF4aW11bSBudW1iZXIgb2YgcmV0cmllcy4gU2V0IHRvIDAgdG8gZGlzYWJsZSByZXRyaWVzLiBEZWZhdWx0OiAyLlxuQHBhcmFtIGFib3J0U2lnbmFsIC0gQW4gb3B0aW9uYWwgYWJvcnQgc2lnbmFsIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSBjYWxsLlxuQHBhcmFtIGhlYWRlcnMgLSBBZGRpdGlvbmFsIEhUVFAgaGVhZGVycyB0byBiZSBzZW50IHdpdGggdGhlIHJlcXVlc3QuIE9ubHkgYXBwbGljYWJsZSBmb3IgSFRUUC1iYXNlZCBwcm92aWRlcnMuXG5cbkByZXR1cm5zIEEgcmVzdWx0IG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBnZW5lcmF0ZWQgdHJhbnNjcmlwdC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRyYW5zY3JpYmUoe1xuICBtb2RlbCxcbiAgYXVkaW8sXG4gIHByb3ZpZGVyT3B0aW9ucyA9IHt9LFxuICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICBhYm9ydFNpZ25hbCxcbiAgaGVhZGVycyxcbn06IHtcbiAgLyoqXG5UaGUgdHJhbnNjcmlwdGlvbiBtb2RlbCB0byB1c2UuXG4gICAgICovXG4gIG1vZGVsOiBUcmFuc2NyaXB0aW9uTW9kZWxWMjtcblxuICAvKipcblRoZSBhdWRpbyBkYXRhIHRvIHRyYW5zY3JpYmUuXG4gICAqL1xuICBhdWRpbzogRGF0YUNvbnRlbnQgfCBVUkw7XG5cbiAgLyoqXG5BZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG9wdGlvbnMgdGhhdCBhcmUgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyXG5hcyBib2R5IHBhcmFtZXRlcnMuXG5cblRoZSBvdXRlciByZWNvcmQgaXMga2V5ZWQgYnkgdGhlIHByb3ZpZGVyIG5hbWUsIGFuZCB0aGUgaW5uZXJcbnJlY29yZCBpcyBrZXllZCBieSB0aGUgcHJvdmlkZXItc3BlY2lmaWMgbWV0YWRhdGEga2V5LlxuYGBgdHNcbntcbiAgXCJvcGVuYWlcIjoge1xuICAgIFwidGVtcGVyYXR1cmVcIjogMFxuICB9XG59XG5gYGBcbiAgICAgKi9cbiAgcHJvdmlkZXJPcHRpb25zPzogUHJvdmlkZXJPcHRpb25zO1xuXG4gIC8qKlxuTWF4aW11bSBudW1iZXIgb2YgcmV0cmllcyBwZXIgdHJhbnNjcmlwdCBtb2RlbCBjYWxsLiBTZXQgdG8gMCB0byBkaXNhYmxlIHJldHJpZXMuXG5cbkBkZWZhdWx0IDJcbiAgICovXG4gIG1heFJldHJpZXM/OiBudW1iZXI7XG5cbiAgLyoqXG5BYm9ydCBzaWduYWwuXG4gKi9cbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcblxuICAvKipcbkFkZGl0aW9uYWwgaGVhZGVycyB0byBpbmNsdWRlIGluIHRoZSByZXF1ZXN0LlxuT25seSBhcHBsaWNhYmxlIGZvciBIVFRQLWJhc2VkIHByb3ZpZGVycy5cbiAqL1xuICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbn0pOiBQcm9taXNlPFRyYW5zY3JpcHRpb25SZXN1bHQ+IHtcbiAgaWYgKG1vZGVsLnNwZWNpZmljYXRpb25WZXJzaW9uICE9PSAndjInKSB7XG4gICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkTW9kZWxWZXJzaW9uRXJyb3Ioe1xuICAgICAgdmVyc2lvbjogbW9kZWwuc3BlY2lmaWNhdGlvblZlcnNpb24sXG4gICAgICBwcm92aWRlcjogbW9kZWwucHJvdmlkZXIsXG4gICAgICBtb2RlbElkOiBtb2RlbC5tb2RlbElkLFxuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgeyByZXRyeSB9ID0gcHJlcGFyZVJldHJpZXMoe1xuICAgIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gICAgYWJvcnRTaWduYWwsXG4gIH0pO1xuXG4gIGNvbnN0IGhlYWRlcnNXaXRoVXNlckFnZW50ID0gd2l0aFVzZXJBZ2VudFN1ZmZpeChcbiAgICBoZWFkZXJzID8/IHt9LFxuICAgIGBhaS8ke1ZFUlNJT059YCxcbiAgKTtcblxuICBjb25zdCBhdWRpb0RhdGEgPVxuICAgIGF1ZGlvIGluc3RhbmNlb2YgVVJMXG4gICAgICA/IChhd2FpdCBkb3dubG9hZCh7IHVybDogYXVkaW8gfSkpLmRhdGFcbiAgICAgIDogY29udmVydERhdGFDb250ZW50VG9VaW50OEFycmF5KGF1ZGlvKTtcblxuICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXRyeSgoKSA9PlxuICAgIG1vZGVsLmRvR2VuZXJhdGUoe1xuICAgICAgYXVkaW86IGF1ZGlvRGF0YSxcbiAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgaGVhZGVyczogaGVhZGVyc1dpdGhVc2VyQWdlbnQsXG4gICAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgICBtZWRpYVR5cGU6XG4gICAgICAgIGRldGVjdE1lZGlhVHlwZSh7XG4gICAgICAgICAgZGF0YTogYXVkaW9EYXRhLFxuICAgICAgICAgIHNpZ25hdHVyZXM6IGF1ZGlvTWVkaWFUeXBlU2lnbmF0dXJlcyxcbiAgICAgICAgfSkgPz8gJ2F1ZGlvL3dhdicsXG4gICAgfSksXG4gICk7XG5cbiAgbG9nV2FybmluZ3MocmVzdWx0Lndhcm5pbmdzKTtcblxuICBpZiAoIXJlc3VsdC50ZXh0KSB7XG4gICAgdGhyb3cgbmV3IE5vVHJhbnNjcmlwdEdlbmVyYXRlZEVycm9yKHsgcmVzcG9uc2VzOiBbcmVzdWx0LnJlc3BvbnNlXSB9KTtcbiAgfVxuXG4gIHJldHVybiBuZXcgRGVmYXVsdFRyYW5zY3JpcHRpb25SZXN1bHQoe1xuICAgIHRleHQ6IHJlc3VsdC50ZXh0LFxuICAgIHNlZ21lbnRzOiByZXN1bHQuc2VnbWVudHMsXG4gICAgbGFuZ3VhZ2U6IHJlc3VsdC5sYW5ndWFnZSxcbiAgICBkdXJhdGlvbkluU2Vjb25kczogcmVzdWx0LmR1cmF0aW9uSW5TZWNvbmRzLFxuICAgIHdhcm5pbmdzOiByZXN1bHQud2FybmluZ3MsXG4gICAgcmVzcG9uc2VzOiBbcmVzdWx0LnJlc3BvbnNlXSxcbiAgICBwcm92aWRlck1ldGFkYXRhOiByZXN1bHQucHJvdmlkZXJNZXRhZGF0YSxcbiAgfSk7XG59XG5cbmNsYXNzIERlZmF1bHRUcmFuc2NyaXB0aW9uUmVzdWx0IGltcGxlbWVudHMgVHJhbnNjcmlwdGlvblJlc3VsdCB7XG4gIHJlYWRvbmx5IHRleHQ6IHN0cmluZztcbiAgcmVhZG9ubHkgc2VnbWVudHM6IEFycmF5PHtcbiAgICB0ZXh0OiBzdHJpbmc7XG4gICAgc3RhcnRTZWNvbmQ6IG51bWJlcjtcbiAgICBlbmRTZWNvbmQ6IG51bWJlcjtcbiAgfT47XG4gIHJlYWRvbmx5IGxhbmd1YWdlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGR1cmF0aW9uSW5TZWNvbmRzOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IHdhcm5pbmdzOiBBcnJheTxUcmFuc2NyaXB0aW9uV2FybmluZz47XG4gIHJlYWRvbmx5IHJlc3BvbnNlczogQXJyYXk8VHJhbnNjcmlwdGlvbk1vZGVsUmVzcG9uc2VNZXRhZGF0YT47XG4gIHJlYWRvbmx5IHByb3ZpZGVyTWV0YWRhdGE6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIEpTT05WYWx1ZT4+O1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IHtcbiAgICB0ZXh0OiBzdHJpbmc7XG4gICAgc2VnbWVudHM6IEFycmF5PHtcbiAgICAgIHRleHQ6IHN0cmluZztcbiAgICAgIHN0YXJ0U2Vjb25kOiBudW1iZXI7XG4gICAgICBlbmRTZWNvbmQ6IG51bWJlcjtcbiAgICB9PjtcbiAgICBsYW5ndWFnZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIGR1cmF0aW9uSW5TZWNvbmRzOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICAgd2FybmluZ3M6IEFycmF5PFRyYW5zY3JpcHRpb25XYXJuaW5nPjtcbiAgICByZXNwb25zZXM6IEFycmF5PFRyYW5zY3JpcHRpb25Nb2RlbFJlc3BvbnNlTWV0YWRhdGE+O1xuICAgIHByb3ZpZGVyTWV0YWRhdGE6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIEpTT05WYWx1ZT4+IHwgdW5kZWZpbmVkO1xuICB9KSB7XG4gICAgdGhpcy50ZXh0ID0gb3B0aW9ucy50ZXh0O1xuICAgIHRoaXMuc2VnbWVudHMgPSBvcHRpb25zLnNlZ21lbnRzO1xuICAgIHRoaXMubGFuZ3VhZ2UgPSBvcHRpb25zLmxhbmd1YWdlO1xuICAgIHRoaXMuZHVyYXRpb25JblNlY29uZHMgPSBvcHRpb25zLmR1cmF0aW9uSW5TZWNvbmRzO1xuICAgIHRoaXMud2FybmluZ3MgPSBvcHRpb25zLndhcm5pbmdzO1xuICAgIHRoaXMucmVzcG9uc2VzID0gb3B0aW9ucy5yZXNwb25zZXM7XG4gICAgdGhpcy5wcm92aWRlck1ldGFkYXRhID0gb3B0aW9ucy5wcm92aWRlck1ldGFkYXRhID8/IHt9O1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgVHJhbnNjcmlwdGlvbk1vZGVsUmVzcG9uc2VNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzL3RyYW5zY3JpcHRpb24tbW9kZWwtcmVzcG9uc2UtbWV0YWRhdGEnO1xuXG4vKipcbkVycm9yIHRoYXQgaXMgdGhyb3duIHdoZW4gbm8gdHJhbnNjcmlwdCB3YXMgZ2VuZXJhdGVkLlxuICovXG5leHBvcnQgY2xhc3MgTm9UcmFuc2NyaXB0R2VuZXJhdGVkRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcmVhZG9ubHkgcmVzcG9uc2VzOiBBcnJheTxUcmFuc2NyaXB0aW9uTW9kZWxSZXNwb25zZU1ldGFkYXRhPjtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7XG4gICAgcmVzcG9uc2VzOiBBcnJheTxUcmFuc2NyaXB0aW9uTW9kZWxSZXNwb25zZU1ldGFkYXRhPjtcbiAgfSkge1xuICAgIHN1cGVyKHtcbiAgICAgIG5hbWU6ICdBSV9Ob1RyYW5zY3JpcHRHZW5lcmF0ZWRFcnJvcicsXG4gICAgICBtZXNzYWdlOiAnTm8gdHJhbnNjcmlwdCBnZW5lcmF0ZWQuJyxcbiAgICB9KTtcblxuICAgIHRoaXMucmVzcG9uc2VzID0gb3B0aW9ucy5yZXNwb25zZXM7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBwYXJzZUpzb25FdmVudFN0cmVhbSwgUGFyc2VSZXN1bHQgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7XG4gIFVJTWVzc2FnZUNodW5rLFxuICB1aU1lc3NhZ2VDaHVua1NjaGVtYSxcbn0gZnJvbSAnLi4vdWktbWVzc2FnZS1zdHJlYW0vdWktbWVzc2FnZS1jaHVua3MnO1xuaW1wb3J0IHsgY29uc3VtZVN0cmVhbSB9IGZyb20gJy4uL3V0aWwvY29uc3VtZS1zdHJlYW0nO1xuaW1wb3J0IHsgcHJvY2Vzc1RleHRTdHJlYW0gfSBmcm9tICcuL3Byb2Nlc3MtdGV4dC1zdHJlYW0nO1xuXG4vLyB1c2UgZnVuY3Rpb24gdG8gYWxsb3cgZm9yIG1vY2tpbmcgaW4gdGVzdHM6XG5jb25zdCBnZXRPcmlnaW5hbEZldGNoID0gKCkgPT4gZmV0Y2g7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYWxsQ29tcGxldGlvbkFwaSh7XG4gIGFwaSxcbiAgcHJvbXB0LFxuICBjcmVkZW50aWFscyxcbiAgaGVhZGVycyxcbiAgYm9keSxcbiAgc3RyZWFtUHJvdG9jb2wgPSAnZGF0YScsXG4gIHNldENvbXBsZXRpb24sXG4gIHNldExvYWRpbmcsXG4gIHNldEVycm9yLFxuICBzZXRBYm9ydENvbnRyb2xsZXIsXG4gIG9uRmluaXNoLFxuICBvbkVycm9yLFxuICBmZXRjaCA9IGdldE9yaWdpbmFsRmV0Y2goKSxcbn06IHtcbiAgYXBpOiBzdHJpbmc7XG4gIHByb21wdDogc3RyaW5nO1xuICBjcmVkZW50aWFsczogUmVxdWVzdENyZWRlbnRpYWxzIHwgdW5kZWZpbmVkO1xuICBoZWFkZXJzOiBIZWFkZXJzSW5pdCB8IHVuZGVmaW5lZDtcbiAgYm9keTogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgc3RyZWFtUHJvdG9jb2w6ICdkYXRhJyB8ICd0ZXh0JyB8IHVuZGVmaW5lZDtcbiAgc2V0Q29tcGxldGlvbjogKGNvbXBsZXRpb246IHN0cmluZykgPT4gdm9pZDtcbiAgc2V0TG9hZGluZzogKGxvYWRpbmc6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHNldEVycm9yOiAoZXJyb3I6IEVycm9yIHwgdW5kZWZpbmVkKSA9PiB2b2lkO1xuICBzZXRBYm9ydENvbnRyb2xsZXI6IChhYm9ydENvbnRyb2xsZXI6IEFib3J0Q29udHJvbGxlciB8IG51bGwpID0+IHZvaWQ7XG4gIG9uRmluaXNoOiAoKHByb21wdDogc3RyaW5nLCBjb21wbGV0aW9uOiBzdHJpbmcpID0+IHZvaWQpIHwgdW5kZWZpbmVkO1xuICBvbkVycm9yOiAoKGVycm9yOiBFcnJvcikgPT4gdm9pZCkgfCB1bmRlZmluZWQ7XG4gIGZldGNoOiBSZXR1cm5UeXBlPHR5cGVvZiBnZXRPcmlnaW5hbEZldGNoPiB8IHVuZGVmaW5lZDtcbn0pIHtcbiAgdHJ5IHtcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIHNldEVycm9yKHVuZGVmaW5lZCk7XG5cbiAgICBjb25zdCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgc2V0QWJvcnRDb250cm9sbGVyKGFib3J0Q29udHJvbGxlcik7XG5cbiAgICAvLyBFbXB0eSB0aGUgY29tcGxldGlvbiBpbW1lZGlhdGVseS5cbiAgICBzZXRDb21wbGV0aW9uKCcnKTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYXBpLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgcHJvbXB0LFxuICAgICAgICAuLi5ib2R5LFxuICAgICAgfSksXG4gICAgICBjcmVkZW50aWFscyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgLi4uaGVhZGVycyxcbiAgICAgIH0sXG4gICAgICBzaWduYWw6IGFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgKGF3YWl0IHJlc3BvbnNlLnRleHQoKSkgPz8gJ0ZhaWxlZCB0byBmZXRjaCB0aGUgY2hhdCByZXNwb25zZS4nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlLmJvZHkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHJlc3BvbnNlIGJvZHkgaXMgZW1wdHkuJyk7XG4gICAgfVxuXG4gICAgbGV0IHJlc3VsdCA9ICcnO1xuXG4gICAgc3dpdGNoIChzdHJlYW1Qcm90b2NvbCkge1xuICAgICAgY2FzZSAndGV4dCc6IHtcbiAgICAgICAgYXdhaXQgcHJvY2Vzc1RleHRTdHJlYW0oe1xuICAgICAgICAgIHN0cmVhbTogcmVzcG9uc2UuYm9keSxcbiAgICAgICAgICBvblRleHRQYXJ0OiBjaHVuayA9PiB7XG4gICAgICAgICAgICByZXN1bHQgKz0gY2h1bms7XG4gICAgICAgICAgICBzZXRDb21wbGV0aW9uKHJlc3VsdCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnZGF0YSc6IHtcbiAgICAgICAgYXdhaXQgY29uc3VtZVN0cmVhbSh7XG4gICAgICAgICAgc3RyZWFtOiBwYXJzZUpzb25FdmVudFN0cmVhbSh7XG4gICAgICAgICAgICBzdHJlYW06IHJlc3BvbnNlLmJvZHksXG4gICAgICAgICAgICBzY2hlbWE6IHVpTWVzc2FnZUNodW5rU2NoZW1hLFxuICAgICAgICAgIH0pLnBpcGVUaHJvdWdoKFxuICAgICAgICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbTxQYXJzZVJlc3VsdDxVSU1lc3NhZ2VDaHVuaz4sIFVJTWVzc2FnZUNodW5rPih7XG4gICAgICAgICAgICAgIGFzeW5jIHRyYW5zZm9ybShwYXJ0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJ0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IHBhcnQuZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyZWFtUGFydCA9IHBhcnQudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHN0cmVhbVBhcnQudHlwZSA9PT0gJ3RleHQtZGVsdGEnKSB7XG4gICAgICAgICAgICAgICAgICByZXN1bHQgKz0gc3RyZWFtUGFydC5kZWx0YTtcbiAgICAgICAgICAgICAgICAgIHNldENvbXBsZXRpb24ocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbVBhcnQudHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHN0cmVhbVBhcnQuZXJyb3JUZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICApLFxuICAgICAgICAgIG9uRXJyb3I6IGVycm9yID0+IHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc3QgZXhoYXVzdGl2ZUNoZWNrOiBuZXZlciA9IHN0cmVhbVByb3RvY29sO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gc3RyZWFtIHByb3RvY29sOiAke2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAob25GaW5pc2gpIHtcbiAgICAgIG9uRmluaXNoKHByb21wdCwgcmVzdWx0KTtcbiAgICB9XG5cbiAgICBzZXRBYm9ydENvbnRyb2xsZXIobnVsbCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gSWdub3JlIGFib3J0IGVycm9ycyBhcyB0aGV5IGFyZSBleHBlY3RlZC5cbiAgICBpZiAoKGVyciBhcyBhbnkpLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xuICAgICAgc2V0QWJvcnRDb250cm9sbGVyKG51bGwpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICBpZiAob25FcnJvcikge1xuICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2V0RXJyb3IoZXJyIGFzIEVycm9yKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgfVxufVxuIiwgImV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzVGV4dFN0cmVhbSh7XG4gIHN0cmVhbSxcbiAgb25UZXh0UGFydCxcbn06IHtcbiAgc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxVaW50OEFycmF5PjtcbiAgb25UZXh0UGFydDogKGNodW5rOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD4gfCB2b2lkO1xufSk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCByZWFkZXIgPSBzdHJlYW0ucGlwZVRocm91Z2gobmV3IFRleHREZWNvZGVyU3RyZWFtKCkpLmdldFJlYWRlcigpO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgaWYgKGRvbmUpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBhd2FpdCBvblRleHRQYXJ0KHZhbHVlKTtcbiAgfVxufVxuIiwgImltcG9ydCB7XG4gIGdlbmVyYXRlSWQgYXMgZ2VuZXJhdGVJZEZ1bmMsXG4gIElkR2VuZXJhdG9yLFxuICBTdGFuZGFyZFNjaGVtYVYxLFxuICBWYWxpZGF0b3IsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgVUlNZXNzYWdlQ2h1bmsgfSBmcm9tICcuLi91aS1tZXNzYWdlLXN0cmVhbS91aS1tZXNzYWdlLWNodW5rcyc7XG5pbXBvcnQgeyBjb25zdW1lU3RyZWFtIH0gZnJvbSAnLi4vdXRpbC9jb25zdW1lLXN0cmVhbSc7XG5pbXBvcnQgeyBTZXJpYWxKb2JFeGVjdXRvciB9IGZyb20gJy4uL3V0aWwvc2VyaWFsLWpvYi1leGVjdXRvcic7XG5pbXBvcnQgeyBDaGF0VHJhbnNwb3J0IH0gZnJvbSAnLi9jaGF0LXRyYW5zcG9ydCc7XG5pbXBvcnQgeyBjb252ZXJ0RmlsZUxpc3RUb0ZpbGVVSVBhcnRzIH0gZnJvbSAnLi9jb252ZXJ0LWZpbGUtbGlzdC10by1maWxlLXVpLXBhcnRzJztcbmltcG9ydCB7IERlZmF1bHRDaGF0VHJhbnNwb3J0IH0gZnJvbSAnLi9kZWZhdWx0LWNoYXQtdHJhbnNwb3J0JztcbmltcG9ydCB7XG4gIGNyZWF0ZVN0cmVhbWluZ1VJTWVzc2FnZVN0YXRlLFxuICBwcm9jZXNzVUlNZXNzYWdlU3RyZWFtLFxuICBTdHJlYW1pbmdVSU1lc3NhZ2VTdGF0ZSxcbn0gZnJvbSAnLi9wcm9jZXNzLXVpLW1lc3NhZ2Utc3RyZWFtJztcbmltcG9ydCB7XG4gIEluZmVyVUlNZXNzYWdlVG9vbENhbGwsXG4gIGlzVG9vbE9yRHluYW1pY1Rvb2xVSVBhcnQsXG4gIHR5cGUgRGF0YVVJUGFydCxcbiAgdHlwZSBGaWxlVUlQYXJ0LFxuICB0eXBlIEluZmVyVUlNZXNzYWdlRGF0YSxcbiAgdHlwZSBJbmZlclVJTWVzc2FnZU1ldGFkYXRhLFxuICB0eXBlIEluZmVyVUlNZXNzYWdlVG9vbHMsXG4gIHR5cGUgVUlEYXRhVHlwZXMsXG4gIHR5cGUgVUlNZXNzYWdlLFxufSBmcm9tICcuL3VpLW1lc3NhZ2VzJztcblxuZXhwb3J0IHR5cGUgQ3JlYXRlVUlNZXNzYWdlPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+ID0gT21pdDxcbiAgVUlfTUVTU0FHRSxcbiAgJ2lkJyB8ICdyb2xlJ1xuPiAmIHtcbiAgaWQ/OiBVSV9NRVNTQUdFWydpZCddO1xuICByb2xlPzogVUlfTUVTU0FHRVsncm9sZSddO1xufTtcblxuZXhwb3J0IHR5cGUgVUlEYXRhUGFydFNjaGVtYXMgPSBSZWNvcmQ8XG4gIHN0cmluZyxcbiAgVmFsaWRhdG9yPGFueT4gfCBTdGFuZGFyZFNjaGVtYVYxPGFueT5cbj47XG5cbmV4cG9ydCB0eXBlIFVJRGF0YVR5cGVzVG9TY2hlbWFzPFQgZXh0ZW5kcyBVSURhdGFUeXBlcz4gPSB7XG4gIFtLIGluIGtleW9mIFRdOiBWYWxpZGF0b3I8VFtLXT4gfCBTdGFuZGFyZFNjaGVtYVYxPFRbS10+O1xufTtcblxuZXhwb3J0IHR5cGUgSW5mZXJVSURhdGFQYXJ0czxUIGV4dGVuZHMgVUlEYXRhUGFydFNjaGVtYXM+ID0ge1xuICBbSyBpbiBrZXlvZiBUXTogVFtLXSBleHRlbmRzIFZhbGlkYXRvcjxpbmZlciBVPlxuICAgID8gVVxuICAgIDogVFtLXSBleHRlbmRzIFN0YW5kYXJkU2NoZW1hVjE8aW5mZXIgVT5cbiAgICAgID8gVVxuICAgICAgOiB1bmtub3duO1xufTtcblxuZXhwb3J0IHR5cGUgQ2hhdFJlcXVlc3RPcHRpb25zID0ge1xuICAvKipcbiAgQWRkaXRpb25hbCBoZWFkZXJzIHRoYXQgc2hvdWxkIGJlIHRvIGJlIHBhc3NlZCB0byB0aGUgQVBJIGVuZHBvaW50LlxuICAgKi9cbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gfCBIZWFkZXJzO1xuXG4gIC8qKlxuICBBZGRpdGlvbmFsIGJvZHkgSlNPTiBwcm9wZXJ0aWVzIHRoYXQgc2hvdWxkIGJlIHNlbnQgdG8gdGhlIEFQSSBlbmRwb2ludC5cbiAgICovXG4gIGJvZHk/OiBvYmplY3Q7IC8vIFRPRE8gSlNPTlN0cmluZ2lmeWFibGVcblxuICBtZXRhZGF0YT86IHVua25vd247XG59O1xuXG5leHBvcnQgdHlwZSBDaGF0U3RhdHVzID0gJ3N1Ym1pdHRlZCcgfCAnc3RyZWFtaW5nJyB8ICdyZWFkeScgfCAnZXJyb3InO1xuXG50eXBlIEFjdGl2ZVJlc3BvbnNlPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+ID0ge1xuICBzdGF0ZTogU3RyZWFtaW5nVUlNZXNzYWdlU3RhdGU8VUlfTUVTU0FHRT47XG4gIGFib3J0Q29udHJvbGxlcjogQWJvcnRDb250cm9sbGVyO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBDaGF0U3RhdGU8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4ge1xuICBzdGF0dXM6IENoYXRTdGF0dXM7XG5cbiAgZXJyb3I6IEVycm9yIHwgdW5kZWZpbmVkO1xuXG4gIG1lc3NhZ2VzOiBVSV9NRVNTQUdFW107XG4gIHB1c2hNZXNzYWdlOiAobWVzc2FnZTogVUlfTUVTU0FHRSkgPT4gdm9pZDtcbiAgcG9wTWVzc2FnZTogKCkgPT4gdm9pZDtcbiAgcmVwbGFjZU1lc3NhZ2U6IChpbmRleDogbnVtYmVyLCBtZXNzYWdlOiBVSV9NRVNTQUdFKSA9PiB2b2lkO1xuXG4gIHNuYXBzaG90OiA8VD4odGhpbmc6IFQpID0+IFQ7XG59XG5cbmV4cG9ydCB0eXBlIENoYXRPbkVycm9yQ2FsbGJhY2sgPSAoZXJyb3I6IEVycm9yKSA9PiB2b2lkO1xuXG5leHBvcnQgdHlwZSBDaGF0T25Ub29sQ2FsbENhbGxiYWNrPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2UgPSBVSU1lc3NhZ2U+ID1cbiAgKG9wdGlvbnM6IHtcbiAgICB0b29sQ2FsbDogSW5mZXJVSU1lc3NhZ2VUb29sQ2FsbDxVSV9NRVNTQUdFPjtcbiAgfSkgPT4gdm9pZCB8IFByb21pc2VMaWtlPHZvaWQ+O1xuXG5leHBvcnQgdHlwZSBDaGF0T25EYXRhQ2FsbGJhY2s8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4gPSAoXG4gIGRhdGFQYXJ0OiBEYXRhVUlQYXJ0PEluZmVyVUlNZXNzYWdlRGF0YTxVSV9NRVNTQUdFPj4sXG4pID0+IHZvaWQ7XG5cbi8qKlxuICogRnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgYXNzaXN0YW50IHJlc3BvbnNlIGhhcyBmaW5pc2hlZCBzdHJlYW1pbmcuXG4gKlxuICogQHBhcmFtIG1lc3NhZ2UgVGhlIGFzc2lzdGFudCBtZXNzYWdlIHRoYXQgd2FzIHN0cmVhbWVkLlxuICogQHBhcmFtIG1lc3NhZ2VzIFRoZSBmdWxsIGNoYXQgaGlzdG9yeSwgaW5jbHVkaW5nIHRoZSBhc3Npc3RhbnQgbWVzc2FnZS5cbiAqXG4gKiBAcGFyYW0gaXNBYm9ydCBJbmRpY2F0ZXMgd2hldGhlciB0aGUgcmVxdWVzdCBoYXMgYmVlbiBhYm9ydGVkLlxuICogQHBhcmFtIGlzRGlzY29ubmVjdCBJbmRpY2F0ZXMgd2hldGhlciB0aGUgcmVxdWVzdCBoYXMgYmVlbiBlbmRlZCBieSBhIG5ldHdvcmsgZXJyb3IuXG4gKiBAcGFyYW0gaXNFcnJvciBJbmRpY2F0ZXMgd2hldGhlciB0aGUgcmVxdWVzdCBoYXMgYmVlbiBlbmRlZCBieSBhbiBlcnJvci5cbiAqL1xuZXhwb3J0IHR5cGUgQ2hhdE9uRmluaXNoQ2FsbGJhY2s8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4gPSAob3B0aW9uczoge1xuICBtZXNzYWdlOiBVSV9NRVNTQUdFO1xuICBtZXNzYWdlczogVUlfTUVTU0FHRVtdO1xuICBpc0Fib3J0OiBib29sZWFuO1xuICBpc0Rpc2Nvbm5lY3Q6IGJvb2xlYW47XG4gIGlzRXJyb3I6IGJvb2xlYW47XG59KSA9PiB2b2lkO1xuXG5leHBvcnQgaW50ZXJmYWNlIENoYXRJbml0PFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+IHtcbiAgLyoqXG4gICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBjaGF0LiBJZiBub3QgcHJvdmlkZWQsIGEgcmFuZG9tIG9uZSB3aWxsIGJlXG4gICAqIGdlbmVyYXRlZC5cbiAgICovXG4gIGlkPzogc3RyaW5nO1xuXG4gIG1lc3NhZ2VNZXRhZGF0YVNjaGVtYT86XG4gICAgfCBWYWxpZGF0b3I8SW5mZXJVSU1lc3NhZ2VNZXRhZGF0YTxVSV9NRVNTQUdFPj5cbiAgICB8IFN0YW5kYXJkU2NoZW1hVjE8SW5mZXJVSU1lc3NhZ2VNZXRhZGF0YTxVSV9NRVNTQUdFPj47XG4gIGRhdGFQYXJ0U2NoZW1hcz86IFVJRGF0YVR5cGVzVG9TY2hlbWFzPEluZmVyVUlNZXNzYWdlRGF0YTxVSV9NRVNTQUdFPj47XG5cbiAgbWVzc2FnZXM/OiBVSV9NRVNTQUdFW107XG5cbiAgLyoqXG4gICAqIEEgd2F5IHRvIHByb3ZpZGUgYSBmdW5jdGlvbiB0aGF0IGlzIGdvaW5nIHRvIGJlIHVzZWQgZm9yIGlkcyBmb3IgbWVzc2FnZXMgYW5kIHRoZSBjaGF0LlxuICAgKiBJZiBub3QgcHJvdmlkZWQgdGhlIGRlZmF1bHQgQUkgU0RLIGBnZW5lcmF0ZUlkYCBpcyB1c2VkLlxuICAgKi9cbiAgZ2VuZXJhdGVJZD86IElkR2VuZXJhdG9yO1xuXG4gIHRyYW5zcG9ydD86IENoYXRUcmFuc3BvcnQ8VUlfTUVTU0FHRT47XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIGFuIGVycm9yIGlzIGVuY291bnRlcmVkLlxuICAgKi9cbiAgb25FcnJvcj86IENoYXRPbkVycm9yQ2FsbGJhY2s7XG5cbiAgLyoqXG4gIE9wdGlvbmFsIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgaXMgaW52b2tlZCB3aGVuIGEgdG9vbCBjYWxsIGlzIHJlY2VpdmVkLlxuICBJbnRlbmRlZCBmb3IgYXV0b21hdGljIGNsaWVudC1zaWRlIHRvb2wgZXhlY3V0aW9uLlxuXG4gIFlvdSBjYW4gb3B0aW9uYWxseSByZXR1cm4gYSByZXN1bHQgZm9yIHRoZSB0b29sIGNhbGwsXG4gIGVpdGhlciBzeW5jaHJvbm91c2x5IG9yIGFzeW5jaHJvbm91c2x5LlxuICAgICAqL1xuICBvblRvb2xDYWxsPzogQ2hhdE9uVG9vbENhbGxDYWxsYmFjazxVSV9NRVNTQUdFPjtcblxuICAvKipcbiAgICogRnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgYXNzaXN0YW50IHJlc3BvbnNlIGhhcyBmaW5pc2hlZCBzdHJlYW1pbmcuXG4gICAqL1xuICBvbkZpbmlzaD86IENoYXRPbkZpbmlzaENhbGxiYWNrPFVJX01FU1NBR0U+O1xuXG4gIC8qKlxuICAgKiBPcHRpb25hbCBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIGEgZGF0YSBwYXJ0IGlzIHJlY2VpdmVkLlxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSBwYXJ0IHRoYXQgd2FzIHJlY2VpdmVkLlxuICAgKi9cbiAgb25EYXRhPzogQ2hhdE9uRGF0YUNhbGxiYWNrPFVJX01FU1NBR0U+O1xuXG4gIC8qKlxuICAgKiBXaGVuIHByb3ZpZGVkLCB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHN0cmVhbSBpcyBmaW5pc2hlZCBvciBhIHRvb2wgY2FsbCBpcyBhZGRlZFxuICAgKiB0byBkZXRlcm1pbmUgaWYgdGhlIGN1cnJlbnQgbWVzc2FnZXMgc2hvdWxkIGJlIHJlc3VibWl0dGVkLlxuICAgKi9cbiAgc2VuZEF1dG9tYXRpY2FsbHlXaGVuPzogKG9wdGlvbnM6IHtcbiAgICBtZXNzYWdlczogVUlfTUVTU0FHRVtdO1xuICB9KSA9PiBib29sZWFuIHwgUHJvbWlzZUxpa2U8Ym9vbGVhbj47XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdENoYXQ8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4ge1xuICByZWFkb25seSBpZDogc3RyaW5nO1xuICByZWFkb25seSBnZW5lcmF0ZUlkOiBJZEdlbmVyYXRvcjtcblxuICBwcm90ZWN0ZWQgc3RhdGU6IENoYXRTdGF0ZTxVSV9NRVNTQUdFPjtcblxuICBwcml2YXRlIG1lc3NhZ2VNZXRhZGF0YVNjaGVtYTpcbiAgICB8IFZhbGlkYXRvcjxJbmZlclVJTWVzc2FnZU1ldGFkYXRhPFVJX01FU1NBR0U+PlxuICAgIHwgU3RhbmRhcmRTY2hlbWFWMTxJbmZlclVJTWVzc2FnZU1ldGFkYXRhPFVJX01FU1NBR0U+PlxuICAgIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIGRhdGFQYXJ0U2NoZW1hczpcbiAgICB8IFVJRGF0YVR5cGVzVG9TY2hlbWFzPEluZmVyVUlNZXNzYWdlRGF0YTxVSV9NRVNTQUdFPj5cbiAgICB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSByZWFkb25seSB0cmFuc3BvcnQ6IENoYXRUcmFuc3BvcnQ8VUlfTUVTU0FHRT47XG4gIHByaXZhdGUgb25FcnJvcj86IENoYXRJbml0PFVJX01FU1NBR0U+WydvbkVycm9yJ107XG4gIHByaXZhdGUgb25Ub29sQ2FsbD86IENoYXRJbml0PFVJX01FU1NBR0U+WydvblRvb2xDYWxsJ107XG4gIHByaXZhdGUgb25GaW5pc2g/OiBDaGF0SW5pdDxVSV9NRVNTQUdFPlsnb25GaW5pc2gnXTtcbiAgcHJpdmF0ZSBvbkRhdGE/OiBDaGF0SW5pdDxVSV9NRVNTQUdFPlsnb25EYXRhJ107XG4gIHByaXZhdGUgc2VuZEF1dG9tYXRpY2FsbHlXaGVuPzogQ2hhdEluaXQ8VUlfTUVTU0FHRT5bJ3NlbmRBdXRvbWF0aWNhbGx5V2hlbiddO1xuXG4gIHByaXZhdGUgYWN0aXZlUmVzcG9uc2U6IEFjdGl2ZVJlc3BvbnNlPFVJX01FU1NBR0U+IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICBwcml2YXRlIGpvYkV4ZWN1dG9yID0gbmV3IFNlcmlhbEpvYkV4ZWN1dG9yKCk7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIGdlbmVyYXRlSWQgPSBnZW5lcmF0ZUlkRnVuYyxcbiAgICBpZCA9IGdlbmVyYXRlSWQoKSxcbiAgICB0cmFuc3BvcnQgPSBuZXcgRGVmYXVsdENoYXRUcmFuc3BvcnQoKSxcbiAgICBtZXNzYWdlTWV0YWRhdGFTY2hlbWEsXG4gICAgZGF0YVBhcnRTY2hlbWFzLFxuICAgIHN0YXRlLFxuICAgIG9uRXJyb3IsXG4gICAgb25Ub29sQ2FsbCxcbiAgICBvbkZpbmlzaCxcbiAgICBvbkRhdGEsXG4gICAgc2VuZEF1dG9tYXRpY2FsbHlXaGVuLFxuICB9OiBPbWl0PENoYXRJbml0PFVJX01FU1NBR0U+LCAnbWVzc2FnZXMnPiAmIHtcbiAgICBzdGF0ZTogQ2hhdFN0YXRlPFVJX01FU1NBR0U+O1xuICB9KSB7XG4gICAgdGhpcy5pZCA9IGlkO1xuICAgIHRoaXMudHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuICAgIHRoaXMuZ2VuZXJhdGVJZCA9IGdlbmVyYXRlSWQ7XG4gICAgdGhpcy5tZXNzYWdlTWV0YWRhdGFTY2hlbWEgPSBtZXNzYWdlTWV0YWRhdGFTY2hlbWE7XG4gICAgdGhpcy5kYXRhUGFydFNjaGVtYXMgPSBkYXRhUGFydFNjaGVtYXM7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIHRoaXMub25FcnJvciA9IG9uRXJyb3I7XG4gICAgdGhpcy5vblRvb2xDYWxsID0gb25Ub29sQ2FsbDtcbiAgICB0aGlzLm9uRmluaXNoID0gb25GaW5pc2g7XG4gICAgdGhpcy5vbkRhdGEgPSBvbkRhdGE7XG4gICAgdGhpcy5zZW5kQXV0b21hdGljYWxseVdoZW4gPSBzZW5kQXV0b21hdGljYWxseVdoZW47XG4gIH1cblxuICAvKipcbiAgICogSG9vayBzdGF0dXM6XG4gICAqXG4gICAqIC0gYHN1Ym1pdHRlZGA6IFRoZSBtZXNzYWdlIGhhcyBiZWVuIHNlbnQgdG8gdGhlIEFQSSBhbmQgd2UncmUgYXdhaXRpbmcgdGhlIHN0YXJ0IG9mIHRoZSByZXNwb25zZSBzdHJlYW0uXG4gICAqIC0gYHN0cmVhbWluZ2A6IFRoZSByZXNwb25zZSBpcyBhY3RpdmVseSBzdHJlYW1pbmcgaW4gZnJvbSB0aGUgQVBJLCByZWNlaXZpbmcgY2h1bmtzIG9mIGRhdGEuXG4gICAqIC0gYHJlYWR5YDogVGhlIGZ1bGwgcmVzcG9uc2UgaGFzIGJlZW4gcmVjZWl2ZWQgYW5kIHByb2Nlc3NlZDsgYSBuZXcgdXNlciBtZXNzYWdlIGNhbiBiZSBzdWJtaXR0ZWQuXG4gICAqIC0gYGVycm9yYDogQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIHRoZSBBUEkgcmVxdWVzdCwgcHJldmVudGluZyBzdWNjZXNzZnVsIGNvbXBsZXRpb24uXG4gICAqL1xuICBnZXQgc3RhdHVzKCk6IENoYXRTdGF0dXMge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLnN0YXR1cztcbiAgfVxuXG4gIHByb3RlY3RlZCBzZXRTdGF0dXMoe1xuICAgIHN0YXR1cyxcbiAgICBlcnJvcixcbiAgfToge1xuICAgIHN0YXR1czogQ2hhdFN0YXR1cztcbiAgICBlcnJvcj86IEVycm9yO1xuICB9KSB7XG4gICAgaWYgKHRoaXMuc3RhdHVzID09PSBzdGF0dXMpIHJldHVybjtcblxuICAgIHRoaXMuc3RhdGUuc3RhdHVzID0gc3RhdHVzO1xuICAgIHRoaXMuc3RhdGUuZXJyb3IgPSBlcnJvcjtcbiAgfVxuXG4gIGdldCBlcnJvcigpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5lcnJvcjtcbiAgfVxuXG4gIGdldCBtZXNzYWdlcygpOiBVSV9NRVNTQUdFW10ge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLm1lc3NhZ2VzO1xuICB9XG5cbiAgZ2V0IGxhc3RNZXNzYWdlKCk6IFVJX01FU1NBR0UgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLm1lc3NhZ2VzW3RoaXMuc3RhdGUubWVzc2FnZXMubGVuZ3RoIC0gMV07XG4gIH1cblxuICBzZXQgbWVzc2FnZXMobWVzc2FnZXM6IFVJX01FU1NBR0VbXSkge1xuICAgIHRoaXMuc3RhdGUubWVzc2FnZXMgPSBtZXNzYWdlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmRzIG9yIHJlcGxhY2VzIGEgdXNlciBtZXNzYWdlIHRvIHRoZSBjaGF0IGxpc3QuIFRoaXMgdHJpZ2dlcnMgdGhlIEFQSSBjYWxsIHRvIGZldGNoXG4gICAqIHRoZSBhc3Npc3RhbnQncyByZXNwb25zZS5cbiAgICpcbiAgICogSWYgYSBtZXNzYWdlSWQgaXMgcHJvdmlkZWQsIHRoZSBtZXNzYWdlIHdpbGwgYmUgcmVwbGFjZWQuXG4gICAqL1xuICBzZW5kTWVzc2FnZSA9IGFzeW5jIChcbiAgICBtZXNzYWdlPzpcbiAgICAgIHwgKENyZWF0ZVVJTWVzc2FnZTxVSV9NRVNTQUdFPiAmIHtcbiAgICAgICAgICB0ZXh0PzogbmV2ZXI7XG4gICAgICAgICAgZmlsZXM/OiBuZXZlcjtcbiAgICAgICAgICBtZXNzYWdlSWQ/OiBzdHJpbmc7XG4gICAgICAgIH0pXG4gICAgICB8IHtcbiAgICAgICAgICB0ZXh0OiBzdHJpbmc7XG4gICAgICAgICAgZmlsZXM/OiBGaWxlTGlzdCB8IEZpbGVVSVBhcnRbXTtcbiAgICAgICAgICBtZXRhZGF0YT86IEluZmVyVUlNZXNzYWdlTWV0YWRhdGE8VUlfTUVTU0FHRT47XG4gICAgICAgICAgcGFydHM/OiBuZXZlcjtcbiAgICAgICAgICBtZXNzYWdlSWQ/OiBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgIHwge1xuICAgICAgICAgIGZpbGVzOiBGaWxlTGlzdCB8IEZpbGVVSVBhcnRbXTtcbiAgICAgICAgICBtZXRhZGF0YT86IEluZmVyVUlNZXNzYWdlTWV0YWRhdGE8VUlfTUVTU0FHRT47XG4gICAgICAgICAgcGFydHM/OiBuZXZlcjtcbiAgICAgICAgICBtZXNzYWdlSWQ/OiBzdHJpbmc7XG4gICAgICAgIH0sXG4gICAgb3B0aW9ucz86IENoYXRSZXF1ZXN0T3B0aW9ucyxcbiAgKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgaWYgKG1lc3NhZ2UgPT0gbnVsbCkge1xuICAgICAgYXdhaXQgdGhpcy5tYWtlUmVxdWVzdCh7XG4gICAgICAgIHRyaWdnZXI6ICdzdWJtaXQtbWVzc2FnZScsXG4gICAgICAgIG1lc3NhZ2VJZDogdGhpcy5sYXN0TWVzc2FnZT8uaWQsXG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgdWlNZXNzYWdlOiBDcmVhdGVVSU1lc3NhZ2U8VUlfTUVTU0FHRT47XG5cbiAgICBpZiAoJ3RleHQnIGluIG1lc3NhZ2UgfHwgJ2ZpbGVzJyBpbiBtZXNzYWdlKSB7XG4gICAgICBjb25zdCBmaWxlUGFydHMgPSBBcnJheS5pc0FycmF5KG1lc3NhZ2UuZmlsZXMpXG4gICAgICAgID8gbWVzc2FnZS5maWxlc1xuICAgICAgICA6IGF3YWl0IGNvbnZlcnRGaWxlTGlzdFRvRmlsZVVJUGFydHMobWVzc2FnZS5maWxlcyk7XG5cbiAgICAgIHVpTWVzc2FnZSA9IHtcbiAgICAgICAgcGFydHM6IFtcbiAgICAgICAgICAuLi5maWxlUGFydHMsXG4gICAgICAgICAgLi4uKCd0ZXh0JyBpbiBtZXNzYWdlICYmIG1lc3NhZ2UudGV4dCAhPSBudWxsXG4gICAgICAgICAgICA/IFt7IHR5cGU6ICd0ZXh0JyBhcyBjb25zdCwgdGV4dDogbWVzc2FnZS50ZXh0IH1dXG4gICAgICAgICAgICA6IFtdKSxcbiAgICAgICAgXSxcbiAgICAgIH0gYXMgVUlfTUVTU0FHRTtcbiAgICB9IGVsc2Uge1xuICAgICAgdWlNZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9XG5cbiAgICBpZiAobWVzc2FnZS5tZXNzYWdlSWQgIT0gbnVsbCkge1xuICAgICAgY29uc3QgbWVzc2FnZUluZGV4ID0gdGhpcy5zdGF0ZS5tZXNzYWdlcy5maW5kSW5kZXgoXG4gICAgICAgIG0gPT4gbS5pZCA9PT0gbWVzc2FnZS5tZXNzYWdlSWQsXG4gICAgICApO1xuXG4gICAgICBpZiAobWVzc2FnZUluZGV4ID09PSAtMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG1lc3NhZ2Ugd2l0aCBpZCAke21lc3NhZ2UubWVzc2FnZUlkfSBub3QgZm91bmRgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc3RhdGUubWVzc2FnZXNbbWVzc2FnZUluZGV4XS5yb2xlICE9PSAndXNlcicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBtZXNzYWdlIHdpdGggaWQgJHttZXNzYWdlLm1lc3NhZ2VJZH0gaXMgbm90IGEgdXNlciBtZXNzYWdlYCxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gcmVtb3ZlIGFsbCBtZXNzYWdlcyBhZnRlciB0aGUgbWVzc2FnZSB3aXRoIHRoZSBnaXZlbiBpZFxuICAgICAgdGhpcy5zdGF0ZS5tZXNzYWdlcyA9IHRoaXMuc3RhdGUubWVzc2FnZXMuc2xpY2UoMCwgbWVzc2FnZUluZGV4ICsgMSk7XG5cbiAgICAgIC8vIHVwZGF0ZSB0aGUgbWVzc2FnZSB3aXRoIHRoZSBuZXcgY29udGVudFxuICAgICAgdGhpcy5zdGF0ZS5yZXBsYWNlTWVzc2FnZShtZXNzYWdlSW5kZXgsIHtcbiAgICAgICAgLi4udWlNZXNzYWdlLFxuICAgICAgICBpZDogbWVzc2FnZS5tZXNzYWdlSWQsXG4gICAgICAgIHJvbGU6IHVpTWVzc2FnZS5yb2xlID8/ICd1c2VyJyxcbiAgICAgICAgbWV0YWRhdGE6IG1lc3NhZ2UubWV0YWRhdGEsXG4gICAgICB9IGFzIFVJX01FU1NBR0UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YXRlLnB1c2hNZXNzYWdlKHtcbiAgICAgICAgLi4udWlNZXNzYWdlLFxuICAgICAgICBpZDogdWlNZXNzYWdlLmlkID8/IHRoaXMuZ2VuZXJhdGVJZCgpLFxuICAgICAgICByb2xlOiB1aU1lc3NhZ2Uucm9sZSA/PyAndXNlcicsXG4gICAgICAgIG1ldGFkYXRhOiBtZXNzYWdlLm1ldGFkYXRhLFxuICAgICAgfSBhcyBVSV9NRVNTQUdFKTtcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KHtcbiAgICAgIHRyaWdnZXI6ICdzdWJtaXQtbWVzc2FnZScsXG4gICAgICBtZXNzYWdlSWQ6IG1lc3NhZ2UubWVzc2FnZUlkLFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogUmVnZW5lcmF0ZSB0aGUgYXNzaXN0YW50IG1lc3NhZ2Ugd2l0aCB0aGUgcHJvdmlkZWQgbWVzc2FnZSBpZC5cbiAgICogSWYgbm8gbWVzc2FnZSBpZCBpcyBwcm92aWRlZCwgdGhlIGxhc3QgYXNzaXN0YW50IG1lc3NhZ2Ugd2lsbCBiZSByZWdlbmVyYXRlZC5cbiAgICovXG4gIHJlZ2VuZXJhdGUgPSBhc3luYyAoe1xuICAgIG1lc3NhZ2VJZCxcbiAgICAuLi5vcHRpb25zXG4gIH06IHtcbiAgICBtZXNzYWdlSWQ/OiBzdHJpbmc7XG4gIH0gJiBDaGF0UmVxdWVzdE9wdGlvbnMgPSB7fSk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGNvbnN0IG1lc3NhZ2VJbmRleCA9XG4gICAgICBtZXNzYWdlSWQgPT0gbnVsbFxuICAgICAgICA/IHRoaXMuc3RhdGUubWVzc2FnZXMubGVuZ3RoIC0gMVxuICAgICAgICA6IHRoaXMuc3RhdGUubWVzc2FnZXMuZmluZEluZGV4KG1lc3NhZ2UgPT4gbWVzc2FnZS5pZCA9PT0gbWVzc2FnZUlkKTtcblxuICAgIGlmIChtZXNzYWdlSW5kZXggPT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYG1lc3NhZ2UgJHttZXNzYWdlSWR9IG5vdCBmb3VuZGApO1xuICAgIH1cblxuICAgIC8vIHNldCB0aGUgbWVzc2FnZXMgdG8gdGhlIG1lc3NhZ2UgYmVmb3JlIHRoZSBhc3Npc3RhbnQgbWVzc2FnZVxuICAgIHRoaXMuc3RhdGUubWVzc2FnZXMgPSB0aGlzLnN0YXRlLm1lc3NhZ2VzLnNsaWNlKFxuICAgICAgMCxcbiAgICAgIC8vIGlmIHRoZSBtZXNzYWdlIGlzIGEgdXNlciBtZXNzYWdlLCB3ZSBuZWVkIHRvIGluY2x1ZGUgaXQgaW4gdGhlIHJlcXVlc3Q6XG4gICAgICB0aGlzLm1lc3NhZ2VzW21lc3NhZ2VJbmRleF0ucm9sZSA9PT0gJ2Fzc2lzdGFudCdcbiAgICAgICAgPyBtZXNzYWdlSW5kZXhcbiAgICAgICAgOiBtZXNzYWdlSW5kZXggKyAxLFxuICAgICk7XG5cbiAgICBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KHtcbiAgICAgIHRyaWdnZXI6ICdyZWdlbmVyYXRlLW1lc3NhZ2UnLFxuICAgICAgbWVzc2FnZUlkLFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQXR0ZW1wdCB0byByZXN1bWUgYW4gb25nb2luZyBzdHJlYW1pbmcgcmVzcG9uc2UuXG4gICAqL1xuICByZXN1bWVTdHJlYW0gPSBhc3luYyAob3B0aW9uczogQ2hhdFJlcXVlc3RPcHRpb25zID0ge30pOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KHsgdHJpZ2dlcjogJ3Jlc3VtZS1zdHJlYW0nLCAuLi5vcHRpb25zIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDbGVhciB0aGUgZXJyb3Igc3RhdGUgYW5kIHNldCB0aGUgc3RhdHVzIHRvIHJlYWR5IGlmIHRoZSBjaGF0IGlzIGluIGFuIGVycm9yIHN0YXRlLlxuICAgKi9cbiAgY2xlYXJFcnJvciA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0dXMgPT09ICdlcnJvcicpIHtcbiAgICAgIHRoaXMuc3RhdGUuZXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLnNldFN0YXR1cyh7IHN0YXR1czogJ3JlYWR5JyB9KTtcbiAgICB9XG4gIH07XG5cbiAgYWRkVG9vbFJlc3VsdCA9IGFzeW5jIDxUT09MIGV4dGVuZHMga2V5b2YgSW5mZXJVSU1lc3NhZ2VUb29sczxVSV9NRVNTQUdFPj4oe1xuICAgIHRvb2wsXG4gICAgdG9vbENhbGxJZCxcbiAgICBvdXRwdXQsXG4gIH06IHtcbiAgICB0b29sOiBUT09MO1xuICAgIHRvb2xDYWxsSWQ6IHN0cmluZztcbiAgICBvdXRwdXQ6IEluZmVyVUlNZXNzYWdlVG9vbHM8VUlfTUVTU0FHRT5bVE9PTF1bJ291dHB1dCddO1xuICB9KSA9PlxuICAgIHRoaXMuam9iRXhlY3V0b3IucnVuKGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gdGhpcy5zdGF0ZS5tZXNzYWdlcztcbiAgICAgIGNvbnN0IGxhc3RNZXNzYWdlID0gbWVzc2FnZXNbbWVzc2FnZXMubGVuZ3RoIC0gMV07XG5cbiAgICAgIHRoaXMuc3RhdGUucmVwbGFjZU1lc3NhZ2UobWVzc2FnZXMubGVuZ3RoIC0gMSwge1xuICAgICAgICAuLi5sYXN0TWVzc2FnZSxcbiAgICAgICAgcGFydHM6IGxhc3RNZXNzYWdlLnBhcnRzLm1hcChwYXJ0ID0+XG4gICAgICAgICAgaXNUb29sT3JEeW5hbWljVG9vbFVJUGFydChwYXJ0KSAmJiBwYXJ0LnRvb2xDYWxsSWQgPT09IHRvb2xDYWxsSWRcbiAgICAgICAgICAgID8geyAuLi5wYXJ0LCBzdGF0ZTogJ291dHB1dC1hdmFpbGFibGUnLCBvdXRwdXQgfVxuICAgICAgICAgICAgOiBwYXJ0LFxuICAgICAgICApLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIHVwZGF0ZSB0aGUgYWN0aXZlIHJlc3BvbnNlIGlmIGl0IGV4aXN0c1xuICAgICAgaWYgKHRoaXMuYWN0aXZlUmVzcG9uc2UpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVSZXNwb25zZS5zdGF0ZS5tZXNzYWdlLnBhcnRzID1cbiAgICAgICAgICB0aGlzLmFjdGl2ZVJlc3BvbnNlLnN0YXRlLm1lc3NhZ2UucGFydHMubWFwKHBhcnQgPT5cbiAgICAgICAgICAgIGlzVG9vbE9yRHluYW1pY1Rvb2xVSVBhcnQocGFydCkgJiYgcGFydC50b29sQ2FsbElkID09PSB0b29sQ2FsbElkXG4gICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgLi4ucGFydCxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnb3V0cHV0LWF2YWlsYWJsZScsXG4gICAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgICBlcnJvclRleHQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIDogcGFydCxcbiAgICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBhdXRvbWF0aWNhbGx5IHNlbmQgdGhlIG1lc3NhZ2UgaWYgdGhlIHNlbmRBdXRvbWF0aWNhbGx5V2hlbiBmdW5jdGlvbiByZXR1cm5zIHRydWVcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5zdGF0dXMgIT09ICdzdHJlYW1pbmcnICYmXG4gICAgICAgIHRoaXMuc3RhdHVzICE9PSAnc3VibWl0dGVkJyAmJlxuICAgICAgICB0aGlzLnNlbmRBdXRvbWF0aWNhbGx5V2hlbj8uKHsgbWVzc2FnZXM6IHRoaXMuc3RhdGUubWVzc2FnZXMgfSlcbiAgICAgICkge1xuICAgICAgICAvLyBubyBhd2FpdCB0byBhdm9pZCBkZWFkbG9ja2luZ1xuICAgICAgICB0aGlzLm1ha2VSZXF1ZXN0KHtcbiAgICAgICAgICB0cmlnZ2VyOiAnc3VibWl0LW1lc3NhZ2UnLFxuICAgICAgICAgIG1lc3NhZ2VJZDogdGhpcy5sYXN0TWVzc2FnZT8uaWQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIC8qKlxuICAgKiBBYm9ydCB0aGUgY3VycmVudCByZXF1ZXN0IGltbWVkaWF0ZWx5LCBrZWVwIHRoZSBnZW5lcmF0ZWQgdG9rZW5zIGlmIGFueS5cbiAgICovXG4gIHN0b3AgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdHVzICE9PSAnc3RyZWFtaW5nJyAmJiB0aGlzLnN0YXR1cyAhPT0gJ3N1Ym1pdHRlZCcpIHJldHVybjtcblxuICAgIGlmICh0aGlzLmFjdGl2ZVJlc3BvbnNlPy5hYm9ydENvbnRyb2xsZXIpIHtcbiAgICAgIHRoaXMuYWN0aXZlUmVzcG9uc2UuYWJvcnRDb250cm9sbGVyLmFib3J0KCk7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgYXN5bmMgbWFrZVJlcXVlc3Qoe1xuICAgIHRyaWdnZXIsXG4gICAgbWV0YWRhdGEsXG4gICAgaGVhZGVycyxcbiAgICBib2R5LFxuICAgIG1lc3NhZ2VJZCxcbiAgfToge1xuICAgIHRyaWdnZXI6ICdzdWJtaXQtbWVzc2FnZScgfCAncmVzdW1lLXN0cmVhbScgfCAncmVnZW5lcmF0ZS1tZXNzYWdlJztcbiAgICBtZXNzYWdlSWQ/OiBzdHJpbmc7XG4gIH0gJiBDaGF0UmVxdWVzdE9wdGlvbnMpIHtcbiAgICB0aGlzLnNldFN0YXR1cyh7IHN0YXR1czogJ3N1Ym1pdHRlZCcsIGVycm9yOiB1bmRlZmluZWQgfSk7XG5cbiAgICBjb25zdCBsYXN0TWVzc2FnZSA9IHRoaXMubGFzdE1lc3NhZ2U7XG5cbiAgICBsZXQgaXNBYm9ydCA9IGZhbHNlO1xuICAgIGxldCBpc0Rpc2Nvbm5lY3QgPSBmYWxzZTtcbiAgICBsZXQgaXNFcnJvciA9IGZhbHNlO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFjdGl2ZVJlc3BvbnNlID0ge1xuICAgICAgICBzdGF0ZTogY3JlYXRlU3RyZWFtaW5nVUlNZXNzYWdlU3RhdGUoe1xuICAgICAgICAgIGxhc3RNZXNzYWdlOiB0aGlzLnN0YXRlLnNuYXBzaG90KGxhc3RNZXNzYWdlKSxcbiAgICAgICAgICBtZXNzYWdlSWQ6IHRoaXMuZ2VuZXJhdGVJZCgpLFxuICAgICAgICB9KSxcbiAgICAgICAgYWJvcnRDb250cm9sbGVyOiBuZXcgQWJvcnRDb250cm9sbGVyKCksXG4gICAgICB9IGFzIEFjdGl2ZVJlc3BvbnNlPFVJX01FU1NBR0U+O1xuXG4gICAgICBhY3RpdmVSZXNwb25zZS5hYm9ydENvbnRyb2xsZXIuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4ge1xuICAgICAgICBpc0Fib3J0ID0gdHJ1ZTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmFjdGl2ZVJlc3BvbnNlID0gYWN0aXZlUmVzcG9uc2U7XG5cbiAgICAgIGxldCBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFVJTWVzc2FnZUNodW5rPjtcblxuICAgICAgaWYgKHRyaWdnZXIgPT09ICdyZXN1bWUtc3RyZWFtJykge1xuICAgICAgICBjb25zdCByZWNvbm5lY3QgPSBhd2FpdCB0aGlzLnRyYW5zcG9ydC5yZWNvbm5lY3RUb1N0cmVhbSh7XG4gICAgICAgICAgY2hhdElkOiB0aGlzLmlkLFxuICAgICAgICAgIG1ldGFkYXRhLFxuICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgYm9keSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJlY29ubmVjdCA9PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0dXMoeyBzdGF0dXM6ICdyZWFkeScgfSk7XG4gICAgICAgICAgcmV0dXJuOyAvLyBubyBhY3RpdmUgc3RyZWFtIGZvdW5kLCBzbyB3ZSBkbyBub3QgcmVzdW1lXG4gICAgICAgIH1cblxuICAgICAgICBzdHJlYW0gPSByZWNvbm5lY3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHJlYW0gPSBhd2FpdCB0aGlzLnRyYW5zcG9ydC5zZW5kTWVzc2FnZXMoe1xuICAgICAgICAgIGNoYXRJZDogdGhpcy5pZCxcbiAgICAgICAgICBtZXNzYWdlczogdGhpcy5zdGF0ZS5tZXNzYWdlcyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogYWN0aXZlUmVzcG9uc2UuYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgIGJvZHksXG4gICAgICAgICAgdHJpZ2dlcixcbiAgICAgICAgICBtZXNzYWdlSWQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBydW5VcGRhdGVNZXNzYWdlSm9iID0gKFxuICAgICAgICBqb2I6IChvcHRpb25zOiB7XG4gICAgICAgICAgc3RhdGU6IFN0cmVhbWluZ1VJTWVzc2FnZVN0YXRlPFVJX01FU1NBR0U+O1xuICAgICAgICAgIHdyaXRlOiAoKSA9PiB2b2lkO1xuICAgICAgICB9KSA9PiBQcm9taXNlPHZvaWQ+LFxuICAgICAgKSA9PlxuICAgICAgICAvLyBzZXJpYWxpemUgdGhlIGpvYiBleGVjdXRpb24gdG8gYXZvaWQgcmFjZSBjb25kaXRpb25zOlxuICAgICAgICB0aGlzLmpvYkV4ZWN1dG9yLnJ1bigoKSA9PlxuICAgICAgICAgIGpvYih7XG4gICAgICAgICAgICBzdGF0ZTogYWN0aXZlUmVzcG9uc2Uuc3RhdGUsXG4gICAgICAgICAgICB3cml0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAvLyBzdHJlYW1pbmcgaXMgc2V0IG9uIGZpcnN0IHdyaXRlIChiZWZvcmUgaXQgc2hvdWxkIGJlIFwic3VibWl0dGVkXCIpXG4gICAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKHsgc3RhdHVzOiAnc3RyZWFtaW5nJyB9KTtcblxuICAgICAgICAgICAgICBjb25zdCByZXBsYWNlTGFzdE1lc3NhZ2UgPVxuICAgICAgICAgICAgICAgIGFjdGl2ZVJlc3BvbnNlLnN0YXRlLm1lc3NhZ2UuaWQgPT09IHRoaXMubGFzdE1lc3NhZ2U/LmlkO1xuXG4gICAgICAgICAgICAgIGlmIChyZXBsYWNlTGFzdE1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnJlcGxhY2VNZXNzYWdlKFxuICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5tZXNzYWdlcy5sZW5ndGggLSAxLFxuICAgICAgICAgICAgICAgICAgYWN0aXZlUmVzcG9uc2Uuc3RhdGUubWVzc2FnZSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUucHVzaE1lc3NhZ2UoYWN0aXZlUmVzcG9uc2Uuc3RhdGUubWVzc2FnZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgICk7XG5cbiAgICAgIGF3YWl0IGNvbnN1bWVTdHJlYW0oe1xuICAgICAgICBzdHJlYW06IHByb2Nlc3NVSU1lc3NhZ2VTdHJlYW0oe1xuICAgICAgICAgIHN0cmVhbSxcbiAgICAgICAgICBvblRvb2xDYWxsOiB0aGlzLm9uVG9vbENhbGwsXG4gICAgICAgICAgb25EYXRhOiB0aGlzLm9uRGF0YSxcbiAgICAgICAgICBtZXNzYWdlTWV0YWRhdGFTY2hlbWE6IHRoaXMubWVzc2FnZU1ldGFkYXRhU2NoZW1hLFxuICAgICAgICAgIGRhdGFQYXJ0U2NoZW1hczogdGhpcy5kYXRhUGFydFNjaGVtYXMsXG4gICAgICAgICAgcnVuVXBkYXRlTWVzc2FnZUpvYixcbiAgICAgICAgICBvbkVycm9yOiBlcnJvciA9PiB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICAgb25FcnJvcjogZXJyb3IgPT4ge1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuc2V0U3RhdHVzKHsgc3RhdHVzOiAncmVhZHknIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gSWdub3JlIGFib3J0IGVycm9ycyBhcyB0aGV5IGFyZSBleHBlY3RlZC5cbiAgICAgIGlmIChpc0Fib3J0IHx8IChlcnIgYXMgYW55KS5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgaXNBYm9ydCA9IHRydWU7XG4gICAgICAgIHRoaXMuc2V0U3RhdHVzKHsgc3RhdHVzOiAncmVhZHknIH0pO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaXNFcnJvciA9IHRydWU7XG5cbiAgICAgIC8vIE5ldHdvcmsgZXJyb3JzIHN1Y2ggYXMgZGlzY29ubmVjdGVkLCB0aW1lb3V0LCBldGMuXG4gICAgICBpZiAoXG4gICAgICAgIGVyciBpbnN0YW5jZW9mIFR5cGVFcnJvciAmJlxuICAgICAgICAoZXJyLm1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZmV0Y2gnKSB8fFxuICAgICAgICAgIGVyci5tZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ25ldHdvcmsnKSlcbiAgICAgICkge1xuICAgICAgICBpc0Rpc2Nvbm5lY3QgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vbkVycm9yICYmIGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHRoaXMub25FcnJvcihlcnIpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFN0YXR1cyh7IHN0YXR1czogJ2Vycm9yJywgZXJyb3I6IGVyciBhcyBFcnJvciB9KTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5vbkZpbmlzaD8uKHtcbiAgICAgICAgICBtZXNzYWdlOiB0aGlzLmFjdGl2ZVJlc3BvbnNlIS5zdGF0ZS5tZXNzYWdlLFxuICAgICAgICAgIG1lc3NhZ2VzOiB0aGlzLnN0YXRlLm1lc3NhZ2VzLFxuICAgICAgICAgIGlzQWJvcnQsXG4gICAgICAgICAgaXNEaXNjb25uZWN0LFxuICAgICAgICAgIGlzRXJyb3IsXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5hY3RpdmVSZXNwb25zZSA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvLyBhdXRvbWF0aWNhbGx5IHNlbmQgdGhlIG1lc3NhZ2UgaWYgdGhlIHNlbmRBdXRvbWF0aWNhbGx5V2hlbiBmdW5jdGlvbiByZXR1cm5zIHRydWVcbiAgICBpZiAodGhpcy5zZW5kQXV0b21hdGljYWxseVdoZW4/Lih7IG1lc3NhZ2VzOiB0aGlzLnN0YXRlLm1lc3NhZ2VzIH0pKSB7XG4gICAgICBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KHtcbiAgICAgICAgdHJpZ2dlcjogJ3N1Ym1pdC1tZXNzYWdlJyxcbiAgICAgICAgbWVzc2FnZUlkOiB0aGlzLmxhc3RNZXNzYWdlPy5pZCxcbiAgICAgICAgbWV0YWRhdGEsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIGJvZHksXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBGaWxlVUlQYXJ0IH0gZnJvbSAnLi91aS1tZXNzYWdlcyc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb252ZXJ0RmlsZUxpc3RUb0ZpbGVVSVBhcnRzKFxuICBmaWxlczogRmlsZUxpc3QgfCB1bmRlZmluZWQsXG4pOiBQcm9taXNlPEFycmF5PEZpbGVVSVBhcnQ+PiB7XG4gIGlmIChmaWxlcyA9PSBudWxsKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgLy8gUmVhY3QtbmF0aXZlIGRvZXNuJ3QgaGF2ZSBhIEZpbGVMaXN0IGdsb2JhbDpcbiAgaWYgKCFnbG9iYWxUaGlzLkZpbGVMaXN0IHx8ICEoZmlsZXMgaW5zdGFuY2VvZiBnbG9iYWxUaGlzLkZpbGVMaXN0KSkge1xuICAgIHRocm93IG5ldyBFcnJvcignRmlsZUxpc3QgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGUgY3VycmVudCBlbnZpcm9ubWVudCcpO1xuICB9XG5cbiAgcmV0dXJuIFByb21pc2UuYWxsKFxuICAgIEFycmF5LmZyb20oZmlsZXMpLm1hcChhc3luYyBmaWxlID0+IHtcbiAgICAgIGNvbnN0IHsgbmFtZSwgdHlwZSB9ID0gZmlsZTtcblxuICAgICAgY29uc3QgZGF0YVVybCA9IGF3YWl0IG5ldyBQcm9taXNlPHN0cmluZz4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIub25sb2FkID0gcmVhZGVyRXZlbnQgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVhZGVyRXZlbnQudGFyZ2V0Py5yZXN1bHQgYXMgc3RyaW5nKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSBlcnJvciA9PiByZWplY3QoZXJyb3IpO1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnZmlsZScsXG4gICAgICAgIG1lZGlhVHlwZTogdHlwZSxcbiAgICAgICAgZmlsZW5hbWU6IG5hbWUsXG4gICAgICAgIHVybDogZGF0YVVybCxcbiAgICAgIH07XG4gICAgfSksXG4gICk7XG59XG4iLCAiaW1wb3J0IHsgcGFyc2VKc29uRXZlbnRTdHJlYW0sIFBhcnNlUmVzdWx0IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQge1xuICBVSU1lc3NhZ2VDaHVuayxcbiAgdWlNZXNzYWdlQ2h1bmtTY2hlbWEsXG59IGZyb20gJy4uL3VpLW1lc3NhZ2Utc3RyZWFtL3VpLW1lc3NhZ2UtY2h1bmtzJztcbmltcG9ydCB7XG4gIEh0dHBDaGF0VHJhbnNwb3J0LFxuICBIdHRwQ2hhdFRyYW5zcG9ydEluaXRPcHRpb25zLFxufSBmcm9tICcuL2h0dHAtY2hhdC10cmFuc3BvcnQnO1xuaW1wb3J0IHsgVUlNZXNzYWdlIH0gZnJvbSAnLi91aS1tZXNzYWdlcyc7XG5cbmV4cG9ydCBjbGFzcyBEZWZhdWx0Q2hhdFRyYW5zcG9ydDxcbiAgVUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZSxcbj4gZXh0ZW5kcyBIdHRwQ2hhdFRyYW5zcG9ydDxVSV9NRVNTQUdFPiB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IEh0dHBDaGF0VHJhbnNwb3J0SW5pdE9wdGlvbnM8VUlfTUVTU0FHRT4gPSB7fSkge1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHByb2Nlc3NSZXNwb25zZVN0cmVhbShcbiAgICBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFVpbnQ4QXJyYXk8QXJyYXlCdWZmZXJMaWtlPj4sXG4gICk6IFJlYWRhYmxlU3RyZWFtPFVJTWVzc2FnZUNodW5rPiB7XG4gICAgcmV0dXJuIHBhcnNlSnNvbkV2ZW50U3RyZWFtKHtcbiAgICAgIHN0cmVhbSxcbiAgICAgIHNjaGVtYTogdWlNZXNzYWdlQ2h1bmtTY2hlbWEsXG4gICAgfSkucGlwZVRocm91Z2goXG4gICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPFBhcnNlUmVzdWx0PFVJTWVzc2FnZUNodW5rPiwgVUlNZXNzYWdlQ2h1bms+KHtcbiAgICAgICAgYXN5bmMgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgaWYgKCFjaHVuay5zdWNjZXNzKSB7XG4gICAgICAgICAgICB0aHJvdyBjaHVuay5lcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rLnZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBGZXRjaEZ1bmN0aW9uLCBSZXNvbHZhYmxlLCByZXNvbHZlIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBVSU1lc3NhZ2VDaHVuayB9IGZyb20gJy4uL3VpLW1lc3NhZ2Utc3RyZWFtL3VpLW1lc3NhZ2UtY2h1bmtzJztcbmltcG9ydCB7IENoYXRUcmFuc3BvcnQgfSBmcm9tICcuL2NoYXQtdHJhbnNwb3J0JztcbmltcG9ydCB7IFVJTWVzc2FnZSB9IGZyb20gJy4vdWktbWVzc2FnZXMnO1xuXG5leHBvcnQgdHlwZSBQcmVwYXJlU2VuZE1lc3NhZ2VzUmVxdWVzdDxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPiA9IChcbiAgb3B0aW9uczoge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbWVzc2FnZXM6IFVJX01FU1NBR0VbXTtcbiAgICByZXF1ZXN0TWV0YWRhdGE6IHVua25vd247XG4gICAgYm9keTogUmVjb3JkPHN0cmluZywgYW55PiB8IHVuZGVmaW5lZDtcbiAgICBjcmVkZW50aWFsczogUmVxdWVzdENyZWRlbnRpYWxzIHwgdW5kZWZpbmVkO1xuICAgIGhlYWRlcnM6IEhlYWRlcnNJbml0IHwgdW5kZWZpbmVkO1xuICAgIGFwaTogc3RyaW5nO1xuICB9ICYge1xuICAgIHRyaWdnZXI6ICdzdWJtaXQtbWVzc2FnZScgfCAncmVnZW5lcmF0ZS1tZXNzYWdlJztcbiAgICBtZXNzYWdlSWQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgfSxcbikgPT5cbiAgfCB7XG4gICAgICBib2R5OiBvYmplY3Q7XG4gICAgICBoZWFkZXJzPzogSGVhZGVyc0luaXQ7XG4gICAgICBjcmVkZW50aWFscz86IFJlcXVlc3RDcmVkZW50aWFscztcbiAgICAgIGFwaT86IHN0cmluZztcbiAgICB9XG4gIHwgUHJvbWlzZUxpa2U8e1xuICAgICAgYm9keTogb2JqZWN0O1xuICAgICAgaGVhZGVycz86IEhlYWRlcnNJbml0O1xuICAgICAgY3JlZGVudGlhbHM/OiBSZXF1ZXN0Q3JlZGVudGlhbHM7XG4gICAgICBhcGk/OiBzdHJpbmc7XG4gICAgfT47XG5cbmV4cG9ydCB0eXBlIFByZXBhcmVSZWNvbm5lY3RUb1N0cmVhbVJlcXVlc3QgPSAob3B0aW9uczoge1xuICBpZDogc3RyaW5nO1xuICByZXF1ZXN0TWV0YWRhdGE6IHVua25vd247XG4gIGJvZHk6IFJlY29yZDxzdHJpbmcsIGFueT4gfCB1bmRlZmluZWQ7XG4gIGNyZWRlbnRpYWxzOiBSZXF1ZXN0Q3JlZGVudGlhbHMgfCB1bmRlZmluZWQ7XG4gIGhlYWRlcnM6IEhlYWRlcnNJbml0IHwgdW5kZWZpbmVkO1xuICBhcGk6IHN0cmluZztcbn0pID0+XG4gIHwge1xuICAgICAgaGVhZGVycz86IEhlYWRlcnNJbml0O1xuICAgICAgY3JlZGVudGlhbHM/OiBSZXF1ZXN0Q3JlZGVudGlhbHM7XG4gICAgICBhcGk/OiBzdHJpbmc7XG4gICAgfVxuICB8IFByb21pc2VMaWtlPHtcbiAgICAgIGhlYWRlcnM/OiBIZWFkZXJzSW5pdDtcbiAgICAgIGNyZWRlbnRpYWxzPzogUmVxdWVzdENyZWRlbnRpYWxzO1xuICAgICAgYXBpPzogc3RyaW5nO1xuICAgIH0+O1xuXG4vKipcbiAqIE9wdGlvbnMgZm9yIHRoZSBgSHR0cENoYXRUcmFuc3BvcnRgIGNsYXNzLlxuICpcbiAqIEBwYXJhbSBVSV9NRVNTQUdFIC0gVGhlIHR5cGUgb2YgbWVzc2FnZSB0byBiZSB1c2VkIGluIHRoZSBjaGF0LlxuICovXG5leHBvcnQgdHlwZSBIdHRwQ2hhdFRyYW5zcG9ydEluaXRPcHRpb25zPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+ID0ge1xuICAvKipcbiAgICogVGhlIEFQSSBVUkwgdG8gYmUgdXNlZCBmb3IgdGhlIGNoYXQgdHJhbnNwb3J0LlxuICAgKiBEZWZhdWx0cyB0byAnL2FwaS9jaGF0Jy5cbiAgICovXG4gIGFwaT86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGNyZWRlbnRpYWxzIG1vZGUgdG8gYmUgdXNlZCBmb3IgdGhlIGZldGNoIHJlcXVlc3QuXG4gICAqIFBvc3NpYmxlIHZhbHVlcyBhcmU6ICdvbWl0JywgJ3NhbWUtb3JpZ2luJywgJ2luY2x1ZGUnLlxuICAgKiBEZWZhdWx0cyB0byAnc2FtZS1vcmlnaW4nLlxuICAgKi9cbiAgY3JlZGVudGlhbHM/OiBSZXNvbHZhYmxlPFJlcXVlc3RDcmVkZW50aWFscz47XG5cbiAgLyoqXG4gICAqIEhUVFAgaGVhZGVycyB0byBiZSBzZW50IHdpdGggdGhlIEFQSSByZXF1ZXN0LlxuICAgKi9cbiAgaGVhZGVycz86IFJlc29sdmFibGU8UmVjb3JkPHN0cmluZywgc3RyaW5nPiB8IEhlYWRlcnM+O1xuXG4gIC8qKlxuICAgKiBFeHRyYSBib2R5IG9iamVjdCB0byBiZSBzZW50IHdpdGggdGhlIEFQSSByZXF1ZXN0LlxuICAgKiBAZXhhbXBsZVxuICAgKiBTZW5kIGEgYHNlc3Npb25JZGAgdG8gdGhlIEFQSSBhbG9uZyB3aXRoIHRoZSBtZXNzYWdlcy5cbiAgICogYGBganNcbiAgICogdXNlQ2hhdCh7XG4gICAqICAgYm9keToge1xuICAgKiAgICAgc2Vzc2lvbklkOiAnMTIzJyxcbiAgICogICB9XG4gICAqIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgYm9keT86IFJlc29sdmFibGU8b2JqZWN0PjtcblxuICAvKipcbiAgQ3VzdG9tIGZldGNoIGltcGxlbWVudGF0aW9uLiBZb3UgY2FuIHVzZSBpdCBhcyBhIG1pZGRsZXdhcmUgdG8gaW50ZXJjZXB0IHJlcXVlc3RzLFxuICBvciB0byBwcm92aWRlIGEgY3VzdG9tIGZldGNoIGltcGxlbWVudGF0aW9uIGZvciBlLmcuIHRlc3RpbmcuXG4gICAgICAqL1xuICBmZXRjaD86IEZldGNoRnVuY3Rpb247XG5cbiAgLyoqXG4gICAqIFdoZW4gYSBmdW5jdGlvbiBpcyBwcm92aWRlZCwgaXQgd2lsbCBiZSB1c2VkXG4gICAqIHRvIHByZXBhcmUgdGhlIHJlcXVlc3QgYm9keSBmb3IgdGhlIGNoYXQgQVBJLiBUaGlzIGNhbiBiZSB1c2VmdWwgZm9yXG4gICAqIGN1c3RvbWl6aW5nIHRoZSByZXF1ZXN0IGJvZHkgYmFzZWQgb24gdGhlIG1lc3NhZ2VzIGFuZCBkYXRhIGluIHRoZSBjaGF0LlxuICAgKlxuICAgKiBAcGFyYW0gaWQgVGhlIGlkIG9mIHRoZSBjaGF0LlxuICAgKiBAcGFyYW0gbWVzc2FnZXMgVGhlIGN1cnJlbnQgbWVzc2FnZXMgaW4gdGhlIGNoYXQuXG4gICAqIEBwYXJhbSByZXF1ZXN0Qm9keSBUaGUgcmVxdWVzdCBib2R5IG9iamVjdCBwYXNzZWQgaW4gdGhlIGNoYXQgcmVxdWVzdC5cbiAgICovXG4gIHByZXBhcmVTZW5kTWVzc2FnZXNSZXF1ZXN0PzogUHJlcGFyZVNlbmRNZXNzYWdlc1JlcXVlc3Q8VUlfTUVTU0FHRT47XG5cbiAgLyoqXG4gICAqIFdoZW4gYSBmdW5jdGlvbiBpcyBwcm92aWRlZCwgaXQgd2lsbCBiZSB1c2VkXG4gICAqIHRvIHByZXBhcmUgdGhlIHJlcXVlc3QgYm9keSBmb3IgdGhlIGNoYXQgQVBJLiBUaGlzIGNhbiBiZSB1c2VmdWwgZm9yXG4gICAqIGN1c3RvbWl6aW5nIHRoZSByZXF1ZXN0IGJvZHkgYmFzZWQgb24gdGhlIG1lc3NhZ2VzIGFuZCBkYXRhIGluIHRoZSBjaGF0LlxuICAgKlxuICAgKiBAcGFyYW0gaWQgVGhlIGlkIG9mIHRoZSBjaGF0LlxuICAgKiBAcGFyYW0gbWVzc2FnZXMgVGhlIGN1cnJlbnQgbWVzc2FnZXMgaW4gdGhlIGNoYXQuXG4gICAqIEBwYXJhbSByZXF1ZXN0Qm9keSBUaGUgcmVxdWVzdCBib2R5IG9iamVjdCBwYXNzZWQgaW4gdGhlIGNoYXQgcmVxdWVzdC5cbiAgICovXG4gIHByZXBhcmVSZWNvbm5lY3RUb1N0cmVhbVJlcXVlc3Q/OiBQcmVwYXJlUmVjb25uZWN0VG9TdHJlYW1SZXF1ZXN0O1xufTtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEh0dHBDaGF0VHJhbnNwb3J0PFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+XG4gIGltcGxlbWVudHMgQ2hhdFRyYW5zcG9ydDxVSV9NRVNTQUdFPlxue1xuICBwcm90ZWN0ZWQgYXBpOiBzdHJpbmc7XG4gIHByb3RlY3RlZCBjcmVkZW50aWFsczogSHR0cENoYXRUcmFuc3BvcnRJbml0T3B0aW9uczxVSV9NRVNTQUdFPlsnY3JlZGVudGlhbHMnXTtcbiAgcHJvdGVjdGVkIGhlYWRlcnM6IEh0dHBDaGF0VHJhbnNwb3J0SW5pdE9wdGlvbnM8VUlfTUVTU0FHRT5bJ2hlYWRlcnMnXTtcbiAgcHJvdGVjdGVkIGJvZHk6IEh0dHBDaGF0VHJhbnNwb3J0SW5pdE9wdGlvbnM8VUlfTUVTU0FHRT5bJ2JvZHknXTtcbiAgcHJvdGVjdGVkIGZldGNoPzogRmV0Y2hGdW5jdGlvbjtcbiAgcHJvdGVjdGVkIHByZXBhcmVTZW5kTWVzc2FnZXNSZXF1ZXN0PzogUHJlcGFyZVNlbmRNZXNzYWdlc1JlcXVlc3Q8VUlfTUVTU0FHRT47XG4gIHByb3RlY3RlZCBwcmVwYXJlUmVjb25uZWN0VG9TdHJlYW1SZXF1ZXN0PzogUHJlcGFyZVJlY29ubmVjdFRvU3RyZWFtUmVxdWVzdDtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgYXBpID0gJy9hcGkvY2hhdCcsXG4gICAgY3JlZGVudGlhbHMsXG4gICAgaGVhZGVycyxcbiAgICBib2R5LFxuICAgIGZldGNoLFxuICAgIHByZXBhcmVTZW5kTWVzc2FnZXNSZXF1ZXN0LFxuICAgIHByZXBhcmVSZWNvbm5lY3RUb1N0cmVhbVJlcXVlc3QsXG4gIH06IEh0dHBDaGF0VHJhbnNwb3J0SW5pdE9wdGlvbnM8VUlfTUVTU0FHRT4pIHtcbiAgICB0aGlzLmFwaSA9IGFwaTtcbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gY3JlZGVudGlhbHM7XG4gICAgdGhpcy5oZWFkZXJzID0gaGVhZGVycztcbiAgICB0aGlzLmJvZHkgPSBib2R5O1xuICAgIHRoaXMuZmV0Y2ggPSBmZXRjaDtcbiAgICB0aGlzLnByZXBhcmVTZW5kTWVzc2FnZXNSZXF1ZXN0ID0gcHJlcGFyZVNlbmRNZXNzYWdlc1JlcXVlc3Q7XG4gICAgdGhpcy5wcmVwYXJlUmVjb25uZWN0VG9TdHJlYW1SZXF1ZXN0ID0gcHJlcGFyZVJlY29ubmVjdFRvU3RyZWFtUmVxdWVzdDtcbiAgfVxuXG4gIGFzeW5jIHNlbmRNZXNzYWdlcyh7XG4gICAgYWJvcnRTaWduYWwsXG4gICAgLi4ub3B0aW9uc1xuICB9OiBQYXJhbWV0ZXJzPENoYXRUcmFuc3BvcnQ8VUlfTUVTU0FHRT5bJ3NlbmRNZXNzYWdlcyddPlswXSkge1xuICAgIGNvbnN0IHJlc29sdmVkQm9keSA9IGF3YWl0IHJlc29sdmUodGhpcy5ib2R5KTtcbiAgICBjb25zdCByZXNvbHZlZEhlYWRlcnMgPSBhd2FpdCByZXNvbHZlKHRoaXMuaGVhZGVycyk7XG4gICAgY29uc3QgcmVzb2x2ZWRDcmVkZW50aWFscyA9IGF3YWl0IHJlc29sdmUodGhpcy5jcmVkZW50aWFscyk7XG5cbiAgICBjb25zdCBwcmVwYXJlZFJlcXVlc3QgPSBhd2FpdCB0aGlzLnByZXBhcmVTZW5kTWVzc2FnZXNSZXF1ZXN0Py4oe1xuICAgICAgYXBpOiB0aGlzLmFwaSxcbiAgICAgIGlkOiBvcHRpb25zLmNoYXRJZCxcbiAgICAgIG1lc3NhZ2VzOiBvcHRpb25zLm1lc3NhZ2VzLFxuICAgICAgYm9keTogeyAuLi5yZXNvbHZlZEJvZHksIC4uLm9wdGlvbnMuYm9keSB9LFxuICAgICAgaGVhZGVyczogeyAuLi5yZXNvbHZlZEhlYWRlcnMsIC4uLm9wdGlvbnMuaGVhZGVycyB9LFxuICAgICAgY3JlZGVudGlhbHM6IHJlc29sdmVkQ3JlZGVudGlhbHMsXG4gICAgICByZXF1ZXN0TWV0YWRhdGE6IG9wdGlvbnMubWV0YWRhdGEsXG4gICAgICB0cmlnZ2VyOiBvcHRpb25zLnRyaWdnZXIsXG4gICAgICBtZXNzYWdlSWQ6IG9wdGlvbnMubWVzc2FnZUlkLFxuICAgIH0pO1xuXG4gICAgY29uc3QgYXBpID0gcHJlcGFyZWRSZXF1ZXN0Py5hcGkgPz8gdGhpcy5hcGk7XG4gICAgY29uc3QgaGVhZGVycyA9XG4gICAgICBwcmVwYXJlZFJlcXVlc3Q/LmhlYWRlcnMgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHByZXBhcmVkUmVxdWVzdC5oZWFkZXJzXG4gICAgICAgIDogeyAuLi5yZXNvbHZlZEhlYWRlcnMsIC4uLm9wdGlvbnMuaGVhZGVycyB9O1xuICAgIGNvbnN0IGJvZHkgPVxuICAgICAgcHJlcGFyZWRSZXF1ZXN0Py5ib2R5ICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBwcmVwYXJlZFJlcXVlc3QuYm9keVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIC4uLnJlc29sdmVkQm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMuYm9keSxcbiAgICAgICAgICAgIGlkOiBvcHRpb25zLmNoYXRJZCxcbiAgICAgICAgICAgIG1lc3NhZ2VzOiBvcHRpb25zLm1lc3NhZ2VzLFxuICAgICAgICAgICAgdHJpZ2dlcjogb3B0aW9ucy50cmlnZ2VyLFxuICAgICAgICAgICAgbWVzc2FnZUlkOiBvcHRpb25zLm1lc3NhZ2VJZCxcbiAgICAgICAgICB9O1xuICAgIGNvbnN0IGNyZWRlbnRpYWxzID0gcHJlcGFyZWRSZXF1ZXN0Py5jcmVkZW50aWFscyA/PyByZXNvbHZlZENyZWRlbnRpYWxzO1xuXG4gICAgLy8gYXZvaWQgY2FjaGluZyBnbG9iYWxUaGlzLmZldGNoIGluIGNhc2UgaXQgaXMgcGF0Y2hlZCBieSBvdGhlciBsaWJyYXJpZXNcbiAgICBjb25zdCBmZXRjaCA9IHRoaXMuZmV0Y2ggPz8gZ2xvYmFsVGhpcy5mZXRjaDtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYXBpLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgLi4uaGVhZGVycyxcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgIGNyZWRlbnRpYWxzLFxuICAgICAgc2lnbmFsOiBhYm9ydFNpZ25hbCxcbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgKGF3YWl0IHJlc3BvbnNlLnRleHQoKSkgPz8gJ0ZhaWxlZCB0byBmZXRjaCB0aGUgY2hhdCByZXNwb25zZS4nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlLmJvZHkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHJlc3BvbnNlIGJvZHkgaXMgZW1wdHkuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucHJvY2Vzc1Jlc3BvbnNlU3RyZWFtKHJlc3BvbnNlLmJvZHkpO1xuICB9XG5cbiAgYXN5bmMgcmVjb25uZWN0VG9TdHJlYW0oXG4gICAgb3B0aW9uczogUGFyYW1ldGVyczxDaGF0VHJhbnNwb3J0PFVJX01FU1NBR0U+WydyZWNvbm5lY3RUb1N0cmVhbSddPlswXSxcbiAgKTogUHJvbWlzZTxSZWFkYWJsZVN0cmVhbTxVSU1lc3NhZ2VDaHVuaz4gfCBudWxsPiB7XG4gICAgY29uc3QgcmVzb2x2ZWRCb2R5ID0gYXdhaXQgcmVzb2x2ZSh0aGlzLmJvZHkpO1xuICAgIGNvbnN0IHJlc29sdmVkSGVhZGVycyA9IGF3YWl0IHJlc29sdmUodGhpcy5oZWFkZXJzKTtcbiAgICBjb25zdCByZXNvbHZlZENyZWRlbnRpYWxzID0gYXdhaXQgcmVzb2x2ZSh0aGlzLmNyZWRlbnRpYWxzKTtcblxuICAgIGNvbnN0IHByZXBhcmVkUmVxdWVzdCA9IGF3YWl0IHRoaXMucHJlcGFyZVJlY29ubmVjdFRvU3RyZWFtUmVxdWVzdD8uKHtcbiAgICAgIGFwaTogdGhpcy5hcGksXG4gICAgICBpZDogb3B0aW9ucy5jaGF0SWQsXG4gICAgICBib2R5OiB7IC4uLnJlc29sdmVkQm9keSwgLi4ub3B0aW9ucy5ib2R5IH0sXG4gICAgICBoZWFkZXJzOiB7IC4uLnJlc29sdmVkSGVhZGVycywgLi4ub3B0aW9ucy5oZWFkZXJzIH0sXG4gICAgICBjcmVkZW50aWFsczogcmVzb2x2ZWRDcmVkZW50aWFscyxcbiAgICAgIHJlcXVlc3RNZXRhZGF0YTogb3B0aW9ucy5tZXRhZGF0YSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGFwaSA9IHByZXBhcmVkUmVxdWVzdD8uYXBpID8/IGAke3RoaXMuYXBpfS8ke29wdGlvbnMuY2hhdElkfS9zdHJlYW1gO1xuICAgIGNvbnN0IGhlYWRlcnMgPVxuICAgICAgcHJlcGFyZWRSZXF1ZXN0Py5oZWFkZXJzICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBwcmVwYXJlZFJlcXVlc3QuaGVhZGVyc1xuICAgICAgICA6IHsgLi4ucmVzb2x2ZWRIZWFkZXJzLCAuLi5vcHRpb25zLmhlYWRlcnMgfTtcbiAgICBjb25zdCBjcmVkZW50aWFscyA9IHByZXBhcmVkUmVxdWVzdD8uY3JlZGVudGlhbHMgPz8gcmVzb2x2ZWRDcmVkZW50aWFscztcblxuICAgIC8vIGF2b2lkIGNhY2hpbmcgZ2xvYmFsVGhpcy5mZXRjaCBpbiBjYXNlIGl0IGlzIHBhdGNoZWQgYnkgb3RoZXIgbGlicmFyaWVzXG4gICAgY29uc3QgZmV0Y2ggPSB0aGlzLmZldGNoID8/IGdsb2JhbFRoaXMuZmV0Y2g7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFwaSwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnMsXG4gICAgICBjcmVkZW50aWFscyxcbiAgICB9KTtcblxuICAgIC8vIG5vIGFjdGl2ZSBzdHJlYW0gZm91bmQsIHNvIHdlIGRvIG5vdCByZXN1bWVcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgKGF3YWl0IHJlc3BvbnNlLnRleHQoKSkgPz8gJ0ZhaWxlZCB0byBmZXRjaCB0aGUgY2hhdCByZXNwb25zZS4nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlLmJvZHkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHJlc3BvbnNlIGJvZHkgaXMgZW1wdHkuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucHJvY2Vzc1Jlc3BvbnNlU3RyZWFtKHJlc3BvbnNlLmJvZHkpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFic3RyYWN0IHByb2Nlc3NSZXNwb25zZVN0cmVhbShcbiAgICBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFVpbnQ4QXJyYXk8QXJyYXlCdWZmZXJMaWtlPj4sXG4gICk6IFJlYWRhYmxlU3RyZWFtPFVJTWVzc2FnZUNodW5rPjtcbn1cbiIsICJpbXBvcnQgeyBpc1Rvb2xPckR5bmFtaWNUb29sVUlQYXJ0LCBVSU1lc3NhZ2UgfSBmcm9tICcuL3VpLW1lc3NhZ2VzJztcblxuLyoqXG5DaGVjayBpZiB0aGUgbWVzc2FnZSBpcyBhbiBhc3Npc3RhbnQgbWVzc2FnZSB3aXRoIGNvbXBsZXRlZCB0b29sIGNhbGxzLlxuVGhlIGxhc3Qgc3RlcCBvZiB0aGUgbWVzc2FnZSBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIHRvb2wgaW52b2NhdGlvbiBhbmRcbmFsbCB0b29sIGludm9jYXRpb25zIG11c3QgaGF2ZSBhIHJlc3VsdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxhc3RBc3Npc3RhbnRNZXNzYWdlSXNDb21wbGV0ZVdpdGhUb29sQ2FsbHMoe1xuICBtZXNzYWdlcyxcbn06IHtcbiAgbWVzc2FnZXM6IFVJTWVzc2FnZVtdO1xufSk6IGJvb2xlYW4ge1xuICBjb25zdCBtZXNzYWdlID0gbWVzc2FnZXNbbWVzc2FnZXMubGVuZ3RoIC0gMV07XG5cbiAgaWYgKCFtZXNzYWdlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKG1lc3NhZ2Uucm9sZSAhPT0gJ2Fzc2lzdGFudCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBsYXN0U3RlcFN0YXJ0SW5kZXggPSBtZXNzYWdlLnBhcnRzLnJlZHVjZSgobGFzdEluZGV4LCBwYXJ0LCBpbmRleCkgPT4ge1xuICAgIHJldHVybiBwYXJ0LnR5cGUgPT09ICdzdGVwLXN0YXJ0JyA/IGluZGV4IDogbGFzdEluZGV4O1xuICB9LCAtMSk7XG5cbiAgY29uc3QgbGFzdFN0ZXBUb29sSW52b2NhdGlvbnMgPSBtZXNzYWdlLnBhcnRzXG4gICAgLnNsaWNlKGxhc3RTdGVwU3RhcnRJbmRleCArIDEpXG4gICAgLmZpbHRlcihpc1Rvb2xPckR5bmFtaWNUb29sVUlQYXJ0KTtcblxuICByZXR1cm4gKFxuICAgIGxhc3RTdGVwVG9vbEludm9jYXRpb25zLmxlbmd0aCA+IDAgJiZcbiAgICBsYXN0U3RlcFRvb2xJbnZvY2F0aW9ucy5ldmVyeShwYXJ0ID0+IHBhcnQuc3RhdGUgPT09ICdvdXRwdXQtYXZhaWxhYmxlJylcbiAgKTtcbn1cbiIsICJpbXBvcnQgeyBVSU1lc3NhZ2VDaHVuayB9IGZyb20gJy4uL3VpLW1lc3NhZ2Utc3RyZWFtL3VpLW1lc3NhZ2UtY2h1bmtzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybVRleHRUb1VpTWVzc2FnZVN0cmVhbSh7XG4gIHN0cmVhbSxcbn06IHtcbiAgc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxzdHJpbmc+O1xufSkge1xuICByZXR1cm4gc3RyZWFtLnBpcGVUaHJvdWdoKFxuICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08c3RyaW5nLCBVSU1lc3NhZ2VDaHVuaz4oe1xuICAgICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAnc3RhcnQnIH0pO1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAnc3RhcnQtc3RlcCcgfSk7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICd0ZXh0LXN0YXJ0JywgaWQ6ICd0ZXh0LTEnIH0pO1xuICAgICAgfSxcblxuICAgICAgYXN5bmMgdHJhbnNmb3JtKHBhcnQsIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ3RleHQtZGVsdGEnLCBpZDogJ3RleHQtMScsIGRlbHRhOiBwYXJ0IH0pO1xuICAgICAgfSxcblxuICAgICAgYXN5bmMgZmx1c2goY29udHJvbGxlcikge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAndGV4dC1lbmQnLCBpZDogJ3RleHQtMScgfSk7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICdmaW5pc2gtc3RlcCcgfSk7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICdmaW5pc2gnIH0pO1xuICAgICAgfSxcbiAgICB9KSxcbiAgKTtcbn1cbiIsICJpbXBvcnQgeyBVSU1lc3NhZ2VDaHVuayB9IGZyb20gJy4uL3VpLW1lc3NhZ2Utc3RyZWFtL3VpLW1lc3NhZ2UtY2h1bmtzJztcbmltcG9ydCB7XG4gIEh0dHBDaGF0VHJhbnNwb3J0LFxuICBIdHRwQ2hhdFRyYW5zcG9ydEluaXRPcHRpb25zLFxufSBmcm9tICcuL2h0dHAtY2hhdC10cmFuc3BvcnQnO1xuaW1wb3J0IHsgdHJhbnNmb3JtVGV4dFRvVWlNZXNzYWdlU3RyZWFtIH0gZnJvbSAnLi90cmFuc2Zvcm0tdGV4dC10by11aS1tZXNzYWdlLXN0cmVhbSc7XG5pbXBvcnQgeyBVSU1lc3NhZ2UgfSBmcm9tICcuL3VpLW1lc3NhZ2VzJztcblxuZXhwb3J0IGNsYXNzIFRleHRTdHJlYW1DaGF0VHJhbnNwb3J0PFxuICBVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlLFxuPiBleHRlbmRzIEh0dHBDaGF0VHJhbnNwb3J0PFVJX01FU1NBR0U+IHtcbiAgY29uc3RydWN0b3Iob3B0aW9uczogSHR0cENoYXRUcmFuc3BvcnRJbml0T3B0aW9uczxVSV9NRVNTQUdFPiA9IHt9KSB7XG4gICAgc3VwZXIob3B0aW9ucyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgcHJvY2Vzc1Jlc3BvbnNlU3RyZWFtKFxuICAgIHN0cmVhbTogUmVhZGFibGVTdHJlYW08VWludDhBcnJheTxBcnJheUJ1ZmZlckxpa2U+PixcbiAgKTogUmVhZGFibGVTdHJlYW08VUlNZXNzYWdlQ2h1bms+IHtcbiAgICByZXR1cm4gdHJhbnNmb3JtVGV4dFRvVWlNZXNzYWdlU3RyZWFtKHtcbiAgICAgIHN0cmVhbTogc3RyZWFtLnBpcGVUaHJvdWdoKG5ldyBUZXh0RGVjb2RlclN0cmVhbSgpKSxcbiAgICB9KTtcbiAgfVxufVxuIiwgImltcG9ydCB7IFR5cGVWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIFN0YW5kYXJkU2NoZW1hVjEsXG4gIFRvb2wsXG4gIHZhbGlkYXRlVHlwZXMsXG4gIFZhbGlkYXRvcixcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEgfSBmcm9tICcuLi90eXBlcy9wcm92aWRlci1tZXRhZGF0YSc7XG5pbXBvcnQge1xuICBEYXRhVUlQYXJ0LFxuICBJbmZlclVJTWVzc2FnZURhdGEsXG4gIEluZmVyVUlNZXNzYWdlVG9vbHMsXG4gIFRvb2xVSVBhcnQsXG4gIFVJTWVzc2FnZSxcbn0gZnJvbSAnLi91aS1tZXNzYWdlcyc7XG5pbXBvcnQgeyBJbnZhbGlkQXJndW1lbnRFcnJvciB9IGZyb20gJy4uL2Vycm9yJztcblxuY29uc3QgdGV4dFVJUGFydFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgdHlwZTogei5saXRlcmFsKCd0ZXh0JyksXG4gIHRleHQ6IHouc3RyaW5nKCksXG4gIHN0YXRlOiB6LmVudW0oWydzdHJlYW1pbmcnLCAnZG9uZSddKS5vcHRpb25hbCgpLFxuICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG59KTtcblxuY29uc3QgcmVhc29uaW5nVUlQYXJ0U2NoZW1hID0gei5vYmplY3Qoe1xuICB0eXBlOiB6LmxpdGVyYWwoJ3JlYXNvbmluZycpLFxuICB0ZXh0OiB6LnN0cmluZygpLFxuICBzdGF0ZTogei5lbnVtKFsnc3RyZWFtaW5nJywgJ2RvbmUnXSkub3B0aW9uYWwoKSxcbiAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxufSk7XG5cbmNvbnN0IHNvdXJjZVVybFVJUGFydFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgdHlwZTogei5saXRlcmFsKCdzb3VyY2UtdXJsJyksXG4gIHNvdXJjZUlkOiB6LnN0cmluZygpLFxuICB1cmw6IHouc3RyaW5nKCksXG4gIHRpdGxlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbn0pO1xuXG5jb25zdCBzb3VyY2VEb2N1bWVudFVJUGFydFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgdHlwZTogei5saXRlcmFsKCdzb3VyY2UtZG9jdW1lbnQnKSxcbiAgc291cmNlSWQ6IHouc3RyaW5nKCksXG4gIG1lZGlhVHlwZTogei5zdHJpbmcoKSxcbiAgdGl0bGU6IHouc3RyaW5nKCksXG4gIGZpbGVuYW1lOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbn0pO1xuXG5jb25zdCBmaWxlVUlQYXJ0U2NoZW1hID0gei5vYmplY3Qoe1xuICB0eXBlOiB6LmxpdGVyYWwoJ2ZpbGUnKSxcbiAgbWVkaWFUeXBlOiB6LnN0cmluZygpLFxuICBmaWxlbmFtZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICB1cmw6IHouc3RyaW5nKCksXG4gIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbn0pO1xuXG5jb25zdCBzdGVwU3RhcnRVSVBhcnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHR5cGU6IHoubGl0ZXJhbCgnc3RlcC1zdGFydCcpLFxufSk7XG5cbmNvbnN0IGRhdGFVSVBhcnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHR5cGU6IHouc3RyaW5nKCkuc3RhcnRzV2l0aCgnZGF0YS0nKSxcbiAgaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgZGF0YTogei51bmtub3duKCksXG59KTtcblxuY29uc3QgZHluYW1pY1Rvb2xVSVBhcnRTY2hlbWFzID0gW1xuICB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdkeW5hbWljLXRvb2wnKSxcbiAgICB0b29sTmFtZTogei5zdHJpbmcoKSxcbiAgICB0b29sQ2FsbElkOiB6LnN0cmluZygpLFxuICAgIHN0YXRlOiB6LmxpdGVyYWwoJ2lucHV0LXN0cmVhbWluZycpLFxuICAgIGlucHV0OiB6LnVua25vd24oKS5vcHRpb25hbCgpLFxuICAgIG91dHB1dDogei5uZXZlcigpLm9wdGlvbmFsKCksXG4gICAgZXJyb3JUZXh0OiB6Lm5ldmVyKCkub3B0aW9uYWwoKSxcbiAgfSksXG4gIHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2R5bmFtaWMtdG9vbCcpLFxuICAgIHRvb2xOYW1lOiB6LnN0cmluZygpLFxuICAgIHRvb2xDYWxsSWQ6IHouc3RyaW5nKCksXG4gICAgc3RhdGU6IHoubGl0ZXJhbCgnaW5wdXQtYXZhaWxhYmxlJyksXG4gICAgaW5wdXQ6IHoudW5rbm93bigpLFxuICAgIG91dHB1dDogei5uZXZlcigpLm9wdGlvbmFsKCksXG4gICAgZXJyb3JUZXh0OiB6Lm5ldmVyKCkub3B0aW9uYWwoKSxcbiAgICBjYWxsUHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICB9KSxcbiAgei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnZHluYW1pYy10b29sJyksXG4gICAgdG9vbE5hbWU6IHouc3RyaW5nKCksXG4gICAgdG9vbENhbGxJZDogei5zdHJpbmcoKSxcbiAgICBzdGF0ZTogei5saXRlcmFsKCdvdXRwdXQtYXZhaWxhYmxlJyksXG4gICAgaW5wdXQ6IHoudW5rbm93bigpLFxuICAgIG91dHB1dDogei51bmtub3duKCksXG4gICAgZXJyb3JUZXh0OiB6Lm5ldmVyKCkub3B0aW9uYWwoKSxcbiAgICBjYWxsUHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICAgIHByZWxpbWluYXJ5OiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICB9KSxcbiAgei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnZHluYW1pYy10b29sJyksXG4gICAgdG9vbE5hbWU6IHouc3RyaW5nKCksXG4gICAgdG9vbENhbGxJZDogei5zdHJpbmcoKSxcbiAgICBzdGF0ZTogei5saXRlcmFsKCdvdXRwdXQtZXJyb3InKSxcbiAgICBpbnB1dDogei51bmtub3duKCksXG4gICAgb3V0cHV0OiB6Lm5ldmVyKCkub3B0aW9uYWwoKSxcbiAgICBlcnJvclRleHQ6IHouc3RyaW5nKCksXG4gICAgY2FsbFByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgfSksXG5dO1xuXG5jb25zdCB0b29sVUlQYXJ0U2NoZW1hcyA9IFtcbiAgei5vYmplY3Qoe1xuICAgIHR5cGU6IHouc3RyaW5nKCkuc3RhcnRzV2l0aCgndG9vbC0nKSxcbiAgICB0b29sQ2FsbElkOiB6LnN0cmluZygpLFxuICAgIHN0YXRlOiB6LmxpdGVyYWwoJ2lucHV0LXN0cmVhbWluZycpLFxuICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgaW5wdXQ6IHoudW5rbm93bigpLm9wdGlvbmFsKCksXG4gICAgb3V0cHV0OiB6Lm5ldmVyKCkub3B0aW9uYWwoKSxcbiAgICBlcnJvclRleHQ6IHoubmV2ZXIoKS5vcHRpb25hbCgpLFxuICB9KSxcbiAgei5vYmplY3Qoe1xuICAgIHR5cGU6IHouc3RyaW5nKCkuc3RhcnRzV2l0aCgndG9vbC0nKSxcbiAgICB0b29sQ2FsbElkOiB6LnN0cmluZygpLFxuICAgIHN0YXRlOiB6LmxpdGVyYWwoJ2lucHV0LWF2YWlsYWJsZScpLFxuICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgaW5wdXQ6IHoudW5rbm93bigpLFxuICAgIG91dHB1dDogei5uZXZlcigpLm9wdGlvbmFsKCksXG4gICAgZXJyb3JUZXh0OiB6Lm5ldmVyKCkub3B0aW9uYWwoKSxcbiAgICBjYWxsUHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICB9KSxcbiAgei5vYmplY3Qoe1xuICAgIHR5cGU6IHouc3RyaW5nKCkuc3RhcnRzV2l0aCgndG9vbC0nKSxcbiAgICB0b29sQ2FsbElkOiB6LnN0cmluZygpLFxuICAgIHN0YXRlOiB6LmxpdGVyYWwoJ291dHB1dC1hdmFpbGFibGUnKSxcbiAgICBwcm92aWRlckV4ZWN1dGVkOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgIGlucHV0OiB6LnVua25vd24oKSxcbiAgICBvdXRwdXQ6IHoudW5rbm93bigpLFxuICAgIGVycm9yVGV4dDogei5uZXZlcigpLm9wdGlvbmFsKCksXG4gICAgY2FsbFByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgICBwcmVsaW1pbmFyeTogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgfSksXG4gIHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LnN0cmluZygpLnN0YXJ0c1dpdGgoJ3Rvb2wtJyksXG4gICAgdG9vbENhbGxJZDogei5zdHJpbmcoKSxcbiAgICBzdGF0ZTogei5saXRlcmFsKCdvdXRwdXQtZXJyb3InKSxcbiAgICBwcm92aWRlckV4ZWN1dGVkOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgIGlucHV0OiB6LnVua25vd24oKSxcbiAgICBvdXRwdXQ6IHoubmV2ZXIoKS5vcHRpb25hbCgpLFxuICAgIGVycm9yVGV4dDogei5zdHJpbmcoKSxcbiAgICBjYWxsUHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICB9KSxcbl07XG5cbmNvbnN0IHVpTWVzc2FnZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgaWQ6IHouc3RyaW5nKCksXG4gIHJvbGU6IHouZW51bShbJ3N5c3RlbScsICd1c2VyJywgJ2Fzc2lzdGFudCddKSxcbiAgbWV0YWRhdGE6IHoudW5rbm93bigpLm9wdGlvbmFsKCksXG4gIHBhcnRzOiB6LmFycmF5KFxuICAgIHoudW5pb24oW1xuICAgICAgdGV4dFVJUGFydFNjaGVtYSxcbiAgICAgIHJlYXNvbmluZ1VJUGFydFNjaGVtYSxcbiAgICAgIHNvdXJjZVVybFVJUGFydFNjaGVtYSxcbiAgICAgIHNvdXJjZURvY3VtZW50VUlQYXJ0U2NoZW1hLFxuICAgICAgZmlsZVVJUGFydFNjaGVtYSxcbiAgICAgIHN0ZXBTdGFydFVJUGFydFNjaGVtYSxcbiAgICAgIGRhdGFVSVBhcnRTY2hlbWEsXG4gICAgICAuLi5keW5hbWljVG9vbFVJUGFydFNjaGVtYXMsXG4gICAgICAuLi50b29sVUlQYXJ0U2NoZW1hcyxcbiAgICBdKSxcbiAgKSxcbn0pO1xuXG4vKipcbiAqIFZhbGlkYXRlcyBhIGxpc3Qgb2YgVUkgbWVzc2FnZXMuXG4gKlxuICogTWV0YWRhdGEsIGRhdGEgcGFydHMsIGFuZCBnZW5lcmljIHRvb2wgY2FsbCBzdHJ1Y3R1cmVzIGFyZSBvbmx5IHZhbGlkYXRlZCBpZlxuICogdGhlIGNvcnJlc3BvbmRpbmcgc2NoZW1hcyBhcmUgcHJvdmlkZWQuIE90aGVyd2lzZSwgdGhleSBhcmUgYXNzdW1lZCB0byBiZVxuICogdmFsaWQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2YWxpZGF0ZVVJTWVzc2FnZXM8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4oe1xuICBtZXNzYWdlcyxcbiAgbWV0YWRhdGFTY2hlbWEsXG4gIGRhdGFTY2hlbWFzLFxuICB0b29scyxcbn06IHtcbiAgbWVzc2FnZXM6IHVua25vd247XG4gIG1ldGFkYXRhU2NoZW1hPzpcbiAgICB8IFZhbGlkYXRvcjxVSU1lc3NhZ2VbJ21ldGFkYXRhJ10+XG4gICAgfCBTdGFuZGFyZFNjaGVtYVYxPHVua25vd24sIFVJX01FU1NBR0VbJ21ldGFkYXRhJ10+O1xuICBkYXRhU2NoZW1hcz86IHtcbiAgICBbTkFNRSBpbiBrZXlvZiBJbmZlclVJTWVzc2FnZURhdGE8VUlfTUVTU0FHRT4gJiBzdHJpbmddPzpcbiAgICAgIHwgVmFsaWRhdG9yPEluZmVyVUlNZXNzYWdlRGF0YTxVSV9NRVNTQUdFPltOQU1FXT5cbiAgICAgIHwgU3RhbmRhcmRTY2hlbWFWMTx1bmtub3duLCBJbmZlclVJTWVzc2FnZURhdGE8VUlfTUVTU0FHRT5bTkFNRV0+O1xuICB9O1xuICB0b29scz86IHtcbiAgICBbTkFNRSBpbiBrZXlvZiBJbmZlclVJTWVzc2FnZVRvb2xzPFVJX01FU1NBR0U+ICYgc3RyaW5nXT86IFRvb2w8XG4gICAgICBJbmZlclVJTWVzc2FnZVRvb2xzPFVJX01FU1NBR0U+W05BTUVdWydpbnB1dCddLFxuICAgICAgSW5mZXJVSU1lc3NhZ2VUb29sczxVSV9NRVNTQUdFPltOQU1FXVsnb3V0cHV0J11cbiAgICA+O1xuICB9O1xufSk6IFByb21pc2U8QXJyYXk8VUlfTUVTU0FHRT4+IHtcbiAgaWYgKG1lc3NhZ2VzID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgcGFyYW1ldGVyOiAnbWVzc2FnZXMnLFxuICAgICAgdmFsdWU6IG1lc3NhZ2VzLFxuICAgICAgbWVzc2FnZTogJ21lc3NhZ2VzIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkJyxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHZhbGlkYXRlZE1lc3NhZ2VzID0gYXdhaXQgdmFsaWRhdGVUeXBlcyh7XG4gICAgdmFsdWU6IG1lc3NhZ2VzLFxuICAgIHNjaGVtYTogei5hcnJheSh1aU1lc3NhZ2VTY2hlbWEpLFxuICB9KTtcblxuICBpZiAobWV0YWRhdGFTY2hlbWEpIHtcbiAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgdmFsaWRhdGVkTWVzc2FnZXMpIHtcbiAgICAgIGF3YWl0IHZhbGlkYXRlVHlwZXMoe1xuICAgICAgICB2YWx1ZTogbWVzc2FnZS5tZXRhZGF0YSxcbiAgICAgICAgc2NoZW1hOiBtZXRhZGF0YVNjaGVtYSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmIChkYXRhU2NoZW1hcykge1xuICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiB2YWxpZGF0ZWRNZXNzYWdlcykge1xuICAgICAgY29uc3QgZGF0YVBhcnRzID0gbWVzc2FnZS5wYXJ0cy5maWx0ZXIocGFydCA9PlxuICAgICAgICBwYXJ0LnR5cGUuc3RhcnRzV2l0aCgnZGF0YS0nKSxcbiAgICAgICkgYXMgRGF0YVVJUGFydDxJbmZlclVJTWVzc2FnZURhdGE8VUlfTUVTU0FHRT4+W107XG5cbiAgICAgIGZvciAoY29uc3QgZGF0YVBhcnQgb2YgZGF0YVBhcnRzKSB7XG4gICAgICAgIGNvbnN0IGRhdGFOYW1lID0gZGF0YVBhcnQudHlwZS5zbGljZSg1KTtcbiAgICAgICAgY29uc3QgZGF0YVNjaGVtYSA9IGRhdGFTY2hlbWFzW2RhdGFOYW1lXTtcblxuICAgICAgICBpZiAoIWRhdGFTY2hlbWEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZVZhbGlkYXRpb25FcnJvcih7XG4gICAgICAgICAgICB2YWx1ZTogZGF0YVBhcnQuZGF0YSxcbiAgICAgICAgICAgIGNhdXNlOiBgTm8gZGF0YSBzY2hlbWEgZm91bmQgZm9yIGRhdGEgcGFydCAke2RhdGFOYW1lfWAsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB2YWxpZGF0ZVR5cGVzKHtcbiAgICAgICAgICB2YWx1ZTogZGF0YVBhcnQuZGF0YSxcbiAgICAgICAgICBzY2hlbWE6IGRhdGFTY2hlbWEsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmICh0b29scykge1xuICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiB2YWxpZGF0ZWRNZXNzYWdlcykge1xuICAgICAgY29uc3QgdG9vbFBhcnRzID0gbWVzc2FnZS5wYXJ0cy5maWx0ZXIocGFydCA9PlxuICAgICAgICBwYXJ0LnR5cGUuc3RhcnRzV2l0aCgndG9vbC0nKSxcbiAgICAgICkgYXMgVG9vbFVJUGFydDxJbmZlclVJTWVzc2FnZVRvb2xzPFVJX01FU1NBR0U+PltdO1xuXG4gICAgICBmb3IgKGNvbnN0IHRvb2xQYXJ0IG9mIHRvb2xQYXJ0cykge1xuICAgICAgICBjb25zdCB0b29sTmFtZSA9IHRvb2xQYXJ0LnR5cGUuc2xpY2UoNSk7XG4gICAgICAgIGNvbnN0IHRvb2wgPSB0b29sc1t0b29sTmFtZV07XG5cbiAgICAgICAgaWYgKCF0b29sKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVWYWxpZGF0aW9uRXJyb3Ioe1xuICAgICAgICAgICAgdmFsdWU6IHRvb2xQYXJ0LmlucHV0LFxuICAgICAgICAgICAgY2F1c2U6IGBObyB0b29sIHNjaGVtYSBmb3VuZCBmb3IgdG9vbCBwYXJ0ICR7dG9vbE5hbWV9YCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChcbiAgICAgICAgICB0b29sUGFydC5zdGF0ZSA9PT0gJ2lucHV0LWF2YWlsYWJsZScgfHxcbiAgICAgICAgICB0b29sUGFydC5zdGF0ZSA9PT0gJ291dHB1dC1hdmFpbGFibGUnIHx8XG4gICAgICAgICAgdG9vbFBhcnQuc3RhdGUgPT09ICdvdXRwdXQtZXJyb3InXG4gICAgICAgICkge1xuICAgICAgICAgIGF3YWl0IHZhbGlkYXRlVHlwZXMoe1xuICAgICAgICAgICAgdmFsdWU6IHRvb2xQYXJ0LmlucHV0LFxuICAgICAgICAgICAgc2NoZW1hOiB0b29sLmlucHV0U2NoZW1hLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRvb2xQYXJ0LnN0YXRlID09PSAnb3V0cHV0LWF2YWlsYWJsZScgJiYgdG9vbC5vdXRwdXRTY2hlbWEpIHtcbiAgICAgICAgICBhd2FpdCB2YWxpZGF0ZVR5cGVzKHtcbiAgICAgICAgICAgIHZhbHVlOiB0b29sUGFydC5vdXRwdXQsXG4gICAgICAgICAgICBzY2hlbWE6IHRvb2wub3V0cHV0U2NoZW1hLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHZhbGlkYXRlZE1lc3NhZ2VzIGFzIEFycmF5PFVJX01FU1NBR0U+O1xufVxuIiwgImltcG9ydCB7XG4gIGdlbmVyYXRlSWQgYXMgZ2VuZXJhdGVJZEZ1bmMsXG4gIGdldEVycm9yTWVzc2FnZSxcbiAgSWRHZW5lcmF0b3IsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgVUlNZXNzYWdlIH0gZnJvbSAnLi4vdWkvdWktbWVzc2FnZXMnO1xuaW1wb3J0IHsgaGFuZGxlVUlNZXNzYWdlU3RyZWFtRmluaXNoIH0gZnJvbSAnLi9oYW5kbGUtdWktbWVzc2FnZS1zdHJlYW0tZmluaXNoJztcbmltcG9ydCB7IEluZmVyVUlNZXNzYWdlQ2h1bmsgfSBmcm9tICcuL3VpLW1lc3NhZ2UtY2h1bmtzJztcbmltcG9ydCB7IFVJTWVzc2FnZVN0cmVhbU9uRmluaXNoQ2FsbGJhY2sgfSBmcm9tICcuL3VpLW1lc3NhZ2Utc3RyZWFtLW9uLWZpbmlzaC1jYWxsYmFjayc7XG5pbXBvcnQgeyBVSU1lc3NhZ2VTdHJlYW1Xcml0ZXIgfSBmcm9tICcuL3VpLW1lc3NhZ2Utc3RyZWFtLXdyaXRlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVVSU1lc3NhZ2VTdHJlYW08VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4oe1xuICBleGVjdXRlLFxuICBvbkVycm9yID0gZ2V0RXJyb3JNZXNzYWdlLFxuICBvcmlnaW5hbE1lc3NhZ2VzLFxuICBvbkZpbmlzaCxcbiAgZ2VuZXJhdGVJZCA9IGdlbmVyYXRlSWRGdW5jLFxufToge1xuICBleGVjdXRlOiAob3B0aW9uczoge1xuICAgIHdyaXRlcjogVUlNZXNzYWdlU3RyZWFtV3JpdGVyPFVJX01FU1NBR0U+O1xuICB9KSA9PiBQcm9taXNlPHZvaWQ+IHwgdm9pZDtcbiAgb25FcnJvcj86IChlcnJvcjogdW5rbm93bikgPT4gc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgb3JpZ2luYWwgbWVzc2FnZXMuIElmIHRoZXkgYXJlIHByb3ZpZGVkLCBwZXJzaXN0ZW5jZSBtb2RlIGlzIGFzc3VtZWQsXG4gICAqIGFuZCBhIG1lc3NhZ2UgSUQgaXMgcHJvdmlkZWQgZm9yIHRoZSByZXNwb25zZSBtZXNzYWdlLlxuICAgKi9cbiAgb3JpZ2luYWxNZXNzYWdlcz86IFVJX01FU1NBR0VbXTtcblxuICBvbkZpbmlzaD86IFVJTWVzc2FnZVN0cmVhbU9uRmluaXNoQ2FsbGJhY2s8VUlfTUVTU0FHRT47XG5cbiAgZ2VuZXJhdGVJZD86IElkR2VuZXJhdG9yO1xufSk6IFJlYWRhYmxlU3RyZWFtPEluZmVyVUlNZXNzYWdlQ2h1bms8VUlfTUVTU0FHRT4+IHtcbiAgbGV0IGNvbnRyb2xsZXIhOiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFxuICAgIEluZmVyVUlNZXNzYWdlQ2h1bms8VUlfTUVTU0FHRT5cbiAgPjtcblxuICBjb25zdCBvbmdvaW5nU3RyZWFtUHJvbWlzZXM6IFByb21pc2U8dm9pZD5bXSA9IFtdO1xuXG4gIGNvbnN0IHN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgc3RhcnQoY29udHJvbGxlckFyZykge1xuICAgICAgY29udHJvbGxlciA9IGNvbnRyb2xsZXJBcmc7XG4gICAgfSxcbiAgfSk7XG5cbiAgZnVuY3Rpb24gc2FmZUVucXVldWUoZGF0YTogSW5mZXJVSU1lc3NhZ2VDaHVuazxVSV9NRVNTQUdFPikge1xuICAgIHRyeSB7XG4gICAgICBjb250cm9sbGVyLmVucXVldWUoZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIHN1cHByZXNzIGVycm9ycyB3aGVuIHRoZSBzdHJlYW0gaGFzIGJlZW4gY2xvc2VkXG4gICAgfVxuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCByZXN1bHQgPSBleGVjdXRlKHtcbiAgICAgIHdyaXRlcjoge1xuICAgICAgICB3cml0ZShwYXJ0OiBJbmZlclVJTWVzc2FnZUNodW5rPFVJX01FU1NBR0U+KSB7XG4gICAgICAgICAgc2FmZUVucXVldWUocGFydCk7XG4gICAgICAgIH0sXG4gICAgICAgIG1lcmdlKHN0cmVhbUFyZykge1xuICAgICAgICAgIG9uZ29pbmdTdHJlYW1Qcm9taXNlcy5wdXNoKFxuICAgICAgICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gc3RyZWFtQXJnLmdldFJlYWRlcigpO1xuICAgICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpIGJyZWFrO1xuICAgICAgICAgICAgICAgIHNhZmVFbnF1ZXVlKHZhbHVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkoKS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgIHNhZmVFbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIGVycm9yVGV4dDogb25FcnJvcihlcnJvciksXG4gICAgICAgICAgICAgIH0gYXMgSW5mZXJVSU1lc3NhZ2VDaHVuazxVSV9NRVNTQUdFPik7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICBvbkVycm9yLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIG9uZ29pbmdTdHJlYW1Qcm9taXNlcy5wdXNoKFxuICAgICAgICByZXN1bHQuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgIHNhZmVFbnF1ZXVlKHtcbiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICBlcnJvclRleHQ6IG9uRXJyb3IoZXJyb3IpLFxuICAgICAgICAgIH0gYXMgSW5mZXJVSU1lc3NhZ2VDaHVuazxVSV9NRVNTQUdFPik7XG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgc2FmZUVucXVldWUoe1xuICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgIGVycm9yVGV4dDogb25FcnJvcihlcnJvciksXG4gICAgfSBhcyBJbmZlclVJTWVzc2FnZUNodW5rPFVJX01FU1NBR0U+KTtcbiAgfVxuXG4gIC8vIFdhaXQgdW50aWwgYWxsIG9uZ29pbmcgc3RyZWFtcyBhcmUgZG9uZS4gVGhpcyBhcHByb2FjaCBlbmFibGVzIG1lcmdpbmdcbiAgLy8gc3RyZWFtcyBldmVuIGFmdGVyIGV4ZWN1dGUgaGFzIHJldHVybmVkLCBhcyBsb25nIGFzIHRoZXJlIGlzIHN0aWxsIGFuXG4gIC8vIG9wZW4gbWVyZ2VkIHN0cmVhbS4gVGhpcyBpcyBpbXBvcnRhbnQgdG8gZS5nLiBmb3J3YXJkIG5ldyBzdHJlYW1zIGFuZFxuICAvLyBmcm9tIGNhbGxiYWNrcy5cbiAgY29uc3Qgd2FpdEZvclN0cmVhbXM6IFByb21pc2U8dm9pZD4gPSBuZXcgUHJvbWlzZShhc3luYyByZXNvbHZlID0+IHtcbiAgICB3aGlsZSAob25nb2luZ1N0cmVhbVByb21pc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGF3YWl0IG9uZ29pbmdTdHJlYW1Qcm9taXNlcy5zaGlmdCgpO1xuICAgIH1cbiAgICByZXNvbHZlKCk7XG4gIH0pO1xuXG4gIHdhaXRGb3JTdHJlYW1zLmZpbmFsbHkoKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIHN1cHByZXNzIGVycm9ycyB3aGVuIHRoZSBzdHJlYW0gaGFzIGJlZW4gY2xvc2VkXG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gaGFuZGxlVUlNZXNzYWdlU3RyZWFtRmluaXNoPFVJX01FU1NBR0U+KHtcbiAgICBzdHJlYW0sXG4gICAgbWVzc2FnZUlkOiBnZW5lcmF0ZUlkKCksXG4gICAgb3JpZ2luYWxNZXNzYWdlcyxcbiAgICBvbkZpbmlzaCxcbiAgICBvbkVycm9yLFxuICB9KTtcbn1cbiIsICJpbXBvcnQgeyBVSU1lc3NhZ2UgfSBmcm9tICcuLi91aS91aS1tZXNzYWdlcyc7XG5pbXBvcnQgeyBVSU1lc3NhZ2VDaHVuayB9IGZyb20gJy4vdWktbWVzc2FnZS1jaHVua3MnO1xuaW1wb3J0IHtcbiAgY3JlYXRlU3RyZWFtaW5nVUlNZXNzYWdlU3RhdGUsXG4gIHByb2Nlc3NVSU1lc3NhZ2VTdHJlYW0sXG4gIFN0cmVhbWluZ1VJTWVzc2FnZVN0YXRlLFxufSBmcm9tICcuLi91aS9wcm9jZXNzLXVpLW1lc3NhZ2Utc3RyZWFtJztcbmltcG9ydCB7XG4gIEFzeW5jSXRlcmFibGVTdHJlYW0sXG4gIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0sXG59IGZyb20gJy4uL3V0aWwvYXN5bmMtaXRlcmFibGUtc3RyZWFtJztcbmltcG9ydCB7IGNvbnN1bWVTdHJlYW0gfSBmcm9tICcuLi91dGlsL2NvbnN1bWUtc3RyZWFtJztcblxuLyoqXG4gKiBUcmFuc2Zvcm1zIGEgc3RyZWFtIG9mIGBVSU1lc3NhZ2VDaHVua2BzIGludG8gYW4gYEFzeW5jSXRlcmFibGVTdHJlYW1gIG9mIGBVSU1lc3NhZ2Vgcy5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucy5tZXNzYWdlIC0gVGhlIGxhc3QgYXNzaXN0YW50IG1lc3NhZ2UgdG8gdXNlIGFzIGEgc3RhcnRpbmcgcG9pbnQgd2hlbiB0aGUgY29udmVyc2F0aW9uIGlzIHJlc3VtZWQuIE90aGVyd2lzZSB1bmRlZmluZWQuXG4gKiBAcGFyYW0gb3B0aW9ucy5zdHJlYW0gLSBUaGUgc3RyZWFtIG9mIGBVSU1lc3NhZ2VDaHVua2BzIHRvIHJlYWQuXG4gKiBAcGFyYW0gb3B0aW9ucy50ZXJtaW5hdGVPbkVycm9yIC0gV2hldGhlciB0byB0ZXJtaW5hdGUgdGhlIHN0cmVhbSBpZiBhbiBlcnJvciBvY2N1cnMuXG4gKiBAcGFyYW0gb3B0aW9ucy5vbkVycm9yIC0gQSBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIGFuIGVycm9yIG9jY3Vycy5cbiAqXG4gKiBAcmV0dXJucyBBbiBgQXN5bmNJdGVyYWJsZVN0cmVhbWAgb2YgYFVJTWVzc2FnZWBzLiBFYWNoIHN0cmVhbSBwYXJ0IGlzIGEgZGlmZmVyZW50IHN0YXRlIG9mIHRoZSBzYW1lIG1lc3NhZ2VcbiAqIGFzIGl0IGlzIGJlaW5nIGNvbXBsZXRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRVSU1lc3NhZ2VTdHJlYW08VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4oe1xuICBtZXNzYWdlLFxuICBzdHJlYW0sXG4gIG9uRXJyb3IsXG4gIHRlcm1pbmF0ZU9uRXJyb3IgPSBmYWxzZSxcbn06IHtcbiAgbWVzc2FnZT86IFVJX01FU1NBR0U7XG4gIHN0cmVhbTogUmVhZGFibGVTdHJlYW08VUlNZXNzYWdlQ2h1bms+O1xuICBvbkVycm9yPzogKGVycm9yOiB1bmtub3duKSA9PiB2b2lkO1xuICB0ZXJtaW5hdGVPbkVycm9yPzogYm9vbGVhbjtcbn0pOiBBc3luY0l0ZXJhYmxlU3RyZWFtPFVJX01FU1NBR0U+IHtcbiAgbGV0IGNvbnRyb2xsZXI6IFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8VUlfTUVTU0FHRT4gfCB1bmRlZmluZWQ7XG4gIGxldCBoYXNFcnJvcmVkID0gZmFsc2U7XG5cbiAgY29uc3Qgb3V0cHV0U3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtPFVJX01FU1NBR0U+KHtcbiAgICBzdGFydChjb250cm9sbGVyUGFyYW0pIHtcbiAgICAgIGNvbnRyb2xsZXIgPSBjb250cm9sbGVyUGFyYW07XG4gICAgfSxcbiAgfSk7XG5cbiAgY29uc3Qgc3RhdGUgPSBjcmVhdGVTdHJlYW1pbmdVSU1lc3NhZ2VTdGF0ZTxVSV9NRVNTQUdFPih7XG4gICAgbWVzc2FnZUlkOiBtZXNzYWdlPy5pZCA/PyAnJyxcbiAgICBsYXN0TWVzc2FnZTogbWVzc2FnZSxcbiAgfSk7XG5cbiAgY29uc3QgaGFuZGxlRXJyb3IgPSAoZXJyb3I6IHVua25vd24pID0+IHtcbiAgICBvbkVycm9yPy4oZXJyb3IpO1xuXG4gICAgaWYgKCFoYXNFcnJvcmVkICYmIHRlcm1pbmF0ZU9uRXJyb3IpIHtcbiAgICAgIGhhc0Vycm9yZWQgPSB0cnVlO1xuICAgICAgY29udHJvbGxlcj8uZXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdW1lU3RyZWFtKHtcbiAgICBzdHJlYW06IHByb2Nlc3NVSU1lc3NhZ2VTdHJlYW0oe1xuICAgICAgc3RyZWFtLFxuICAgICAgcnVuVXBkYXRlTWVzc2FnZUpvYihcbiAgICAgICAgam9iOiAob3B0aW9uczoge1xuICAgICAgICAgIHN0YXRlOiBTdHJlYW1pbmdVSU1lc3NhZ2VTdGF0ZTxVSV9NRVNTQUdFPjtcbiAgICAgICAgICB3cml0ZTogKCkgPT4gdm9pZDtcbiAgICAgICAgfSkgPT4gUHJvbWlzZTx2b2lkPixcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gam9iKHtcbiAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICB3cml0ZTogKCkgPT4ge1xuICAgICAgICAgICAgY29udHJvbGxlcj8uZW5xdWV1ZShzdHJ1Y3R1cmVkQ2xvbmUoc3RhdGUubWVzc2FnZSkpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIG9uRXJyb3I6IGhhbmRsZUVycm9yLFxuICAgIH0pLFxuICAgIG9uRXJyb3I6IGhhbmRsZUVycm9yLFxuICB9KS5maW5hbGx5KCgpID0+IHtcbiAgICAvLyBPbmx5IGNsb3NlIGlmIG5vIGVycm9yIG9jY3VycmVkLiBDYWxsaW5nIGNsb3NlKCkgb24gYW4gZXJyb3JlZCBjb250cm9sbGVyXG4gICAgLy8gdGhyb3dzIFwiSW52YWxpZCBzdGF0ZTogQ29udHJvbGxlciBpcyBhbHJlYWR5IGNsb3NlZFwiIFR5cGVFcnJvci5cbiAgICBpZiAoIWhhc0Vycm9yZWQpIHtcbiAgICAgIGNvbnRyb2xsZXI/LmNsb3NlKCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gY3JlYXRlQXN5bmNJdGVyYWJsZVN0cmVhbShvdXRwdXRTdHJlYW0pO1xufVxuIiwgImltcG9ydCBlIGZyb21cInV0aWxcIjtjb25zdCB0PU9iamVjdC5mcmVlemUoe2ZpbmQoZSl7dGhyb3cgRXJyb3IoYE5vdCBpbXBsZW1lbnRlZGApfSxjcmVhdGUoZSl7dGhyb3cgRXJyb3IoYE5vdCBpbXBsZW1lbnRlZGApfSxtZXNzYWdlKGUsdCxuKXt0aHJvdyBFcnJvcihgTm90IGltcGxlbWVudGVkYCl9fSk7ZnVuY3Rpb24gbihlKXtyZXR1cm57dmVyc2lvbjpgdjBgLG1ldGFkYXRhOntkaXNwbGF5TmFtZTplLmRpc3BsYXlOYW1lLGRlc2NyaXB0aW9uOmUuZGVzY3JpcHRpb259LGZldGNoOmFzeW5jIHQ9PntsZXQgbj1uZXcgVVJMKHQudXJsKTtzd2l0Y2gobi5wYXRobmFtZSl7Y2FzZWAvc2VuZE1lc3NhZ2VzYDpyZXR1cm4gaSh0LGUpO2Nhc2VgL3dlYmhvb2tgOnJldHVybiBhKHQsZSk7ZGVmYXVsdDpyZXR1cm4gbmV3IFJlc3BvbnNlKGBOb3QgZm91bmRgLHtzdGF0dXM6NDA0fSl9fX19bGV0IHI7YXN5bmMgZnVuY3Rpb24gaSh0LG4pe2lmKHQubWV0aG9kIT09YFBPU1RgKXJldHVybiBuZXcgUmVzcG9uc2UoYE1ldGhvZCBub3QgYWxsb3dlZGAse3N0YXR1czo0MDV9KTtsZXQgaTt0cnl7aT1hd2FpdCB0Lmpzb24oKX1jYXRjaHtyZXR1cm4gbmV3IFJlc3BvbnNlKGBJbnZhbGlkIHJlcXVlc3RgLHtzdGF0dXM6NDAwfSl9bGV0IGE7dHJ5e2E9YXdhaXQgbi5zZW5kTWVzc2FnZXMoe21lc3NhZ2VzOmkubWVzc2FnZXN9KX1jYXRjaCh0KXtyZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHtlcnJvcjplLmluc3BlY3QodCl9KSx7c3RhdHVzOjUwMH0pfWlmKGEgaW5zdGFuY2VvZiBSZXNwb25zZSlyZXR1cm4gYTtpZihhIGluc3RhbmNlb2YgUmVhZGFibGVTdHJlYW0pcmV0dXJuIG5ldyBSZXNwb25zZShhLHtoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOmB0ZXh0L2V2ZW50LXN0cmVhbWB9fSk7aWYodHlwZW9mIGEhPWBvYmplY3RgfHx0eXBlb2YgYT09YG9iamVjdGAmJiEoYHRvVUlNZXNzYWdlU3RyZWFtYGluIGEpKXRocm93IEVycm9yKGBUaGUgYWdlbnQgbXVzdCByZXR1cm4gYSBcIlJlc3BvbnNlXCIsIFwiUmVhZGFibGVTdHJlYW1cIiwgb3IgXCJ0b1VJTWVzc2FnZVN0cmVhbVwiIGZ1bmN0aW9uLmApO3J8fD1uZXcgVGV4dEVuY29kZXI7bGV0IG89bmV3IFRyYW5zZm9ybVN0cmVhbSh7dHJhbnNmb3JtKGUsdCl7dC5lbnF1ZXVlKHIuZW5jb2RlKGBkYXRhOiAke0pTT04uc3RyaW5naWZ5KGUpfVxcblxcbmApKX19KSxzPWEudG9VSU1lc3NhZ2VTdHJlYW0oKTtyZXR1cm4gcy5waXBlVG8oby53cml0YWJsZSksbmV3IFJlc3BvbnNlKG8ucmVhZGFibGUse2hlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6YHRleHQvZXZlbnQtc3RyZWFtYH19KX1hc3luYyBmdW5jdGlvbiBhKHQsbil7aWYoIW4ud2ViaG9vaylyZXR1cm4gbmV3IFJlc3BvbnNlKGBObyB3ZWJob29rIGZ1bmN0aW9uIHByb3ZpZGVkYCx7c3RhdHVzOjUwMX0pO3RyeXtsZXQgZT1hd2FpdCBuLndlYmhvb2sodCk7cmV0dXJuIGV8fG5ldyBSZXNwb25zZShgT0tgLHtzdGF0dXM6MjAwfSl9Y2F0Y2godCl7cmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7ZXJyb3I6ZS5pbnNwZWN0KHQpfSkse3N0YXR1czo1MDB9KX19Y29uc3Qgbz1geC1ibGluay1zdHJlYW0tcmVzcG9uc2UtZm9ybWF0YDtmdW5jdGlvbiBzKGUsdCl7cmV0dXJuIGUuaGVhZGVycy5zZXQobyx0KSxlfWV4cG9ydHtvIGFzIFN0cmVhbVJlc3BvbnNlRm9ybWF0SGVhZGVyLG4gYXMgYWdlbnQsdCBhcyBjaGF0LHMgYXMgd2l0aFJlc3BvbnNlRm9ybWF0fTsiLCAiLy8gRVNNIHdyYXBwZXIgZm9yIHBnXG5pbXBvcnQgcGcgZnJvbSAnLi4vbGliL2luZGV4LmpzJ1xuXG4vLyBSZS1leHBvcnQgYWxsIHRoZSBwcm9wZXJ0aWVzXG5leHBvcnQgY29uc3QgQ2xpZW50ID0gcGcuQ2xpZW50XG5leHBvcnQgY29uc3QgUG9vbCA9IHBnLlBvb2xcbmV4cG9ydCBjb25zdCBDb25uZWN0aW9uID0gcGcuQ29ubmVjdGlvblxuZXhwb3J0IGNvbnN0IHR5cGVzID0gcGcudHlwZXNcbmV4cG9ydCBjb25zdCBRdWVyeSA9IHBnLlF1ZXJ5XG5leHBvcnQgY29uc3QgRGF0YWJhc2VFcnJvciA9IHBnLkRhdGFiYXNlRXJyb3JcbmV4cG9ydCBjb25zdCBlc2NhcGVJZGVudGlmaWVyID0gcGcuZXNjYXBlSWRlbnRpZmllclxuZXhwb3J0IGNvbnN0IGVzY2FwZUxpdGVyYWwgPSBwZy5lc2NhcGVMaXRlcmFsXG5leHBvcnQgY29uc3QgUmVzdWx0ID0gcGcuUmVzdWx0XG5leHBvcnQgY29uc3QgVHlwZU92ZXJyaWRlcyA9IHBnLlR5cGVPdmVycmlkZXNcblxuLy8gQWxzbyBleHBvcnQgdGhlIGRlZmF1bHRzXG5leHBvcnQgY29uc3QgZGVmYXVsdHMgPSBwZy5kZWZhdWx0c1xuXG4vLyBSZS1leHBvcnQgdGhlIGRlZmF1bHRcbmV4cG9ydCBkZWZhdWx0IHBnXG4iLCAiaW1wb3J0IHsgUG9vbCB9IGZyb20gXCJwZ1wiO1xuXG5sZXQgcG9vbDogUG9vbCB8IG51bGwgPSBudWxsO1xuXG5mdW5jdGlvbiBnZXRQb29sKCkge1xuICBpZiAoIXBvb2wpIHtcbiAgICBjb25zdCBjb25uZWN0aW9uU3RyaW5nID0gcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMO1xuICAgIGlmICghY29ubmVjdGlvblN0cmluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkRBVEFCQVNFX1VSTCBpcyByZXF1aXJlZC4gU2V0IGl0IHRvIHlvdXIgTmVvbiBjb25uZWN0aW9uIHN0cmluZyBiZWZvcmUgc3RhcnRpbmcgdGhlIGFnZW50LlwiLFxuICAgICAgKTtcbiAgICB9XG4gICAgcG9vbCA9IG5ldyBQb29sKHtcbiAgICAgIGNvbm5lY3Rpb25TdHJpbmcsXG4gICAgICBzc2w6IHsgcmVqZWN0VW5hdXRob3JpemVkOiBmYWxzZSB9LFxuICAgICAgbWF4OiA1LFxuICAgICAgaWRsZVRpbWVvdXRNaWxsaXM6IDEwXzAwMCxcbiAgICAgIGNvbm5lY3Rpb25UaW1lb3V0TWlsbGlzOiAxMF8wMDAsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHBvb2w7XG59XG5cbmV4cG9ydCB0eXBlIENvbHVtbiA9IHtcbiAgdGFibGU6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBkYXRhVHlwZTogc3RyaW5nO1xuICBpc051bGxhYmxlOiBib29sZWFuO1xufTtcblxuZXhwb3J0IHR5cGUgSW5kZXggPSB7XG4gIHRhYmxlOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgZGVmaW5pdGlvbjogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgU2NoZW1hSW5mbyA9IHtcbiAgY29sdW1uczogQ29sdW1uW107XG4gIGluZGV4ZXM6IEluZGV4W107XG4gIHN1bW1hcnk6IHN0cmluZztcbn07XG5cbmNvbnN0IEtOT1dOX1NDSEVNQV9TVU1NQVJZID0gYFxuVGFibGVzOlxuXG4xKSBmaWVsZF9jaGFuZ2VzIChhcHBlbmQtb25seSlcbiAgLSBpZCBCSUdTRVJJQUwgUFJJTUFSWSBLRVlcbiAgLSBwcm9qZWN0X25vZGVfaWQgVEVYVCBOT1QgTlVMTFxuICAtIHByb2plY3RfbmFtZSBURVhUXG4gIC0gaXRlbV9ub2RlX2lkIFRFWFQgTk9UIE5VTExcbiAgLSBjb250ZW50X25vZGVfaWQgVEVYVFxuICAtIGNvbnRlbnRfdHlwZSBURVhUXG4gIC0gY29udGVudF90aXRsZSBURVhUXG4gIC0gY29udGVudF91cmwgVEVYVFxuICAtIHJlcG9zaXRvcnlfbmFtZSBURVhUXG4gIC0gZmllbGRfbmFtZSBURVhUIE5PVCBOVUxMXG4gIC0gZmllbGRfdHlwZSBURVhUIE5PVCBOVUxMXG4gIC0gb2xkX3ZhbHVlIEpTT05CXG4gIC0gbmV3X3ZhbHVlIEpTT05CXG4gIC0gY2hhbmdlZF9hdCBUSU1FU1RBTVBUWiBOT1QgTlVMTFxuICAtIGRldGVjdGVkX2F0IFRJTUVTVEFNUFRaIERFRkFVTFQgTk9XKClcbiAgLSBhY3Rvcl9sb2dpbiBURVhUXG4gIC0gVU5JUVVFKGl0ZW1fbm9kZV9pZCwgZmllbGRfbmFtZSwgY2hhbmdlZF9hdClcbiAgSW5kZXhlczogcHJvamVjdF9ub2RlX2lkLCBwcm9qZWN0X25hbWUsIHJlcG9zaXRvcnlfbmFtZSwgaXRlbV9ub2RlX2lkLCBjaGFuZ2VkX2F0XG5cbjIpIGN1cnJlbnRfZmllbGRfdmFsdWVzIChjdXJyZW50IHNuYXBzaG90KVxuICAtIHByb2plY3Rfbm9kZV9pZCBURVhUIE5PVCBOVUxMXG4gIC0gcHJvamVjdF9uYW1lIFRFWFRcbiAgLSBpdGVtX25vZGVfaWQgVEVYVCBOT1QgTlVMTFxuICAtIGNvbnRlbnRfbm9kZV9pZCBURVhUXG4gIC0gY29udGVudF90eXBlIFRFWFRcbiAgLSBjb250ZW50X3RpdGxlIFRFWFRcbiAgLSBjb250ZW50X3VybCBURVhUXG4gIC0gcmVwb3NpdG9yeV9uYW1lIFRFWFRcbiAgLSBmaWVsZF9uYW1lIFRFWFQgTk9UIE5VTExcbiAgLSBmaWVsZF90eXBlIFRFWFQgTk9UIE5VTExcbiAgLSBmaWVsZF92YWx1ZSBKU09OQlxuICAtIHVwZGF0ZWRfYXQgVElNRVNUQU1QVFogREVGQVVMVCBOT1coKVxuICAtIFBSSU1BUlkgS0VZIChpdGVtX25vZGVfaWQsIGZpZWxkX25hbWUpXG4gIEluZGV4ZXM6IHByb2plY3Rfbm9kZV9pZCwgcHJvamVjdF9uYW1lLCByZXBvc2l0b3J5X25hbWVcblxuVXNhZ2UgcGF0dGVybnM6XG4tIFwiV2hhdCdzIG5ldyAvIHdoYXQgY2hhbmdlZFwiIFx1MjE5MiBxdWVyeSBmaWVsZF9jaGFuZ2VzIGZpbHRlcmVkIGJ5IHByb2plY3RfbmFtZSAob3IgcHJvamVjdF9ub2RlX2lkKSB3aXRoIGNoYW5nZWRfYXQgPj0gbm93KCkgLSBpbnRlcnZhbCAnNyBkYXlzJy5cbi0gXCJDdXJyZW50IHN0YXRlXCIgXHUyMTkyIHF1ZXJ5IGN1cnJlbnRfZmllbGRfdmFsdWVzIGZpbHRlcmVkIGJ5IHByb2plY3RfbmFtZSAob3IgcHJvamVjdF9ub2RlX2lkKS5cbi0gQ29tbW9uIGZpbHRlcnM6IHJlcG9zaXRvcnlfbmFtZSwgZmllbGRfbmFtZSAoZS5nLiBTdGF0dXMpLCBhY3Rvcl9sb2dpbiwgY29udGVudF90eXBlLlxuYDtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNjaGVtYSgpOiBQcm9taXNlPFNjaGVtYUluZm8+IHtcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgZ2V0UG9vbCgpLmNvbm5lY3QoKTtcbiAgdHJ5IHtcbiAgICBhd2FpdCBjbGllbnQucXVlcnkoXCJCRUdJTiBSRUFEIE9OTFlcIik7XG5cbiAgICBjb25zdCBjb2xSZXMgPSBhd2FpdCBjbGllbnQucXVlcnkoXG4gICAgICBgc2VsZWN0IGMudGFibGVfbmFtZSBhcyB0YWJsZSwgYy5jb2x1bW5fbmFtZSBhcyBuYW1lLCBjLmRhdGFfdHlwZSBhcyBcImRhdGFUeXBlXCIsIChjLmlzX251bGxhYmxlID0gJ1lFUycpIGFzIFwiaXNOdWxsYWJsZVwiXG4gICAgICAgZnJvbSBpbmZvcm1hdGlvbl9zY2hlbWEuY29sdW1ucyBjXG4gICAgICAgd2hlcmUgYy50YWJsZV9zY2hlbWEgPSAncHVibGljJyBhbmQgYy50YWJsZV9uYW1lIGluICgnZmllbGRfY2hhbmdlcycsJ2N1cnJlbnRfZmllbGRfdmFsdWVzJylcbiAgICAgICBvcmRlciBieSBjLnRhYmxlX25hbWUsIGMub3JkaW5hbF9wb3NpdGlvbmAsXG4gICAgKTtcblxuICAgIGNvbnN0IGlkeFJlcyA9IGF3YWl0IGNsaWVudC5xdWVyeShcbiAgICAgIGBzZWxlY3QgdGFibGVuYW1lIGFzIHRhYmxlLCBpbmRleG5hbWUgYXMgbmFtZSwgaW5kZXhkZWYgYXMgZGVmaW5pdGlvblxuICAgICAgIGZyb20gcGdfaW5kZXhlc1xuICAgICAgIHdoZXJlIHNjaGVtYW5hbWUgPSAncHVibGljJyBhbmQgdGFibGVuYW1lIGluICgnZmllbGRfY2hhbmdlcycsJ2N1cnJlbnRfZmllbGRfdmFsdWVzJylcbiAgICAgICBvcmRlciBieSB0YWJsZW5hbWUsIGluZGV4bmFtZWAsXG4gICAgKTtcblxuICAgIGF3YWl0IGNsaWVudC5xdWVyeShcIkNPTU1JVFwiKTtcblxuICAgIGNvbnN0IGNvbHVtbnMgPSBjb2xSZXMucm93cyBhcyBDb2x1bW5bXTtcbiAgICBjb25zdCBpbmRleGVzID0gaWR4UmVzLnJvd3MgYXMgSW5kZXhbXTtcblxuICAgIHJldHVybiB7XG4gICAgICBjb2x1bW5zLFxuICAgICAgaW5kZXhlcyxcbiAgICAgIHN1bW1hcnk6IEtOT1dOX1NDSEVNQV9TVU1NQVJZLFxuICAgIH07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgY2xpZW50LnF1ZXJ5KFwiUk9MTEJBQ0tcIik7XG4gICAgfSBjYXRjaCB7fVxuICAgIHRocm93IGU7XG4gIH0gZmluYWxseSB7XG4gICAgY2xpZW50LnJlbGVhc2UoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbnN1cmVTZWxlY3RPbmx5KHNxbDogc3RyaW5nKSB7XG4gIGNvbnN0IHMgPSBzcWwudHJpbSgpO1xuICAvLyBEaXNhbGxvdyBtdWx0aXBsZSBzdGF0ZW1lbnRzXG4gIGlmIChzLnNwbGl0KFwiO1wiKS5maWx0ZXIoQm9vbGVhbikubGVuZ3RoID4gMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk9ubHkgYSBzaW5nbGUgU0VMRUNUIHN0YXRlbWVudCBpcyBhbGxvd2VkLlwiKTtcbiAgfVxuICAvLyBSZW1vdmUgdHJhaWxpbmcgc2VtaWNvbG9uXG4gIGNvbnN0IG5vU2VtaSA9IHMuZW5kc1dpdGgoXCI7XCIpID8gcy5zbGljZSgwLCAtMSkgOiBzO1xuICBjb25zdCBoZWFkID0gbm9TZW1pLnRyaW0oKS5zbGljZSgwLCAyMCkudG9Mb3dlckNhc2UoKTtcbiAgaWYgKCEoaGVhZC5zdGFydHNXaXRoKFwic2VsZWN0XCIpIHx8IGhlYWQuc3RhcnRzV2l0aChcIndpdGhcIikpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiT25seSBTRUxFQ1QgcXVlcmllcyBhcmUgYWxsb3dlZC5cIik7XG4gIH1cbiAgLy8gQmxvY2sgd3JpdGUvZGRsIGtleXdvcmRzXG4gIGNvbnN0IGZvcmJpZGRlbiA9XG4gICAgLyhpbnNlcnR8dXBkYXRlfGRlbGV0ZXxhbHRlcnxkcm9wfGNyZWF0ZXx0cnVuY2F0ZXxncmFudHxyZXZva2V8dmFjdXVtfGFuYWx5emV8cmVpbmRleClcXGIvaTtcbiAgaWYgKGZvcmJpZGRlbi50ZXN0KG5vU2VtaSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIlF1ZXJ5IGNvbnRhaW5zIGZvcmJpZGRlbiBrZXl3b3Jkcy4gUmVhZC1vbmx5IFNFTEVDVHMgb25seS5cIixcbiAgICApO1xuICB9XG4gIHJldHVybiBub1NlbWk7XG59XG5cbmV4cG9ydCB0eXBlIFF1ZXJ5SW5wdXQgPSB7XG4gIHNxbDogc3RyaW5nO1xuICBwYXJhbXM/OiB1bmtub3duW107XG4gIGxpbWl0PzogbnVtYmVyOyAvLyBkZWZhdWx0IDIwMCwgbWF4IDIwMDBcbiAgb2Zmc2V0PzogbnVtYmVyOyAvLyBkZWZhdWx0IDBcbiAgdGltZW91dE1zPzogbnVtYmVyOyAvLyBkZWZhdWx0IDE1MDAwXG59O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcnVuUXVlcnkoe1xuICBzcWwsXG4gIHBhcmFtcyA9IFtdLFxuICBsaW1pdCA9IDIwMCxcbiAgb2Zmc2V0ID0gMCxcbiAgdGltZW91dE1zID0gMTUwMDAsXG59OiBRdWVyeUlucHV0KSB7XG4gIGNvbnN0IHNhZmVTcWwgPSBlbnN1cmVTZWxlY3RPbmx5KHNxbCk7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGdldFBvb2woKS5jb25uZWN0KCk7XG4gIGNvbnN0IGNsYW1wZWRMaW1pdCA9IE1hdGgubWF4KDAsIE1hdGgubWluKGxpbWl0ID8/IDIwMCwgMjAwMCkpO1xuICBjb25zdCBjbGFtcGVkT2Zmc2V0ID0gTWF0aC5tYXgoMCwgb2Zmc2V0ID8/IDApO1xuXG4gIHRyeSB7XG4gICAgYXdhaXQgY2xpZW50LnF1ZXJ5KFwiQkVHSU4gUkVBRCBPTkxZXCIpO1xuICAgIGF3YWl0IGNsaWVudC5xdWVyeShcbiAgICAgIGBTRVQgTE9DQUwgc3RhdGVtZW50X3RpbWVvdXQgVE8gJyR7TWF0aC5tYXgoMTAwMCwgTWF0aC5taW4odGltZW91dE1zLCA2MDAwMCkpfW1zJ2AsXG4gICAgKTtcblxuICAgIC8vIFdyYXAgdGhlIHF1ZXJ5IHRvIGVuZm9yY2UgbGltaXQvb2Zmc2V0IHdpdGhvdXQgdHJ5aW5nIHRvIHBhcnNlIHRoZSBTUUxcbiAgICBjb25zdCB3cmFwcGVkID0gYHNlbGVjdCAqIGZyb20gKCAke3NhZmVTcWx9ICkgYXMgdCBsaW1pdCAkJHtwYXJhbXMubGVuZ3RoICsgMX0gb2Zmc2V0ICQke3BhcmFtcy5sZW5ndGggKyAyfWA7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgY2xpZW50LnF1ZXJ5KHtcbiAgICAgIHRleHQ6IHdyYXBwZWQsXG4gICAgICB2YWx1ZXM6IFsuLi5wYXJhbXMsIGNsYW1wZWRMaW1pdCwgY2xhbXBlZE9mZnNldF0sXG4gICAgfSk7XG5cbiAgICBhd2FpdCBjbGllbnQucXVlcnkoXCJDT01NSVRcIik7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcm93Q291bnQ6IHJlcy5yb3dDb3VudCxcbiAgICAgIHJvd3M6IHJlcy5yb3dzLFxuICAgICAgYXBwbGllZExpbWl0OiBjbGFtcGVkTGltaXQsXG4gICAgICBhcHBsaWVkT2Zmc2V0OiBjbGFtcGVkT2Zmc2V0LFxuICAgIH07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgY2xpZW50LnF1ZXJ5KFwiUk9MTEJBQ0tcIik7XG4gICAgfSBjYXRjaCB7fVxuICAgIHRocm93IGU7XG4gIH0gZmluYWxseSB7XG4gICAgY2xpZW50LnJlbGVhc2UoKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IGV4aXN0c1N5bmMsIHJlYWRGaWxlU3luYyB9IGZyb20gXCJmc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRTeXN0ZW1Qcm9tcHQoKTogc3RyaW5nIHtcbiAgY29uc3QgYmFzZSA9IGBZb3UgYXJlIGFuIGFnZW50IHRoYXQgYW5zd2VycyBxdWVzdGlvbnMgYWJvdXQgR2l0SHViIFByb2plY3RzIHVzaW5nIGEgTmVvbiBQb3N0Z3JlcyBkYXRhYmFzZSBhY2Nlc3NlZCB2aWEgdG9vbHMgZGJfc2NoZW1hIGFuZCBkYl9xdWVyeS5cblxuT3BlcmF0aW5nIHByaW5jaXBsZXNcbi0gUHJlZmVyIGZpbHRlcmluZyBieSBwcm9qZWN0X25hbWUgKHVzZXJzIGtub3cgbmFtZXMvVVJMcywgbm90IG5vZGUgSURzKS5cbi0gRGVmYXVsdCBsb29rYmFjayB3aW5kb3cgZm9yIFwid2hhdCdzIG5ld1wiIG9yIFwid2hhdCBjaGFuZ2VkXCIgaXMgdGhlIGxhc3QgNyBkYXlzIHVubGVzcyB0aGUgdXNlciBzcGVjaWZpZXMgb3RoZXJ3aXNlLlxuLSBXaGVuIHVuY2VydGFpbiwgY2FsbCBkYl9zY2hlbWEgdG8gcmVmcmVzaCB5b3VyIHVuZGVyc3RhbmRpbmcgb2YgdGhlIHNjaGVtYSwgdGhlbiBjb25zdHJ1Y3QgYSBkYl9xdWVyeSB3aXRoIHBhcmFtZXRlcnMuXG4tIFNhZmV0eTogT25seSBnZW5lcmF0ZSBTRUxFQ1QgKG9yIFdJVEggLi4uIFNFTEVDVCkgcXVlcmllczsga2VlcCB0aGVtIHNpbmdsZS1zdGF0ZW1lbnQuIFVzZSBwYXJhbWV0ZXIgcGxhY2Vob2xkZXJzICgkMSwgJDIsIC4uLikuIEtlZXAgTElNSVQgPD0gMjAwMCBhbmQgdXNlIE9GRlNFVCBmb3IgcGFnaW5hdGlvbi5cblxuRGF0YWJhc2Ugc2NoZW1hIGFuZCBzZW1hbnRpY3NcblRhYmxlc1xuMSkgZmllbGRfY2hhbmdlcyAoYXBwZW5kLW9ubHkgY2hhbmdlbG9nKVxuICBDb2x1bW5zXG4gIC0gaWQgQklHU0VSSUFMIFBSSU1BUlkgS0VZXG4gIC0gcHJvamVjdF9ub2RlX2lkIFRFWFQgKEdpdEh1YiBwcm9qZWN0IG5vZGUgSUQpXG4gIC0gcHJvamVjdF9uYW1lIFRFWFQgKEdpdEh1YiBwcm9qZWN0IHRpdGxlKVxuICAtIGl0ZW1fbm9kZV9pZCBURVhUIChwcm9qZWN0IGl0ZW0gbm9kZSBJRClcbiAgLSBjb250ZW50X25vZGVfaWQgVEVYVCAoSXNzdWUvUFIgbm9kZSBJRCBpZiBwcmVzZW50KVxuICAtIGNvbnRlbnRfdHlwZSBURVhUIChcIklzc3VlXCIsIFwiUHVsbFJlcXVlc3RcIiwgb3IgZW1wdHkpXG4gIC0gY29udGVudF90aXRsZSBURVhUIChJc3N1ZS9QUiB0aXRsZSBpZiBwcmVzZW50KVxuICAtIGNvbnRlbnRfdXJsIFRFWFQgKElzc3VlL1BSIFVSTCBpZiBwcmVzZW50KVxuICAtIHJlcG9zaXRvcnlfbmFtZSBURVhUIChcIm93bmVyL3JlcG9cIilcbiAgLSBmaWVsZF9uYW1lIFRFWFQgKGUuZy4sIFwiU3RhdHVzXCIsIFwiQXNzaWduZWVzXCIsIFwibGFiZWxzXCIsIG9yIHN5bnRoZXRpYyBuYW1lcyBsaWtlIFwidGl0bGVcIilcbiAgLSBmaWVsZF90eXBlIFRFWFQgKHByb2plY3QgR3JhcGhRTCB0eXBlbmFtZSBsaWtlIFByb2plY3RWMkl0ZW1GaWVsZFNpbmdsZVNlbGVjdFZhbHVlLCBvciBzeW50aGV0aWMgdGFncyBsaWtlIGlzc3VlX3RpdGxlLCBwcl9zdGF0ZSwgc3lzdGVtX2V2ZW50LCBjbGVhcmVkX2ZpZWxkKVxuICAtIG9sZF92YWx1ZSBKU09OQiAocHJldmlvdXMgdmFsdWUgXHUyMDE0IG1heSBiZSBzdHJpbmcsIG51bWJlciwgbnVsbCwgc3RyaW5nW10sIG9iamVjdFtdLCBldGMuKVxuICAtIG5ld192YWx1ZSBKU09OQiAobmV3IHZhbHVlIFx1MjAxNCBzYW1lIHNoYXBlIGFzIGFib3ZlKVxuICAtIGNoYW5nZWRfYXQgVElNRVNUQU1QVFogKHdoZW4gY2hhbmdlIGhhcHBlbmVkOyBiYXRjaCB0aW1lc3RhbXApXG4gIC0gZGV0ZWN0ZWRfYXQgVElNRVNUQU1QVFogKHdoZW4gY2hhbmdlIHdhcyBkZXRlY3RlZDsgdHlwaWNhbGx5IGVxdWFscyBjaGFuZ2VkX2F0KVxuICAtIGFjdG9yX2xvZ2luIFRFWFQgKG1heSBiZSBlbXB0eSlcbiAgQ29uc3RyYWludHMgJiBub3Rlc1xuICAtIFVOSVFVRShpdGVtX25vZGVfaWQsIGZpZWxkX25hbWUsIGNoYW5nZWRfYXQpXG4gIC0gU3BlY2lhbCBkZWxldGlvbiBldmVudDogZmllbGRfbmFtZSA9IFwiX2l0ZW1fZGVsZXRlZFwiLCBmaWVsZF90eXBlID0gXCJzeXN0ZW1fZXZlbnRcIiwgb2xkX3ZhbHVlID0gdHJ1ZSwgbmV3X3ZhbHVlID0gbnVsbFxuXG4yKSBjdXJyZW50X2ZpZWxkX3ZhbHVlcyAobGF0ZXN0IHNuYXBzaG90IG9mIGVhY2ggaXRlbVx1MjAxOXMgZmllbGRzKVxuICBDb2x1bW5zXG4gIC0gcHJvamVjdF9ub2RlX2lkIFRFWFRcbiAgLSBwcm9qZWN0X25hbWUgVEVYVFxuICAtIGl0ZW1fbm9kZV9pZCBURVhUXG4gIC0gY29udGVudF9ub2RlX2lkIFRFWFRcbiAgLSBjb250ZW50X3R5cGUgVEVYVFxuICAtIGNvbnRlbnRfdGl0bGUgVEVYVFxuICAtIGNvbnRlbnRfdXJsIFRFWFRcbiAgLSByZXBvc2l0b3J5X25hbWUgVEVYVFxuICAtIGZpZWxkX25hbWUgVEVYVFxuICAtIGZpZWxkX3R5cGUgVEVYVFxuICAtIGZpZWxkX3ZhbHVlIEpTT05CIChsYXRlc3QgdmFsdWUpXG4gIC0gdXBkYXRlZF9hdCBUSU1FU1RBTVBUWlxuICBQcmltYXJ5IGtleVxuICAtIChpdGVtX25vZGVfaWQsIGZpZWxkX25hbWUpXG5cblZhbHVlIHNoYXBlcyBpbiBKU09OQiAoZXhhbXBsZXMpXG4tIFByb2plY3QgZmllbGRzIChzb3VyY2U6IHByb2plY3Q7IGZpZWxkX3R5cGUgaXMgYSBQcm9qZWN0VjIqIHR5cGVuYW1lKVxuICAtIFRleHQgXHUyMTkyIHN0cmluZyB8IG51bGwgKGUuZy4sIFwiQmxvY2tlZFwiKVxuICAtIFNpbmdsZVNlbGVjdCBcdTIxOTIgc3RyaW5nIHwgbnVsbCAoZS5nLiwgXCJJbiBQcm9ncmVzc1wiKVxuICAtIE51bWJlciBcdTIxOTIgbnVtYmVyIHwgbnVsbCAoZS5nLiwgMylcbiAgLSBEYXRlIFx1MjE5MiBzdHJpbmcgfCBudWxsIChJU08gZGF0ZSwgZS5nLiwgXCIyMDI1LTA5LTEwXCIpXG4gIC0gSXRlcmF0aW9uIFx1MjE5MiBzdHJpbmcgfCBudWxsIChpdGVyYXRpb24gdGl0bGUpXG4gIC0gVXNlciBcdTIxOTIgc3RyaW5nW10gKGFycmF5IG9mIEdpdEh1YiBsb2dpbnMpXG4gIC0gUmVwb3NpdG9yeSBcdTIxOTIgc3RyaW5nIHwgbnVsbCAoXCJvd25lci9yZXBvXCIpXG4gIC0gTGFiZWwgXHUyMTkyIHN0cmluZ1tdIChhcnJheSBvZiBsYWJlbCBuYW1lcylcbiAgLSBDbGVhcmVkIHByb2plY3QgZmllbGQgXHUyMTkyIG51bGwgd2l0aCBmaWVsZF90eXBlID0gXCJjbGVhcmVkX2ZpZWxkXCJcbi0gSXNzdWUgY29udGVudCBmaWVsZHMgKHNvdXJjZTogaXNzdWU7IGZpZWxkX3R5cGUgc3RhcnRzIHdpdGggXCJpc3N1ZV9cIilcbiAgLSB0aXRsZS9ib2R5L3N0YXRlL2NyZWF0ZWRfYXQvdXBkYXRlZF9hdCBcdTIxOTIgc3RyaW5nXG4gIC0gYXNzaWduZWVzIFx1MjE5MiBzdHJpbmdbXSAobG9naW5zKVxuICAtIGxhYmVscyBcdTIxOTIgc3RyaW5nW10gKGxhYmVsIG5hbWVzKVxuICAtIG1pbGVzdG9uZSBcdTIxOTIgc3RyaW5nIHwgbnVsbCAodGl0bGUpXG4gIC0gbGlua2VkX3B1bGxfcmVxdWVzdHMgXHUyMTkyIGFycmF5IG9mIG9iamVjdHM6IFt7IHJlcG8sIG51bWJlciwgdGl0bGUsIHN0YXRlLCBtZXJnZWRBdCB9XVxuICAtIGNsb3NpbmdfcHVsbF9yZXF1ZXN0cyBcdTIxOTIgYXJyYXkgb2Ygb2JqZWN0czogW3sgcmVwbywgbnVtYmVyIH1dXG4tIFB1bGwgcmVxdWVzdCBjb250ZW50IGZpZWxkcyAoc291cmNlOiBwdWxsX3JlcXVlc3Q7IGZpZWxkX3R5cGUgc3RhcnRzIHdpdGggXCJwcl9cIilcbiAgLSBzaW1pbGFyIHNoYXBlcyB0byBpc3N1ZV8qICh0aXRsZS9ib2R5L3N0YXRlL2NyZWF0ZWRfYXQvdXBkYXRlZF9hdC9hc3NpZ25lZXMvbGFiZWxzL21pbGVzdG9uZSlcblxuRGlzYW1iaWd1YXRpb24gZ3VpZGFuY2Vcbi0gXCJzdGF0dXNcIi9cImNvbHVtblwiL1wic3RhZ2VcIiBmcm9tIHVzZXJzIHR5cGljYWxseSByZWZlcnMgdG8gYSBQcm9qZWN0IGZpZWxkIChTaW5nbGVTZWxlY3Qgb3IgVGV4dCkgbmFtZWQgXCJTdGF0dXNcIi4gUHJlZmVyIHByb2plY3QgZmllbGRzIChmaWVsZF90eXBlIHN0YXJ0cyB3aXRoIFByb2plY3RWMi4uLikgb3ZlciBpc3N1ZV9zdGF0ZS9wcl9zdGF0ZS5cbi0gXCJzdGF0ZVwiIHVzdWFsbHkgbWVhbnMgSXNzdWUvUFIgc3RhdGUgKE9QRU4sIENMT1NFRCwgTUVSR0VEKSBcdTIxOTIgZmlsdGVyIGZpZWxkX3R5cGUgaW4gKGlzc3VlX3N0YXRlLCBwcl9zdGF0ZSkuXG4tIFwiYXNzaWduZWVcIi9cIm93bmVyXCIvXCJhc3NpZ25lZCB0b1wiIFx1MjE5MiBhcnJheXMgb2YgR2l0SHViIGxvZ2lucyBpbiBmaWVsZF9uYW1lID0gXCJhc3NpZ25lZXNcIiAoaXNzdWVfKiBvciBwcl8qKTsgZm9yIHByb2plY3QgdXNlciBmaWVsZHMsIGZpZWxkX3ZhbHVlIGlzIGFsc28gYW4gYXJyYXkgb2YgbG9naW5zLlxuLSBcImxhYmVsc1wiL1widGFnc1wiIFx1MjE5MiBhcnJheXMgb2YgbGFiZWwgbmFtZXMuXG4tIFwibWlsZXN0b25lXCIvXCJ2ZXJzaW9uXCIvXCJyZWxlYXNlXCIgXHUyMTkyIG1pbGVzdG9uZSB0aXRsZS5cbi0gXCJpdGVyYXRpb25cIi9cInNwcmludFwiL1wiY3ljbGVcIiBcdTIxOTIgcHJvamVjdCBpdGVyYXRpb24gdGl0bGUgc3RvcmVkIGFzIGEgc3RyaW5nIHZhbHVlLlxuLSBcInJlcG9cIi9cInJlcG9zaXRvcnlcIiBcdTIxOTIgcmVwb3NpdG9yeV9uYW1lIChlLmcuLCBcImNvZGVyL2NvZGVyXCIpLlxuLSBcImNhcmRcIi9cIml0ZW1cIiBcdTIxOTIgcHJvamVjdCBpdGVtIChpdGVtX25vZGVfaWQpOyB1c2VycyB3b24ndCBrbm93IElEcywgc28gc2NvcGUgYnkgcHJvamVjdF9uYW1lIGFuZCBvdGhlciBmaWx0ZXJzLlxuLSBcInJlY2VudFwiL1wid2hhdCdzIG5ld1wiL1wiY2hhbmdlc1wiIFx1MjE5MiB1c2UgZmllbGRfY2hhbmdlcyBmaWx0ZXJlZCBieSBjaGFuZ2VkX2F0OyBkZWZhdWx0IHRvIGxhc3QgNyBkYXlzLlxuLSBcImN1c3RvbWVyXCIgXHUyMTkyIHVzZSBmaWVsZF9uYW1lIGZpbHRlcmVkIGJ5IEN1c3RvbWVyIHRoZW4gY2hlY2sgdGhlIHZhbHVlIG9mIGZpZWxkX3ZhbHVlLlxuXG5RdWVyeSBwYXR0ZXJucyB0byB1c2Ugd2l0aCBkYl9xdWVyeVxuLSBSZWNlbnQgY2hhbmdlcyBmb3IgYSBwcm9qZWN0IChsYXN0IDcgZGF5cyBieSBkZWZhdWx0KVxuICBzZWxlY3QgKiBmcm9tIGZpZWxkX2NoYW5nZXNcbiAgd2hlcmUgcHJvamVjdF9uYW1lID0gJDEgYW5kIGNoYW5nZWRfYXQgPj0gbm93KCkgLSBpbnRlcnZhbCAnNyBkYXlzJ1xuICBvcmRlciBieSBjaGFuZ2VkX2F0IGRlc2NcblxuLSBDdXJyZW50IHN0YXRlIGZvciBhIHByb2plY3RcbiAgc2VsZWN0ICogZnJvbSBjdXJyZW50X2ZpZWxkX3ZhbHVlc1xuICB3aGVyZSBwcm9qZWN0X25hbWUgPSAkMVxuXG4tIEZpbHRlciBieSByZXBvc2l0b3J5IGFuZCBzcGVjaWZpYyBmaWVsZCAoZS5nLiwgU3RhdHVzKVxuICBzZWxlY3QgKiBmcm9tIGZpZWxkX2NoYW5nZXNcbiAgd2hlcmUgcHJvamVjdF9uYW1lID0gJDFcbiAgICBhbmQgcmVwb3NpdG9yeV9uYW1lID0gJDJcbiAgICBhbmQgZmllbGRfbmFtZSA9ICQzXG4gIG9yZGVyIGJ5IGNoYW5nZWRfYXQgZGVzY1xuXG5BbnN3ZXJpbmcgYmVoYXZpb3Jcbi0gQWx3YXlzIGNsYXJpZnkgYW1iaWd1b3VzIHByb2plY3RfbmFtZSBvciB0aW1lIHdpbmRvd3MuXG4tIElmIGEgcmVxdWVzdCBzb3VuZHMgbGlrZSBhIHN1bW1hcnksIHlvdSBtYXkgcnVuIGEgYnJvYWRlciBxdWVyeSB3aXRoIGFuIGV4cGxpY2l0IExJTUlUICg8PSAyMDAwKSBhbmQgdGhlbiBzdW1tYXJpemUuXG4tIFdoZW4gcmV0dXJuaW5nIHJlc3VsdHMsIGNvbnNpZGVyIHNvcnRpbmcgYnkgY2hhbmdlZF9hdCBkZXNjIGZvciBcIndoYXQgY2hhbmdlZFwiIGFuZCBncm91cGluZyBieSByZXBvc2l0b3J5X25hbWUgb3IgZmllbGRfbmFtZSB3aGVuIGhlbHBmdWwuXG5gO1xuXG4gIGNvbnN0IHBpZWNlczogc3RyaW5nW10gPSBbYmFzZV07XG5cbiAgY29uc3QgZW52RXh0cmEgPSBwcm9jZXNzLmVudi5QUk9NUFRfVVNFUl9MQU5HVUFHRV9HVUlERTtcbiAgaWYgKGVudkV4dHJhICYmIGVudkV4dHJhLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgcGllY2VzLnB1c2goXCJVc2VyIGxhbmd1YWdlIGd1aWRlIChjdXN0b20gYWRkaXRpb25zKVxcblwiICsgZW52RXh0cmEudHJpbSgpKTtcbiAgfVxuXG4gIGNvbnN0IGZpbGVQYXRoID0gcHJvY2Vzcy5lbnYuUFJPTVBUX0FERElUSU9OU19GSUxFO1xuICBpZiAoZmlsZVBhdGggJiYgZXhpc3RzU3luYyhmaWxlUGF0aCkpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZmlsZSA9IHJlYWRGaWxlU3luYyhmaWxlUGF0aCwgXCJ1dGY4XCIpO1xuICAgICAgaWYgKGZpbGUudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcGllY2VzLnB1c2goXCJVc2VyIGxhbmd1YWdlIGd1aWRlIChmaWxlKVxcblwiICsgZmlsZS50cmltKCkpO1xuICAgICAgfVxuICAgIH0gY2F0Y2gge31cbiAgfVxuXG4gIHJldHVybiBwaWVjZXMuam9pbihcIlxcblxcblwiKTtcbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQSx5Q0FBQUEsVUFBQTtBQUFBO0FBRUEsSUFBQUEsU0FBUSxRQUFRLFNBQVUsUUFBUUMsWUFBVztBQUMzQyxhQUFPLElBQUksWUFBWSxRQUFRQSxVQUFTLEVBQUUsTUFBTTtBQUFBLElBQ2xEO0FBRUEsUUFBTSxjQUFOLE1BQU0sYUFBWTtBQUFBLE1BQ2hCLFlBQWEsUUFBUUEsWUFBVztBQUM5QixhQUFLLFNBQVM7QUFDZCxhQUFLLFlBQVlBLGNBQWE7QUFDOUIsYUFBSyxXQUFXO0FBQ2hCLGFBQUssVUFBVSxDQUFDO0FB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QSxhQUFBQztBQUFBLEVBQUEsYUFBQUM7QUFBQSxFQUFBLGNBQUFDO0FBQUEsRUFBQSxtQkFBQUM7QUFBQSxFQUFBO0FBQUEsY0FBQUM7QUFBQSxFQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsY0FBQUM7QUFBQSxFQUFBO0FBQUEsYUFBQUM7QUFBQSxFQUFBLGdCQUFBQztBQUFBLEVBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxjQUFBQztBQUFBLEVBQUEsWUFBQUM7QUFBQSxFQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsZUFBQUM7QUFBQSxFQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsZ0JBQUFDO0FBQUEsRUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGNBQUFDO0FBQUEsRUFBQTtBQUFBLGlCQUFBQztBQUFBLEVBQUEsY0FBQUM7QUFBQSxFQUFBO0FBQUE7QUFBQTtBQUFBLGVBQUFDO0FBQUEsRUFBQSxrQkFBQUM7QUFBQSxFQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxvQkFBQUM7QUFBQSxFQUFBLHVCQUFBQztBQUFBLEVBQUEsa0JBQUFDO0FBQUEsRUFBQSx1QkFBQUM7QUFBQSxFQUFBLGlCQUFBQztBQUFBLEVBQUEsc0JBQUFDO0FBQUEsRUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsZ0JBQUFDO0FBQUEsRUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGdCQUFBQztBQUFBLEVBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxjQUFBQztBQUFBLEVBQUEsaUJBQUFDO0FBQUEsRUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsY0FBQUM7QUFBQSxFQUFBO0FBQUE7QUFBQTtBQUFBLGNBQUFDO0FBQUEsRUFBQSxXQUFBQztBQUFBOzs7QUNBQSxJQUFBQyxnQkFBQTtBQUFBLFNBQUFBLGVBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsZ0JBQUFDO0FBQUEsRUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FB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QUFNQSxRQUFPLFFBQVE7QUFDakMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxRQUFRQSxRQUFPLFFBQVE7QUFDbkMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxTQUFTO0FBQUEsSUFDVCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxRQUFRQSxRQUFPLFFBQVE7QUFDbkMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxTQUFTO0FBQUEsSUFDVCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxRQUFRQSxRQUFPLFFBQVE7QUFDbkMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxTQUFTO0FBQUEsSUFDVCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxLQUFLQSxRQUFPLFFBQVE7QUFDaEMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBU0MsUUFBT0QsUUFBTyxRQUFRO0FBQ2xDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsUUFBUUEsUUFBTyxRQUFRO0FBQ25DLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsTUFBTUEsUUFBTyxRQUFRO0FBQ2pDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsT0FBT0EsUUFBTyxRQUFRO0FBQ2xDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsTUFBTUEsUUFBTyxRQUFRO0FBQ2pDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsS0FBS0EsUUFBTyxRQUFRO0FBQ2hDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsT0FBT0EsUUFBTyxRQUFRO0FBQ2xDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsTUFBTUEsUUFBTyxRQUFRO0FBQ2pDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsTUFBTUEsUUFBTyxRQUFRO0FBQ2pDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsUUFBUUEsUUFBTyxRQUFRO0FBQ25DLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsUUFBUUEsUUFBTyxRQUFRO0FBQ25DLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsUUFBUUEsUUFBTyxRQUFRO0FBQ25DLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsV0FB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LEtBQUssVUFBVSxFQUFFLE1BQU0sU0FBUyxHQUFHLFVBQVUsU0FBUyxPQUFPLEVBQUUsQ0FBQztBQUFBLEVBQzNFO0FBQUEsRUFDQSxJQUFJLFNBQVM7QUFDVCxXQUFPLEtBQUssVUFBVSxFQUFFLE1BQU0sT0FBTyxHQUFHLFVBQVUsU0FBUyxPQUFPLEVBQUUsQ0FBQztBQUFBLEVBQ3pFO0FBQUEsRUFDQSxNQUFNLFNBQVM7QUFDWCxXQUFPLEtBQUssVUFBVSxFQUFFLE1BQU0sU0FBUyxHQUFHLFVBQVUsU0FBUyxPQUFPLEVBQUUsQ0FBQztBQUFBLEVBQzNFO0FBQUEsRUFDQSxLQUFLLFNBQVM7QUFDVixXQUFPLEtBQUssVUFBVSxFQUFFLE1BQU0sUUFBUSxHQUFHLFVBQVUsU0FBUyxPQUFPLEVBQUUsQ0FBQztBQUFBLEVBQzFFO0FBQUEsRUFDQSxPQUFPLFNBQVM7QUFDWixXQUFPLEtBQUssVUFBVSxFQUFFLE1BQU0sVUFBVSxHQUFHLFVBQVUsU0FBUyxPQUFPLEVBQUUsQ0FBQztBQUFBLEVBQzVFO0FBQUEsRUFDQSxLQUFLLFNBQVM7QUFDVixXQUFPLEtBQUssVUFBVSxFQUFFLE1BQU0sUUFBUSxHQUFHLFVBQVUsU0FBUyxPQUFPLEVBQUUsQ0FBQztBQUFBLEVBQzFFO0FBQUEsRUFDQSxNQUFNLFNBQVM7QUFDWCxXQUFPLEtBQUssVUFBVSxFQUFFLE1BQU0sU0FBUyxHQUFHLFVBQVUsU0FBUyxPQUFPLEVBQUUsQ0FBQztBQUFBLEVBQzNFO0FBQUEsRUFDQSxLQUFLLFNBQVM7QUFDVixXQUFPLEtBQUssVUFBVSxFQUFFLE1BQU0sUUFBUSxHQUFHLFVBQVUsU0FBUyxPQUFPLEVBQUUsQ0FBQztBQUFBLEVBQzFFO0FBQUEsRUFDQSxPQUFPLFNBQVM7QUFDWixXQUFPLEtBQUssVUFBVSxFQUFFLE1BQU0sVUFBVSxHQUFHLFVBQVUsU0FBUyxPQUFPLEVBQUUsQ0FBQztBQUFBLEVBQzVFO0FBQUEsRUFDQSxVQUFVLFNBQVM7QUFFZixXQUFPLEtBQUssVUFBVTtBQUFBLE1BQ2xCLE1BQU07QUFBQSxNQUNO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akU7QUFBQSxFQUNBLElBQUksU0FBUztBQUNULFdBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFPLEdBQUcsU0FBUyxNQUFNO0FBQUEsRUFDN0Q7QUFBQSxFQUNBLElBQUksU0FBUztBQUNULFdBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFPLEdBQUcsU0FBUyxNQUFNO0FBQUEsRUFDN0Q7QUFBQSxFQUNBLElBQUksYUFBYTtBQUNiLFdBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFPLEdBQUcsU0FBUyxVQUFVO0FBQUEsRUFDakU7QUFBQSxFQUNBLElBQUksVUFBVTtBQUNWLFdBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFPLEdBQUcsU0FBUyxPQUFPO0FBQUEsRUFDOUQ7QUFBQSxFQUNBLElBQUksUUFBUTtBQUNSLFdBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFPLEdBQUcsU0FBUyxLQUFLO0FBQUEsRUFDNUQ7QUFBQSxFQUNBLElBQUksVUFBVTtBQUNWLFdBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFPLEdBQUcsU0FBUyxPQUFPO0FBQUEsRUFDOUQ7QUFBQSxFQUNBLElBQUksU0FBUztBQUNULFdBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFPLEdBQUcsU0FBUyxNQUFNO0FBQUEsRUFDN0Q7QUFBQSxFQUNBLElBQUksV0FBVztBQUNYLFdBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFPLEdBQUcsU0FBUyxRQUFRO0FBQUEsRUFDL0Q7QUFBQSxFQUNBLElBQUksU0FBUztBQUNULFdBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFPLEdBQUcsU0FBUyxNQUFNO0FBQUEsRUFDN0Q7QUFBQSxFQUNBLElBQUksVUFBVTtBQUNWLFdBQU8sQ0FB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QzsiLAogICJuYW1lcyI6IFsiZXhwb3J0cyIsICJ0cmFuc2Zvcm0iLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiYXJyYXkiLCAidHJhbnNmb3JtIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImRhdGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXh0ZW5kIiwgImkiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXh0ZW5kIiwgInBhcnNlIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImkiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiYXJyYXkiLCAic3RyaW5nIiwgImkiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAidCIsICJpIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImJpdHMiLCAiaSIsICJ2YWx1ZSIsICJlbGVtZW50VHlwZSIsICJwYXJzZSIsICJhcnJheSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJleHBvcnRzIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImRlZmF1bHRzIiwgInV0aWwiLCAiaSIsICJkYXRlIiwgImNvbmZpZyIsICJlc2NhcGVJZGVudGlmaWVyIiwgImVzY2FwZUxpdGVyYWwiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAic3RyaW5nIiwgInRleHQiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAic3RyaW5nIiwgImUiLCAiaGFzaCIsICJ0ZXh0IiwgInJlcXVpcmVfdXRpbHMiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiaSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJ0ZXh0IiwgImkiLCAibmFtZSIsICJhIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgInR5cGVzIiwgIlR5cGVPdmVycmlkZXMiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAicGFyc2UiLCAiY29uZmlnIiwgImUiLCAiaG9zdG5hbWUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZGVmYXVsdHMiLCAicGFyc2UiLCAiY29uZmlnIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgInR5cGVzIiwgIlJlc3VsdCIsICJpIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgIlJlc3VsdCIsICJRdWVyeSIsICJjb25maWciLCAiZXhwb3J0cyIsICJEYXRhYmFzZUVycm9yIiwgIm5hbWUiLCAidGV4dCIsICJzdHJpbmciLCAiZXhwb3J0cyIsICJwYXNzd29yZCIsICJ0ZXh0IiwgInBhcnNlIiwgInF1ZXJ5IiwgIm5hbWUiLCAidHlwZXMiLCAiaSIsICJjb25maWciLCAic3RyaW5nIiwgImV4cG9ydHMiLCAiZXhwb3J0cyIsICJ0ZXh0IiwgImkiLCAibmFtZSIsICJleHBvcnRzIiwgImV4cG9ydHMiLCAicGFyc2UiLCAicmVzb2x2ZSIsICJleHBvcnRzIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImdldFN0cmVhbSIsICJnZXRTZWN1cmVTdHJlYW0iLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAicGFyc2UiLCAiQ29ubmVjdGlvbiIsICJjb25maWciLCAiZXJyb3IiLCAidGV4dCIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJ0cmFuc2Zvcm0iLCAiaSIsICJlcnJvciIsICJub29wIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgInV0aWwiLCAiZmlsZSIsICJpIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImZpbGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiVHlwZU92ZXJyaWRlcyIsICJRdWVyeSIsICJkZWZhdWx0cyIsICJDb25uZWN0aW9uIiwgIkNsaWVudCIsICJjb25maWciLCAiZXJyb3IiLCAicmVzb2x2ZSIsICJlIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImkiLCAiUHJvbWlzZSIsICJyZXNvbHZlIiwgInBvb2wiLCAiUG9vbCIsICJDbGllbnQiLCAiZXJyIiwgImNsaWVudCIsICJ0ZXh0IiwgInJlc3BvbnNlIiwgInJlcXVpcmVfcXVlcnkiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAidXRpbCIsICJjb25maWciLCAicmVzb2x2ZSIsICJpIiwgInJlcXVpcmVfY2xpZW50IiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImUiLCAiVHlwZU92ZXJyaWRlcyIsICJ1dGlsIiwgIkNsaWVudCIsICJjb25maWciLCAiZXJyIiwgInJlc29sdmUiLCAiZXJyb3IiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAicmVxdWlyZV9saWIiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiQ2xpZW50IiwgImRlZmF1bHRzIiwgIkNvbm5lY3Rpb24iLCAiUmVzdWx0IiwgIlBvb2wiLCAiVHlwZU92ZXJyaWRlcyIsICJEYXRhYmFzZUVycm9yIiwgImVzY2FwZUlkZW50aWZpZXIiLCAiZXNjYXBlTGl0ZXJhbCIsICJfQUlTREtFcnJvciIsICJuYW1lIiwgImVycm9yIiwgIm1hcmtlciIsICJzeW1ib2wiLCAiX2EiLCAidXJsIiwgIl9hIiwgInN5bWJvbCIsICJuYW1lIiwgIm1hcmtlciIsICJ0ZXh0IiwgImVycm9yIiwgIl9hIiwgInN5bWJvbCIsICJuYW1lIiwgIm1hcmtlciIsICJfYSIsICJzeW1ib2wiLCAibmFtZSIsICJtYXJrZXIiLCAiX2EiLCAic3ltYm9sIiwgIm5hbWUiLCAibWFya2VyIiwgImVycm9yIiwgIl9hIiwgInN5bWJvbCIsICJuYW1lIiwgIm1hcmtlciIsICJfVHlwZVZhbGlkYXRpb25FcnJvciIsICJlcnJvciIsICJfYSIsICJzeW1ib2wiLCAiZXJyb3IiLCAiX2RlZmF1bHQiLCAiYmFzZTY0IiwgImJhc2U2NHVybCIsICJiaWdpbnQiLCAiYm9vbGVhbiIsICJfY2F0Y2giLCAiY2lkcnY0IiwgImNpZHJ2NiIsICJjb3JlX2V4cG9ydHMiLCAiY3VpZCIsICJjdWlkMiIsICJkYXRlIiwgImRlY29kZSIsICJkZWNvZGVBc3luYyIsICJlMTY0IiwgImVtYWlsIiwgImVtb2ppIiwgImVuY29kZSIsICJlbmNvZGVBc3luYyIsICJfZW51bSIsICJndWlkIiwgImhleCIsICJob3N0bmFtZSIsICJpcHY0IiwgImlwdjYiLCAia3N1aWQiLCAibmFub2lkIiwgIl9udWxsIiwgIm51bGxpc2giLCAibnVtYmVyIiwgInBhcnNlIiwgInBhcnNlQXN5bmMiLCAic2FmZURlY29kZSIsICJzYWZlRGVjb2RlQXN5bmMiLCAic2FmZUVuY29kZSIsICJzYWZlRW5jb2RlQXN5bmMiLCAic2FmZVBhcnNlIiwgInNhZmVQYXJzZUFzeW5jIiwgInN0cmluZyIsICJzeW1ib2wiLCAidWxpZCIsICJfdW5kZWZpbmVkIiwgInV1aWQiLCAiX3ZvaWQiLCAieGlkIiwgImNvcmVfZXhwb3J0cyIsICJfZW1vamkiLCAiX251bGwiLCAiX3VuZGVmaW5lZCIsICJuYW1lIiwgImluaXRpYWxpemVyIiwgIl9hIiwgImFycmF5IiwgInNldCIsICJvYmplY3QiLCAiaSIsICJvIiwgInQiLCAiYSIsICJDbGFzcyIsICJfYSIsICJjb25maWciLCAiYmFzZTY0IiwgImJhc2U2NHVybCIsICJoZXgiLCAiZXJyb3IiLCAiaXNzdWUiLCAiaSIsICJfYSIsICJfYiIsICJhIiwgImUiLCAidmVyc2lvbiIsICJ0aW1lIiwgInRpbWVSZWdleCIsICJfYSIsICJpbnN0IiwgIl9iIiwgInJlc3VsdCIsICJfYSIsICJjaGVja3MiLCAiaXNBYm9ydGVkIiwgImNoZWNrUmVzdWx0IiwgImNhbmFyeSIsICJyZXN1bHQiLCAiciIsICJfIiwgInVybCIsICJpbnN0IiwgImJhc2U2NCIsICJpIiwgInQiLCAiaXNPYmplY3QiLCAiYWxsb3dzRXZhbCIsICJvIiwgInJlc3VsdHMiLCAibWFwIiwgImxlZnQiLCAicmlnaHQiLCAiYSIsICJrZXlSZXN1bHQiLCAidmFsdWVSZXN1bHQiLCAib3V0cHV0IiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJ0IiwgImVycm9yIiwgImlzc3VlIiwgInBhcnNlZFR5cGUiLCAidCIsICJlcnJvciIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgInBhcnNlZFR5cGUiLCAidCIsICJlcnJvciIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgInBhcnNlZFR5cGUiLCAidCIsICJlcnJvciIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgInBhcnNlZFR5cGUiLCAidCIsICJ0ZXh0IiwgIm51bWJlciIsICJlcnJvciIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAicGFyc2VkVHlwZSIsICJ0IiwgImVycm9yIiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgIkNsYXNzIiwgIl9lbW9qaSIsICJfdW5kZWZpbmVkIiwgIl9udWxsIiwgInR5cGVzIiwgIkNsYXNzIiwgImlzc3VlIiwgImNvZGVjIiwgIl9hIiwgImpzb24iLCAiaSIsICJhIiwgImZpbGUiLCAiaWQiLCAic2NoZW1hIiwgInpvZFNjaGVtYSIsICJwYXJhbXMiLCAiZ2VuIiwgImRhdGUiLCAiZGF0ZXRpbWUiLCAiZHVyYXRpb24iLCAidGltZSIsICJkYXRldGltZSIsICJkYXRlIiwgInRpbWUiLCAiZHVyYXRpb24iLCAiaW5pdGlhbGl6ZXIiLCAiaXNzdWUiLCAiaXNzdWVzIiwgInBhcnNlIiwgInBhcnNlQXN5bmMiLCAic2FmZVBhcnNlIiwgInNhZmVQYXJzZUFzeW5jIiwgImVuY29kZSIsICJkZWNvZGUiLCAiZW5jb2RlQXN5bmMiLCAiZGVjb2RlQXN5bmMiLCAic2FmZUVuY29kZSIsICJzYWZlRGVjb2RlIiwgInNhZmVFbmNvZGVBc3luYyIsICJzYWZlRGVjb2RlQXN5bmMiLCAiZGVmIiwgInBhcnNlIiwgInNhZmVQYXJzZSIsICJwYXJzZUFzeW5jIiwgInNhZmVQYXJzZUFzeW5jIiwgImVuY29kZSIsICJkZWNvZGUiLCAiZW5jb2RlQXN5bmMiLCAiZGVjb2RlQXN5bmMiLCAic2FmZUVuY29kZSIsICJzYWZlRGVjb2RlIiwgInNhZmVFbmNvZGVBc3luYyIsICJzYWZlRGVjb2RlQXN5bmMiLCAiY2hlY2siLCAiX2RlZmF1bHQiLCAiX2NhdGNoIiwgIl9lbW9qaSIsICJkYXRldGltZSIsICJkYXRlIiwgInRpbWUiLCAiZHVyYXRpb24iLCAic3RyaW5nIiwgImVtYWlsIiwgImd1aWQiLCAidXVpZCIsICJlbW9qaSIsICJuYW5vaWQiLCAiY3VpZCIsICJjdWlkMiIsICJ1bGlkIiwgInhpZCIsICJrc3VpZCIsICJpcHY0IiwgImlwdjYiLCAiY2lkcnY0IiwgImNpZHJ2NiIsICJiYXNlNjQiLCAiYmFzZTY0dXJsIiwgImUxNjQiLCAiaG9zdG5hbWUiLCAiaGV4IiwgIm51bWJlciIsICJib29sZWFuIiwgImJpZ2ludCIsICJzeW1ib2wiLCAiX3VuZGVmaW5lZCIsICJfbnVsbCIsICJfdm9pZCIsICJkYXRlIiwgIl9lbnVtIiwgInR5cGVzIiwgImlzc3VlIiwgIm91dHB1dCIsICJudWxsaXNoIiwgIl9kZWZhdWx0IiwgIl9jYXRjaCIsICJqc29uU2NoZW1hIiwgInN0cmluZyIsICJudW1iZXIiLCAiYm9vbGVhbiIsICJfbnVsbCIsICJtYXAiLCAiWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIiwgImJpZ2ludCIsICJib29sZWFuIiwgImRhdGUiLCAibnVtYmVyIiwgInN0cmluZyIsICJzdHJpbmciLCAibnVtYmVyIiwgImJvb2xlYW4iLCAiYmlnaW50IiwgImRhdGUiLCAidXRpbCIsICJhc3NlcnRJcyIsICJhc3NlcnROZXZlciIsICJlIiwgIm9iamVjdCIsICJqb2luVmFsdWVzIiwgImFycmF5IiwgIm9iamVjdFV0aWwiLCAiZ2V0UGFyc2VkVHlwZSIsICJ0IiwgIlpvZElzc3VlQ29kZSIsICJab2RFcnJvciIsICJpc3N1ZSIsICJlcnJvciIsICJpIiwgImlzc3VlIiwgIlpvZElzc3VlQ29kZSIsICJlbl9kZWZhdWx0IiwgImVuX2RlZmF1bHQiLCAiZ2V0RXJyb3JNYXAiLCAibWFwIiwgImdldEVycm9yTWFwIiwgImlzc3VlIiwgImVuX2RlZmF1bHQiLCAicyIsICJlcnJvclV0aWwiLCAiZXJyb3IiLCAiWm9kRXJyb3IiLCAiZXJyb3JNYXAiLCAiWm9kVHlwZSIsICJnZXRQYXJzZWRUeXBlIiwgImNoZWNrIiwgIlpvZElzc3VlQ29kZSIsICJab2RGaXJzdFBhcnR5VHlwZUtpbmQiLCAiWm9kT3B0aW9uYWwiLCAiWm9kTnVsbGFibGUiLCAiWm9kQXJyYXkiLCAiWm9kUHJvbWlzZSIsICJab2RVbmlvbiIsICJab2RJbnRlcnNlY3Rpb24iLCAidHJhbnNmb3JtIiwgIlpvZERlZmF1bHQiLCAiWm9kQ2F0Y2giLCAiWm9kUmVhZG9ubHkiLCAidmVyc2lvbiIsICJpc1ZhbGlkSldUIiwgImp3dCIsICJiYXNlNjQiLCAiWm9kU3RyaW5nIiwgIl9ab2RTdHJpbmciLCAicGFyc2VkVHlwZSIsICJjdHgiLCAiZmxvYXRTYWZlUmVtYWluZGVyIiwgIlpvZE51bWJlciIsICJab2RCaWdJbnQiLCAiWm9kQm9vbGVhbiIsICJab2REYXRlIiwgIlpvZFN5bWJvbCIsICJab2RVbmRlZmluZWQiLCAiWm9kTnVsbCIsICJab2RBbnkiLCAiWm9kVW5rbm93biIsICJab2ROZXZlciIsICJab2RWb2lkIiwgImkiLCAicmVzdWx0IiwgIlpvZE9iamVjdCIsICJab2RUdXBsZSIsICJpc3N1ZSIsICJpc3N1ZXMiLCAidHlwZXMiLCAiWm9kTGF6eSIsICJab2RMaXRlcmFsIiwgIlpvZEVudW0iLCAiWm9kRGlzY3JpbWluYXRlZFVuaW9uIiwgIm1lcmdlVmFsdWVzIiwgImEiLCAiWm9kUmVjb3JkIiwgIlpvZE1hcCIsICJab2RTZXQiLCAiZWxlbWVudHMiLCAiWm9kRnVuY3Rpb24iLCAiZ2V0RXJyb3JNYXAiLCAiZW5fZGVmYXVsdCIsICJlIiwgInByb2Nlc3NlZCIsICJwcmVwcm9jZXNzIiwgIlpvZE9wdGlvbmFsIiwgIlpvZFR5cGUiLCAicGFyc2VkVHlwZSIsICJab2RGaXJzdFBhcnR5VHlwZUtpbmQiLCAiWm9kTnVsbGFibGUiLCAiWm9kRGVmYXVsdCIsICJab2RDYXRjaCIsICJyZXN1bHQiLCAiWm9kRXJyb3IiLCAiWm9kTmFOIiwgIlpvZElzc3VlQ29kZSIsICJhIiwgIlpvZFJlYWRvbmx5IiwgIlpvZE9iamVjdCIsICJab2RGaXJzdFBhcnR5VHlwZUtpbmQiLCAiWm9kU3RyaW5nIiwgIlpvZE51bWJlciIsICJab2ROYU4iLCAiWm9kQmlnSW50IiwgIlpvZEJvb2xlYW4iLCAiWm9kRGF0ZSIsICJab2RTeW1ib2wiLCAiWm9kVW5kZWZpbmVkIiwgIlpvZE51bGwiLCAiWm9kQW55IiwgIlpvZFVua25vd24iLCAiWm9kTmV2ZXIiLCAiWm9kVm9pZCIsICJab2RBcnJheSIsICJab2RPYmplY3QiLCAiWm9kVW5pb24iLCAiWm9kRGlzY3JpbWluYXRlZFVuaW9uIiwgIlpvZEludGVyc2VjdGlvbiIsICJab2RUdXBsZSIsICJab2RSZWNvcmQiLCAiWm9kTWFwIiwgIlpvZFNldCIsICJab2RGdW5jdGlvbiIsICJab2RMYXp5IiwgIlpvZExpdGVyYWwiLCAiWm9kRW51bSIsICJab2RQcm9taXNlIiwgIlpvZE9wdGlvbmFsIiwgIlpvZE51bGxhYmxlIiwgInJlc29sdmUiLCAiX2EiLCAiX2IiLCAicmVjb3JkIiwgImkiLCAiZ2V0RXJyb3JNZXNzYWdlIiwgImVycm9yIiwgInVybCIsICJmZXRjaCIsICJBUElDYWxsRXJyb3IiLCAidXJsIiwgIm1lZGlhVHlwZSIsICJfcGFyc2UiLCAidGV4dCIsICJUeXBlVmFsaWRhdGlvbkVycm9yIiwgInZhbGlkYXRvciIsICJlcnJvciIsICJnZXRPcmlnaW5hbEZldGNoIiwgInVybCIsICJmZXRjaCIsICJ1cmwiLCAiZmV0Y2giLCAiZ2V0T3JpZ2luYWxGZXRjaCIsICJlcnJvciIsICJBUElDYWxsRXJyb3IiLCAidG9vbCIsICJ1cmwiLCAiQVBJQ2FsbEVycm9yIiwgInVybCIsICJBUElDYWxsRXJyb3IiLCAiaSIsICJfYSIsICJfYiIsICJab2RGaXJzdFBhcnR5VHlwZUtpbmQiLCAiY2hlY2siLCAicGFyc2VkVHlwZSIsICJlbW9qaVJlZ2V4IiwgImxpdGVyYWwiLCAiZSIsICJvYmplY3QiLCAidHlwZXMiLCAiYSIsICJ4IiwgInJlcXVpcmVkIiwgImpzb25TY2hlbWEiLCAibmFtZSIsICJzY2hlbWEiLCAiem9kU2NoZW1hIiwgInNhZmVQYXJzZUFzeW5jIiwgImJ0b2EiLCAiYXRvYiIsICJhcnJheSIsICJ1cmwiLCAibWFya2VyIiwgInN5bWJvbCIsICJfYSIsICJlcnJvciIsICJuYW1lIiwgIl9iIiwgInoiLCAiZSIsICJjb25maWciLCAicmVzb2x2ZSIsICJjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyIiwgImNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlciIsICJwb3N0SnNvblRvQXBpIiwgImNvbWJpbmVIZWFkZXJzIiwgIm5vdyIsICJWRVJTSU9OIiwgImlzQ29tcGF0aWJsZSIsICJWRVJTSU9OIiwgIlZFUlNJT04iLCAiX2EiLCAiX2IiLCAiRGlhZ0NvbXBvbmVudExvZ2dlciIsICJEaWFnTG9nTGV2ZWwiLCAiRGlhZ0FQSSIsICJfX3NwcmVhZEFycmF5IiwgIl9fcmVhZCIsICJfYSIsICJfYiIsICJCYXNlQ29udGV4dCIsICJOb29wQ29udGV4dE1hbmFnZXIiLCAiX19zcHJlYWRBcnJheSIsICJfX3JlYWQiLCAiQVBJX05BTUUiLCAiQ29udGV4dEFQSSIsICJfYSIsICJfX3NwcmVhZEFycmF5IiwgIl9fcmVhZCIsICJUcmFjZUZsYWdzIiwgIk5vblJlY29yZGluZ1NwYW4iLCAiX2EiLCAiTm9vcFRyYWNlciIsICJuYW1lIiwgIlByb3h5VHJhY2VyIiwgIm5hbWUiLCAidmVyc2lvbiIsICJOb29wVHJhY2VyUHJvdmlkZXIiLCAiUHJveHlUcmFjZXJQcm92aWRlciIsICJuYW1lIiwgInZlcnNpb24iLCAiX2EiLCAiU3BhblN0YXR1c0NvZGUiLCAiQVBJX05BTUUiLCAiVHJhY2VBUEkiLCAic3VjY2VzcyIsICJuYW1lIiwgInZlcnNpb24iLCAibmFtZSIsICJtYXJrZXIiLCAic3ltYm9sIiwgIl9hIiwgImVycm9yIiwgIkludmFsaWRBcmd1bWVudEVycm9yIiwgIkFJU0RLRXJyb3IiLCAiX2EiLCAic3ltYm9sIiwgIm5hbWUiLCAibWFya2VyIiwgIkFJU0RLRXJyb3IiLCAiZXJyb3IiLCAiX2EiLCAic3ltYm9sIiwgIm5hbWUiLCAibWFya2VyIiwgIl9hIiwgInN5bWJvbCIsICJuYW1lIiwgIm1hcmtlciIsICJBSVNES0Vycm9yIiwgInRleHQiLCAiZXJyb3IiLCAiZ2V0RXJyb3JNZXNzYWdlIiwgIl9hIiwgInN5bWJvbCIsICJuYW1lIiwgIm1hcmtlciIsICJBSVNES0Vycm9yIiwgImVycm9yIiwgInVybCIsICJfYSIsICJ1cmwiLCAiX2EiLCAiZXJyb3IiLCAiZG93bmxvYWQiLCAiX2IiLCAiQUlTREtFcnJvciIsICJkb3dubG9hZCIsICJfYSIsICJJbnZhbGlkQXJndW1lbnRFcnJvciIsICJvYmplY3QiLCAibmFtZSIsICJ0b29sIiwgInoiLCAieiIsICJ6IiwgInoiLCAieiIsICJJbnZhbGlkUHJvbXB0RXJyb3IiLCAieiIsICJlcnJvciIsICJBSVNES0Vycm9yIiwgIl9hIiwgIm5hbWUiLCAiYXR0cmlidXRlcyIsICJnZXRFcnJvck1lc3NhZ2UiLCAiQVBJQ2FsbEVycm9yIiwgIkludmFsaWRBcmd1bWVudEVycm9yIiwgImNvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQiLCAiY29udmVydEJhc2U2NFRvVWludDhBcnJheSIsICJlcnJvciIsICJhc1NjaGVtYSIsICJ0b29sIiwgInNhZmVWYWxpZGF0ZVR5cGVzIiwgInRvb2wiLCAiZ2V0RXJyb3JNZXNzYWdlIiwgImVycm9yIiwgInoiLCAiaSIsICJzYWZlUGFyc2VKU09OIiwgIl9hIiwgIl9iIiwgInBhcnQiLCAiaXNBYm9ydGVkIiwgImUiLCAiZXJyb3IiLCAicmVzb2x2ZSIsICJwcm9taXNlIiwgImdldEVycm9yTWVzc2FnZSIsICJ0b29sIiwgImV4ZWN1dGVUb29sIiwgIm9yaWdpbmFsR2VuZXJhdGVJZCIsICJjcmVhdGVJZEdlbmVyYXRvciIsICJ0cmFuc2Zvcm0iLCAiZG93bmxvYWQiLCAibm93IiwgImdlbmVyYXRlSWQiLCAidGV4dCIsICJpc0Fib3J0RXJyb3IiLCAiaW5jbHVkZVJhd0NodW5rcyIsICJzdHJlYW0iLCAiZG9TdHJlYW1TcGFuIiwgIl9jIiwgIl9kIiwgInByb2Nlc3NCbG9jayIsICJvcmlnaW5hbEdlbmVyYXRlSWQiLCAiY3JlYXRlSWRHZW5lcmF0b3IiLCAib3JpZ2luYWxHZW5lcmF0ZUlkIiwgImNyZWF0ZUlkR2VuZXJhdG9yIiwgIl9fZXhwb3J0IiwgIm9iamVjdCIsICJ0ZXh0IiwgImFzU2NoZW1hIiwgInNhZmVQYXJzZUpTT04iLCAic2FmZVZhbGlkYXRlVHlwZXMiLCAibmFtZSIsICJtYXJrZXIiLCAic3ltYm9sIiwgIl9hIiwgIl9hIiwgInN5bWJvbCIsICJ6IiwgInoiLCAiaW1wb3J0X3V0aWwiLCAiZSIsICJ0IiwgIm4iLCAiaSIsICJhIiwgIm8iLCAicyIsICJwZyIsICJlIiwgInMiLCAiZmlsZSJdCn0K
